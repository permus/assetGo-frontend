import{a as jt,b as Bt}from"./chunk-7ZMCP2CW.js";import{a as ut}from"./chunk-AEMIH3VV.js";import{a as pe}from"./chunk-TU4ASAD4.js";import{a as Ot}from"./chunk-2UNPP24U.js";import{a as Dt}from"./chunk-ICRAHNZP.js";import{a as Ct}from"./chunk-X72HCQFE.js";import"./chunk-GGQ7LRWG.js";import"./chunk-C5P3YSZX.js";import{b as B,c as z,d as $,e as Y,g as zt,h as gt,i as Q,k as Z,n as J,o as Ht,p as mt,q as _t,s as pt,v as K,w as me,x as _e}from"./chunk-NCT72HTT.js";import{c as ge,e as At,i as te}from"./chunk-CJRDFAIW.js";import{a as Lt}from"./chunk-JVPHCODG.js";import{a as Xt,b as Ft,f as le}from"./chunk-U3BZGTLI.js";import{$a as h,Ab as rt,Bb as it,Cb as at,Ea as ct,Eb as Wt,Fa as a,Hb as w,Ja as v,Jb as k,L as vt,Lb as q,O as Jt,Oa as W,Pa as xt,Qa as ie,S as wt,Sa as _,T as kt,Ub as de,X as Kt,Y as oe,Za as g,_a as y,a as j,ab as dt,ba as st,ca as O,cb as ot,da as C,db as ae,ea as u,eb as se,ec as It,f as ne,fa as M,fb as ce,fc as F,gb as n,gc as I,hb as o,ib as m,ic as lt,jb as A,kb as L,kc as Tt,la as V,lb as b,mb as p,mc as Vt,nb as d,o as bt,p as x,pa as re,rb as yt,sb as St,tb as Et,ub as U,vb as s,wb as f,xb as P,yb as S}from"./chunk-KOPF5GMC.js";import{a as H,b as G,f as ht}from"./chunk-EQDQRRRY.js";var T=class r{constructor(e,t){this.http=e;this.authService=t}apiUrl=`${Lt.apiUrl}/work-orders`;getAuthHeaders(){let e=this.authService.getToken();return{headers:H({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getComments(e){return this.http.get(`${this.apiUrl}/${e}/comments`,this.getAuthHeaders()).pipe(x(t=>t.data))}getAssignments(e){return this.http.get(`${this.apiUrl}/${e}/assignments`,this.getAuthHeaders()).pipe(x(t=>t.data))}setAssignments(e,t){return this.http.post(`${this.apiUrl}/${e}/assignments`,{user_ids:t},this.getAuthHeaders()).pipe(x(i=>i.data))}deleteAssignment(e,t){return this.http.delete(`${this.apiUrl}/${e}/assignments/${t}`,this.getAuthHeaders())}updateAssignmentStatus(e,t,i){return this.http.put(`${this.apiUrl}/${e}/assignments/${t}`,{status:i},this.getAuthHeaders()).pipe(x(c=>c.data))}getParts(e){return this.http.get(`${this.apiUrl}/${e}/parts`,this.getAuthHeaders()).pipe(x(t=>t.data))}addParts(e,t){return this.http.post(`${this.apiUrl}/${e}/parts`,{items:t},this.getAuthHeaders()).pipe(x(i=>i.data))}updatePart(e,t,i){return this.http.put(`${this.apiUrl}/${e}/parts/${t}`,i,this.getAuthHeaders()).pipe(x(c=>c.data))}deletePart(e,t){return this.http.delete(`${this.apiUrl}/${e}/parts/${t}`,this.getAuthHeaders())}addComment(e,t,i){return this.http.post(`${this.apiUrl}/${e}/comments`,{comment:t,meta:i},this.getAuthHeaders()).pipe(x(c=>c.data))}deleteComment(e,t){return this.http.delete(`${this.apiUrl}/${e}/comments/${t}`,this.getAuthHeaders())}getWorkOrders(e){let t=new Xt;return e&&Object.keys(e).forEach(i=>{let c=e[i];c!=null&&c!==""&&(t=t.set(i,c.toString()))}),this.http.get(this.apiUrl,G(H({},this.getAuthHeaders()),{params:t}))}getWorkOrderById(e){return this.http.get(`${this.apiUrl}/${e}`,this.getAuthHeaders()).pipe(x(t=>t.data))}updateWorkOrderStatus(e,t){return this.http.post(`${this.apiUrl}/${e}/status`,{status_id:t},this.getAuthHeaders()).pipe(x(i=>i.data))}createWorkOrder(e){return this.http.post(this.apiUrl,e,this.getAuthHeaders())}updateWorkOrder(e,t){return this.http.put(`${this.apiUrl}/${e}`,t,this.getAuthHeaders())}deleteWorkOrder(e){return this.http.delete(`${this.apiUrl}/${e}`,this.getAuthHeaders())}getWorkOrderAnalytics(){return this.http.get(`${this.apiUrl}/analytics`,this.getAuthHeaders()).pipe(x(e=>e.data))}getWorkOrderStatistics(){return this.http.get(`${this.apiUrl}/statistics`,this.getAuthHeaders()).pipe(x(e=>e.data))}getWorkOrderCount(e){let t=new Xt;return e&&Object.keys(e).forEach(i=>{let c=e[i];c!=null&&c!==""&&(t=t.set(i,c.toString()))}),this.http.get(`${this.apiUrl}/count`,G(H({},this.getAuthHeaders()),{params:t})).pipe(x(i=>i.data))}getWorkOrderFilters(){return this.http.get(`${this.apiUrl}/filters`,this.getAuthHeaders()).pipe(x(e=>e.data))}getWorkOrderHistory(e){return this.http.get(`${this.apiUrl}/${e}/history`,this.getAuthHeaders()).pipe(x(t=>t.data))}getTimeLogs(e){return this.http.get(`${this.apiUrl}/${e}/time-logs`,this.getAuthHeaders()).pipe(x(t=>t.data))}startTimer(e,t){return this.http.post(`${this.apiUrl}/${e}/time-logs/start`,t,this.getAuthHeaders()).pipe(x(i=>i.data))}stopTimer(e){return this.http.post(`${this.apiUrl}/${e}/time-logs/stop`,{},this.getAuthHeaders()).pipe(x(t=>t.data))}getWorkOrderStats(){return this.http.get(`${this.apiUrl}/statistics`,this.getAuthHeaders()).pipe(x(e=>({total:Object.values(e.status_counts||{}).reduce((t,i)=>t+i,0),open:e.status_counts?.open||0,inProgress:e.status_counts?.["in-progress"]||0,completed:e.status_counts?.completed||0,critical:e.priority_counts?.critical||0})))}static \u0275fac=function(t){return new(t||r)(Kt(Ft),Kt(Dt))};static \u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"root"})};function we(r,e){if(r&1){let t=b();n(0,"div",28)(1,"input",29),p("change",function(c){O(t);let l=d();return C(l.onSelectionChange(c))}),o()()}if(r&2){let t=d();a(),g("checked",t.isSelected)}}function ke(r,e){if(r&1&&(n(0,"span",30),s(1),o()),r&2){let t=d();a(),f(t.getCategoryName())}}function xe(r,e){if(r&1){let t=b();n(0,"div",31)(1,"button",32),p("click",function(){O(t);let c=d();return C(c.viewDetails())}),u(),n(2,"svg",33),m(3,"path",34)(4,"path",35),o(),M(),n(5,"span",36),s(6,"View Details"),o()(),n(7,"button",32),p("click",function(){O(t);let c=d();return C(c.editWorkOrder())}),u(),n(8,"svg",33),m(9,"path",37),o(),M(),n(10,"span",36),s(11,"Edit"),o()(),m(12,"div",38),n(13,"button",39),p("click",function(){O(t);let c=d();return C(c.requestDelete())}),u(),n(14,"svg",40),m(15,"path",41),o(),M(),n(16,"span",42),s(17,"Delete"),o()()()}}function ye(r,e){if(r&1&&(n(0,"p",43),s(1),o()),r&2){let t=d();a(),P(" ",t.workOrder.description," ")}}var $t=class r{constructor(e){this.router=e}workOrder;isListView=!1;showBulkSelection=!1;isSelected=!1;editRequested=new V;deleteRequested=new V;selectionChanged=new V;showMenu=!1;onDocumentClick(){this.showMenu=!1}getStatusSlug(e){return e?typeof e=="string"?e:typeof e=="object"&&e!==null&&"slug"in e?e.slug:String(e):"open"}getPrioritySlug(e){return e?typeof e=="string"?e:typeof e=="object"&&e!==null&&"slug"in e?e.slug:String(e):"medium"}onSelectionChange(e){let t=e.target.checked;this.isSelected=t,this.selectionChanged.emit({workOrderId:this.workOrder.id,selected:t})}getStatusLabel(e){let t=this.getStatusSlug(e);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[t]||t}getPriorityLabel(e){let t=this.getPrioritySlug(e);return{low:"Low",medium:"Medium",high:"High",critical:"Critical",urgent:"Urgent"}[t]||t}getAssigneeName(){if(this.workOrder.assigned_to){if(typeof this.workOrder.assigned_to=="object"&&this.workOrder.assigned_to!==null){let e=this.workOrder.assigned_to,t=e.first_name||"",i=e.last_name||"";return`${t} ${i}`.trim()||"Unassigned"}return String(this.workOrder.assigned_to)}return"Unassigned"}getAssetName(){if(this.workOrder.asset){if(typeof this.workOrder.asset=="object"&&this.workOrder.asset!==null){let e=this.workOrder.asset;return e.name||e.asset_id||"No Asset"}return String(this.workOrder.asset)}return"No Asset"}getLocationName(){if(this.workOrder.location){if(typeof this.workOrder.location=="object"&&this.workOrder.location!==null){let e=this.workOrder.location;return e.name||e.full_path||"No Location"}return String(this.workOrder.location)}return"No Location"}getCreatedBy(){if(this.workOrder.created_by){if(typeof this.workOrder.created_by=="object"&&this.workOrder.created_by!==null){let e=this.workOrder.created_by,t=e.first_name||"",i=e.last_name||"";return`${t} ${i}`.trim()||"Unknown"}return String(this.workOrder.created_by)}return"Unknown"}getCategoryName(){let e=this.workOrder?.category;return e?typeof e=="object"&&e!==null&&"name"in e?e.name||"":typeof e=="string"?e:"":""}viewDetails(){this.router.navigate(["/work-orders",this.workOrder.id]),this.showMenu=!1}editWorkOrder(){this.editRequested.emit(this.workOrder),this.showMenu=!1}toggleMenu(){this.showMenu=!this.showMenu}requestDelete(){this.deleteRequested.emit(this.workOrder),this.showMenu=!1}static \u0275fac=function(t){return new(t||r)(v(At))};static \u0275cmp=W({type:r,selectors:[["app-work-order-card"]],hostBindings:function(t,i){t&1&&p("click",function(){return i.onDocumentClick()},!1,ct)},inputs:{workOrder:"workOrder",isListView:"isListView",showBulkSelection:"showBulkSelection",isSelected:"isSelected"},outputs:{editRequested:"editRequested",deleteRequested:"deleteRequested",selectionChanged:"selectionChanged"},standalone:!1,decls:41,vars:21,consts:[[1,"work-order-card"],["class","bulk-selection-checkbox",4,"ngIf"],[1,"card-header"],[1,"title-section"],[1,"icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"title"],[1,"header-actions"],[1,"badges"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],["class","badge category-badge",4,"ngIf"],[1,"relative",3,"click"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",4,"ngIf"],[1,"card-content"],["class","description",4,"ngIf"],[1,"meta-row"],[1,"meta-item"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"footer-row"],[1,"bulk-selection-checkbox"],["type","checkbox",1,"bulk-checkbox",3,"change","checked"],[1,"badge","category-badge"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"border-t","border-gray-100","my-1"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-sm","text-red-600"],[1,"description"]],template:function(t,i){t&1&&(n(0,"div",0),_(1,we,2,1,"div",1),n(2,"div",2)(3,"div",3)(4,"div",4),u(),n(5,"svg",5),m(6,"path",6),o()(),M(),n(7,"h3",7),s(8),o()(),n(9,"div",8)(10,"div",9)(11,"span",10),s(12),o(),n(13,"span",11),s(14),o(),_(15,ke,2,1,"span",12),o(),n(16,"div",13),p("click",function(l){return l.stopPropagation()}),n(17,"button",14),p("click",function(){return i.toggleMenu()}),u(),n(18,"svg",15),m(19,"circle",16)(20,"circle",17)(21,"circle",18),o()(),_(22,xe,18,0,"div",19),o()()(),M(),n(23,"div",20),_(24,ye,2,1,"p",21),n(25,"div",22)(26,"div",23),u(),n(27,"svg",24),m(28,"path",25),o(),M(),n(29,"span"),s(30),o()(),n(31,"div",23),u(),n(32,"svg",24),m(33,"path",26),o(),M(),n(34,"span"),s(35),w(36,"date"),o()()(),n(37,"div",27)(38,"span"),s(39),w(40,"date"),o()()()()),t&2&&(h("list-view",i.isListView),a(),g("ngIf",i.showBulkSelection),a(7),f(i.workOrder.title),a(3),g("ngClass","status-"+((i.workOrder.status==null?null:i.workOrder.status.slug)||i.workOrder.status||"open")),a(),P(" ",i.getStatusLabel(i.workOrder.status)," "),a(),g("ngClass","priority-"+((i.workOrder.priority==null?null:i.workOrder.priority.slug)||i.workOrder.priority||"medium")),a(),P(" ",i.getPriorityLabel(i.workOrder.priority)," "),a(),g("ngIf",i.getCategoryName()),a(7),g("ngIf",i.showMenu),a(2),g("ngIf",i.workOrder.description),a(6),f(i.getAssigneeName()||"Unknown"),a(5),f(i.workOrder.due_date?k(36,15,i.workOrder.due_date,"MMM d, y"):"N/A"),a(4),S("Created ",k(40,18,i.workOrder.created_at,"MMM d, y")," by ",i.getCreatedBy()||"Unknown",""))},dependencies:[It,I,lt],styles:[".work-order-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;transition:all .2s ease;position:relative}.work-order-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a;border-color:#cbd5e1}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]{position:absolute;top:.75rem;left:.75rem;z-index:10}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:9999px;border:2px solid #60a5fa;background-color:#fff;box-shadow:0 0 0 2px #fff,0 0 0 4px #3b82f626;cursor:pointer;display:inline-block;position:relative;transition:box-shadow .15s ease,border-color .15s ease}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]:checked{background-image:radial-gradient(#3b82f6 45%,transparent 46%);background-repeat:no-repeat;background-position:center;background-size:70% 70%;border-color:#3b82f6;box-shadow:0 0 0 2px #fff,0 0 0 6px #3b82f640}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:.75rem;flex-shrink:0}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0f172a;margin:0;line-height:1.3}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;gap:.4rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.15rem .5rem;border-radius:9999px;font-size:.7rem;font-weight:500;text-transform:capitalize}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-in-progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin-bottom:.75rem;line-height:1.5}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 2rem;margin-top:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#334155;font-size:.9rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#94a3b8}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .footer-row[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;color:#64748b;font-size:.85rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;min-height:auto;padding:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-width:200px}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:2}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.work-order-card[_ngcontent-%COMP%]{padding:1rem;min-height:180px}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{align-self:flex-start}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{gap:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;min-height:auto}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-template-columns:1fr}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{text-align:left;width:100%;border-top:1px solid #f3f4f6;padding-top:1rem;margin-top:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%], .list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{flex:1;min-width:0}}"]})};var tt=class r{http=oe(Ft);base=`${Lt.apiUrl}/meta/work-orders`;status$;priorities$;categories$;getStatus(){return this.status$||(this.status$=this.http.get(`${this.base}/status`).pipe(x(e=>Array.isArray(e)?e:e?.data??[]),vt({bufferSize:1,refCount:!0}))),this.status$}getStatusIdBySlug(e){return this.getStatus().pipe(x(t=>{let i=t.find(c=>c.slug===e);return i?i.id:null}))}getPriorities(){return this.priorities$||(this.priorities$=this.http.get(`${this.base}/priorities`).pipe(x(e=>Array.isArray(e)?e:e?.data??[]),vt({bufferSize:1,refCount:!0}))),this.priorities$}getCategories(){return this.categories$||(this.categories$=this.http.get(`${this.base}/categories`).pipe(x(e=>Array.isArray(e)?e:e?.data??[]),vt({bufferSize:1,refCount:!0}))),this.categories$}clearStatusCache(){this.status$=void 0}clearPrioritiesCache(){this.priorities$=void 0}clearCategoriesCache(){this.categories$=void 0}clearAllCache(){this.clearStatusCache(),this.clearPrioritiesCache(),this.clearCategoriesCache()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"root"})};var Rt=class r{constructor(e){this.elementRef=e}clickOutside=new V;onClick(e){this.elementRef.nativeElement.contains(e)||this.clickOutside.emit()}static \u0275fac=function(t){return new(t||r)(v(re))};static \u0275dir=ie({type:r,selectors:[["","clickOutside",""]],hostBindings:function(t,i){t&1&&p("click",function(l){return i.onClick(l.target)},!1,ct)},outputs:{clickOutside:"clickOutside"}})};function We(r,e){r&1&&(n(0,"span",25),s(1,"All Status"),o())}function Ie(r,e){if(r&1&&(n(0,"div",26)(1,"div",27),u(),n(2,"svg",28),m(3,"path",11),o()(),M(),n(4,"span",29),s(5),o()()),r&2){let t=d();a(),y("background-color",t.getStatusColor(t.getStatusValue())+"20"),a(),y("color",t.getStatusColor(t.getStatusValue())),a(3),f(t.getStatusLabel())}}function Te(r,e){if(r&1){let t=b();n(0,"button",41),p("click",function(){let c=O(t).$implicit,l=d(2);return C(l.selectStatus(c.id))}),n(1,"div",33)(2,"div",42),u(),n(3,"svg",43),m(4,"path",11),o()(),M(),n(5,"div",37)(6,"div",38),s(7),o(),n(8,"div",39),s(9),o()()()()}if(r&2){let t=e.$implicit,i=d(2);h("selected",i.getStatusValue()===t.id),a(2),y("background-color",i.getStatusColor(t.id)+"20"),a(),y("color",i.getStatusColor(t.id)),a(4),f(t.name),a(2),f(i.getStatusDescription(t.id))}}function Ve(r,e){if(r&1){let t=b();n(0,"div",30)(1,"div",31),u(),n(2,"svg",10),m(3,"path",11),o(),s(4," Select Status "),o(),M(),n(5,"button",32),p("click",function(){O(t);let c=d();return C(c.selectStatus(null))}),n(6,"div",33)(7,"div",34),u(),n(8,"svg",35),m(9,"path",36),o()(),M(),n(10,"div",37)(11,"div",38),s(12,"All Status"),o(),n(13,"div",39),s(14,"Show all statuses"),o()()()(),_(15,Te,10,8,"button",40),o()}if(r&2){let t=d();a(15),g("ngForOf",t.statusOptions)}}function Fe(r,e){r&1&&(n(0,"span",25),s(1,"All Priority"),o())}function Ae(r,e){if(r&1&&(n(0,"div",26)(1,"div",44),u(),n(2,"svg",28),m(3,"path",20),o()(),M(),n(4,"span",29),s(5),o()()),r&2){let t=d();a(),y("background-color",t.getPriorityColor(t.getPriorityValue())+"20"),a(),y("color",t.getPriorityColor(t.getPriorityValue())),a(3),f(t.getPriorityLabel())}}function Le(r,e){if(r&1){let t=b();n(0,"button",41),p("click",function(){let c=O(t).$implicit,l=d(2);return C(l.selectPriority(c.id))}),n(1,"div",33)(2,"div",42),u(),n(3,"svg",43),m(4,"path",20),o()(),M(),n(5,"div",37)(6,"div",38),s(7),o(),n(8,"div",39),s(9),o()()()()}if(r&2){let t=e.$implicit,i=d(2);h("selected",i.getPriorityValue()===t.id),a(2),y("background-color",i.getPriorityColor(t.id)+"20"),a(),y("color",i.getPriorityColor(t.id)),a(4),f(t.name),a(2),f(i.getPriorityDescription(t.id))}}function De(r,e){if(r&1){let t=b();n(0,"div",30)(1,"div",31),u(),n(2,"svg",10),m(3,"path",20),o(),s(4," Select Priority "),o(),M(),n(5,"button",32),p("click",function(){O(t);let c=d();return C(c.selectPriority(null))}),n(6,"div",33)(7,"div",34),u(),n(8,"svg",35),m(9,"path",36),o()(),M(),n(10,"div",37)(11,"div",38),s(12,"All Priority"),o(),n(13,"div",39),s(14,"Show all priorities"),o()()()(),_(15,Le,10,8,"button",40),o()}if(r&2){let t=d();a(15),g("ngForOf",t.priorityOptions)}}function ze(r,e){r&1&&(n(0,"span",25),s(1,"All Categories"),o())}function He(r,e){if(r&1&&(n(0,"div",26)(1,"div",45),u(),n(2,"svg",46),m(3,"path",21),o()(),M(),n(4,"span",29),s(5),o()()),r&2){let t=d();a(5),f(t.getCategoryLabel())}}function je(r,e){if(r&1){let t=b();n(0,"button",41),p("click",function(){let c=O(t).$implicit,l=d(2);return C(l.selectCategory(c.id))}),n(1,"div",33)(2,"div",47),u(),n(3,"svg",48),m(4,"path",21),o()(),M(),n(5,"div",37)(6,"div",38),s(7),o(),n(8,"div",39),s(9,"Category"),o()()()()}if(r&2){let t=e.$implicit,i=d(2);h("selected",i.getCategoryValue()===t.id),a(7),f(t.name)}}function Be(r,e){if(r&1){let t=b();n(0,"div",30)(1,"div",31),u(),n(2,"svg",10),m(3,"path",21),o(),s(4," Select Category "),o(),M(),n(5,"button",32),p("click",function(){O(t);let c=d();return C(c.selectCategory(null))}),n(6,"div",33)(7,"div",34),u(),n(8,"svg",35),m(9,"path",36),o()(),M(),n(10,"div",37)(11,"div",38),s(12,"All Categories"),o(),n(13,"div",39),s(14,"Show all categories"),o()()()(),_(15,je,10,3,"button",40),o()}if(r&2){let t=d();a(15),g("ngForOf",t.categoryOptions)}}function $e(r,e){if(r&1){let t=b();n(0,"button",49),p("click",function(){O(t);let c=d();return C(c.clearFilters())}),u(),n(1,"svg",10),m(2,"path",50),o(),s(3," Clear Filters "),o()}}var Nt=class r{constructor(e,t,i,c,l){this.fb=e;this.workOrderService=t;this.assetService=i;this.locationService=c;this.metaService=l;this.filterForm=this.fb.group({search:[""],status_id:[null],priority_id:[null],category_id:[null],asset_id:[""],location_id:[""],assigned_to:[""],is_overdue:[!1],start_date:[""],end_date:[""],due_start_date:[""],due_end_date:[""]}),de(()=>{this.checkFilter()})}filtersChanged=new V;filterForm;isLoading=!1;subscription=new j;showStatusDropdown=!1;showPriorityDropdown=!1;showCategoryDropdown=!1;showAdvanced=!1;showDateRangePicker=!1;showAssetDropdown=!1;showLocationDropdown=!1;sortBy="created_at";sortOrder="desc";statusOptions=[];priorityOptions=[];categoryOptions=[];sortOptions=[{value:"created_at",label:"Created Date"},{value:"due_date",label:"Due Date"},{value:"priority",label:"Priority"},{value:"status",label:"Status"},{value:"title",label:"Title"}];assets=[];locations=[];users=[];ngOnInit(){this.metaService.clearAllCache(),this.loadFilterOptions()}ngOnDestroy(){this.subscription.unsubscribe()}loadFilterOptions(){this.subscription.add(this.metaService.getStatus().subscribe({next:e=>{this.statusOptions=e},error:e=>{console.error("Error loading statuses:",e)}})),this.subscription.add(this.metaService.getPriorities().subscribe({next:e=>{this.priorityOptions=e},error:e=>{console.error("Error loading priorities:",e)}})),this.subscription.add(this.metaService.getCategories().subscribe({next:e=>{this.categoryOptions=e},error:e=>{console.error("Error loading categories:",e)}})),this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:e=>{e.success&&e.data&&(this.assets=e.data.assets||e.data||[])},error:e=>{console.error("Error loading assets:",e)}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:e=>{e.success&&e.data&&(this.locations=e.data.locations||e.data||[])},error:e=>{console.error("Error loading locations:",e)}})),this.subscription.add(this.workOrderService.getWorkOrderFilters().subscribe({next:e=>{this.users=e.users||[]},error:e=>{console.error("Error loading filter options:",e)}}))}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectStatus(e){this.filterForm.patchValue({status_id:e}),this.showStatusDropdown=!1}getStatusLabel(){let e=this.filterForm.value.status_id;if(!e)return"All Status";let t=this.statusOptions.find(i=>i.id===e);return t?t.name:"All Status"}togglePriorityDropdown(){this.showPriorityDropdown=!this.showPriorityDropdown,this.showStatusDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectPriority(e){this.filterForm.patchValue({priority_id:e}),this.showPriorityDropdown=!1}getPriorityLabel(){let e=this.filterForm.value.priority_id;if(!e)return"All Priority";let t=this.priorityOptions.find(i=>i.id===e);return t?t.name:"All Priority"}toggleAssetDropdown(){this.showAssetDropdown=!this.showAssetDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1}selectAsset(e){this.filterForm.patchValue({asset_id:e===0?null:e}),this.showAssetDropdown=!1}getAssetLabel(){let e=this.filterForm.value.asset_id;if(!e)return"All Assets";let t=this.assets.find(i=>i.id===e);return t?t.name:"All Assets"}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectCategory(e){this.filterForm.patchValue({category_id:e}),this.showCategoryDropdown=!1}getCategoryLabel(){let e=this.filterForm.value.category_id;if(!e)return"All Categories";let t=this.categoryOptions.find(i=>i.id===e);return t?t.name:"All Categories"}getCategoryValue(){return this.filterForm.value.category_id}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1}selectLocation(e){this.filterForm.patchValue({location_id:e===0?null:e}),this.showLocationDropdown=!1}getLocationLabel(){let e=this.filterForm.value.location_id;if(!e)return"All Locations";let t=this.locations.find(i=>i.id===e);return t?t.name:"All Locations"}toggleDateRangePicker(){this.showDateRangePicker=!this.showDateRangePicker}toggleAdvanced(){this.showAdvanced=!this.showAdvanced}setSortBy(e){this.sortBy=e}toggleSortOrder(){this.sortOrder=this.sortOrder==="asc"?"desc":"asc"}onSearch(){this.onFilterChange()}onFilterChange(){let e=this.filterForm.value,t=G(H({},e),{sortBy:this.sortBy,sortOrder:this.sortOrder});Object.keys(t).forEach(i=>{(t[i]===""||t[i]===null||t[i]===void 0)&&delete t[i]}),this.filtersChanged.emit(t)}clearFilters(){this.filterForm.patchValue({search:"",status_id:null,priority_id:null,category_id:null,asset_id:"",location_id:"",assigned_to:"",is_overdue:!1,start_date:"",end_date:"",due_start_date:"",due_end_date:""}),this.sortBy="created_at",this.sortOrder="desc",this.showAdvanced=!1,this.showDateRangePicker=!1,this.onFilterChange()}checkFilter(){let{status_id:e,priority_id:t,category_id:i,search:c}=this.filterForm.value;return!!(e||t||i||c&&c.trim()!=="")}onDocumentClick(e){e.target.closest(".filter-dropdown")||(this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1)}getAssetName(e){let t=this.assets.find(i=>i.id===e);return t?t.name:""}getLocationName(e){let t=this.locations.find(i=>i.id===e);return t?t.name:""}getStatusValue(){return this.filterForm.value.status_id}getPriorityValue(){return this.filterForm.value.priority_id}getAssetValue(){return this.filterForm.value.asset_id}getLocationValue(){return this.filterForm.value.location_id}getStatusColor(e){if(!e)return"#6B7280";let t=this.statusOptions.find(c=>c.id===e);return t&&{open:"#10B981","in-progress":"#F59E0B",completed:"#3B82F6",cancelled:"#EF4444",pending:"#8B5CF6"}[t.slug]||"#6B7280"}getPriorityColor(e){if(!e)return"#6B7280";let t=this.priorityOptions.find(c=>c.id===e);return t&&{low:"#10B981",medium:"#F59E0B",high:"#F97316",critical:"#EF4444"}[t.slug]||"#6B7280"}getStatusDescription(e){if(!e)return"Work order status";let t=this.statusOptions.find(c=>c.id===e);return t&&{open:"Work order is open and ready for assignment","in-progress":"Work order is currently being worked on",completed:"Work order has been completed successfully",cancelled:"Work order has been cancelled",pending:"Work order is pending approval or resources"}[t.slug]||"Work order status"}getPriorityDescription(e){if(!e)return"Work order priority level";let t=this.priorityOptions.find(c=>c.id===e);return t&&{low:"Low priority - can be addressed when convenient",medium:"Medium priority - should be addressed soon",high:"High priority - needs immediate attention",critical:"Critical priority - requires immediate action"}[t.slug]||"Work order priority level"}static \u0275fac=function(t){return new(t||r)(v(K),v(T),v(Ot),v(Ct),v(tt))};static \u0275cmp=W({type:r,selectors:[["app-work-order-filters"]],outputs:{filtersChanged:"filtersChanged"},standalone:!1,decls:53,vars:23,consts:[[1,"filters-section"],[1,"filters-container",3,"formGroup"],[1,"search-input-wrapper"],[1,"search-input"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","formControlName","search","placeholder","Search work orders by title, description, or asset...",1,"search-field",3,"keydown.enter"],[1,"filter-grid"],[1,"filter-dropdown",3,"clickOutside"],[1,"filter-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"relative",3,"click"],["type","button",1,"filter-button",3,"click"],[1,"button-content"],["class","placeholder-text",4,"ngIf"],["class","selected-option",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"chevron-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"action-buttons"],["type","button",1,"action-btn","secondary"],["type","button",1,"action-btn","primary",3,"click"],[1,"placeholder-text"],[1,"selected-option"],[1,"status-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"selected-text"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-option",3,"click"],[1,"option-content"],[1,"option-icon","bg-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"option-text"],[1,"option-label"],[1,"option-description"],["type","button","class","dropdown-option",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-option",3,"click"],[1,"option-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"priority-indicator"],[1,"category-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],[1,"option-icon","bg-purple-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["type","button",1,"action-btn","secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(),n(4,"svg",4),m(5,"path",5),o(),M(),n(6,"input",6),p("keydown.enter",function(){return i.onSearch()}),o()()(),n(7,"div",7)(8,"div",8),p("clickOutside",function(){return i.showStatusDropdown=!1}),n(9,"label",9),u(),n(10,"svg",10),m(11,"path",11),o(),s(12," Status "),o(),M(),n(13,"div",12),p("click",function(l){return l.stopPropagation()}),n(14,"button",13),p("click",function(){return i.toggleStatusDropdown()}),n(15,"div",14),_(16,We,2,0,"span",15)(17,Ie,6,5,"div",16),u(),n(18,"svg",17),m(19,"path",18),o()()(),_(20,Ve,16,1,"div",19),o()(),M(),n(21,"div",8),p("clickOutside",function(){return i.showPriorityDropdown=!1}),n(22,"label",9),u(),n(23,"svg",10),m(24,"path",20),o(),s(25," Priority "),o(),M(),n(26,"div",12),p("click",function(l){return l.stopPropagation()}),n(27,"button",13),p("click",function(){return i.togglePriorityDropdown()}),n(28,"div",14),_(29,Fe,2,0,"span",15)(30,Ae,6,5,"div",16),u(),n(31,"svg",17),m(32,"path",18),o()()(),_(33,De,16,1,"div",19),o()(),M(),n(34,"div",8),p("clickOutside",function(){return i.showCategoryDropdown=!1}),n(35,"label",9),u(),n(36,"svg",10),m(37,"path",21),o(),s(38," Category "),o(),M(),n(39,"div",12),p("click",function(l){return l.stopPropagation()}),n(40,"button",13),p("click",function(){return i.toggleCategoryDropdown()}),n(41,"div",14),_(42,ze,2,0,"span",15)(43,He,6,1,"div",16),u(),n(44,"svg",17),m(45,"path",18),o()()(),_(46,Be,16,1,"div",19),o()()(),M(),n(47,"div",22),_(48,$e,4,0,"button",23),n(49,"button",24),p("click",function(){return i.onSearch()}),u(),n(50,"svg",10),m(51,"path",5),o(),s(52," Apply Filters "),o()()()()),t&2&&(a(),g("formGroup",i.filterForm),a(13),h("active",i.showStatusDropdown),a(2),g("ngIf",!i.getStatusLabel()||i.getStatusLabel()==="All Status"),a(),g("ngIf",i.getStatusLabel()&&i.getStatusLabel()!=="All Status"),a(),h("rotate-180",i.showStatusDropdown),a(2),g("ngIf",i.showStatusDropdown),a(7),h("active",i.showPriorityDropdown),a(2),g("ngIf",!i.getPriorityLabel()||i.getPriorityLabel()==="All Priority"),a(),g("ngIf",i.getPriorityLabel()&&i.getPriorityLabel()!=="All Priority"),a(),h("rotate-180",i.showPriorityDropdown),a(2),g("ngIf",i.showPriorityDropdown),a(7),h("active",i.showCategoryDropdown),a(2),g("ngIf",!i.getCategoryLabel()||i.getCategoryLabel()==="All Categories"),a(),g("ngIf",i.getCategoryLabel()&&i.getCategoryLabel()!=="All Categories"),a(),h("rotate-180",i.showCategoryDropdown),a(2),g("ngIf",i.showCategoryDropdown),a(2),ot(i.checkFilter()?48:-1))},dependencies:[F,I,B,$,Y,Z,J,Rt],styles:[".filters-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:2rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{position:relative;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #e5e7eb;border-radius:12px;font-size:1rem;background:#f9fafb;transition:all .3s ease;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;background:#fff;box-shadow:0 0 0 4px #2563eb1a;transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;font-size:1.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{width:100%;padding:0 1rem;text-align:left;border:2px solid #e5e7eb;border-radius:12px;background:#fff;color:#374151;font-size:.875rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:space-between;min-height:56px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button.active[_ngcontent-%COMP%]{border-color:#2563eb;background:#eff6ff;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .category-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .asset-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .location-indicator[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .3s ease;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);left:0;right:0;background:#fff;border:2px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;z-index:50;max-height:20rem;overflow:auto;animation:_ngcontent-%COMP%_slideDown .2s ease-out}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem;font-size:.75rem;font-weight:700;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background:#f9fafb;border-radius:12px 12px 0 0;display:flex;align-items:center;border-bottom:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;color:#374151;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;border-bottom:1px solid #f3f4f6}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:focus{background-color:#f8fafc;outline:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;text-align:start;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:2px solid transparent;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#fff;border-color:#d1d5db;color:#6b7280}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{border-color:#9ca3af;color:#374151;background:#f9fafb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 4px 6px -1px #2563eb4d}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1400px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}}@media (max-width: 1200px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem}}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.filters-section[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{padding:.875rem .875rem .875rem 2.75rem;font-size:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:1rem;left:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{padding:.875rem;min-height:48px;font-size:.8rem}}"]})};function Ne(r,e){r&1&&(n(0,"div",17),m(1,"div",18),n(2,"p"),s(3,"Loading form..."),o()())}function Ge(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("title")," ")}}function Ue(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("priority")," ")}}function qe(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("due_date")," ")}}function Ye(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("description")," ")}}function Qe(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("estimated_hours")," ")}}function Ze(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("notes")," ")}}function Je(r,e){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),S(" ",t.name," (",t.asset_id,") ")}}function Ke(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("asset_id")," ")}}function Xe(r,e){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),P(" ",t.name," ")}}function tn(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("location_id")," ")}}function en(r,e){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),S(" ",t.first_name," ",t.last_name," ")}}function nn(r,e){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let t=d(3);a(),P(" ",t.getFieldError("assigned_to")," ")}}function on(r,e){if(r&1){let t=b();n(0,"form",19),p("ngSubmit",function(){O(t);let c=d(2);return C(c.onSubmit())}),n(1,"div",20)(2,"h3",21),s(3,"Basic Information"),o(),n(4,"div",22)(5,"div",23)(6,"label",24),s(7,"Title *"),o(),m(8,"input",25),_(9,Ge,2,1,"div",26),o()(),n(10,"div",22)(11,"div",23)(12,"label",27),s(13,"Priority *"),o(),n(14,"select",28)(15,"option",29),s(16,"Select Priority"),o(),n(17,"option",30),s(18,"Low"),o(),n(19,"option",31),s(20,"Medium"),o(),n(21,"option",32),s(22,"High"),o(),n(23,"option",33),s(24,"Critical"),o(),n(25,"option",34),s(26,"Urgent"),o()(),_(27,Ue,2,1,"div",26),o(),n(28,"div",23)(29,"label",35),s(30,"Due Date"),o(),m(31,"input",36),_(32,qe,2,1,"div",26),o()(),n(33,"div",22)(34,"div",23)(35,"label",37),s(36,"Description"),o(),m(37,"textarea",38),_(38,Ye,2,1,"div",26),o()(),n(39,"div",22)(40,"div",23)(41,"label",39),s(42,"Estimated Hours"),o(),m(43,"input",40),_(44,Qe,2,1,"div",26),o(),n(45,"div",23)(46,"label",41),s(47,"Notes"),o(),m(48,"textarea",42),_(49,Ze,2,1,"div",26),o()()(),n(50,"div",20)(51,"h3",21),s(52,"Assignment & Asset"),o(),n(53,"div",22)(54,"div",23)(55,"label",43),s(56,"Asset"),o(),n(57,"select",44)(58,"option",29),s(59,"Select Asset"),o(),_(60,Je,2,3,"option",45),o(),_(61,Ke,2,1,"div",26),o(),n(62,"div",23)(63,"label",46),s(64,"Location"),o(),n(65,"select",47)(66,"option",29),s(67,"Select Location"),o(),_(68,Xe,2,2,"option",45),o(),_(69,tn,2,1,"div",26),o()(),n(70,"div",22)(71,"div",23)(72,"label",48),s(73,"Assign To Team Member (Optional)"),o(),n(74,"select",49)(75,"option",29),s(76,"Select Assignee"),o(),_(77,en,2,3,"option",45),o(),_(78,nn,2,1,"div",26),n(79,"div",50)(80,"small"),s(81,"Select an existing team member to assign the work order to"),o()()()()()()}if(r&2){let t=d(2);g("formGroup",t.editForm),a(8),h("error",t.isFieldInvalid("title")),a(),g("ngIf",t.isFieldInvalid("title")),a(5),h("error",t.isFieldInvalid("priority")),a(13),g("ngIf",t.isFieldInvalid("priority")),a(),h("error",t.hasFieldError("due_date")),a(3),h("error-input",t.hasFieldError("due_date")),a(),g("ngIf",t.hasFieldError("due_date")),a(2),h("error",t.hasFieldError("description")),a(3),h("error-input",t.hasFieldError("description")),a(),g("ngIf",t.hasFieldError("description")),a(2),h("error",t.hasFieldError("estimated_hours")),a(3),h("error-input",t.hasFieldError("estimated_hours")),a(),g("ngIf",t.hasFieldError("estimated_hours")),a(),h("error",t.hasFieldError("notes")),a(3),h("error-input",t.hasFieldError("notes")),a(),g("ngIf",t.hasFieldError("notes")),a(5),h("error",t.hasFieldError("asset_id")),a(3),h("error-input",t.hasFieldError("asset_id")),a(3),g("ngForOf",t.assets),a(),g("ngIf",t.hasFieldError("asset_id")),a(),h("error",t.hasFieldError("location_id")),a(3),h("error-input",t.hasFieldError("location_id")),a(3),g("ngForOf",t.locations),a(),g("ngIf",t.hasFieldError("location_id")),a(2),h("error",t.hasFieldError("assigned_to")),a(3),h("error-input",t.hasFieldError("assigned_to")),a(3),g("ngForOf",t.users),a(),g("ngIf",t.hasFieldError("assigned_to"))}}function rn(r,e){r&1&&(u(),n(0,"svg",53),m(1,"circle",54)(2,"path",55),o())}function an(r,e){if(r&1){let t=b();n(0,"div",1),p("click",function(){O(t);let c=d();return C(c.closeModal())}),n(1,"div",2),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",3)(3,"h2",4),u(),n(4,"svg",5),m(5,"path",6),o(),s(6," Edit Work Order "),o(),M(),n(7,"button",7),p("click",function(){O(t);let c=d();return C(c.closeModal())}),u(),n(8,"svg",8),m(9,"path",9),o()()(),M(),n(10,"div",10),_(11,Ne,4,0,"div",11)(12,on,82,45,"form",12),o(),n(13,"div",13)(14,"button",14),p("click",function(){O(t);let c=d();return C(c.closeModal())}),s(15," Cancel "),o(),n(16,"button",15),p("click",function(){O(t);let c=d();return C(c.onSubmit())}),_(17,rn,3,0,"svg",16),s(18),o()()()()}if(r&2){let t=d();a(11),g("ngIf",!t.isFormReady),a(),g("ngIf",t.isFormReady),a(4),g("disabled",!t.canSubmit()),a(),g("ngIf",t.isSubmitting),a(),P(" ",t.isSubmitting?"Updating...":"Update Work Order"," ")}}var Mt=class r{constructor(e,t,i,c,l,E){this.fb=e;this.workOrderService=t;this.assetService=i;this.locationService=c;this.teamService=l;this.authService=E}workOrder=null;isOpen=!1;modalClosed=new V;workOrderUpdated=new V;editForm;isSubmitting=!1;get form(){return this.editForm||null}get isFormReady(){return this.editForm&&typeof this.editForm.patchValue=="function"}ensureFormReady(){return this.isFormReady?!0:(console.log("EditWorkOrderModalComponent: Form not ready, initializing now"),this.initForm(),this.isFormReady)}users=[];assets=[];locations=[];teams=[];ngOnInit(){console.log("EditWorkOrderModalComponent: ngOnInit called"),console.log("EditWorkOrderModalComponent: ngOnInit - workOrder:",!!this.workOrder,"isOpen:",this.isOpen),this.initForm(),this.loadDropdownData(),this.workOrder&&this.isFormReady?(console.log("EditWorkOrderModalComponent: WorkOrder found, populating form"),this.populateForm()):this.workOrder?console.log("EditWorkOrderModalComponent: WorkOrder found but form not ready"):console.log("EditWorkOrderModalComponent: No WorkOrder provided")}ngOnChanges(){if(!this.isFormReady&&(this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization in ngOnChanges");return}this.workOrder&&this.isFormReady&&this.populateForm(),this.isOpen&&this.workOrder&&(this.resetForm(),this.populateForm())}resetForm(){if(!this.isFormReady&&(this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization");return}this.isFormReady&&this.editForm&&(this.editForm.reset(),this.editForm.markAsUntouched(),this.editForm.markAsPristine())}initForm(){if(!this.fb){console.error("EditWorkOrderModalComponent: FormBuilder not available");return}try{if(this.editForm=this.fb.group({title:["",[z.required,z.minLength(3),z.maxLength(255)]],priority:["",z.required],due_date:[""],description:["",[z.maxLength(1e3)]],estimated_hours:["",[z.min(0)]],notes:[""],asset_id:[""],location_id:[""],assigned_to:[""]}),!this.editForm||typeof this.editForm.patchValue!="function"){console.error("EditWorkOrderModalComponent: Form not properly initialized"),this.editForm=null;return}}catch(e){console.error("EditWorkOrderModalComponent: Error initializing form:",e),this.editForm=null}}populateForm(){if(!this.workOrder||!this.isFormReady)return;let e=this.workOrder.due_date?new Date(this.workOrder.due_date).toISOString().slice(0,16):"";this.editForm.patchValue({title:this.workOrder.title||"",priority:this.workOrder.priority?.slug||this.workOrder.priority||"",due_date:e,description:this.workOrder.description||"",estimated_hours:this.workOrder.estimated_hours||"",notes:this.workOrder.notes||"",asset_id:this.getFieldValue(this.workOrder.asset),location_id:this.getFieldValue(this.workOrder.location),assigned_to:this.getFieldValue(this.workOrder.assigned_to)})}getFieldValue(e){return e?typeof e=="object"&&"id"in e?e.id:typeof e=="number"||typeof e=="string"?e:"":""}loadDropdownData(){return ht(this,null,function*(){try{let e=yield bt(this.teamService.getTeamMembers());this.users=e?.data||[];let t=yield bt(this.assetService.getAssets({per_page:100}));this.assets=t?.data?.assets||t?.data||[];let i=yield bt(this.locationService.getLocations({per_page:100}));this.locations=i?.data?.locations||[],this.teams=e?.data||[]}catch(e){console.error("Error loading dropdown data:",e)}})}isFieldInvalid(e){if(!this.isFormReady||!this.editForm)return!1;let t=this.editForm.get(e);return!!(t&&t.invalid&&(t.dirty||t.touched))}getFieldError(e){if(!this.isFormReady||!this.editForm)return"";let t=this.editForm.get(e);return!t||!t.errors?"":t.errors.required?`${this.getFieldLabel(e)} is required`:t.errors.minlength?`${this.getFieldLabel(e)} must be at least ${t.errors.minlength.requiredLength} characters`:t.errors.maxlength?`${this.getFieldLabel(e)} must not exceed ${t.errors.maxlength.requiredLength} characters`:t.errors.min?`${this.getFieldLabel(e)} must be at least ${t.errors.min.min}`:"Invalid value"}getFieldLabel(e){return{title:"Title",priority:"Priority",due_date:"Due Date",description:"Description",estimated_hours:"Estimated Hours",notes:"Notes",asset_id:"Asset",location_id:"Location",assigned_to:"Assigned To"}[e]||e}hasFieldError(e){return!this.isFormReady||!this.editForm?!1:this.isFieldInvalid(e)}canSubmit(){if(!this.isFormReady||!this.editForm)return!1;let e=this.editForm.valid,t=!this.isSubmitting,i=e&&t;return console.log("EditWorkOrderModalComponent: canSubmit check:",{formExists:!!this.editForm,formValid:e,notSubmitting:t,result:i,formErrors:this.editForm.errors,formStatus:this.editForm.status}),i}onSubmit(){return ht(this,null,function*(){if(!(!this.isFormReady&&(this.initForm(),!this.isFormReady))){if(!this.isFormReady){console.error("EditWorkOrderModalComponent: Form not ready for submission");return}if(!(this.editForm.invalid||this.isSubmitting||!this.workOrder)){this.isSubmitting=!0;try{let e=this.editForm.value,t={title:e.title,priority:e.priority.id,due_date:e.due_date||null,description:e.description||null,estimated_hours:e.estimated_hours||null,notes:e.notes||null,asset_id:e.asset_id||null,location_id:e.location_id||null,assigned_to:e.assigned_to||null},i=yield bt(this.workOrderService.updateWorkOrder(this.workOrder.id,t));i&&(this.workOrderUpdated.emit(i),this.closeModal())}catch(e){console.error("Error updating work order:",e),e&&typeof e=="object"&&"error"in e&&e.error&&typeof e.error=="object"&&"message"in e.error?console.error("API Error:",e.error.message):e instanceof Error&&e.message&&console.error("Network Error:",e.message)}finally{this.isSubmitting=!1}}}})}closeModal(){this.resetForm(),this.modalClosed.emit()}onModalContentClick(e){e.stopPropagation()}static \u0275fac=function(t){return new(t||r)(v(K),v(T),v(Ot),v(Ct),v(ut),v(Dt))};static \u0275cmp=W({type:r,selectors:[["app-edit-work-order-modal"]],inputs:{workOrder:"workOrder",isOpen:"isOpen"},outputs:{modalClosed:"modalClosed",workOrderUpdated:"workOrderUpdated"},standalone:!1,features:[st],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],["class","loading-state",4,"ngIf"],["class","edit-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-2 animate-spin","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title","placeholder","Enter work order title",1,"form-input"],["class","error-message",4,"ngIf"],["for","priority",1,"form-label"],["id","priority","formControlName","priority",1,"form-select"],["value",""],["value","low"],["value","medium"],["value","high"],["value","critical"],["value","urgent"],["for","due_date",1,"form-label"],["id","due_date","type","date","formControlName","due_date",1,"form-input"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter work order description","rows","3",1,"form-textarea"],["for","estimated_hours",1,"form-label"],["id","estimated_hours","type","number","formControlName","estimated_hours","placeholder","0.0","min","0","step","0.5",1,"form-input"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Additional notes or instructions","rows","3",1,"form-textarea"],["for","asset_id",1,"form-label"],["id","asset_id","formControlName","asset_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","location_id",1,"form-label"],["id","location_id","formControlName","location_id",1,"form-select"],["for","assigned_to",1,"form-label"],["id","assigned_to","formControlName","assigned_to",1,"form-select"],[1,"field-help"],[1,"error-message"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){t&1&&_(0,an,19,5,"div",0),t&2&&g("ngIf",i.isOpen)},dependencies:[F,I,gt,mt,_t,B,Q,Ht,$,Y,pt,Z,J],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:800px;max-height:90vh;overflow-y:auto;position:relative}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb;border-radius:12px 12px 0 0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid #e5e7eb;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 1rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:after{content:" *";color:#dc2626;display:none}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label.required[_ngcontent-%COMP%]:after{display:inline}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease;background-color:#fff}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea.error[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;display:flex;align-items:center;gap:.25rem}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:has(.form-group:only-child){grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 12px 12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:120px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb;border-color:#9ca3af}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8;transform:translateY(-1px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-content[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.75rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}}.modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.btn[_ngcontent-%COMP%]:disabled{position:relative}.btn[_ngcontent-%COMP%]:disabled   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var sn=()=>[1,2,3,4,5,6];function cn(r,e){r&1&&m(0,"div",9)}function dn(r,e){r&1&&(n(0,"div",1)(1,"div",5),m(2,"div",6)(3,"div",7),n(4,"div",8),se(5,cn,1,0,"div",9,ae),o()()()),r&2&&(a(5),ce(Wt(0,sn)))}function ln(r,e){if(r&1&&(n(0,"span",35),s(1),o()),r&2){let t=d(2);a(),P(" (",t.getSelectedCount()," selected) ")}}function gn(r,e){if(r&1){let t=b();n(0,"div",42)(1,"div",43)(2,"button",44),p("click",function(){O(t);let c=d(3);return C(c.updateBulkStatus("open"))}),u(),n(3,"svg",22),m(4,"path",45),o(),s(5," Set Open "),o(),M(),n(6,"button",44),p("click",function(){O(t);let c=d(3);return C(c.updateBulkStatus("in_progress"))}),u(),n(7,"svg",22),m(8,"path",46),o(),s(9," Set In Progress "),o(),M(),n(10,"button",44),p("click",function(){O(t);let c=d(3);return C(c.updateBulkStatus("completed"))}),u(),n(11,"svg",22),m(12,"path",47),o(),s(13," Set Completed "),o()(),M(),n(14,"div",43)(15,"button",44),p("click",function(){O(t);let c=d(3);return C(c.updateBulkPriority("high"))}),u(),n(16,"svg",22),m(17,"path",46),o(),s(18," Set High Priority "),o(),M(),n(19,"button",44),p("click",function(){O(t);let c=d(3);return C(c.updateBulkPriority("critical"))}),u(),n(20,"svg",22),m(21,"path",48),o(),s(22," Set Critical "),o()(),M(),n(23,"button",49),p("click",function(){O(t);let c=d(3);return C(c.deleteBulkWorkOrders())}),u(),n(24,"svg",22),m(25,"path",50),o(),s(26," Delete Selected "),o()()}}function mn(r,e){if(r&1){let t=b();n(0,"div",36)(1,"div",37)(2,"label",38)(3,"input",39),p("change",function(){O(t);let c=d(2);return C(c.toggleSelectAll())}),o(),n(4,"span",40),s(5,"Select All"),o()()(),_(6,gn,27,0,"div",41),o()}if(r&2){let t=d(2);a(3),g("checked",t.isAllSelected())("indeterminate",t.isPartiallySelected()),a(3),g("ngIf",t.showBulkActions)}}function _n(r,e){if(r&1){let t=b();n(0,"div",51)(1,"div",52)(2,"div",53),u(),n(3,"svg",54),m(4,"path",55),o()(),M(),n(5,"div",56)(6,"h3",57),s(7,"No work orders found"),o(),n(8,"p",58),s(9,"Get started by creating your first work order to streamline your maintenance workflows."),o()(),n(10,"div",59)(11,"button",60),p("click",function(){O(t);let c=d(2);return C(c.createWorkOrder())}),u(),n(12,"svg",61),m(13,"path",62),o(),s(14," Create Work Order "),o()()()()}}function pn(r,e){if(r&1){let t=b();n(0,"app-work-order-card",65),p("editRequested",function(c){O(t);let l=d(3);return C(l.editWorkOrder(c))})("deleteRequested",function(c){O(t);let l=d(3);return C(l.deleteWorkOrder(c))})("selectionChanged",function(c){O(t);let l=d(3);return C(l.onCardSelectionChanged(c))}),o()}if(r&2){let t=e.$implicit,i=d(3);g("workOrder",t)("showBulkSelection",!0)("isSelected",i.selectedWorkOrders.has(t.id))}}function On(r,e){if(r&1&&(n(0,"div",63),_(1,pn,1,3,"app-work-order-card",64),o()),r&2){let t=d(2);a(),g("ngForOf",t.workOrders)}}function Cn(r,e){if(r&1&&(n(0,"div",101),s(1),o()),r&2){let t=d().$implicit;a(),f(t.description)}}function un(r,e){if(r&1){let t=b();n(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75),u(),n(4,"svg",76),m(5,"path",77)(6,"path",78),o()(),M(),n(7,"div",79)(8,"div",80),s(9),o(),_(10,Cn,2,1,"div",81),o()()(),n(11,"div",73)(12,"div",82)(13,"span",83),s(14),o(),n(15,"span",84),s(16),o()()(),n(17,"div",73)(18,"div",85)(19,"div",86),u(),n(20,"svg",22),m(21,"path",87),o(),M(),n(22,"span"),s(23),o()(),n(24,"div",86),u(),n(25,"svg",22),m(26,"path",88),o(),M(),n(27,"span"),s(28),o()()()(),n(29,"div",73)(30,"div",89),u(),n(31,"svg",22),m(32,"path",90)(33,"path",91),o(),M(),n(34,"span"),s(35),o()()(),n(36,"div",73)(37,"div",92),u(),n(38,"svg",22),m(39,"path",93),o(),M(),n(40,"span"),s(41),w(42,"date"),o()()(),n(43,"div",73)(44,"div",94),u(),n(45,"svg",22),m(46,"path",95),o(),M(),n(47,"span"),s(48),w(49,"date"),o()()(),n(50,"div",73)(51,"div",96)(52,"button",97),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.viewWorkOrderDetails(c))}),u(),n(53,"svg",22),m(54,"path",78)(55,"path",98),o()(),M(),n(56,"button",99),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.editWorkOrder(c))}),u(),n(57,"svg",22),m(58,"path",100),o()()()()()}if(r&2){let t=e.$implicit,i=d(3);a(9),f(t.title),a(),g("ngIf",t.description),a(3),g("ngClass","status-"+t.status),a(),P(" ",i.getStatusLabel(t.status)," "),a(),g("ngClass","priority-"+t.priority),a(),P(" ",i.getPriorityLabel(t.priority)," "),a(7),f(i.getAssigneeName(t)),a(5),f(i.getAssetName(t)),a(7),f(i.getLocationName(t)),a(6),f(t.due_date?k(42,11,t.due_date,"MMM d, y"):"Not set"),a(7),f(k(49,14,t.created_at,"MMM d, y"))}}function Mn(r,e){if(r&1&&(n(0,"div",66)(1,"div",67)(2,"div",68)(3,"div",69),s(4,"Work Order"),o(),n(5,"div",69),s(6,"Status & Priority"),o(),n(7,"div",69),s(8,"Assignee & Asset"),o(),n(9,"div",69),s(10,"Location"),o(),n(11,"div",69),s(12,"Due Date"),o(),n(13,"div",69),s(14,"Created"),o(),n(15,"div",69),s(16,"Actions"),o()()(),n(17,"div",70),_(18,un,59,17,"div",71),o()()),r&2){let t=d(2);a(18),g("ngForOf",t.workOrders)}}function fn(r,e){if(r&1){let t=b();n(0,"div")(1,"div",10)(2,"div",11),u(),n(3,"svg",12),m(4,"path",13),o(),s(5),_(6,ln,2,1,"span",14),o(),_(7,mn,7,3,"div",15),M(),n(8,"div",16)(9,"button",17),p("click",function(){O(t);let c=d();return C(c.openDeleteModalForSelected())}),u(),n(10,"svg",18),m(11,"rect",19)(12,"path",20),o(),s(13," Delete "),o(),M(),n(14,"button",21),p("click",function(){O(t);let c=d();return C(c.toggleBulkMode())}),u(),n(15,"svg",22),m(16,"path",23),o(),s(17," Bulk "),o(),M(),n(18,"button",24),p("click",function(){O(t);let c=d();return C(c.refreshWorkOrders())}),u(),n(19,"svg",22),m(20,"path",25),o()(),M(),n(21,"div",26)(22,"button",27),p("click",function(){O(t);let c=d();return C(c.setViewMode("grid"))}),u(),n(23,"svg",22),m(24,"path",28),o()(),M(),n(25,"button",29),p("click",function(){O(t);let c=d();return C(c.setViewMode("list"))}),u(),n(26,"svg",22),m(27,"path",30),o()()()()(),_(28,_n,15,0,"div",31)(29,On,2,1,"div",32)(30,Mn,19,1,"div",33),M(),n(31,"app-delete-confirmation-modal",34),p("closeModal",function(){O(t);let c=d();return C(c.closeDeleteModal())})("confirmDelete",function(c){O(t);let l=d();return C(l.deleteSelected(c))}),o()()}if(r&2){let t=d();a(5),P(" ",t.workOrders.length," work orders "),a(),g("ngIf",t.getSelectedCount()>0),a(),g("ngIf",t.isBulkMode),a(2),g("disabled",t.getSelectedCount()===0),a(5),h("active",t.isBulkMode),a(4),g("disabled",t.isLoading),a(4),h("active",t.viewMode==="grid"),a(3),h("active",t.viewMode==="list"),a(3),g("ngIf",t.workOrders.length===0),a(),g("ngIf",t.workOrders.length>0&&t.viewMode==="grid"),a(),g("ngIf",t.workOrders.length>0&&t.viewMode==="list"),a(),g("isOpen",t.showDeleteConfirmationModal)("selectedCount",t.selectedWorkOrders.size)("entitySingular","Work Order")("entityPlural","Work Orders")("warningText",null)}}function Pn(r,e){if(r&1){let t=b();n(0,"app-pagination",102),p("pageChange",function(c){O(t);let l=d();return C(l.onPageChange(c))})("perPageChange",function(c){O(t);let l=d();return C(l.onPerPageChange(c))}),o()}if(r&2){let t=d();g("pagination",t.pagination)}}function hn(r,e){if(r&1){let t=b();n(0,"app-edit-work-order-modal",103),p("modalClosed",function(){O(t);let c=d();return C(c.closeEditModal())})("workOrderUpdated",function(c){O(t);let l=d();return C(l.onWorkOrderUpdated(c))}),o()}if(r&2){let t=d();g("workOrder",t.selectedWorkOrder)("isOpen",t.isEditModalOpen)}}var ft=class r{constructor(e){this.workOrderService=e}createWorkOrderRequested=new V;workOrders=[];viewMode="grid";isLoading=!0;isEditModalOpen=!1;selectedWorkOrder=null;currentPage=1;perPage=10;total=0;totalPages=0;pagination={current_page:1,last_page:1,per_page:20,total:0,from:0,to:0};selectedWorkOrders=new Set;isBulkMode=!1;showBulkActions=!1;bulkAction="";bulkTargetUser=null;bulkStatus="";bulkPriority="";showDeleteConfirmationModal=!1;Math=Math;subscription=new j;ngOnInit(){this.loadWorkOrders()}ngOnDestroy(){this.subscription.unsubscribe()}testEmptyState(){this.workOrders=[],this.total=0,this.currentPage=1,this.totalPages=0,this.isLoading=!1,console.log("WorkOrderListComponent: Empty state triggered manually")}getCurrentState(){return{workOrders:this.workOrders,workOrdersLength:this.workOrders?.length,isLoading:this.isLoading,total:this.total,currentPage:this.currentPage,totalPages:this.totalPages}}loadWorkOrders(e=1,t){this.isLoading=!0,this.currentPage=e;let i={page:this.currentPage,per_page:this.perPage};t&&(t.search&&t.search.trim()&&(i.search=t.search.trim()),t.status_id&&(i.status_id=t.status_id),t.priority_id&&(i.priority_id=t.priority_id),t.category_id&&(i.category_id=t.category_id),t.asset_id&&t.asset_id!==""&&(i.asset_id=t.asset_id),t.location_id&&t.location_id!==""&&(i.location_id=t.location_id),t.assigned_to&&t.assigned_to!==""&&(i.assigned_to=t.assigned_to),t.is_overdue!==void 0&&t.is_overdue!==!1&&(i.is_overdue=t.is_overdue),t.start_date&&t.start_date!==""&&(i.start_date=t.start_date),t.end_date&&t.end_date!==""&&(i.end_date=t.end_date),t.due_start_date&&t.due_start_date!==""&&(i.due_start_date=t.due_start_date),t.due_end_date&&t.due_end_date!==""&&(i.due_end_date=t.due_end_date),t.sortBy&&(i.sort_by=t.sortBy),t.sortOrder&&(i.sort_dir=t.sortOrder)),this.subscription.add(this.workOrderService.getWorkOrders(i).subscribe({next:c=>{this.workOrders=c.data.data||[],this.total=c.data.total||0,this.currentPage=c.data.current_page||1,this.perPage=c.data.per_page||10,this.totalPages=c.data.last_page||1,this.pagination={current_page:this.currentPage,last_page:this.totalPages,per_page:this.perPage,total:this.total,from:(this.currentPage-1)*this.perPage+1,to:Math.min(this.currentPage*this.perPage,this.total)},this.isLoading=!1},error:c=>{console.error("WorkOrderListComponent: Error loading work orders:",c),this.workOrders=[],this.isLoading=!1}}))}setViewMode(e){this.viewMode=e}refreshWorkOrders(){this.loadWorkOrders(this.currentPage)}onFiltersChanged(e){console.log("WorkOrderListComponent: Filters changed:",e),this.loadWorkOrders(1,e)}createWorkOrder(){this.createWorkOrderRequested.emit()}goToPage(e){e>=1&&e<=this.totalPages&&this.loadWorkOrders(e)}getPageNumbers(){let e=[];if(this.totalPages<=5)for(let i=1;i<=this.totalPages;i++)e.push(i);else{let i=Math.max(1,this.currentPage-Math.floor(2.5)),c=Math.min(this.totalPages,i+5-1);c-i+1<5&&(i=Math.max(1,c-5+1));for(let l=i;l<=c;l++)e.push(l)}return e}getStatusLabel(e){return{open:"Open",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[e]||e}getPriorityLabel(e){return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[e]||e}toggleBulkMode(){this.isBulkMode=!this.isBulkMode,this.isBulkMode||(this.selectedWorkOrders.clear(),this.showBulkActions=!1)}toggleWorkOrderSelection(e){this.selectedWorkOrders.has(e)?this.selectedWorkOrders.delete(e):this.selectedWorkOrders.add(e),this.showBulkActions=this.selectedWorkOrders.size>0}onCardSelectionChanged(e){let{workOrderId:t,selected:i}=e;i?this.selectedWorkOrders.add(t):this.selectedWorkOrders.delete(t),this.showBulkActions=this.selectedWorkOrders.size>0}selectAllWorkOrders(){this.workOrders.forEach(e=>this.selectedWorkOrders.add(e.id)),this.showBulkActions=!0}deselectAllWorkOrders(){this.selectedWorkOrders.clear(),this.showBulkActions=!1}getSelectedCount(){return this.selectedWorkOrders.size}isAllSelected(){return this.workOrders.length>0&&this.selectedWorkOrders.size===this.workOrders.length}isPartiallySelected(){return this.selectedWorkOrders.size>0&&this.selectedWorkOrders.size<this.workOrders.length}toggleSelectAll(){this.isAllSelected()?this.deselectAllWorkOrders():this.selectAllWorkOrders()}updateBulkStatus(e){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,status:e}));console.log("Bulk status update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}updateBulkPriority(e){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,priority:e}));console.log("Bulk priority update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}assignBulkWorkOrders(e){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,assigned_to:e}));console.log("Bulk assignment update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}deleteBulkWorkOrders(){if(this.selectedWorkOrders.size!==0&&confirm(`Are you sure you want to delete ${this.selectedWorkOrders.size} work order(s)?`)){let e=Array.from(this.selectedWorkOrders);console.log("Bulk delete:",e),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}}getAssigneeName(e){if(e.assigned_to){if(typeof e.assigned_to=="object"){let t=e.assigned_to,i=t.first_name||"",c=t.last_name||"";return`${i} ${c}`.trim()||"Unassigned"}return String(e.assigned_to)}return"Unassigned"}getAssetName(e){if(e.asset){if(typeof e.asset=="object"){let t=e.asset;return t.name||t.asset_id||"No Asset"}return String(e.asset)}return"No Asset"}getLocationName(e){if(e.location){if(typeof e.location=="object"){let t=e.location;return t.name||t.full_path||"No Location"}return String(e.location)}return"No Location"}viewWorkOrderDetails(e){console.log("Viewing work order:",e)}editWorkOrder(e){this.selectedWorkOrder=e,this.isEditModalOpen=!0}deleteWorkOrder(e){e?.id&&(this.selectedWorkOrders.clear(),this.selectedWorkOrders.add(e.id),this.showDeleteConfirmationModal=!0)}closeDeleteModal(){this.showDeleteConfirmationModal=!1}openDeleteModalForSelected(){this.selectedWorkOrders.size!==0&&(this.showDeleteConfirmationModal=!0)}deleteSelected(e){let t=Array.from(this.selectedWorkOrders);if(t.length===0){this.showDeleteConfirmationModal=!1;return}this.isLoading=!0;let i=0,c=()=>{i++,i>=t.length&&(this.showDeleteConfirmationModal=!1,this.selectedWorkOrders.clear(),this.loadWorkOrders(this.currentPage))};t.forEach(l=>{this.subscription.add(this.workOrderService.deleteWorkOrder(l).subscribe({next:()=>c(),error:E=>{console.error("Failed to delete work order:",E),c()}}))})}closeEditModal(){this.isEditModalOpen=!1,this.selectedWorkOrder=null}onWorkOrderUpdated(e){let t=this.workOrders.findIndex(i=>i.id===e.id);t!==-1&&(this.workOrders[t]=e),this.closeEditModal(),console.log("Work order updated successfully:",e)}onPageChange(e){this.currentPage=e,this.loadWorkOrders(e)}onPerPageChange(e){this.perPage=e,this.currentPage=1,this.loadWorkOrders()}static \u0275fac=function(t){return new(t||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-list"]],outputs:{createWorkOrderRequested:"createWorkOrderRequested"},standalone:!1,decls:6,vars:4,consts:[[1,"list-section"],[1,"loading-state"],[3,"filtersChanged"],[3,"pagination","pageChange","perPageChange",4,"ngIf"],[3,"workOrder","isOpen","modalClosed","workOrderUpdated",4,"ngIf"],[1,"loading-skeleton"],[1,"skeleton-header"],[1,"skeleton-filters"],[1,"skeleton-cards"],[1,"skeleton-card"],[1,"list-header"],[1,"orders-count","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 1 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],["class","selected-count",4,"ngIf"],["class","bulk-operations",4,"ngIf"],[1,"header-actions"],["title","Delete Selected",1,"bulk-delete-btn",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["x","4","y","4","width","16","height","16","rx","2","stroke-width","2"],["d","M8 8l8 8M8 16l8-8","stroke-width","2"],["title","Bulk Operations",1,"bulk-mode-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["title","Refresh",1,"refresh-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"view-toggle"],["title","Grid View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["title","List View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["class","empty-state",4,"ngIf"],["class","work-orders-grid",4,"ngIf"],["class","work-orders-list",4,"ngIf"],[3,"closeModal","confirmDelete","isOpen","selectedCount","entitySingular","entityPlural","warningText"],[1,"selected-count"],[1,"bulk-operations"],[1,"bulk-selection"],[1,"select-all-label"],["type","checkbox",1,"select-all-checkbox",3,"change","checked","indeterminate"],[1,"select-all-text"],["class","bulk-actions",4,"ngIf"],[1,"bulk-actions"],[1,"bulk-action-group"],[1,"bulk-action-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"bulk-delete-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-text"],[1,"empty-title"],[1,"empty-description"],[1,"empty-actions"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"work-orders-grid"],["class","work-order-card-item",3,"workOrder","showBulkSelection","isSelected","editRequested","deleteRequested","selectionChanged",4,"ngFor","ngForOf"],[1,"work-order-card-item",3,"editRequested","deleteRequested","selectionChanged","workOrder","showBulkSelection","isSelected"],[1,"work-orders-list"],[1,"list-table-header"],[1,"list-table-row"],[1,"list-table-cell","header-cell"],[1,"list-table-body"],["class","list-table-row hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"list-table-row","hover:bg-gray-50"],[1,"list-table-cell"],[1,"work-order-info"],[1,"work-order-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"work-order-details"],[1,"work-order-title"],["class","work-order-description",4,"ngIf"],[1,"badges-container"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],[1,"assignee-asset-info"],[1,"info-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[1,"location-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"due-date-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"created-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"actions-container"],["title","View Details",1,"action-btn","view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Work Order",1,"action-btn","edit-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"work-order-description"],[3,"pageChange","perPageChange","pagination"],[3,"modalClosed","workOrderUpdated","workOrder","isOpen"]],template:function(t,i){t&1&&(n(0,"div",0),_(1,dn,7,1,"div",1),n(2,"app-work-order-filters",2),p("filtersChanged",function(l){return i.onFiltersChanged(l)}),o(),_(3,fn,32,19,"div")(4,Pn,1,1,"app-pagination",3),o(),_(5,hn,1,2,"app-edit-work-order-modal",4)),t&2&&(a(),ot(i.isLoading?1:-1),a(2),ot(i.isLoading?-1:3),a(),g("ngIf",i.workOrders.length>0||i.pagination.total>0&&!i.isLoading),a(),g("ngIf",i.isEditModalOpen))},dependencies:[It,F,I,jt,Bt,$t,Nt,Mt,lt],styles:[".list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding:1rem;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#374151;display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:.875rem;color:#2563eb;font-weight:600}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;margin:0 2rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{width:1rem;height:1rem;accent-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-text[_ngcontent-%COMP%]{font-weight:500}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:#fff;color:#374151;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #ef4444;border-radius:6px;background:#fff;color:#ef4444;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:36px;padding:0 12px;border-radius:10px;background:#fef2f2;color:#dc2626;border:1px solid #fee2e2;transition:background .2s ease}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem .75rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;gap:.5rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]:hover{background:#1d4ed8}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:.25rem;background:#f3f4f6;border-radius:8px;padding:.25rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#e5e7eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn.active[_ngcontent-%COMP%]{background:#fff;color:#2563eb;box-shadow:0 1px 3px #0000001a}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{height:60px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-filters[_ngcontent-%COMP%]{height:50px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{height:200px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:12px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:3rem 2rem;text-align:center}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:480px;margin:0 auto}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:#9ca3af;margin-bottom:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5rem;height:5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 .75rem;line-height:1.4}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0;line-height:1.6;max-width:400px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;text-decoration:none;transition:all .2s ease;border:none;cursor:pointer;min-width:140px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;box-shadow:0 1px 3px #2563eb4d}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #2563eb66}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af;transform:translateY(-1px)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]{transition:transform .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .work-order-card-item.list-view[_ngcontent-%COMP%]{min-height:auto;padding:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px 8px 0 0;border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:0 0 8px 8px;background:#fff}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center;border-bottom:1px solid #f3f4f6;transition:background-color .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;background:#eff6ff;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#2563eb;flex-shrink:0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:.25rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.4}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;text-transform:capitalize;text-align:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-in_progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:none;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]:hover{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:1rem;margin-top:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-size:.875rem;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease;min-width:2.5rem;text-align:center}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}@media (max-width: 768px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch;padding:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{align-self:center;flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{order:-1}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:200px}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem;padding:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}@media (max-width: 480px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{gap:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.375rem .5rem;min-width:2rem;font-size:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.125rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:.625rem 1.25rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{padding:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{padding:.375rem 0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.125rem .5rem;font-size:.625rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.875rem;height:.875rem}}"]})};function vn(r,e){r&1&&(n(0,"div",3)(1,"div",4),m(2,"div",5),n(3,"span",6),s(4,"Loading stats..."),o()()())}function wn(r,e){if(r&1&&(n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),s(4,"Total Work Orders"),o(),n(5,"div",11),u(),n(6,"svg",12),m(7,"path",13),o()()(),M(),n(8,"div",14),s(9),o(),n(10,"div",15),s(11,"Work orders in system"),o()(),n(12,"div",16)(13,"div",9)(14,"div",10),s(15,"Open"),o(),n(16,"div",11),u(),n(17,"svg",12),m(18,"path",17),o()()(),M(),n(19,"div",14),s(20),o(),n(21,"div",15),s(22,"Awaiting assignment"),o()(),n(23,"div",18)(24,"div",9)(25,"div",10),s(26,"In Progress"),o(),n(27,"div",11),u(),n(28,"svg",12),m(29,"path",19),o()()(),M(),n(30,"div",14),s(31),o(),n(32,"div",15),s(33,"Under maintenance"),o()(),n(34,"div",20)(35,"div",9)(36,"div",10),s(37,"Completed"),o(),n(38,"div",11),u(),n(39,"svg",12),m(40,"path",21),o()()(),M(),n(41,"div",14),s(42),o(),n(43,"div",15),s(44,"Closed successfully"),o()()()),r&2){let t=d();a(9),f(t.getTotalCount()),a(11),f(t.getStatusCount("open")),a(11),f(t.getStatusCount("in-progress")),a(11),f(t.getStatusCount("completed"))}}var Pt=class r{constructor(e){this.workOrderService=e}stats=null;isLoading=!0;subscription=new j;ngOnInit(){this.loadStats()}ngOnDestroy(){this.subscription.unsubscribe()}loadStats(){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderStatistics().subscribe({next:e=>{console.log("Work order stats loaded:",e),this.stats=e,this.isLoading=!1},error:e=>{console.error("Error loading stats:",e),this.isLoading=!1,this.stats={status_counts:{},priority_counts:{},overdue_count:0,recent_created:0,recent_completed:0}}}))}getIconClass(e){return{wrench:"fas fa-wrench",warning:"fas fa-exclamation-triangle",clock:"fas fa-clock",check:"fas fa-check-circle"}[e]||"fas fa-circle"}getTotalCount(){return this.stats?.status_counts?Object.values(this.stats.status_counts).reduce((e,t)=>e+t,0):0}getStatusCount(e){return this.stats?.status_counts?.[e]||0}getPriorityCount(e){return this.stats?.priority_counts?.[e]||0}getOverdueCount(){return this.stats?.overdue_count||0}getRecentCreated(){return this.stats?.recent_created||0}getRecentCompleted(){return this.stats?.recent_completed||0}hasData(){return!!(this.stats&&(Object.keys(this.stats.status_counts||{}).length>0||Object.keys(this.stats.priority_counts||{}).length>0||this.stats.overdue_count>0||this.stats.recent_created>0||this.stats.recent_completed>0))}static \u0275fac=function(t){return new(t||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-stats"]],standalone:!1,decls:3,vars:2,consts:[[1,"stats-section"],["class","loading-state",4,"ngIf"],["class","stats-cards",4,"ngIf"],[1,"loading-state"],[1,"loading-wrap"],[1,"spinner"],[1,"loading-text"],[1,"stats-cards"],[1,"stat-card","theme-blue"],[1,"card-top"],[1,"title"],[1,"badge"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"badge-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V7a2 2 0 00-2-2H6a2 2 0 00-2 2v6m16 0v4a2 2 0 01-2 2H6a2 2 0 01-2-2v-4m16 0H4"],[1,"value"],[1,"subtitle"],[1,"stat-card","theme-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4"],[1,"stat-card","theme-orange"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3"],[1,"stat-card","theme-purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(t,i){t&1&&(n(0,"div",0),_(1,vn,5,0,"div",1)(2,wn,45,4,"div",2),o()),t&2&&(a(),g("ngIf",i.isLoading),a(),g("ngIf",!i.isLoading))},dependencies:[I],styles:[".stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:14px;padding:16px 18px;border:1px solid #e5e7eb;box-shadow:0 4px 16px #0206170d;transition:transform .2s ease,box-shadow .2s ease}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #02061714}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .card-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#334155}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f61f;border-radius:10px;padding:6px;display:inline-flex;align-items:center;justify-content:center}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#2563eb}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#0f172a;margin:2px 0 6px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:13px;color:#6b7280}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]{background:#f0f7ff;border-color:#dbeafe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f626}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]{background:#effcf4;border-color:#d1fae5}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#10b98126}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]{background:#fff7ed;border-color:#fed7aa}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f59e0b26}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]{background:#f6f3ff;border-color:#ddd6fe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#8b5cf626}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 1024px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}}@media (max-width: 768px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px}}"]})};var xn=()=>[0,1,2,3,4];function yn(r,e){r&1&&(n(0,"div",4),m(1,"div",5),n(2,"p"),s(3,"Loading work order analytics..."),o()())}function Sn(r,e){if(r&1){let t=b();n(0,"div",6),u(),n(1,"svg",7),m(2,"path",8),o(),M(),n(3,"h3",9),s(4),o(),n(5,"button",10),p("click",function(){O(t);let c=d();return C(c.refreshData())}),u(),n(6,"svg",11),m(7,"path",12),o(),s(8," Retry "),o()()}if(r&2){let t=d();a(4),f(t.error)}}function En(r,e){if(r&1&&(n(0,"div",23)(1,"h3",24),s(2,"Performance Metrics"),o(),n(3,"div",25)(4,"div",26)(5,"div",27)(6,"h4",28),s(7,"Average Resolution Time"),o(),u(),n(8,"svg",29),m(9,"path",30),o()(),M(),n(10,"div",31),s(11),o(),n(12,"div",32),s(13),o()(),n(14,"div",26)(15,"div",27)(16,"h4",28),s(17,"Completion Rate"),o(),u(),n(18,"svg",29),m(19,"path",33),o()(),M(),n(20,"div",31),s(21),o(),n(22,"div",34),s(23,"Target: 85%"),o()(),n(24,"div",26)(25,"div",27)(26,"h4",28),s(27,"Overdue Work Orders"),o(),u(),n(28,"svg",29),m(29,"path",8),o()(),M(),n(30,"div",35),s(31),o(),n(32,"div",36),s(33),o()(),n(34,"div",26)(35,"div",27)(36,"h4",28),s(37,"Active Technicians"),o(),u(),n(38,"svg",29),m(39,"path",37),o()(),M(),n(40,"div",31),s(41),o(),n(42,"div",38),s(43,"Active right now"),o()()()()),r&2){let t=d(2);a(11),f(t.formatDays(t.analyticsData.average_resolution_time_days)),a(2),P(" ",t.analyticsData.average_resolution_time_days||0," days average "),a(8),f(t.formatPercentage(t.analyticsData.completion_rate_percentage)),a(10),f(t.analyticsData.overdue_work_orders||0),a(2),P(" ",t.analyticsData.overdue_work_orders||0," overdue "),a(8),f(t.analyticsData.active_technicians||0)}}function Wn(r,e){if(r&1&&(n(0,"div",56),m(1,"div",57),n(2,"span",58),s(3),o(),n(4,"span",59),s(5),o(),n(6,"span",60),s(7),o()()),r&2){let t=e.$implicit,i=d(4);a(),y("background-color",t.color),a(2),f(t.name),a(2),f(t.value),a(2),P(" (",i.formatPercentage(i.getStatusPercentage(t.value,i.totalStatusCount)),") ")}}function In(r,e){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),s(3,"Work Order Status Distribution"),o(),n(4,"p",46),s(5),o()(),n(6,"div",47)(7,"div",48)(8,"div",49),_(9,Wn,8,5,"div",50),o(),n(10,"div",51)(11,"div",52)(12,"div",53)(13,"span",54),s(14),o(),n(15,"span",55),s(16,"Total"),o()()()()()()()),r&2){let t=d(3);a(5),P("Current breakdown by status (",t.totalStatusCount," total)"),a(4),g("ngForOf",t.statusChartData),a(5),f(t.totalStatusCount)}}function Tn(r,e){if(r&1&&(n(0,"div",64)(1,"div",65),s(2),o(),n(3,"div",66),m(4,"div",67),n(5,"span",68),s(6),o()()()),r&2){let t=e.$implicit,i=d(4);a(2),f(t.name),a(2),y("width",i.getStatusPercentage(t.value,i.totalStatusCount)+"%")("background-color",t.color),a(2),f(t.value)}}function Vn(r,e){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),s(3,"Priority Distribution"),o(),n(4,"p",46),s(5,"Work orders by priority level with trends"),o()(),n(6,"div",47)(7,"div",61)(8,"div",62),_(9,Tn,7,6,"div",63),o()()()()),r&2){let t=d(3);a(9),g("ngForOf",t.priorityChartData)}}function Fn(r,e){r&1&&m(0,"div",80)}function An(r,e){if(r&1&&(n(0,"span"),s(1),o()),r&2){let t=e.$implicit;a(),f(t.month)}}function Ln(r,e){if(r&1&&(n(0,"div",69)(1,"div",44)(2,"h3",45),s(3,"Monthly Performance Trend"),o(),n(4,"p",46),s(5,"Work orders created vs completed with efficiency tracking"),o()(),n(6,"div",47)(7,"div",70)(8,"div",71)(9,"span"),s(10,"80"),o(),n(11,"span"),s(12,"60"),o(),n(13,"span"),s(14,"40"),o(),n(15,"span"),s(16,"20"),o(),n(17,"span"),s(18,"0"),o()(),n(19,"div",72)(20,"div",73),_(21,Fn,1,0,"div",74),o(),n(22,"div",75),m(23,"div",76)(24,"div",77),o(),n(25,"div",78),_(26,An,2,1,"span",79),o()()()()()),r&2){let t=d(3);a(21),g("ngForOf",Wt(6,xn)),a(2),y("height","100%"),a(),y("height","80%"),a(2),g("ngForOf",t.monthlyTrendData)}}function Dn(r,e){if(r&1&&(n(0,"div",39)(1,"div",40),_(2,In,17,3,"div",41)(3,Vn,10,1,"div",41),o(),_(4,Ln,27,7,"div",42),o()),r&2){let t=d(2);a(2),g("ngIf",t.hasStatusDistribution),a(),g("ngIf",t.hasPriorityDistribution),a(),g("ngIf",t.hasMonthlyTrends)}}function zn(r,e){if(r&1&&(n(0,"div",85)(1,"div",86)(2,"h4",87),s(3),o(),n(4,"div",88),s(5),o()(),n(6,"div",89)(7,"div",90)(8,"span",91),s(9,"Completed:"),o(),n(10,"span",31),s(11),o()(),n(12,"div",90)(13,"span",91),s(14,"Avg Time:"),o(),n(15,"span",31),s(16),o()()(),n(17,"div",92),m(18,"div",93),o()()),r&2){let t=e.$implicit,i=d(3);a(3),f(t.name),a(2),f(t.score.toFixed(2)),a(6),f(t.completed),a(5),f(i.formatDays(t.avgTime)),a(2),y("width",t.score*100+"%")}}function Hn(r,e){if(r&1&&(n(0,"div",81)(1,"h3",24),s(2,"Top Technician Performance"),o(),n(3,"p",82),s(4,"Individual performance metrics for this month"),o(),n(5,"div",83),_(6,zn,19,6,"div",84),o()()),r&2){let t=d(2);a(6),g("ngForOf",t.technicianData)}}function jn(r,e){r&1&&(n(0,"div",94),u(),n(1,"svg",95),m(2,"path",96),o(),M(),n(3,"h3",97),s(4,"No Analytics Data Available"),o(),n(5,"p",98),s(6,"Work order analytics data will appear here once available."),o()())}function Bn(r,e){if(r&1){let t=b();n(0,"div")(1,"div",13)(2,"div",14)(3,"h2",15),s(4,"Work Order Analytics"),o(),n(5,"p",16),s(6,"Performance insights and trends"),o()(),n(7,"div",17)(8,"button",18),p("click",function(){O(t);let c=d();return C(c.refreshData())}),u(),n(9,"svg",11),m(10,"path",12),o(),s(11," Refresh "),o()()(),_(12,En,44,6,"div",19)(13,Dn,5,3,"div",20)(14,Hn,7,1,"div",21)(15,jn,7,0,"div",22),o()}if(r&2){let t=d();a(12),g("ngIf",t.analyticsData),a(),g("ngIf",t.analyticsData),a(),g("ngIf",t.hasTechnicianData),a(),g("ngIf",t.analyticsData&&!t.hasStatusDistribution&&!t.hasPriorityDistribution&&!t.hasMonthlyTrends&&!t.hasTechnicianData)}}var et=class r{constructor(e){this.workOrderService=e}destroy$=new ne;loading=!1;error=null;analyticsData=null;statisticsData=null;statusChartData=[];priorityChartData=[];monthlyTrendData=[];technicianData=[];ngOnInit(){this.loadAnalytics()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalytics(){this.loading=!0,this.error=null,Promise.all([this.loadWorkOrderAnalytics(),this.loadWorkOrderStatistics()]).finally(()=>{this.loading=!1})}loadWorkOrderAnalytics(){return new Promise(e=>{this.workOrderService.getWorkOrderAnalytics().pipe(Jt(this.destroy$)).subscribe({next:t=>{this.analyticsData=t,this.prepareChartData(),e()},error:t=>{console.error("Error loading work order analytics:",t),this.error="Failed to load analytics data. Please try again.",e()}})})}loadWorkOrderStatistics(){return new Promise(e=>{this.workOrderService.getWorkOrderStatistics().pipe(Jt(this.destroy$)).subscribe({next:t=>{this.statisticsData=t,e()},error:t=>{console.error("Error loading work order statistics:",t),e()}})})}prepareChartData(){this.analyticsData&&(this.statusChartData=[{name:"Completed",value:this.analyticsData.status_distribution?.completed||0,color:"#10b981"},{name:"Open",value:this.analyticsData.status_distribution?.open||0,color:"#ef4444"},{name:"In Progress",value:this.analyticsData.status_distribution?.["in-progress"]||0,color:"#3b82f6"},{name:"On Hold",value:this.analyticsData.status_distribution?.on_hold||0,color:"#f59e0b"},{name:"Cancelled",value:this.analyticsData.status_distribution?.cancelled||0,color:"#6b7280"}],this.priorityChartData=[{name:"Critical",value:this.analyticsData.priority_distribution?.critical||0,color:"#dc2626"},{name:"High",value:this.analyticsData.priority_distribution?.high||0,color:"#f59e0b"},{name:"Medium",value:this.analyticsData.priority_distribution?.medium||0,color:"#3b82f6"},{name:"Low",value:this.analyticsData.priority_distribution?.low||0,color:"#10b981"}],this.analyticsData.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0?this.monthlyTrendData=this.analyticsData.monthly_performance_trend.map(e=>({month:`${e.year}-${e.month.toString().padStart(2,"0")}`,created:e.created_count||0,completed:e.completed_count||0})):this.monthlyTrendData=[],this.analyticsData.top_technician_performance&&this.analyticsData.top_technician_performance.length>0?this.technicianData=this.analyticsData.top_technician_performance.map(e=>({name:e.assignedTo?`${e.assignedTo.first_name} ${e.assignedTo.last_name}`:"Unknown",score:Math.round(e.completed_count/Math.max(e.avg_resolution_days,1)*100),completed:e.completed_count||0,avgTime:e.avg_resolution_days||0})):this.technicianData=[])}refreshData(){this.loadAnalytics()}formatDays(e){return!e||e<=0?"0 days":e===1?"1 day":`${e} days`}formatPercentage(e){return!e||isNaN(e)?"0.0%":`${e.toFixed(1)}%`}getStatusPercentage(e,t){return!t||t<=0?0:e/t*100}get hasStatusDistribution(){return!!this.analyticsData?.status_distribution}get hasPriorityDistribution(){return!!this.analyticsData?.priority_distribution}get hasMonthlyTrends(){return!!(this.analyticsData?.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0)}get hasTechnicianData(){return!!(this.analyticsData?.top_technician_performance&&this.analyticsData.top_technician_performance.length>0)}get totalStatusCount(){return this.analyticsData?.status_distribution?Object.values(this.analyticsData.status_distribution).reduce((e,t)=>e+t,0):0}static \u0275fac=function(t){return new(t||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-analytics"]],decls:4,vars:3,consts:[[1,"work-order-analytics"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"error-title"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"analytics-header"],[1,"header-left"],[1,"main-title"],[1,"subtitle"],[1,"header-right"],["title","Refresh Data",1,"refresh-btn",3,"click"],["class","metrics-section",4,"ngIf"],["class","charts-section",4,"ngIf"],["class","technician-section",4,"ngIf"],["class","no-data-message",4,"ngIf"],[1,"metrics-section"],[1,"section-title"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-header"],[1,"metric-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"metric-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-value"],[1,"metric-trend","positive"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-target"],[1,"metric-value","warning"],[1,"metric-trend"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"metric-status"],[1,"charts-section"],[1,"chart-row"],["class","chart-card",4,"ngIf"],["class","chart-card full-width",4,"ngIf"],[1,"chart-card"],[1,"chart-header"],[1,"chart-title"],[1,"chart-subtitle"],[1,"chart-container"],[1,"pie-chart"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"chart-placeholder"],[1,"chart-circle"],[1,"chart-center"],[1,"total-count"],[1,"total-label"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"legend-percentage"],[1,"bar-chart"],[1,"chart-bars"],["class","bar-item",4,"ngFor","ngForOf"],[1,"bar-item"],[1,"bar-label"],[1,"bar-container"],[1,"bar"],[1,"bar-value"],[1,"chart-card","full-width"],[1,"trend-chart"],[1,"chart-y-axis"],[1,"chart-area"],[1,"grid-lines"],["class","grid-line",4,"ngFor","ngForOf"],[1,"trend-lines"],["title","Work orders created",1,"trend-line","created"],["title","Work orders completed",1,"trend-line","completed"],[1,"chart-x-axis"],[4,"ngFor","ngForOf"],[1,"grid-line"],[1,"technician-section"],[1,"section-subtitle"],[1,"technician-grid"],["class","technician-card",4,"ngFor","ngForOf"],[1,"technician-card"],[1,"tech-header"],[1,"tech-name"],[1,"tech-score"],[1,"tech-metrics"],[1,"tech-metric"],[1,"metric-label"],[1,"performance-bar"],[1,"bar-fill"],[1,"no-data-message"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"no-data-title"],[1,"no-data-description"]],template:function(t,i){t&1&&(n(0,"div",0),_(1,yn,4,0,"div",1)(2,Sn,9,1,"div",2)(3,Bn,16,4,"div",3),o()),t&2&&(a(),g("ngIf",i.loading),a(),g("ngIf",i.error&&!i.loading),a(),g("ngIf",!i.loading&&!i.error))},dependencies:[Vt,F,I],styles:['.work-order-analytics[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f8fafc;min-height:100vh}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:3px solid #e2e8f0;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.error-state[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:#dc2626;font-size:1.25rem;font-weight:600;margin:1rem 0}.error-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;transition:all .2s}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.no-data-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.no-data-message[_ngcontent-%COMP%]   .no-data-title[_ngcontent-%COMP%]{color:#374151;font-size:1.5rem;font-weight:600;margin:1rem 0 .5rem}.no-data-message[_ngcontent-%COMP%]   .no-data-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.analytics-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem;margin:0}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:none;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .2s}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;transform:translateY(-1px)}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 1rem}.section-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0 0 1.5rem}.metrics-section[_ngcontent-%COMP%]{margin-bottom:2rem}.metrics-section[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;margin:0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;color:#6b7280}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend.positive[_ngcontent-%COMP%]{color:#10b981}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-target[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-status[_ngcontent-%COMP%]{font-size:.875rem;color:#10b981;font-weight:500}.charts-section[_ngcontent-%COMP%]{margin-bottom:2rem}.charts-section[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem;margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.charts-section[_ngcontent-%COMP%]   .chart-card.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{min-height:300px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{flex:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;min-width:80px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-percentage[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background:conic-gradient(#10b981 0deg 174deg,#ef4444 174deg 234deg,#3b82f6 234deg 264deg,#f59e0b 264deg 285deg,#6b7280 285deg 360deg);display:flex;align-items:center;justify-content:center;position:relative}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:120px;height:120px;background:#fff;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]{text-align:center;z-index:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#1e293b}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{min-width:60px;font-weight:500;color:#374151;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:2rem;border-radius:.25rem;min-width:20px;transition:width .3s ease}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{display:flex;height:300px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-right:1rem;font-size:.75rem;color:#6b7280;font-weight:500}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]{flex:1;position:relative}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]{position:absolute;left:0;right:0;height:1px;background-color:#f3f4f6}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(1){top:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(2){top:25%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(3){top:50%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(4){top:75%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(5){top:100%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line[_ngcontent-%COMP%]{position:absolute;width:100%;background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.1) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.created[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.completed[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(16,185,129,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .chart-x-axis[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:0 1rem;font-size:.75rem;color:#6b7280;font-weight:500}.technician-section[_ngcontent-%COMP%]{margin-bottom:2rem}.technician-section[_ngcontent-%COMP%]   .technician-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-score[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3b82f6}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]{margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]{height:.5rem;background-color:#f3f4f6;border-radius:.25rem;overflow:hidden}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#3b82f6;border-radius:.25rem;transition:width .3s ease}.insights-section[_ngcontent-%COMP%]{margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid}.insights-section[_ngcontent-%COMP%]   .insight-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.insights-section[_ngcontent-%COMP%]   .insight-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insight-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insight-card.optimization[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-tag[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;line-height:1.5}@media (max-width: 768px){.work-order-analytics[_ngcontent-%COMP%]{padding:1rem}.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.metrics-grid[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.pie-chart[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:150px;height:150px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{width:90px;height:90px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:1.5rem}.technician-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};function Rn(r,e){r&1&&(n(0,"div",15),u(),n(1,"svg",10),m(2,"path",16),o(),M(),n(3,"span"),s(4,"Work order created successfully!"),o()())}function Nn(r,e){if(r&1&&(n(0,"div",17),u(),n(1,"svg",10),m(2,"path",18),o(),M(),n(3,"span"),s(4),o()()),r&2){let t=d();a(4),f(t.errorMessage)}}function Gn(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("title")," ")}}function Un(r,e){r&1&&(n(0,"span",64),s(1,"Select status"),o())}function qn(r,e){if(r&1&&(n(0,"div",65)(1,"div",66),u(),n(2,"svg",67),m(3,"path",16),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let t=d(2);a(),y("background-color",t.getStatusColor(t.selectedStatus.slug)+"20"),a(),y("color",t.getStatusColor(t.selectedStatus.slug)),a(3),f(t.selectedStatus.name)}}function Yn(r,e){if(r&1){let t=b();n(0,"button",72),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.selectStatus(c))}),n(1,"div",73)(2,"div",74),u(),n(3,"svg",67),m(4,"path",16),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",77),s(9),o()()()()}if(r&2){let t=e.$implicit,i=d(3);h("selected",(i.selectedStatus==null?null:i.selectedStatus.id)===t.id),a(2),y("background-color",i.getStatusColor(t.slug)+"20"),a(),y("color",i.getStatusColor(t.slug)),a(4),f(t.name),a(2),f(i.getStatusDescription(t))}}function Qn(r,e){if(r&1&&(n(0,"div",69)(1,"div",70),s(2,"Select status"),o(),_(3,Yn,10,8,"button",71),o()),r&2){let t=d(2);a(3),g("ngForOf",t.statusOptions)}}function Zn(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("status_id")," ")}}function Jn(r,e){r&1&&(n(0,"span",64),s(1,"Select priority"),o())}function Kn(r,e){if(r&1&&(n(0,"div",65)(1,"div",78),u(),n(2,"svg",67),m(3,"path",79),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let t=d(2);a(),y("background-color",t.getPriorityColor(t.selectedPriority)+"20"),a(),y("color",t.getPriorityColor(t.selectedPriority)),a(3),f(t.selectedPriority.name)}}function Xn(r,e){if(r&1){let t=b();n(0,"button",72),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.selectPriority(c))}),n(1,"div",73)(2,"div",74),u(),n(3,"svg",67),m(4,"path",79),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",77),s(9),o()()()()}if(r&2){let t=e.$implicit,i=d(3);h("selected",(i.selectedPriority==null?null:i.selectedPriority.id)===t.id),a(2),y("background-color",i.getPriorityColor(t)+"20"),a(),y("color",i.getPriorityColor(t)),a(4),f(t.name),a(2),f(i.getPriorityDescription(t))}}function to(r,e){if(r&1&&(n(0,"div",69)(1,"div",70),s(2,"Select priority"),o(),_(3,Xn,10,8,"button",71),o()),r&2){let t=d(2);a(3),g("ngForOf",t.priorityOptions)}}function eo(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("priority_id")," ")}}function no(r,e){r&1&&(n(0,"span",64),s(1,"Select category (optional)"),o())}function oo(r,e){if(r&1&&(n(0,"div",65)(1,"div",80),u(),n(2,"svg",67),m(3,"path",81),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let t=d(2);a(5),f(t.selectedCategory.name)}}function ro(r,e){if(r&1){let t=b();n(0,"button",72),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.selectCategory(c))}),n(1,"div",73)(2,"div",74),u(),n(3,"svg",67),m(4,"path",81),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",84),s(9),o()()()()}if(r&2){let t=e.$implicit,i=d(3);h("selected",(i.selectedCategory==null?null:i.selectedCategory.id)===t.id),a(7),f(t.name),a(2),f(i.getCategoryDescription(t))}}function io(r,e){if(r&1){let t=b();n(0,"div",69)(1,"div",70),s(2,"Select category"),o(),n(3,"button",72),p("click",function(){O(t);let c=d(2);return C(c.selectCategory(null))}),n(4,"div",73)(5,"div",82),u(),n(6,"svg",67),m(7,"path",83),o()(),M(),n(8,"div",75)(9,"div",76),s(10,"No Category"),o(),n(11,"div",84),s(12,"Work order without specific category"),o()()()(),_(13,ro,10,4,"button",71),o()}if(r&2){let t=d(2);a(13),g("ngForOf",t.categoryOptions)}}function ao(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("category_id")," ")}}function so(r,e){if(r&1&&(n(0,"option",85),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),P(" ",t.name||t.asset_name||"Asset "+t.id," ")}}function co(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("asset_id")," ")}}function lo(r,e){if(r&1&&(n(0,"option",85),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),P(" ",t.name||"Location "+t.id," ")}}function go(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("location_id")," ")}}function mo(r,e){if(r&1&&(n(0,"option",85),s(1),o()),r&2){let t=e.$implicit;g("value",t.id),a(),S(" ",t.first_name," ",t.last_name," ")}}function _o(r,e){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let t=d(2);a(),P(" ",t.getFieldError("assigned_to")," ")}}function po(r,e){r&1&&(u(),n(0,"svg",86),m(1,"circle",87)(2,"path",88),o())}function Oo(r,e){if(r&1){let t=b();n(0,"div",19),p("click",function(c){O(t);let l=d();return C(l.closeCreateModal(c))}),n(1,"div",20),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",21),u(),n(3,"svg",22),m(4,"path",23)(5,"path",24),o(),M(),n(6,"h2"),s(7,"Create New Work Order"),o()(),n(8,"div",25)(9,"form",26),p("ngSubmit",function(){O(t);let c=d();return C(c.onSubmit())}),n(10,"div",27)(11,"div",28),u(),n(12,"svg",29),m(13,"path",30),o(),M(),n(14,"h3"),s(15,"Basic Information"),o()(),n(16,"div",31)(17,"div",32)(18,"label"),s(19,"Title "),n(20,"span",33),s(21,"*"),o()(),m(22,"input",34),_(23,Gn,2,1,"div",35),o()(),n(24,"div",36)(25,"div",32)(26,"label"),s(27,"Status "),n(28,"span",33),s(29,"*"),o()(),n(30,"div",37),p("click",function(c){return O(t),C(c.stopPropagation())}),n(31,"button",38),p("click",function(){O(t);let c=d();return C(c.toggleStatusDropdown())}),n(32,"div",39),_(33,Un,2,0,"span",40)(34,qn,6,5,"div",41),u(),n(35,"svg",42),m(36,"path",43),o()()(),_(37,Qn,4,1,"div",44),o(),_(38,Zn,2,1,"div",35),o(),M(),n(39,"div",32)(40,"label"),s(41,"Priority "),n(42,"span",33),s(43,"*"),o()(),n(44,"div",45),p("click",function(c){return O(t),C(c.stopPropagation())}),n(45,"button",38),p("click",function(){O(t);let c=d();return C(c.togglePriorityDropdown())}),n(46,"div",39),_(47,Jn,2,0,"span",40)(48,Kn,6,5,"div",41),u(),n(49,"svg",42),m(50,"path",43),o()()(),_(51,to,4,1,"div",44),o(),_(52,eo,2,1,"div",35),o()(),M(),n(53,"div",36)(54,"div",32)(55,"label"),s(56,"Category (Optional)"),o(),n(57,"div",46),p("click",function(c){return O(t),C(c.stopPropagation())}),n(58,"button",38),p("click",function(){O(t);let c=d();return C(c.toggleCategoryDropdown())}),n(59,"div",39),_(60,no,2,0,"span",40)(61,oo,6,1,"div",41),u(),n(62,"svg",42),m(63,"path",43),o()()(),_(64,io,14,1,"div",44),o(),_(65,ao,2,1,"div",35),o(),M(),n(66,"div",32)(67,"label"),s(68,"Due Date"),o(),m(69,"input",47),o()(),n(70,"div",31)(71,"div",32)(72,"label"),s(73,"Description"),o(),m(74,"textarea",48),o()(),n(75,"div",36)(76,"div",32)(77,"label"),s(78,"Estimated Hours"),o(),m(79,"input",49),o(),n(80,"div",32)(81,"label"),s(82,"Notes"),o(),m(83,"textarea",50),o()()(),n(84,"div",27)(85,"div",28),u(),n(86,"svg",29),m(87,"path",51)(88,"path",52),o(),M(),n(89,"h3"),s(90,"Assignment & Location"),o()(),n(91,"div",36)(92,"div",32)(93,"label"),s(94,"Asset (Optional)"),o(),n(95,"select",53)(96,"option",54),s(97),o(),_(98,so,2,2,"option",55),o(),_(99,co,2,1,"div",35),n(100,"div",56)(101,"small"),s(102,"Select an existing asset from your assets list"),o()()(),n(103,"div",32)(104,"label"),s(105,"Location (Optional)"),o(),n(106,"select",57)(107,"option",54),s(108),o(),_(109,lo,2,2,"option",55),o(),_(110,go,2,1,"div",35),n(111,"div",56)(112,"small"),s(113,"Select an existing location from your locations list"),o()()()(),n(114,"div",36)(115,"div",32)(116,"label"),s(117,"Assign To Team Member (Optional)"),o(),n(118,"select",58)(119,"option",54),s(120),o(),_(121,mo,2,3,"option",55),o(),_(122,_o,2,1,"div",35),n(123,"div",56)(124,"small"),s(125,"Select an existing team member to assign the work order to"),o()()()()()()(),n(126,"div",59)(127,"button",60),p("click",function(){O(t);let c=d();return C(c.closeCreateModal())}),s(128,"Cancel"),o(),n(129,"button",61),p("click",function(){O(t);let c=d();return C(c.onSubmit())}),_(130,po,3,0,"svg",62),s(131),o()()()()}if(r&2){let t=d();a(9),g("formGroup",t.workOrderForm),a(8),h("error",t.hasFieldError("title")),a(5),h("error-input",t.hasFieldError("title")),a(),g("ngIf",t.hasFieldError("title")),a(2),h("error",t.hasFieldError("status_id")),a(6),h("error",t.hasFieldError("status_id"))("active",t.showStatusDropdown),a(2),g("ngIf",!t.selectedStatus),a(),g("ngIf",t.selectedStatus),a(),h("rotated",t.showStatusDropdown),a(2),g("ngIf",t.showStatusDropdown),a(),g("ngIf",t.hasFieldError("status_id")),a(),h("error",t.hasFieldError("priority_id")),a(6),h("error",t.hasFieldError("priority_id"))("active",t.showPriorityDropdown),a(2),g("ngIf",!t.selectedPriority),a(),g("ngIf",t.selectedPriority),a(),h("rotated",t.showPriorityDropdown),a(2),g("ngIf",t.showPriorityDropdown),a(),g("ngIf",t.hasFieldError("priority_id")),a(2),h("error",t.hasFieldError("category_id")),a(4),h("error",t.hasFieldError("category_id"))("active",t.showCategoryDropdown),a(2),g("ngIf",!t.selectedCategory),a(),g("ngIf",t.selectedCategory),a(),h("rotated",t.showCategoryDropdown),a(2),g("ngIf",t.showCategoryDropdown),a(),g("ngIf",t.hasFieldError("category_id")),a(27),h("error",t.hasFieldError("asset_id")),a(3),h("error-input",t.hasFieldError("asset_id")),g("disabled",t.assets.length===0),a(2),f(t.assets.length===0?"Loading assets...":"Select an asset"),a(),g("ngForOf",t.assets),a(),g("ngIf",t.hasFieldError("asset_id")),a(4),h("error",t.hasFieldError("location_id")),a(3),h("error-input",t.hasFieldError("location_id")),g("disabled",t.locations.length===0),a(2),f(t.locations.length===0?"Loading locations...":"Select a location"),a(),g("ngForOf",t.locations),a(),g("ngIf",t.hasFieldError("location_id")),a(5),h("error",t.hasFieldError("assigned_to")),a(3),h("error-input",t.hasFieldError("assigned_to")),g("disabled",t.teamMembers.length===0),a(2),f(t.teamMembers.length===0?"Loading team members...":"Select a team member"),a(),g("ngForOf",t.teamMembers),a(),g("ngIf",t.hasFieldError("assigned_to")),a(5),g("disabled",t.isLoading),a(2),g("disabled",t.isLoading),a(),g("ngIf",t.isLoading),a(),P(" ",t.isLoading?"Creating...":"Create Work Order"," ")}}var Ut=class r{constructor(e,t,i,c,l,E){this.fb=e;this.workOrderService=t;this.assetService=i;this.locationService=c;this.teamService=l;this.metaWorkOrdersService=E;this.workOrderForm=this.fb.group({title:["",z.required],status_id:[null,z.required],priority_id:[null,z.required],category_id:[null],due_date:[""],description:[""],asset_id:[""],location_id:[""],assigned_to:[""],team_id:[""],estimated_hours:[""],notes:[""]})}workOrderList;workOrderStats;workOrderAnalytics;activeTab="work-orders";showCreateModal=!1;workOrderForm;isLoading=!1;showSuccessMessage=!1;showErrorMessage=!1;errorMessage="";fieldErrors={};currentFilters={};assets=[];locations=[];teamMembers=[];statusOptions=[];priorityOptions=[];categoryOptions=[];showStatusDropdown=!1;showPriorityDropdown=!1;showCategoryDropdown=!1;selectedStatus=null;selectedPriority=null;selectedCategory=null;subscription=new j;ngOnInit(){console.log("WorkOrdersComponent: ngOnInit called"),console.log("WorkOrdersComponent: Initial activeTab:",this.activeTab),this.loadSelectData(),this.loadMetadataOptions()}ngAfterViewInit(){console.log("WorkOrdersComponent: ngAfterViewInit called"),console.log("WorkOrdersComponent: workOrderList component:",this.workOrderList),console.log("WorkOrdersComponent: workOrderStats component:",this.workOrderStats),console.log("WorkOrdersComponent: workOrderAnalytics component:",this.workOrderAnalytics)}ngOnDestroy(){this.subscription.unsubscribe()}loadMetadataOptions(){this.metaWorkOrdersService.clearAllCache(),this.subscription.add(this.metaWorkOrdersService.getStatus().subscribe({next:e=>{if(this.statusOptions=e,e.length>0){let t=e.find(i=>i.slug==="open")||e[0];this.selectedStatus=t,this.workOrderForm.patchValue({status_id:t.id})}},error:e=>{console.error("Error loading statuses:",e),this.statusOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getPriorities().subscribe({next:e=>{if(this.priorityOptions=e,e.length>0){let t=e.find(i=>i.slug==="medium")||e[0];this.selectedPriority=t,this.workOrderForm.patchValue({priority_id:t.id})}},error:e=>{console.error("Error loading priorities:",e),this.priorityOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getCategories().subscribe({next:e=>{this.categoryOptions=e},error:e=>{console.error("Error loading categories:",e),this.categoryOptions=[]}}))}loadSelectData(){this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:e=>{e.success&&e.data?this.assets=e.data.assets||e.data||[]:(this.assets=[],console.warn("Assets response format unexpected:",e))},error:e=>{console.error("Error loading assets:",e),this.assets=[]}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:e=>{e.success&&e.data?this.locations=e.data.locations||e.data||[]:(this.locations=[],console.warn("Locations response format unexpected:",e))},error:e=>{console.error("Error loading locations:",e),this.locations=[]}})),this.subscription.add(this.teamService.getTeamMembers().subscribe({next:e=>{e.success&&e.data?this.teamMembers=e.data||[]:(this.teamMembers=[],console.warn("Team members response format unexpected:",e))},error:e=>{console.error("Error loading team members:",e),this.teamMembers=[]}}))}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1}togglePriorityDropdown(){this.showPriorityDropdown=!this.showPriorityDropdown,this.showStatusDropdown=!1,this.showCategoryDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1}selectStatus(e){this.selectedStatus=e,this.workOrderForm.patchValue({status_id:e.id}),this.showStatusDropdown=!1}selectPriority(e){this.selectedPriority=e,this.workOrderForm.patchValue({priority_id:e.id}),this.showPriorityDropdown=!1}selectCategory(e){this.selectedCategory=e,this.workOrderForm.patchValue({category_id:e?.id||null}),this.showCategoryDropdown=!1}getStatusLabel(){return this.selectedStatus?this.selectedStatus.name:"Select status"}getPriorityLabel(){return this.selectedPriority?this.selectedPriority.name:"Select priority"}getCategoryLabel(){return this.selectedCategory?this.selectedCategory.name:"Select category (optional)"}getStatusValue(){return this.selectedStatus?this.selectedStatus.id:null}getPriorityValue(){return this.selectedPriority?this.selectedPriority.id:null}getCategoryValue(){return this.selectedCategory?this.selectedCategory.id:null}getStatusColor(e){if(!e)return"#6B7280";switch(e){case"open":return"#10B981";case"in-progress":return"#F59E0B";case"completed":return"#3B82F6";case"cancelled":return"#EF4444";case"on-hold":return"#8B5CF6";default:return"#6B7280"}}getPriorityColor(e){if(!e)return"#6B7280";switch(e.slug){case"low":return"#10B981";case"medium":return"#F59E0B";case"high":return"#F97316";case"critical":return"#EF4444";case"ppm":return"#8B5CF6";default:return"#6B7280"}}getStatusDescription(e){if(!e)return"Select a status for this work order";switch(e.slug){case"open":return"Work order is open and ready to be assigned";case"in-progress":return"Work order is currently being worked on";case"completed":return"Work order has been completed successfully";case"cancelled":return"Work order has been cancelled";case"on-hold":return"Work order is temporarily on hold";default:return e.name}}getPriorityDescription(e){if(!e)return"Select a priority level for this work order";switch(e.slug){case"low":return"Low priority - can be addressed when convenient";case"medium":return"Medium priority - should be addressed soon";case"high":return"High priority - needs immediate attention";case"critical":return"Critical priority - urgent, requires immediate action";case"ppm":return"Preventive maintenance - scheduled maintenance task";default:return e.name}}getCategoryDescription(e){switch(e.slug){case"preventive-maintenance":return"Regular scheduled maintenance to prevent breakdowns";case"corrective-maintenance":return"Repair work to fix existing problems";case"emergency-maintenance":return"Urgent repairs requiring immediate attention";case"inspection":return"Regular inspections and assessments";case"calibration":return"Equipment calibration and adjustment";case"cleaning":return"Cleaning and general upkeep";case"lubrication":return"Lubrication and oil changes";case"filter-replacement":return"Filter and consumable replacement";case"belt-replacement":return"Belt and drive component replacement";case"electrical":return"Electrical system maintenance";case"mechanical":return"Mechanical system maintenance";case"plumbing":return"Plumbing system maintenance";case"hvac":return"HVAC system maintenance";default:return"Maintenance category"}}onDocumentClick(e){let t=e.target;!t.closest(".status-dropdown")&&!t.closest(".priority-dropdown")&&!t.closest(".category-dropdown")&&(this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1)}setActiveTab(e){console.log("WorkOrdersComponent: setActiveTab called with:",e),this.activeTab=e,console.log("WorkOrdersComponent: activeTab is now:",this.activeTab),e==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()}openCreateModal(){this.showCreateModal=!0,this.resetMessages(),this.loadSelectData(),this.loadMetadataOptions()}closeCreateModal(e){e&&e.target.classList.contains("modal-overlay")?this.showCreateModal=!1:e||(this.showCreateModal=!1),this.resetMessages()}resetMessages(){this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage="",this.fieldErrors={}}showSuccess(){this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)}showError(e,t){this.errorMessage=e,this.showErrorMessage=!0,t&&(this.fieldErrors=t),setTimeout(()=>{this.showErrorMessage=!1,this.fieldErrors={}},8e3)}getFieldError(e){return this.fieldErrors[e]?this.fieldErrors[e].join(", "):""}hasFieldError(e){return!!this.fieldErrors[e]&&this.fieldErrors[e].length>0}onFiltersChanged(e){this.currentFilters=e,console.log("Filters received in main component:",e),this.workOrderList}onSubmit(){if(this.workOrderForm.valid){this.isLoading=!0,this.resetMessages();let e={title:this.workOrderForm.value.title,description:this.workOrderForm.value.description||void 0,status_id:this.workOrderForm.value.status_id,priority_id:this.workOrderForm.value.priority_id,category_id:this.workOrderForm.value.category_id||void 0,due_date:this.workOrderForm.value.due_date||void 0,asset_id:this.workOrderForm.value.asset_id||void 0,location_id:this.workOrderForm.value.location_id||void 0,assigned_to:this.workOrderForm.value.assigned_to||void 0,team_id:this.workOrderForm.value.team_id||void 0,estimated_hours:this.workOrderForm.value.estimated_hours||void 0,notes:this.workOrderForm.value.notes||void 0};this.subscription.add(this.workOrderService.createWorkOrder(e).subscribe({next:t=>{console.log("Work order created successfully:",t),this.showSuccess(),this.closeCreateModal(),this.workOrderForm.reset({status_id:this.selectedStatus?.id||null,priority_id:this.selectedPriority?.id||null,category_id:null}),this.selectedCategory=null,this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.activeTab==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()},error:t=>{if(console.error("Error creating work order:",t),t.error?.errors){let i=t.error.errors,c=t.error?.message||"Please fix the validation errors below.";this.showError(c,i)}else t.error?.message?this.showError(t.error.message):this.showError("Failed to create work order. Please try again.")},complete:()=>{this.isLoading=!1}}))}}refreshAllData(){this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.workOrderAnalytics&&this.workOrderAnalytics.refreshData(),this.loadSelectData(),this.loadMetadataOptions()}static \u0275fac=function(t){return new(t||r)(v(K),v(T),v(Ot),v(Ct),v(ut),v(tt))};static \u0275cmp=W({type:r,selectors:[["app-work-orders"]],viewQuery:function(t,i){if(t&1&&(yt(ft,5),yt(Pt,5),yt(et,5)),t&2){let c;St(c=Et())&&(i.workOrderList=c.first),St(c=Et())&&(i.workOrderStats=c.first),St(c=Et())&&(i.workOrderAnalytics=c.first)}},hostBindings:function(t,i){t&1&&p("click",function(l){return i.onDocumentClick(l)},!1,ct)},standalone:!1,decls:25,vars:11,consts:[[1,"work-orders-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"header"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[1,"work-orders-content"],[1,"create-button-container"],[1,"create-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[3,"createWorkOrderRequested"],[1,"analytics-content"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"success-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"error-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"section-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"form-row","full-width"],[1,"form-group"],[1,"required"],["type","text","formControlName","title","placeholder","Enter work order title"],["class","field-error",4,"ngIf"],[1,"form-row"],[1,"relative","status-dropdown",3,"click"],["type","button",1,"dropdown-button",3,"click"],[1,"dropdown-content"],["class","placeholder",4,"ngIf"],["class","selected-item",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"dropdown-arrow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],[1,"relative","priority-dropdown",3,"click"],[1,"relative","category-dropdown",3,"click"],["type","datetime-local","formControlName","due_date"],["formControlName","description","placeholder","Enter work order description"],["type","number","formControlName","estimated_hours","placeholder","0","min","0","step","0.5"],["formControlName","notes","placeholder","Additional notes"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["formControlName","asset_id",3,"disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"field-help"],["formControlName","location_id",3,"disabled"],["formControlName","assigned_to",3,"disabled"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","animate-spin -ml-1 mr-2 h-4 w-4 text-white","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"field-error"],[1,"placeholder"],[1,"selected-item"],[1,"status-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],[1,"selected-text"],[1,"dropdown-menu"],[1,"dropdown-header"],["type","button","class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-item",3,"click"],[1,"item-content"],[1,"item-icon"],[1,"item-details"],[1,"item-name"],[1,"item-description","!text-xs"],[1,"priority-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"category-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"item-icon","no-category"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"item-description"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){t&1&&(n(0,"div",0),_(1,Rn,5,0,"div",1)(2,Nn,5,1,"div",2),n(3,"div",3)(4,"h1"),s(5,"Work Order Management"),o(),n(6,"p"),s(7,"Streamline maintenance workflows with intelligent work order tracking and scheduling."),o()(),n(8,"div",4)(9,"div",5),p("click",function(){return i.setActiveTab("work-orders")}),s(10," Work Orders "),o(),n(11,"div",5),p("click",function(){return i.setActiveTab("analytics")}),s(12," Analytics "),o()(),n(13,"div",6)(14,"div",7),m(15,"app-work-order-stats"),n(16,"div",8)(17,"button",9),p("click",function(){return i.openCreateModal()}),u(),n(18,"svg",10),m(19,"path",11),o(),s(20," Create Work Order "),o()(),M(),n(21,"app-work-order-list",12),p("createWorkOrderRequested",function(){return i.openCreateModal()}),o()(),n(22,"div",13),m(23,"app-work-order-analytics"),o()()(),_(24,Oo,132,70,"div",14)),t&2&&(a(),g("ngIf",i.showSuccessMessage),a(),g("ngIf",i.showErrorMessage),a(7),h("active",i.activeTab==="work-orders"),a(2),h("active",i.activeTab==="analytics"),a(3),h("active",i.activeTab==="work-orders"),a(8),h("active",i.activeTab==="analytics"),a(2),g("ngIf",i.showCreateModal))},dependencies:[F,I,gt,mt,_t,B,Q,Ht,$,Y,pt,Z,J,et,ft,Pt],styles:[`@charset "UTF-8";.work-orders-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f8fafc;min-height:100vh}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;font-weight:400}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem;border-bottom:1px solid #e2e8f0}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.75rem 0;font-size:1.125rem;font-weight:500;color:#64748b;cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#2563eb;font-weight:600;border-bottom-color:#2563eb}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#1e40af}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;border:2px dashed #e2e8f0;box-shadow:0 1px 3px #0000001a}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#374151;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:1.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;font-weight:500;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;transition:all .2s ease;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]{border-color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;appearance:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6;background-color:#f9fafb}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem;color:#374151;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;opacity:.6;transition:opacity .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]:hover::-webkit-calendar-picker-indicator{opacity:1}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;font-weight:500;display:flex;align-items:center;gap:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]{margin-top:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-style:italic}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}@media (max-width: 768px){.work-orders-container[_ngcontent-%COMP%]{padding:1rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{gap:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{padding:2rem 1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.status-dropdown[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]{position:relative}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;text-align:left;border:1px solid #d1d5db;border-radius:.5rem;background-color:#fff;transition:all .2s ease;cursor:pointer}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%]{border-color:#fca5a5}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6}.status-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.status-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#9ca3af}.status-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border-radius:.25rem;display:flex;align-items:center;justify-content:center}.status-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%]{background-color:#f3f4f6}.status-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1rem;height:1rem}.status-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.status-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:50;width:100%;margin-top:.25rem;background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;max-height:15rem;overflow:auto}.status-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background-color:#f9fafb}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem;text-align:left;border:none;background:none;cursor:pointer;transition:background-color .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#eff6ff;outline:none}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.status-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;background-color:#eff6ff}.status-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{flex:1}.status-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.status-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-top:.125rem}`]})};function Co(r,e){if(r&1){let t=b();n(0,"div",15)(1,"div",16)(2,"div",17),s(3),o(),n(4,"div",18),s(5),o()(),n(6,"div",19)(7,"button",20),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.addToCart(c))}),s(8,"Add"),o()()()}if(r&2){let t=e.$implicit;a(3),f(t.name),a(2),S("UoM: ",t.uom||"-"," \u2022 On hand: ",t.on_hand||"-","")}}function uo(r,e){if(r&1&&(n(0,"div",13),_(1,Co,9,3,"div",14),o()),r&2){let t=d(2);a(),g("ngForOf",t.results)}}function Mo(r,e){if(r&1){let t=b();n(0,"div",23)(1,"div",16),s(2),o(),n(3,"div",19)(4,"input",24),at("ngModelChange",function(c){let l=O(t).$implicit;return it(l.qty,c)||(l.qty=c),C(c)}),o(),n(5,"input",25),at("ngModelChange",function(c){let l=O(t).$implicit;return it(l.unit_cost,c)||(l.unit_cost=c),C(c)}),o(),n(6,"button",26),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.removeFromCart(c.part.id))}),s(7,"\u{1F5D1}"),o()()()}if(r&2){let t=e.$implicit;a(2),f(t.part.name),a(2),rt("ngModel",t.qty),a(),rt("ngModel",t.unit_cost)}}function fo(r,e){if(r&1&&(n(0,"div",21),_(1,Mo,8,3,"div",22),o()),r&2){let t=d(2);a(),g("ngForOf",t.cart)}}function Po(r,e){if(r&1){let t=b();n(0,"div",1),p("click",function(){O(t);let c=d();return C(c.close())}),n(1,"div",2),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",3)(3,"h3"),s(4,"Add Parts"),o(),n(5,"button",4),p("click",function(){O(t);let c=d();return C(c.close())}),s(6,"\xD7"),o()(),n(7,"div",5)(8,"div",6)(9,"input",7),at("ngModelChange",function(c){O(t);let l=d();return it(l.query,c)||(l.query=c),C(c)}),o(),n(10,"button",8),p("click",function(){O(t);let c=d();return C(c.search())}),s(11,"Search"),o()(),_(12,uo,2,1,"div",9)(13,fo,2,1,"div",10),o(),n(14,"div",11)(15,"button",12),p("click",function(){O(t);let c=d();return C(c.close())}),s(16,"Cancel"),o(),n(17,"button",8),p("click",function(){O(t);let c=d();return C(c.save())}),s(18,"Add to Work Order"),o()()()()}if(r&2){let t=d();a(9),rt("ngModel",t.query),a(),g("disabled",t.loading),a(2),g("ngIf",t.results.length),a(),g("ngIf",t.cart.length),a(4),g("disabled",t.cart.length===0)}}var qt=class r{constructor(e,t){this.woService=e;this.inv=t}workOrderId;isOpen=!1;closed=new V;saved=new V;query="";results=[];cart=[];loading=!1;search(){this.loading=!0,this.inv.getPartsCatalog(this.query||void 0,void 0,1,10).subscribe({next:e=>{this.results=e?.data?.data||[],this.loading=!1},error:()=>{this.loading=!1}})}addToCart(e){let t=this.cart.find(i=>i.part.id===e.id);if(t){t.qty+=1;return}this.cart.push({part:e,qty:1,unit_cost:e.unit_cost||void 0})}removeFromCart(e){this.cart=this.cart.filter(t=>t.part.id!==e)}save(){return ht(this,null,function*(){if(!this.workOrderId||this.cart.length===0){this.closed.emit();return}let e=this.cart.map(t=>({part_id:t.part.id,qty:t.qty,unit_cost:t.unit_cost}));this.woService.addParts(this.workOrderId,e).subscribe({next:t=>{this.saved.emit(t),this.closed.emit()}})})}close(){this.closed.emit()}ngOnChanges(e){e.isOpen&&this.isOpen&&this.results.length===0&&!this.loading&&this.search()}static \u0275fac=function(t){return new(t||r)(v(T),v(pe))};static \u0275cmp=W({type:r,selectors:[["app-add-work-order-parts-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed",saved:"saved"},standalone:!1,features:[st],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"search-row"],["placeholder","Search parts by name or code",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],["class","results",4,"ngIf"],["class","cart",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"results"],["class","result-row",4,"ngFor","ngForOf"],[1,"result-row"],[1,"left"],[1,"name"],[1,"sub"],[1,"right"],[1,"btn",3,"click"],[1,"cart"],["class","cart-row",4,"ngFor","ngForOf"],[1,"cart-row"],["type","number","min","0.001","step","0.001",1,"qty",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01","placeholder","Unit cost",1,"cost",3,"ngModelChange","ngModel"],[1,"icon",3,"click"]],template:function(t,i){t&1&&_(0,Po,19,5,"div",0),t&2&&g("ngIf",i.isOpen)},dependencies:[F,I,B,Q,$,pt,zt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.form-input[_ngcontent-%COMP%]{flex:1;border:1px solid #d1d5db;border-radius:8px;padding:.5rem .75rem}.search-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.results[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;flex-direction:column;gap:.5rem}.result-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.result-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.result-row[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.cart[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;gap:.5rem}.cart-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.cart-row[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{width:6rem}.cart-row[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{width:7rem;margin-left:.5rem}.cart-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:.5rem;background:transparent;border:none;cursor:pointer}"]})};function bo(r,e){r&1&&(n(0,"div",14),s(1,"Loading costs..."),o())}function vo(r,e){r&1&&(n(0,"div",14),s(1,"No parts added."),o())}function wo(r,e){if(r&1&&(n(0,"div",17)(1,"div",18),s(2),o(),n(3,"div",19),s(4),o(),n(5,"div",20),s(6),w(7,"number"),o()()),r&2){let t=e.$implicit;a(2),f((t.part==null?null:t.part.name)||"Part #"+t.part_id),a(2),P("x",t.qty,""),a(2),P("$",k(7,3,(t.unit_cost||0)*(t.qty||0),"1.2-2"),"")}}function ko(r,e){if(r&1&&(n(0,"div",15),_(1,wo,8,6,"div",16),o()),r&2){let t=d(2);a(),g("ngForOf",t.parts)}}function xo(r,e){if(r&1){let t=b();n(0,"div",1),p("click",function(){O(t);let c=d();return C(c.close())}),n(1,"div",2),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",3)(3,"h3"),s(4,"Work Order Costs"),o(),n(5,"button",4),p("click",function(){O(t);let c=d();return C(c.close())}),s(6,"\xD7"),o()(),n(7,"div",5),_(8,bo,2,0,"div",6),n(9,"div",7)(10,"div")(11,"div",8),s(12,"Labor"),o(),n(13,"div",9),s(14),w(15,"number"),w(16,"number"),o()(),n(17,"div")(18,"div",8),s(19,"Parts"),o(),n(20,"div",9),s(21),w(22,"number"),o()(),n(23,"div")(24,"div",8),s(25,"Total"),o(),n(26,"div",10),s(27),w(28,"number"),o()()(),n(29,"h4"),s(30,"Parts"),o(),_(31,vo,2,0,"div",6)(32,ko,2,1,"div",11),o(),n(33,"div",12)(34,"button",13),p("click",function(){O(t);let c=d();return C(c.close())}),s(35,"Close"),o()()()()}if(r&2){let t=d();a(8),g("ngIf",t.loading),a(6),S("",k(15,7,t.laborMinutes/60,"1.2-2")," hrs \u2022 $",k(16,10,t.laborCost,"1.2-2"),""),a(7),P("$",k(22,13,t.partsCost,"1.2-2"),""),a(6),P("$",k(28,16,t.totalCost,"1.2-2"),""),a(4),g("ngIf",t.parts.length===0),a(),g("ngIf",t.parts.length)}}var Yt=class r{constructor(e){this.woService=e}workOrderId;isOpen=!1;closed=new V;loading=!1;timeLogs=[];parts=[];laborMinutes=0;laborCost=0;partsCost=0;totalCost=0;ngOnChanges(e){e.isOpen&&this.isOpen&&this.workOrderId&&this.fetchCosts()}fetchCosts(){this.loading=!0;let e=this.workOrderId;this.woService.getTimeLogs(e).subscribe({next:t=>{this.timeLogs=t.logs||[],this.laborMinutes=t.totals?.total_minutes||0,this.laborCost=t.totals?.total_cost||0,this.computeTotals()}}),this.woService.getParts(e).subscribe({next:t=>{this.parts=t||[],this.computeTotals(),this.loading=!1},error:()=>{this.loading=!1}})}computeTotals(){this.partsCost=(this.parts||[]).reduce((e,t)=>{let i=t.unit_cost??0,c=t.qty??0;return e+i*c},0),this.totalCost=(this.laborCost||0)+(this.partsCost||0)}close(){this.closed.emit()}static \u0275fac=function(t){return new(t||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-view-costs-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed"},standalone:!1,features:[st],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","text-sm text-gray-500",4,"ngIf"],[1,"summary"],[1,"label"],[1,"value"],[1,"value","total"],["class","parts-list",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"text-sm","text-gray-500"],[1,"parts-list"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"name"],[1,"qty"],[1,"cost"]],template:function(t,i){t&1&&_(0,xo,36,19,"div",0),t&2&&g("ngIf",i.isOpen)},dependencies:[F,I,Tt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1rem}.summary[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.summary[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#111827}.parts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.parts-list[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.parts-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.parts-list[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:#6b7280}.parts-list[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-weight:600}"]})};function So(r,e){if(r&1&&(n(0,"p"),s(1),o()),r&2){let t=d().$implicit;a(),S("by ",t.user.first_name," ",t.user.last_name,"")}}function Eo(r,e){if(r&1&&(n(0,"p"),s(1),o()),r&2){let t=d().$implicit;a(),P("\u201C",t.details.comment,"\u201D")}}function Wo(r,e){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4),o(),n(5,"p"),s(6),w(7,"date"),o(),_(8,So,2,2,"p",22)(9,Eo,2,1,"p",22),o()()),r&2){let t=e.$implicit;a(),h("dot-muted",t.type!=="created"),a(3),f(t.title),a(2),f(k(7,6,t.timestamp,"MMMM d, y 'at' h:mm a")),a(2),g("ngIf",t.user),a(),g("ngIf",t.type==="comment"&&(t.details==null?null:t.details.comment))}}function Io(r,e){if(r&1){let t=b();n(0,"div",11),p("click",function(){O(t);let c=d();return C(c.closeHistoryModal())}),n(1,"div",12),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",13)(3,"h3"),s(4,"Full History"),o(),n(5,"button",14),p("click",function(){O(t);let c=d();return C(c.closeHistoryModal())}),s(6,"\xD7"),o()(),n(7,"div",15),_(8,Wo,10,9,"div",16),o(),n(9,"div",17)(10,"button",18),p("click",function(){O(t);let c=d();return C(c.closeHistoryModal())}),s(11,"Close"),o()()()()}if(r&2){let t=d();a(8),g("ngForOf",t.fullHistory)}}function To(r,e){r&1&&(n(0,"div",23)(1,"div",24),u(),n(2,"svg",25),m(3,"circle",26)(4,"path",27),o(),M(),n(5,"span",28),s(6,"Loading work order..."),o()()())}function Vo(r,e){if(r&1){let t=b();n(0,"app-edit-work-order-modal",101),p("modalClosed",function(){O(t);let c=d(2);return C(c.closeEditModal())})("workOrderUpdated",function(c){O(t);let l=d(2);return C(l.onWorkOrderUpdated(c))}),o()}if(r&2){let t=d(2);g("isOpen",t.showEditModal)("workOrder",t.workOrder)}}function Fo(r,e){if(r&1){let t=b();n(0,"app-add-work-order-parts-modal",102),p("closed",function(){O(t);let c=d(2);return C(c.closeAddPartsModal())})("saved",function(){O(t);let c=d(2);return C(c.onPartsAdded())}),o()}if(r&2){let t=d(2);g("isOpen",t.showAddPartsModal)("workOrderId",t.workOrder==null?null:t.workOrder.id)}}function Ao(r,e){if(r&1){let t=b();n(0,"app-view-costs-modal",103),p("closed",function(){O(t);let c=d(2);return C(c.showViewCostsModal=!1)}),o()}if(r&2){let t=d(2);g("isOpen",t.showViewCostsModal)("workOrderId",t.workOrder==null?null:t.workOrder.id)}}function Lo(r,e){if(r&1&&(A(0),s(1),L()),r&2){let t=d().ngIf;a(),S(" ",t.first_name," ",t.last_name," ")}}function Do(r,e){if(r&1&&s(0),r&2){let t=d().ngIf;P(" ",t?"User ID: "+t:"Unassigned"," ")}}function zo(r,e){if(r&1&&(A(0),_(1,Lo,2,2,"ng-container",92)(2,Do,1,1,"ng-template",null,1,q),L()),r&2){let t=e.ngIf,i=U(3);a(),g("ngIf",t&&(t.first_name||t.last_name))("ngIfElse",i)}}function Ho(r,e){if(r&1&&(A(0),s(1),L()),r&2){let t=d().ngIf;a(),P(" ",t.name||t.asset_id," ")}}function jo(r,e){if(r&1&&s(0),r&2){let t=d().ngIf;P(" ",t?"Asset ID: "+t:"No Asset"," ")}}function Bo(r,e){if(r&1&&(A(0),_(1,Ho,2,1,"ng-container",92)(2,jo,1,1,"ng-template",null,2,q),L()),r&2){let t=e.ngIf,i=U(3);a(),g("ngIf",t&&(t.name||t.asset_id))("ngIfElse",i)}}function $o(r,e){if(r&1&&(A(0),s(1),L()),r&2){let t=d().ngIf;a(),P(" ",t.name||t.full_path," ")}}function Ro(r,e){if(r&1&&s(0),r&2){let t=d().ngIf;P(" ",t?"Location ID: "+t:"No Location"," ")}}function No(r,e){if(r&1&&(A(0),_(1,$o,2,1,"ng-container",92)(2,Ro,1,1,"ng-template",null,3,q),L()),r&2){let t=e.ngIf,i=U(3);a(),g("ngIf",t&&(t.name||t.full_path))("ngIfElse",i)}}function Go(r,e){if(r&1&&(n(0,"div",56)(1,"label"),s(2,"Notes"),o(),n(3,"p"),s(4),o()()),r&2){let t=d(2);a(4),f(t.workOrder==null?null:t.workOrder.notes)}}function Uo(r,e){if(r&1&&(n(0,"div",56)(1,"label"),s(2,"Tags"),o(),n(3,"p"),s(4),o()()),r&2){let t=d(2);a(4),f(t.workOrder==null?null:t.workOrder.tags)}}function qo(r,e){r&1&&(n(0,"span",104),s(1,"Active"),o())}function Yo(r,e){if(r&1&&(n(0,"div",105),s(1),o()),r&2){let t=d(2);a(),P(" ",t.displayedElapsed," ")}}function Qo(r,e){if(r&1&&(n(0,"div",106),s(1),w(2,"date"),o()),r&2){let t=d(2);a(),P(" Started ",k(2,1,t.timeLogs[0].start_time,"MMM d, hh:mm a")," ")}}function Zo(r,e){r&1&&(u(),m(0,"path",47))}function Jo(r,e){r&1&&(u(),m(0,"path",107))}function Ko(r,e){r&1&&(u(),m(0,"path",108))}function Xo(r,e){r&1&&(n(0,"div",109),s(1,"No time logs yet."),o())}function tr(r,e){if(r&1&&(A(0),s(1),w(2,"number"),L()),r&2){let t=d().$implicit;a(),P(" \u2022 ",k(2,1,t.duration_minutes||0,"1.0-0")," min ")}}function er(r,e){r&1&&(A(0),s(1,"\u2022 running"),L())}function nr(r,e){if(r&1&&(n(0,"div",110)(1,"div",111),u(),n(2,"svg",33),m(3,"path",58),o(),M(),n(4,"span"),s(5),o()(),n(6,"div",112),u(),n(7,"svg",33),m(8,"path",113),o(),M(),n(9,"span"),s(10),w(11,"date"),_(12,tr,3,4,"ng-container",22)(13,er,2,0,"ng-container",22),o()()()),r&2){let t=e.$implicit;a(5),f(t.user?t.user.first_name+" "+t.user.last_name:"Unknown"),a(5),P("",k(11,4,t.start_time,"MMM d, h:mm a")," "),a(2),g("ngIf",t.end_time),a(),g("ngIf",!t.end_time)}}function or(r,e){if(r&1&&(n(0,"option",114),s(1),o()),r&2){let t=e.$implicit,i=d(2);g("value",t.slug)("selected",i.getStatusLabel(i.workOrder==null?null:i.workOrder.status)===t.name),a(),P(" ",t.name," ")}}function rr(r,e){if(r&1&&(n(0,"span"),s(1),o()),r&2){let t=d().$implicit;a(),f(t.user?(t==null||t.user==null?null:t.user.first_name)+" "+(t==null||t.user==null?null:t.user.last_name):"Unknown User")}}function ir(r,e){if(r&1&&(n(0,"div",117)(1,"div",118),u(),n(2,"svg",33),m(3,"path",58),o(),_(4,rr,2,1,"span"),o(),M(),n(5,"div",119),s(6),o(),n(7,"div",120),u(),n(8,"svg",33),m(9,"path",113),o(),M(),n(10,"span"),s(11),w(12,"date"),o()()()),r&2){let t=e.$implicit;a(4),ot(t.user?4:-1),a(2),f(t.comment),a(5),f(k(12,3,t.created_at,"MMM d, y, h:mm a"))}}function ar(r,e){if(r&1&&(n(0,"div",115),_(1,ir,13,6,"div",116),o()),r&2){let t=d(2);a(),g("ngForOf",t.workOrder.comments)}}function sr(r,e){if(r&1&&(n(0,"p"),s(1),o()),r&2){let t=d().$implicit;a(),S("by ",t.user.first_name," ",t.user.last_name,"")}}function cr(r,e){if(r&1&&(n(0,"p"),s(1),o()),r&2){let t=d().$implicit;a(),P("\u201C",t.details.comment,"\u201D")}}function dr(r,e){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4),o(),n(5,"p"),s(6),w(7,"date"),o(),_(8,sr,2,2,"p",22)(9,cr,2,1,"p",22),o()()),r&2){let t=e.$implicit;a(),h("dot-muted",t.type!=="created"),a(3),f(t.title),a(2),f(k(7,6,t.timestamp,"MMMM d, y 'at' h:mm a")),a(2),g("ngIf",t.user),a(),g("ngIf",t.type==="comment"&&(t.details==null?null:t.details.comment))}}function lr(r,e){if(r&1){let t=b();A(0),_(1,dr,10,9,"div",16),n(2,"button",121),p("click",function(){O(t);let c=d(2);return C(c.openHistoryModal())}),s(3,"View all"),o(),L()}if(r&2){let t=d(2);a(),g("ngForOf",t.historyPreview)}}function gr(r,e){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4,"Created"),o(),n(5,"p"),s(6),w(7,"date"),o(),n(8,"p"),s(9),o()()(),n(10,"div",19),m(11,"div",122),n(12,"div",21)(13,"label"),s(14,"Last Updated"),o(),n(15,"p"),s(16),w(17,"date"),o()()()),r&2){let t=d(2);a(6),f(k(7,3,t.workOrder==null?null:t.workOrder.created_at,"MMMM d, y 'at' h:mm a")),a(3),P("by ",t.workOrder&&t.workOrder.created_by?t.workOrder.created_by.first_name+" "+t.workOrder.created_by.last_name:"Unknown",""),a(7),f(k(17,6,t.workOrder.updated_at,"MMMM d, y 'at' h:mm a"))}}function mr(r,e){if(r&1&&(n(0,"span"),s(1),o()),r&2){let t=d(2);a(),P(" (",t.assignments.length,")")}}function _r(r,e){r&1&&(n(0,"div",109),s(1,"No assignments yet."),o())}function pr(r,e){if(r&1&&(n(0,"option",135),s(1),o()),r&2){let t=e.$implicit;g("value",t.value),a(),f(t.label)}}function Or(r,e){if(r&1){let t=b();A(0),n(1,"select",133),p("change",function(c){O(t);let l=d().$implicit,E=d(3);return C(E.onAssignmentStatusChange(l,c))}),_(2,pr,2,2,"option",134),o(),L()}if(r&2){let t=d().$implicit,i=d(3);a(),g("value",i.assignmentStatuses.get(t.id)||"assigned"),a(),g("ngForOf",i.assignmentStatusOptions)}}function Cr(r,e){if(r&1&&(n(0,"span"),s(1),o()),r&2){let t=d().$implicit,i=d(3);dt(i.getAssignmentStatusClass(i.assignmentStatuses.get(t.id))),a(),f(i.getAssignmentStatusLabel(i.assignmentStatuses.get(t.id)))}}function ur(r,e){if(r&1){let t=b();n(0,"div",125)(1,"div",126)(2,"div",127),s(3),o(),n(4,"div",128)(5,"div",129),s(6),o(),n(7,"div",130),s(8),w(9,"date"),w(10,"date"),o()()(),n(11,"div",131),_(12,Or,3,2,"ng-container",92)(13,Cr,2,3,"ng-template",null,4,q),n(15,"button",132),p("click",function(){let c=O(t).$implicit,l=d(3);return C(l.removeAssignment(c))}),s(16,"\u{1F5D1}"),o()()()}if(r&2){let t=e.$implicit,i=U(14),c=d(3);a(3),S("",(t.user.first_name||"?")[0],"",(t.user.last_name||"")[0]||"",""),a(3),S("",t.user.first_name," ",t.user.last_name,""),a(2),S("Assigned ",k(9,8,t.created_at,"shortTime")," \u2022 ",k(10,11,t.created_at,"MMM d"),""),a(4),g("ngIf",(c.assignmentStatuses.get(t.id)||"assigned")==="assigned")("ngIfElse",i)}}function Mr(r,e){if(r&1&&(n(0,"div",123),_(1,ur,17,14,"div",124),o()),r&2){let t=d(2);a(),g("ngForOf",t.assignments)}}function fr(r,e){if(r&1&&(A(0),s(1),w(2,"date"),w(3,"date"),L()),r&2){let t,i=d().$implicit,c=d(3);a(),S(" Assigned ",k(2,2,(t=c.getAssignmentForUser(i.id))==null?null:t.created_at,"shortTime")," \u2022 ",k(3,5,(t=c.getAssignmentForUser(i.id))==null?null:t.created_at,"MMM d")," ")}}function Pr(r,e){if(r&1&&s(0),r&2){let t=d().$implicit;f(t.email)}}function hr(r,e){if(r&1&&(n(0,"option",135),s(1),o()),r&2){let t=e.$implicit;g("value",t.value),a(),f(t.label)}}function br(r,e){if(r&1){let t=b();A(0),n(1,"select",133),p("change",function(c){O(t);let l=d(2).$implicit,E=d(3);return C(E.onAssignmentStatusChange(E.getAssignmentForUser(l.id),c))}),_(2,hr,2,2,"option",134),o(),L()}if(r&2){let t,i=d(2).$implicit,c=d(3);a(),g("value",c.assignmentStatuses.get(((t=c.getAssignmentForUser(i.id))==null?null:t.id)||0)||"assigned"),a(),g("ngForOf",c.assignmentStatusOptions)}}function vr(r,e){if(r&1&&(n(0,"span"),s(1),o()),r&2){let t,i,c=d(2).$implicit,l=d(3);dt(l.getAssignmentStatusClass(l.assignmentStatuses.get(((t=l.getAssignmentForUser(c.id))==null?null:t.id)||0))),a(),f(l.getAssignmentStatusLabel(l.assignmentStatuses.get(((i=l.getAssignmentForUser(c.id))==null?null:i.id)||0)))}}function wr(r,e){if(r&1&&(A(0),_(1,br,3,2,"ng-container",92)(2,vr,2,3,"ng-template",null,6,q),L()),r&2){let t,i=U(3),c=d().$implicit,l=d(3);a(),g("ngIf",(l.assignmentStatuses.get(((t=l.getAssignmentForUser(c.id))==null?null:t.id)||0)||"assigned")==="assigned")("ngIfElse",i)}}function kr(r,e){if(r&1){let t=b();n(0,"button",132),p("click",function(){O(t);let c=d().$implicit,l=d(3);return C(l.removeAssignmentByUser(c.id))}),s(1,"\u{1F5D1}"),o()}}function xr(r,e){if(r&1){let t=b();n(0,"div",140)(1,"div",126)(2,"div",127),s(3),o(),n(4,"div",128)(5,"div",129),s(6),o(),n(7,"div",130),_(8,fr,4,8,"ng-container",92)(9,Pr,1,1,"ng-template",null,5,q),o()()(),n(11,"div",131),_(12,wr,4,2,"ng-container",22)(13,kr,2,0,"button",141),n(14,"input",142),p("change",function(c){let l=O(t).$implicit,E=d(3);return C(E.toggleUserSelection(l.id,c.target.checked))}),o()()()}if(r&2){let t=e.$implicit,i=U(10),c=d(3);a(3),S("",(t.first_name||"?")[0],"",(t.last_name||"")[0]||"",""),a(3),S("",t.first_name," ",t.last_name,""),a(2),g("ngIf",c.isUserAlreadyAssigned(t.id))("ngIfElse",i),a(4),g("ngIf",c.isUserAlreadyAssigned(t.id)),a(),g("ngIf",c.isUserAlreadyAssigned(t.id)),a(),g("checked",c.selectedUserIds.has(t.id))}}function yr(r,e){if(r&1){let t=b();n(0,"div",11),p("click",function(){O(t);let c=d(2);return C(c.closeAssignmentsModal())}),n(1,"div",12),p("click",function(c){return O(t),C(c.stopPropagation())}),n(2,"div",13),u(),n(3,"svg",136),m(4,"path",58),o(),M(),n(5,"h2"),s(6,"Add New Assignment"),o()(),n(7,"div",15)(8,"div",123),_(9,xr,15,9,"div",137),o()(),n(10,"div",17)(11,"button",138),p("click",function(){O(t);let c=d(2);return C(c.closeAssignmentsModal())}),s(12,"Cancel"),o(),n(13,"button",139),p("click",function(){O(t);let c=d(2);return C(c.saveAssignments())}),s(14,"Assign"),o()()()()}if(r&2){let t=d(2);a(9),g("ngForOf",t.teamMembers)}}function Sr(r,e){if(r&1){let t=b();n(0,"div",29)(1,"div",30)(2,"div",31)(3,"a",32),p("click",function(){O(t);let c=d();return C(c.goBack())}),u(),n(4,"svg",33),m(5,"path",34),o(),s(6," Back to Work Orders "),o()(),M(),n(7,"div",35)(8,"div",36),u(),n(9,"svg",37),m(10,"path",38)(11,"path",39),o(),M(),n(12,"div",40)(13,"h1"),s(14),o(),n(15,"p",41),s(16),o(),n(17,"div",42)(18,"span",43),s(19),o(),n(20,"span",44),s(21),o()()()(),n(22,"div",45)(23,"button",46),u(),n(24,"svg",33),m(25,"path",47),o(),s(26),o()()()(),_(27,Vo,1,2,"app-edit-work-order-modal",48)(28,Fo,1,2,"app-add-work-order-parts-modal",49)(29,Ao,1,2,"app-view-costs-modal",50),M(),n(30,"div",51)(31,"div",52)(32,"div",53)(33,"h3",54),s(34,"Work Order Details"),o(),n(35,"div",55)(36,"div",56)(37,"label"),s(38,"Description"),o(),n(39,"p"),s(40),o()(),n(41,"div",56)(42,"label"),s(43,"Status"),o(),n(44,"p"),s(45),o()(),n(46,"div",56)(47,"label"),s(48,"Priority"),o(),n(49,"p"),s(50),o()(),n(51,"div",56)(52,"label"),s(53,"Category"),o(),n(54,"p"),s(55),o()(),n(56,"div",56)(57,"label"),s(58,"Assigned To"),o(),n(59,"div",57),u(),n(60,"svg",33),m(61,"path",58),o(),M(),n(62,"span"),_(63,zo,4,2,"ng-container",22),o()()(),n(64,"div",56)(65,"label"),s(66,"Asset"),o(),n(67,"p"),_(68,Bo,4,2,"ng-container",22),o()(),n(69,"div",56)(70,"label"),s(71,"Location"),o(),n(72,"p"),_(73,No,4,2,"ng-container",22),o()(),n(74,"div",56)(75,"label"),s(76,"Company"),o(),n(77,"p"),s(78),o()(),n(79,"div",56)(80,"label"),s(81,"Estimated Hours"),o(),n(82,"p"),s(83),o()(),n(84,"div",56)(85,"label"),s(86,"Actual Hours"),o(),n(87,"p"),s(88),o()(),_(89,Go,5,1,"div",59)(90,Uo,5,1,"div",59),o()(),n(91,"div",53)(92,"h3",54),s(93,"Time Tracking"),o(),n(94,"p",60),s(95,"Track time spent on this work order"),o(),n(96,"div",61)(97,"div",62)(98,"div",63),s(99,"Current Session"),o(),_(100,qo,2,0,"span",64),o(),_(101,Yo,2,1,"div",65)(102,Qo,3,4,"div",66),n(103,"div",67)(104,"label"),s(105,"Task Description (Optional)"),o(),n(106,"input",68),at("ngModelChange",function(c){O(t);let l=d();return it(l.currentSession.description,c)||(l.currentSession.description=c),C(c)}),o()(),n(107,"div",67)(108,"label"),s(109,"Hourly Rate (Optional)"),o(),n(110,"input",69),at("ngModelChange",function(c){O(t);let l=d();return it(l.currentSession.hourlyRate,c)||(l.currentSession.hourlyRate=c),C(c)}),o()(),n(111,"button",70),p("click",function(){O(t);let c=d();return C(c.isTimerRunning?c.stopTimer():c.startTimer())}),u(),n(112,"svg",33),_(113,Zo,1,0,"path",71)(114,Jo,1,0,"path",72)(115,Ko,1,0,"path",73),o(),s(116),o()(),M(),n(117,"div",74)(118,"div",75)(119,"span",76),s(120),w(121,"number"),o()(),n(122,"div",77)(123,"span",78),s(124),w(125,"number"),o()()(),n(126,"div",79)(127,"h4"),s(128,"Time Log History"),o(),_(129,Xo,2,0,"div",80)(130,nr,14,7,"div",81),o()(),n(131,"div",53)(132,"h3",54),s(133,"Status Update"),o(),n(134,"p",60),s(135,"Update the work order status and add notes about the progress"),o(),n(136,"div",82)(137,"label"),s(138,"Current Status:"),o(),n(139,"div",83),u(),n(140,"svg",33),m(141,"path",47),o(),s(142),o()(),M(),n(143,"div",84)(144,"label"),s(145,"Update Status:"),o(),n(146,"select",85),p("change",function(c){O(t);let l=d();return C(l.onStatusChange(c))}),_(147,or,2,3,"option",86),o()()(),n(148,"div",53)(149,"h3",54),s(150,"Comments"),o(),n(151,"p",60),s(152,"Activity log and comments for this work order"),o(),n(153,"form",87),p("ngSubmit",function(){O(t);let c=d();return C(c.addComment())}),m(154,"textarea",88),n(155,"button",89),s(156,"Add Comment"),o()(),_(157,ar,2,1,"div",90),o()(),n(158,"div",91)(159,"div",53)(160,"h3",54),s(161,"Timeline"),o(),_(162,lr,4,1,"ng-container",92)(163,gr,18,9,"ng-template",null,0,q),o(),n(165,"div",53)(166,"div",93)(167,"h3",54),s(168,"Assignments"),_(169,mr,2,1,"span",22),o(),n(170,"button",94),p("click",function(){O(t);let c=d();return C(c.openAssignmentsModal())}),s(171,"+ Add Assignment"),o()(),_(172,_r,2,0,"div",80)(173,Mr,2,1,"div",95),o(),_(174,yr,15,1,"div",7),n(175,"div",53)(176,"h3",54),s(177,"Quick Actions"),o(),n(178,"div",96)(179,"button",97),p("click",function(){O(t);let c=d();return C(c.openEditModal())}),u(),n(180,"svg",33),m(181,"path",98),o(),s(182," Edit Work Order "),o(),M(),n(183,"button",97),p("click",function(){O(t);let c=d();return C(c.showViewCostsModal=!0)}),u(),n(184,"svg",33),m(185,"path",99),o(),s(186," View Costs "),o(),M(),n(187,"button",97),p("click",function(){O(t);let c=d();return C(c.openAddPartsModal())}),u(),n(188,"svg",33),m(189,"path",100),o(),s(190," Add Parts "),o()()()()()()}if(r&2){let t,i,c=U(164),l=d();a(14),f(l.workOrder==null?null:l.workOrder.title),a(2),P("Work Order #",l.workOrder==null?null:l.workOrder.id,""),a(3),P(" ",l.getPriorityLabel(l.workOrder==null?null:l.workOrder.priority)," "),a(2),P(" ",(l.workOrder==null||l.workOrder.category==null?null:l.workOrder.category.name)||"Uncategorized"," "),a(2),dt(l.getStatusClass(l.workOrder==null?null:l.workOrder.status)),a(3),P(" ",l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)," "),a(),g("ngIf",l.showEditModal),a(),g("ngIf",l.showAddPartsModal&&l.workOrder),a(),g("ngIf",l.workOrder),a(11),f((l.workOrder==null?null:l.workOrder.description)||"No description provided"),a(5),f(l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)),a(5),f(l.getPriorityLabel(l.workOrder==null?null:l.workOrder.priority)),a(5),f((l.workOrder==null||l.workOrder.category==null?null:l.workOrder.category.name)||"Uncategorized"),a(8),g("ngIf",l.workOrder==null?null:l.workOrder.assigned_to),a(5),g("ngIf",l.workOrder==null?null:l.workOrder.asset),a(5),g("ngIf",l.workOrder==null?null:l.workOrder.location),a(5),f((l.workOrder==null||l.workOrder.company==null?null:l.workOrder.company.name)||"Company ID: "+(l.workOrder==null?null:l.workOrder.company_id)),a(5),f((t=l.workOrder==null?null:l.workOrder.estimated_hours)!==null&&t!==void 0?t:"N/A"),a(5),f((i=l.workOrder==null?null:l.workOrder.actual_hours)!==null&&i!==void 0?i:"N/A"),a(),g("ngIf",l.workOrder==null?null:l.workOrder.notes),a(),g("ngIf",l.workOrder==null?null:l.workOrder.tags),a(10),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning&&l.hasActiveSession&&(l.timeLogs[0]==null?null:l.timeLogs[0].start_time)),a(4),rt("ngModel",l.currentSession.description),a(4),rt("ngModel",l.currentSession.hourlyRate),a(),dt(l.isTimerRunning?"stop-button":"start-button"),a(2),g("ngIf",!l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),P(" ",l.isTimerRunning?"Stop Timer":"Start Timer"," "),a(4),P("",k(121,49,l.totalMinutes/60,"1.2-2")," hrs Total Time"),a(4),P("$",k(125,52,l.totalCost,"1.2-2")," Total Cost"),a(5),g("ngIf",l.timeLogs.length===0),a(),g("ngForOf",l.timeLogs),a(9),dt(l.getStatusClass(l.workOrder==null?null:l.workOrder.status)),a(3),P(" ",l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)," "),a(5),g("ngForOf",l.statusOptions),a(6),g("formGroup",l.commentForm),a(4),g("ngIf",l.workOrder&&l.workOrder.comments&&l.workOrder.comments.length>0),a(5),g("ngIf",l.historyPreview&&l.historyPreview.length>0)("ngIfElse",c),a(7),g("ngIf",l.assignments==null?null:l.assignments.length),a(3),g("ngIf",l.assignments.length===0),a(),g("ngIf",l.assignments.length>0),a(),g("ngIf",l.showAssignmentsModal)}}var Qt=class r{constructor(e,t,i,c,l,E){this.route=e;this.router=t;this.workOrderService=i;this.metaService=c;this.fb=l;this.teamService=E;this.commentForm=this.fb.group({comment:["",z.required]})}workOrder=null;isLoading=!0;isTimerRunning=!1;currentSession={description:"",hourlyRate:0};timeLogs=[];totalMinutes=0;totalCost=0;hasActiveSession=!1;commentForm;subscription=new j;statusOptions=[];historyPreview=[];showHistoryModal=!1;fullHistory=[];displayedElapsed="00:00:00";timerHandle=null;activeStartTime;showAssignmentsModal=!1;showEditModal=!1;showAddPartsModal=!1;showViewCostsModal=!1;assignments=[];teamMembers=[];selectedUserIds=new Set;assignmentStatuses=new Map;assignmentStatusOptions=[{value:"assigned",label:"Assigned"},{value:"accepted",label:"Accepted"},{value:"declined",label:"Declined"},{value:"completed",label:"Completed"}];openAssignmentsModal(){this.showAssignmentsModal=!0}closeAssignmentsModal(){this.showAssignmentsModal=!1}openEditModal(){this.showEditModal=!0}closeEditModal(){this.showEditModal=!1}onWorkOrderUpdated(e){this.workOrder=H(H({},this.workOrder),e),this.showEditModal=!1}openAddPartsModal(){this.showAddPartsModal=!0}closeAddPartsModal(){this.showAddPartsModal=!1}onPartsAdded(){this.closeAddPartsModal()}toggleUserSelection(e,t){t?this.selectedUserIds.add(e):this.selectedUserIds.delete(e)}saveAssignments(){if(!this.workOrder)return;let e=Array.from(this.selectedUserIds.values());this.workOrderService.setAssignments(this.workOrder.id,e).subscribe({next:t=>{this.assignments=t||[],this.closeAssignmentsModal()}})}removeAssignment(e){this.workOrder&&this.workOrderService.deleteAssignment(this.workOrder.id,e.id).subscribe({next:()=>{this.assignments=(this.assignments||[]).filter(t=>t.id!==e.id),this.selectedUserIds.delete(e.user_id)}})}isUserAlreadyAssigned(e){return(this.assignments||[]).some(t=>t.user_id===e)}getAssignmentForUser(e){return(this.assignments||[]).find(t=>t.user_id===e)}removeAssignmentByUser(e){let t=this.getAssignmentForUser(e);t&&this.removeAssignment(t)}onAssignmentStatusChange(e,t){let i=t.target;if(!this.workOrder||!e||!i?.value)return;let c=i.value;this.assignmentStatuses.set(e.id,c),this.workOrderService.updateAssignmentStatus(this.workOrder.id,e.id,c).subscribe({next:l=>{this.assignments=(this.assignments||[]).map(nt=>nt.id===l.id?G(H({},nt),{status:l.status}):nt);let E=c!=="assigned"}})}getAssignmentStatusLabel(e){let t=(e||"assigned").toLowerCase(),i=this.assignmentStatusOptions.find(c=>c.value===t);return i?i.label:t}getAssignmentStatusClass(e){switch((e||"assigned").toLowerCase()){case"accepted":return"pill-status accepted";case"declined":return"pill-status declined";case"completed":return"pill-status completed";default:return"pill-status assigned"}}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.loadWorkOrder(e),this.metaService.getStatus().subscribe({next:t=>{this.statusOptions=t||[]},error:()=>{this.statusOptions=[]}})}ngOnDestroy(){this.subscription.unsubscribe(),this.stopCountdown()}loadWorkOrder(e){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderById(e).subscribe({next:t=>{this.workOrder=t,this.workOrderService.getAssignments(t.id).subscribe({next:i=>{this.assignments=i||[],this.selectedUserIds=new Set((this.assignments||[]).map(c=>c.user_id)),(this.assignments||[]).forEach(c=>{let l=c.status||"assigned";this.assignmentStatuses.set(c.id,l)})}}),this.teamService.getTeamMembers().subscribe({next:i=>{this.teamMembers=i?.data||[]},error:()=>{this.teamMembers=[]}}),this.workOrderService.getComments(t.id).subscribe({next:i=>{this.workOrder.comments=i}}),this.workOrderService.getWorkOrderHistory(t.id).subscribe({next:i=>{this.fullHistory=i||[],this.historyPreview=(i||[]).slice(0,3)}}),this.workOrderService.getTimeLogs(t.id).subscribe({next:i=>{this.timeLogs=i.logs||[],this.totalMinutes=i.totals?.total_minutes||0,this.totalCost=i.totals?.total_cost||0;let c=this.timeLogs.find(l=>!l.end_time);this.hasActiveSession=!!c,c&&c.start_time?(this.isTimerRunning=!0,this.startCountdown(new Date(c.start_time))):(this.isTimerRunning=!1,this.stopCountdown())}}),this.isLoading=!1},error:t=>{console.error("Error loading work order:",t),this.isLoading=!1}}))}openHistoryModal(){this.showHistoryModal=!0}closeHistoryModal(){this.showHistoryModal=!1}goBack(){this.router.navigate(["/work-orders"])}startTimer(){this.isTimerRunning=!0,this.workOrder&&this.workOrderService.startTimer(this.workOrder.id,{description:this.currentSession.description||void 0,hourly_rate:this.currentSession.hourlyRate||void 0}).subscribe({next:()=>{let e=new Date;this.startCountdown(e),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(t=>{this.timeLogs=t.logs||[],this.totalMinutes=t.totals?.total_minutes||0,this.totalCost=t.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(i=>!i.end_time)})}})}stopTimer(){this.isTimerRunning=!1,this.workOrder&&this.workOrderService.stopTimer(this.workOrder.id).subscribe({next:()=>{this.stopCountdown(),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(e=>{this.timeLogs=e.logs||[],this.totalMinutes=e.totals?.total_minutes||0,this.totalCost=e.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(t=>!t.end_time)})}})}addComment(){if(this.commentForm.valid&&this.workOrder){let e=this.commentForm.get("comment")?.value;this.workOrderService.addComment(this.workOrder.id,e).subscribe({next:t=>{this.workOrder.comments||(this.workOrder.comments=[]),this.workOrder.comments.unshift(t),this.commentForm.reset()}})}}updateStatus(e){this.workOrder&&(this.workOrder.status=e)}onStatusChange(e){let t=e.target;if(t&&t.value){let i=t.value;if(!this.workOrder)return;this.metaService.getStatus().subscribe({next:c=>{let l=c.find(E=>E.slug===i||E.slug===i.replace("_","-"));l&&this.workOrderService.updateWorkOrderStatus(this.workOrder.id,l.id).subscribe({next:E=>{this.workOrder=G(H({},this.workOrder),{status:E.status})}})}})}}getStatusSlug(e){return e?typeof e=="string"?e:typeof e=="object"&&e!==null&&"slug"in e?e.slug:String(e):"open"}getStatusClass(e){let t=this.getStatusSlug(e);return{open:"status-open","in-progress":"status-in-progress",in_progress:"status-in-progress",completed:"status-completed",cancelled:"status-cancelled"}[t]||"status-open"}getStatusLabel(e){let t=this.getStatusSlug(e);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"}[t]||t}getPrioritySlug(e){return e?typeof e=="string"?e:typeof e=="object"&&e!==null&&"slug"in e?e.slug:String(e):"medium"}getPriorityLabel(e){let t=this.getPrioritySlug(e);return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[t]||t}startCountdown(e){this.activeStartTime=e,this.updateDisplayedElapsed(),this.stopCountdown(),this.timerHandle=setInterval(()=>this.updateDisplayedElapsed(),1e3)}stopCountdown(){this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}updateDisplayedElapsed(){if(!this.activeStartTime){this.displayedElapsed="00:00:00";return}let e=new Date().getTime(),t=this.activeStartTime.getTime(),i=Math.max(0,Math.floor((e-t)/1e3)),c=Math.floor(i/3600),l=Math.floor(i%3600/60),E=i%60,nt=Pe=>Pe.toString().padStart(2,"0");this.displayedElapsed=`${nt(c)}:${nt(l)}:${nt(E)}`}static \u0275fac=function(t){return new(t||r)(v(ge),v(At),v(T),v(tt),v(K),v(ut))};static \u0275cmp=W({type:r,selectors:[["app-work-order-preview"]],standalone:!1,decls:4,vars:3,consts:[["basicTimeline",""],["assignedId",""],["assetId",""],["locationId",""],["statusBadge",""],["emailOnly",""],["modalBadge",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"work-order-preview-container"],["class","loading-state",4,"ngIf"],["class","work-order-content",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"close-btn",3,"click"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[4,"ngIf"],[1,"loading-state"],[1,"flex","items-center","justify-center","py-8"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"ml-2","text-gray-600"],[1,"work-order-content"],[1,"header-section"],[1,"back-link"],[1,"back-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"title-section"],[1,"title-content"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"wrench-icon","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"title-text"],[1,"work-order-id"],[1,"chips",2,"margin-top","4px","display","flex","gap","8px","flex-wrap","wrap"],[1,"chip",2,"background","#eef2ff","color","#3730a3","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"chip",2,"background","#ecfeff","color","#155e75","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"action-buttons"],[1,"status-button"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"isOpen","workOrder","modalClosed","workOrderUpdated",4,"ngIf"],[3,"isOpen","workOrderId","closed","saved",4,"ngIf"],[3,"isOpen","workOrderId","closed",4,"ngIf"],[1,"content-grid"],[1,"left-column"],[1,"info-card"],[1,"card-title"],[1,"row"],[1,"detail-item","col-6"],[1,"assignee-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","detail-item col-6",4,"ngIf"],[1,"card-subtitle"],[1,"current-session"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium"],["class","px-2 py-0.5 text-xs rounded-full","style","background:#dbeafe;color:#1e40af;",4,"ngIf"],["class","text-center mb-3","style","font-size:28px;letter-spacing:2px;color:#2563eb;",4,"ngIf"],["class","text-center text-xs text-gray-500 mb-3",4,"ngIf"],[1,"form-group"],["type","text","placeholder","What are you working on?",1,"form-input",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-input",3,"ngModelChange","ngModel"],[1,"timer-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z",4,"ngIf"],[1,"time-summary"],[1,"total-time"],[1,"time-label"],[1,"total-cost"],[1,"cost-label"],[1,"time-log-history"],["class","text-sm text-gray-500",4,"ngIf"],["class","time-log-entry",4,"ngFor","ngForOf"],[1,"status-section"],[1,"current-status"],[1,"status-update"],[1,"form-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"comment-form",3,"ngSubmit","formGroup"],["formControlName","comment","placeholder","Write a comment about the work order progress...",1,"comment-textarea"],["type","submit",1,"submit-comment-button"],["class","comments-list",4,"ngIf"],[1,"right-column"],[4,"ngIf","ngIfElse"],[1,"assignments-header"],[1,"assign-add-btn",3,"click"],["class","assignment-list",4,"ngIf"],[1,"quick-actions"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[3,"modalClosed","workOrderUpdated","isOpen","workOrder"],[3,"closed","saved","isOpen","workOrderId"],[3,"closed","isOpen","workOrderId"],[1,"px-2","py-0.5","text-xs","rounded-full",2,"background","#dbeafe","color","#1e40af"],[1,"text-center","mb-3",2,"font-size","28px","letter-spacing","2px","color","#2563eb"],[1,"text-center","text-xs","text-gray-500","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"],[1,"text-sm","text-gray-500"],[1,"time-log-entry"],[1,"log-info"],[1,"log-time"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[3,"value","selected"],[1,"comments-list"],["class","comment-entry",4,"ngFor","ngForOf"],[1,"comment-entry"],[1,"comment-info"],[1,"comment-text"],[1,"comment-time"],[1,"view-all-button",3,"click"],[1,"timeline-dot","dot-muted"],[1,"assignment-list"],["class","assignment-row",4,"ngFor","ngForOf"],[1,"assignment-row"],[1,"assignment-left"],[1,"avatar-circle"],[1,"assignment-meta"],[1,"assignment-name"],[1,"assignment-sub"],[1,"assignment-actions"],["title","Remove",1,"icon-btn","danger",3,"click"],[1,"assignment-select",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon","w-5","h-5"],["class","assignment-row selectable",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"assignment-row","selectable"],["class","icon-btn danger","title","Remove",3,"click",4,"ngIf"],["type","checkbox",3,"change","checked"]],template:function(t,i){t&1&&(_(0,Io,12,1,"div",7),n(1,"div",8),_(2,To,7,0,"div",9)(3,Sr,191,55,"div",10),o()),t&2&&(g("ngIf",i.showHistoryModal),a(2),g("ngIf",i.isLoading),a(),g("ngIf",!i.isLoading&&i.workOrder))},dependencies:[F,I,gt,mt,_t,B,Q,$,Y,Z,J,zt,Mt,qt,Yt,Tt,lt],styles:['.work-order-preview-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:100%;margin:0;position:relative}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;box-shadow:0 1px 3px #0000000f;padding:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#6b7280;text-decoration:none;font-size:.875rem;cursor:pointer;transition:color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#374151}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem .75rem;background-color:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.375rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:50}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:min(720px,95vw);max-height:80vh;background:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 10px 25px #0000001a;display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #eef2f7;display:flex;justify-content:space-between;align-items:center}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;overflow:auto}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-top:1px solid #eef2f7;display:flex;justify-content:flex-end;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;color:#374151;border-radius:.375rem;padding:.25rem .5rem;cursor:pointer;font-size:1rem;line-height:1}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .wrench-icon[_ngcontent-%COMP%]{color:#2563eb;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.875rem;font-weight:700;color:#111827;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   .work-order-id[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500;border:none;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;width:100%;max-width:100%}@media (max-width: 1024px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{position:sticky;top:1rem;align-self:start;height:fit-content}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:#111827;padding-bottom:.5rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-.5rem;margin-right:-.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:50%;padding-left:.5rem;padding-right:.5rem;box-sizing:border-box}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:100%}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;transition:border-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]:hover{background-color:#059669}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]:hover{background-color:#dc2626}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem;padding:1rem;background-color:#f9fafb;border-radius:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{text-align:center}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;background-color:#fff;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;resize:vertical;min-height:100px;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]{padding:1rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;text-align:left}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignments-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assign-add-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;background:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.5rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status[_ngcontent-%COMP%]{padding:.25rem .6rem;border-radius:9999px;font-size:.8rem;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.assigned[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.accepted[_ngcontent-%COMP%]{background:#60a5fa;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.declined[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.completed[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-select[_ngcontent-%COMP%]{padding:.4rem .75rem;border:1px solid #d1d5db;border-radius:.5rem;background:#fff;font-size:.875rem;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #e5e7eb;border-radius:.5rem;overflow:hidden}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.25rem 1fr auto;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]:last-child{border-bottom:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:3rem;height:3rem;background-color:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 6px -1px #0000001a;transition:all .2s;display:flex;align-items:center;justify-content:center}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:scale(1.05)}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{bottom:1rem;right:1rem;width:2.5rem;height:2.5rem}}@media (max-width: 768px){.work-order-preview-container[_ngcontent-%COMP%]{padding:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{padding:1rem}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);max-height:80vh;background:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 10px 25px #0003;display:flex;flex-direction:column;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:.75rem}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.modal[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.modal[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.modal[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modal[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.modal[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.modal[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.modal[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.modal[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.modal[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}']})};var Er=[{path:"",component:Ut},{path:":id",component:Qt}],Zt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=xt({type:r});static \u0275inj=kt({imports:[te.forChild(Er),te]})};var fe=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=xt({type:r});static \u0275inj=kt({imports:[Vt,_e,me,le,Zt,et,jt,Bt]})};export{fe as WorkOrdersModule};
