import{a as k}from"./chunk-R6SR5VUZ.js";import"./chunk-47ABMRM7.js";import{a as S,c as C}from"./chunk-SSTOZ5OJ.js";import"./chunk-J7FUFURU.js";import{l as b}from"./chunk-CDW6MD7D.js";import{Gb as e,Hb as t,Ib as u,Mb as x,Pb as h,Qb as c,Ua as _,Xa as a,ab as f,bc as r,cc as w,ia as d,ja as p,jb as A,ka as v,la as g,ob as y,wb as m}from"./chunk-ZHYBNXXX.js";import"./chunk-EQDQRRRY.js";function M(o,n){o&1&&(e(0,"div",9)(1,"div",10),v(),e(2,"svg",11),u(3,"circle",12)(4,"path",13),t()(),g(),e(5,"h2",14),r(6,"Activating Account"),t(),e(7,"p",6),r(8,"Please wait while we activate your account..."),t()())}function I(o,n){if(o&1){let i=x();e(0,"div",9)(1,"div",10)(2,"div",15),v(),e(3,"svg",16),u(4,"path",17),t()()(),g(),e(5,"h2",14),r(6,"Account Activated!"),t(),e(7,"p",18),r(8),t(),e(9,"button",19),h("click",function(){d(i);let l=c();return p(l.goToLogin())}),r(10," Continue to Sign In "),t()()}if(o&2){let i=c();a(8),w(i.successMessage)}}function L(o,n){if(o&1){let i=x();e(0,"div",9)(1,"div",10)(2,"div",20),v(),e(3,"svg",21),u(4,"path",22),t()()(),g(),e(5,"h2",14),r(6,"Activation Failed"),t(),e(7,"p",18),r(8),t(),e(9,"div",23)(10,"button",19),h("click",function(){d(i);let l=c();return p(l.resendActivation())}),r(11," Request New Activation Link "),t(),e(12,"button",24),h("click",function(){d(i);let l=c();return p(l.goToLogin())}),r(13," Back to Sign In "),t()()()}if(o&2){let i=c();a(8),w(i.errorMessage)}}var E=class o{constructor(n,i,s){this.router=n;this.route=i;this.authService=s}isLoading=!0;successMessage="";errorMessage="";id="";hash="";ngOnInit(){if(this.id=this.route.snapshot.params.id||"",this.hash=this.route.snapshot.params.hash||"",!this.id||!this.hash){this.errorMessage="Invalid verification link",this.isLoading=!1;return}this.verifyEmail()}verifyEmail(){this.authService.verifyEmail(this.id,this.hash).subscribe({next:n=>{n.success?this.successMessage=n.message||"Email verified successfully":this.errorMessage=n.message||"Failed to verify email",this.isLoading=!1},error:n=>{this.errorMessage=n.error?.message||n.error?.error||"An error occurred during verification",this.isLoading=!1}})}goToLogin(){this.router.navigate(["/login"])}resendActivation(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||o)(f(C),f(S),f(k))};static \u0275cmp=A({type:o,selectors:[["app-activate-account"]],decls:13,vars:4,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],["class","py-8",4,"ngIf"],[1,"py-8"],[1,"flex","justify-center","mb-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-gray-600","mb-6"],[1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-3"],[1,"w-full","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"]],template:function(i,s){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u(5,"img",5),t()(),e(6,"p",6),r(7,"Enterprise Asset Management System"),t()(),e(8,"div",7)(9,"div",2),y(10,M,9,0,"div",8)(11,I,11,1,"div",8)(12,L,14,1,"div",8),t()()()()),i&2&&(a(5),m("src","images/logo.png",_),a(5),m("ngIf",s.isLoading),a(),m("ngIf",!s.isLoading&&s.successMessage),a(),m("ngIf",!s.isLoading&&s.errorMessage))},dependencies:[b],encapsulation:2})};export{E as ActivateAccountComponent};
