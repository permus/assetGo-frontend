import{a as c}from"./chunk-VPAYI7QR.js";import{a as p}from"./chunk-MEXLA3FU.js";import{b as l}from"./chunk-YGU4T3V7.js";import{Y as b,ba as o,s as i}from"./chunk-RHVXZUNF.js";import{a as h}from"./chunk-EQDQRRRY.js";var d=class u{constructor(e,t){this.http=e;this.authService=t}baseUrl=p.apiUrl;getAuthHeaders(){let e=this.authService.getToken();return{headers:h({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getAssets(e={}){let t="",s=Object.keys(e);if(s.length>0){let n=s.filter(a=>e[a]!==""&&e[a]!==null&&e[a]!==void 0).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`);n.length>0&&(t="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets${t}`,this.getAuthHeaders())}getAsset(e){return this.http.get(`${this.baseUrl}/assets/${e}`,this.getAuthHeaders())}createAsset(e){return this.http.post(`${this.baseUrl}/assets`,e,this.getAuthHeaders())}updateAsset(e,t){return this.http.put(`${this.baseUrl}/assets/${e}`,t,this.getAuthHeaders())}deleteAsset(e){return this.http.delete(`${this.baseUrl}/assets/${e}`,this.getAuthHeaders())}restoreAsset(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/restore`,t,this.getAuthHeaders())}getArchiveAnalytics(){return this.http.get(`${this.baseUrl}/assets/analytics`,this.getAuthHeaders())}exportAssets(e=!1){let t=e?"?archived=1":"";return this.http.get(`${this.baseUrl}/assets/export${t}`,h({responseType:"blob"},this.getAuthHeaders()))}exportAssetsToExcel(e=!1){let t=e?"?archived=1":"";return this.http.get(`${this.baseUrl}/assets/export-excel${t}`,h({responseType:"blob"},this.getAuthHeaders()))}importBulkExcel(e){let t=new FormData;t.append("file",e);let s=this.authService.getToken(),n={};return s&&(n.Authorization=`Bearer ${s}`),this.http.post(`${this.baseUrl}/assets/import-bulk-excel`,t,{headers:n})}getImportProgress(e){return this.http.get(`${this.baseUrl}/assets/import-progress/${e}`,this.getAuthHeaders())}archiveAsset(e,t={}){return this.http.post(`${this.baseUrl}/assets/${e}/archive`,t,this.getAuthHeaders())}bulkArchiveAssets(e){return this.http.post(`${this.baseUrl}/assets/bulk-archive`,e,this.getAuthHeaders())}bulkDeleteAssets(e){return this.http.post(`${this.baseUrl}/assets/bulk-delete`,e,this.getAuthHeaders())}bulkRestoreAssets(e,t){let s={asset_ids:e};return t&&t.trim()&&(s.restore_reason=t.trim()),this.http.post(`${this.baseUrl}/assets/bulk-restore`,s,this.getAuthHeaders())}getAssetStatistics(){return this.http.get(`${this.baseUrl}/assets/statistics`,this.getAuthHeaders())}getAssetCategories(){return this.http.get(`${this.baseUrl}/asset-categories`,this.getAuthHeaders())}duplicateAsset(e,t={}){return this.http.post(`${this.baseUrl}/assets/${e}/duplicate`,t,this.getAuthHeaders())}bulkImportAssets(e){return this.http.post(`${this.baseUrl}/assets/import-bulk-json`,e,this.getAuthHeaders())}transferAsset(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/transfer`,t,this.getAuthHeaders())}listMaintenanceSchedules(e){return this.http.get(`${this.baseUrl}/assets/${e}/maintenance-schedules`,this.getAuthHeaders())}addMaintenanceSchedule(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/maintenance-schedules`,t,this.getAuthHeaders())}updateMaintenanceSchedule(e,t,s){return this.http.put(`${this.baseUrl}/assets/${e}/maintenance-schedules/${t}`,s,this.getAuthHeaders())}deleteMaintenanceSchedule(e,t){return this.http.delete(`${this.baseUrl}/assets/${e}/maintenance-schedules/${t}`,this.getAuthHeaders())}getActivityHistory(e,t={}){let s="",n=Object.keys(t);if(n.length>0){let a=n.filter(r=>t[r]!==""&&t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`);a.length>0&&(s="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/activity-history${s}`,this.getAuthHeaders())}getLocations(e=1,t=1e3,s="created",n="desc"){let a=`?page=${e}&per_page=${t}&sort_by=${s}&sort_direction=${n}`;return this.http.get(`${this.baseUrl}/locations${a}`,this.getAuthHeaders())}getAssetTypes(){return this.http.get(`${this.baseUrl}/asset-types-list`,this.getAuthHeaders())}getAssetStatuses(){return this.http.get(`${this.baseUrl}/asset-statuses-list`,this.getAuthHeaders())}getDepartments(e=1,t=1e3,s="created",n="desc"){let a=`?page=${e}&per_page=${t}&sort_by=${s}&sort_direction=${n}`;return this.http.get(`${this.baseUrl}/departments-list${a}`,this.getAuthHeaders())}getPossibleParents(e){let t=`${this.baseUrl}/assets/possible-parents`;return e&&(t+=`/${e}`),this.http.get(t,this.getAuthHeaders())}getAssetPublic(e){return this.http.get(`${this.baseUrl}/assets/${e}/public`)}getActivityHistoryPublic(e,t={}){let s="",n=Object.keys(t);if(n.length>0){let a=n.filter(r=>t[r]!==""&&t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`);a.length>0&&(s="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/activity-history/public${s}`)}getRelatedAssets(e,t={}){let s="",n=Object.keys(t);if(n.length>0){let a=n.filter(r=>t[r]!==""&&t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`);a.length>0&&(s="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/related${s}`,this.getAuthHeaders())}getAssetDepreciationChart(e,t={}){let s="",n=Object.keys(t);if(n.length>0){let a=n.filter(r=>t[r]!==""&&t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`);a.length>0&&(s="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/chart-data${s}`,this.getAuthHeaders())}getAssetHealthPerformanceChart(e,t={}){let s="",n=Object.keys(t);if(n.length>0){let a=n.filter(r=>t[r]!==""&&t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`);a.length>0&&(s="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/health-performance-chart${s}`,this.getAuthHeaders())}getAssetParts(e){return this.http.get(`${this.baseUrl}/assets/${e}/parts`,this.getAuthHeaders()).pipe(i(t=>t.data))}addAssetParts(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/parts`,{items:t},this.getAuthHeaders()).pipe(i(s=>s.data))}updateAssetPart(e,t,s){return this.http.put(`${this.baseUrl}/assets/${e}/parts/${t}`,{qty:s},this.getAuthHeaders()).pipe(i(n=>n.data))}removeAssetPart(e,t){return this.http.delete(`${this.baseUrl}/assets/${e}/parts/${t}`,this.getAuthHeaders()).pipe(i(()=>{}))}getAssetDocuments(e){return this.http.get(`${this.baseUrl}/assets/${e}/documents`,this.getAuthHeaders()).pipe(i(t=>t.data))}uploadAssetDocument(e,t,s,n){let a=new FormData;a.append("document",t),a.append("document_name",s),a.append("document_type",n);let r=this.authService.getToken();return this.http.post(`${this.baseUrl}/assets/${e}/documents`,a,{headers:h({},r?{Authorization:`Bearer ${r}`}:{})}).pipe(i(g=>g.data))}updateAssetDocument(e,t,s){return this.http.put(`${this.baseUrl}/assets/${e}/documents/${t}`,s,this.getAuthHeaders()).pipe(i(n=>n.data))}deleteAssetDocument(e,t){return this.http.delete(`${this.baseUrl}/assets/${e}/documents/${t}`,this.getAuthHeaders()).pipe(i(()=>{}))}static \u0275fac=function(t){return new(t||u)(o(l),o(c))};static \u0275prov=b({token:u,factory:u.\u0275fac,providedIn:"root"})};export{d as a};
