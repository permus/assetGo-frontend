import{a as g}from"./chunk-JVLSVVP7.js";import{a as u}from"./chunk-VUTA7ABU.js";import{D as o}from"./chunk-42X3OFWX.js";import{V as b,_ as l}from"./chunk-MPDVOBHD.js";import{a as i}from"./chunk-EQDQRRRY.js";var c=class h{constructor(e,t){this.http=e;this.authService=t}baseUrl=u.apiUrl;getAuthHeaders(){let e=this.authService.getToken();return{headers:i({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getAssets(e={}){let t="",r=Object.keys(e);if(r.length>0){let a=r.filter(n=>e[n]!==""&&e[n]!==null&&e[n]!==void 0).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`);a.length>0&&(t="?"+a.join("&"))}return this.http.get(`${this.baseUrl}/assets${t}`,this.getAuthHeaders())}getAsset(e){return this.http.get(`${this.baseUrl}/assets/${e}`,this.getAuthHeaders())}createAsset(e){return this.http.post(`${this.baseUrl}/assets`,e,this.getAuthHeaders())}updateAsset(e,t){return this.http.put(`${this.baseUrl}/assets/${e}`,t,this.getAuthHeaders())}deleteAsset(e){return this.http.delete(`${this.baseUrl}/assets/${e}`,this.getAuthHeaders())}restoreAsset(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/restore`,t,this.getAuthHeaders())}getArchiveAnalytics(){return this.http.get(`${this.baseUrl}/assets/analytics`,this.getAuthHeaders())}exportAssets(e=!1){let t=e?"?archived=1":"";return this.http.get(`${this.baseUrl}/assets/export${t}`,i({responseType:"blob"},this.getAuthHeaders()))}exportAssetsToExcel(e=!1){let t=e?"?archived=1":"";return this.http.get(`${this.baseUrl}/assets/export-excel${t}`,i({responseType:"blob"},this.getAuthHeaders()))}importBulkExcel(e){let t=new FormData;t.append("file",e);let r=this.authService.getToken(),a={};return r&&(a.Authorization=`Bearer ${r}`),this.http.post(`${this.baseUrl}/assets/import-bulk-excel`,t,{headers:a})}getImportProgress(e){return this.http.get(`${this.baseUrl}/assets/import-progress/${e}`,this.getAuthHeaders())}archiveAsset(e,t={}){return this.http.post(`${this.baseUrl}/assets/${e}/archive`,t,this.getAuthHeaders())}bulkArchiveAssets(e){return this.http.post(`${this.baseUrl}/assets/bulk-archive`,e,this.getAuthHeaders())}bulkDeleteAssets(e){return this.http.post(`${this.baseUrl}/assets/bulk-delete`,e,this.getAuthHeaders())}bulkRestoreAssets(e,t){let r={asset_ids:e};return t&&t.trim()&&(r.restore_reason=t.trim()),this.http.post(`${this.baseUrl}/assets/bulk-restore`,r,this.getAuthHeaders())}getAssetStatistics(){return this.http.get(`${this.baseUrl}/assets/statistics`,this.getAuthHeaders())}getAssetCategories(){return this.http.get(`${this.baseUrl}/asset-categories`,this.getAuthHeaders())}duplicateAsset(e,t={}){return this.http.post(`${this.baseUrl}/assets/${e}/duplicate`,t,this.getAuthHeaders())}bulkImportAssets(e){return this.http.post(`${this.baseUrl}/assets/import-bulk-json`,e,this.getAuthHeaders())}transferAsset(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/transfer`,t,this.getAuthHeaders())}listMaintenanceSchedules(e){return this.http.get(`${this.baseUrl}/assets/${e}/maintenance-schedules`,this.getAuthHeaders())}addMaintenanceSchedule(e,t){return this.http.post(`${this.baseUrl}/assets/${e}/maintenance-schedules`,t,this.getAuthHeaders())}updateMaintenanceSchedule(e,t,r){return this.http.put(`${this.baseUrl}/assets/${e}/maintenance-schedules/${t}`,r,this.getAuthHeaders())}deleteMaintenanceSchedule(e,t){return this.http.delete(`${this.baseUrl}/assets/${e}/maintenance-schedules/${t}`,this.getAuthHeaders())}getActivityHistory(e,t={}){let r="",a=Object.keys(t);if(a.length>0){let n=a.filter(s=>t[s]!==""&&t[s]!==null&&t[s]!==void 0).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`);n.length>0&&(r="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/activity-history${r}`,this.getAuthHeaders())}getLocations(e=1,t=1e3,r="created",a="desc"){let n=`?page=${e}&per_page=${t}&sort_by=${r}&sort_direction=${a}`;return this.http.get(`${this.baseUrl}/locations${n}`,this.getAuthHeaders())}getAssetTypes(){return this.http.get(`${this.baseUrl}/asset-types-list`,this.getAuthHeaders())}getAssetStatuses(){return this.http.get(`${this.baseUrl}/asset-statuses-list`,this.getAuthHeaders())}getDepartments(e=1,t=1e3,r="created",a="desc"){let n=`?page=${e}&per_page=${t}&sort_by=${r}&sort_direction=${a}`;return this.http.get(`${this.baseUrl}/departments-list${n}`,this.getAuthHeaders())}getPossibleParents(e){let t=`${this.baseUrl}/assets/possible-parents`;return e&&(t+=`/${e}`),this.http.get(t,this.getAuthHeaders())}getAssetPublic(e){return this.http.get(`${this.baseUrl}/assets/${e}/public`)}getActivityHistoryPublic(e,t={}){let r="",a=Object.keys(t);if(a.length>0){let n=a.filter(s=>t[s]!==""&&t[s]!==null&&t[s]!==void 0).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`);n.length>0&&(r="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/activity-history/public${r}`)}getRelatedAssets(e,t={}){let r="",a=Object.keys(t);if(a.length>0){let n=a.filter(s=>t[s]!==""&&t[s]!==null&&t[s]!==void 0).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`);n.length>0&&(r="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/related${r}`,this.getAuthHeaders())}getAssetDepreciationChart(e,t={}){let r="",a=Object.keys(t);if(a.length>0){let n=a.filter(s=>t[s]!==""&&t[s]!==null&&t[s]!==void 0).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`);n.length>0&&(r="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/chart-data${r}`,this.getAuthHeaders())}getAssetHealthPerformanceChart(e,t={}){let r="",a=Object.keys(t);if(a.length>0){let n=a.filter(s=>t[s]!==""&&t[s]!==null&&t[s]!==void 0).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`);n.length>0&&(r="?"+n.join("&"))}return this.http.get(`${this.baseUrl}/assets/${e}/health-performance-chart${r}`,this.getAuthHeaders())}static \u0275fac=function(t){return new(t||h)(l(o),l(g))};static \u0275prov=b({token:h,factory:h.\u0275fac,providedIn:"root"})};export{c as a};
