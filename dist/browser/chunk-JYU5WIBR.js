import{a as K}from"./chunk-2HN7MGS7.js";import{a as P}from"./chunk-5YVNUJQC.js";import{A as G,C as F,c as L,d as h,e as R,f as V,j as A,o as T,r as j,x as N}from"./chunk-UJ77UFQP.js";import{a as J,c as M,g as ie}from"./chunk-F657IUEW.js";import"./chunk-J2L6YCTJ.js";import"./chunk-6WXWVH7L.js";import{j as me,l as I,x as de}from"./chunk-46FGEGCL.js";import{Gb as e,Hb as t,Ib as d,Mb as C,Pb as g,Qb as c,Ua as k,Xa as s,Y,ab as x,bc as n,cc as w,dc as le,ia as b,ja as _,jb as E,ka as p,kb as Z,la as y,ob as f,oc as te,wb as l,xb as ae,yb as S}from"./chunk-Z5DG7LDR.js";import"./chunk-EQDQRRRY.js";function ue(r,o){if(r&1&&(e(0,"div",36)(1,"p",37),n(2),t()()),r&2){let i=c();s(2),w(i.sessionMessage)}}function pe(r,o){if(r&1&&(e(0,"div",38)(1,"div",39),p(),e(2,"svg",40),d(3,"path",41),t(),y(),e(4,"div",42)(5,"p",43),n(6,"Account Temporarily Locked"),t(),e(7,"p",44),n(8),t(),e(9,"div",45)(10,"div",46),n(11),t(),e(12,"span",47),n(13,"minute(s) remaining"),t()()()()()),r&2){let i=c();s(8),w(i.errorMessage),s(3),w(i.getLockoutMinutes())}}function ge(r,o){if(r&1&&(e(0,"div",48)(1,"p",49),n(2),t()()),r&2){let i=c();s(2),w(i.errorMessage)}}function fe(r,o){r&1&&(p(),e(0,"svg",50),d(1,"path",51)(2,"path",52),t())}function ve(r,o){r&1&&(p(),e(0,"svg",50),d(1,"path",53),t())}function xe(r,o){r&1&&(e(0,"span"),n(1,"Sign In"),t())}function we(r,o){r&1&&(e(0,"span",54),p(),e(1,"svg",55),d(2,"circle",56)(3,"path",57),t(),n(4," Signing In... "),t())}var q=class r{constructor(o,i,a){this.fb=o;this.router=i;this.authService=a;this.loginForm=this.fb.group({email:["",[h.required,h.email]],password:["",[h.required,h.minLength(6)]]});let m=localStorage.getItem("session_message");m&&(this.sessionMessage=m,localStorage.removeItem("session_message"),setTimeout(()=>{this.sessionMessage=""},5e3))}loginForm;isLoading=!1;errorMessage="";isLocked=!1;lockoutTime=0;lockoutCountdown=0;lockoutInterval;showPassword=!1;sessionMessage="";toggleMode(){this.router.navigate(["/register"])}onSubmit(){this.loginForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginForm.value).subscribe({next:o=>{o.success?this.router.navigate(["/dashboard"]):this.errorMessage=o.message||"Login failed",this.isLoading=!1},error:o=>{let i=o.error;o.status===429?(this.isLocked=!0,this.errorMessage=i?.message||"Too many login attempts. Please try again later.",i?.retry_after&&(this.lockoutCountdown=i.retry_after,this.startLockoutTimer())):o.status===403?this.errorMessage=i?.message||"Access forbidden":this.errorMessage=i?.message||"An error occurred during login",this.isLoading=!1}}))}startLockoutTimer(){this.lockoutInterval&&clearInterval(this.lockoutInterval),this.lockoutInterval=setInterval(()=>{this.lockoutCountdown--,this.lockoutCountdown<=0&&(clearInterval(this.lockoutInterval),this.isLocked=!1,this.errorMessage="",this.lockoutCountdown=0)},1e3)}getLockoutMinutes(){return Math.ceil(this.lockoutCountdown/60)}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToForgotPassword(){this.router.navigate(["/auth/forgot-password"])}ngOnDestroy(){this.lockoutInterval&&clearInterval(this.lockoutInterval)}static \u0275fac=function(i){return new(i||r)(x(G),x(M),x(P))};static \u0275cmp=E({type:r,selectors:[["app-login"]],decls:58,vars:15,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","mb-8","bg-gray-100","rounded-lg","p-1"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","bg-blue-600","text-white","transition-all","cursor-pointer"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","text-gray-600","hover:text-gray-800","transition-all","cursor-pointer",3,"click"],["class","mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],["class","mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",4,"ngIf"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter your email","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","password","formControlName","password","placeholder","Enter your password","required","",1,"w-full","px-4","py-3","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-400","hover:text-gray-600",3,"click"],["class","h-5 w-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-left"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"flex","justify-center","space-x-12","text-sm","text-gray-500","mt-8"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"mb-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-blue-800","text-sm"],[1,"mb-4","p-4","bg-orange-50","border","border-orange-200","rounded-lg"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600","mt-0.5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"flex-1"],[1,"text-orange-800","text-sm","font-medium"],[1,"text-orange-700","text-sm","mt-1"],[1,"mt-2","flex","items-center","space-x-2"],[1,"text-orange-900","font-bold","text-lg"],[1,"text-orange-700","text-sm"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,a){if(i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t()(),e(6,"p",6),n(7,"Enterprise Asset Management System"),t()(),e(8,"div",7)(9,"div",8)(10,"h2",9),n(11,"Welcome"),t(),e(12,"p",6),n(13,"Sign in to your account or create a new one"),t()(),e(14,"div",10)(15,"button",11),n(16," Sign In "),t(),e(17,"button",12),g("click",function(){return a.toggleMode()}),n(18," Sign Up "),t()(),f(19,ue,3,1,"div",13)(20,pe,14,2,"div",14)(21,ge,3,1,"div",15),e(22,"form",16),g("ngSubmit",function(){return a.onSubmit()}),e(23,"div",17)(24,"div")(25,"label",18),n(26,"Email"),t(),d(27,"input",19),t(),e(28,"div")(29,"label",20),n(30,"Password"),t(),e(31,"div",21),d(32,"input",22),e(33,"button",23),g("click",function(){return a.togglePasswordVisibility()}),f(34,fe,3,0,"svg",24)(35,ve,2,0,"svg",24),t()()(),e(36,"div",25)(37,"button",26),g("click",function(){return a.goToForgotPassword()}),n(38," Forgot password? "),t()(),e(39,"button",27),f(40,xe,2,0,"span",28)(41,we,5,0,"span",29),t()()()(),e(42,"div",30)(43,"div",31),p(),e(44,"svg",32),d(45,"path",33),t(),y(),e(46,"span"),n(47,"Secure"),t()(),e(48,"div",31),p(),e(49,"svg",32),d(50,"path",34),t(),y(),e(51,"span"),n(52,"Enterprise"),t()(),e(53,"div",31),p(),e(54,"svg",32),d(55,"path",35),t(),y(),e(56,"span"),n(57,"Multi-tenant"),t()()()()()),i&2){let m,v;s(5),l("src","images/logo.png",k),s(14),l("ngIf",a.sessionMessage),s(),l("ngIf",a.isLocked&&a.lockoutCountdown>0),s(),l("ngIf",a.errorMessage&&!a.isLocked),s(),l("formGroup",a.loginForm),s(5),S("border-red-300",((m=a.loginForm.get("email"))==null?null:m.invalid)&&((m=a.loginForm.get("email"))==null?null:m.touched)),s(5),S("border-red-300",((v=a.loginForm.get("password"))==null?null:v.invalid)&&((v=a.loginForm.get("password"))==null?null:v.touched)),l("type",a.showPassword?"text":"password"),s(2),l("ngIf",!a.showPassword),s(),l("ngIf",a.showPassword),s(4),l("disabled",a.loginForm.invalid||a.isLoading||a.isLocked),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading)}},dependencies:[I,F,A,L,R,V,N,T,j],encapsulation:2})};var he=(r,o,i)=>({"text-red-600":r,"text-yellow-600":o,"text-green-600":i}),be=(r,o,i)=>({"bg-red-500":r,"bg-yellow-500":o,"bg-green-500":i});function _e(r,o){if(r&1){let i=C();e(0,"div",14)(1,"div",2)(2,"div",3)(3,"div",15),p(),e(4,"svg",16),d(5,"path",17),t()()(),y(),e(6,"h2",18),n(7,"Registration Successful!"),t(),e(8,"p",19),n(9," User registered successfully. Please login now. "),t(),e(10,"div",20)(11,"p",21),n(12," Redirecting to login page in "),e(13,"span",22),n(14),t(),n(15," seconds "),t()(),e(16,"button",23),g("click",function(){b(i);let m=c();return _(m.toggleMode())}),n(17," Go to login now "),t()()()}if(r&2){let i=c();s(14),w(i.countdown)}}function ye(r,o){if(r&1&&(e(0,"div",54)(1,"p",55),n(2),t()()),r&2){let i=c(2);s(2),w(i.errorMessage)}}function Se(r,o){r&1&&(p(),e(0,"svg",56),d(1,"path",57)(2,"path",58),t())}function Ce(r,o){r&1&&(p(),e(0,"svg",56),d(1,"path",59),t())}function ke(r,o){if(r&1&&(e(0,"div",60)(1,"div",61)(2,"span",62),n(3,"Password Strength:"),t(),e(4,"span",63),n(5),t()(),e(6,"div",64),d(7,"div",65),t()()),r&2){let i=c(2);s(4),l("ngClass",te(5,he,i.passwordStrength.level==="weak",i.passwordStrength.level==="medium",i.passwordStrength.level==="strong"||i.passwordStrength.level==="very-strong")),s(),le(" ",i.passwordStrength.level," "),s(2),ae("width",i.passwordStrength.percentage,"%"),l("ngClass",te(9,be,i.passwordStrength.level==="weak",i.passwordStrength.level==="medium",i.passwordStrength.level==="strong"||i.passwordStrength.level==="very-strong"))}}function Ee(r,o){if(r&1&&(e(0,"div",66)(1,"p",67),n(2,"Password must contain:"),t(),e(3,"ul",68)(4,"li",69)(5,"span",70),n(6),t(),n(7," At least 8 characters "),t(),e(8,"li",69)(9,"span",70),n(10),t(),n(11," One uppercase letter (A-Z) "),t(),e(12,"li",69)(13,"span",70),n(14),t(),n(15," One lowercase letter (a-z) "),t(),e(16,"li",69)(17,"span",70),n(18),t(),n(19," One number (0-9) "),t()()()),r&2){let i=c(2);s(4),l("ngClass",i.getPasswordRequirements().minLength?"text-green-600":"text-gray-500"),s(2),w(i.getPasswordRequirements().minLength?"\u2713":"\u25CB"),s(2),l("ngClass",i.getPasswordRequirements().hasUpperCase?"text-green-600":"text-gray-500"),s(2),w(i.getPasswordRequirements().hasUpperCase?"\u2713":"\u25CB"),s(2),l("ngClass",i.getPasswordRequirements().hasLowerCase?"text-green-600":"text-gray-500"),s(2),w(i.getPasswordRequirements().hasLowerCase?"\u2713":"\u25CB"),s(2),l("ngClass",i.getPasswordRequirements().hasNumber?"text-green-600":"text-gray-500"),s(2),w(i.getPasswordRequirements().hasNumber?"\u2713":"\u25CB")}}function Ie(r,o){r&1&&(p(),e(0,"svg",56),d(1,"path",57)(2,"path",58),t())}function Me(r,o){r&1&&(p(),e(0,"svg",56),d(1,"path",59),t())}function Pe(r,o){r&1&&(e(0,"div",71),n(1," Passwords do not match "),t())}function Fe(r,o){r&1&&(e(0,"span"),n(1,"Sign Up"),t())}function Le(r,o){r&1&&(e(0,"span",72),p(),e(1,"svg",73),d(2,"circle",74)(3,"path",75),t(),n(4," Creating Account... "),t())}function Re(r,o){if(r&1){let i=C();e(0,"div",14)(1,"div",24)(2,"h2",25),n(3,"Welcome"),t(),e(4,"p",6),n(5,"Sign in to your account or create a new one"),t()(),e(6,"div",26)(7,"button",27),g("click",function(){b(i);let m=c();return _(m.toggleMode())}),n(8," Sign In "),t(),e(9,"button",28),n(10," Sign Up "),t()(),f(11,ye,3,1,"div",29),e(12,"form",30),g("ngSubmit",function(){b(i);let m=c();return _(m.onSubmit())}),e(13,"div",31)(14,"div",32)(15,"div")(16,"label",33),n(17,"First Name"),t(),d(18,"input",34),t(),e(19,"div")(20,"label",35),n(21,"Last Name"),t(),d(22,"input",36),t()(),e(23,"div")(24,"label",37),n(25,"Company Name"),t(),d(26,"input",38),t(),e(27,"div")(28,"label",39),n(29,"Email"),t(),d(30,"input",40),t(),e(31,"div")(32,"label",41),n(33,"Password"),t(),e(34,"div",42)(35,"input",43),g("focus",function(){b(i);let m=c();return _(m.showPasswordRequirements=!0)}),t(),e(36,"button",44),g("click",function(){b(i);let m=c();return _(m.togglePasswordVisibility())}),f(37,Se,3,0,"svg",45)(38,Ce,2,0,"svg",45),t()(),f(39,ke,8,13,"div",46)(40,Ee,20,8,"div",47),t(),e(41,"div")(42,"label",48),n(43,"Confirm Password"),t(),e(44,"div",42),d(45,"input",49),e(46,"button",44),g("click",function(){b(i);let m=c();return _(m.toggleConfirmPasswordVisibility())}),f(47,Ie,3,0,"svg",45)(48,Me,2,0,"svg",45),t()(),f(49,Pe,2,0,"div",50),t(),e(50,"button",51),f(51,Fe,2,0,"span",52)(52,Le,5,0,"span",53),t()()()()}if(r&2){let i,a,m,v,U,ne,oe,W,se,u=c();s(11),l("ngIf",u.errorMessage),s(),l("formGroup",u.registerForm),s(6),S("border-red-300",((i=u.registerForm.get("first_name"))==null?null:i.invalid)&&((i=u.registerForm.get("first_name"))==null?null:i.touched)),s(4),S("border-red-300",((a=u.registerForm.get("last_name"))==null?null:a.invalid)&&((a=u.registerForm.get("last_name"))==null?null:a.touched)),s(4),S("border-red-300",((m=u.registerForm.get("company_name"))==null?null:m.invalid)&&((m=u.registerForm.get("company_name"))==null?null:m.touched)),s(4),S("border-red-300",((v=u.registerForm.get("email"))==null?null:v.invalid)&&((v=u.registerForm.get("email"))==null?null:v.touched)),s(5),S("border-red-300",((U=u.registerForm.get("password"))==null?null:U.invalid)&&((U=u.registerForm.get("password"))==null?null:U.touched)),l("type",u.showPassword?"text":"password"),s(2),l("ngIf",!u.showPassword),s(),l("ngIf",u.showPassword),s(),l("ngIf",u.passwordStrength&&((ne=u.registerForm.get("password"))==null?null:ne.value)),s(),l("ngIf",u.showPasswordRequirements&&((oe=u.registerForm.get("password"))==null?null:oe.value)),s(5),S("border-red-300",((W=u.registerForm.get("password_confirmation"))==null?null:W.invalid)&&((W=u.registerForm.get("password_confirmation"))==null?null:W.touched)),l("type",u.showConfirmPassword?"text":"password"),s(2),l("ngIf",!u.showConfirmPassword),s(),l("ngIf",u.showConfirmPassword),s(),l("ngIf",(u.registerForm.errors==null?null:u.registerForm.errors.passwordMismatch)&&((se=u.registerForm.get("password_confirmation"))==null?null:se.touched)),s(),l("disabled",u.registerForm.invalid||u.isLoading),s(),l("ngIf",!u.isLoading),s(),l("ngIf",u.isLoading)}}var D=class r{constructor(o,i,a){this.fb=o;this.router=i;this.authService=a;this.registerForm=this.fb.group({first_name:["",[h.required]],last_name:["",[h.required]],company_name:["",[h.required]],email:["",[h.required,h.email]],password:["",[h.required,h.minLength(8),K.strong()]],password_confirmation:["",[h.required]]},{validators:this.passwordMatchValidator}),this.registerForm.get("password")?.valueChanges.subscribe(m=>{this.passwordStrength=K.calculateStrength(m||"")})}registerForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=60;countdownInterval;passwordStrength=null;showPasswordRequirements=!1;showPassword=!1;showConfirmPassword=!1;passwordMatchValidator(o){let i=o.get("password"),a=o.get("password_confirmation");return i&&a&&i.value===a.value?null:{passwordMismatch:!0}}toggleMode(){this.router.navigate(["/login"])}onSubmit(){this.registerForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1,this.authService.register(this.registerForm.value).subscribe({next:o=>{o.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=o.message||"Registration failed",this.isLoading=!1},error:o=>{this.errorMessage=o.error?.message||o.error?.error||"An error occurred during registration",this.isLoading=!1}}))}startCountdown(){this.countdown=60,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}getPasswordRequirements(){let o=this.registerForm.get("password")?.value||"";return K.meetsRequirements(o)}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}static \u0275fac=function(i){return new(i||r)(x(G),x(M),x(P))};static \u0275cmp=E({type:r,selectors:[["app-register"]],decls:26,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"flex","justify-center","space-x-12","text-sm","text-gray-500","mt-8"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","mb-8","bg-gray-100","rounded-lg","p-1"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","text-gray-600","hover:text-gray-800","transition-all","cursor-pointer",3,"click"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","bg-blue-600","text-white","transition-all","cursor-pointer"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],["for","first_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","first_name","type","text","formControlName","first_name","placeholder","First name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","last_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","last_name","type","text","formControlName","last_name","placeholder","Last name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","company_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","company_name","type","text","formControlName","company_name","placeholder","Enter your company name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email","placeholder","Enter your email","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],["id","password","formControlName","password","placeholder","Create a password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"focus","type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-400","hover:text-gray-600",3,"click"],["class","h-5 w-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-3 p-3 bg-gray-50 rounded-lg",4,"ngIf"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","password_confirmation","formControlName","password_confirmation","placeholder","Confirm your password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"type"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","mt-6",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","font-medium","text-gray-600"],[1,"text-xs","font-semibold","capitalize",3,"ngClass"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-3","p-3","bg-gray-50","rounded-lg"],[1,"text-xs","font-medium","text-gray-700","mb-2"],[1,"space-y-1"],[1,"text-xs","flex","items-center",3,"ngClass"],[1,"mr-2"],[1,"text-red-500","text-xs","mt-1"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t()(),e(6,"p",6),n(7,"Enterprise Asset Management System"),t()(),f(8,_e,18,1,"div",7)(9,Re,53,26,"div",7),e(10,"div",8)(11,"div",9),p(),e(12,"svg",10),d(13,"path",11),t(),y(),e(14,"span"),n(15,"Secure"),t()(),e(16,"div",9),p(),e(17,"svg",10),d(18,"path",12),t(),y(),e(19,"span"),n(20,"Enterprise"),t()(),e(21,"div",9),p(),e(22,"svg",10),d(23,"path",13),t(),y(),e(24,"span"),n(25,"Multi-tenant"),t()()()()()),i&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",a.showSuccessMessage),s(),l("ngIf",!a.showSuccessMessage))},dependencies:[I,me,F,A,L,R,V,N,T,j],encapsulation:2})};function Ve(r,o){if(r&1&&(e(0,"div",20)(1,"p",21),n(2),t()()),r&2){let i=c(2);s(2),w(i.errorMessage)}}function Ae(r,o){r&1&&(e(0,"span"),n(1,"Send Reset Link"),t())}function Te(r,o){r&1&&(e(0,"span",22),p(),e(1,"svg",23),d(2,"circle",24)(3,"path",25),t(),n(4," Sending... "),t())}function je(r,o){if(r&1){let i=C();e(0,"div",8)(1,"div",9)(2,"h2",10),n(3,"Forgot Password?"),t(),e(4,"p",6),n(5,"Enter your email address and we'll send you a link to reset your password"),t()(),f(6,Ve,3,1,"div",11),e(7,"form",12),g("ngSubmit",function(){b(i);let m=c();return _(m.onSubmit())}),e(8,"div",13)(9,"div")(10,"label",14),n(11,"Email Address"),t(),d(12,"input",15),t(),e(13,"button",16),f(14,Ae,2,0,"span",17)(15,Te,5,0,"span",18),t(),e(16,"div",2)(17,"button",19),g("click",function(){b(i);let m=c();return _(m.goBack())}),n(18," \u2190 Back to Sign In "),t()()()()()}if(r&2){let i,a=c();s(6),l("ngIf",a.errorMessage),s(),l("formGroup",a.forgotPasswordForm),s(5),S("border-red-300",((i=a.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=a.forgotPasswordForm.get("email"))==null?null:i.touched)),s(),l("disabled",a.forgotPasswordForm.invalid||a.isLoading),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading)}}function Ne(r,o){if(r&1){let i=C();e(0,"div",8)(1,"div",2)(2,"div",3)(3,"div",26),p(),e(4,"svg",27),d(5,"path",28),t()()(),y(),e(6,"h2",29),n(7,"Reset Link Sent!"),t(),e(8,"p",30),n(9," Password reset link sent to your email. Please check your email to reset your password. "),t(),e(10,"div",31)(11,"p",32),n(12," Redirecting to login page in "),e(13,"span",33),n(14),t(),n(15," seconds "),t()(),e(16,"button",34),g("click",function(){b(i);let m=c();return _(m.goBack())}),n(17," Go to login now "),t()()()}if(r&2){let i=c();s(14),w(i.countdown)}}var z=class r{constructor(o,i,a){this.fb=o;this.router=i;this.authService=a;this.forgotPasswordForm=this.fb.group({email:["",[h.required,h.email]]})}forgotPasswordForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=10;countdownInterval;onSubmit(){this.forgotPasswordForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1,this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:o=>{o.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=o.message||"Failed to send reset link",this.isLoading=!1},error:o=>{this.errorMessage=o.error?.message||o.error?.error||"An error occurred",this.isLoading=!1}}))}startCountdown(){this.countdown=10,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}goBack(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||r)(x(G),x(M),x(P))};static \u0275cmp=E({type:r,selectors:[["app-forgot-password"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter your email address","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t()(),e(6,"p",6),n(7,"Enterprise Asset Management System"),t()(),f(8,je,19,7,"div",7)(9,Ne,18,1,"div",7),t()()),i&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",!a.showSuccessMessage),s(),l("ngIf",a.showSuccessMessage))},dependencies:[I,F,A,L,R,V,N,T,j],encapsulation:2})};function Ge(r,o){if(r&1&&(e(0,"div",15)(1,"p",16),n(2),t()()),r&2){let i=c(2);s(2),w(i.errorMessage)}}function qe(r,o){r&1&&(e(0,"div",27),n(1," Passwords do not match "),t())}function Be(r,o){r&1&&(e(0,"span"),n(1,"Reset Password"),t())}function De(r,o){r&1&&(e(0,"span",28),p(),e(1,"svg",29),d(2,"circle",30)(3,"path",31),t(),n(4," Resetting... "),t())}function ze(r,o){if(r&1){let i=C();e(0,"form",17),g("ngSubmit",function(){b(i);let m=c(2);return _(m.onSubmit())}),e(1,"div",18)(2,"div")(3,"label",19),n(4,"New Password"),t(),d(5,"input",20),t(),e(6,"div")(7,"label",21),n(8,"Confirm New Password"),t(),d(9,"input",22),f(10,qe,2,0,"div",23),t(),e(11,"button",24),f(12,Be,2,0,"span",25)(13,De,5,0,"span",26),t()()()}if(r&2){let i,a,m,v=c(2);l("formGroup",v.resetPasswordForm),s(5),S("border-red-300",((i=v.resetPasswordForm.get("password"))==null?null:i.invalid)&&((i=v.resetPasswordForm.get("password"))==null?null:i.touched)),s(4),S("border-red-300",((a=v.resetPasswordForm.get("password_confirmation"))==null?null:a.invalid)&&((a=v.resetPasswordForm.get("password_confirmation"))==null?null:a.touched)),s(),l("ngIf",(v.resetPasswordForm.errors==null?null:v.resetPasswordForm.errors.passwordMismatch)&&((m=v.resetPasswordForm.get("password_confirmation"))==null?null:m.touched)),s(),l("disabled",v.resetPasswordForm.invalid||v.isLoading),s(),l("ngIf",!v.isLoading),s(),l("ngIf",v.isLoading)}}function He(r,o){if(r&1){let i=C();e(0,"div",8)(1,"div",9)(2,"h2",10),n(3,"Reset Password"),t(),e(4,"p",6),n(5,"Enter your new password below"),t()(),f(6,Ge,3,1,"div",11)(7,ze,14,9,"form",12),e(8,"div",13)(9,"button",14),g("click",function(){b(i);let m=c();return _(m.goToLogin())}),n(10," \u2190 Back to Sign In "),t()()()}if(r&2){let i=c();s(6),l("ngIf",i.errorMessage),s(),l("ngIf",!i.errorMessage||i.errorMessage&&i.token&&i.email)}}function Oe(r,o){if(r&1){let i=C();e(0,"div",8)(1,"div",2)(2,"div",3)(3,"div",32),p(),e(4,"svg",33),d(5,"path",34),t()()(),y(),e(6,"h2",35),n(7,"Password Reset Successfully!"),t(),e(8,"p",36),n(9," Your password has been reset successfully. You can now log in with your new password. "),t(),e(10,"div",37)(11,"p",38),n(12," Redirecting to login page in "),e(13,"span",39),n(14),t(),n(15," seconds "),t()(),e(16,"button",40),g("click",function(){b(i);let m=c();return _(m.goToLogin())}),n(17," Go to login now "),t()()()}if(r&2){let i=c();s(14),w(i.countdown)}}var H=class r{constructor(o,i,a,m){this.fb=o;this.router=i;this.route=a;this.authService=m;this.resetPasswordForm=this.fb.group({password:["",[h.required,h.minLength(6)]],password_confirmation:["",[h.required]]},{validators:this.passwordMatchValidator})}resetPasswordForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=10;countdownInterval;token="";email="";ngOnInit(){this.token=this.route.snapshot.queryParams.token||"",this.email=this.route.snapshot.queryParams.email||"",(!this.token||!this.email)&&(this.errorMessage="Invalid reset link")}passwordMatchValidator(o){let i=o.get("password"),a=o.get("password_confirmation");return i&&a&&i.value===a.value?null:{passwordMismatch:!0}}onSubmit(){if(this.resetPasswordForm.valid&&!this.isLoading&&this.token&&this.email){this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1;let o={token:this.token,email:this.email,password:this.resetPasswordForm.value.password,password_confirmation:this.resetPasswordForm.value.password_confirmation};this.authService.resetPassword(o).subscribe({next:i=>{i.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=i.message||"Failed to reset password",this.isLoading=!1},error:i=>{this.errorMessage=i.error?.message||i.error?.error||"An error occurred",this.isLoading=!1}})}}startCountdown(){this.countdown=10,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||r)(x(G),x(M),x(J),x(P))};static \u0275cmp=E({type:r,selectors:[["app-reset-password"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","mt-6"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","password","type","password","formControlName","password","placeholder","Enter new password","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","password_confirmation","type","password","formControlName","password_confirmation","placeholder","Confirm new password","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t()(),e(6,"p",6),n(7,"Enterprise Asset Management System"),t()(),f(8,He,11,2,"div",7)(9,Oe,18,1,"div",7),t()()),i&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",!a.showSuccessMessage),s(),l("ngIf",a.showSuccessMessage))},dependencies:[I,F,A,L,R,V,N,T,j],encapsulation:2})};function Ue(r,o){r&1&&(e(0,"div",9)(1,"div",10),p(),e(2,"svg",11),d(3,"circle",12)(4,"path",13),t()(),y(),e(5,"h2",14),n(6,"Activating Account"),t(),e(7,"p",6),n(8,"Please wait while we activate your account..."),t()())}function We(r,o){if(r&1){let i=C();e(0,"div",9)(1,"div",10)(2,"div",15),p(),e(3,"svg",16),d(4,"path",17),t()()(),y(),e(5,"h2",14),n(6,"Account Activated!"),t(),e(7,"p",18),n(8),t(),e(9,"button",19),g("click",function(){b(i);let m=c();return _(m.goToLogin())}),n(10," Continue to Sign In "),t()()}if(r&2){let i=c();s(8),w(i.successMessage)}}function Ye(r,o){if(r&1){let i=C();e(0,"div",9)(1,"div",10)(2,"div",20),p(),e(3,"svg",21),d(4,"path",22),t()()(),y(),e(5,"h2",14),n(6,"Activation Failed"),t(),e(7,"p",18),n(8),t(),e(9,"div",23)(10,"button",19),g("click",function(){b(i);let m=c();return _(m.resendActivation())}),n(11," Request New Activation Link "),t(),e(12,"button",24),g("click",function(){b(i);let m=c();return _(m.goToLogin())}),n(13," Back to Sign In "),t()()()}if(r&2){let i=c();s(8),w(i.errorMessage)}}var O=class r{constructor(o,i,a){this.router=o;this.route=i;this.authService=a}isLoading=!0;successMessage="";errorMessage="";id="";hash="";ngOnInit(){if(this.id=this.route.snapshot.params.id||"",this.hash=this.route.snapshot.params.hash||"",!this.id||!this.hash){this.errorMessage="Invalid verification link",this.isLoading=!1;return}this.verifyEmail()}verifyEmail(){this.authService.verifyEmail(this.id,this.hash).subscribe({next:o=>{o.success?this.successMessage=o.message||"Email verified successfully":this.errorMessage=o.message||"Failed to verify email",this.isLoading=!1},error:o=>{this.errorMessage=o.error?.message||o.error?.error||"An error occurred during verification",this.isLoading=!1}})}goToLogin(){this.router.navigate(["/login"])}resendActivation(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||r)(x(M),x(J),x(P))};static \u0275cmp=E({type:r,selectors:[["app-activate-account"]],decls:13,vars:4,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],["class","py-8",4,"ngIf"],[1,"py-8"],[1,"flex","justify-center","mb-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-gray-600","mb-6"],[1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-3"],[1,"w-full","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t()(),e(6,"p",6),n(7,"Enterprise Asset Management System"),t()(),e(8,"div",7)(9,"div",2),f(10,Ue,9,0,"div",8)(11,We,11,1,"div",8)(12,Ye,14,1,"div",8),t()()()()),i&2&&(s(5),l("src","images/logo.png",k),s(5),l("ngIf",a.isLoading),s(),l("ngIf",!a.isLoading&&a.successMessage),s(),l("ngIf",!a.isLoading&&a.errorMessage))},dependencies:[I],encapsulation:2})};var Ze=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:q},{path:"register",component:D},{path:"forgot-password",component:z},{path:"reset-password",component:H},{path:"activate-account",component:O},{path:"email/verify/:id/:hash",component:O}],ee=class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[ie.forChild(Ze),ie]})};var ce=class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[de,F,ee,q,D,z,H]})};export{ce as AuthModule};
