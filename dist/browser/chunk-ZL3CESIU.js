import{a as Pe,b as G}from"./chunk-3GUCJ2YB.js";import{a as mt}from"./chunk-ZYH4EOZP.js";import{c as ut,e as ft,i as gt}from"./chunk-NFXDCVAX.js";import{h as at,k as lt,l as ct,x as dt}from"./chunk-7MBUZDFJ.js";import{$a as nt,Cb as L,Fb as I,Gb as _,Ka as K,Mb as it,Na as f,Nb as rt,Ob as ot,S as Ie,Sa as J,Tb as u,Ub as y,Vb as de,Wb as st,X as tt,eb as T,f as et,ia as S,ja as E,ka as z,la as Y,mb as b,qb as Ae,wb as c,xb as d,yb as A}from"./chunk-AUEGETV7.js";import{d as h,e as yn}from"./chunk-EQDQRRRY.js";var ht=h((Bi,pt)=>{"use strict";pt.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var D=h(H=>{"use strict";var Te,bn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};H.getSymbolTotalCodewords=function(e){return bn[e]};H.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};H.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Te=e};H.isKanjiModeEnabled=function(){return typeof Te<"u"};H.toSJIS=function(e){return Te(e)}});var ue=h(P=>{"use strict";P.L={bit:1};P.M={bit:0};P.Q={bit:3};P.H={bit:2};function _n(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return P.L;case"m":case"medium":return P.M;case"q":case"quartile":return P.Q;case"h":case"high":return P.H;default:throw new Error("Unknown EC Level: "+n)}}P.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};P.from=function(e,t){if(P.isValid(e))return e;try{return _n(e)}catch{return t}}});var yt=h((Ri,wt)=>{"use strict";function xt(){this.buffer=[],this.length=0}xt.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};wt.exports=xt});var _t=h((ki,bt)=>{"use strict";function ne(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}ne.prototype.set=function(n,e,t,i){let r=n*this.size+e;this.data[r]=t,i&&(this.reservedBit[r]=!0)};ne.prototype.get=function(n,e){return this.data[n*this.size+e]};ne.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};ne.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};bt.exports=ne});var Ct=h(fe=>{"use strict";var Cn=D().getSymbolSize;fe.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=Cn(e),r=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-r;return o.push(6),o.reverse()};fe.getPositions=function(e){let t=[],i=fe.getRowColCoords(e),r=i.length;for(let o=0;o<r;o++)for(let s=0;s<r;s++)o===0&&s===0||o===0&&s===r-1||o===r-1&&s===0||t.push([i[o],i[s]]);return t}});var Et=h(St=>{"use strict";var vn=D().getSymbolSize,vt=7;St.getPositions=function(e){let t=vn(e);return[[0,0],[t-vt,0],[0,t-vt]]}});var It=h(x=>{"use strict";x.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var j={N1:3,N2:3,N3:40,N4:10};x.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};x.from=function(e){return x.isValid(e)?parseInt(e,10):void 0};x.getPenaltyN1=function(e){let t=e.size,i=0,r=0,o=0,s=null,a=null;for(let l=0;l<t;l++){r=o=0,s=a=null;for(let g=0;g<t;g++){let m=e.get(l,g);m===s?r++:(r>=5&&(i+=j.N1+(r-5)),s=m,r=1),m=e.get(g,l),m===a?o++:(o>=5&&(i+=j.N1+(o-5)),a=m,o=1)}r>=5&&(i+=j.N1+(r-5)),o>=5&&(i+=j.N1+(o-5))}return i};x.getPenaltyN2=function(e){let t=e.size,i=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let s=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(s===4||s===0)&&i++}return i*j.N2};x.getPenaltyN3=function(e){let t=e.size,i=0,r=0,o=0;for(let s=0;s<t;s++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(s,a),a>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&i++}return i*j.N3};x.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*j.N4};function Sn(n,e,t){switch(n){case x.Patterns.PATTERN000:return(e+t)%2===0;case x.Patterns.PATTERN001:return e%2===0;case x.Patterns.PATTERN010:return t%3===0;case x.Patterns.PATTERN011:return(e+t)%3===0;case x.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case x.Patterns.PATTERN101:return e*t%2+e*t%3===0;case x.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case x.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}x.applyMask=function(e,t){let i=t.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,Sn(e,o,r))};x.getBestMask=function(e,t){let i=Object.keys(x.Patterns).length,r=0,o=1/0;for(let s=0;s<i;s++){t(s),x.applyMask(s,e);let a=x.getPenaltyN1(e)+x.getPenaltyN2(e)+x.getPenaltyN3(e)+x.getPenaltyN4(e);x.applyMask(s,e),a<o&&(o=a,r=s)}return r}});var Be=h(Ne=>{"use strict";var F=ue(),ge=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],me=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ne.getBlocksCount=function(e,t){switch(t){case F.L:return ge[(e-1)*4+0];case F.M:return ge[(e-1)*4+1];case F.Q:return ge[(e-1)*4+2];case F.H:return ge[(e-1)*4+3];default:return}};Ne.getTotalCodewordsCount=function(e,t){switch(t){case F.L:return me[(e-1)*4+0];case F.M:return me[(e-1)*4+1];case F.Q:return me[(e-1)*4+2];case F.H:return me[(e-1)*4+3];default:return}}});var At=h(he=>{"use strict";var ie=new Uint8Array(512),pe=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)ie[t]=e,pe[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)ie[t]=ie[t-255]})();he.log=function(e){if(e<1)throw new Error("log("+e+")");return pe[e]};he.exp=function(e){return ie[e]};he.mul=function(e,t){return e===0||t===0?0:ie[pe[e]+pe[t]]}});var Pt=h(re=>{"use strict";var Me=At();re.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)i[r+o]^=Me.mul(e[r],t[o]);return i};re.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let r=i[0];for(let s=0;s<t.length;s++)i[s]^=Me.mul(t[s],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};re.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=re.mul(t,new Uint8Array([1,Me.exp(i)]));return t}});var Bt=h((Hi,Nt)=>{"use strict";var Tt=Pt();function Le(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Le.prototype.initialize=function(e){this.degree=e,this.genPoly=Tt.generateECPolynomial(this.degree)};Le.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=Tt.mod(t,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};Nt.exports=Le});var Re=h(Mt=>{"use strict";Mt.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var ke=h(R=>{"use strict";var Lt="[0-9]+",En="[A-Z $%*+\\-./:]+",oe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";oe=oe.replace(/u/g,"\\u");var In="(?:(?![A-Z0-9 $%*+\\-./:]|"+oe+`)(?:.|[\r
]))+`;R.KANJI=new RegExp(oe,"g");R.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");R.BYTE=new RegExp(In,"g");R.NUMERIC=new RegExp(Lt,"g");R.ALPHANUMERIC=new RegExp(En,"g");var An=new RegExp("^"+oe+"$"),Pn=new RegExp("^"+Lt+"$"),Tn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");R.testKanji=function(e){return An.test(e)};R.testNumeric=function(e){return Pn.test(e)};R.testAlphanumeric=function(e){return Tn.test(e)}});var U=h(C=>{"use strict";var Nn=Re(),Ve=ke();C.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};C.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};C.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};C.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};C.MIXED={bit:-1};C.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Nn.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};C.getBestModeForData=function(e){return Ve.testNumeric(e)?C.NUMERIC:Ve.testAlphanumeric(e)?C.ALPHANUMERIC:Ve.testKanji(e)?C.KANJI:C.BYTE};C.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};C.isValid=function(e){return e&&e.bit&&e.ccBits};function Bn(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return C.NUMERIC;case"alphanumeric":return C.ALPHANUMERIC;case"kanji":return C.KANJI;case"byte":return C.BYTE;default:throw new Error("Unknown mode: "+n)}}C.from=function(e,t){if(C.isValid(e))return e;try{return Bn(e)}catch{return t}}});var Ft=h(O=>{"use strict";var xe=D(),Mn=Be(),Rt=ue(),q=U(),De=Re(),Vt=7973,kt=xe.getBCHDigit(Vt);function Ln(n,e,t){for(let i=1;i<=40;i++)if(e<=O.getCapacity(i,t,n))return i}function Dt(n,e){return q.getCharCountIndicator(n,e)+4}function Rn(n,e){let t=0;return n.forEach(function(i){let r=Dt(i.mode,e);t+=r+i.getBitsLength()}),t}function kn(n,e){for(let t=1;t<=40;t++)if(Rn(n,t)<=O.getCapacity(t,e,q.MIXED))return t}O.from=function(e,t){return De.isValid(e)?parseInt(e,10):t};O.getCapacity=function(e,t,i){if(!De.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=q.BYTE);let r=xe.getSymbolTotalCodewords(e),o=Mn.getTotalCodewordsCount(e,t),s=(r-o)*8;if(i===q.MIXED)return s;let a=s-Dt(i,e);switch(i){case q.NUMERIC:return Math.floor(a/10*3);case q.ALPHANUMERIC:return Math.floor(a/11*2);case q.KANJI:return Math.floor(a/13);case q.BYTE:default:return Math.floor(a/8)}};O.getBestVersionForData=function(e,t){let i,r=Rt.from(t,Rt.M);if(Array.isArray(e)){if(e.length>1)return kn(e,r);if(e.length===0)return 1;i=e[0]}else i=e;return Ln(i.mode,i.getLength(),r)};O.getEncodedBits=function(e){if(!De.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;xe.getBCHDigit(t)-kt>=0;)t^=Vt<<xe.getBCHDigit(t)-kt;return e<<12|t}});var Ht=h(zt=>{"use strict";var Fe=D(),qt=1335,Vn=21522,Ut=Fe.getBCHDigit(qt);zt.getEncodedBits=function(e,t){let i=e.bit<<3|t,r=i<<10;for(;Fe.getBCHDigit(r)-Ut>=0;)r^=qt<<Fe.getBCHDigit(r)-Ut;return(i<<10|r)^Vn}});var Ot=h((Ki,jt)=>{"use strict";var Dn=U();function W(n){this.mode=Dn.NUMERIC,this.data=n.toString()}W.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(e){let t,i,r;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),r=parseInt(i,10),e.put(r,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),r=parseInt(i,10),e.put(r,o*3+1))};jt.exports=W});var Qt=h((Ji,$t)=>{"use strict";var Fn=U(),Ue=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Z(n){this.mode=Fn.ALPHANUMERIC,this.data=n}Z.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Z.prototype.getLength=function(){return this.data.length};Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)};Z.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=Ue.indexOf(this.data[t])*45;i+=Ue.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(Ue.indexOf(this.data[t]),6)};$t.exports=Z});var Kt=h((Gi,Yt)=>{"use strict";var Un=U();function X(n){this.mode=Un.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}X.getBitsLength=function(e){return e*8};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};Yt.exports=X});var Gt=h((Wi,Jt)=>{"use strict";var qn=U(),zn=D();function ee(n){this.mode=qn.KANJI,this.data=n}ee.getBitsLength=function(e){return e*13};ee.prototype.getLength=function(){return this.data.length};ee.prototype.getBitsLength=function(){return ee.getBitsLength(this.data.length)};ee.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=zn.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};Jt.exports=ee});var Wt=h((Zi,qe)=>{"use strict";var se={single_source_shortest_paths:function(n,e,t){var i={},r={};r[e]=0;var o=se.PriorityQueue.make();o.push(e,0);for(var s,a,l,g,m,v,w,N,k;!o.empty();){s=o.pop(),a=s.value,g=s.cost,m=n[a]||{};for(l in m)m.hasOwnProperty(l)&&(v=m[l],w=g+v,N=r[l],k=typeof r[l]>"u",(k||N>w)&&(r[l]=w,o.push(l,w),i[l]=a))}if(typeof t<"u"&&typeof r[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],i=e,r;i;)t.push(i),r=n[i],i=n[i];return t.reverse(),t},find_path:function(n,e,t){var i=se.single_source_shortest_paths(n,e,t);return se.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(n){var e=se.PriorityQueue,t={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof qe<"u"&&(qe.exports=se)});var sn=h(te=>{"use strict";var p=U(),en=Ot(),tn=Qt(),nn=Kt(),rn=Gt(),ae=ke(),we=D(),Hn=Wt();function Zt(n){return unescape(encodeURIComponent(n)).length}function le(n,e,t){let i=[],r;for(;(r=n.exec(t))!==null;)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function on(n){let e=le(ae.NUMERIC,p.NUMERIC,n),t=le(ae.ALPHANUMERIC,p.ALPHANUMERIC,n),i,r;return we.isKanjiModeEnabled()?(i=le(ae.BYTE,p.BYTE,n),r=le(ae.KANJI,p.KANJI,n)):(i=le(ae.BYTE_KANJI,p.BYTE,n),r=[]),e.concat(t,i,r).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function ze(n,e){switch(e){case p.NUMERIC:return en.getBitsLength(n);case p.ALPHANUMERIC:return tn.getBitsLength(n);case p.KANJI:return rn.getBitsLength(n);case p.BYTE:return nn.getBitsLength(n)}}function jn(n){return n.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function On(n){let e=[];for(let t=0;t<n.length;t++){let i=n[t];switch(i.mode){case p.NUMERIC:e.push([i,{data:i.data,mode:p.ALPHANUMERIC,length:i.length},{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.ALPHANUMERIC:e.push([i,{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.KANJI:e.push([i,{data:i.data,mode:p.BYTE,length:Zt(i.data)}]);break;case p.BYTE:e.push([{data:i.data,mode:p.BYTE,length:Zt(i.data)}])}}return e}function $n(n,e){let t={},i={start:{}},r=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let g=s[l],m=""+o+l;a.push(m),t[m]={node:g,lastCount:0},i[m]={};for(let v=0;v<r.length;v++){let w=r[v];t[w]&&t[w].node.mode===g.mode?(i[w][m]=ze(t[w].lastCount+g.length,g.mode)-ze(t[w].lastCount,g.mode),t[w].lastCount+=g.length):(t[w]&&(t[w].lastCount=g.length),i[w][m]=ze(g.length,g.mode)+4+p.getCharCountIndicator(g.mode,e))}}r=a}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:t}}function Xt(n,e){let t,i=p.getBestModeForData(n);if(t=p.from(e,i),t!==p.BYTE&&t.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+p.toString(t)+`.
 Suggested mode is: `+p.toString(i));switch(t===p.KANJI&&!we.isKanjiModeEnabled()&&(t=p.BYTE),t){case p.NUMERIC:return new en(n);case p.ALPHANUMERIC:return new tn(n);case p.KANJI:return new rn(n);case p.BYTE:return new nn(n)}}te.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(Xt(i,null)):i.data&&t.push(Xt(i.data,i.mode)),t},[])};te.fromString=function(e,t){let i=on(e,we.isKanjiModeEnabled()),r=On(i),o=$n(r,t),s=Hn.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return te.fromArray(jn(a))};te.rawSplit=function(e){return te.fromArray(on(e,we.isKanjiModeEnabled()))}});var ln=h(an=>{"use strict";var be=D(),He=ue(),Qn=yt(),Yn=_t(),Kn=Ct(),Jn=Et(),$e=It(),Qe=Be(),Gn=Bt(),ye=Ft(),Wn=Ht(),Zn=U(),je=sn();function Xn(n,e){let t=n.size,i=Jn.getPositions(e);for(let r=0;r<i.length;r++){let o=i[r][0],s=i[r][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function ei(n){let e=n.size;for(let t=8;t<e-8;t++){let i=t%2===0;n.set(t,6,i,!0),n.set(6,t,i,!0)}}function ti(n,e){let t=Kn.getPositions(e);for(let i=0;i<t.length;i++){let r=t[i][0],o=t[i][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(r+s,o+a,!0,!0):n.set(r+s,o+a,!1,!0)}}function ni(n,e){let t=n.size,i=ye.getEncodedBits(e),r,o,s;for(let a=0;a<18;a++)r=Math.floor(a/3),o=a%3+t-8-3,s=(i>>a&1)===1,n.set(r,o,s,!0),n.set(o,r,s,!0)}function Oe(n,e,t){let i=n.size,r=Wn.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(r>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(i-15+o,8,s,!0),o<8?n.set(8,i-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(i-8,8,1,!0)}function ii(n,e){let t=n.size,i=-1,r=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(r,a-l)){let g=!1;s<e.length&&(g=(e[s]>>>o&1)===1),n.set(r,a-l,g),o--,o===-1&&(s++,o=7)}if(r+=i,r<0||t<=r){r-=i,i=-i;break}}}function ri(n,e,t){let i=new Qn;t.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),Zn.getCharCountIndicator(l.mode,n)),l.write(i)});let r=be.getSymbolTotalCodewords(n),o=Qe.getTotalCodewordsCount(n,e),s=(r-o)*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(s-i.getLengthInBits())/8;for(let l=0;l<a;l++)i.put(l%2?17:236,8);return oi(i,n,e)}function oi(n,e,t){let i=be.getSymbolTotalCodewords(e),r=Qe.getTotalCodewordsCount(e,t),o=i-r,s=Qe.getBlocksCount(e,t),a=i%s,l=s-a,g=Math.floor(i/s),m=Math.floor(o/s),v=m+1,w=g-m,N=new Gn(w),k=0,V=new Array(s),Ze=new Array(s),ve=0,wn=new Uint8Array(n.buffer);for(let Q=0;Q<s;Q++){let Ee=Q<l?m:v;V[Q]=wn.slice(k,k+Ee),Ze[Q]=N.encode(V[Q]),k+=Ee,ve=Math.max(ve,Ee)}let Se=new Uint8Array(i),Xe=0,B,M;for(B=0;B<ve;B++)for(M=0;M<s;M++)B<V[M].length&&(Se[Xe++]=V[M][B]);for(B=0;B<w;B++)for(M=0;M<s;M++)Se[Xe++]=Ze[M][B];return Se}function si(n,e,t,i){let r;if(Array.isArray(n))r=je.fromArray(n);else if(typeof n=="string"){let g=e;if(!g){let m=je.rawSplit(n);g=ye.getBestVersionForData(m,t)}r=je.fromString(n,g||40)}else throw new Error("Invalid data");let o=ye.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=ri(e,t,r),a=be.getSymbolSize(e),l=new Yn(a);return Xn(l,e),ei(l),ti(l,e),Oe(l,t,0),e>=7&&ni(l,e),ii(l,s),isNaN(i)&&(i=$e.getBestMask(l,Oe.bind(null,l,t))),$e.applyMask(i,l),Oe(l,t,i),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:i,segments:r}}an.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=He.M,r,o;return typeof t<"u"&&(i=He.from(t.errorCorrectionLevel,He.M),r=ye.from(t.version),o=$e.from(t.maskPattern),t.toSJISFunc&&be.setToSJISFunction(t.toSJISFunc)),si(e,r,i,o)}});var Ye=h($=>{"use strict";function cn(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}$.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:cn(e.color.dark||"#000000ff"),light:cn(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};$.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};$.getImageWidth=function(e,t){let i=$.getScale(e,t);return Math.floor((e+t.margin*2)*i)};$.qrToImageData=function(e,t,i){let r=t.modules.size,o=t.modules.data,s=$.getScale(r,i),a=Math.floor((r+i.margin*2)*s),l=i.margin*s,g=[i.color.light,i.color.dark];for(let m=0;m<a;m++)for(let v=0;v<a;v++){let w=(m*a+v)*4,N=i.color.light;if(m>=l&&v>=l&&m<a-l&&v<a-l){let k=Math.floor((m-l)/s),V=Math.floor((v-l)/s);N=g[o[k*r+V]?1:0]}e[w++]=N.r,e[w++]=N.g,e[w++]=N.b,e[w]=N.a}}});var dn=h(_e=>{"use strict";var Ke=Ye();function ai(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function li(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}_e.render=function(e,t,i){let r=i,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=li()),r=Ke.getOptions(r);let s=Ke.getImageWidth(e.modules.size,r),a=o.getContext("2d"),l=a.createImageData(s,s);return Ke.qrToImageData(l.data,e,r),ai(a,o,s),a.putImageData(l,0,0),o};_e.renderToDataURL=function(e,t,i){let r=i;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=_e.render(e,t,r),s=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(s,a.quality)}});var gn=h(fn=>{"use strict";var ci=Ye();function un(n,e){let t=n.a/255,i=e+'="'+n.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function Je(n,e,t){let i=n+e;return typeof t<"u"&&(i+=" "+t),i}function di(n,e,t){let i="",r=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%e),g=Math.floor(a/e);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(i+=o?Je("M",l+t,.5+g+t):Je("m",r,0),r=0,o=!1),l+1<e&&n[a+1]||(i+=Je("h",s),s=0)):r++}return i}fn.render=function(e,t,i){let r=ci.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+r.margin*2,l=r.color.light.a?"<path "+un(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",g="<path "+un(r.color.dark,"stroke")+' d="'+di(s,o,r.margin)+'"/>',m='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+m+' shape-rendering="crispEdges">'+l+g+`</svg>
`;return typeof i=="function"&&i(null,w),w}});var pn=h(ce=>{"use strict";var ui=ht(),Ge=ln(),mn=dn(),fi=gn();function We(n,e,t,i,r){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!ui())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(r=t,t=e,e=i=void 0):s===3&&(e.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=i=void 0):s===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(l,g){try{let m=Ge.create(t,i);l(n(m,e,i))}catch(m){g(m)}})}try{let l=Ge.create(t,i);r(null,n(l,e,i))}catch(l){r(l)}}ce.create=Ge.create;ce.toCanvas=We.bind(null,mn.render);ce.toDataURL=We.bind(null,mn.renderToDataURL);ce.toString=We.bind(null,function(n,e,t){return fi.render(n,t)})});var xn=yn(pn());var Ce=class n{constructor(){}exportAssetsToPdf(e,t="Asset Export Report"){console.log("Exporting assets to PDF:",e.length,"assets");let i=new Pe,r=i.internal.pageSize.width,o=20;i.setFontSize(20),i.setFont("helvetica","bold"),i.text(t,o,30),i.setFontSize(10),i.setFont("helvetica","normal");let s=new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"});i.text(`Generated on: ${s}`,o,45);let a=e.map(g=>[g.asset_id||`AST-${g.id}`||"",g.name||"",g.manufacturer||"",g.model||"",g.status||"Active",g.location?.name||""]);console.log("Table data prepared:",a),G(i,{head:[["ID","Name","Manufacturer","Model","Status","Location"]],body:a,startY:60,margin:{left:o,right:o},styles:{fontSize:9,cellPadding:3,halign:"left"},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:25},1:{cellWidth:40},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:20},5:{cellWidth:35}}}),console.log("PDF table created, saving file...");let l=`asset-export-${new Date().toISOString().split("T")[0]}.pdf`;console.log("Saving PDF as:",l),i.save(l)}exportSingleAssetToPdf(e){let t=new Pe,i=t.internal.pageSize.width,r=20;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("Asset Details Report",r,30),t.setFontSize(10),t.setFont("helvetica","normal");let o=new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"});t.text(`Generated on: ${o}`,r,45),t.setFontSize(16),t.setFont("helvetica","bold"),t.text(e.name||"Unnamed Asset",r,65),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`Asset ID: ${e.asset_id||e.id}`,r,75),e.status&&(t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(0,128,0),t.text(`Status: ${e.status.toUpperCase()}`,r,85),t.setTextColor(0,0,0));let s=100;t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Basic Information",r,s),s+=15;let a=[["Category",e.category?.name||"General"],["Asset Type",e.type||"Standard Asset"],["Location",e.location?.name||"Not specified"],["Department",e.department?.name||"Not specified"],["Supplier",e.supplier||"Not specified"],["Description",e.description||"No description available"]];G(t,{body:a,startY:s,margin:{left:r,right:r},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:40,fontStyle:"bold"},1:{cellWidth:120}},theme:"plain"}),s=t.lastAutoTable.finalY+20,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Technical Specifications",r,s),s+=15;let l=[["Manufacturer",e.manufacturer||"Not specified"],["Model Number",e.model||"Not specified"],["Serial Number",e.serial_number||"Not specified"],["Brand",e.brand||"Not specified"]];G(t,{body:l,startY:s,margin:{left:r,right:r},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:40,fontStyle:"bold"},1:{cellWidth:120}},theme:"plain"}),s=t.lastAutoTable.finalY+20,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Financial Information",r,s),s+=15;let g=[["Purchase Cost",e.purchase_price?`$${e.purchase_price.toLocaleString()}`:"$0"],["Current Value",e.current_value?`$${e.current_value.toLocaleString()}`:"$0"],["Purchase Date",e.purchase_date||"Not specified"],["Depreciation Method","Straight Line"],["Useful Life",e.depreciation?`${e.depreciation} years`:"10 years"]];G(t,{body:g,startY:s,margin:{left:r,right:r},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:40,fontStyle:"bold"},1:{cellWidth:120}},theme:"plain"}),s=t.lastAutoTable.finalY+20,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Health & Performance",r,s),s+=15;let m=[["Health Score",`${e.health_score||85}%`],["Performance Status","Excellent Health"],["Last Assessment","Not specified"],["Next Assessment","Not scheduled"]];G(t,{body:m,startY:s,margin:{left:r,right:r},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:40,fontStyle:"bold"},1:{cellWidth:120}},theme:"plain"});let v=`asset-${e.asset_id||e.id}-${o.replace(/\//g,"-")}.pdf`;t.save(v)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})};var pi=["dateInput"];function hi(n,e){n&1&&(c(0,"div",16)(1,"div",17),A(2,"div",18),c(3,"p",19),u(4,"Loading asset details..."),d()()())}function xi(n,e){if(n&1&&(c(0,"div",20)(1,"div",21),z(),c(2,"svg",22),A(3,"path",23),d(),Y(),c(4,"div")(5,"h3",24),u(6,"Error Loading Asset"),d(),c(7,"p",25),u(8),d()()()()),n&2){let t=_();f(8),y(t.error)}}function wi(n,e){if(n&1){let t=L();c(0,"button",47),I("click",function(){S(t);let r=_(2);return E(r.copyAssetId())}),u(1," Copy ID "),d()}}function yi(n,e){if(n&1){let t=L();c(0,"img",48),I("error",function(r){S(t);let o=_(2);return E(o.onCategoryIconError(r,o.asset.category))}),d()}if(n&2){let t=_(2);b("src",t.asset.category.icon,K)("alt",t.asset.category.name)}}function bi(n,e){if(n&1){let t=L();c(0,"button",47),I("click",function(){S(t);let r=_(2);return E(r.copyAssetId())}),u(1," Copy "),d()}}function _i(n,e){if(n&1){let t=L();c(0,"button",47),I("click",function(){S(t);let r=_(2);return E(r.copySerialNumber())}),u(1," Copy "),d()}}function Ci(n,e){if(n&1){let t=L();c(0,"div",49),A(1,"img",50),c(2,"div",51)(3,"button",47),I("click",function(){S(t);let r=_(2);return E(r.downloadQRCode())}),u(4," Download "),d(),c(5,"button",47),I("click",function(){S(t);let r=_(2);return E(r.copyPublicUrl())}),u(6," Copy URL "),d()()()}if(n&2){let t=_(2);f(),b("src",t.qrCodeDataUrl,K)}}function vi(n,e){if(n&1){let t=L();c(0,"div",49),A(1,"img",50),c(2,"div",51)(3,"button",47),I("click",function(){S(t);let r=_(2);return E(r.downloadQRCode())}),u(4," Download "),d(),c(5,"button",47),I("click",function(){S(t);let r=_(2);return E(r.copyQRCodeUrl())}),u(6," Copy URL "),d()()()}if(n&2){let t=_(2);f(),b("src",t.asset.qr_code_url,K)}}function Si(n,e){n&1&&(c(0,"div",49)(1,"div",52),A(2,"div",53),d(),c(3,"span",9),u(4,"Generating QR Code..."),d()())}function Ei(n,e){n&1&&(c(0,"div",49)(1,"div",54),z(),c(2,"svg",55),A(3,"path",23),d()(),Y(),c(4,"span",9),u(5,"QR Code not available"),d()())}function Ii(n,e){if(n&1&&(c(0,"p",56),u(1),d()),n&2){let t=_(2);f(),st("Public URL: ",t.windowLocation,"/public/asset/",t.asset.id,"")}}function Ai(n,e){if(n&1){let t=L();c(0,"div",59),I("click",function(){let r=S(t).$implicit,o=_(3);return E(o.viewFullImage(r))}),c(1,"img",60),I("error",function(r){S(t);let o=_(3);return E(o.onImageError(r))}),d(),c(2,"div",61),z(),c(3,"svg",62),A(4,"path",63),d()()()}if(n&2){let t=e.$implicit,i=e.index;f(),b("src",t,K)("alt","Asset image "+(i+1))}}function Pi(n,e){if(n&1&&(c(0,"div",34)(1,"div",35)(2,"h2",36),u(3,"Images"),d()(),c(4,"div",37)(5,"div",57),T(6,Ai,5,2,"div",58),d()()()),n&2){let t=_(2);f(6),b("ngForOf",t.asset.images)}}function Ti(n,e){if(n&1&&(c(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",4)(4,"div",29),z(),c(5,"svg",6),A(6,"path",7),d()(),Y(),c(7,"div")(8,"h1",30),u(9),d(),c(10,"p",31),u(11),d(),c(12,"div",32)(13,"span"),u(14),d(),c(15,"span",9),u(16),d(),T(17,wi,2,0,"button",33),d()()()()(),c(18,"div",34)(19,"div",35)(20,"h2",36),u(21,"Basic Information"),d()(),c(22,"div",37)(23,"div",38)(24,"div")(25,"label",39),u(26,"Asset Name"),d(),c(27,"p",40),u(28),d()(),c(29,"div")(30,"label",39),u(31,"Description"),d(),c(32,"p",40),u(33),d()(),c(34,"div")(35,"label",39),u(36,"Category"),d(),c(37,"div",5),T(38,yi,1,2,"img",41),c(39,"span",40),u(40),d()()(),c(41,"div")(42,"label",39),u(43,"Current Status"),d(),c(44,"span"),u(45),d()(),c(46,"div")(47,"label",39),u(48,"Location"),d(),c(49,"p",40),u(50),d()(),c(51,"div")(52,"label",39),u(53,"Department"),d(),c(54,"p",40),u(55),d()(),c(56,"div")(57,"label",39),u(58,"Created"),d(),c(59,"p",40),u(60),d()(),c(61,"div")(62,"label",39),u(63,"Last Modified"),d(),c(64,"p",40),u(65),d()(),c(66,"div")(67,"label",39),u(68,"Asset ID"),d(),c(69,"div",5)(70,"p",40),u(71),d(),T(72,bi,2,0,"button",33),d()(),c(73,"div")(74,"label",39),u(75,"Serial Number"),d(),c(76,"div",5)(77,"p",40),u(78),d(),T(79,_i,2,0,"button",33),d()(),c(80,"div",42)(81,"label",39),u(82,"QR Code"),d(),c(83,"div",4),T(84,Ci,7,1,"div",43)(85,vi,7,1,"div",43)(86,Si,5,0,"div",43)(87,Ei,6,0,"div",43),d(),c(88,"div",44)(89,"p"),u(90,"Scan this QR code to access this asset's public page"),d(),T(91,Ii,2,2,"p",45),d()()()()(),c(92,"div",34)(93,"div",35)(94,"h2",36),u(95,"Asset Details"),d()(),c(96,"div",37)(97,"div",38)(98,"div")(99,"label",39),u(100,"Asset Type"),d(),c(101,"p",40),u(102),d()(),c(103,"div")(104,"label",39),u(105,"Model"),d(),c(106,"p",40),u(107),d()(),c(108,"div")(109,"label",39),u(110,"Manufacturer"),d(),c(111,"p",40),u(112),d()(),c(113,"div")(114,"label",39),u(115,"Purchase Date"),d(),c(116,"p",40),u(117),d()(),c(118,"div")(119,"label",39),u(120,"Purchase Price"),d(),c(121,"p",40),u(122),d()(),c(123,"div")(124,"label",39),u(125,"Depreciation"),d(),c(126,"p",40),u(127),d()(),c(128,"div")(129,"label",39),u(130,"Warranty"),d(),c(131,"p",40),u(132),d()(),c(133,"div")(134,"label",39),u(135,"Insurance"),d(),c(136,"p",40),u(137),d()(),c(138,"div")(139,"label",39),u(140,"Health Score"),d(),c(141,"p",40),u(142),d()()()()(),T(143,Pi,7,1,"div",46),d()),n&2){let t=_();f(9),y(t.asset.name),f(2),y(t.asset.description||"No description available"),f(2),Ae("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ",t.getStatusColorFromAssetStatus(t.asset.asset_status),""),f(),de(" ",(t.asset.asset_status==null?null:t.asset.asset_status.name)||t.asset.status||"Unknown"," "),f(2),de("ID: ",t.asset.id,""),f(),b("ngIf",t.asset.id),f(11),y(t.asset.name||"N/A"),f(5),y(t.asset.description||"N/A"),f(5),b("ngIf",t.asset.category==null?null:t.asset.category.icon),f(2),y((t.asset.category==null?null:t.asset.category.name)||"N/A"),f(4),Ae("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ",t.getStatusColorFromAssetStatus(t.asset.asset_status),""),f(),de(" ",(t.asset.asset_status==null?null:t.asset.asset_status.name)||t.asset.status||"N/A"," "),f(5),y((t.asset.location==null?null:t.asset.location.name)||"N/A"),f(5),y((t.asset.department==null?null:t.asset.department.name)||"N/A"),f(5),y(t.formatDate(t.asset.created_at)),f(5),y(t.formatDate(t.asset.updated_at)),f(6),y(t.asset.id||"N/A"),f(),b("ngIf",t.asset.id),f(6),y(t.asset.serial_number||"N/A"),f(),b("ngIf",t.asset.serial_number),f(5),b("ngIf",t.qrCodeDataUrl),f(),b("ngIf",!t.qrCodeDataUrl&&t.asset.qr_code_url),f(),b("ngIf",t.qrCodeLoading),f(),b("ngIf",!t.qrCodeDataUrl&&!t.asset.qr_code_url&&!t.qrCodeLoading),f(4),b("ngIf",t.asset.id),f(11),y(t.getAssetTypeName(t.asset.asset_type)),f(5),y(t.asset.model||"N/A"),f(5),y(t.asset.manufacturer||"N/A"),f(5),y(t.formatDate(t.asset.purchase_date)),f(5),y(t.asset.purchase_price?"$"+t.asset.purchase_price:"N/A"),f(5),y(t.asset.depreciation||"N/A"),f(5),y(t.asset.warranty||"N/A"),f(5),y(t.asset.insurance||"N/A"),f(5),y(t.asset.health_score||"N/A"),f(),b("ngIf",t.asset.images&&t.asset.images.length>0)}}function Ni(n,e){if(n&1){let t=L();c(0,"div",64),I("click",function(){S(t);let r=_();return E(r.closeImageModal())}),c(1,"div",65),I("click",function(r){return S(t),E(r.stopPropagation())}),c(2,"button",66),I("click",function(){S(t);let r=_();return E(r.closeImageModal())}),z(),c(3,"svg",67),A(4,"path",68),d()(),Y(),A(5,"img",69),d()()}if(n&2){let t=_();f(5),b("src",t.selectedImageUrl,K)}}var hn=class n{constructor(e,t,i,r,o){this.route=e;this.router=t;this.assetService=i;this.angularLocation=r;this.pdfExportService=o}destroy$=new et;dateInputs;asset=null;loading=!0;error="";currentImageIndex=0;selectedImageUrl=null;descriptionExpanded=!1;qrCodeDataUrl=null;qrCodeLoading=!1;ngOnInit(){this.route.params.pipe(Ie(this.destroy$)).subscribe(e=>{let t=e.id;t&&this.loadAsset(t)})}ngAfterViewInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAsset(e){this.loading=!0,this.error="",this.assetService.getAssetPublic(e).pipe(Ie(this.destroy$)).subscribe({next:t=>{this.asset=t.data,this.loading=!1,this.generateQRCode()},error:t=>{console.error("Error loading asset:",t),this.error="Failed to load asset details. Please check the URL and try again.",this.loading=!1}})}generateQRCode(){if(!this.asset)return;this.qrCodeLoading=!0;let e=`${window.location.origin}/public/asset/${this.asset.id}`;xn.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(t=>{this.qrCodeDataUrl=t,this.qrCodeLoading=!1}).catch(t=>{console.error("Error generating QR code:",t),this.qrCodeLoading=!1})}downloadQRCode(){if(this.qrCodeDataUrl){let e=document.createElement("a");e.href=this.qrCodeDataUrl,e.download=`asset-${this.asset.id}-qr.png`,e.click()}else if(this.asset?.qr_code_url){let e=document.createElement("a");e.href=this.asset.qr_code_url,e.download=`asset-${this.asset.id}-qr.png`,e.click()}}copyQRCodeUrl(){this.asset?.qr_code_url&&navigator.clipboard.writeText(this.asset.qr_code_url).then(()=>{console.log("QR code URL copied to clipboard")})}copyPublicUrl(){let e=`${window.location.origin}/public/asset/${this.asset.id}`;navigator.clipboard.writeText(e).then(()=>{console.log("Public URL copied to clipboard")})}get windowLocation(){return window.location.origin}getStatusColor(e){switch(e?.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"retired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}getStatusColorFromAssetStatus(e){return e?e.color?{"#9CA3AF":"bg-gray-100 text-gray-800","#EF4444":"bg-red-100 text-red-800","#10B981":"bg-green-100 text-green-800","#F59E0B":"bg-yellow-100 text-yellow-800","#3B82F6":"bg-blue-100 text-blue-800","#8B5CF6":"bg-purple-100 text-purple-800","#EC4899":"bg-pink-100 text-pink-800","#F97316":"bg-orange-100 text-orange-800"}[e.color]||this.getStatusColor(e.name):this.getStatusColor(e.name):"bg-gray-100 text-gray-800"}getAssetTypeIcon(){if(!this.asset?.type)return"cube";let e=this.asset.type.toLowerCase();return e.includes("computer")||e.includes("laptop")?"computer":e.includes("furniture")?"couch":e.includes("vehicle")?"truck":e.includes("building")?"building":e.includes("equipment")?"wrench":"cube"}formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}getAssetTypeName(e){return e&&e.name||"N/A"}onImageError(e){e.target.style.display="none"}onCategoryIconError(e,t){e.target.src="/assets/icons/cube.svg"}copyAssetId(){this.asset?.id&&navigator.clipboard.writeText(this.asset.id.toString()).then(()=>{console.log("Asset ID copied to clipboard")})}copySerialNumber(){this.asset?.serial_number&&navigator.clipboard.writeText(this.asset.serial_number).then(()=>{console.log("Serial number copied to clipboard")})}selectImage(e){this.asset?.images&&this.asset.images[e]&&(this.currentImageIndex=e,this.selectedImageUrl=this.asset.images[e])}previousImage(){this.asset?.images&&this.asset.images.length>0&&(this.currentImageIndex=(this.currentImageIndex-1+this.asset.images.length)%this.asset.images.length,this.selectedImageUrl=this.asset.images[this.currentImageIndex])}nextImage(){this.asset?.images&&this.asset.images.length>0&&(this.currentImageIndex=(this.currentImageIndex+1)%this.asset.images.length,this.selectedImageUrl=this.asset.images[this.currentImageIndex])}viewFullImage(e){this.selectedImageUrl=e}closeImageModal(){this.selectedImageUrl=null}static \u0275fac=function(t){return new(t||n)(J(ut),J(ft),J(mt),J(at),J(Ce))};static \u0275cmp=nt({type:n,selectors:[["app-public-asset-view"]],viewQuery:function(t,i){if(t&1&&it(pi,5),t&2){let r;rt(r=ot())&&(i.dateInputs=r)}},decls:20,vars:4,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],["href","/",1,"text-blue-600","hover:text-blue-700","font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-6",4,"ngIf"],["class","space-y-8",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"flex","items-center","justify-center","py-12"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600","mx-auto"],[1,"mt-4","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-lg","font-medium","text-red-800"],[1,"text-red-700"],[1,"space-y-8"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"flex","items-start","justify-between"],[1,"w-16","h-16","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","items-center","space-x-4","mt-2"],["class","text-blue-600 hover:text-blue-700 text-sm",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-sm","border"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-gray-900"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],[1,"col-span-full"],["class","flex flex-col items-center space-y-2",4,"ngIf"],[1,"mt-3","text-xs","text-gray-500"],["class","mt-1",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border",4,"ngIf"],[1,"text-blue-600","hover:text-blue-700","text-sm",3,"click"],[1,"w-5","h-5",3,"error","src","alt"],[1,"flex","flex-col","items-center","space-y-2"],["alt","QR Code",1,"w-32","h-32","border","border-gray-200","rounded-lg",3,"src"],[1,"flex","space-x-2"],[1,"w-32","h-32","border","border-gray-200","rounded-lg","flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"w-32","h-32","border","border-gray-200","rounded-lg","flex","items-center","justify-center","bg-gray-50"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"mt-1"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","relative group cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"relative","group","cursor-pointer",3,"click"],[1,"w-full","h-32","object-cover","rounded-lg","group-hover:opacity-75","transition-opacity",3,"error","src","alt"],[1,"absolute","inset-0","bg-black","bg-opacity-0","group-hover:bg-opacity-20","transition-all","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white","opacity-0","group-hover:opacity-100","transition-opacity"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50",3,"click"],[1,"relative","max-w-4xl","max-h-full","p-4",3,"click"],[1,"absolute","top-4","right-4","text-white","hover:text-gray-300","z-10",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["alt","Full size image",1,"max-w-full","max-h-full","object-contain",3,"src"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),z(),c(6,"svg",6),A(7,"path",7),d(),Y(),c(8,"span",8),u(9,"AssetGo"),d()(),c(10,"div",9),u(11,"Public Asset View"),d()(),c(12,"div",4)(13,"a",10),u(14,"Back to Home"),d()()()()(),c(15,"div",11),T(16,hi,5,0,"div",12)(17,xi,9,1,"div",13)(18,Ti,144,39,"div",14),d(),T(19,Ni,6,1,"div",15),d()),t&2&&(f(16),b("ngIf",i.loading),f(),b("ngIf",i.error&&!i.loading),f(),b("ngIf",i.asset&&!i.loading),f(),b("ngIf",i.selectedImageUrl))},dependencies:[dt,lt,ct,gt],styles:[".activity-history-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.activity-history-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.activity-history-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.activity-history-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.image-gallery-item[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.image-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}"]})};export{pn as a,Ce as b,hn as c};
