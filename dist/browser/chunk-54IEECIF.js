import{a as g}from"./chunk-47ABMRM7.js";import{E as i,F as b}from"./chunk-CDW6MD7D.js";import{X as c,aa as l}from"./chunk-ZHYBNXXX.js";import{a,b as o}from"./chunk-EQDQRRRY.js";var d=class p{constructor(e){this.http=e}apiUrl=g.apiUrl;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:a({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getDashboardData(){return this.http.get(`${this.apiUrl}/inventory/dashboard/overview`,this.getAuthHeaders())}getInventoryAnalytics(){return this.http.get(`${this.apiUrl}/inventory/analytics/dashboard`,this.getAuthHeaders())}getTurnover(e){return this.http.get(`${this.apiUrl}/inventory/analytics/turnover`,o(a({},this.getAuthHeaders()),{params:new i({fromObject:e||{}})}))}getKpis(e){return this.http.get(`${this.apiUrl}/inventory/analytics/kpis`,o(a({},this.getAuthHeaders()),{params:new i({fromObject:e||{}})}))}getTurnoverByCategory(e){return this.http.get(`${this.apiUrl}/inventory/analytics/turnover-by-category`,o(a({},this.getAuthHeaders()),{params:new i({fromObject:e||{}})}))}getMonthlyTurnoverTrend(e){return this.http.get(`${this.apiUrl}/inventory/analytics/monthly-turnover-trend`,o(a({},this.getAuthHeaders()),{params:new i({fromObject:e||{}})}))}getStockAging(e){let t=new i;return e?.bands&&e.bands.length&&e.bands.forEach(s=>{t=t.append("bands[]",String(s))}),this.http.get(`${this.apiUrl}/inventory/analytics/stock-aging`,o(a({},this.getAuthHeaders()),{params:t}))}getAbcAnalysis(e){let t=new i;return e?.cost_basis&&(t=t.set("cost_basis",e.cost_basis)),typeof e?.thr_a=="number"&&(t=t.set("thr_a",String(e.thr_a))),typeof e?.thr_b=="number"&&(t=t.set("thr_b",String(e.thr_b))),this.http.get(`${this.apiUrl}/inventory/analytics/abc-analysis`,o(a({},this.getAuthHeaders()),{params:t}))}getAlerts(e){let t=new i;return typeof e?.is_resolved=="boolean"&&(t=t.set("is_resolved",String(e.is_resolved))),e?.page&&(t=t.set("page",String(e.page))),this.http.get(`${this.apiUrl}/inventory/alerts`,o(a({},this.getAuthHeaders()),{params:t}))}resolveAlert(e){return this.http.post(`${this.apiUrl}/inventory/alerts/${e}/resolve`,{},this.getAuthHeaders())}scanAlerts(){return this.http.post(`${this.apiUrl}/inventory/alerts/scan`,{},this.getAuthHeaders())}getAlertsSummary(){return this.http.get(`${this.apiUrl}/inventory/alerts/summary`,this.getAuthHeaders())}getReorderRecommendations(e){return this.http.post(`${this.apiUrl}/inventory/automation/recommendations`,e||{},this.getAuthHeaders())}getPartsCatalog(e,t,s=1,n=15,u){console.log("Calling parts API:",`${this.apiUrl}/inventory/parts`);let r=new i().set("page",s.toString()).set("per_page",n.toString());return e&&(r=r.set("search",e)),t&&(r=r.set("status",t)),u!==void 0&&(r=r.set("is_archived",u.toString())),console.log("Parts API params:",r.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/inventory/parts`,o(a({},this.getAuthHeaders()),{params:r}))}getPartsOverview(){return this.http.get(`${this.apiUrl}/inventory/parts/overview`,this.getAuthHeaders())}getPart(e){return this.http.get(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}createPart(e){return this.http.post(`${this.apiUrl}/inventory/parts`,e,this.getAuthHeaders())}updatePart(e,t){return this.http.put(`${this.apiUrl}/inventory/parts/${e}`,t,this.getAuthHeaders())}deletePart(e){return this.http.delete(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}archivePart(e,t=!1){return this.http.post(`${this.apiUrl}/inventory/parts/${e}/archive`,{force:t},this.getAuthHeaders())}restorePart(e){return this.http.post(`${this.apiUrl}/inventory/parts/${e}/restore`,{},this.getAuthHeaders())}downloadPartsImportTemplate(){return this.http.get(`${this.apiUrl}/inventory/parts/import/template`,{headers:this.getAuthHeaders().headers,responseType:"blob"})}importParts(e){let t={},s=this.getAuthHeaders();return Object.keys(s.headers||{}).forEach(n=>{n.toLowerCase()!=="content-type"&&(t[n]=s.headers[n])}),this.http.post(`${this.apiUrl}/inventory/parts/import`,e,{headers:t})}getStockLevels(e,t,s,n=1,u=15){let r=new i().set("page",n.toString()).set("per_page",u.toString());return e&&(r=r.set("location_id",e.toString())),t&&(r=r.set("part_id",t.toString())),s&&(r=r.set("search",s)),this.http.get(`${this.apiUrl}/inventory/stocks`,o(a({},this.getAuthHeaders()),{params:r}))}adjustStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/adjust`,e,this.getAuthHeaders())}transferStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/transfer`,e,this.getAuthHeaders())}reserveStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/reserve`,e,this.getAuthHeaders())}releaseStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/release`,e,this.getAuthHeaders())}performStockCount(e){return this.http.post(`${this.apiUrl}/inventory/stocks/count`,e,this.getAuthHeaders())}getLocations(e=1,t=15,s=0,n="created",u="desc"){console.log("Calling locations API:",`${this.apiUrl}/locations`);let r=new i().set("page",e.toString()).set("per_page",t.toString()).set("hierarchy_level",s.toString()).set("sort_by",n).set("sort_direction",u);return console.log("Locations API params:",r.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/locations`,o(a({},this.getAuthHeaders()),{params:r}))}getTransactions(e=""){let t=e?`${this.apiUrl}/inventory/transactions?${e}`:`${this.apiUrl}/inventory/transactions`;return this.http.get(t,this.getAuthHeaders())}getPurchaseOrders(e=1,t=15,s,n){let u=new i().set("page",e.toString()).set("per_page",t.toString());return s&&(u=u.set("status",s)),n&&(u=u.set("search",n)),this.http.get(`${this.apiUrl}/inventory/purchase-orders`,o(a({},this.getAuthHeaders()),{params:u}))}getPurchaseOrder(e){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}createPurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders`,e,this.getAuthHeaders())}updatePurchaseOrder(e,t){return this.http.put(`${this.apiUrl}/inventory/purchase-orders/${e}`,t,this.getAuthHeaders())}deletePurchaseOrder(e){return this.http.delete(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}receivePurchaseOrder(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/receive`,t,this.getAuthHeaders())}approvePurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/approve`,e,this.getAuthHeaders())}getPendingApprovals(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/pending-approval`,this.getAuthHeaders())}getPurchaseOrderPerformance(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/performance`,this.getAuthHeaders())}getPurchaseOrdersOverview(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/overview`,this.getAuthHeaders())}sendPurchaseOrderEmail(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/send-email`,t,this.getAuthHeaders())}downloadAbcCsv(e){let t=new i;return e?.cost_basis&&(t=t.set("cost_basis",e.cost_basis)),typeof e?.thr_a=="number"&&(t=t.set("thr_a",String(e.thr_a))),typeof e?.thr_b=="number"&&(t=t.set("thr_b",String(e.thr_b))),this.http.get(`${this.apiUrl}/inventory/analytics/abc-analysis/export`,{headers:this.getAuthHeaders().headers,params:t,responseType:"blob"})}getSuppliers(e="",t=15,s=1){let n=new i().set("search",e).set("per_page",t.toString()).set("page",s.toString());return console.log("Getting suppliers with params:",n.toString()),this.http.get(`${this.apiUrl}/inventory/suppliers`,o(a({},this.getAuthHeaders()),{params:n}))}getSupplier(e){return console.log("Getting supplier:",e),this.http.get(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}createSupplier(e){return console.log("Creating supplier:",e),this.http.post(`${this.apiUrl}/inventory/suppliers`,e,this.getAuthHeaders())}updateSupplier(e,t){return console.log("Updating supplier:",e,t),this.http.put(`${this.apiUrl}/inventory/suppliers/${e}`,t,this.getAuthHeaders())}deleteSupplier(e){return console.log("Deleting supplier:",e),this.http.delete(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}bulkDeleteSuppliers(e){return console.log("Bulk deleting suppliers:",e),this.http.post(`${this.apiUrl}/inventory/suppliers/bulk-delete`,{supplier_ids:e},this.getAuthHeaders())}static \u0275fac=function(t){return new(t||p)(l(b))};static \u0275prov=c({token:p,factory:p.\u0275fac,providedIn:"root"})};export{d as a};
