import{a as d}from"./chunk-RF5RBUBT.js";import{ba as f,mb as u}from"./chunk-XGV57TRJ.js";var h=class m{prefsService=f(d);subscription;preferences={};constructor(){this.subscription=this.prefsService.preferences$.subscribe(t=>{this.preferences=t})}ngOnDestroy(){this.subscription?.unsubscribe()}transform(t){if(!t)return"";let n=new Date(t);if(isNaN(n.getTime()))return String(t);let c=this.preferences.date_format||this.prefsService.get("date_format")||"MM/DD/YYYY",r=this.preferences.timezone||this.prefsService.get("timezone")||"UTC",i=this.convertToTimezone(n,r),s=String(i.getMonth()+1).padStart(2,"0"),o=String(i.getDate()).padStart(2,"0"),a=i.getFullYear(),p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];switch(c){case"DD/MM/YYYY":return`${o}/${s}/${a}`;case"YYYY-MM-DD":return`${a}-${s}-${o}`;case"MMM DD, YYYY":return`${p[i.getMonth()]} ${o}, ${a}`;case"MM/DD/YYYY":default:return`${s}/${o}/${a}`}}convertToTimezone(t,n){try{let r=new Intl.DateTimeFormat("en-US",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(t),i=parseInt(r.find(e=>e.type==="year")?.value||"0"),s=parseInt(r.find(e=>e.type==="month")?.value||"0")-1,o=parseInt(r.find(e=>e.type==="day")?.value||"0"),a=parseInt(r.find(e=>e.type==="hour")?.value||"0"),p=parseInt(r.find(e=>e.type==="minute")?.value||"0"),y=parseInt(r.find(e=>e.type==="second")?.value||"0");return new Date(i,s,o,a,p,y)}catch(c){return console.warn("Timezone conversion failed, using local time:",c),t}}static \u0275fac=function(n){return new(n||m)};static \u0275pipe=u({name:"dateFormat",type:m,pure:!1})};var g=class m{prefsService=f(d);subscription;preferences={};constructor(){this.subscription=this.prefsService.preferences$.subscribe(t=>{this.preferences=t})}ngOnDestroy(){this.subscription?.unsubscribe()}transform(t){if(!t)return"";let n=new Date(t);if(isNaN(n.getTime()))return String(t);let c=this.preferences.time_format||this.prefsService.get("time_format")||"12",r=this.preferences.timezone||this.prefsService.get("timezone")||"UTC",i=this.convertToTimezone(n,r),s=i.getHours(),o=String(i.getMinutes()).padStart(2,"0");if(c==="24")return`${String(s).padStart(2,"0")}:${o}`;{let a=s>=12?"PM":"AM";return`${s%12||12}:${o} ${a}`}}convertToTimezone(t,n){try{let r=new Intl.DateTimeFormat("en-US",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(t),i=parseInt(r.find(e=>e.type==="year")?.value||"0"),s=parseInt(r.find(e=>e.type==="month")?.value||"0")-1,o=parseInt(r.find(e=>e.type==="day")?.value||"0"),a=parseInt(r.find(e=>e.type==="hour")?.value||"0"),p=parseInt(r.find(e=>e.type==="minute")?.value||"0"),y=parseInt(r.find(e=>e.type==="second")?.value||"0");return new Date(i,s,o,a,p,y)}catch(c){return console.warn("Timezone conversion failed, using local time:",c),t}}static \u0275fac=function(n){return new(n||m)};static \u0275pipe=u({name:"timeFormat",type:m,pure:!1})};export{h as a,g as b};
