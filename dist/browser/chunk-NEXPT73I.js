import{a as ee}from"./chunk-2QAO4L6V.js";import{a as Z}from"./chunk-6FFQH47S.js";import{a as k}from"./chunk-5JF4GV45.js";import"./chunk-WWSC5Q7O.js";import"./chunk-FBDMHQKF.js";import"./chunk-JVLSVVP7.js";import"./chunk-GGQ7LRWG.js";import"./chunk-C5P3YSZX.js";import{c as U,e as W,h as Y,q as J,r as K,x as X}from"./chunk-6FWKCNZ5.js";import{e as q}from"./chunk-V4SZ54U5.js";import"./chunk-VUTA7ABU.js";import{k as F,l as R,p as N,v as Q}from"./chunk-42X3OFWX.js";import{Bb as p,Cb as d,Ja as D,Ka as s,Pa as M,Pb as a,Qb as P,Rb as h,Sb as S,Tb as L,Ub as z,V as I,Vb as G,Wb as $,Ya as H,_ as j,bb as v,cc as A,dc as B,ga as _,ha as f,ia as u,ib as g,ja as x,kb as y,lb as T,sb as e,tb as n,tc as C,ub as m,wa as w,yb as b}from"./chunk-MPDVOBHD.js";import"./chunk-EQDQRRRY.js";var O=class r{constructor(o){this.api=o}plans=w([]);meta=w({});loading=w(!1);totalPlans=C(()=>this.plans().length);activePlans=C(()=>this.plans().filter(o=>o.is_active).length);scheduledItems=C(()=>this.plans().reduce((o,t)=>o+(t.scheduled_count||0),0));criticalPlans=C(()=>this.plans().filter(o=>o.priority_id===1).length);fetchPlans(o,t){this.loading.set(!0),this.api.listPlans({include:"meta",per_page:t||20,keyword:o}).subscribe({next:i=>{let l=Array.isArray(i?.data?.plans)?i.data.plans:[];this.plans.set(l),i?.meta&&this.meta.set(i.meta),this.loading.set(!1)},error:()=>this.loading.set(!1)})}static \u0275fac=function(t){return new(t||r)(j(k))};static \u0275prov=I({token:r,factory:r.\u0275fac,providedIn:"root"})};function ae(r,o){r&1&&(e(0,"div",59)(1,"div",60)(2,"div",61),u(),e(3,"svg",62),m(4,"circle",63)(5,"path",64),n()(),x(),e(6,"h3",65),a(7,"Loading Maintenance Plans"),n(),e(8,"p",66),a(9,"Please wait while we fetch your plans..."),n()()())}function re(r,o){if(r&1){let t=b();e(0,"div",59)(1,"div",60)(2,"div",67),u(),e(3,"svg",68),m(4,"path",69),n()(),x(),e(5,"h3",65),a(6,"No maintenance plans found"),n(),e(7,"p",70),a(8,"Create your first maintenance plan to get started with preventive maintenance."),n(),e(9,"button",71),p("click",function(){_(t);let l=d();return f(l.openDialog())}),a(10," + Create Your First Plan "),n()()()}}function se(r,o){if(r&1){let t=b();e(0,"div",72)(1,"button",73),p("click",function(){_(t);let l=d();return f(l.toggleSelectAllPlans())}),m(2,"span",74),n(),e(3,"span",75),a(4),n()()}if(r&2){let t=d();s(4),h("Select all ",t.store.plans().length," plans")}}function ce(r,o){if(r&1){let t=b();e(0,"div",76)(1,"div",77)(2,"button",73),p("click",function(){_(t);let l=d();return f(l.toggleSelectAllPlans())}),m(3,"span",78),n(),e(4,"span",79),a(5),n(),e(6,"span",80),u(),e(7,"svg",81),m(8,"path",82),n(),a(9," Selection Mode Active - Click cards to select "),n()(),x(),e(10,"div",39)(11,"button",83),p("click",function(){_(t);let l=d();return f(l.deleteSelected())}),u(),e(12,"svg",81),m(13,"path",84),n(),a(14," Delete "),n()()()}if(r&2){let t=d();s(2),y("bg-blue-100",t.selectedCount===t.store.plans().length),s(),y("bg-blue-400",t.selectedCount===t.store.plans().length)("bg-white",t.selectedCount!==t.store.plans().length),s(2),S("",t.selectedCount," plan",t.selectedCount>1?"s":""," selected"),s(6),g("disabled",t.selectedCount===0)}}function de(r,o){r&1&&(e(0,"span",108),a(1,"Active"),n())}function pe(r,o){r&1&&(e(0,"span",109),a(1,"Inactive"),n())}function me(r,o){if(r&1){let t=b();e(0,"div",110),p("click",function(l){return _(t),f(l.stopPropagation())}),e(1,"button",111),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.viewPlan(l))}),u(),e(2,"svg",112),m(3,"path",113)(4,"path",114),n(),x(),e(5,"span",51),a(6,"View Details"),n()(),e(7,"button",111),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.editPlan(l))}),u(),e(8,"svg",112),m(9,"path",115),n(),x(),e(10,"span",51),a(11,"Edit Plan"),n()(),m(12,"div",116),e(13,"button",117),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.deletePlan(l))}),u(),e(14,"svg",118),m(15,"path",84),n(),x(),e(16,"span",119),a(17,"Delete Plan"),n()()()}}function ge(r,o){if(r&1&&(e(0,"div",105)(1,"span",106),a(2,"Type:"),n(),a(3),A(4,"titlecase"),n()),r&2){let t=d().$implicit;s(3),h(" ",B(4,1,t.plan_type)," ")}}function ue(r,o){if(r&1&&(e(0,"div",105)(1,"span",106),a(2,"Priority:"),n(),a(3),n()),r&2){let t=d().$implicit;s(3),h(" ",t.priority_id," ")}}function _e(r,o){if(r&1&&(e(0,"div",120)(1,"span",106),a(2,"Description:"),n(),e(3,"span",121),a(4),n()()),r&2){let t=d().$implicit;s(4),h(" ",t.descriptions," ")}}function fe(r,o){if(r&1&&(e(0,"div",105)(1,"span",106),a(2,"Frequency:"),n(),a(3),n()),r&2){let t=d().$implicit;s(3),S(" ",t.frequency_value," ",t.frequency_unit," ")}}function xe(r,o){if(r&1&&(e(0,"div",105)(1,"span",106),a(2,"Scheduled:"),n(),a(3),n()),r&2){let t=d().$implicit;s(3),h(" ",t.scheduled_count," ")}}function he(r,o){if(r&1){let t=b();e(0,"div",87)(1,"div",88)(2,"div",89)(3,"input",90),p("change",function(){let l=_(t).$implicit,c=d(2);return f(c.togglePlanSelection(l))}),n()(),e(4,"div",91),v(5,de,2,0,"span",92)(6,pe,2,0,"span",93),e(7,"div",94),p("click",function(l){return _(t),f(l.stopPropagation())}),e(8,"button",95),p("click",function(){let l=_(t).$implicit,c=d(2);return f(c.togglePlanMenu(l.id))}),u(),e(9,"svg",96),m(10,"circle",97)(11,"circle",98)(12,"circle",99),n()(),v(13,me,18,0,"div",100),n()(),e(14,"svg",101),m(15,"path",69),n()(),x(),e(16,"div",102)(17,"div")(18,"div",103),p("click",function(){let l=_(t).$implicit,c=d(2);return f(c.viewPlan(l))}),a(19),n(),v(20,ge,5,3,"div",104)(21,ue,4,1,"div",104),e(22,"div",105)(23,"span",106),a(24,"Status:"),n(),a(25),n(),v(26,_e,5,1,"div",107)(27,fe,4,2,"div",104)(28,xe,4,1,"div",104),n()()()}if(r&2){let t=o.$implicit,i=d(2);y("border-blue-400",i.isPlanSelected(t)),s(3),g("checked",i.isPlanSelected(t)),s(2),g("ngIf",t.is_active),s(),g("ngIf",!t.is_active),s(7),g("ngIf",i.isPlanMenuOpen(t.id)),s(6),h(" ",t.name||"Unnamed Plan"," "),s(),g("ngIf",t.plan_type),s(),g("ngIf",t.priority_id),s(4),h(" ",t.is_active?"Active":"Inactive"," "),s(),g("ngIf",t.descriptions),s(),g("ngIf",t.frequency_value&&t.frequency_unit),s(),g("ngIf",t.scheduled_count!==void 0)}}function ve(r,o){if(r&1&&(e(0,"div",85),v(1,he,29,13,"div",86),n()),r&2){let t=d();s(),g("ngForOf",t.store.plans())}}function be(r,o){if(r&1){let t=b();e(0,"div",110),p("click",function(l){return _(t),f(l.stopPropagation())}),e(1,"button",111),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.viewPlan(l))}),u(),e(2,"svg",112),m(3,"path",113)(4,"path",114),n(),x(),e(5,"span",51),a(6,"View Plan"),n()(),e(7,"button",111),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.editPlan(l))}),u(),e(8,"svg",112),m(9,"path",115),n(),x(),e(10,"span",51),a(11,"Edit Plan"),n()(),m(12,"div",116),e(13,"button",117),p("click",function(){_(t);let l=d().$implicit,c=d(2);return f(c.deletePlan(l))}),u(),e(14,"svg",118),m(15,"path",84),n(),x(),e(16,"span",119),a(17,"Delete Plan"),n()()()}}function Pe(r,o){if(r&1){let t=b();e(0,"div",128)(1,"div",124)(2,"div",77)(3,"input",129),p("change",function(){let l=_(t).$implicit,c=d(2);return f(c.togglePlanSelection(l))}),n(),e(4,"div")(5,"div",130),a(6),n(),e(7,"div",66),a(8),n()()(),e(9,"div",39)(10,"span",66),a(11),n(),e(12,"div",131)(13,"button",132),p("click",function(){let l=_(t).$implicit,c=d(2);return f(c.togglePlanMenu(l.id))}),u(),e(14,"svg",96),m(15,"circle",97)(16,"circle",98)(17,"circle",99),n()(),v(18,be,18,0,"div",100),n()()()()}if(r&2){let t=o.$implicit,i=d(2);s(3),g("checked",i.isPlanSelected(t)),s(3),P(t.name),s(2),L("",t.plan_type," \u2022 Priority: ",t.priority_id||"-"," \u2022 ",t.is_active?"Active":"Inactive",""),s(3),h("Scheduled: ",t.scheduled_count||0,""),s(7),g("ngIf",i.isPlanMenuOpen(t.id))}}function Ce(r,o){if(r&1&&(e(0,"div",122)(1,"div",123)(2,"div",124)(3,"h3",125),a(4,"Maintenance Plans"),n(),e(5,"span",66),a(6),n()()(),e(7,"div",126),v(8,Pe,19,7,"div",127),n()()),r&2){let t=d();s(6),h("",t.store.totalPlans()," plans"),s(2),g("ngForOf",t.store.plans())}}var te=class r{constructor(o,t,i){this.store=o;this.maintenanceService=t;this.router=i}isDialogOpen=!1;editMode=!1;planToEdit=null;viewType="grid";searchQuery="";selectedPlans=[];showingArchived=!1;planMenus=[];searchTimeOut=null;showDeleteConfirmationModal=!1;ngOnInit(){this.store.fetchPlans()}openDialog(){this.editMode=!1,this.planToEdit=null,this.isDialogOpen=!0}onCreated(){this.isDialogOpen=!1,this.store.fetchPlans()}onUpdated(){this.isDialogOpen=!1,this.editMode=!1,this.planToEdit=null,this.store.fetchPlans()}onDialogClosed(){this.isDialogOpen=!1,this.editMode=!1,this.planToEdit=null}toggleSelectAllPlans(){this.selectedPlans.length===this.store.plans().length?this.selectedPlans=[]:this.selectedPlans=[...this.store.plans()]}togglePlanSelection(o){let t=this.selectedPlans.findIndex(i=>i.id===o.id);t>-1?this.selectedPlans.splice(t,1):this.selectedPlans.push(o)}isPlanSelected(o){return this.selectedPlans.some(t=>t.id===o.id)}get selectedCount(){return this.selectedPlans.length}duplicateSelected(){console.log("Duplicating selected plans:",this.selectedPlans)}generateQRCodesForSelected(){console.log("Generating QR codes for selected plans:",this.selectedPlans)}archiveSelected(){console.log("Archiving selected plans:",this.selectedPlans)}deleteSelected(o){if(this.selectedPlans.length===0){this.closeDeleteModal();return}let t=this.selectedPlans.map(E=>E.id),i=0,l=0,c=0,V=()=>{i++,i>=t.length&&(this.store.fetchPlans(),this.clearSelection(),this.closeDeleteModal(),c===0?console.log(`${l} plans deleted successfully`):l===0?console.error(`Failed to delete ${c} plans`):console.log(`${l} plans deleted successfully, ${c} failed`))};t.forEach(E=>{this.maintenanceService.deletePlan(E).subscribe({next:()=>{l++,V()},error:ne=>{console.error("Failed to delete plan:",ne),c++,V()}})})}restoreSelected(){console.log("Restoring selected plans:",this.selectedPlans)}clearSelection(){this.selectedPlans=[]}onSearch(){this.searchTimeOut&&clearTimeout(this.searchTimeOut),this.searchTimeOut=setTimeout(()=>{this.store.fetchPlans(this.searchQuery)},500)}onShowChange(o){this.store.fetchPlans(this.searchQuery,o.target.value)}toggleViewType(){this.viewType=this.viewType==="grid"?"list":"grid"}viewPlan(o){this.router.navigate(["/maintenance/plans",o.id]),this.closeAllDropdowns()}editPlan(o){this.planMenus[o.id]=!1,this.editMode=!0,this.planToEdit=o,this.isDialogOpen=!0}duplicatePlan(o){console.log("Duplicating plan:",o)}generateQRCodeForPlan(o){console.log("Generating QR code for plan:",o)}copyPublicUrl(o){console.log("Copying public URL for plan:",o)}archivePlan(o){console.log("Archiving plan:",o)}restorePlan(o){console.log("Restoring plan:",o)}deletePlan(o){this.planMenus[o.id]=!1,this.selectedPlans=[o],this.showDeleteConfirmationModal=!0}togglePlanMenu(o){this.planMenus[o]=!this.planMenus[o]}isPlanMenuOpen(o){return this.planMenus[o]||!1}closeAllDropdowns(){Object.keys(this.planMenus).forEach(o=>{this.planMenus[Number(o)]=!1})}closeDeleteModal(){this.showDeleteConfirmationModal=!1}openDeleteModalForSelected(){this.selectedPlans.length!==0&&(this.showDeleteConfirmationModal=!0)}static \u0275fac=function(t){return new(t||r)(M(O),M(k),M(q))};static \u0275cmp=H({type:r,selectors:[["app-plans-page"]],hostBindings:function(t,i){t&1&&p("click",function(){return i.closeAllDropdowns()},!1,D)},decls:101,vars:22,consts:[[1,"plans-page","min-h-screen","bg-gray-50","p-6"],[1,"mb-6","flex","flex-col","md:flex-row","md:items-center","md:justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","text-base"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","mb-8"],[1,"rounded-xl","bg-blue-50","border","border-blue-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-base","font-medium","text-gray-700"],[1,"w-10","h-10","bg-blue-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-sm","text-blue-600","font-medium","mt-1"],[1,"rounded-xl","bg-green-50","border","border-green-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-green-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-400"],["cx","12","cy","12","r","8","stroke","currentColor","stroke-width","2","fill","none"],["cx","12","cy","12","r","4","fill","currentColor",1,"text-green-400"],[1,"text-sm","text-green-600","font-medium","mt-1"],[1,"rounded-xl","bg-orange-50","border","border-orange-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-orange-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"text-sm","text-orange-600","font-medium","mt-1"],[1,"rounded-xl","bg-red-50","border","border-red-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-red-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"text-sm","text-red-600","font-medium","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-6"],[1,"flex-1","flex","flex-col","space-y-3","md:space-y-0","md:flex-row","md:items-center","md:space-x-3"],[1,"relative","w-full","md:w-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search plans by name, type, or description...",1,"w-full","pl-10","pr-4","py-2","border-2","border-blue-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","placeholder-gray-400",3,"ngModelChange","input","ngModel"],[1,"flex","items-center","space-x-2"],[1,"flex","bg-white","border","border-gray-200","rounded-xl","p-1","shadow-sm"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","border","transition-all","duration-200","flex","items-center","space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",4,"ngIf"],[1,"mt-8","flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change"],["value","10"],["value","25"],["value","50"],["value","100"],[3,"closed","created","updated","isOpen","editMode","planToEdit"],[3,"closeModal","confirmDelete","isOpen","selectedCount"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-gray-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center"],["type","button",1,"focus:outline-none","inline-flex","items-center","justify-center","w-6","h-6","rounded-full","border-2","border-blue-400","mr-3","transition-colors",3,"click"],[1,"w-3","h-3","rounded-full","block","bg-white","transition-colors"],[1,"font-semibold","text-gray-900"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-3","h-3","rounded-full","block","transition-colors"],[1,"font-bold","text-gray-900"],[1,"bg-blue-50","text-blue-600","px-3","py-1","rounded-full","text-sm","flex","items-center","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7"],[1,"bg-red-50","text-red-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","mt-2"],["class","rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden",3,"border-blue-400",4,"ngFor","ngForOf"],[1,"rounded-2xl","border","border-blue-200","bg-white","shadow-sm","flex","flex-col","transition-all","hover:shadow-md","overflow-hidden"],[1,"relative","bg-[#e0edff]","h-32","flex","flex-col","items-center","justify-center"],[1,"absolute","left-4","top-4","flex","items-center"],["type","checkbox",1,"plan-card-checkbox",3,"change","checked"],[1,"absolute","right-4","top-4","flex","items-center","space-x-2"],["class","bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],["class","bg-gray-100 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],[1,"relative",3,"click"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",3,"click",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-blue-400"],[1,"flex-1","flex","flex-col","justify-between","p-6","pt-4"],[1,"font-semibold","text-lg","text-gray-900","mb-2","cursor-pointer","hover:text-blue-600","transition-colors",3,"click"],["class","text-sm text-gray-700 mb-1",4,"ngIf"],[1,"text-sm","text-gray-700","mb-1"],[1,"font-medium","text-gray-600"],["class","text-sm text-gray-700 mb-2",4,"ngIf"],[1,"bg-green-100","text-green-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"bg-gray-100","text-gray-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50",3,"click"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"border-t","border-gray-100","my-1"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","text-red-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],[1,"text-sm","font-medium"],[1,"text-sm","text-gray-700","mb-2"],[1,"line-clamp-2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-medium","text-gray-900"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50","transition-colors"],["type","checkbox",1,"plan-list-checkbox",3,"change","checked"],[1,"font-medium","text-gray-900"],[1,"relative"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors",3,"click"]],template:function(t,i){if(t&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),a(4,"Maintenance Plans Hub"),n(),e(5,"p",3),a(6,"Create and manage preventive maintenance templates with advanced scheduling"),n()(),e(7,"div",4)(8,"button",5),p("click",function(){return i.openDialog()}),u(),e(9,"svg",6),m(10,"path",7),n(),a(11," Create Plan "),n()()(),x(),e(12,"div",8)(13,"div",9)(14,"div",10)(15,"span",11),a(16,"Total Plans"),n(),e(17,"span",12),u(),e(18,"svg",13),m(19,"path",14),n()()(),x(),e(20,"div",15),a(21),n(),e(22,"span",16),a(23,"Plans in system"),n()(),e(24,"div",17)(25,"div",10)(26,"span",11),a(27,"Active Plans"),n(),e(28,"span",18),u(),e(29,"svg",19),m(30,"circle",20)(31,"circle",21),n()()(),x(),e(32,"div",15),a(33),n(),e(34,"span",22),a(35,"Operational plans"),n()(),e(36,"div",23)(37,"div",10)(38,"span",11),a(39,"Scheduled Items"),n(),e(40,"span",24),u(),e(41,"svg",25),m(42,"path",26),n()()(),x(),e(43,"div",15),a(44),n(),e(45,"span",27),a(46,"Scheduled maintenance"),n()(),e(47,"div",28)(48,"div",10)(49,"span",11),a(50,"Critical Plans"),n(),e(51,"span",29),u(),e(52,"svg",30),m(53,"path",31),n()()(),x(),e(54,"div",15),a(55),n(),e(56,"span",32),a(57,"High priority plans"),n()()(),e(58,"div",33)(59,"div",34)(60,"div",35),u(),e(61,"svg",36),m(62,"path",37),n(),x(),e(63,"input",38),$("ngModelChange",function(c){return G(i.searchQuery,c)||(i.searchQuery=c),c}),p("input",function(){return i.onSearch()}),n()()(),e(64,"div",39)(65,"div",40)(66,"button",41),p("click",function(){return i.toggleViewType()}),u(),e(67,"svg",42),m(68,"path",43),n(),x(),e(69,"span"),a(70,"Grid"),n()(),e(71,"button",41),p("click",function(){return i.toggleViewType()}),u(),e(72,"svg",42),m(73,"path",44),n(),x(),e(74,"span"),a(75,"List"),n()()()()(),v(76,ae,10,0,"div",45)(77,re,11,0,"div",45)(78,se,5,1,"div",46)(79,ce,15,9,"div",47)(80,ve,2,1,"div",48)(81,Ce,9,2,"div",49),e(82,"div",50)(83,"div",39)(84,"span",51),a(85,"Show:"),n(),e(86,"select",52),p("change",function(c){return i.onShowChange(c)}),e(87,"option",53),a(88,"10"),n(),e(89,"option",54),a(90,"25"),n(),e(91,"option",55),a(92,"50"),n(),e(93,"option",56),a(94,"100"),n()(),e(95,"span",51),a(96,"per page"),n()(),e(97,"div",51),a(98),n()(),e(99,"app-plan-dialog",57),p("closed",function(){return i.onDialogClosed()})("created",function(){return i.onCreated()})("updated",function(){return i.onUpdated()}),n(),e(100,"app-maintenance-delete-confirmation-modal",58),p("closeModal",function(){return i.closeDeleteModal()})("confirmDelete",function(c){return i.deleteSelected(c)}),n()()),t&2){let l;s(21),P(i.store.totalPlans()),s(12),P((l=(l=i.store.meta())==null?null:l.active_plans_count)!==null&&l!==void 0?l:i.store.activePlans()),s(11),P(i.store.scheduledItems()),s(11),P(i.store.criticalPlans()),s(8),z("ngModel",i.searchQuery),s(3),T(i.viewType==="grid"?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-transparent"),s(5),T(i.viewType==="list"?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-transparent"),s(5),g("ngIf",i.store.loading()),s(),g("ngIf",!i.store.loading()&&i.store.totalPlans()===0),s(),g("ngIf",i.viewType==="grid"&&i.selectedCount===0&&!i.store.loading()&&i.store.totalPlans()>0),s(),g("ngIf",i.viewType==="grid"&&i.selectedCount>0&&!i.store.loading()),s(),g("ngIf",i.viewType==="grid"&&!i.store.loading()&&i.store.totalPlans()>0),s(),g("ngIf",i.viewType==="list"&&!i.store.loading()&&i.store.totalPlans()>0),s(17),S(" Showing 1 - ",i.store.totalPlans()," of ",i.store.totalPlans()," entries "),s(),g("isOpen",i.isDialogOpen)("editMode",i.editMode)("planToEdit",i.planToEdit),s(),g("isOpen",i.showDeleteConfirmationModal)("selectedCount",i.selectedCount)}},dependencies:[Q,F,R,N,X,J,K,U,W,Y,Z,ee],styles:['.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#111827;margin:0}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:.25rem 0 0}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem;margin-bottom:1rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:#16a34a}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value.danger[_ngcontent-%COMP%]{color:#ef4444}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:.75rem;opacity:.6}.plans-page[_ngcontent-%COMP%]   .skeletons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:3rem;color:#6b7280}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;color:#111827;margin-top:.5rem}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 1rem}.plans-page[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}.plans-page[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem}.plans-page[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:600}.plans-page[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.plans-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.plans-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.plans-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.plans-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.plan-card-checkbox[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#2563eb;background-color:#fff;border:2px solid #60a5fa;border-radius:9999px;appearance:none;-webkit-appearance:none;cursor:pointer;position:relative}.plan-card-checkbox[_ngcontent-%COMP%]:checked{background-color:#60a5fa;border-color:#60a5fa}.plan-card-checkbox[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.5rem;height:.5rem;background-color:#fff;border-radius:50%}.plan-card-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6}.plan-list-checkbox[_ngcontent-%COMP%]{width:1rem;height:1rem;color:#2563eb;background-color:#fff;border:2px solid #60a5fa;border-radius:50%;appearance:none;-webkit-appearance:none;cursor:pointer;position:relative}.plan-list-checkbox[_ngcontent-%COMP%]:checked{background-color:#60a5fa;border-color:#60a5fa}.plan-list-checkbox[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.375rem;height:.375rem;background-color:#fff;border-radius:50%}.plan-list-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6}.plan-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.border-blue-400[_ngcontent-%COMP%]{border-color:#60a5fa}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.relative[_ngcontent-%COMP%]{position:relative}.z-50[_ngcontent-%COMP%]{z-index:50}@media (max-width: 640px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 641px) and (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 769px) and (max-width: 1024px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1025px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6;border-color:transparent}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.border-blue-400[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.w-16.h-16[_ngcontent-%COMP%]{width:4rem;height:4rem}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.transition-colors[_ngcontent-%COMP%]{transition:color .2s ease-in-out,background-color .2s ease-in-out,border-color .2s ease-in-out}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.hover\\:shadow-md[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.hover\\:shadow-lg[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}']})};export{te as PlansPageComponent};
