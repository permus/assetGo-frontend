import{a as He}from"./chunk-4AOMRJBU.js";import{a as Oe}from"./chunk-WXOFHC3M.js";import{a as at}from"./chunk-YDTLBJ4U.js";import{a as _e}from"./chunk-4UDMGBHY.js";import{a as Le}from"./chunk-TKCFGLM2.js";import{a as pe}from"./chunk-V7KLI4BE.js";import"./chunk-GGQ7LRWG.js";import"./chunk-C5P3YSZX.js";import{b as B,c as D,d as $,e as Q,g as De,h as de,i as Z,k as J,n as K,o as ze,p as le,q as ge,s as me,v as X,w as rt,x as it}from"./chunk-46HIL5YK.js";import{c as ot,e as Fe,i as Je}from"./chunk-ZTWP2FQ4.js";import{a as Ae}from"./chunk-JVPHCODG.js";import{a as Ze,b as Ve,f as nt}from"./chunk-HDN3MHIN.js";import{$a as P,Bb as Ee,Ea as we,Eb as w,Fa as a,Gb as k,Ib as Y,Ja as v,L as he,O as Ye,Oa as W,Pa as ke,S as be,Sa as _,T as ve,X as Qe,Y as et,Za as l,_a as y,a as j,ab as se,ac as We,ba as ae,bc as F,ca as u,cc as I,da as C,db as n,ea as O,eb as o,ec as ce,f as Xe,fa as M,fb as m,gb as A,gc as Ie,hb as L,ib as b,ic as Te,jb as p,kb as d,la as V,o as Pe,ob as xe,p as x,pb as ye,qb as Se,rb as q,sb as s,tb as f,ub as h,vb as S,wb as tt,xb as oe,yb as re,zb as ie}from"./chunk-YKDNYCQF.js";import{a as H,b as U,f as fe}from"./chunk-EQDQRRRY.js";var T=class r{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${Ae.apiUrl}/work-orders`;getAuthHeaders(){let t=this.authService.getToken();return{headers:H({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{})}}getComments(t){return this.http.get(`${this.apiUrl}/${t}/comments`,this.getAuthHeaders()).pipe(x(e=>e.data))}getAssignments(t){return this.http.get(`${this.apiUrl}/${t}/assignments`,this.getAuthHeaders()).pipe(x(e=>e.data))}setAssignments(t,e){return this.http.post(`${this.apiUrl}/${t}/assignments`,{user_ids:e},this.getAuthHeaders()).pipe(x(i=>i.data))}deleteAssignment(t,e){return this.http.delete(`${this.apiUrl}/${t}/assignments/${e}`,this.getAuthHeaders())}updateAssignmentStatus(t,e,i){return this.http.put(`${this.apiUrl}/${t}/assignments/${e}`,{status:i},this.getAuthHeaders()).pipe(x(c=>c.data))}getParts(t){return this.http.get(`${this.apiUrl}/${t}/parts`,this.getAuthHeaders()).pipe(x(e=>e.data))}addParts(t,e){return this.http.post(`${this.apiUrl}/${t}/parts`,{items:e},this.getAuthHeaders()).pipe(x(i=>i.data))}updatePart(t,e,i){return this.http.put(`${this.apiUrl}/${t}/parts/${e}`,i,this.getAuthHeaders()).pipe(x(c=>c.data))}deletePart(t,e){return this.http.delete(`${this.apiUrl}/${t}/parts/${e}`,this.getAuthHeaders())}addComment(t,e,i){return this.http.post(`${this.apiUrl}/${t}/comments`,{comment:e,meta:i},this.getAuthHeaders()).pipe(x(c=>c.data))}deleteComment(t,e){return this.http.delete(`${this.apiUrl}/${t}/comments/${e}`,this.getAuthHeaders())}getWorkOrders(t){let e=new Ze;return t&&Object.keys(t).forEach(i=>{let c=t[i];c!=null&&c!==""&&(e=e.set(i,c.toString()))}),this.http.get(this.apiUrl,U(H({},this.getAuthHeaders()),{params:e}))}getWorkOrderById(t){return this.http.get(`${this.apiUrl}/${t}`,this.getAuthHeaders()).pipe(x(e=>e.data))}updateWorkOrderStatus(t,e){return this.http.post(`${this.apiUrl}/${t}/status`,{status_id:e},this.getAuthHeaders()).pipe(x(i=>i.data))}createWorkOrder(t){return this.http.post(this.apiUrl,t,this.getAuthHeaders())}updateWorkOrder(t,e){return this.http.put(`${this.apiUrl}/${t}`,e,this.getAuthHeaders())}deleteWorkOrder(t){return this.http.delete(`${this.apiUrl}/${t}`,this.getAuthHeaders())}getWorkOrderAnalytics(){return this.http.get(`${this.apiUrl}/analytics`,this.getAuthHeaders()).pipe(x(t=>t.data))}getWorkOrderStatistics(){return this.http.get(`${this.apiUrl}/statistics`,this.getAuthHeaders()).pipe(x(t=>t.data))}getWorkOrderCount(t){let e=new Ze;return t&&Object.keys(t).forEach(i=>{let c=t[i];c!=null&&c!==""&&(e=e.set(i,c.toString()))}),this.http.get(`${this.apiUrl}/count`,U(H({},this.getAuthHeaders()),{params:e})).pipe(x(i=>i.data))}getWorkOrderFilters(){return this.http.get(`${this.apiUrl}/filters`,this.getAuthHeaders()).pipe(x(t=>t.data))}getWorkOrderHistory(t){return this.http.get(`${this.apiUrl}/${t}/history`,this.getAuthHeaders()).pipe(x(e=>e.data))}getTimeLogs(t){return this.http.get(`${this.apiUrl}/${t}/time-logs`,this.getAuthHeaders()).pipe(x(e=>e.data))}startTimer(t,e){return this.http.post(`${this.apiUrl}/${t}/time-logs/start`,e,this.getAuthHeaders()).pipe(x(i=>i.data))}stopTimer(t){return this.http.post(`${this.apiUrl}/${t}/time-logs/stop`,{},this.getAuthHeaders()).pipe(x(e=>e.data))}getWorkOrderStats(){return this.http.get(`${this.apiUrl}/statistics`,this.getAuthHeaders()).pipe(x(t=>({total:Object.values(t.status_counts||{}).reduce((e,i)=>e+i,0),open:t.status_counts?.open||0,inProgress:t.status_counts?.["in-progress"]||0,completed:t.status_counts?.completed||0,critical:t.priority_counts?.critical||0})))}static \u0275fac=function(e){return new(e||r)(Qe(Ve),Qe(Le))};static \u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ot(r,t){if(r&1){let e=b();n(0,"div",28)(1,"input",29),p("change",function(c){u(e);let g=d();return C(g.onSelectionChange(c))}),o()()}if(r&2){let e=d();a(),l("checked",e.isSelected)}}function ut(r,t){if(r&1&&(n(0,"span",30),s(1),o()),r&2){let e=d();a(),f(e.getCategoryName())}}function Ct(r,t){if(r&1){let e=b();n(0,"div",31)(1,"button",32),p("click",function(){u(e);let c=d();return C(c.viewDetails())}),O(),n(2,"svg",33),m(3,"path",34)(4,"path",35),o(),M(),n(5,"span",36),s(6,"View Details"),o()(),n(7,"button",32),p("click",function(){u(e);let c=d();return C(c.editWorkOrder())}),O(),n(8,"svg",33),m(9,"path",37),o(),M(),n(10,"span",36),s(11,"Edit"),o()(),m(12,"div",38),n(13,"button",39),p("click",function(){u(e);let c=d();return C(c.requestDelete())}),O(),n(14,"svg",40),m(15,"path",41),o(),M(),n(16,"span",42),s(17,"Delete"),o()()()}}function Mt(r,t){if(r&1&&(n(0,"p",43),s(1),o()),r&2){let e=d();a(),h(" ",e.workOrder.description," ")}}var je=class r{constructor(t){this.router=t}workOrder;isListView=!1;showBulkSelection=!1;isSelected=!1;editRequested=new V;deleteRequested=new V;selectionChanged=new V;showMenu=!1;onDocumentClick(){this.showMenu=!1}getStatusSlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"open"}getPrioritySlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"medium"}onSelectionChange(t){let e=t.target.checked;this.isSelected=e,this.selectionChanged.emit({workOrderId:this.workOrder.id,selected:e})}getStatusLabel(t){let e=this.getStatusSlug(t);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[e]||e}getPriorityLabel(t){let e=this.getPrioritySlug(t);return{low:"Low",medium:"Medium",high:"High",critical:"Critical",urgent:"Urgent"}[e]||e}getAssigneeName(){if(this.workOrder.assigned_to){if(typeof this.workOrder.assigned_to=="object"&&this.workOrder.assigned_to!==null){let t=this.workOrder.assigned_to,e=t.first_name||"",i=t.last_name||"";return`${e} ${i}`.trim()||"Unassigned"}return String(this.workOrder.assigned_to)}return"Unassigned"}getAssetName(){if(this.workOrder.asset){if(typeof this.workOrder.asset=="object"&&this.workOrder.asset!==null){let t=this.workOrder.asset;return t.name||t.asset_id||"No Asset"}return String(this.workOrder.asset)}return"No Asset"}getLocationName(){if(this.workOrder.location){if(typeof this.workOrder.location=="object"&&this.workOrder.location!==null){let t=this.workOrder.location;return t.name||t.full_path||"No Location"}return String(this.workOrder.location)}return"No Location"}getCreatedBy(){if(this.workOrder.created_by){if(typeof this.workOrder.created_by=="object"&&this.workOrder.created_by!==null){let t=this.workOrder.created_by,e=t.first_name||"",i=t.last_name||"";return`${e} ${i}`.trim()||"Unknown"}return String(this.workOrder.created_by)}return"Unknown"}getCategoryName(){let t=this.workOrder?.category;return t?typeof t=="object"&&t!==null&&"name"in t?t.name||"":typeof t=="string"?t:"":""}viewDetails(){this.router.navigate(["/work-orders",this.workOrder.id]),this.showMenu=!1}editWorkOrder(){this.editRequested.emit(this.workOrder),this.showMenu=!1}toggleMenu(){this.showMenu=!this.showMenu}requestDelete(){this.deleteRequested.emit(this.workOrder),this.showMenu=!1}static \u0275fac=function(e){return new(e||r)(v(Fe))};static \u0275cmp=W({type:r,selectors:[["app-work-order-card"]],hostBindings:function(e,i){e&1&&p("click",function(){return i.onDocumentClick()},!1,we)},inputs:{workOrder:"workOrder",isListView:"isListView",showBulkSelection:"showBulkSelection",isSelected:"isSelected"},outputs:{editRequested:"editRequested",deleteRequested:"deleteRequested",selectionChanged:"selectionChanged"},standalone:!1,decls:41,vars:21,consts:[[1,"work-order-card"],["class","bulk-selection-checkbox",4,"ngIf"],[1,"card-header"],[1,"title-section"],[1,"icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"title"],[1,"header-actions"],[1,"badges"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],["class","badge category-badge",4,"ngIf"],[1,"relative",3,"click"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",4,"ngIf"],[1,"card-content"],["class","description",4,"ngIf"],[1,"meta-row"],[1,"meta-item"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"footer-row"],[1,"bulk-selection-checkbox"],["type","checkbox",1,"bulk-checkbox",3,"change","checked"],[1,"badge","category-badge"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"border-t","border-gray-100","my-1"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-sm","text-red-600"],[1,"description"]],template:function(e,i){e&1&&(n(0,"div",0),_(1,Ot,2,1,"div",1),n(2,"div",2)(3,"div",3)(4,"div",4),O(),n(5,"svg",5),m(6,"path",6),o()(),M(),n(7,"h3",7),s(8),o()(),n(9,"div",8)(10,"div",9)(11,"span",10),s(12),o(),n(13,"span",11),s(14),o(),_(15,ut,2,1,"span",12),o(),n(16,"div",13),p("click",function(g){return g.stopPropagation()}),n(17,"button",14),p("click",function(){return i.toggleMenu()}),O(),n(18,"svg",15),m(19,"circle",16)(20,"circle",17)(21,"circle",18),o()(),_(22,Ct,18,0,"div",19),o()()(),M(),n(23,"div",20),_(24,Mt,2,1,"p",21),n(25,"div",22)(26,"div",23),O(),n(27,"svg",24),m(28,"path",25),o(),M(),n(29,"span"),s(30),o()(),n(31,"div",23),O(),n(32,"svg",24),m(33,"path",26),o(),M(),n(34,"span"),s(35),w(36,"date"),o()()(),n(37,"div",27)(38,"span"),s(39),w(40,"date"),o()()()()),e&2&&(P("list-view",i.isListView),a(),l("ngIf",i.showBulkSelection),a(7),f(i.workOrder.title),a(3),l("ngClass","status-"+((i.workOrder.status==null?null:i.workOrder.status.slug)||i.workOrder.status||"open")),a(),h(" ",i.getStatusLabel(i.workOrder.status)," "),a(),l("ngClass","priority-"+((i.workOrder.priority==null?null:i.workOrder.priority.slug)||i.workOrder.priority||"medium")),a(),h(" ",i.getPriorityLabel(i.workOrder.priority)," "),a(),l("ngIf",i.getCategoryName()),a(7),l("ngIf",i.showMenu),a(2),l("ngIf",i.workOrder.description),a(6),f(i.getAssigneeName()||"Unknown"),a(5),f(i.workOrder.due_date?k(36,15,i.workOrder.due_date,"MMM d, y"):"N/A"),a(4),S("Created ",k(40,18,i.workOrder.created_at,"MMM d, y")," by ",i.getCreatedBy()||"Unknown",""))},dependencies:[We,I,ce],styles:[".work-order-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;transition:all .2s ease;position:relative}.work-order-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a;border-color:#cbd5e1}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]{position:absolute;top:.75rem;left:.75rem;z-index:10}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:9999px;border:2px solid #60a5fa;background-color:#fff;box-shadow:0 0 0 2px #fff,0 0 0 4px #3b82f626;cursor:pointer;display:inline-block;position:relative;transition:box-shadow .15s ease,border-color .15s ease}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]:checked{background-image:radial-gradient(#3b82f6 45%,transparent 46%);background-repeat:no-repeat;background-position:center;background-size:70% 70%;border-color:#3b82f6;box-shadow:0 0 0 2px #fff,0 0 0 6px #3b82f640}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:.75rem;flex-shrink:0}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0f172a;margin:0;line-height:1.3}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;gap:.4rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.15rem .5rem;border-radius:9999px;font-size:.7rem;font-weight:500;text-transform:capitalize}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-in-progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin-bottom:.75rem;line-height:1.5}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 2rem;margin-top:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#334155;font-size:.9rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#94a3b8}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .footer-row[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;color:#64748b;font-size:.85rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;min-height:auto;padding:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-width:200px}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:2}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.work-order-card[_ngcontent-%COMP%]{padding:1rem;min-height:180px}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{align-self:flex-start}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{gap:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;min-height:auto}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-template-columns:1fr}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{text-align:left;width:100%;border-top:1px solid #f3f4f6;padding-top:1rem;margin-top:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%], .list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{flex:1;min-width:0}}"]})};var ee=class r{http=et(Ve);base=`${Ae.apiUrl}/meta/work-orders`;status$;priorities$;categories$;getStatus(){return this.status$||(this.status$=this.http.get(`${this.base}/status`).pipe(x(t=>Array.isArray(t)?t:t?.data??[]),he({bufferSize:1,refCount:!0}))),this.status$}getStatusIdBySlug(t){return this.getStatus().pipe(x(e=>{let i=e.find(c=>c.slug===t);return i?i.id:null}))}getPriorities(){return this.priorities$||(this.priorities$=this.http.get(`${this.base}/priorities`).pipe(x(t=>Array.isArray(t)?t:t?.data??[]),he({bufferSize:1,refCount:!0}))),this.priorities$}getCategories(){return this.categories$||(this.categories$=this.http.get(`${this.base}/categories`).pipe(x(t=>Array.isArray(t)?t:t?.data??[]),he({bufferSize:1,refCount:!0}))),this.categories$}clearStatusCache(){this.status$=void 0}clearPrioritiesCache(){this.priorities$=void 0}clearCategoriesCache(){this.categories$=void 0}clearAllCache(){this.clearStatusCache(),this.clearPrioritiesCache(),this.clearCategoriesCache()}static \u0275fac=function(e){return new(e||r)};static \u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})};function Pt(r,t){r&1&&(n(0,"span",29),s(1,"All Status"),o())}function ht(r,t){if(r&1&&(n(0,"div",30)(1,"div",31),O(),n(2,"svg",32),m(3,"path",11),o()(),M(),n(4,"span",33),s(5),o()()),r&2){let e=d();a(),y("background-color",e.getStatusColor(e.getStatusValue())+"20"),a(),y("color",e.getStatusColor(e.getStatusValue())),a(3),f(e.getStatusLabel())}}function bt(r,t){if(r&1){let e=b();n(0,"button",45),p("click",function(){let c=u(e).$implicit,g=d(2);return C(g.selectStatus(c.id))}),n(1,"div",37)(2,"div",46),O(),n(3,"svg",47),m(4,"path",11),o()(),M(),n(5,"div",41)(6,"div",42),s(7),o(),n(8,"div",43),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getStatusValue()===e.id),a(2),y("background-color",i.getStatusColor(e.id)+"20"),a(),y("color",i.getStatusColor(e.id)),a(4),f(e.name),a(2),f(i.getStatusDescription(e.id))}}function vt(r,t){if(r&1){let e=b();n(0,"div",34)(1,"div",35),O(),n(2,"svg",10),m(3,"path",11),o(),s(4," Select Status "),o(),M(),n(5,"button",36),p("click",function(){u(e);let c=d();return C(c.selectStatus(null))}),n(6,"div",37)(7,"div",38),O(),n(8,"svg",39),m(9,"path",40),o()(),M(),n(10,"div",41)(11,"div",42),s(12,"All Status"),o(),n(13,"div",43),s(14,"Show all statuses"),o()()()(),_(15,bt,10,8,"button",44),o()}if(r&2){let e=d();a(15),l("ngForOf",e.statusOptions)}}function wt(r,t){r&1&&(n(0,"span",29),s(1,"All Priority"),o())}function kt(r,t){if(r&1&&(n(0,"div",30)(1,"div",48),O(),n(2,"svg",32),m(3,"path",20),o()(),M(),n(4,"span",33),s(5),o()()),r&2){let e=d();a(),y("background-color",e.getPriorityColor(e.getPriorityValue())+"20"),a(),y("color",e.getPriorityColor(e.getPriorityValue())),a(3),f(e.getPriorityLabel())}}function xt(r,t){if(r&1){let e=b();n(0,"button",45),p("click",function(){let c=u(e).$implicit,g=d(2);return C(g.selectPriority(c.id))}),n(1,"div",37)(2,"div",46),O(),n(3,"svg",47),m(4,"path",20),o()(),M(),n(5,"div",41)(6,"div",42),s(7),o(),n(8,"div",43),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getPriorityValue()===e.id),a(2),y("background-color",i.getPriorityColor(e.id)+"20"),a(),y("color",i.getPriorityColor(e.id)),a(4),f(e.name),a(2),f(i.getPriorityDescription(e.id))}}function yt(r,t){if(r&1){let e=b();n(0,"div",34)(1,"div",35),O(),n(2,"svg",10),m(3,"path",20),o(),s(4," Select Priority "),o(),M(),n(5,"button",36),p("click",function(){u(e);let c=d();return C(c.selectPriority(null))}),n(6,"div",37)(7,"div",38),O(),n(8,"svg",39),m(9,"path",40),o()(),M(),n(10,"div",41)(11,"div",42),s(12,"All Priority"),o(),n(13,"div",43),s(14,"Show all priorities"),o()()()(),_(15,xt,10,8,"button",44),o()}if(r&2){let e=d();a(15),l("ngForOf",e.priorityOptions)}}function St(r,t){r&1&&(n(0,"span",29),s(1,"All Categories"),o())}function Et(r,t){if(r&1&&(n(0,"div",30)(1,"div",49),O(),n(2,"svg",50),m(3,"path",21),o()(),M(),n(4,"span",33),s(5),o()()),r&2){let e=d();a(5),f(e.getCategoryLabel())}}function Wt(r,t){if(r&1){let e=b();n(0,"button",45),p("click",function(){let c=u(e).$implicit,g=d(2);return C(g.selectCategory(c.id))}),n(1,"div",37)(2,"div",51),O(),n(3,"svg",52),m(4,"path",21),o()(),M(),n(5,"div",41)(6,"div",42),s(7),o(),n(8,"div",43),s(9,"Category"),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getCategoryValue()===e.id),a(7),f(e.name)}}function It(r,t){if(r&1){let e=b();n(0,"div",34)(1,"div",35),O(),n(2,"svg",10),m(3,"path",21),o(),s(4," Select Category "),o(),M(),n(5,"button",36),p("click",function(){u(e);let c=d();return C(c.selectCategory(null))}),n(6,"div",37)(7,"div",38),O(),n(8,"svg",39),m(9,"path",40),o()(),M(),n(10,"div",41)(11,"div",42),s(12,"All Categories"),o(),n(13,"div",43),s(14,"Show all categories"),o()()()(),_(15,Wt,10,3,"button",44),o()}if(r&2){let e=d();a(15),l("ngForOf",e.categoryOptions)}}function Tt(r,t){r&1&&(n(0,"span",29),s(1,"All Assets"),o())}function Vt(r,t){if(r&1&&(n(0,"div",30)(1,"div",53),O(),n(2,"svg",54),m(3,"path",22),o()(),M(),n(4,"span",33),s(5),o()()),r&2){let e=d();a(5),f(e.getAssetLabel())}}function Ft(r,t){if(r&1){let e=b();n(0,"button",45),p("click",function(){let c=u(e).$implicit,g=d(2);return C(g.selectAsset(c.id))}),n(1,"div",37)(2,"div",55),O(),n(3,"svg",56),m(4,"path",22),o()(),M(),n(5,"div",41)(6,"div",42),s(7),o(),n(8,"div",43),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getAssetValue()===e.id),a(7),f(e.name),a(2),f(e.asset_id)}}function At(r,t){if(r&1){let e=b();n(0,"div",34)(1,"div",35),O(),n(2,"svg",10),m(3,"path",22),o(),s(4," Select Asset "),o(),M(),n(5,"button",36),p("click",function(){u(e);let c=d();return C(c.selectAsset(0))}),n(6,"div",37)(7,"div",38),O(),n(8,"svg",39),m(9,"path",40),o()(),M(),n(10,"div",41)(11,"div",42),s(12,"All Assets"),o(),n(13,"div",43),s(14,"Show all assets"),o()()()(),_(15,Ft,10,4,"button",44),o()}if(r&2){let e=d();a(15),l("ngForOf",e.assets)}}function Lt(r,t){r&1&&(n(0,"span",29),s(1,"All Locations"),o())}function Dt(r,t){if(r&1&&(n(0,"div",30)(1,"div",57),O(),n(2,"svg",58),m(3,"path",23)(4,"path",24),o()(),M(),n(5,"span",33),s(6),o()()),r&2){let e=d();a(6),f(e.getLocationLabel())}}function zt(r,t){if(r&1){let e=b();n(0,"button",45),p("click",function(){let c=u(e).$implicit,g=d(2);return C(g.selectLocation(c.id))}),n(1,"div",37)(2,"div",59),O(),n(3,"svg",60),m(4,"path",23)(5,"path",24),o()(),M(),n(6,"div",41)(7,"div",42),s(8),o(),n(9,"div",43),s(10,"Location"),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getLocationValue()===e.id),a(8),f(e.name)}}function Ht(r,t){if(r&1){let e=b();n(0,"div",34)(1,"div",35),O(),n(2,"svg",10),m(3,"path",23)(4,"path",24),o(),s(5," Select Location "),o(),M(),n(6,"button",36),p("click",function(){u(e);let c=d();return C(c.selectLocation(0))}),n(7,"div",37)(8,"div",38),O(),n(9,"svg",39),m(10,"path",40),o()(),M(),n(11,"div",41)(12,"div",42),s(13,"All Locations"),o(),n(14,"div",43),s(15,"Show all locations"),o()()()(),_(16,zt,11,3,"button",44),o()}if(r&2){let e=d();a(16),l("ngForOf",e.locations)}}var Be=class r{constructor(t,e,i,c,g){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=c;this.metaService=g;this.filterForm=this.fb.group({search:[""],status_id:[null],priority_id:[null],category_id:[null],asset_id:[""],location_id:[""],assigned_to:[""],is_overdue:[!1],start_date:[""],end_date:[""],due_start_date:[""],due_end_date:[""]})}filtersChanged=new V;filterForm;isLoading=!1;subscription=new j;showStatusDropdown=!1;showPriorityDropdown=!1;showCategoryDropdown=!1;showAdvanced=!1;showDateRangePicker=!1;showAssetDropdown=!1;showLocationDropdown=!1;sortBy="created_at";sortOrder="desc";statusOptions=[];priorityOptions=[];categoryOptions=[];sortOptions=[{value:"created_at",label:"Created Date"},{value:"due_date",label:"Due Date"},{value:"priority",label:"Priority"},{value:"status",label:"Status"},{value:"title",label:"Title"}];assets=[];locations=[];users=[];ngOnInit(){this.metaService.clearAllCache(),this.loadFilterOptions()}ngOnDestroy(){this.subscription.unsubscribe()}loadFilterOptions(){this.subscription.add(this.metaService.getStatus().subscribe({next:t=>{this.statusOptions=t},error:t=>{console.error("Error loading statuses:",t)}})),this.subscription.add(this.metaService.getPriorities().subscribe({next:t=>{this.priorityOptions=t},error:t=>{console.error("Error loading priorities:",t)}})),this.subscription.add(this.metaService.getCategories().subscribe({next:t=>{this.categoryOptions=t},error:t=>{console.error("Error loading categories:",t)}})),this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:t=>{t.success&&t.data&&(this.assets=t.data.assets||t.data||[])},error:t=>{console.error("Error loading assets:",t)}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data||[])},error:t=>{console.error("Error loading locations:",t)}})),this.subscription.add(this.workOrderService.getWorkOrderFilters().subscribe({next:t=>{this.users=t.users||[]},error:t=>{console.error("Error loading filter options:",t)}}))}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectStatus(t){this.filterForm.patchValue({status_id:t}),this.showStatusDropdown=!1}getStatusLabel(){let t=this.filterForm.value.status_id;if(!t)return"All Status";let e=this.statusOptions.find(i=>i.id===t);return e?e.name:"All Status"}togglePriorityDropdown(){this.showPriorityDropdown=!this.showPriorityDropdown,this.showStatusDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectPriority(t){this.filterForm.patchValue({priority_id:t}),this.showPriorityDropdown=!1}getPriorityLabel(){let t=this.filterForm.value.priority_id;if(!t)return"All Priority";let e=this.priorityOptions.find(i=>i.id===t);return e?e.name:"All Priority"}toggleAssetDropdown(){this.showAssetDropdown=!this.showAssetDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1}selectAsset(t){this.filterForm.patchValue({asset_id:t===0?null:t}),this.showAssetDropdown=!1}getAssetLabel(){let t=this.filterForm.value.asset_id;if(!t)return"All Assets";let e=this.assets.find(i=>i.id===t);return e?e.name:"All Assets"}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectCategory(t){this.filterForm.patchValue({category_id:t}),this.showCategoryDropdown=!1}getCategoryLabel(){let t=this.filterForm.value.category_id;if(!t)return"All Categories";let e=this.categoryOptions.find(i=>i.id===t);return e?e.name:"All Categories"}getCategoryValue(){return this.filterForm.value.category_id}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1}selectLocation(t){this.filterForm.patchValue({location_id:t===0?null:t}),this.showLocationDropdown=!1}getLocationLabel(){let t=this.filterForm.value.location_id;if(!t)return"All Locations";let e=this.locations.find(i=>i.id===t);return e?e.name:"All Locations"}toggleDateRangePicker(){this.showDateRangePicker=!this.showDateRangePicker}toggleAdvanced(){this.showAdvanced=!this.showAdvanced}setSortBy(t){this.sortBy=t}toggleSortOrder(){this.sortOrder=this.sortOrder==="asc"?"desc":"asc"}onSearch(){this.onFilterChange()}onFilterChange(){let t=this.filterForm.value,e=U(H({},t),{sortBy:this.sortBy,sortOrder:this.sortOrder});Object.keys(e).forEach(i=>{(e[i]===""||e[i]===null||e[i]===void 0)&&delete e[i]}),this.filtersChanged.emit(e)}clearFilters(){this.filterForm.patchValue({search:"",status_id:null,priority_id:null,category_id:null,asset_id:"",location_id:"",assigned_to:"",is_overdue:!1,start_date:"",end_date:"",due_start_date:"",due_end_date:""}),this.sortBy="created_at",this.sortOrder="desc",this.showAdvanced=!1,this.showDateRangePicker=!1,this.onFilterChange()}onDocumentClick(t){t.target.closest(".filter-dropdown")||(this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1)}getAssetName(t){let e=this.assets.find(i=>i.id===t);return e?e.name:""}getLocationName(t){let e=this.locations.find(i=>i.id===t);return e?e.name:""}getStatusValue(){return this.filterForm.value.status_id}getPriorityValue(){return this.filterForm.value.priority_id}getAssetValue(){return this.filterForm.value.asset_id}getLocationValue(){return this.filterForm.value.location_id}getStatusColor(t){if(!t)return"#6B7280";let e=this.statusOptions.find(c=>c.id===t);return e&&{open:"#10B981","in-progress":"#F59E0B",completed:"#3B82F6",cancelled:"#EF4444",pending:"#8B5CF6"}[e.slug]||"#6B7280"}getPriorityColor(t){if(!t)return"#6B7280";let e=this.priorityOptions.find(c=>c.id===t);return e&&{low:"#10B981",medium:"#F59E0B",high:"#F97316",critical:"#EF4444"}[e.slug]||"#6B7280"}getStatusDescription(t){if(!t)return"Work order status";let e=this.statusOptions.find(c=>c.id===t);return e&&{open:"Work order is open and ready for assignment","in-progress":"Work order is currently being worked on",completed:"Work order has been completed successfully",cancelled:"Work order has been cancelled",pending:"Work order is pending approval or resources"}[e.slug]||"Work order status"}getPriorityDescription(t){if(!t)return"Work order priority level";let e=this.priorityOptions.find(c=>c.id===t);return e&&{low:"Low priority - can be addressed when convenient",medium:"Medium priority - should be addressed soon",high:"High priority - needs immediate attention",critical:"Critical priority - requires immediate action"}[e.slug]||"Work order priority level"}static \u0275fac=function(e){return new(e||r)(v(X),v(T),v(_e),v(pe),v(ee))};static \u0275cmp=W({type:r,selectors:[["app-work-order-filters"]],outputs:{filtersChanged:"filtersChanged"},standalone:!1,decls:83,vars:36,consts:[[1,"filters-section"],[1,"filters-container",3,"formGroup"],[1,"search-input-wrapper"],[1,"search-input"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","formControlName","search","placeholder","Search work orders by title, description, or asset...",1,"search-field",3,"keydown.enter"],[1,"filter-grid"],[1,"filter-dropdown"],[1,"filter-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"relative",3,"click"],["type","button",1,"filter-button",3,"click"],[1,"button-content"],["class","placeholder-text",4,"ngIf"],["class","selected-option",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"chevron-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"action-buttons"],["type","button",1,"action-btn","secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","button",1,"action-btn","primary",3,"click"],[1,"placeholder-text"],[1,"selected-option"],[1,"status-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"selected-text"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-option",3,"click"],[1,"option-content"],[1,"option-icon","bg-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"option-text"],[1,"option-label"],[1,"option-description"],["type","button","class","dropdown-option",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-option",3,"click"],[1,"option-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"priority-indicator"],[1,"category-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],[1,"option-icon","bg-purple-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],[1,"asset-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"option-icon","bg-blue-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],[1,"location-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],[1,"option-icon","bg-green-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),O(),n(4,"svg",4),m(5,"path",5),o(),M(),n(6,"input",6),p("keydown.enter",function(){return i.onSearch()}),o()()(),n(7,"div",7)(8,"div",8)(9,"label",9),O(),n(10,"svg",10),m(11,"path",11),o(),s(12," Status "),o(),M(),n(13,"div",12),p("click",function(g){return g.stopPropagation()}),n(14,"button",13),p("click",function(){return i.toggleStatusDropdown()}),n(15,"div",14),_(16,Pt,2,0,"span",15)(17,ht,6,5,"div",16),O(),n(18,"svg",17),m(19,"path",18),o()()(),_(20,vt,16,1,"div",19),o()(),M(),n(21,"div",8)(22,"label",9),O(),n(23,"svg",10),m(24,"path",20),o(),s(25," Priority "),o(),M(),n(26,"div",12),p("click",function(g){return g.stopPropagation()}),n(27,"button",13),p("click",function(){return i.togglePriorityDropdown()}),n(28,"div",14),_(29,wt,2,0,"span",15)(30,kt,6,5,"div",16),O(),n(31,"svg",17),m(32,"path",18),o()()(),_(33,yt,16,1,"div",19),o()(),M(),n(34,"div",8)(35,"label",9),O(),n(36,"svg",10),m(37,"path",21),o(),s(38," Category "),o(),M(),n(39,"div",12),p("click",function(g){return g.stopPropagation()}),n(40,"button",13),p("click",function(){return i.toggleCategoryDropdown()}),n(41,"div",14),_(42,St,2,0,"span",15)(43,Et,6,1,"div",16),O(),n(44,"svg",17),m(45,"path",18),o()()(),_(46,It,16,1,"div",19),o()(),M(),n(47,"div",8)(48,"label",9),O(),n(49,"svg",10),m(50,"path",22),o(),s(51," Asset "),o(),M(),n(52,"div",12),p("click",function(g){return g.stopPropagation()}),n(53,"button",13),p("click",function(){return i.toggleAssetDropdown()}),n(54,"div",14),_(55,Tt,2,0,"span",15)(56,Vt,6,1,"div",16),O(),n(57,"svg",17),m(58,"path",18),o()()(),_(59,At,16,1,"div",19),o()(),M(),n(60,"div",8)(61,"label",9),O(),n(62,"svg",10),m(63,"path",23)(64,"path",24),o(),s(65," Location "),o(),M(),n(66,"div",12),p("click",function(g){return g.stopPropagation()}),n(67,"button",13),p("click",function(){return i.toggleLocationDropdown()}),n(68,"div",14),_(69,Lt,2,0,"span",15)(70,Dt,7,1,"div",16),O(),n(71,"svg",17),m(72,"path",18),o()()(),_(73,Ht,17,1,"div",19),o()()(),M(),n(74,"div",25)(75,"button",26),p("click",function(){return i.clearFilters()}),O(),n(76,"svg",10),m(77,"path",27),o(),s(78," Clear Filters "),o(),M(),n(79,"button",28),p("click",function(){return i.onSearch()}),O(),n(80,"svg",10),m(81,"path",5),o(),s(82," Apply Filters "),o()()()()),e&2&&(a(),l("formGroup",i.filterForm),a(13),P("active",i.showStatusDropdown),a(2),l("ngIf",!i.getStatusLabel()||i.getStatusLabel()==="All Status"),a(),l("ngIf",i.getStatusLabel()&&i.getStatusLabel()!=="All Status"),a(),P("rotate-180",i.showStatusDropdown),a(2),l("ngIf",i.showStatusDropdown),a(7),P("active",i.showPriorityDropdown),a(2),l("ngIf",!i.getPriorityLabel()||i.getPriorityLabel()==="All Priority"),a(),l("ngIf",i.getPriorityLabel()&&i.getPriorityLabel()!=="All Priority"),a(),P("rotate-180",i.showPriorityDropdown),a(2),l("ngIf",i.showPriorityDropdown),a(7),P("active",i.showCategoryDropdown),a(2),l("ngIf",!i.getCategoryLabel()||i.getCategoryLabel()==="All Categories"),a(),l("ngIf",i.getCategoryLabel()&&i.getCategoryLabel()!=="All Categories"),a(),P("rotate-180",i.showCategoryDropdown),a(2),l("ngIf",i.showCategoryDropdown),a(7),P("active",i.showAssetDropdown),a(2),l("ngIf",!i.getAssetLabel()||i.getAssetLabel()==="All Assets"),a(),l("ngIf",i.getAssetLabel()&&i.getAssetLabel()!=="All Assets"),a(),P("rotate-180",i.showAssetDropdown),a(2),l("ngIf",i.showAssetDropdown),a(8),P("active",i.showLocationDropdown),a(2),l("ngIf",!i.getLocationLabel()||i.getLocationLabel()==="All Locations"),a(),l("ngIf",i.getLocationLabel()&&i.getLocationLabel()!=="All Locations"),a(),P("rotate-180",i.showLocationDropdown),a(2),l("ngIf",i.showLocationDropdown))},dependencies:[F,I,B,$,Q,J,K],styles:[".filters-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:2rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{position:relative;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #e5e7eb;border-radius:12px;font-size:1rem;background:#f9fafb;transition:all .3s ease;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;background:#fff;box-shadow:0 0 0 4px #2563eb1a;transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;font-size:1.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{width:100%;padding:1rem;text-align:left;border:2px solid #e5e7eb;border-radius:12px;background:#fff;color:#374151;font-size:.875rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:space-between;min-height:56px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button.active[_ngcontent-%COMP%]{border-color:#2563eb;background:#eff6ff;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .category-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .asset-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .location-indicator[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .3s ease;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);left:0;right:0;background:#fff;border:2px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;z-index:50;max-height:20rem;overflow:auto;animation:_ngcontent-%COMP%_slideDown .2s ease-out}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem;font-size:.75rem;font-weight:700;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background:#f9fafb;border-radius:12px 12px 0 0;display:flex;align-items:center;border-bottom:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;color:#374151;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;border-bottom:1px solid #f3f4f6}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:focus{background-color:#f8fafc;outline:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;text-align:start;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:2px solid transparent;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#fff;border-color:#d1d5db;color:#6b7280}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{border-color:#9ca3af;color:#374151;background:#f9fafb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 4px 6px -1px #2563eb4d}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1400px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}}@media (max-width: 1200px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem}}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.filters-section[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{padding:.875rem .875rem .875rem 2.75rem;font-size:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:1rem;left:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{padding:.875rem;min-height:48px;font-size:.8rem}}"]})};function Bt(r,t){r&1&&(n(0,"div",17),m(1,"div",18),n(2,"p"),s(3,"Loading form..."),o()())}function $t(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("title")," ")}}function Rt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("priority")," ")}}function Nt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("due_date")," ")}}function Gt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("description")," ")}}function Ut(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("estimated_hours")," ")}}function qt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("notes")," ")}}function Yt(r,t){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),S(" ",e.name," (",e.asset_id,") ")}}function Qt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("asset_id")," ")}}function Zt(r,t){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),h(" ",e.name," ")}}function Jt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("location_id")," ")}}function Kt(r,t){if(r&1&&(n(0,"option",52),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),S(" ",e.first_name," ",e.last_name," ")}}function Xt(r,t){if(r&1&&(n(0,"div",51),s(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("assigned_to")," ")}}function en(r,t){if(r&1){let e=b();n(0,"form",19),p("ngSubmit",function(){u(e);let c=d(2);return C(c.onSubmit())}),n(1,"div",20)(2,"h3",21),s(3,"Basic Information"),o(),n(4,"div",22)(5,"div",23)(6,"label",24),s(7,"Title *"),o(),m(8,"input",25),_(9,$t,2,1,"div",26),o()(),n(10,"div",22)(11,"div",23)(12,"label",27),s(13,"Priority *"),o(),n(14,"select",28)(15,"option",29),s(16,"Select Priority"),o(),n(17,"option",30),s(18,"Low"),o(),n(19,"option",31),s(20,"Medium"),o(),n(21,"option",32),s(22,"High"),o(),n(23,"option",33),s(24,"Critical"),o(),n(25,"option",34),s(26,"Urgent"),o()(),_(27,Rt,2,1,"div",26),o(),n(28,"div",23)(29,"label",35),s(30,"Due Date"),o(),m(31,"input",36),_(32,Nt,2,1,"div",26),o()(),n(33,"div",22)(34,"div",23)(35,"label",37),s(36,"Description"),o(),m(37,"textarea",38),_(38,Gt,2,1,"div",26),o()(),n(39,"div",22)(40,"div",23)(41,"label",39),s(42,"Estimated Hours"),o(),m(43,"input",40),_(44,Ut,2,1,"div",26),o(),n(45,"div",23)(46,"label",41),s(47,"Notes"),o(),m(48,"textarea",42),_(49,qt,2,1,"div",26),o()()(),n(50,"div",20)(51,"h3",21),s(52,"Assignment & Asset"),o(),n(53,"div",22)(54,"div",23)(55,"label",43),s(56,"Asset"),o(),n(57,"select",44)(58,"option",29),s(59,"Select Asset"),o(),_(60,Yt,2,3,"option",45),o(),_(61,Qt,2,1,"div",26),o(),n(62,"div",23)(63,"label",46),s(64,"Location"),o(),n(65,"select",47)(66,"option",29),s(67,"Select Location"),o(),_(68,Zt,2,2,"option",45),o(),_(69,Jt,2,1,"div",26),o()(),n(70,"div",22)(71,"div",23)(72,"label",48),s(73,"Assign To Team Member (Optional)"),o(),n(74,"select",49)(75,"option",29),s(76,"Select Assignee"),o(),_(77,Kt,2,3,"option",45),o(),_(78,Xt,2,1,"div",26),n(79,"div",50)(80,"small"),s(81,"Select an existing team member to assign the work order to"),o()()()()()()}if(r&2){let e=d(2);l("formGroup",e.editForm),a(8),P("error",e.isFieldInvalid("title")),a(),l("ngIf",e.isFieldInvalid("title")),a(5),P("error",e.isFieldInvalid("priority")),a(13),l("ngIf",e.isFieldInvalid("priority")),a(),P("error",e.hasFieldError("due_date")),a(3),P("error-input",e.hasFieldError("due_date")),a(),l("ngIf",e.hasFieldError("due_date")),a(2),P("error",e.hasFieldError("description")),a(3),P("error-input",e.hasFieldError("description")),a(),l("ngIf",e.hasFieldError("description")),a(2),P("error",e.hasFieldError("estimated_hours")),a(3),P("error-input",e.hasFieldError("estimated_hours")),a(),l("ngIf",e.hasFieldError("estimated_hours")),a(),P("error",e.hasFieldError("notes")),a(3),P("error-input",e.hasFieldError("notes")),a(),l("ngIf",e.hasFieldError("notes")),a(5),P("error",e.hasFieldError("asset_id")),a(3),P("error-input",e.hasFieldError("asset_id")),a(3),l("ngForOf",e.assets),a(),l("ngIf",e.hasFieldError("asset_id")),a(),P("error",e.hasFieldError("location_id")),a(3),P("error-input",e.hasFieldError("location_id")),a(3),l("ngForOf",e.locations),a(),l("ngIf",e.hasFieldError("location_id")),a(2),P("error",e.hasFieldError("assigned_to")),a(3),P("error-input",e.hasFieldError("assigned_to")),a(3),l("ngForOf",e.users),a(),l("ngIf",e.hasFieldError("assigned_to"))}}function tn(r,t){r&1&&(O(),n(0,"svg",53),m(1,"circle",54)(2,"path",55),o())}function nn(r,t){if(r&1){let e=b();n(0,"div",1),p("click",function(){u(e);let c=d();return C(c.closeModal())}),n(1,"div",2),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",3)(3,"h2",4),O(),n(4,"svg",5),m(5,"path",6),o(),s(6," Edit Work Order "),o(),M(),n(7,"button",7),p("click",function(){u(e);let c=d();return C(c.closeModal())}),O(),n(8,"svg",8),m(9,"path",9),o()()(),M(),n(10,"div",10),_(11,Bt,4,0,"div",11)(12,en,82,45,"form",12),o(),n(13,"div",13)(14,"button",14),p("click",function(){u(e);let c=d();return C(c.closeModal())}),s(15," Cancel "),o(),n(16,"button",15),p("click",function(){u(e);let c=d();return C(c.onSubmit())}),_(17,tn,3,0,"svg",16),s(18),o()()()()}if(r&2){let e=d();a(11),l("ngIf",!e.isFormReady),a(),l("ngIf",e.isFormReady),a(4),l("disabled",!e.canSubmit()),a(),l("ngIf",e.isSubmitting),a(),h(" ",e.isSubmitting?"Updating...":"Update Work Order"," ")}}var ue=class r{constructor(t,e,i,c,g,E){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=c;this.teamService=g;this.authService=E}workOrder=null;isOpen=!1;modalClosed=new V;workOrderUpdated=new V;editForm;isSubmitting=!1;get form(){return this.editForm||null}get isFormReady(){return!!(this.editForm&&typeof this.editForm.patchValue=="function")}ensureFormReady(){return this.isFormReady?!0:(console.log("EditWorkOrderModalComponent: Form not ready, initializing now"),this.initForm(),this.isFormReady)}users=[];assets=[];locations=[];teams=[];ngOnInit(){console.log("EditWorkOrderModalComponent: ngOnInit called"),console.log("EditWorkOrderModalComponent: ngOnInit - workOrder:",!!this.workOrder,"isOpen:",this.isOpen),this.initForm(),this.loadDropdownData(),this.workOrder&&this.isFormReady?(console.log("EditWorkOrderModalComponent: WorkOrder found, populating form"),this.populateForm()):this.workOrder?console.log("EditWorkOrderModalComponent: WorkOrder found but form not ready"):console.log("EditWorkOrderModalComponent: No WorkOrder provided")}ngOnChanges(){if(!this.isFormReady&&(this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization in ngOnChanges");return}this.workOrder&&this.isFormReady&&this.populateForm(),this.isOpen&&this.workOrder&&(this.resetForm(),this.populateForm())}resetForm(){if(!this.isFormReady&&(this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization");return}this.isFormReady&&this.editForm&&(this.editForm.reset(),this.editForm.markAsUntouched(),this.editForm.markAsPristine())}initForm(){if(!this.fb){console.error("EditWorkOrderModalComponent: FormBuilder not available");return}try{if(this.editForm=this.fb.group({title:["",[D.required,D.minLength(3),D.maxLength(255)]],priority:["",D.required],due_date:[""],description:["",[D.maxLength(1e3)]],estimated_hours:["",[D.min(0)]],notes:[""],asset_id:[""],location_id:[""],assigned_to:[""]}),console.log("EditWorkOrderModalComponent: Form initialized:",{formExists:!!this.editForm,formValid:this.editForm.valid,formStatus:this.editForm.status,formErrors:this.editForm.errors,formValues:this.editForm.value,formType:typeof this.editForm,formConstructor:this.editForm.constructor.name}),!this.editForm||typeof this.editForm.patchValue!="function"){console.error("EditWorkOrderModalComponent: Form not properly initialized"),this.editForm=null;return}}catch(t){console.error("EditWorkOrderModalComponent: Error initializing form:",t),this.editForm=null}}populateForm(){if(!this.workOrder){console.log("EditWorkOrderModalComponent: No workOrder to populate form with");return}if(!this.isFormReady&&(console.log("EditWorkOrderModalComponent: Form not ready, initializing first"),this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization");return}console.log("EditWorkOrderModalComponent: Populating form with workOrder:",this.workOrder);let t=this.workOrder.due_date?new Date(this.workOrder.due_date).toISOString().split("T")[0]:"",e={title:this.workOrder.title||"",priority:this.workOrder.priority||"",due_date:t,description:this.workOrder.description||"",estimated_hours:this.workOrder.estimated_hours||"",notes:this.workOrder.notes||"",asset_id:this.getFieldValue(this.workOrder.asset),location_id:this.getFieldValue(this.workOrder.location),assigned_to:this.getFieldValue(this.workOrder.assigned_to)};if(console.log("EditWorkOrderModalComponent: Form values to set:",e),console.log("EditWorkOrderModalComponent: About to call patchValue, editForm exists:",!!this.editForm),console.log("EditWorkOrderModalComponent: editForm type:",typeof this.editForm),console.log("EditWorkOrderModalComponent: editForm constructor:",this.editForm?.constructor?.name),!this.isFormReady){console.error("EditWorkOrderModalComponent: Form not ready for patchValue operation");return}try{this.editForm.patchValue(e),console.log("EditWorkOrderModalComponent: Form populated successfully")}catch(i){console.error("EditWorkOrderModalComponent: Error populating form:",i),console.error("EditWorkOrderModalComponent: Error details:",{message:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0,editFormExists:!!this.editForm,editFormType:typeof this.editForm,editFormConstructor:this.editForm?.constructor?.name}),this.initForm();try{this.editForm.patchValue(e),console.log("EditWorkOrderModalComponent: Form reinitialized and populated successfully")}catch(c){console.error("EditWorkOrderModalComponent: Failed to populate form after reinitialization:",c)}}this.isFormReady&&this.editForm&&console.log("EditWorkOrderModalComponent: Form state after population:",{formValid:this.editForm.valid,formStatus:this.editForm.status,formErrors:this.editForm.errors,formValues:this.editForm.value,titleControl:{value:this.editForm.get("title")?.value,valid:this.editForm.get("title")?.valid,errors:this.editForm.get("title")?.errors},priorityControl:{value:this.editForm.get("priority")?.value,valid:this.editForm.get("priority")?.valid,errors:this.editForm.get("priority")?.errors}})}getFieldValue(t){return t?typeof t=="object"&&t!==null&&"id"in t?t.id:typeof t=="number"||typeof t=="string"?t:"":""}loadDropdownData(){return fe(this,null,function*(){try{let t=yield Pe(this.teamService.getTeamMembers());this.users=t?.data||[];let e=yield Pe(this.assetService.getAssets({per_page:100}));this.assets=e?.data?.assets||e?.data||[];let i=yield Pe(this.locationService.getLocations({per_page:100}));this.locations=i?.data?.locations||[],this.teams=t?.data||[]}catch(t){console.error("Error loading dropdown data:",t)}})}isFieldInvalid(t){if(!this.isFormReady||!this.editForm)return!1;let e=this.editForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}getFieldError(t){if(!this.isFormReady||!this.editForm)return"";let e=this.editForm.get(t);return!e||!e.errors?"":e.errors.required?`${this.getFieldLabel(t)} is required`:e.errors.minlength?`${this.getFieldLabel(t)} must be at least ${e.errors.minlength.requiredLength} characters`:e.errors.maxlength?`${this.getFieldLabel(t)} must not exceed ${e.errors.maxlength.requiredLength} characters`:e.errors.min?`${this.getFieldLabel(t)} must be at least ${e.errors.min.min}`:"Invalid value"}getFieldLabel(t){return{title:"Title",priority:"Priority",due_date:"Due Date",description:"Description",estimated_hours:"Estimated Hours",notes:"Notes",asset_id:"Asset",location_id:"Location",assigned_to:"Assigned To"}[t]||t}hasFieldError(t){return!this.isFormReady||!this.editForm?!1:this.isFieldInvalid(t)}isFormModified(){return this.isFormReady&&this.editForm?this.editForm.dirty:!1}canSubmit(){if(!this.isFormReady||!this.editForm)return!1;let t=this.editForm.valid,e=!this.isSubmitting,i=t&&e;return console.log("EditWorkOrderModalComponent: canSubmit check:",{formExists:!!this.editForm,formValid:t,notSubmitting:e,result:i,formErrors:this.editForm.errors,formStatus:this.editForm.status}),i}onSubmit(){return fe(this,null,function*(){if(console.log("EditWorkOrderModalComponent: onSubmit called"),!this.isFormReady&&(console.log("EditWorkOrderModalComponent: Form not ready, initializing first"),this.initForm(),!this.isFormReady)){console.error("EditWorkOrderModalComponent: Form still not ready after initialization");return}if(!this.isFormReady){console.error("EditWorkOrderModalComponent: Form not ready for submission");return}if(console.log("EditWorkOrderModalComponent: Form valid:",this.editForm.valid),console.log("EditWorkOrderModalComponent: Form invalid:",this.editForm.invalid),console.log("EditWorkOrderModalComponent: isSubmitting:",this.isSubmitting),console.log("EditWorkOrderModalComponent: workOrder:",!!this.workOrder),this.editForm.invalid||this.isSubmitting||!this.workOrder){console.log("EditWorkOrderModalComponent: Form submission blocked");return}console.log("EditWorkOrderModalComponent: Starting form submission"),this.isSubmitting=!0;try{let t=this.editForm.value;console.log("EditWorkOrderModalComponent: Form data:",t);let e={title:t.title,priority:t.priority,due_date:t.due_date||null,description:t.description||null,estimated_hours:t.estimated_hours||null,notes:t.notes||null,asset_id:t.asset_id||null,location_id:t.location_id||null,assigned_to:t.assigned_to||null};console.log("EditWorkOrderModalComponent: Update payload:",e);let i=yield Pe(this.workOrderService.updateWorkOrder(this.workOrder.id,e));i&&(this.workOrderUpdated.emit(i),this.closeModal())}catch(t){console.error("Error updating work order:",t),t&&typeof t=="object"&&"error"in t&&t.error&&typeof t.error=="object"&&"message"in t.error?console.error("API Error:",t.error.message):t instanceof Error&&t.message&&console.error("Network Error:",t.message)}finally{this.isSubmitting=!1}})}closeModal(){this.isFormModified()?confirm("You have unsaved changes. Are you sure you want to close?")&&(this.resetForm(),this.modalClosed.emit()):this.modalClosed.emit()}onModalContentClick(t){t.stopPropagation()}static \u0275fac=function(e){return new(e||r)(v(X),v(T),v(_e),v(pe),v(Oe),v(Le))};static \u0275cmp=W({type:r,selectors:[["app-edit-work-order-modal"]],inputs:{workOrder:"workOrder",isOpen:"isOpen"},outputs:{modalClosed:"modalClosed",workOrderUpdated:"workOrderUpdated"},standalone:!1,features:[ae],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],["class","loading-state",4,"ngIf"],["class","edit-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-2 animate-spin","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title","placeholder","Enter work order title",1,"form-input"],["class","error-message",4,"ngIf"],["for","priority",1,"form-label"],["id","priority","formControlName","priority",1,"form-select"],["value",""],["value","low"],["value","medium"],["value","high"],["value","critical"],["value","urgent"],["for","due_date",1,"form-label"],["id","due_date","type","date","formControlName","due_date",1,"form-input"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter work order description","rows","3",1,"form-textarea"],["for","estimated_hours",1,"form-label"],["id","estimated_hours","type","number","formControlName","estimated_hours","placeholder","0.0","min","0","step","0.5",1,"form-input"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Additional notes or instructions","rows","3",1,"form-textarea"],["for","asset_id",1,"form-label"],["id","asset_id","formControlName","asset_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","location_id",1,"form-label"],["id","location_id","formControlName","location_id",1,"form-select"],["for","assigned_to",1,"form-label"],["id","assigned_to","formControlName","assigned_to",1,"form-select"],[1,"field-help"],[1,"error-message"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&_(0,nn,19,5,"div",0),e&2&&l("ngIf",i.isOpen)},dependencies:[F,I,de,le,ge,B,Z,ze,$,Q,me,J,K],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:800px;max-height:90vh;overflow-y:auto;position:relative}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb;border-radius:12px 12px 0 0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid #e5e7eb;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 1rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:after{content:" *";color:#dc2626;display:none}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label.required[_ngcontent-%COMP%]:after{display:inline}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease;background-color:#fff}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea.error[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;display:flex;align-items:center;gap:.25rem}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:has(.form-group:only-child){grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 12px 12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:120px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb;border-color:#9ca3af}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8;transform:translateY(-1px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-content[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.75rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}}.modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.btn[_ngcontent-%COMP%]:disabled{position:relative}.btn[_ngcontent-%COMP%]:disabled   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var on=()=>[1,2,3,4,5,6];function rn(r,t){r&1&&m(0,"div",11)}function an(r,t){r&1&&(n(0,"div",5)(1,"div",6),m(2,"div",7)(3,"div",8),n(4,"div",9),_(5,rn,1,0,"div",10),o()()()),r&2&&(a(5),l("ngForOf",Ee(1,on)))}function sn(r,t){if(r&1&&(n(0,"span",38),s(1),o()),r&2){let e=d(2);a(),h(" (",e.getSelectedCount()," selected) ")}}function cn(r,t){if(r&1){let e=b();n(0,"div",45)(1,"div",46)(2,"button",47),p("click",function(){u(e);let c=d(3);return C(c.updateBulkStatus("open"))}),O(),n(3,"svg",24),m(4,"path",48),o(),s(5," Set Open "),o(),M(),n(6,"button",47),p("click",function(){u(e);let c=d(3);return C(c.updateBulkStatus("in_progress"))}),O(),n(7,"svg",24),m(8,"path",49),o(),s(9," Set In Progress "),o(),M(),n(10,"button",47),p("click",function(){u(e);let c=d(3);return C(c.updateBulkStatus("completed"))}),O(),n(11,"svg",24),m(12,"path",50),o(),s(13," Set Completed "),o()(),M(),n(14,"div",46)(15,"button",47),p("click",function(){u(e);let c=d(3);return C(c.updateBulkPriority("high"))}),O(),n(16,"svg",24),m(17,"path",49),o(),s(18," Set High Priority "),o(),M(),n(19,"button",47),p("click",function(){u(e);let c=d(3);return C(c.updateBulkPriority("critical"))}),O(),n(20,"svg",24),m(21,"path",51),o(),s(22," Set Critical "),o()(),M(),n(23,"button",52),p("click",function(){u(e);let c=d(3);return C(c.deleteBulkWorkOrders())}),O(),n(24,"svg",24),m(25,"path",53),o(),s(26," Delete Selected "),o()()}}function dn(r,t){if(r&1){let e=b();n(0,"div",39)(1,"div",40)(2,"label",41)(3,"input",42),p("change",function(){u(e);let c=d(2);return C(c.toggleSelectAll())}),o(),n(4,"span",43),s(5,"Select All"),o()()(),_(6,cn,27,0,"div",44),o()}if(r&2){let e=d(2);a(3),l("checked",e.isAllSelected())("indeterminate",e.isPartiallySelected()),a(3),l("ngIf",e.showBulkActions)}}function ln(r,t){if(r&1){let e=b();n(0,"div",54)(1,"div",55)(2,"div",56),O(),n(3,"svg",57),m(4,"path",58),o()(),M(),n(5,"div",59)(6,"h3",60),s(7,"No work orders found"),o(),n(8,"p",61),s(9,"Get started by creating your first work order to streamline your maintenance workflows."),o()(),n(10,"div",62)(11,"button",63),p("click",function(){u(e);let c=d(2);return C(c.createWorkOrder())}),O(),n(12,"svg",64),m(13,"path",65),o(),s(14," Create Work Order "),o()()()()}}function gn(r,t){if(r&1){let e=b();n(0,"app-work-order-card",68),p("editRequested",function(c){u(e);let g=d(3);return C(g.editWorkOrder(c))})("deleteRequested",function(c){u(e);let g=d(3);return C(g.deleteWorkOrder(c))})("selectionChanged",function(c){u(e);let g=d(3);return C(g.onCardSelectionChanged(c))}),o()}if(r&2){let e=t.$implicit,i=d(3);l("workOrder",e)("showBulkSelection",!0)("isSelected",i.selectedWorkOrders.has(e.id))}}function mn(r,t){if(r&1&&(n(0,"div",66),_(1,gn,1,3,"app-work-order-card",67),o()),r&2){let e=d(2);a(),l("ngForOf",e.workOrders)}}function _n(r,t){if(r&1&&(n(0,"div",104),s(1),o()),r&2){let e=d().$implicit;a(),f(e.description)}}function pn(r,t){if(r&1){let e=b();n(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78),O(),n(4,"svg",79),m(5,"path",80)(6,"path",81),o()(),M(),n(7,"div",82)(8,"div",83),s(9),o(),_(10,_n,2,1,"div",84),o()()(),n(11,"div",76)(12,"div",85)(13,"span",86),s(14),o(),n(15,"span",87),s(16),o()()(),n(17,"div",76)(18,"div",88)(19,"div",89),O(),n(20,"svg",24),m(21,"path",90),o(),M(),n(22,"span"),s(23),o()(),n(24,"div",89),O(),n(25,"svg",24),m(26,"path",91),o(),M(),n(27,"span"),s(28),o()()()(),n(29,"div",76)(30,"div",92),O(),n(31,"svg",24),m(32,"path",93)(33,"path",94),o(),M(),n(34,"span"),s(35),o()()(),n(36,"div",76)(37,"div",95),O(),n(38,"svg",24),m(39,"path",96),o(),M(),n(40,"span"),s(41),w(42,"date"),o()()(),n(43,"div",76)(44,"div",97),O(),n(45,"svg",24),m(46,"path",98),o(),M(),n(47,"span"),s(48),w(49,"date"),o()()(),n(50,"div",76)(51,"div",99)(52,"button",100),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.viewWorkOrderDetails(c))}),O(),n(53,"svg",24),m(54,"path",81)(55,"path",101),o()(),M(),n(56,"button",102),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.editWorkOrder(c))}),O(),n(57,"svg",24),m(58,"path",103),o()()()()()}if(r&2){let e=t.$implicit,i=d(3);a(9),f(e.title),a(),l("ngIf",e.description),a(3),l("ngClass","status-"+e.status),a(),h(" ",i.getStatusLabel(e.status)," "),a(),l("ngClass","priority-"+e.priority),a(),h(" ",i.getPriorityLabel(e.priority)," "),a(7),f(i.getAssigneeName(e)),a(5),f(i.getAssetName(e)),a(7),f(i.getLocationName(e)),a(6),f(e.due_date?k(42,11,e.due_date,"MMM d, y"):"Not set"),a(7),f(k(49,14,e.created_at,"MMM d, y"))}}function On(r,t){if(r&1&&(n(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72),s(4,"Work Order"),o(),n(5,"div",72),s(6,"Status & Priority"),o(),n(7,"div",72),s(8,"Assignee & Asset"),o(),n(9,"div",72),s(10,"Location"),o(),n(11,"div",72),s(12,"Due Date"),o(),n(13,"div",72),s(14,"Created"),o(),n(15,"div",72),s(16,"Actions"),o()()(),n(17,"div",73),_(18,pn,59,17,"div",74),o()()),r&2){let e=d(2);a(18),l("ngForOf",e.workOrders)}}function un(r,t){if(r&1){let e=b();n(0,"button",113),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.goToPage(c))}),s(1),o()}if(r&2){let e=t.$implicit,i=d(3);P("active",e===i.currentPage),a(),h(" ",e," ")}}function Cn(r,t){if(r&1){let e=b();n(0,"div",105)(1,"div",106),s(2),o(),n(3,"div",107)(4,"button",108),p("click",function(){u(e);let c=d(2);return C(c.goToPage(c.currentPage-1))}),O(),n(5,"svg",24),m(6,"path",109),o(),s(7," Previous "),o(),M(),n(8,"div",110),_(9,un,2,3,"button",111),o(),n(10,"button",108),p("click",function(){u(e);let c=d(2);return C(c.goToPage(c.currentPage+1))}),s(11," Next "),O(),n(12,"svg",24),m(13,"path",112),o()()()()}if(r&2){let e=d(2);a(2),tt(" Showing ",(e.currentPage-1)*e.perPage+1," to ",e.Math.min(e.currentPage*e.perPage,e.total)," of ",e.total," results "),a(2),l("disabled",e.currentPage===1),a(5),l("ngForOf",e.getPageNumbers()),a(),l("disabled",e.currentPage===e.totalPages)}}function Mn(r,t){if(r&1){let e=b();n(0,"div")(1,"div",12)(2,"div",13),O(),n(3,"svg",14),m(4,"path",15),o(),s(5),_(6,sn,2,1,"span",16),o(),_(7,dn,7,3,"div",17),M(),n(8,"div",18)(9,"button",19),p("click",function(){u(e);let c=d();return C(c.openDeleteModalForSelected())}),O(),n(10,"svg",20),m(11,"rect",21)(12,"path",22),o(),s(13," Delete "),o(),M(),n(14,"button",23),p("click",function(){u(e);let c=d();return C(c.toggleBulkMode())}),O(),n(15,"svg",24),m(16,"path",25),o(),s(17," Bulk "),o(),M(),n(18,"button",26),p("click",function(){u(e);let c=d();return C(c.refreshWorkOrders())}),O(),n(19,"svg",24),m(20,"path",27),o()(),M(),n(21,"div",28)(22,"button",29),p("click",function(){u(e);let c=d();return C(c.setViewMode("grid"))}),O(),n(23,"svg",24),m(24,"path",30),o()(),M(),n(25,"button",31),p("click",function(){u(e);let c=d();return C(c.setViewMode("list"))}),O(),n(26,"svg",24),m(27,"path",32),o()()()()(),_(28,ln,15,0,"div",33)(29,mn,2,1,"div",34)(30,On,19,1,"div",35)(31,Cn,14,6,"div",36),M(),n(32,"app-delete-confirmation-modal",37),p("closeModal",function(){u(e);let c=d();return C(c.closeDeleteModal())})("confirmDelete",function(c){u(e);let g=d();return C(g.deleteSelected(c))}),o()()}if(r&2){let e=d();a(5),h(" ",e.workOrders.length," work orders "),a(),l("ngIf",e.getSelectedCount()>0),a(),l("ngIf",e.isBulkMode),a(2),l("disabled",e.getSelectedCount()===0),a(5),P("active",e.isBulkMode),a(4),l("disabled",e.isLoading),a(4),P("active",e.viewMode==="grid"),a(3),P("active",e.viewMode==="list"),a(3),l("ngIf",e.workOrders.length===0),a(),l("ngIf",e.workOrders.length>0&&e.viewMode==="grid"),a(),l("ngIf",e.workOrders.length>0&&e.viewMode==="list"),a(),l("ngIf",e.workOrders.length>0&&e.totalPages>1),a(),l("isOpen",e.showDeleteConfirmationModal)("selectedCount",e.selectedWorkOrders.size)("entitySingular","Work Order")("entityPlural","Work Orders")("warningText",null)}}function fn(r,t){if(r&1){let e=b();n(0,"app-edit-work-order-modal",114),p("modalClosed",function(){u(e);let c=d();return C(c.closeEditModal())})("workOrderUpdated",function(c){u(e);let g=d();return C(g.onWorkOrderUpdated(c))}),o()}if(r&2){let e=d();l("workOrder",e.selectedWorkOrder)("isOpen",e.isEditModalOpen)}}var Ce=class r{constructor(t){this.workOrderService=t}createWorkOrderRequested=new V;workOrders=[];viewMode="grid";isLoading=!0;isEditModalOpen=!1;selectedWorkOrder=null;currentPage=1;perPage=10;total=0;totalPages=0;selectedWorkOrders=new Set;isBulkMode=!1;showBulkActions=!1;bulkAction="";bulkTargetUser=null;bulkStatus="";bulkPriority="";showDeleteConfirmationModal=!1;Math=Math;subscription=new j;ngOnInit(){this.loadWorkOrders()}ngOnDestroy(){this.subscription.unsubscribe()}testEmptyState(){this.workOrders=[],this.total=0,this.currentPage=1,this.totalPages=0,this.isLoading=!1,console.log("WorkOrderListComponent: Empty state triggered manually")}getCurrentState(){return{workOrders:this.workOrders,workOrdersLength:this.workOrders?.length,isLoading:this.isLoading,total:this.total,currentPage:this.currentPage,totalPages:this.totalPages}}loadWorkOrders(t=1,e){this.isLoading=!0,this.currentPage=t;let i={page:this.currentPage,per_page:this.perPage};e&&(e.search&&e.search.trim()&&(i.search=e.search.trim()),e.status_id&&(i.status_id=e.status_id),e.priority_id&&(i.priority_id=e.priority_id),e.category_id&&(i.category_id=e.category_id),e.asset_id&&e.asset_id!==""&&(i.asset_id=e.asset_id),e.location_id&&e.location_id!==""&&(i.location_id=e.location_id),e.assigned_to&&e.assigned_to!==""&&(i.assigned_to=e.assigned_to),e.is_overdue!==void 0&&e.is_overdue!==!1&&(i.is_overdue=e.is_overdue),e.start_date&&e.start_date!==""&&(i.start_date=e.start_date),e.end_date&&e.end_date!==""&&(i.end_date=e.end_date),e.due_start_date&&e.due_start_date!==""&&(i.due_start_date=e.due_start_date),e.due_end_date&&e.due_end_date!==""&&(i.due_end_date=e.due_end_date),e.sortBy&&(i.sort_by=e.sortBy),e.sortOrder&&(i.sort_dir=e.sortOrder)),this.subscription.add(this.workOrderService.getWorkOrders(i).subscribe({next:c=>{this.workOrders=c.data.data||[],this.total=c.total||0,this.currentPage=c.current_page||1,this.perPage=c.per_page||10,this.totalPages=c.last_page||1,this.isLoading=!1},error:c=>{console.error("WorkOrderListComponent: Error loading work orders:",c),this.workOrders=[],this.isLoading=!1}}))}setViewMode(t){this.viewMode=t}refreshWorkOrders(){this.loadWorkOrders(this.currentPage)}onFiltersChanged(t){console.log("WorkOrderListComponent: Filters changed:",t),this.loadWorkOrders(1,t)}createWorkOrder(){this.createWorkOrderRequested.emit()}goToPage(t){t>=1&&t<=this.totalPages&&this.loadWorkOrders(t)}getPageNumbers(){let t=[];if(this.totalPages<=5)for(let i=1;i<=this.totalPages;i++)t.push(i);else{let i=Math.max(1,this.currentPage-Math.floor(2.5)),c=Math.min(this.totalPages,i+5-1);c-i+1<5&&(i=Math.max(1,c-5+1));for(let g=i;g<=c;g++)t.push(g)}return t}getStatusLabel(t){return{open:"Open",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[t]||t}getPriorityLabel(t){return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[t]||t}toggleBulkMode(){this.isBulkMode=!this.isBulkMode,this.isBulkMode||(this.selectedWorkOrders.clear(),this.showBulkActions=!1)}toggleWorkOrderSelection(t){this.selectedWorkOrders.has(t)?this.selectedWorkOrders.delete(t):this.selectedWorkOrders.add(t),this.showBulkActions=this.selectedWorkOrders.size>0}onCardSelectionChanged(t){let{workOrderId:e,selected:i}=t;i?this.selectedWorkOrders.add(e):this.selectedWorkOrders.delete(e),this.showBulkActions=this.selectedWorkOrders.size>0}selectAllWorkOrders(){this.workOrders.forEach(t=>this.selectedWorkOrders.add(t.id)),this.showBulkActions=!0}deselectAllWorkOrders(){this.selectedWorkOrders.clear(),this.showBulkActions=!1}getSelectedCount(){return this.selectedWorkOrders.size}isAllSelected(){return this.workOrders.length>0&&this.selectedWorkOrders.size===this.workOrders.length}isPartiallySelected(){return this.selectedWorkOrders.size>0&&this.selectedWorkOrders.size<this.workOrders.length}toggleSelectAll(){this.isAllSelected()?this.deselectAllWorkOrders():this.selectAllWorkOrders()}updateBulkStatus(t){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,status:t}));console.log("Bulk status update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}updateBulkPriority(t){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,priority:t}));console.log("Bulk priority update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}assignBulkWorkOrders(t){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(c=>({id:c,assigned_to:t}));console.log("Bulk assignment update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}deleteBulkWorkOrders(){if(this.selectedWorkOrders.size!==0&&confirm(`Are you sure you want to delete ${this.selectedWorkOrders.size} work order(s)?`)){let t=Array.from(this.selectedWorkOrders);console.log("Bulk delete:",t),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}}getAssigneeName(t){if(t.assigned_to){if(typeof t.assigned_to=="object"&&t.assigned_to!==null){let e=t.assigned_to,i=e.first_name||"",c=e.last_name||"";return`${i} ${c}`.trim()||"Unassigned"}return String(t.assigned_to)}return"Unassigned"}getAssetName(t){if(t.asset){if(typeof t.asset=="object"&&t.asset!==null){let e=t.asset;return e.name||e.asset_id||"No Asset"}return String(t.asset)}return"No Asset"}getLocationName(t){if(t.location){if(typeof t.location=="object"&&t.location!==null){let e=t.location;return e.name||e.full_path||"No Location"}return String(t.location)}return"No Location"}viewWorkOrderDetails(t){console.log("Viewing work order:",t)}editWorkOrder(t){this.selectedWorkOrder=t,this.isEditModalOpen=!0}deleteWorkOrder(t){t?.id&&(this.selectedWorkOrders.clear(),this.selectedWorkOrders.add(t.id),this.showDeleteConfirmationModal=!0)}closeDeleteModal(){this.showDeleteConfirmationModal=!1}openDeleteModalForSelected(){this.selectedWorkOrders.size!==0&&(this.showDeleteConfirmationModal=!0)}deleteSelected(t){let e=Array.from(this.selectedWorkOrders);if(e.length===0){this.showDeleteConfirmationModal=!1;return}this.isLoading=!0;let i=0,c=()=>{i++,i>=e.length&&(this.showDeleteConfirmationModal=!1,this.selectedWorkOrders.clear(),this.loadWorkOrders(this.currentPage))};e.forEach(g=>{this.subscription.add(this.workOrderService.deleteWorkOrder(g).subscribe({next:()=>c(),error:E=>{console.error("Failed to delete work order:",E),c()}}))})}closeEditModal(){this.isEditModalOpen=!1,this.selectedWorkOrder=null}onWorkOrderUpdated(t){let e=this.workOrders.findIndex(i=>i.id===t.id);e!==-1&&(this.workOrders[e]=t),this.closeEditModal(),console.log("Work order updated successfully:",t)}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-list"]],outputs:{createWorkOrderRequested:"createWorkOrderRequested"},standalone:!1,decls:5,vars:3,consts:[[1,"list-section"],["class","loading-state",4,"ngIf"],[3,"filtersChanged"],[4,"ngIf"],[3,"workOrder","isOpen","modalClosed","workOrderUpdated",4,"ngIf"],[1,"loading-state"],[1,"loading-skeleton"],[1,"skeleton-header"],[1,"skeleton-filters"],[1,"skeleton-cards"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"list-header"],[1,"orders-count","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 1 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],["class","selected-count",4,"ngIf"],["class","bulk-operations",4,"ngIf"],[1,"header-actions"],["title","Delete Selected",1,"bulk-delete-btn",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["x","4","y","4","width","16","height","16","rx","2","stroke-width","2"],["d","M8 8l8 8M8 16l8-8","stroke-width","2"],["title","Bulk Operations",1,"bulk-mode-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["title","Refresh",1,"refresh-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"view-toggle"],["title","Grid View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["title","List View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["class","empty-state",4,"ngIf"],["class","work-orders-grid",4,"ngIf"],["class","work-orders-list",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"closeModal","confirmDelete","isOpen","selectedCount","entitySingular","entityPlural","warningText"],[1,"selected-count"],[1,"bulk-operations"],[1,"bulk-selection"],[1,"select-all-label"],["type","checkbox",1,"select-all-checkbox",3,"change","checked","indeterminate"],[1,"select-all-text"],["class","bulk-actions",4,"ngIf"],[1,"bulk-actions"],[1,"bulk-action-group"],[1,"bulk-action-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"bulk-delete-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-text"],[1,"empty-title"],[1,"empty-description"],[1,"empty-actions"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"work-orders-grid"],["class","work-order-card-item",3,"workOrder","showBulkSelection","isSelected","editRequested","deleteRequested","selectionChanged",4,"ngFor","ngForOf"],[1,"work-order-card-item",3,"editRequested","deleteRequested","selectionChanged","workOrder","showBulkSelection","isSelected"],[1,"work-orders-list"],[1,"list-table-header"],[1,"list-table-row"],[1,"list-table-cell","header-cell"],[1,"list-table-body"],["class","list-table-row hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"list-table-row","hover:bg-gray-50"],[1,"list-table-cell"],[1,"work-order-info"],[1,"work-order-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"work-order-details"],[1,"work-order-title"],["class","work-order-description",4,"ngIf"],[1,"badges-container"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],[1,"assignee-asset-info"],[1,"info-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[1,"location-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"due-date-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"created-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"actions-container"],["title","View Details",1,"action-btn","view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Work Order",1,"action-btn","edit-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"work-order-description"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"page-number",3,"click"],[3,"modalClosed","workOrderUpdated","workOrder","isOpen"]],template:function(e,i){e&1&&(n(0,"div",0),_(1,an,6,2,"div",1),n(2,"app-work-order-filters",2),p("filtersChanged",function(g){return i.onFiltersChanged(g)}),o(),_(3,Mn,33,20,"div",3),o(),_(4,fn,1,2,"app-edit-work-order-modal",4)),e&2&&(a(),l("ngIf",i.isLoading),a(2),l("ngIf",!i.isLoading),a(),l("ngIf",i.isEditModalOpen))},dependencies:[We,F,I,He,je,Be,ue,ce],styles:[".list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding:1rem;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#374151;display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:.875rem;color:#2563eb;font-weight:600}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;margin:0 2rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{width:1rem;height:1rem;accent-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-text[_ngcontent-%COMP%]{font-weight:500}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:#fff;color:#374151;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #ef4444;border-radius:6px;background:#fff;color:#ef4444;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:36px;padding:0 12px;border-radius:10px;background:#fef2f2;color:#dc2626;border:1px solid #fee2e2;transition:background .2s ease}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem .75rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;gap:.5rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]:hover{background:#1d4ed8}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:.25rem;background:#f3f4f6;border-radius:8px;padding:.25rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#e5e7eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn.active[_ngcontent-%COMP%]{background:#fff;color:#2563eb;box-shadow:0 1px 3px #0000001a}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{height:60px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-filters[_ngcontent-%COMP%]{height:50px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{height:200px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:12px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:3rem 2rem;text-align:center}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:480px;margin:0 auto}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:#9ca3af;margin-bottom:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5rem;height:5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 .75rem;line-height:1.4}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0;line-height:1.6;max-width:400px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;text-decoration:none;transition:all .2s ease;border:none;cursor:pointer;min-width:140px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;box-shadow:0 1px 3px #2563eb4d}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #2563eb66}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af;transform:translateY(-1px)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]{transition:transform .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .work-order-card-item.list-view[_ngcontent-%COMP%]{min-height:auto;padding:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px 8px 0 0;border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:0 0 8px 8px;background:#fff}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center;border-bottom:1px solid #f3f4f6;transition:background-color .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;background:#eff6ff;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#2563eb;flex-shrink:0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:.25rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.4}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;text-transform:capitalize;text-align:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-in_progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:none;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]:hover{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:1rem;margin-top:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-size:.875rem;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease;min-width:2.5rem;text-align:center}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}@media (max-width: 768px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch;padding:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{align-self:center;flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{order:-1}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:200px}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem;padding:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}@media (max-width: 480px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{gap:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.375rem .5rem;min-width:2rem;font-size:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.125rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:.625rem 1.25rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{padding:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{padding:.375rem 0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.125rem .5rem;font-size:.625rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.875rem;height:.875rem}}"]})};function hn(r,t){r&1&&(n(0,"div",3)(1,"div",4),m(2,"div",5),n(3,"span",6),s(4,"Loading stats..."),o()()())}function bn(r,t){if(r&1&&(n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),s(4,"Total Work Orders"),o(),n(5,"div",11),O(),n(6,"svg",12),m(7,"path",13),o()()(),M(),n(8,"div",14),s(9),o(),n(10,"div",15),s(11,"Work orders in system"),o()(),n(12,"div",16)(13,"div",9)(14,"div",10),s(15,"Open"),o(),n(16,"div",11),O(),n(17,"svg",12),m(18,"path",17),o()()(),M(),n(19,"div",14),s(20),o(),n(21,"div",15),s(22,"Awaiting assignment"),o()(),n(23,"div",18)(24,"div",9)(25,"div",10),s(26,"In Progress"),o(),n(27,"div",11),O(),n(28,"svg",12),m(29,"path",19),o()()(),M(),n(30,"div",14),s(31),o(),n(32,"div",15),s(33,"Under maintenance"),o()(),n(34,"div",20)(35,"div",9)(36,"div",10),s(37,"Completed"),o(),n(38,"div",11),O(),n(39,"svg",12),m(40,"path",21),o()()(),M(),n(41,"div",14),s(42),o(),n(43,"div",15),s(44,"Closed successfully"),o()()()),r&2){let e=d();a(9),f(e.getTotalCount()),a(11),f(e.getStatusCount("open")),a(11),f(e.getStatusCount("in-progress")),a(11),f(e.getStatusCount("completed"))}}var Me=class r{constructor(t){this.workOrderService=t}stats=null;isLoading=!0;subscription=new j;ngOnInit(){this.loadStats()}ngOnDestroy(){this.subscription.unsubscribe()}loadStats(){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderStatistics().subscribe({next:t=>{console.log("Work order stats loaded:",t),this.stats=t,this.isLoading=!1},error:t=>{console.error("Error loading stats:",t),this.isLoading=!1,this.stats={status_counts:{},priority_counts:{},overdue_count:0,recent_created:0,recent_completed:0}}}))}getIconClass(t){return{wrench:"fas fa-wrench",warning:"fas fa-exclamation-triangle",clock:"fas fa-clock",check:"fas fa-check-circle"}[t]||"fas fa-circle"}getTotalCount(){return this.stats?.status_counts?Object.values(this.stats.status_counts).reduce((t,e)=>t+e,0):0}getStatusCount(t){return this.stats?.status_counts?.[t]||0}getPriorityCount(t){return this.stats?.priority_counts?.[t]||0}getOverdueCount(){return this.stats?.overdue_count||0}getRecentCreated(){return this.stats?.recent_created||0}getRecentCompleted(){return this.stats?.recent_completed||0}hasData(){return!!(this.stats&&(Object.keys(this.stats.status_counts||{}).length>0||Object.keys(this.stats.priority_counts||{}).length>0||this.stats.overdue_count>0||this.stats.recent_created>0||this.stats.recent_completed>0))}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-stats"]],standalone:!1,decls:3,vars:2,consts:[[1,"stats-section"],["class","loading-state",4,"ngIf"],["class","stats-cards",4,"ngIf"],[1,"loading-state"],[1,"loading-wrap"],[1,"spinner"],[1,"loading-text"],[1,"stats-cards"],[1,"stat-card","theme-blue"],[1,"card-top"],[1,"title"],[1,"badge"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"badge-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V7a2 2 0 00-2-2H6a2 2 0 00-2 2v6m16 0v4a2 2 0 01-2 2H6a2 2 0 01-2-2v-4m16 0H4"],[1,"value"],[1,"subtitle"],[1,"stat-card","theme-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4"],[1,"stat-card","theme-orange"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3"],[1,"stat-card","theme-purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(e,i){e&1&&(n(0,"div",0),_(1,hn,5,0,"div",1)(2,bn,45,4,"div",2),o()),e&2&&(a(),l("ngIf",i.isLoading),a(),l("ngIf",!i.isLoading))},dependencies:[I],styles:[".stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:14px;padding:16px 18px;border:1px solid #e5e7eb;box-shadow:0 4px 16px #0206170d;transition:transform .2s ease,box-shadow .2s ease}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #02061714}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .card-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#334155}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f61f;border-radius:10px;padding:6px;display:inline-flex;align-items:center;justify-content:center}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#2563eb}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#0f172a;margin:2px 0 6px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:13px;color:#6b7280}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]{background:#f0f7ff;border-color:#dbeafe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f626}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]{background:#effcf4;border-color:#d1fae5}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#10b98126}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]{background:#fff7ed;border-color:#fed7aa}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f59e0b26}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]{background:#f6f3ff;border-color:#ddd6fe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#8b5cf626}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 1024px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}}@media (max-width: 768px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px}}"]})};var wn=()=>[0,1,2,3,4];function kn(r,t){r&1&&(n(0,"div",4),m(1,"div",5),n(2,"p"),s(3,"Loading work order analytics..."),o()())}function xn(r,t){if(r&1){let e=b();n(0,"div",6),O(),n(1,"svg",7),m(2,"path",8),o(),M(),n(3,"h3",9),s(4),o(),n(5,"button",10),p("click",function(){u(e);let c=d();return C(c.refreshData())}),O(),n(6,"svg",11),m(7,"path",12),o(),s(8," Retry "),o()()}if(r&2){let e=d();a(4),f(e.error)}}function yn(r,t){if(r&1&&(n(0,"div",23)(1,"h3",24),s(2,"Performance Metrics"),o(),n(3,"div",25)(4,"div",26)(5,"div",27)(6,"h4",28),s(7,"Average Resolution Time"),o(),O(),n(8,"svg",29),m(9,"path",30),o()(),M(),n(10,"div",31),s(11),o(),n(12,"div",32),s(13),o()(),n(14,"div",26)(15,"div",27)(16,"h4",28),s(17,"Completion Rate"),o(),O(),n(18,"svg",29),m(19,"path",33),o()(),M(),n(20,"div",31),s(21),o(),n(22,"div",34),s(23,"Target: 85%"),o()(),n(24,"div",26)(25,"div",27)(26,"h4",28),s(27,"Overdue Work Orders"),o(),O(),n(28,"svg",29),m(29,"path",8),o()(),M(),n(30,"div",35),s(31),o(),n(32,"div",36),s(33),o()(),n(34,"div",26)(35,"div",27)(36,"h4",28),s(37,"Active Technicians"),o(),O(),n(38,"svg",29),m(39,"path",37),o()(),M(),n(40,"div",31),s(41),o(),n(42,"div",38),s(43,"Active right now"),o()()()()),r&2){let e=d(2);a(11),f(e.formatDays(e.analyticsData.average_resolution_time_days)),a(2),h(" ",e.analyticsData.average_resolution_time_days||0," days average "),a(8),f(e.formatPercentage(e.analyticsData.completion_rate_percentage)),a(10),f(e.analyticsData.overdue_work_orders||0),a(2),h(" ",e.analyticsData.overdue_work_orders||0," overdue "),a(8),f(e.analyticsData.active_technicians||0)}}function Sn(r,t){if(r&1&&(n(0,"div",56),m(1,"div",57),n(2,"span",58),s(3),o(),n(4,"span",59),s(5),o(),n(6,"span",60),s(7),o()()),r&2){let e=t.$implicit,i=d(4);a(),y("background-color",e.color),a(2),f(e.name),a(2),f(e.value),a(2),h(" (",i.formatPercentage(i.getStatusPercentage(e.value,i.totalStatusCount)),") ")}}function En(r,t){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),s(3,"Work Order Status Distribution"),o(),n(4,"p",46),s(5),o()(),n(6,"div",47)(7,"div",48)(8,"div",49),_(9,Sn,8,5,"div",50),o(),n(10,"div",51)(11,"div",52)(12,"div",53)(13,"span",54),s(14),o(),n(15,"span",55),s(16,"Total"),o()()()()()()()),r&2){let e=d(3);a(5),h("Current breakdown by status (",e.totalStatusCount," total)"),a(4),l("ngForOf",e.statusChartData),a(5),f(e.totalStatusCount)}}function Wn(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),s(2),o(),n(3,"div",66),m(4,"div",67),n(5,"span",68),s(6),o()()()),r&2){let e=t.$implicit,i=d(4);a(2),f(e.name),a(2),y("width",i.getStatusPercentage(e.value,i.totalStatusCount)+"%")("background-color",e.color),a(2),f(e.value)}}function In(r,t){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),s(3,"Priority Distribution"),o(),n(4,"p",46),s(5,"Work orders by priority level with trends"),o()(),n(6,"div",47)(7,"div",61)(8,"div",62),_(9,Wn,7,6,"div",63),o()()()()),r&2){let e=d(3);a(9),l("ngForOf",e.priorityChartData)}}function Tn(r,t){r&1&&m(0,"div",80)}function Vn(r,t){if(r&1&&(n(0,"span"),s(1),o()),r&2){let e=t.$implicit;a(),f(e.month)}}function Fn(r,t){if(r&1&&(n(0,"div",69)(1,"div",44)(2,"h3",45),s(3,"Monthly Performance Trend"),o(),n(4,"p",46),s(5,"Work orders created vs completed with efficiency tracking"),o()(),n(6,"div",47)(7,"div",70)(8,"div",71)(9,"span"),s(10,"80"),o(),n(11,"span"),s(12,"60"),o(),n(13,"span"),s(14,"40"),o(),n(15,"span"),s(16,"20"),o(),n(17,"span"),s(18,"0"),o()(),n(19,"div",72)(20,"div",73),_(21,Tn,1,0,"div",74),o(),n(22,"div",75),m(23,"div",76)(24,"div",77),o(),n(25,"div",78),_(26,Vn,2,1,"span",79),o()()()()()),r&2){let e=d(3);a(21),l("ngForOf",Ee(6,wn)),a(2),y("height","100%"),a(),y("height","80%"),a(2),l("ngForOf",e.monthlyTrendData)}}function An(r,t){if(r&1&&(n(0,"div",39)(1,"div",40),_(2,En,17,3,"div",41)(3,In,10,1,"div",41),o(),_(4,Fn,27,7,"div",42),o()),r&2){let e=d(2);a(2),l("ngIf",e.hasStatusDistribution),a(),l("ngIf",e.hasPriorityDistribution),a(),l("ngIf",e.hasMonthlyTrends)}}function Ln(r,t){if(r&1&&(n(0,"div",85)(1,"div",86)(2,"h4",87),s(3),o(),n(4,"div",88),s(5),o()(),n(6,"div",89)(7,"div",90)(8,"span",91),s(9,"Completed:"),o(),n(10,"span",31),s(11),o()(),n(12,"div",90)(13,"span",91),s(14,"Avg Time:"),o(),n(15,"span",31),s(16),o()()(),n(17,"div",92),m(18,"div",93),o()()),r&2){let e=t.$implicit,i=d(3);a(3),f(e.name),a(2),f(e.score.toFixed(2)),a(6),f(e.completed),a(5),f(i.formatDays(e.avgTime)),a(2),y("width",e.score*100+"%")}}function Dn(r,t){if(r&1&&(n(0,"div",81)(1,"h3",24),s(2,"Top Technician Performance"),o(),n(3,"p",82),s(4,"Individual performance metrics for this month"),o(),n(5,"div",83),_(6,Ln,19,6,"div",84),o()()),r&2){let e=d(2);a(6),l("ngForOf",e.technicianData)}}function zn(r,t){r&1&&(n(0,"div",94),O(),n(1,"svg",95),m(2,"path",96),o(),M(),n(3,"h3",97),s(4,"No Analytics Data Available"),o(),n(5,"p",98),s(6,"Work order analytics data will appear here once available."),o()())}function Hn(r,t){if(r&1){let e=b();n(0,"div")(1,"div",13)(2,"div",14)(3,"h2",15),s(4,"Work Order Analytics"),o(),n(5,"p",16),s(6,"Performance insights and trends"),o()(),n(7,"div",17)(8,"button",18),p("click",function(){u(e);let c=d();return C(c.refreshData())}),O(),n(9,"svg",11),m(10,"path",12),o(),s(11," Refresh "),o()()(),_(12,yn,44,6,"div",19)(13,An,5,3,"div",20)(14,Dn,7,1,"div",21)(15,zn,7,0,"div",22),o()}if(r&2){let e=d();a(12),l("ngIf",e.analyticsData),a(),l("ngIf",e.analyticsData),a(),l("ngIf",e.hasTechnicianData),a(),l("ngIf",e.analyticsData&&!e.hasStatusDistribution&&!e.hasPriorityDistribution&&!e.hasMonthlyTrends&&!e.hasTechnicianData)}}var te=class r{constructor(t){this.workOrderService=t}destroy$=new Xe;loading=!1;error=null;analyticsData=null;statisticsData=null;statusChartData=[];priorityChartData=[];monthlyTrendData=[];technicianData=[];ngOnInit(){this.loadAnalytics()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalytics(){this.loading=!0,this.error=null,Promise.all([this.loadWorkOrderAnalytics(),this.loadWorkOrderStatistics()]).finally(()=>{this.loading=!1})}loadWorkOrderAnalytics(){return new Promise(t=>{this.workOrderService.getWorkOrderAnalytics().pipe(Ye(this.destroy$)).subscribe({next:e=>{this.analyticsData=e,this.prepareChartData(),t()},error:e=>{console.error("Error loading work order analytics:",e),this.error="Failed to load analytics data. Please try again.",t()}})})}loadWorkOrderStatistics(){return new Promise(t=>{this.workOrderService.getWorkOrderStatistics().pipe(Ye(this.destroy$)).subscribe({next:e=>{this.statisticsData=e,t()},error:e=>{console.error("Error loading work order statistics:",e),t()}})})}prepareChartData(){this.analyticsData&&(this.statusChartData=[{name:"Completed",value:this.analyticsData.status_distribution?.completed||0,color:"#10b981"},{name:"Open",value:this.analyticsData.status_distribution?.open||0,color:"#ef4444"},{name:"In Progress",value:this.analyticsData.status_distribution?.["in-progress"]||0,color:"#3b82f6"},{name:"On Hold",value:this.analyticsData.status_distribution?.on_hold||0,color:"#f59e0b"},{name:"Cancelled",value:this.analyticsData.status_distribution?.cancelled||0,color:"#6b7280"}],this.priorityChartData=[{name:"Critical",value:this.analyticsData.priority_distribution?.critical||0,color:"#dc2626"},{name:"High",value:this.analyticsData.priority_distribution?.high||0,color:"#f59e0b"},{name:"Medium",value:this.analyticsData.priority_distribution?.medium||0,color:"#3b82f6"},{name:"Low",value:this.analyticsData.priority_distribution?.low||0,color:"#10b981"}],this.analyticsData.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0?this.monthlyTrendData=this.analyticsData.monthly_performance_trend.map(t=>({month:`${t.year}-${t.month.toString().padStart(2,"0")}`,created:t.created_count||0,completed:t.completed_count||0})):this.monthlyTrendData=[],this.analyticsData.top_technician_performance&&this.analyticsData.top_technician_performance.length>0?this.technicianData=this.analyticsData.top_technician_performance.map(t=>({name:t.assignedTo?`${t.assignedTo.first_name} ${t.assignedTo.last_name}`:"Unknown",score:Math.round(t.completed_count/Math.max(t.avg_resolution_days,1)*100),completed:t.completed_count||0,avgTime:t.avg_resolution_days||0})):this.technicianData=[])}refreshData(){this.loadAnalytics()}formatDays(t){return!t||t<=0?"0 days":t===1?"1 day":`${t} days`}formatPercentage(t){return!t||isNaN(t)?"0.0%":`${t.toFixed(1)}%`}getStatusPercentage(t,e){return!e||e<=0?0:t/e*100}get hasStatusDistribution(){return!!this.analyticsData?.status_distribution}get hasPriorityDistribution(){return!!this.analyticsData?.priority_distribution}get hasMonthlyTrends(){return!!(this.analyticsData?.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0)}get hasTechnicianData(){return!!(this.analyticsData?.top_technician_performance&&this.analyticsData.top_technician_performance.length>0)}get totalStatusCount(){return this.analyticsData?.status_distribution?Object.values(this.analyticsData.status_distribution).reduce((t,e)=>t+e,0):0}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-work-order-analytics"]],decls:4,vars:3,consts:[[1,"work-order-analytics"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"error-title"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"analytics-header"],[1,"header-left"],[1,"main-title"],[1,"subtitle"],[1,"header-right"],["title","Refresh Data",1,"refresh-btn",3,"click"],["class","metrics-section",4,"ngIf"],["class","charts-section",4,"ngIf"],["class","technician-section",4,"ngIf"],["class","no-data-message",4,"ngIf"],[1,"metrics-section"],[1,"section-title"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-header"],[1,"metric-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"metric-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-value"],[1,"metric-trend","positive"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-target"],[1,"metric-value","warning"],[1,"metric-trend"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"metric-status"],[1,"charts-section"],[1,"chart-row"],["class","chart-card",4,"ngIf"],["class","chart-card full-width",4,"ngIf"],[1,"chart-card"],[1,"chart-header"],[1,"chart-title"],[1,"chart-subtitle"],[1,"chart-container"],[1,"pie-chart"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"chart-placeholder"],[1,"chart-circle"],[1,"chart-center"],[1,"total-count"],[1,"total-label"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"legend-percentage"],[1,"bar-chart"],[1,"chart-bars"],["class","bar-item",4,"ngFor","ngForOf"],[1,"bar-item"],[1,"bar-label"],[1,"bar-container"],[1,"bar"],[1,"bar-value"],[1,"chart-card","full-width"],[1,"trend-chart"],[1,"chart-y-axis"],[1,"chart-area"],[1,"grid-lines"],["class","grid-line",4,"ngFor","ngForOf"],[1,"trend-lines"],["title","Work orders created",1,"trend-line","created"],["title","Work orders completed",1,"trend-line","completed"],[1,"chart-x-axis"],[4,"ngFor","ngForOf"],[1,"grid-line"],[1,"technician-section"],[1,"section-subtitle"],[1,"technician-grid"],["class","technician-card",4,"ngFor","ngForOf"],[1,"technician-card"],[1,"tech-header"],[1,"tech-name"],[1,"tech-score"],[1,"tech-metrics"],[1,"tech-metric"],[1,"metric-label"],[1,"performance-bar"],[1,"bar-fill"],[1,"no-data-message"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"no-data-title"],[1,"no-data-description"]],template:function(e,i){e&1&&(n(0,"div",0),_(1,kn,4,0,"div",1)(2,xn,9,1,"div",2)(3,Hn,16,4,"div",3),o()),e&2&&(a(),l("ngIf",i.loading),a(),l("ngIf",i.error&&!i.loading),a(),l("ngIf",!i.loading&&!i.error))},dependencies:[Te,F,I],styles:['.work-order-analytics[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f8fafc;min-height:100vh}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:3px solid #e2e8f0;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.error-state[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:#dc2626;font-size:1.25rem;font-weight:600;margin:1rem 0}.error-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;transition:all .2s}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.no-data-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.no-data-message[_ngcontent-%COMP%]   .no-data-title[_ngcontent-%COMP%]{color:#374151;font-size:1.5rem;font-weight:600;margin:1rem 0 .5rem}.no-data-message[_ngcontent-%COMP%]   .no-data-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.analytics-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem;margin:0}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:none;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .2s}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;transform:translateY(-1px)}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 1rem}.section-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0 0 1.5rem}.metrics-section[_ngcontent-%COMP%]{margin-bottom:2rem}.metrics-section[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;margin:0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;color:#6b7280}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend.positive[_ngcontent-%COMP%]{color:#10b981}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-target[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-status[_ngcontent-%COMP%]{font-size:.875rem;color:#10b981;font-weight:500}.charts-section[_ngcontent-%COMP%]{margin-bottom:2rem}.charts-section[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem;margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.charts-section[_ngcontent-%COMP%]   .chart-card.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{min-height:300px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{flex:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;min-width:80px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-percentage[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background:conic-gradient(#10b981 0deg 174deg,#ef4444 174deg 234deg,#3b82f6 234deg 264deg,#f59e0b 264deg 285deg,#6b7280 285deg 360deg);display:flex;align-items:center;justify-content:center;position:relative}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:120px;height:120px;background:#fff;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]{text-align:center;z-index:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#1e293b}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{min-width:60px;font-weight:500;color:#374151;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:2rem;border-radius:.25rem;min-width:20px;transition:width .3s ease}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{display:flex;height:300px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-right:1rem;font-size:.75rem;color:#6b7280;font-weight:500}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]{flex:1;position:relative}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]{position:absolute;left:0;right:0;height:1px;background-color:#f3f4f6}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(1){top:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(2){top:25%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(3){top:50%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(4){top:75%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(5){top:100%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line[_ngcontent-%COMP%]{position:absolute;width:100%;background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.1) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.created[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.completed[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(16,185,129,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .chart-x-axis[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:0 1rem;font-size:.75rem;color:#6b7280;font-weight:500}.technician-section[_ngcontent-%COMP%]{margin-bottom:2rem}.technician-section[_ngcontent-%COMP%]   .technician-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-score[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3b82f6}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]{margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]{height:.5rem;background-color:#f3f4f6;border-radius:.25rem;overflow:hidden}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#3b82f6;border-radius:.25rem;transition:width .3s ease}.insights-section[_ngcontent-%COMP%]{margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid}.insights-section[_ngcontent-%COMP%]   .insight-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.insights-section[_ngcontent-%COMP%]   .insight-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insight-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insight-card.optimization[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-tag[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;line-height:1.5}@media (max-width: 768px){.work-order-analytics[_ngcontent-%COMP%]{padding:1rem}.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.metrics-grid[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.pie-chart[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:150px;height:150px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{width:90px;height:90px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:1.5rem}.technician-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};function Bn(r,t){r&1&&(n(0,"div",15),O(),n(1,"svg",10),m(2,"path",16),o(),M(),n(3,"span"),s(4,"Work order created successfully!"),o()())}function $n(r,t){if(r&1&&(n(0,"div",17),O(),n(1,"svg",10),m(2,"path",18),o(),M(),n(3,"span"),s(4),o()()),r&2){let e=d();a(4),f(e.errorMessage)}}function Rn(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("title")," ")}}function Nn(r,t){r&1&&(n(0,"span",64),s(1,"Select status"),o())}function Gn(r,t){if(r&1&&(n(0,"div",65)(1,"div",66),O(),n(2,"svg",67),m(3,"path",16),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let e=d(2);a(),y("background-color",e.getStatusColor()+"20"),a(),y("color",e.getStatusColor()),a(3),f(e.selectedStatus.name)}}function Un(r,t){if(r&1){let e=b();n(0,"button",72),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.selectStatus(c))}),n(1,"div",73)(2,"div",74),O(),n(3,"svg",67),m(4,"path",16),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",77),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(3);P("selected",(i.selectedStatus==null?null:i.selectedStatus.id)===e.id),a(2),y("background-color",i.getStatusColor()+"20"),a(),y("color",i.getStatusColor()),a(4),f(e.name),a(2),f(i.getStatusDescription())}}function qn(r,t){if(r&1&&(n(0,"div",69)(1,"div",70),s(2,"Select status"),o(),_(3,Un,10,8,"button",71),o()),r&2){let e=d(2);a(3),l("ngForOf",e.statusOptions)}}function Yn(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("status_id")," ")}}function Qn(r,t){r&1&&(n(0,"span",64),s(1,"Select priority"),o())}function Zn(r,t){if(r&1&&(n(0,"div",65)(1,"div",78),O(),n(2,"svg",67),m(3,"path",79),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let e=d(2);a(),y("background-color",e.getPriorityColor()+"20"),a(),y("color",e.getPriorityColor()),a(3),f(e.selectedPriority.name)}}function Jn(r,t){if(r&1){let e=b();n(0,"button",72),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.selectPriority(c))}),n(1,"div",73)(2,"div",74),O(),n(3,"svg",67),m(4,"path",79),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",77),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(3);P("selected",(i.selectedPriority==null?null:i.selectedPriority.id)===e.id),a(2),y("background-color",i.getPriorityColor()+"20"),a(),y("color",i.getPriorityColor()),a(4),f(e.name),a(2),f(i.getPriorityDescription())}}function Kn(r,t){if(r&1&&(n(0,"div",69)(1,"div",70),s(2,"Select priority"),o(),_(3,Jn,10,8,"button",71),o()),r&2){let e=d(2);a(3),l("ngForOf",e.priorityOptions)}}function Xn(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("priority_id")," ")}}function eo(r,t){r&1&&(n(0,"span",64),s(1,"Select category (optional)"),o())}function to(r,t){if(r&1&&(n(0,"div",65)(1,"div",80),O(),n(2,"svg",67),m(3,"path",81),o()(),M(),n(4,"span",68),s(5),o()()),r&2){let e=d(2);a(5),f(e.selectedCategory.name)}}function no(r,t){if(r&1){let e=b();n(0,"button",72),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.selectCategory(c))}),n(1,"div",73)(2,"div",74),O(),n(3,"svg",67),m(4,"path",81),o()(),M(),n(5,"div",75)(6,"div",76),s(7),o(),n(8,"div",77),s(9),o()()()()}if(r&2){let e=t.$implicit,i=d(3);P("selected",(i.selectedCategory==null?null:i.selectedCategory.id)===e.id),a(7),f(e.name),a(2),f(i.getCategoryDescription(e))}}function oo(r,t){if(r&1){let e=b();n(0,"div",69)(1,"div",70),s(2,"Select category"),o(),n(3,"button",72),p("click",function(){u(e);let c=d(2);return C(c.selectCategory(null))}),n(4,"div",73)(5,"div",82),O(),n(6,"svg",67),m(7,"path",83),o()(),M(),n(8,"div",75)(9,"div",76),s(10,"No Category"),o(),n(11,"div",77),s(12,"Work order without specific category"),o()()()(),_(13,no,10,4,"button",71),o()}if(r&2){let e=d(2);a(13),l("ngForOf",e.categoryOptions)}}function ro(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("category_id")," ")}}function io(r,t){if(r&1&&(n(0,"option",84),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),h(" ",e.name||e.asset_name||"Asset "+e.id," ")}}function ao(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("asset_id")," ")}}function so(r,t){if(r&1&&(n(0,"option",84),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),h(" ",e.name||"Location "+e.id," ")}}function co(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("location_id")," ")}}function lo(r,t){if(r&1&&(n(0,"option",84),s(1),o()),r&2){let e=t.$implicit;l("value",e.id),a(),S(" ",e.first_name," ",e.last_name," ")}}function go(r,t){if(r&1&&(n(0,"div",63),s(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("assigned_to")," ")}}function mo(r,t){r&1&&(O(),n(0,"svg",85),m(1,"circle",86)(2,"path",87),o())}function _o(r,t){if(r&1){let e=b();n(0,"div",19),p("click",function(c){u(e);let g=d();return C(g.closeCreateModal(c))}),n(1,"div",20),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",21),O(),n(3,"svg",22),m(4,"path",23)(5,"path",24),o(),M(),n(6,"h2"),s(7,"Create New Work Order"),o()(),n(8,"div",25)(9,"form",26),p("ngSubmit",function(){u(e);let c=d();return C(c.onSubmit())}),n(10,"div",27)(11,"div",28),O(),n(12,"svg",29),m(13,"path",30),o(),M(),n(14,"h3"),s(15,"Basic Information"),o()(),n(16,"div",31)(17,"div",32)(18,"label"),s(19,"Title "),n(20,"span",33),s(21,"*"),o()(),m(22,"input",34),_(23,Rn,2,1,"div",35),o()(),n(24,"div",36)(25,"div",32)(26,"label"),s(27,"Status "),n(28,"span",33),s(29,"*"),o()(),n(30,"div",37),p("click",function(c){return u(e),C(c.stopPropagation())}),n(31,"button",38),p("click",function(){u(e);let c=d();return C(c.toggleStatusDropdown())}),n(32,"div",39),_(33,Nn,2,0,"span",40)(34,Gn,6,5,"div",41),O(),n(35,"svg",42),m(36,"path",43),o()()(),_(37,qn,4,1,"div",44),o(),_(38,Yn,2,1,"div",35),o(),M(),n(39,"div",32)(40,"label"),s(41,"Priority "),n(42,"span",33),s(43,"*"),o()(),n(44,"div",45),p("click",function(c){return u(e),C(c.stopPropagation())}),n(45,"button",38),p("click",function(){u(e);let c=d();return C(c.togglePriorityDropdown())}),n(46,"div",39),_(47,Qn,2,0,"span",40)(48,Zn,6,5,"div",41),O(),n(49,"svg",42),m(50,"path",43),o()()(),_(51,Kn,4,1,"div",44),o(),_(52,Xn,2,1,"div",35),o()(),M(),n(53,"div",36)(54,"div",32)(55,"label"),s(56,"Category (Optional)"),o(),n(57,"div",46),p("click",function(c){return u(e),C(c.stopPropagation())}),n(58,"button",38),p("click",function(){u(e);let c=d();return C(c.toggleCategoryDropdown())}),n(59,"div",39),_(60,eo,2,0,"span",40)(61,to,6,1,"div",41),O(),n(62,"svg",42),m(63,"path",43),o()()(),_(64,oo,14,1,"div",44),o(),_(65,ro,2,1,"div",35),o(),M(),n(66,"div",32)(67,"label"),s(68,"Due Date"),o(),m(69,"input",47),o()(),n(70,"div",31)(71,"div",32)(72,"label"),s(73,"Description"),o(),m(74,"textarea",48),o()(),n(75,"div",36)(76,"div",32)(77,"label"),s(78,"Estimated Hours"),o(),m(79,"input",49),o(),n(80,"div",32)(81,"label"),s(82,"Notes"),o(),m(83,"textarea",50),o()()(),n(84,"div",27)(85,"div",28),O(),n(86,"svg",29),m(87,"path",51)(88,"path",52),o(),M(),n(89,"h3"),s(90,"Assignment & Location"),o()(),n(91,"div",36)(92,"div",32)(93,"label"),s(94,"Asset (Optional)"),o(),n(95,"select",53)(96,"option",54),s(97),o(),_(98,io,2,2,"option",55),o(),_(99,ao,2,1,"div",35),n(100,"div",56)(101,"small"),s(102,"Select an existing asset from your assets list"),o()()(),n(103,"div",32)(104,"label"),s(105,"Location (Optional)"),o(),n(106,"select",57)(107,"option",54),s(108),o(),_(109,so,2,2,"option",55),o(),_(110,co,2,1,"div",35),n(111,"div",56)(112,"small"),s(113,"Select an existing location from your locations list"),o()()()(),n(114,"div",36)(115,"div",32)(116,"label"),s(117,"Assign To Team Member (Optional)"),o(),n(118,"select",58)(119,"option",54),s(120),o(),_(121,lo,2,3,"option",55),o(),_(122,go,2,1,"div",35),n(123,"div",56)(124,"small"),s(125,"Select an existing team member to assign the work order to"),o()()()()()()(),n(126,"div",59)(127,"button",60),p("click",function(){u(e);let c=d();return C(c.closeCreateModal())}),s(128,"Cancel"),o(),n(129,"button",61),p("click",function(){u(e);let c=d();return C(c.onSubmit())}),_(130,mo,3,0,"svg",62),s(131),o()()()()}if(r&2){let e=d();a(9),l("formGroup",e.workOrderForm),a(8),P("error",e.hasFieldError("title")),a(5),P("error-input",e.hasFieldError("title")),a(),l("ngIf",e.hasFieldError("title")),a(2),P("error",e.hasFieldError("status_id")),a(6),P("error",e.hasFieldError("status_id"))("active",e.showStatusDropdown),a(2),l("ngIf",!e.selectedStatus),a(),l("ngIf",e.selectedStatus),a(),P("rotated",e.showStatusDropdown),a(2),l("ngIf",e.showStatusDropdown),a(),l("ngIf",e.hasFieldError("status_id")),a(),P("error",e.hasFieldError("priority_id")),a(6),P("error",e.hasFieldError("priority_id"))("active",e.showPriorityDropdown),a(2),l("ngIf",!e.selectedPriority),a(),l("ngIf",e.selectedPriority),a(),P("rotated",e.showPriorityDropdown),a(2),l("ngIf",e.showPriorityDropdown),a(),l("ngIf",e.hasFieldError("priority_id")),a(2),P("error",e.hasFieldError("category_id")),a(4),P("error",e.hasFieldError("category_id"))("active",e.showCategoryDropdown),a(2),l("ngIf",!e.selectedCategory),a(),l("ngIf",e.selectedCategory),a(),P("rotated",e.showCategoryDropdown),a(2),l("ngIf",e.showCategoryDropdown),a(),l("ngIf",e.hasFieldError("category_id")),a(27),P("error",e.hasFieldError("asset_id")),a(3),P("error-input",e.hasFieldError("asset_id")),l("disabled",e.assets.length===0),a(2),f(e.assets.length===0?"Loading assets...":"Select an asset"),a(),l("ngForOf",e.assets),a(),l("ngIf",e.hasFieldError("asset_id")),a(4),P("error",e.hasFieldError("location_id")),a(3),P("error-input",e.hasFieldError("location_id")),l("disabled",e.locations.length===0),a(2),f(e.locations.length===0?"Loading locations...":"Select a location"),a(),l("ngForOf",e.locations),a(),l("ngIf",e.hasFieldError("location_id")),a(5),P("error",e.hasFieldError("assigned_to")),a(3),P("error-input",e.hasFieldError("assigned_to")),l("disabled",e.teamMembers.length===0),a(2),f(e.teamMembers.length===0?"Loading team members...":"Select a team member"),a(),l("ngForOf",e.teamMembers),a(),l("ngIf",e.hasFieldError("assigned_to")),a(5),l("disabled",e.isLoading),a(2),l("disabled",e.isLoading),a(),l("ngIf",e.isLoading),a(),h(" ",e.isLoading?"Creating...":"Create Work Order"," ")}}var Re=class r{constructor(t,e,i,c,g,E){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=c;this.teamService=g;this.metaWorkOrdersService=E;this.workOrderForm=this.fb.group({title:["",D.required],status_id:[null,D.required],priority_id:[null,D.required],category_id:[null],due_date:[""],description:[""],asset_id:[""],location_id:[""],assigned_to:[""],team_id:[""],estimated_hours:[""],notes:[""]})}workOrderList;workOrderStats;workOrderAnalytics;activeTab="work-orders";showCreateModal=!1;workOrderForm;isLoading=!1;showSuccessMessage=!1;showErrorMessage=!1;errorMessage="";fieldErrors={};currentFilters={};assets=[];locations=[];teamMembers=[];statusOptions=[];priorityOptions=[];categoryOptions=[];showStatusDropdown=!1;showPriorityDropdown=!1;showCategoryDropdown=!1;selectedStatus=null;selectedPriority=null;selectedCategory=null;subscription=new j;ngOnInit(){console.log("WorkOrdersComponent: ngOnInit called"),console.log("WorkOrdersComponent: Initial activeTab:",this.activeTab),this.loadSelectData(),this.loadMetadataOptions()}ngAfterViewInit(){console.log("WorkOrdersComponent: ngAfterViewInit called"),console.log("WorkOrdersComponent: workOrderList component:",this.workOrderList),console.log("WorkOrdersComponent: workOrderStats component:",this.workOrderStats),console.log("WorkOrdersComponent: workOrderAnalytics component:",this.workOrderAnalytics)}ngOnDestroy(){this.subscription.unsubscribe()}loadMetadataOptions(){this.metaWorkOrdersService.clearAllCache(),this.subscription.add(this.metaWorkOrdersService.getStatus().subscribe({next:t=>{if(this.statusOptions=t,t.length>0){let e=t.find(i=>i.slug==="open")||t[0];this.selectedStatus=e,this.workOrderForm.patchValue({status_id:e.id})}},error:t=>{console.error("Error loading statuses:",t),this.statusOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getPriorities().subscribe({next:t=>{if(this.priorityOptions=t,t.length>0){let e=t.find(i=>i.slug==="medium")||t[0];this.selectedPriority=e,this.workOrderForm.patchValue({priority_id:e.id})}},error:t=>{console.error("Error loading priorities:",t),this.priorityOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getCategories().subscribe({next:t=>{this.categoryOptions=t},error:t=>{console.error("Error loading categories:",t),this.categoryOptions=[]}}))}loadSelectData(){this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:t=>{t.success&&t.data?this.assets=t.data.assets||t.data||[]:(this.assets=[],console.warn("Assets response format unexpected:",t))},error:t=>{console.error("Error loading assets:",t),this.assets=[]}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:t=>{t.success&&t.data?this.locations=t.data.locations||t.data||[]:(this.locations=[],console.warn("Locations response format unexpected:",t))},error:t=>{console.error("Error loading locations:",t),this.locations=[]}})),this.subscription.add(this.teamService.getTeamMembers().subscribe({next:t=>{t.success&&t.data?this.teamMembers=t.data||[]:(this.teamMembers=[],console.warn("Team members response format unexpected:",t))},error:t=>{console.error("Error loading team members:",t),this.teamMembers=[]}}))}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1}togglePriorityDropdown(){this.showPriorityDropdown=!this.showPriorityDropdown,this.showStatusDropdown=!1,this.showCategoryDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1}selectStatus(t){this.selectedStatus=t,this.workOrderForm.patchValue({status_id:t.id}),this.showStatusDropdown=!1}selectPriority(t){this.selectedPriority=t,this.workOrderForm.patchValue({priority_id:t.id}),this.showPriorityDropdown=!1}selectCategory(t){this.selectedCategory=t,this.workOrderForm.patchValue({category_id:t?.id||null}),this.showCategoryDropdown=!1}getStatusLabel(){return this.selectedStatus?this.selectedStatus.name:"Select status"}getPriorityLabel(){return this.selectedPriority?this.selectedPriority.name:"Select priority"}getCategoryLabel(){return this.selectedCategory?this.selectedCategory.name:"Select category (optional)"}getStatusValue(){return this.selectedStatus?this.selectedStatus.id:null}getPriorityValue(){return this.selectedPriority?this.selectedPriority.id:null}getCategoryValue(){return this.selectedCategory?this.selectedCategory.id:null}getStatusColor(){if(!this.selectedStatus)return"#6B7280";switch(this.selectedStatus.slug){case"open":return"#10B981";case"in-progress":return"#F59E0B";case"completed":return"#3B82F6";case"cancelled":return"#EF4444";case"on-hold":return"#8B5CF6";default:return"#6B7280"}}getPriorityColor(){if(!this.selectedPriority)return"#6B7280";switch(this.selectedPriority.slug){case"low":return"#10B981";case"medium":return"#F59E0B";case"high":return"#F97316";case"critical":return"#EF4444";case"ppm":return"#8B5CF6";default:return"#6B7280"}}getStatusDescription(){if(!this.selectedStatus)return"Select a status for this work order";switch(this.selectedStatus.slug){case"open":return"Work order is open and ready to be assigned";case"in-progress":return"Work order is currently being worked on";case"completed":return"Work order has been completed successfully";case"cancelled":return"Work order has been cancelled";case"on-hold":return"Work order is temporarily on hold";default:return this.selectedStatus.name}}getPriorityDescription(){if(!this.selectedPriority)return"Select a priority level for this work order";switch(this.selectedPriority.slug){case"low":return"Low priority - can be addressed when convenient";case"medium":return"Medium priority - should be addressed soon";case"high":return"High priority - needs immediate attention";case"critical":return"Critical priority - urgent, requires immediate action";case"ppm":return"Preventive maintenance - scheduled maintenance task";default:return this.selectedPriority.name}}getCategoryDescription(t){switch(t.slug){case"preventive-maintenance":return"Regular scheduled maintenance to prevent breakdowns";case"corrective-maintenance":return"Repair work to fix existing problems";case"emergency-maintenance":return"Urgent repairs requiring immediate attention";case"inspection":return"Regular inspections and assessments";case"calibration":return"Equipment calibration and adjustment";case"cleaning":return"Cleaning and general upkeep";case"lubrication":return"Lubrication and oil changes";case"filter-replacement":return"Filter and consumable replacement";case"belt-replacement":return"Belt and drive component replacement";case"electrical":return"Electrical system maintenance";case"mechanical":return"Mechanical system maintenance";case"plumbing":return"Plumbing system maintenance";case"hvac":return"HVAC system maintenance";default:return"Maintenance category"}}onDocumentClick(t){let e=t.target;!e.closest(".status-dropdown")&&!e.closest(".priority-dropdown")&&!e.closest(".category-dropdown")&&(this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1)}setActiveTab(t){console.log("WorkOrdersComponent: setActiveTab called with:",t),this.activeTab=t,console.log("WorkOrdersComponent: activeTab is now:",this.activeTab),t==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()}openCreateModal(){this.showCreateModal=!0,this.resetMessages(),this.loadSelectData(),this.loadMetadataOptions()}closeCreateModal(t){t&&t.target.classList.contains("modal-overlay")?this.showCreateModal=!1:t||(this.showCreateModal=!1),this.resetMessages()}resetMessages(){this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage="",this.fieldErrors={}}showSuccess(){this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)}showError(t,e){this.errorMessage=t,this.showErrorMessage=!0,e&&(this.fieldErrors=e),setTimeout(()=>{this.showErrorMessage=!1,this.fieldErrors={}},8e3)}getFieldError(t){return this.fieldErrors[t]?this.fieldErrors[t].join(", "):""}hasFieldError(t){return!!this.fieldErrors[t]&&this.fieldErrors[t].length>0}onFiltersChanged(t){this.currentFilters=t,console.log("Filters received in main component:",t),this.workOrderList}onSubmit(){if(this.workOrderForm.valid){this.isLoading=!0,this.resetMessages();let t={title:this.workOrderForm.value.title,description:this.workOrderForm.value.description||void 0,status_id:this.workOrderForm.value.status_id,priority_id:this.workOrderForm.value.priority_id,category_id:this.workOrderForm.value.category_id||void 0,due_date:this.workOrderForm.value.due_date||void 0,asset_id:this.workOrderForm.value.asset_id||void 0,location_id:this.workOrderForm.value.location_id||void 0,assigned_to:this.workOrderForm.value.assigned_to||void 0,team_id:this.workOrderForm.value.team_id||void 0,estimated_hours:this.workOrderForm.value.estimated_hours||void 0,notes:this.workOrderForm.value.notes||void 0};this.subscription.add(this.workOrderService.createWorkOrder(t).subscribe({next:e=>{console.log("Work order created successfully:",e),this.showSuccess(),this.closeCreateModal(),this.workOrderForm.reset({status_id:this.selectedStatus?.id||null,priority_id:this.selectedPriority?.id||null,category_id:null}),this.selectedCategory=null,this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.activeTab==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()},error:e=>{if(console.error("Error creating work order:",e),e.error?.errors){let i=e.error.errors,c=e.error?.message||"Please fix the validation errors below.";this.showError(c,i)}else e.error?.message?this.showError(e.error.message):this.showError("Failed to create work order. Please try again.")},complete:()=>{this.isLoading=!1}}))}}refreshAllData(){this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.workOrderAnalytics&&this.workOrderAnalytics.refreshData(),this.loadSelectData(),this.loadMetadataOptions()}static \u0275fac=function(e){return new(e||r)(v(X),v(T),v(_e),v(pe),v(Oe),v(ee))};static \u0275cmp=W({type:r,selectors:[["app-work-orders"]],viewQuery:function(e,i){if(e&1&&(xe(Ce,5),xe(Me,5),xe(te,5)),e&2){let c;ye(c=Se())&&(i.workOrderList=c.first),ye(c=Se())&&(i.workOrderStats=c.first),ye(c=Se())&&(i.workOrderAnalytics=c.first)}},hostBindings:function(e,i){e&1&&p("click",function(g){return i.onDocumentClick(g)},!1,we)},standalone:!1,decls:25,vars:11,consts:[[1,"work-orders-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"header"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[1,"work-orders-content"],[1,"create-button-container"],[1,"create-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[3,"createWorkOrderRequested"],[1,"analytics-content"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"success-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"error-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"section-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"form-row","full-width"],[1,"form-group"],[1,"required"],["type","text","formControlName","title","placeholder","Enter work order title"],["class","field-error",4,"ngIf"],[1,"form-row"],[1,"relative","status-dropdown",3,"click"],["type","button",1,"dropdown-button",3,"click"],[1,"dropdown-content"],["class","placeholder",4,"ngIf"],["class","selected-item",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"dropdown-arrow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],[1,"relative","priority-dropdown",3,"click"],[1,"relative","category-dropdown",3,"click"],["type","datetime-local","formControlName","due_date"],["formControlName","description","placeholder","Enter work order description"],["type","number","formControlName","estimated_hours","placeholder","0","min","0","step","0.5"],["formControlName","notes","placeholder","Additional notes"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["formControlName","asset_id",3,"disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"field-help"],["formControlName","location_id",3,"disabled"],["formControlName","assigned_to",3,"disabled"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","animate-spin -ml-1 mr-2 h-4 w-4 text-white","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"field-error"],[1,"placeholder"],[1,"selected-item"],[1,"status-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],[1,"selected-text"],[1,"dropdown-menu"],[1,"dropdown-header"],["type","button","class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-item",3,"click"],[1,"item-content"],[1,"item-icon"],[1,"item-details"],[1,"item-name"],[1,"item-description"],[1,"priority-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"category-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"item-icon","no-category"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&(n(0,"div",0),_(1,Bn,5,0,"div",1)(2,$n,5,1,"div",2),n(3,"div",3)(4,"h1"),s(5,"Work Order Management"),o(),n(6,"p"),s(7,"Streamline maintenance workflows with intelligent work order tracking and scheduling."),o()(),n(8,"div",4)(9,"div",5),p("click",function(){return i.setActiveTab("work-orders")}),s(10," Work Orders "),o(),n(11,"div",5),p("click",function(){return i.setActiveTab("analytics")}),s(12," Analytics "),o()(),n(13,"div",6)(14,"div",7),m(15,"app-work-order-stats"),n(16,"div",8)(17,"button",9),p("click",function(){return i.openCreateModal()}),O(),n(18,"svg",10),m(19,"path",11),o(),s(20," Create Work Order "),o()(),M(),n(21,"app-work-order-list",12),p("createWorkOrderRequested",function(){return i.openCreateModal()}),o()(),n(22,"div",13),m(23,"app-work-order-analytics"),o()()(),_(24,_o,132,70,"div",14)),e&2&&(a(),l("ngIf",i.showSuccessMessage),a(),l("ngIf",i.showErrorMessage),a(7),P("active",i.activeTab==="work-orders"),a(2),P("active",i.activeTab==="analytics"),a(3),P("active",i.activeTab==="work-orders"),a(8),P("active",i.activeTab==="analytics"),a(2),l("ngIf",i.showCreateModal))},dependencies:[F,I,de,le,ge,B,Z,ze,$,Q,me,J,K,te,Ce,Me],styles:[`@charset "UTF-8";.work-orders-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f8fafc;min-height:100vh}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;font-weight:400}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem;border-bottom:1px solid #e2e8f0}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.75rem 0;font-size:1.125rem;font-weight:500;color:#64748b;cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#2563eb;font-weight:600;border-bottom-color:#2563eb}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#1e40af}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;border:2px dashed #e2e8f0;box-shadow:0 1px 3px #0000001a}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#374151;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:1.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;font-weight:500;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;transition:all .2s ease;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]{border-color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;appearance:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6;background-color:#f9fafb}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem;color:#374151;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;opacity:.6;transition:opacity .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]:hover::-webkit-calendar-picker-indicator{opacity:1}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;font-weight:500;display:flex;align-items:center;gap:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]{margin-top:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-style:italic}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}@media (max-width: 768px){.work-orders-container[_ngcontent-%COMP%]{padding:1rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{gap:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{padding:2rem 1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.status-dropdown[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]{position:relative}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;text-align:left;border:1px solid #d1d5db;border-radius:.5rem;background-color:#fff;transition:all .2s ease;cursor:pointer}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%]{border-color:#fca5a5}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6}.status-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.status-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#9ca3af}.status-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border-radius:.25rem;display:flex;align-items:center;justify-content:center}.status-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%]{background-color:#f3f4f6}.status-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1rem;height:1rem}.status-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.status-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:50;width:100%;margin-top:.25rem;background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;max-height:15rem;overflow:auto}.status-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background-color:#f9fafb}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem;text-align:left;border:none;background:none;cursor:pointer;transition:background-color .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#eff6ff;outline:none}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.status-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;background-color:#eff6ff}.status-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{flex:1}.status-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.status-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-top:.125rem}`]})};function po(r,t){if(r&1){let e=b();n(0,"div",15)(1,"div",16)(2,"div",17),s(3),o(),n(4,"div",18),s(5),o()(),n(6,"div",19)(7,"button",20),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.addToCart(c))}),s(8,"Add"),o()()()}if(r&2){let e=t.$implicit;a(3),f(e.name),a(2),S("UoM: ",e.uom||"-"," \u2022 On hand: ",e.on_hand||"-","")}}function Oo(r,t){if(r&1&&(n(0,"div",13),_(1,po,9,3,"div",14),o()),r&2){let e=d(2);a(),l("ngForOf",e.results)}}function uo(r,t){if(r&1){let e=b();n(0,"div",23)(1,"div",16),s(2),o(),n(3,"div",19)(4,"input",24),ie("ngModelChange",function(c){let g=u(e).$implicit;return re(g.qty,c)||(g.qty=c),C(c)}),o(),n(5,"input",25),ie("ngModelChange",function(c){let g=u(e).$implicit;return re(g.unit_cost,c)||(g.unit_cost=c),C(c)}),o(),n(6,"button",26),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.removeFromCart(c.part.id))}),s(7,"\u{1F5D1}"),o()()()}if(r&2){let e=t.$implicit;a(2),f(e.part.name),a(2),oe("ngModel",e.qty),a(),oe("ngModel",e.unit_cost)}}function Co(r,t){if(r&1&&(n(0,"div",21),_(1,uo,8,3,"div",22),o()),r&2){let e=d(2);a(),l("ngForOf",e.cart)}}function Mo(r,t){if(r&1){let e=b();n(0,"div",1),p("click",function(){u(e);let c=d();return C(c.close())}),n(1,"div",2),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",3)(3,"h3"),s(4,"Add Parts"),o(),n(5,"button",4),p("click",function(){u(e);let c=d();return C(c.close())}),s(6,"\xD7"),o()(),n(7,"div",5)(8,"div",6)(9,"input",7),ie("ngModelChange",function(c){u(e);let g=d();return re(g.query,c)||(g.query=c),C(c)}),o(),n(10,"button",8),p("click",function(){u(e);let c=d();return C(c.search())}),s(11,"Search"),o()(),_(12,Oo,2,1,"div",9)(13,Co,2,1,"div",10),o(),n(14,"div",11)(15,"button",12),p("click",function(){u(e);let c=d();return C(c.close())}),s(16,"Cancel"),o(),n(17,"button",8),p("click",function(){u(e);let c=d();return C(c.save())}),s(18,"Add to Work Order"),o()()()()}if(r&2){let e=d();a(9),oe("ngModel",e.query),a(),l("disabled",e.loading),a(2),l("ngIf",e.results.length),a(),l("ngIf",e.cart.length),a(4),l("disabled",e.cart.length===0)}}var Ne=class r{constructor(t,e){this.woService=t;this.inv=e}workOrderId;isOpen=!1;closed=new V;saved=new V;query="";results=[];cart=[];loading=!1;search(){this.loading=!0,this.inv.getPartsCatalog(this.query||void 0,void 0,1,10).subscribe({next:t=>{this.results=t?.data?.data||[],this.loading=!1},error:()=>{this.loading=!1}})}addToCart(t){let e=this.cart.find(i=>i.part.id===t.id);if(e){e.qty+=1;return}this.cart.push({part:t,qty:1,unit_cost:t.unit_cost||void 0})}removeFromCart(t){this.cart=this.cart.filter(e=>e.part.id!==t)}save(){return fe(this,null,function*(){if(!this.workOrderId||this.cart.length===0){this.closed.emit();return}let t=this.cart.map(e=>({part_id:e.part.id,qty:e.qty,unit_cost:e.unit_cost}));this.woService.addParts(this.workOrderId,t).subscribe({next:e=>{this.saved.emit(e),this.closed.emit()}})})}close(){this.closed.emit()}ngOnChanges(t){t.isOpen&&this.isOpen&&this.results.length===0&&!this.loading&&this.search()}static \u0275fac=function(e){return new(e||r)(v(T),v(at))};static \u0275cmp=W({type:r,selectors:[["app-add-work-order-parts-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed",saved:"saved"},standalone:!1,features:[ae],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"search-row"],["placeholder","Search parts by name or code",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],["class","results",4,"ngIf"],["class","cart",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"results"],["class","result-row",4,"ngFor","ngForOf"],[1,"result-row"],[1,"left"],[1,"name"],[1,"sub"],[1,"right"],[1,"btn",3,"click"],[1,"cart"],["class","cart-row",4,"ngFor","ngForOf"],[1,"cart-row"],["type","number","min","0.001","step","0.001",1,"qty",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01","placeholder","Unit cost",1,"cost",3,"ngModelChange","ngModel"],[1,"icon",3,"click"]],template:function(e,i){e&1&&_(0,Mo,19,5,"div",0),e&2&&l("ngIf",i.isOpen)},dependencies:[F,I,B,Z,$,me,De],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.form-input[_ngcontent-%COMP%]{flex:1;border:1px solid #d1d5db;border-radius:8px;padding:.5rem .75rem}.search-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.results[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;flex-direction:column;gap:.5rem}.result-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.result-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.result-row[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.cart[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;gap:.5rem}.cart-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.cart-row[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{width:6rem}.cart-row[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{width:7rem;margin-left:.5rem}.cart-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:.5rem;background:transparent;border:none;cursor:pointer}"]})};function Po(r,t){r&1&&(n(0,"div",14),s(1,"Loading costs..."),o())}function ho(r,t){r&1&&(n(0,"div",14),s(1,"No parts added."),o())}function bo(r,t){if(r&1&&(n(0,"div",17)(1,"div",18),s(2),o(),n(3,"div",19),s(4),o(),n(5,"div",20),s(6),w(7,"number"),o()()),r&2){let e=t.$implicit;a(2),f((e.part==null?null:e.part.name)||"Part #"+e.part_id),a(2),h("x",e.qty,""),a(2),h("$",k(7,3,(e.unit_cost||0)*(e.qty||0),"1.2-2"),"")}}function vo(r,t){if(r&1&&(n(0,"div",15),_(1,bo,8,6,"div",16),o()),r&2){let e=d(2);a(),l("ngForOf",e.parts)}}function wo(r,t){if(r&1){let e=b();n(0,"div",1),p("click",function(){u(e);let c=d();return C(c.close())}),n(1,"div",2),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",3)(3,"h3"),s(4,"Work Order Costs"),o(),n(5,"button",4),p("click",function(){u(e);let c=d();return C(c.close())}),s(6,"\xD7"),o()(),n(7,"div",5),_(8,Po,2,0,"div",6),n(9,"div",7)(10,"div")(11,"div",8),s(12,"Labor"),o(),n(13,"div",9),s(14),w(15,"number"),w(16,"number"),o()(),n(17,"div")(18,"div",8),s(19,"Parts"),o(),n(20,"div",9),s(21),w(22,"number"),o()(),n(23,"div")(24,"div",8),s(25,"Total"),o(),n(26,"div",10),s(27),w(28,"number"),o()()(),n(29,"h4"),s(30,"Parts"),o(),_(31,ho,2,0,"div",6)(32,vo,2,1,"div",11),o(),n(33,"div",12)(34,"button",13),p("click",function(){u(e);let c=d();return C(c.close())}),s(35,"Close"),o()()()()}if(r&2){let e=d();a(8),l("ngIf",e.loading),a(6),S("",k(15,7,e.laborMinutes/60,"1.2-2")," hrs \u2022 $",k(16,10,e.laborCost,"1.2-2"),""),a(7),h("$",k(22,13,e.partsCost,"1.2-2"),""),a(6),h("$",k(28,16,e.totalCost,"1.2-2"),""),a(4),l("ngIf",e.parts.length===0),a(),l("ngIf",e.parts.length)}}var Ge=class r{constructor(t){this.woService=t}workOrderId;isOpen=!1;closed=new V;loading=!1;timeLogs=[];parts=[];laborMinutes=0;laborCost=0;partsCost=0;totalCost=0;ngOnChanges(t){t.isOpen&&this.isOpen&&this.workOrderId&&this.fetchCosts()}fetchCosts(){this.loading=!0;let t=this.workOrderId;this.woService.getTimeLogs(t).subscribe({next:e=>{this.timeLogs=e.logs||[],this.laborMinutes=e.totals?.total_minutes||0,this.laborCost=e.totals?.total_cost||0,this.computeTotals()}}),this.woService.getParts(t).subscribe({next:e=>{this.parts=e||[],this.computeTotals(),this.loading=!1},error:()=>{this.loading=!1}})}computeTotals(){this.partsCost=(this.parts||[]).reduce((t,e)=>{let i=e.unit_cost??0,c=e.qty??0;return t+i*c},0),this.totalCost=(this.laborCost||0)+(this.partsCost||0)}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=W({type:r,selectors:[["app-view-costs-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed"},standalone:!1,features:[ae],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","text-sm text-gray-500",4,"ngIf"],[1,"summary"],[1,"label"],[1,"value"],[1,"value","total"],["class","parts-list",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"text-sm","text-gray-500"],[1,"parts-list"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"name"],[1,"qty"],[1,"cost"]],template:function(e,i){e&1&&_(0,wo,36,19,"div",0),e&2&&l("ngIf",i.isOpen)},dependencies:[F,I,Ie],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1rem}.summary[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.summary[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#111827}.parts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.parts-list[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.parts-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.parts-list[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:#6b7280}.parts-list[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-weight:600}"]})};function xo(r,t){if(r&1&&(n(0,"p"),s(1),o()),r&2){let e=d().$implicit;a(),S("by ",e.user.first_name," ",e.user.last_name,"")}}function yo(r,t){if(r&1&&(n(0,"p"),s(1),o()),r&2){let e=d().$implicit;a(),h("\u201C",e.details.comment,"\u201D")}}function So(r,t){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4),o(),n(5,"p"),s(6),w(7,"date"),o(),_(8,xo,2,2,"p",22)(9,yo,2,1,"p",22),o()()),r&2){let e=t.$implicit;a(),P("dot-muted",e.type!=="created"),a(3),f(e.title),a(2),f(k(7,6,e.timestamp,"MMMM d, y 'at' h:mm a")),a(2),l("ngIf",e.user),a(),l("ngIf",e.type==="comment"&&(e.details==null?null:e.details.comment))}}function Eo(r,t){if(r&1){let e=b();n(0,"div",11),p("click",function(){u(e);let c=d();return C(c.closeHistoryModal())}),n(1,"div",12),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",13)(3,"h3"),s(4,"Full History"),o(),n(5,"button",14),p("click",function(){u(e);let c=d();return C(c.closeHistoryModal())}),s(6,"\xD7"),o()(),n(7,"div",15),_(8,So,10,9,"div",16),o(),n(9,"div",17)(10,"button",18),p("click",function(){u(e);let c=d();return C(c.closeHistoryModal())}),s(11,"Close"),o()()()()}if(r&2){let e=d();a(8),l("ngForOf",e.fullHistory)}}function Wo(r,t){r&1&&(n(0,"div",23)(1,"div",24),O(),n(2,"svg",25),m(3,"circle",26)(4,"path",27),o(),M(),n(5,"span",28),s(6,"Loading work order..."),o()()())}function Io(r,t){if(r&1){let e=b();n(0,"app-edit-work-order-modal",101),p("modalClosed",function(){u(e);let c=d(2);return C(c.closeEditModal())})("workOrderUpdated",function(c){u(e);let g=d(2);return C(g.onWorkOrderUpdated(c))}),o()}if(r&2){let e=d(2);l("isOpen",e.showEditModal)("workOrder",e.workOrder)}}function To(r,t){if(r&1){let e=b();n(0,"app-add-work-order-parts-modal",102),p("closed",function(){u(e);let c=d(2);return C(c.closeAddPartsModal())})("saved",function(){u(e);let c=d(2);return C(c.onPartsAdded())}),o()}if(r&2){let e=d(2);l("isOpen",e.showAddPartsModal)("workOrderId",e.workOrder==null?null:e.workOrder.id)}}function Vo(r,t){if(r&1){let e=b();n(0,"app-view-costs-modal",103),p("closed",function(){u(e);let c=d(2);return C(c.showViewCostsModal=!1)}),o()}if(r&2){let e=d(2);l("isOpen",e.showViewCostsModal)("workOrderId",e.workOrder==null?null:e.workOrder.id)}}function Fo(r,t){if(r&1&&(A(0),s(1),L()),r&2){let e=d().ngIf;a(),S(" ",e.first_name," ",e.last_name," ")}}function Ao(r,t){if(r&1&&s(0),r&2){let e=d().ngIf;h(" ",e?"User ID: "+e:"Unassigned"," ")}}function Lo(r,t){if(r&1&&(A(0),_(1,Fo,2,2,"ng-container",92)(2,Ao,1,1,"ng-template",null,1,Y),L()),r&2){let e=t.ngIf,i=q(3);a(),l("ngIf",e&&(e.first_name||e.last_name))("ngIfElse",i)}}function Do(r,t){if(r&1&&(A(0),s(1),L()),r&2){let e=d().ngIf;a(),h(" ",e.name||e.asset_id," ")}}function zo(r,t){if(r&1&&s(0),r&2){let e=d().ngIf;h(" ",e?"Asset ID: "+e:"No Asset"," ")}}function Ho(r,t){if(r&1&&(A(0),_(1,Do,2,1,"ng-container",92)(2,zo,1,1,"ng-template",null,2,Y),L()),r&2){let e=t.ngIf,i=q(3);a(),l("ngIf",e&&(e.name||e.asset_id))("ngIfElse",i)}}function jo(r,t){if(r&1&&(A(0),s(1),L()),r&2){let e=d().ngIf;a(),h(" ",e.name||e.full_path," ")}}function Bo(r,t){if(r&1&&s(0),r&2){let e=d().ngIf;h(" ",e?"Location ID: "+e:"No Location"," ")}}function $o(r,t){if(r&1&&(A(0),_(1,jo,2,1,"ng-container",92)(2,Bo,1,1,"ng-template",null,3,Y),L()),r&2){let e=t.ngIf,i=q(3);a(),l("ngIf",e&&(e.name||e.full_path))("ngIfElse",i)}}function Ro(r,t){if(r&1&&(n(0,"div",56)(1,"label"),s(2,"Notes"),o(),n(3,"p"),s(4),o()()),r&2){let e=d(2);a(4),f(e.workOrder==null?null:e.workOrder.notes)}}function No(r,t){if(r&1&&(n(0,"div",56)(1,"label"),s(2,"Tags"),o(),n(3,"p"),s(4),o()()),r&2){let e=d(2);a(4),f(e.workOrder==null?null:e.workOrder.tags)}}function Go(r,t){r&1&&(n(0,"span",104),s(1,"Active"),o())}function Uo(r,t){if(r&1&&(n(0,"div",105),s(1),o()),r&2){let e=d(2);a(),h(" ",e.displayedElapsed," ")}}function qo(r,t){if(r&1&&(n(0,"div",106),s(1),w(2,"date"),o()),r&2){let e=d(2);a(),h(" Started ",k(2,1,e.timeLogs[0].start_time,"MMM d, hh:mm a")," ")}}function Yo(r,t){r&1&&(O(),m(0,"path",47))}function Qo(r,t){r&1&&(O(),m(0,"path",107))}function Zo(r,t){r&1&&(O(),m(0,"path",108))}function Jo(r,t){r&1&&(n(0,"div",109),s(1,"No time logs yet."),o())}function Ko(r,t){if(r&1&&(A(0),s(1),w(2,"number"),L()),r&2){let e=d().$implicit;a(),h(" \u2022 ",k(2,1,e.duration_minutes||0,"1.0-0")," min ")}}function Xo(r,t){r&1&&(A(0),s(1,"\u2022 running"),L())}function er(r,t){if(r&1&&(n(0,"div",110)(1,"div",111),O(),n(2,"svg",33),m(3,"path",58),o(),M(),n(4,"span"),s(5),o()(),n(6,"div",112),O(),n(7,"svg",33),m(8,"path",113),o(),M(),n(9,"span"),s(10),w(11,"date"),_(12,Ko,3,4,"ng-container",22)(13,Xo,2,0,"ng-container",22),o()()()),r&2){let e=t.$implicit;a(5),f(e.user?e.user.first_name+" "+e.user.last_name:"Unknown"),a(5),h("",k(11,4,e.start_time,"MMM d, h:mm a")," "),a(2),l("ngIf",e.end_time),a(),l("ngIf",!e.end_time)}}function tr(r,t){if(r&1&&(n(0,"option",114),s(1),o()),r&2){let e=t.$implicit,i=d(2);l("value",e.slug)("selected",i.getStatusLabel(i.workOrder==null?null:i.workOrder.status)===e.name),a(),h(" ",e.name," ")}}function nr(r,t){if(r&1&&(n(0,"div",117)(1,"div",118),O(),n(2,"svg",33),m(3,"path",58),o(),M(),n(4,"span"),s(5),o()(),n(6,"div",119),s(7),o(),n(8,"div",120),O(),n(9,"svg",33),m(10,"path",113),o(),M(),n(11,"span"),s(12),w(13,"date"),o()()()),r&2){let e=t.$implicit;a(5),f(e.user?e.user.first_name+" "+e.user.last_name:"Unknown User"),a(2),f(e.comment),a(5),f(k(13,3,e.created_at,"MMM d, y, h:mm a"))}}function or(r,t){if(r&1&&(n(0,"div",115),_(1,nr,14,6,"div",116),o()),r&2){let e=d(2);a(),l("ngForOf",e.workOrder.comments)}}function rr(r,t){if(r&1&&(n(0,"p"),s(1),o()),r&2){let e=d().$implicit;a(),S("by ",e.user.first_name," ",e.user.last_name,"")}}function ir(r,t){if(r&1&&(n(0,"p"),s(1),o()),r&2){let e=d().$implicit;a(),h("\u201C",e.details.comment,"\u201D")}}function ar(r,t){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4),o(),n(5,"p"),s(6),w(7,"date"),o(),_(8,rr,2,2,"p",22)(9,ir,2,1,"p",22),o()()),r&2){let e=t.$implicit;a(),P("dot-muted",e.type!=="created"),a(3),f(e.title),a(2),f(k(7,6,e.timestamp,"MMMM d, y 'at' h:mm a")),a(2),l("ngIf",e.user),a(),l("ngIf",e.type==="comment"&&(e.details==null?null:e.details.comment))}}function sr(r,t){if(r&1){let e=b();A(0),_(1,ar,10,9,"div",16),n(2,"button",121),p("click",function(){u(e);let c=d(2);return C(c.openHistoryModal())}),s(3,"View all"),o(),L()}if(r&2){let e=d(2);a(),l("ngForOf",e.historyPreview)}}function cr(r,t){if(r&1&&(n(0,"div",19),m(1,"div",20),n(2,"div",21)(3,"label"),s(4,"Created"),o(),n(5,"p"),s(6),w(7,"date"),o(),n(8,"p"),s(9),o()()(),n(10,"div",19),m(11,"div",122),n(12,"div",21)(13,"label"),s(14,"Last Updated"),o(),n(15,"p"),s(16),w(17,"date"),o()()()),r&2){let e=d(2);a(6),f(k(7,3,e.workOrder==null?null:e.workOrder.created_at,"MMMM d, y 'at' h:mm a")),a(3),h("by ",e.workOrder&&e.workOrder.created_by?e.workOrder.created_by.first_name+" "+e.workOrder.created_by.last_name:"Unknown",""),a(7),f(k(17,6,e.workOrder==null?null:e.workOrder.updated_at,"MMMM d, y 'at' h:mm a"))}}function dr(r,t){if(r&1&&(n(0,"span"),s(1),o()),r&2){let e=d(2);a(),h(" (",e.assignments.length,")")}}function lr(r,t){r&1&&(n(0,"div",109),s(1,"No assignments yet."),o())}function gr(r,t){if(r&1&&(n(0,"option",135),s(1),o()),r&2){let e=t.$implicit;l("value",e.value),a(),f(e.label)}}function mr(r,t){if(r&1){let e=b();A(0),n(1,"select",133),p("change",function(c){u(e);let g=d().$implicit,E=d(3);return C(E.onAssignmentStatusChange(g,c))}),_(2,gr,2,2,"option",134),o(),L()}if(r&2){let e=d().$implicit,i=d(3);a(),l("value",i.assignmentStatuses.get(e.id)||"assigned"),a(),l("ngForOf",i.assignmentStatusOptions)}}function _r(r,t){if(r&1&&(n(0,"span"),s(1),o()),r&2){let e=d().$implicit,i=d(3);se(i.getAssignmentStatusClass(i.assignmentStatuses.get(e.id))),a(),f(i.getAssignmentStatusLabel(i.assignmentStatuses.get(e.id)))}}function pr(r,t){if(r&1){let e=b();n(0,"div",125)(1,"div",126)(2,"div",127),s(3),o(),n(4,"div",128)(5,"div",129),s(6),o(),n(7,"div",130),s(8),w(9,"date"),w(10,"date"),o()()(),n(11,"div",131),_(12,mr,3,2,"ng-container",92)(13,_r,2,3,"ng-template",null,4,Y),n(15,"button",132),p("click",function(){let c=u(e).$implicit,g=d(3);return C(g.removeAssignment(c))}),s(16,"\u{1F5D1}"),o()()()}if(r&2){let e=t.$implicit,i=q(14),c=d(3);a(3),S("",((e.user==null?null:e.user.first_name)||"?")[0],"",((e.user==null?null:e.user.last_name)||"")[0]||"",""),a(3),S("",e.user==null?null:e.user.first_name," ",e.user==null?null:e.user.last_name,""),a(2),S("Assigned ",k(9,8,e.created_at,"shortTime")," \u2022 ",k(10,11,e.created_at,"MMM d"),""),a(4),l("ngIf",(c.assignmentStatuses.get(e.id)||"assigned")==="assigned")("ngIfElse",i)}}function Or(r,t){if(r&1&&(n(0,"div",123),_(1,pr,17,14,"div",124),o()),r&2){let e=d(2);a(),l("ngForOf",e.assignments)}}function ur(r,t){if(r&1&&(A(0),s(1),w(2,"date"),w(3,"date"),L()),r&2){let e,i=d().$implicit,c=d(3);a(),S(" Assigned ",k(2,2,(e=c.getAssignmentForUser(i.id))==null?null:e.created_at,"shortTime")," \u2022 ",k(3,5,(e=c.getAssignmentForUser(i.id))==null?null:e.created_at,"MMM d")," ")}}function Cr(r,t){if(r&1&&s(0),r&2){let e=d().$implicit;f(e.email)}}function Mr(r,t){if(r&1&&(n(0,"option",135),s(1),o()),r&2){let e=t.$implicit;l("value",e.value),a(),f(e.label)}}function fr(r,t){if(r&1){let e=b();A(0),n(1,"select",133),p("change",function(c){u(e);let g=d(2).$implicit,E=d(3);return C(E.onAssignmentStatusChange(E.getAssignmentForUser(g.id),c))}),_(2,Mr,2,2,"option",134),o(),L()}if(r&2){let e,i=d(2).$implicit,c=d(3);a(),l("value",c.assignmentStatuses.get(((e=c.getAssignmentForUser(i.id))==null?null:e.id)||0)||"assigned"),a(),l("ngForOf",c.assignmentStatusOptions)}}function Pr(r,t){if(r&1&&(n(0,"span"),s(1),o()),r&2){let e,i,c=d(2).$implicit,g=d(3);se(g.getAssignmentStatusClass(g.assignmentStatuses.get(((e=g.getAssignmentForUser(c.id))==null?null:e.id)||0))),a(),f(g.getAssignmentStatusLabel(g.assignmentStatuses.get(((i=g.getAssignmentForUser(c.id))==null?null:i.id)||0)))}}function hr(r,t){if(r&1&&(A(0),_(1,fr,3,2,"ng-container",92)(2,Pr,2,3,"ng-template",null,6,Y),L()),r&2){let e,i=q(3),c=d().$implicit,g=d(3);a(),l("ngIf",(g.assignmentStatuses.get(((e=g.getAssignmentForUser(c.id))==null?null:e.id)||0)||"assigned")==="assigned")("ngIfElse",i)}}function br(r,t){if(r&1){let e=b();n(0,"button",132),p("click",function(){u(e);let c=d().$implicit,g=d(3);return C(g.removeAssignmentByUser(c.id))}),s(1,"\u{1F5D1}"),o()}}function vr(r,t){if(r&1){let e=b();n(0,"div",140)(1,"div",126)(2,"div",127),s(3),o(),n(4,"div",128)(5,"div",129),s(6),o(),n(7,"div",130),_(8,ur,4,8,"ng-container",92)(9,Cr,1,1,"ng-template",null,5,Y),o()()(),n(11,"div",131),_(12,hr,4,2,"ng-container",22)(13,br,2,0,"button",141),n(14,"input",142),p("change",function(c){let g=u(e).$implicit,E=d(3);return C(E.toggleUserSelection(g.id,c.target.checked))}),o()()()}if(r&2){let e=t.$implicit,i=q(10),c=d(3);a(3),S("",(e.first_name||"?")[0],"",(e.last_name||"")[0]||"",""),a(3),S("",e.first_name," ",e.last_name,""),a(2),l("ngIf",c.isUserAlreadyAssigned(e.id))("ngIfElse",i),a(4),l("ngIf",c.isUserAlreadyAssigned(e.id)),a(),l("ngIf",c.isUserAlreadyAssigned(e.id)),a(),l("checked",c.selectedUserIds.has(e.id))}}function wr(r,t){if(r&1){let e=b();n(0,"div",11),p("click",function(){u(e);let c=d(2);return C(c.closeAssignmentsModal())}),n(1,"div",12),p("click",function(c){return u(e),C(c.stopPropagation())}),n(2,"div",13),O(),n(3,"svg",136),m(4,"path",58),o(),M(),n(5,"h2"),s(6,"Add New Assignment"),o()(),n(7,"div",15)(8,"div",123),_(9,vr,15,9,"div",137),o()(),n(10,"div",17)(11,"button",138),p("click",function(){u(e);let c=d(2);return C(c.closeAssignmentsModal())}),s(12,"Cancel"),o(),n(13,"button",139),p("click",function(){u(e);let c=d(2);return C(c.saveAssignments())}),s(14,"Assign"),o()()()()}if(r&2){let e=d(2);a(9),l("ngForOf",e.teamMembers)}}function kr(r,t){if(r&1){let e=b();n(0,"div",29)(1,"div",30)(2,"div",31)(3,"a",32),p("click",function(){u(e);let c=d();return C(c.goBack())}),O(),n(4,"svg",33),m(5,"path",34),o(),s(6," Back to Work Orders "),o()(),M(),n(7,"div",35)(8,"div",36),O(),n(9,"svg",37),m(10,"path",38)(11,"path",39),o(),M(),n(12,"div",40)(13,"h1"),s(14),o(),n(15,"p",41),s(16),o(),n(17,"div",42)(18,"span",43),s(19),o(),n(20,"span",44),s(21),o()()()(),n(22,"div",45)(23,"button",46),O(),n(24,"svg",33),m(25,"path",47),o(),s(26),o()()()(),_(27,Io,1,2,"app-edit-work-order-modal",48)(28,To,1,2,"app-add-work-order-parts-modal",49)(29,Vo,1,2,"app-view-costs-modal",50),M(),n(30,"div",51)(31,"div",52)(32,"div",53)(33,"h3",54),s(34,"Work Order Details"),o(),n(35,"div",55)(36,"div",56)(37,"label"),s(38,"Description"),o(),n(39,"p"),s(40),o()(),n(41,"div",56)(42,"label"),s(43,"Status"),o(),n(44,"p"),s(45),o()(),n(46,"div",56)(47,"label"),s(48,"Priority"),o(),n(49,"p"),s(50),o()(),n(51,"div",56)(52,"label"),s(53,"Category"),o(),n(54,"p"),s(55),o()(),n(56,"div",56)(57,"label"),s(58,"Assigned To"),o(),n(59,"div",57),O(),n(60,"svg",33),m(61,"path",58),o(),M(),n(62,"span"),_(63,Lo,4,2,"ng-container",22),o()()(),n(64,"div",56)(65,"label"),s(66,"Asset"),o(),n(67,"p"),_(68,Ho,4,2,"ng-container",22),o()(),n(69,"div",56)(70,"label"),s(71,"Location"),o(),n(72,"p"),_(73,$o,4,2,"ng-container",22),o()(),n(74,"div",56)(75,"label"),s(76,"Company"),o(),n(77,"p"),s(78),o()(),n(79,"div",56)(80,"label"),s(81,"Estimated Hours"),o(),n(82,"p"),s(83),o()(),n(84,"div",56)(85,"label"),s(86,"Actual Hours"),o(),n(87,"p"),s(88),o()(),_(89,Ro,5,1,"div",59)(90,No,5,1,"div",59),o()(),n(91,"div",53)(92,"h3",54),s(93,"Time Tracking"),o(),n(94,"p",60),s(95,"Track time spent on this work order"),o(),n(96,"div",61)(97,"div",62)(98,"div",63),s(99,"Current Session"),o(),_(100,Go,2,0,"span",64),o(),_(101,Uo,2,1,"div",65)(102,qo,3,4,"div",66),n(103,"div",67)(104,"label"),s(105,"Task Description (Optional)"),o(),n(106,"input",68),ie("ngModelChange",function(c){u(e);let g=d();return re(g.currentSession.description,c)||(g.currentSession.description=c),C(c)}),o()(),n(107,"div",67)(108,"label"),s(109,"Hourly Rate (Optional)"),o(),n(110,"input",69),ie("ngModelChange",function(c){u(e);let g=d();return re(g.currentSession.hourlyRate,c)||(g.currentSession.hourlyRate=c),C(c)}),o()(),n(111,"button",70),p("click",function(){u(e);let c=d();return C(c.isTimerRunning?c.stopTimer():c.startTimer())}),O(),n(112,"svg",33),_(113,Yo,1,0,"path",71)(114,Qo,1,0,"path",72)(115,Zo,1,0,"path",73),o(),s(116),o()(),M(),n(117,"div",74)(118,"div",75)(119,"span",76),s(120),w(121,"number"),o()(),n(122,"div",77)(123,"span",78),s(124),w(125,"number"),o()()(),n(126,"div",79)(127,"h4"),s(128,"Time Log History"),o(),_(129,Jo,2,0,"div",80)(130,er,14,7,"div",81),o()(),n(131,"div",53)(132,"h3",54),s(133,"Status Update"),o(),n(134,"p",60),s(135,"Update the work order status and add notes about the progress"),o(),n(136,"div",82)(137,"label"),s(138,"Current Status:"),o(),n(139,"div",83),O(),n(140,"svg",33),m(141,"path",47),o(),s(142),o()(),M(),n(143,"div",84)(144,"label"),s(145,"Update Status:"),o(),n(146,"select",85),p("change",function(c){u(e);let g=d();return C(g.onStatusChange(c))}),_(147,tr,2,3,"option",86),o()()(),n(148,"div",53)(149,"h3",54),s(150,"Comments"),o(),n(151,"p",60),s(152,"Activity log and comments for this work order"),o(),n(153,"form",87),p("ngSubmit",function(){u(e);let c=d();return C(c.addComment())}),m(154,"textarea",88),n(155,"button",89),s(156,"Add Comment"),o()(),_(157,or,2,1,"div",90),o()(),n(158,"div",91)(159,"div",53)(160,"h3",54),s(161,"Timeline"),o(),_(162,sr,4,1,"ng-container",92)(163,cr,18,9,"ng-template",null,0,Y),o(),n(165,"div",53)(166,"div",93)(167,"h3",54),s(168,"Assignments"),_(169,dr,2,1,"span",22),o(),n(170,"button",94),p("click",function(){u(e);let c=d();return C(c.openAssignmentsModal())}),s(171,"+ Add Assignment"),o()(),_(172,lr,2,0,"div",80)(173,Or,2,1,"div",95),o(),_(174,wr,15,1,"div",7),n(175,"div",53)(176,"h3",54),s(177,"Quick Actions"),o(),n(178,"div",96)(179,"button",97),p("click",function(){u(e);let c=d();return C(c.openEditModal())}),O(),n(180,"svg",33),m(181,"path",98),o(),s(182," Edit Work Order "),o(),M(),n(183,"button",97),p("click",function(){u(e);let c=d();return C(c.showViewCostsModal=!0)}),O(),n(184,"svg",33),m(185,"path",99),o(),s(186," View Costs "),o(),M(),n(187,"button",97),p("click",function(){u(e);let c=d();return C(c.openAddPartsModal())}),O(),n(188,"svg",33),m(189,"path",100),o(),s(190," Add Parts "),o()()()()()()}if(r&2){let e,i,c=q(164),g=d();a(14),f(g.workOrder==null?null:g.workOrder.title),a(2),h("Work Order #",g.workOrder==null?null:g.workOrder.id,""),a(3),h(" ",g.getPriorityLabel(g.workOrder==null?null:g.workOrder.priority)," "),a(2),h(" ",(g.workOrder==null||g.workOrder.category==null?null:g.workOrder.category.name)||"Uncategorized"," "),a(2),se(g.getStatusClass(g.workOrder==null?null:g.workOrder.status)),a(3),h(" ",g.getStatusLabel(g.workOrder==null?null:g.workOrder.status)," "),a(),l("ngIf",g.showEditModal),a(),l("ngIf",g.showAddPartsModal&&g.workOrder),a(),l("ngIf",g.workOrder),a(11),f((g.workOrder==null?null:g.workOrder.description)||"No description provided"),a(5),f(g.getStatusLabel(g.workOrder==null?null:g.workOrder.status)),a(5),f(g.getPriorityLabel(g.workOrder==null?null:g.workOrder.priority)),a(5),f((g.workOrder==null||g.workOrder.category==null?null:g.workOrder.category.name)||"Uncategorized"),a(8),l("ngIf",g.workOrder==null?null:g.workOrder.assigned_to),a(5),l("ngIf",g.workOrder==null?null:g.workOrder.asset),a(5),l("ngIf",g.workOrder==null?null:g.workOrder.location),a(5),f((g.workOrder==null||g.workOrder.company==null?null:g.workOrder.company.name)||"Company ID: "+(g.workOrder==null?null:g.workOrder.company_id)),a(5),f((e=g.workOrder==null?null:g.workOrder.estimated_hours)!==null&&e!==void 0?e:"N/A"),a(5),f((i=g.workOrder==null?null:g.workOrder.actual_hours)!==null&&i!==void 0?i:"N/A"),a(),l("ngIf",g.workOrder==null?null:g.workOrder.notes),a(),l("ngIf",g.workOrder==null?null:g.workOrder.tags),a(10),l("ngIf",g.isTimerRunning),a(),l("ngIf",g.isTimerRunning),a(),l("ngIf",g.isTimerRunning&&g.hasActiveSession&&(g.timeLogs[0]==null?null:g.timeLogs[0].start_time)),a(4),oe("ngModel",g.currentSession.description),a(4),oe("ngModel",g.currentSession.hourlyRate),a(),se(g.isTimerRunning?"stop-button":"start-button"),a(2),l("ngIf",!g.isTimerRunning),a(),l("ngIf",g.isTimerRunning),a(),l("ngIf",g.isTimerRunning),a(),h(" ",g.isTimerRunning?"Stop Timer":"Start Timer"," "),a(4),h("",k(121,49,g.totalMinutes/60,"1.2-2")," hrs Total Time"),a(4),h("$",k(125,52,g.totalCost,"1.2-2")," Total Cost"),a(5),l("ngIf",g.timeLogs.length===0),a(),l("ngForOf",g.timeLogs),a(9),se(g.getStatusClass(g.workOrder==null?null:g.workOrder.status)),a(3),h(" ",g.getStatusLabel(g.workOrder==null?null:g.workOrder.status)," "),a(5),l("ngForOf",g.statusOptions),a(6),l("formGroup",g.commentForm),a(4),l("ngIf",g.workOrder&&g.workOrder.comments&&g.workOrder.comments.length>0),a(5),l("ngIf",g.historyPreview&&g.historyPreview.length>0)("ngIfElse",c),a(7),l("ngIf",g.assignments==null?null:g.assignments.length),a(3),l("ngIf",g.assignments.length===0),a(),l("ngIf",g.assignments.length>0),a(),l("ngIf",g.showAssignmentsModal)}}var Ue=class r{constructor(t,e,i,c,g,E){this.route=t;this.router=e;this.workOrderService=i;this.metaService=c;this.fb=g;this.teamService=E;this.commentForm=this.fb.group({comment:["",D.required]})}workOrder=null;isLoading=!0;isTimerRunning=!1;currentSession={description:"",hourlyRate:0};timeLogs=[];totalMinutes=0;totalCost=0;hasActiveSession=!1;commentForm;subscription=new j;statusOptions=[];historyPreview=[];showHistoryModal=!1;fullHistory=[];displayedElapsed="00:00:00";timerHandle=null;activeStartTime;showAssignmentsModal=!1;showEditModal=!1;showAddPartsModal=!1;showViewCostsModal=!1;assignments=[];teamMembers=[];selectedUserIds=new Set;assignmentStatuses=new Map;assignmentStatusOptions=[{value:"assigned",label:"Assigned"},{value:"accepted",label:"Accepted"},{value:"declined",label:"Declined"},{value:"completed",label:"Completed"}];openAssignmentsModal(){this.showAssignmentsModal=!0}closeAssignmentsModal(){this.showAssignmentsModal=!1}openEditModal(){this.showEditModal=!0}closeEditModal(){this.showEditModal=!1}onWorkOrderUpdated(t){this.workOrder=H(H({},this.workOrder),t),this.showEditModal=!1}openAddPartsModal(){this.showAddPartsModal=!0}closeAddPartsModal(){this.showAddPartsModal=!1}onPartsAdded(){this.closeAddPartsModal()}toggleUserSelection(t,e){e?this.selectedUserIds.add(t):this.selectedUserIds.delete(t)}saveAssignments(){if(!this.workOrder)return;let t=Array.from(this.selectedUserIds.values());this.workOrderService.setAssignments(this.workOrder.id,t).subscribe({next:e=>{this.assignments=e||[],this.closeAssignmentsModal()}})}removeAssignment(t){this.workOrder&&this.workOrderService.deleteAssignment(this.workOrder.id,t.id).subscribe({next:()=>{this.assignments=(this.assignments||[]).filter(e=>e.id!==t.id),this.selectedUserIds.delete(t.user_id)}})}isUserAlreadyAssigned(t){return(this.assignments||[]).some(e=>e.user_id===t)}getAssignmentForUser(t){return(this.assignments||[]).find(e=>e.user_id===t)}removeAssignmentByUser(t){let e=this.getAssignmentForUser(t);e&&this.removeAssignment(e)}onAssignmentStatusChange(t,e){let i=e.target;if(!this.workOrder||!t||!i?.value)return;let c=i.value;this.assignmentStatuses.set(t.id,c),this.workOrderService.updateAssignmentStatus(this.workOrder.id,t.id,c).subscribe({next:g=>{this.assignments=(this.assignments||[]).map(ne=>ne.id===g.id?U(H({},ne),{status:g.status}):ne);let E=c!=="assigned"}})}getAssignmentStatusLabel(t){let e=(t||"assigned").toLowerCase(),i=this.assignmentStatusOptions.find(c=>c.value===e);return i?i.label:e}getAssignmentStatusClass(t){switch((t||"assigned").toLowerCase()){case"accepted":return"pill-status accepted";case"declined":return"pill-status declined";case"completed":return"pill-status completed";default:return"pill-status assigned"}}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadWorkOrder(t),this.metaService.getStatus().subscribe({next:e=>{this.statusOptions=e||[]},error:()=>{this.statusOptions=[]}})}ngOnDestroy(){this.subscription.unsubscribe(),this.stopCountdown()}loadWorkOrder(t){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderById(t).subscribe({next:e=>{this.workOrder=e,this.workOrderService.getAssignments(e.id).subscribe({next:i=>{this.assignments=i||[],this.selectedUserIds=new Set((this.assignments||[]).map(c=>c.user_id)),(this.assignments||[]).forEach(c=>{let g=c.status||"assigned";this.assignmentStatuses.set(c.id,g)})}}),this.teamService.getTeamMembers().subscribe({next:i=>{this.teamMembers=i?.data||[]},error:()=>{this.teamMembers=[]}}),this.workOrderService.getComments(e.id).subscribe({next:i=>{this.workOrder.comments=i}}),this.workOrderService.getWorkOrderHistory(e.id).subscribe({next:i=>{this.fullHistory=i||[],this.historyPreview=(i||[]).slice(0,3)}}),this.workOrderService.getTimeLogs(e.id).subscribe({next:i=>{this.timeLogs=i.logs||[],this.totalMinutes=i.totals?.total_minutes||0,this.totalCost=i.totals?.total_cost||0;let c=this.timeLogs.find(g=>!g.end_time);this.hasActiveSession=!!c,c&&c.start_time?(this.isTimerRunning=!0,this.startCountdown(new Date(c.start_time))):(this.isTimerRunning=!1,this.stopCountdown())}}),this.isLoading=!1},error:e=>{console.error("Error loading work order:",e),this.isLoading=!1}}))}openHistoryModal(){this.showHistoryModal=!0}closeHistoryModal(){this.showHistoryModal=!1}goBack(){this.router.navigate(["/work-orders"])}startTimer(){this.isTimerRunning=!0,this.workOrder&&this.workOrderService.startTimer(this.workOrder.id,{description:this.currentSession.description||void 0,hourly_rate:this.currentSession.hourlyRate||void 0}).subscribe({next:()=>{let t=new Date;this.startCountdown(t),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(e=>{this.timeLogs=e.logs||[],this.totalMinutes=e.totals?.total_minutes||0,this.totalCost=e.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(i=>!i.end_time)})}})}stopTimer(){this.isTimerRunning=!1,this.workOrder&&this.workOrderService.stopTimer(this.workOrder.id).subscribe({next:()=>{this.stopCountdown(),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(t=>{this.timeLogs=t.logs||[],this.totalMinutes=t.totals?.total_minutes||0,this.totalCost=t.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(e=>!e.end_time)})}})}addComment(){if(this.commentForm.valid&&this.workOrder){let t=this.commentForm.get("comment")?.value;this.workOrderService.addComment(this.workOrder.id,t).subscribe({next:e=>{this.workOrder.comments||(this.workOrder.comments=[]),this.workOrder.comments.unshift(e),this.commentForm.reset()}})}}updateStatus(t){this.workOrder&&(this.workOrder.status=t)}onStatusChange(t){let e=t.target;if(e&&e.value){let i=e.value;if(!this.workOrder)return;this.metaService.getStatus().subscribe({next:c=>{let g=c.find(E=>E.slug===i||E.slug===i.replace("_","-"));g&&this.workOrderService.updateWorkOrderStatus(this.workOrder.id,g.id).subscribe({next:E=>{this.workOrder=U(H({},this.workOrder),{status:E.status})}})}})}}getStatusSlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"open"}getStatusClass(t){let e=this.getStatusSlug(t);return{open:"status-open","in-progress":"status-in-progress",in_progress:"status-in-progress",completed:"status-completed",cancelled:"status-cancelled"}[e]||"status-open"}getStatusLabel(t){let e=this.getStatusSlug(t);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"}[e]||e}getPrioritySlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"medium"}getPriorityLabel(t){let e=this.getPrioritySlug(t);return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[e]||e}startCountdown(t){this.activeStartTime=t,this.updateDisplayedElapsed(),this.stopCountdown(),this.timerHandle=setInterval(()=>this.updateDisplayedElapsed(),1e3)}stopCountdown(){this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}updateDisplayedElapsed(){if(!this.activeStartTime){this.displayedElapsed="00:00:00";return}let t=new Date().getTime(),e=this.activeStartTime.getTime(),i=Math.max(0,Math.floor((t-e)/1e3)),c=Math.floor(i/3600),g=Math.floor(i%3600/60),E=i%60,ne=mt=>mt.toString().padStart(2,"0");this.displayedElapsed=`${ne(c)}:${ne(g)}:${ne(E)}`}static \u0275fac=function(e){return new(e||r)(v(ot),v(Fe),v(T),v(ee),v(X),v(Oe))};static \u0275cmp=W({type:r,selectors:[["app-work-order-preview"]],standalone:!1,decls:4,vars:3,consts:[["basicTimeline",""],["assignedId",""],["assetId",""],["locationId",""],["statusBadge",""],["emailOnly",""],["modalBadge",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"work-order-preview-container"],["class","loading-state",4,"ngIf"],["class","work-order-content",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"close-btn",3,"click"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[4,"ngIf"],[1,"loading-state"],[1,"flex","items-center","justify-center","py-8"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"ml-2","text-gray-600"],[1,"work-order-content"],[1,"header-section"],[1,"back-link"],[1,"back-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"title-section"],[1,"title-content"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"wrench-icon","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"title-text"],[1,"work-order-id"],[1,"chips",2,"margin-top","4px","display","flex","gap","8px","flex-wrap","wrap"],[1,"chip",2,"background","#eef2ff","color","#3730a3","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"chip",2,"background","#ecfeff","color","#155e75","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"action-buttons"],[1,"status-button"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"isOpen","workOrder","modalClosed","workOrderUpdated",4,"ngIf"],[3,"isOpen","workOrderId","closed","saved",4,"ngIf"],[3,"isOpen","workOrderId","closed",4,"ngIf"],[1,"content-grid"],[1,"left-column"],[1,"info-card"],[1,"card-title"],[1,"row"],[1,"detail-item","col-6"],[1,"assignee-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","detail-item col-6",4,"ngIf"],[1,"card-subtitle"],[1,"current-session"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium"],["class","px-2 py-0.5 text-xs rounded-full","style","background:#dbeafe;color:#1e40af;",4,"ngIf"],["class","text-center mb-3","style","font-size:28px;letter-spacing:2px;color:#2563eb;",4,"ngIf"],["class","text-center text-xs text-gray-500 mb-3",4,"ngIf"],[1,"form-group"],["type","text","placeholder","What are you working on?",1,"form-input",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-input",3,"ngModelChange","ngModel"],[1,"timer-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z",4,"ngIf"],[1,"time-summary"],[1,"total-time"],[1,"time-label"],[1,"total-cost"],[1,"cost-label"],[1,"time-log-history"],["class","text-sm text-gray-500",4,"ngIf"],["class","time-log-entry",4,"ngFor","ngForOf"],[1,"status-section"],[1,"current-status"],[1,"status-update"],[1,"form-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"comment-form",3,"ngSubmit","formGroup"],["formControlName","comment","placeholder","Write a comment about the work order progress...",1,"comment-textarea"],["type","submit",1,"submit-comment-button"],["class","comments-list",4,"ngIf"],[1,"right-column"],[4,"ngIf","ngIfElse"],[1,"assignments-header"],[1,"assign-add-btn",3,"click"],["class","assignment-list",4,"ngIf"],[1,"quick-actions"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[3,"modalClosed","workOrderUpdated","isOpen","workOrder"],[3,"closed","saved","isOpen","workOrderId"],[3,"closed","isOpen","workOrderId"],[1,"px-2","py-0.5","text-xs","rounded-full",2,"background","#dbeafe","color","#1e40af"],[1,"text-center","mb-3",2,"font-size","28px","letter-spacing","2px","color","#2563eb"],[1,"text-center","text-xs","text-gray-500","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"],[1,"text-sm","text-gray-500"],[1,"time-log-entry"],[1,"log-info"],[1,"log-time"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[3,"value","selected"],[1,"comments-list"],["class","comment-entry",4,"ngFor","ngForOf"],[1,"comment-entry"],[1,"comment-info"],[1,"comment-text"],[1,"comment-time"],[1,"view-all-button",3,"click"],[1,"timeline-dot","dot-muted"],[1,"assignment-list"],["class","assignment-row",4,"ngFor","ngForOf"],[1,"assignment-row"],[1,"assignment-left"],[1,"avatar-circle"],[1,"assignment-meta"],[1,"assignment-name"],[1,"assignment-sub"],[1,"assignment-actions"],["title","Remove",1,"icon-btn","danger",3,"click"],[1,"assignment-select",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon","w-5","h-5"],["class","assignment-row selectable",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"assignment-row","selectable"],["class","icon-btn danger","title","Remove",3,"click",4,"ngIf"],["type","checkbox",3,"change","checked"]],template:function(e,i){e&1&&(_(0,Eo,12,1,"div",7),n(1,"div",8),_(2,Wo,7,0,"div",9)(3,kr,191,55,"div",10),o()),e&2&&(l("ngIf",i.showHistoryModal),a(2),l("ngIf",i.isLoading),a(),l("ngIf",!i.isLoading&&i.workOrder))},dependencies:[F,I,de,le,ge,B,Z,$,Q,J,K,De,ue,Ne,Ge,Ie,ce],styles:['.work-order-preview-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:100%;margin:0;position:relative}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;box-shadow:0 1px 3px #0000000f;padding:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#6b7280;text-decoration:none;font-size:.875rem;cursor:pointer;transition:color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#374151}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem .75rem;background-color:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.375rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:50}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:min(720px,95vw);max-height:80vh;background:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 10px 25px #0000001a;display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #eef2f7;display:flex;justify-content:space-between;align-items:center}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;overflow:auto}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-top:1px solid #eef2f7;display:flex;justify-content:flex-end;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;color:#374151;border-radius:.375rem;padding:.25rem .5rem;cursor:pointer;font-size:1rem;line-height:1}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .wrench-icon[_ngcontent-%COMP%]{color:#2563eb;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.875rem;font-weight:700;color:#111827;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   .work-order-id[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500;border:none;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;width:100%;max-width:100%}@media (max-width: 1024px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{position:sticky;top:1rem;align-self:start;height:fit-content}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:#111827;padding-bottom:.5rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-.5rem;margin-right:-.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:50%;padding-left:.5rem;padding-right:.5rem;box-sizing:border-box}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:100%}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;transition:border-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]:hover{background-color:#059669}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]:hover{background-color:#dc2626}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem;padding:1rem;background-color:#f9fafb;border-radius:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{text-align:center}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;background-color:#fff;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;resize:vertical;min-height:100px;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]{padding:1rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;text-align:left}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignments-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assign-add-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;background:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.5rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status[_ngcontent-%COMP%]{padding:.25rem .6rem;border-radius:9999px;font-size:.8rem;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.assigned[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.accepted[_ngcontent-%COMP%]{background:#60a5fa;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.declined[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.completed[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-select[_ngcontent-%COMP%]{padding:.4rem .75rem;border:1px solid #d1d5db;border-radius:.5rem;background:#fff;font-size:.875rem;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #e5e7eb;border-radius:.5rem;overflow:hidden}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.25rem 1fr auto;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]:last-child{border-bottom:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:3rem;height:3rem;background-color:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 6px -1px #0000001a;transition:all .2s;display:flex;align-items:center;justify-content:center}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:scale(1.05)}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{bottom:1rem;right:1rem;width:2.5rem;height:2.5rem}}@media (max-width: 768px){.work-order-preview-container[_ngcontent-%COMP%]{padding:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{padding:1rem}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);max-height:80vh;background:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 10px 25px #0003;display:flex;flex-direction:column;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:.75rem}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.modal[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.modal[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.modal[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modal[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.modal[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.modal[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.modal[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.modal[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.modal[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}']})};var xr=[{path:"",component:Re},{path:":id",component:Ue}],qe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=ke({type:r});static \u0275inj=ve({imports:[Je.forChild(xr),Je]})};var gt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=ke({type:r});static \u0275inj=ve({imports:[Te,it,rt,nt,qe,te,He]})};export{gt as WorkOrdersModule};
