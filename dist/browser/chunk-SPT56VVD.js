import{a as T}from"./chunk-V67XEGGJ.js";import"./chunk-6VCTJO6U.js";import{j as S,k as w,l as A,q as E,r as I,v as D}from"./chunk-5QZV6OHW.js";import{$a as u,Bb as v,Eb as g,Fb as y,Na as r,Sa as f,Sb as n,Tb as c,Ub as _,eb as h,fc as P,gc as x,hc as k,ia as p,ja as b,ka as m,la as C,lb as O,nb as M,vb as t,wb as e,xb as d}from"./chunk-C2UTIFX7.js";import"./chunk-EQDQRRRY.js";function V(s,o){s&1&&(t(0,"div",32)(1,"div",33)(2,"p",34),n(3,"No active alerts"),e()()())}function j(s,o){if(s&1){let i=v();t(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),n(4),P(5,"uppercase"),e()(),t(6,"div",33)(7,"h4",39),n(8),e(),t(9,"p",34),n(10),e(),t(11,"div",40)(12,"span",41),n(13),P(14,"date"),e()()()(),t(15,"div",42)(16,"button",22),g("click",function(){let l=p(i).$implicit,F=y();return b(F.resolve(l))}),m(),t(17,"svg",43),d(18,"path",15),e(),n(19," Resolve "),e()()()}if(s&2){let i=o.$implicit;O("ngClass",i.alert_level),r(4),c(x(5,5,i.alert_level)),r(4),_("#",i.part_id||"-",""),r(2),c(i.message),r(3),c(k(14,7,i.created_at,"medium"))}}var z=class s{constructor(o){this.analyticsService=o}alerts=[];summary={active:0,critical:0,ack:0,total:0};filter="active";loading=!1;ngOnInit(){this.refresh()}refresh(){this.loadSummary(),this.loadAlerts()}loadSummary(){this.analyticsService.getAlertsSummary().subscribe({next:o=>{this.summary=o.data||this.summary},error:()=>{}})}loadAlerts(){this.loading=!0;let o={};this.filter==="active"&&(o.is_resolved=!1),this.filter==="ack"&&(o.is_resolved=!0),this.analyticsService.getAlerts(o).subscribe({next:i=>{let a=i.data?.data||[];this.filter==="critical"&&(a=a.filter(l=>l.alert_level==="critical")),this.alerts=a,this.loading=!1},error:()=>{this.loading=!1}})}resolve(o){this.analyticsService.resolveAlert(o.id).subscribe({next:()=>this.loadAlerts()})}runScan(){this.analyticsService.scanAlerts().subscribe({next:()=>this.refresh()})}setFilter(o){this.filter=o,this.loadAlerts()}static \u0275fac=function(i){return new(i||s)(f(T))};static \u0275cmp=u({type:s,selectors:[["app-dashboard-alerts"]],decls:78,vars:18,consts:[[1,"dashboard-alerts"],[1,"alert-system-header"],[1,"system-title"],[1,"system-subtitle"],[1,"summary-cards-row"],[1,"summary-card","active-alerts"],[1,"card-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"card-content"],[1,"card-value"],[1,"card-label"],[1,"summary-card","critical"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"summary-card","acknowledged"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"summary-card","total-alerts"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[1,"alert-management-section"],[1,"section-header"],[1,"section-title"],[1,"section-subtitle"],[1,"action-btn","acknowledge",3,"click"],[1,"alert-tabs"],[1,"tab-button",3,"click"],[1,"tab-text"],[1,"tab-count"],[1,"alert-list"],["class","alert-item",4,"ngIf"],["class","alert-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"fab"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"alert-item"],[1,"alert-content"],[1,"alert-description"],[1,"alert-item",3,"ngClass"],[1,"alert-left"],[1,"alert-severity"],[1,"severity-label"],[1,"alert-title"],[1,"alert-details"],[1,"timestamp"],[1,"alert-actions"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),n(3,"Stock Alert System"),e(),t(4,"p",3),n(5,"Real-time notifications for inventory issues and opportunities"),e()(),t(6,"div",4)(7,"div",5)(8,"div",6),m(),t(9,"svg",7),d(10,"path",8),e()(),C(),t(11,"div",9)(12,"div",10),n(13),e(),t(14,"div",11),n(15,"Active Alerts"),e()()(),t(16,"div",12)(17,"div",6),m(),t(18,"svg",7),d(19,"path",13),e()(),C(),t(20,"div",9)(21,"div",10),n(22),e(),t(23,"div",11),n(24,"Critical"),e()()(),t(25,"div",14)(26,"div",6),m(),t(27,"svg",7),d(28,"path",15),e()(),C(),t(29,"div",9)(30,"div",10),n(31),e(),t(32,"div",11),n(33,"Acknowledged"),e()()(),t(34,"div",16)(35,"div",6),m(),t(36,"svg",7),d(37,"path",17),e()(),C(),t(38,"div",9)(39,"div",10),n(40),e(),t(41,"div",11),n(42,"Total Alerts"),e()()()(),t(43,"div",18)(44,"div",19)(45,"h3",20),n(46,"Alert Management"),e(),t(47,"p",21),n(48,"Monitor and manage all inventory alerts"),e(),t(49,"button",22),g("click",function(){return a.runScan()}),n(50,"Run Scan"),e()(),t(51,"div",23)(52,"button",24),g("click",function(){return a.setFilter("active")}),t(53,"span",25),n(54,"Active"),e(),t(55,"span",26),n(56),e()(),t(57,"button",24),g("click",function(){return a.setFilter("critical")}),t(58,"span",25),n(59,"Critical"),e(),t(60,"span",26),n(61),e()(),t(62,"button",24),g("click",function(){return a.setFilter("ack")}),t(63,"span",25),n(64,"Acknowledged"),e(),t(65,"span",26),n(66),e()(),t(67,"button",24),g("click",function(){return a.setFilter("all")}),t(68,"span",25),n(69,"All"),e(),t(70,"span",26),n(71),e()()(),t(72,"div",27),h(73,V,4,0,"div",28)(74,j,20,10,"div",29),e()(),t(75,"button",30),m(),t(76,"svg",7),d(77,"path",31),e()()()),i&2&&(r(13),c(a.summary.active),r(9),c(a.summary.critical),r(9),c(a.summary.ack),r(9),c(a.summary.total),r(12),M("active",a.filter==="active"),r(4),_("(",a.summary.active,")"),r(),M("active",a.filter==="critical"),r(4),_("(",a.summary.critical,")"),r(),M("active",a.filter==="ack"),r(4),_("(",a.summary.ack,")"),r(),M("active",a.filter==="all"),r(4),_("(",a.summary.total,")"),r(2),O("ngIf",!a.alerts.length&&!a.loading),r(),O("ngForOf",a.alerts))},dependencies:[D,S,w,A,E,I],styles:[".dashboard-alerts[_ngcontent-%COMP%]{position:relative;padding:1.5rem;background-color:#f9fafb;min-height:100vh}.dashboard-alerts[_ngcontent-%COMP%]   .alert-system-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-system-header[_ngcontent-%COMP%]   .system-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#111827;margin:0 0 .5rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-system-header[_ngcontent-%COMP%]   .system-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem;margin:0}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:3rem}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;display:flex;align-items:center;gap:1rem}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#111827;line-height:1;margin-bottom:.25rem}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card.active-alerts[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#fef3c7;color:#f59e0b}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card.critical[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#fee2e2;color:#ef4444}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card.acknowledged[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#d1fae5;color:#10b981}.dashboard-alerts[_ngcontent-%COMP%]   .summary-cards-row[_ngcontent-%COMP%]   .summary-card.total-alerts[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#dbeafe;color:#3b82f6}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin:0 0 .5rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-tabs[_ngcontent-%COMP%]{display:flex;background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:.25rem;margin-bottom:1.5rem;overflow-x:auto}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-tabs[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:none;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;color:#6b7280;cursor:pointer;transition:all .2s;white-space:nowrap}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-tabs[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f9fafb}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-tabs[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-tabs[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item.critical[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-severity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background-color:#fee2e2;border-radius:.375rem;flex-shrink:0}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-severity[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ef4444}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-severity[_ngcontent-%COMP%]   .severity-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#ef4444;text-transform:uppercase}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0 0 .5rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-description[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0 0 .75rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]{display:flex;gap:1.5rem;font-size:.875rem}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{color:#ef4444;font-weight:500}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-left[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-details[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#9ca3af}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn.acknowledge[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn.acknowledge[_ngcontent-%COMP%]:hover{background-color:#059669}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn.dismiss[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn.dismiss[_ngcontent-%COMP%]:hover{background-color:#4b5563}.dashboard-alerts[_ngcontent-%COMP%]   .alert-management-section[_ngcontent-%COMP%]   .alert-list[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:currentColor}.dashboard-alerts[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:3.5rem;height:3.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:all .2s}.dashboard-alerts[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.dashboard-alerts[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}"]})};export{z as DashboardAlertsComponent};
