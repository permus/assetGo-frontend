import{a as Z}from"./chunk-FBOSWKT6.js";import{a as ee}from"./chunk-DU5CJWNR.js";import{a as O}from"./chunk-FQS63OT7.js";import"./chunk-E7ISDAOG.js";import"./chunk-5XQAHLWV.js";import"./chunk-GGQ7LRWG.js";import"./chunk-C5P3YSZX.js";import"./chunk-YJDI3RBY.js";import{B as X,c as U,e as W,i as Y,t as J,u as K}from"./chunk-T723B6QD.js";import"./chunk-MEXLA3FU.js";import{f as q}from"./chunk-3EU6YN4O.js";import{k as B,l as F,p as N,w as Q}from"./chunk-EETQBYPR.js";import{Fb as t,Gb as n,Hb as p,Hc as y,Lb as b,Ob as m,Pb as c,Wa as j,X as I,Xa as a,aa as R,ab as k,ac as r,bc as C,cc as h,dc as w,ec as H,fc as L,gc as z,hc as G,ia as _,ja as f,jb as D,ka as u,la as v,ob as P,pc as A,qc as $,vb as g,xb as x,ya as S,yb as V}from"./chunk-PPNYJFN7.js";import"./chunk-EQDQRRRY.js";var E=class s{constructor(l){this.api=l}plans=S([]);meta=S({});loading=S(!1);totalPlans=y(()=>this.plans().length);activePlans=y(()=>this.plans().filter(l=>l.is_active).length);scheduledItems=y(()=>this.plans().reduce((l,e)=>l+(e.scheduled_count||0),0));criticalPlans=y(()=>this.meta()?.critical_plans_count!==void 0?this.meta().critical_plans_count:this.plans().filter(l=>l.priority?.name?.toLowerCase()==="critical"||l.priority?.slug==="critical").length);fetchPlans(l,e){this.loading.set(!0);let i={include:"meta",per_page:e||20};l&&(i.name=l),this.api.listPlans(i).subscribe({next:o=>{let d=Array.isArray(o?.data?.plans)?o.data.plans:[];this.plans.set(d),o?.meta&&this.meta.set(o.meta),this.loading.set(!1)},error:()=>this.loading.set(!1)})}static \u0275fac=function(e){return new(e||s)(R(O))};static \u0275prov=I({token:s,factory:s.\u0275fac,providedIn:"root"})};function ae(s,l){s&1&&(t(0,"div",59)(1,"div",60)(2,"div",61),u(),t(3,"svg",62),p(4,"circle",63)(5,"path",64),n()(),v(),t(6,"h3",65),r(7,"Loading Maintenance Plans"),n(),t(8,"p",66),r(9,"Please wait while we fetch your plans..."),n()()())}function re(s,l){if(s&1){let e=b();t(0,"div",59)(1,"div",60)(2,"div",67),u(),t(3,"svg",68),p(4,"path",69),n()(),v(),t(5,"h3",65),r(6,"No maintenance plans found"),n(),t(7,"p",70),r(8,"Create your first maintenance plan to get started with preventive maintenance."),n(),t(9,"button",71),m("click",function(){_(e);let o=c();return f(o.openDialog())}),r(10," + Create Your First Plan "),n()()()}}function se(s,l){if(s&1){let e=b();t(0,"div",72)(1,"button",73),m("click",function(){_(e);let o=c();return f(o.toggleSelectAllPlans())}),p(2,"span",74),n(),t(3,"span",75),r(4),n()()}if(s&2){let e=c();a(),x("mr-3",!e.isRtl())("ml-3",e.isRtl()),a(3),h("Select all ",e.store.plans().length," plans")}}function ce(s,l){if(s&1){let e=b();t(0,"div",76)(1,"div",77)(2,"button",73),m("click",function(){_(e);let o=c();return f(o.toggleSelectAllPlans())}),p(3,"span",78),n(),t(4,"span",79),r(5),n(),t(6,"span",80),u(),t(7,"svg",42),p(8,"path",81),n(),r(9," Selection Mode Active - Click cards to select "),n()(),v(),t(10,"div",39)(11,"button",82),m("click",function(){_(e);let o=c();return f(o.deleteSelected())}),u(),t(12,"svg",83),p(13,"path",84),n(),r(14," Delete "),n()()()}if(s&2){let e=c();a(2),x("mr-3",!e.isRtl())("ml-3",e.isRtl())("bg-blue-100",e.selectedCount===e.store.plans().length),a(),x("bg-blue-400",e.selectedCount===e.store.plans().length)("bg-white",e.selectedCount!==e.store.plans().length),a(2),w("",e.selectedCount," plan",e.selectedCount>1?"s":""," selected"),a(2),x("mr-1",!e.isRtl())("ml-1",e.isRtl()),a(4),g("disabled",e.selectedCount===0)}}function de(s,l){s&1&&(t(0,"span",108),r(1,"Active"),n())}function pe(s,l){s&1&&(t(0,"span",109),r(1,"Inactive"),n())}function me(s,l){if(s&1){let e=b();t(0,"div",110),m("click",function(o){return _(e),f(o.stopPropagation())}),t(1,"button",111),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.viewPlan(o))}),u(),t(2,"svg",112),p(3,"path",113)(4,"path",114),n(),v(),t(5,"span",51),r(6,"View Details"),n()(),t(7,"button",111),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.editPlan(o))}),u(),t(8,"svg",112),p(9,"path",115),n(),v(),t(10,"span",51),r(11,"Edit Plan"),n()(),p(12,"div",116),t(13,"button",117),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.deletePlan(o))}),u(),t(14,"svg",118),p(15,"path",84),n(),v(),t(16,"span",119),r(17,"Delete Plan"),n()()()}if(s&2){let e=c(3);x("right-0",!e.isRtl())("left-0",e.isRtl()),a(),x("text-left",!e.isRtl())("text-right",e.isRtl()),a(),x("mr-3",!e.isRtl())("ml-3",e.isRtl()),a(5),x("text-left",!e.isRtl())("text-right",e.isRtl()),a(),x("mr-3",!e.isRtl())("ml-3",e.isRtl()),a(5),x("text-left",!e.isRtl())("text-right",e.isRtl()),a(),x("mr-3",!e.isRtl())("ml-3",e.isRtl())}}function ge(s,l){if(s&1&&(t(0,"div",105)(1,"span",106),r(2,"Type:"),n(),r(3),A(4,"titlecase"),n()),s&2){let e=c().$implicit;a(3),h(" ",$(4,1,e.plan_type)," ")}}function ue(s,l){if(s&1&&(t(0,"div",105)(1,"span",106),r(2,"Priority:"),n(),r(3),n()),s&2){let e=c().$implicit;a(3),h(" ",(e.priority==null?null:e.priority.name)||"-"," ")}}function _e(s,l){if(s&1&&(t(0,"div",120)(1,"span",106),r(2,"Description:"),n(),t(3,"span",121),r(4),n()()),s&2){let e=c().$implicit;a(4),h(" ",e.descriptions," ")}}function fe(s,l){if(s&1&&(t(0,"div",105)(1,"span",106),r(2,"Frequency:"),n(),r(3),n()),s&2){let e=c().$implicit;a(3),w(" ",e.frequency_value," ",e.frequency_unit," ")}}function xe(s,l){if(s&1&&(t(0,"div",105)(1,"span",106),r(2,"Scheduled:"),n(),r(3),n()),s&2){let e=c().$implicit;a(3),h(" ",e.scheduled_count," ")}}function ve(s,l){if(s&1){let e=b();t(0,"div",87)(1,"div",88)(2,"div",89)(3,"input",90),m("change",function(){let o=_(e).$implicit,d=c(2);return f(d.togglePlanSelection(o))}),n()(),t(4,"div",91),P(5,de,2,0,"span",92)(6,pe,2,0,"span",93),t(7,"div",94),m("click",function(o){return _(e),f(o.stopPropagation())}),t(8,"button",95),m("click",function(){let o=_(e).$implicit,d=c(2);return f(d.togglePlanMenu(o.id))}),u(),t(9,"svg",96),p(10,"circle",97)(11,"circle",98)(12,"circle",99),n()(),P(13,me,18,28,"div",100),n()(),t(14,"svg",101),p(15,"path",69),n()(),v(),t(16,"div",102)(17,"div")(18,"div",103),m("click",function(){let o=_(e).$implicit,d=c(2);return f(d.viewPlan(o))}),r(19),n(),P(20,ge,5,3,"div",104)(21,ue,4,1,"div",104),t(22,"div",105)(23,"span",106),r(24,"Status:"),n(),r(25),n(),P(26,_e,5,1,"div",107)(27,fe,4,2,"div",104)(28,xe,4,1,"div",104),n()()()}if(s&2){let e=l.$implicit,i=c(2);x("border-blue-400",i.isPlanSelected(e)),a(2),x("left-4",!i.isRtl())("right-4",i.isRtl()),a(),g("checked",i.isPlanSelected(e)),a(),x("right-4",!i.isRtl())("left-4",i.isRtl()),a(),g("ngIf",e.is_active),a(),g("ngIf",!e.is_active),a(7),g("ngIf",i.isPlanMenuOpen(e.id)),a(6),h(" ",e.name||"Unnamed Plan"," "),a(),g("ngIf",e.plan_type),a(),g("ngIf",e.priority_id),a(4),h(" ",e.is_active?"Active":"Inactive"," "),a(),g("ngIf",e.descriptions),a(),g("ngIf",e.frequency_value&&e.frequency_unit),a(),g("ngIf",e.scheduled_count!==void 0)}}function he(s,l){if(s&1&&(t(0,"div",85),P(1,ve,29,21,"div",86),n()),s&2){let e=c();a(),g("ngForOf",e.store.plans())}}function be(s,l){if(s&1){let e=b();t(0,"div",72)(1,"button",73),m("click",function(){_(e);let o=c();return f(o.toggleSelectAllPlans())}),p(2,"span",74),n(),t(3,"span",75),r(4),n()()}if(s&2){let e=c();a(),x("mr-3",!e.isRtl())("ml-3",e.isRtl()),a(3),h("Select all ",e.store.plans().length," plans")}}function Pe(s,l){if(s&1){let e=b();t(0,"div",76)(1,"div",77)(2,"button",73),m("click",function(){_(e);let o=c();return f(o.toggleSelectAllPlans())}),p(3,"span",78),n(),t(4,"span",79),r(5),n(),t(6,"span",80),u(),t(7,"svg",42),p(8,"path",81),n(),r(9," Selection Mode Active - Click items to select "),n()(),v(),t(10,"div",39)(11,"button",82),m("click",function(){_(e);let o=c();return f(o.openDeleteModalForSelected())}),u(),t(12,"svg",83),p(13,"path",84),n(),r(14," Delete Selected "),n()()()}if(s&2){let e=c();a(2),x("mr-3",!e.isRtl())("ml-3",e.isRtl())("bg-blue-100",e.selectedCount===e.store.plans().length),a(),x("bg-blue-400",e.selectedCount===e.store.plans().length)("bg-white",e.selectedCount!==e.store.plans().length),a(2),w("",e.selectedCount," plan",e.selectedCount>1?"s":""," selected"),a(2),x("mr-1",!e.isRtl())("ml-1",e.isRtl()),a(4),g("disabled",e.selectedCount===0)}}function Ce(s,l){if(s&1){let e=b();t(0,"div",134),m("click",function(o){return _(e),f(o.stopPropagation())}),t(1,"button",135),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.viewPlan(o))}),u(),t(2,"svg",112),p(3,"path",113)(4,"path",114),n(),v(),t(5,"span",51),r(6,"View Plan"),n()(),t(7,"button",135),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.editPlan(o))}),u(),t(8,"svg",112),p(9,"path",115),n(),v(),t(10,"span",51),r(11,"Edit Plan"),n()(),p(12,"div",116),t(13,"button",136),m("click",function(){_(e);let o=c().$implicit,d=c(2);return f(d.deletePlan(o))}),u(),t(14,"svg",118),p(15,"path",84),n(),v(),t(16,"span",119),r(17,"Delete Plan"),n()()()}}function we(s,l){if(s&1){let e=b();t(0,"div",128)(1,"div",124)(2,"div",77)(3,"input",129),m("change",function(){let o=_(e).$implicit,d=c(2);return f(d.togglePlanSelection(o))}),n(),t(4,"div")(5,"div",130),r(6),n(),t(7,"div",66),r(8),n()()(),t(9,"div",39)(10,"span",66),r(11),n(),t(12,"div",131)(13,"button",132),m("click",function(o){let d=_(e).$implicit,M=c(2);return f(M.togglePlanMenu(d.id,o))}),u(),t(14,"svg",96),p(15,"circle",97)(16,"circle",98)(17,"circle",99),n()(),P(18,Ce,18,0,"div",133),n()()()()}if(s&2){let e=l.$implicit,i=c(2);a(3),g("checked",i.isPlanSelected(e)),a(3),C(e.name),a(2),H("",e.plan_type," \u2022 Priority: ",(e.priority==null?null:e.priority.name)||"-"," \u2022 ",e.is_active?"Active":"Inactive",""),a(3),h("Scheduled: ",e.scheduled_count||0,""),a(7),g("ngIf",i.isPlanMenuOpen(e.id))}}function ye(s,l){if(s&1&&(t(0,"div",122)(1,"div",123)(2,"div",124)(3,"h3",125),r(4,"Maintenance Plans"),n(),t(5,"span",66),r(6),n()()(),t(7,"div",126),P(8,we,19,7,"div",127),n()()),s&2){let e=c();a(6),h("",e.store.totalPlans()," plans"),a(2),g("ngForOf",e.store.plans())}}var te=class s{constructor(l,e,i){this.store=l;this.maintenanceService=e;this.router=i}isDialogOpen=!1;editMode=!1;planToEdit=null;viewType="grid";searchQuery="";selectedPlans=[];showingArchived=!1;planMenus=[];searchTimeOut=null;showDeleteConfirmationModal=!1;ngOnInit(){this.store.fetchPlans()}openDialog(){this.editMode=!1,this.planToEdit=null,this.isDialogOpen=!0}onCreated(){this.isDialogOpen=!1,this.store.fetchPlans()}onUpdated(){this.isDialogOpen=!1,this.editMode=!1,this.planToEdit=null,this.store.fetchPlans()}onDialogClosed(){this.isDialogOpen=!1,this.editMode=!1,this.planToEdit=null}toggleSelectAllPlans(){this.selectedPlans.length===this.store.plans().length?this.selectedPlans=[]:this.selectedPlans=[...this.store.plans()]}togglePlanSelection(l){let e=this.selectedPlans.findIndex(i=>i.id===l.id);e>-1?this.selectedPlans.splice(e,1):this.selectedPlans.push(l)}isPlanSelected(l){return this.selectedPlans.some(e=>e.id===l.id)}get selectedCount(){return this.selectedPlans.length}duplicateSelected(){console.log("Duplicating selected plans:",this.selectedPlans)}generateQRCodesForSelected(){console.log("Generating QR codes for selected plans:",this.selectedPlans)}archiveSelected(){console.log("Archiving selected plans:",this.selectedPlans)}deleteSelected(l){if(this.selectedPlans.length===0){this.closeDeleteModal();return}let e=this.selectedPlans.map(T=>T.id),i=0,o=0,d=0,M=()=>{i++,i>=e.length&&(this.store.fetchPlans(),this.clearSelection(),this.closeDeleteModal(),d===0?console.log(`${o} plans deleted successfully`):o===0?console.error(`Failed to delete ${d} plans`):console.log(`${o} plans deleted successfully, ${d} failed`))};e.forEach(T=>{this.maintenanceService.deletePlan(T).subscribe({next:()=>{o++,M()},error:ne=>{console.error("Failed to delete plan:",ne),d++,M()}})})}restoreSelected(){console.log("Restoring selected plans:",this.selectedPlans)}clearSelection(){this.selectedPlans=[]}onSearch(){this.searchTimeOut&&clearTimeout(this.searchTimeOut),this.searchTimeOut=setTimeout(()=>{this.store.fetchPlans(this.searchQuery)},500)}onShowChange(l){this.store.fetchPlans(this.searchQuery,l.target.value)}toggleViewType(){this.viewType=this.viewType==="grid"?"list":"grid"}viewPlan(l){this.router.navigate(["/maintenance/plans",l.id]),this.closeAllDropdowns()}editPlan(l){this.planMenus[l.id]=!1,this.editMode=!0,this.planToEdit=l,this.isDialogOpen=!0}duplicatePlan(l){console.log("Duplicating plan:",l)}generateQRCodeForPlan(l){console.log("Generating QR code for plan:",l)}copyPublicUrl(l){console.log("Copying public URL for plan:",l)}archivePlan(l){console.log("Archiving plan:",l)}restorePlan(l){console.log("Restoring plan:",l)}deletePlan(l){this.planMenus[l.id]=!1,this.selectedPlans=[l],this.showDeleteConfirmationModal=!0}togglePlanMenu(l,e){e&&e.stopPropagation(),this.planMenus[l]=!this.planMenus[l]}isPlanMenuOpen(l){return this.planMenus[l]||!1}closeAllDropdowns(){Object.keys(this.planMenus).forEach(l=>{this.planMenus[Number(l)]=!1})}closeDeleteModal(){this.showDeleteConfirmationModal=!1}openDeleteModalForSelected(){this.selectedPlans.length!==0&&(this.showDeleteConfirmationModal=!0)}isRtl(){return document.documentElement.dir==="rtl"}static \u0275fac=function(e){return new(e||s)(k(E),k(O),k(q))};static \u0275cmp=D({type:s,selectors:[["app-plans-page"]],hostBindings:function(e,i){e&1&&m("click",function(){return i.closeAllDropdowns()},!1,j)},decls:103,vars:36,consts:[[1,"plans-page","min-h-screen","bg-gray-50","p-6"],[1,"mb-6","flex","flex-col","md:flex-row","md:items-center","md:justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","text-base"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","mb-8"],[1,"rounded-xl","bg-blue-50","border","border-blue-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-base","font-medium","text-gray-700"],[1,"w-10","h-10","bg-blue-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-sm","text-blue-600","font-medium","mt-1"],[1,"rounded-xl","bg-green-50","border","border-green-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-green-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-400"],["cx","12","cy","12","r","8","stroke","currentColor","stroke-width","2","fill","none"],["cx","12","cy","12","r","4","fill","currentColor",1,"text-green-400"],[1,"text-sm","text-green-600","font-medium","mt-1"],[1,"rounded-xl","bg-orange-50","border","border-orange-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-orange-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"text-sm","text-orange-600","font-medium","mt-1"],[1,"rounded-xl","bg-red-50","border","border-red-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-red-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"text-sm","text-red-600","font-medium","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-6"],[1,"flex-1","flex","flex-col","space-y-3","md:space-y-0","md:flex-row","md:items-center","md:space-x-3"],[1,"relative","w-full","md:w-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search plans by name, type, or description...",1,"w-full","py-2","border-2","border-blue-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","placeholder-gray-400",3,"ngModelChange","input","ngModel"],[1,"flex","items-center","space-x-2"],[1,"flex","bg-white","border","border-gray-200","rounded-xl","p-1","shadow-sm"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","border","transition-all","duration-200","flex","items-center","space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border border-gray-200",4,"ngIf"],[1,"mt-8","flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change"],["value","10"],["value","25"],["value","50"],["value","100"],[3,"closed","created","updated","isOpen","editMode","planToEdit"],[3,"closeModal","confirmDelete","isOpen","selectedCount"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-gray-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center"],["type","button",1,"focus:outline-none","inline-flex","items-center","justify-center","w-6","h-6","rounded-full","border-2","border-blue-400","transition-colors",3,"click"],[1,"w-3","h-3","rounded-full","block","bg-white","transition-colors"],[1,"font-semibold","text-gray-900"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-3","h-3","rounded-full","block","transition-colors"],[1,"font-bold","text-gray-900"],[1,"bg-blue-50","text-blue-600","px-3","py-1","rounded-full","text-sm","flex","items-center","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7"],[1,"bg-red-50","text-red-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","mt-2"],["class","rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden",3,"border-blue-400",4,"ngFor","ngForOf"],[1,"rounded-2xl","border","border-blue-200","bg-white","shadow-sm","flex","flex-col","transition-all","hover:shadow-md","overflow-hidden"],[1,"relative","bg-[#e0edff]","h-32","flex","flex-col","items-center","justify-center"],[1,"absolute","top-4","flex","items-center"],["type","checkbox",1,"plan-card-checkbox",3,"change","checked"],[1,"absolute","top-4","flex","items-center","space-x-2"],["class","bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],["class","bg-gray-100 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],[1,"relative",3,"click"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",3,"right-0","left-0","click",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-blue-400"],[1,"flex-1","flex","flex-col","justify-between","p-6","pt-4"],[1,"font-semibold","text-lg","text-gray-900","mb-2","cursor-pointer","hover:text-blue-600","transition-colors",3,"click"],["class","text-sm text-gray-700 mb-1",4,"ngIf"],[1,"text-sm","text-gray-700","mb-1"],[1,"font-medium","text-gray-600"],["class","text-sm text-gray-700 mb-2",4,"ngIf"],[1,"bg-green-100","text-green-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"bg-gray-100","text-gray-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"absolute","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50",3,"click"],[1,"w-full","flex","items-center","px-3","py-2","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"border-t","border-gray-100","my-1"],[1,"w-full","flex","items-center","px-3","py-2","hover:bg-red-50","text-red-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],[1,"text-sm","font-medium"],[1,"text-sm","text-gray-700","mb-2"],[1,"line-clamp-2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-medium","text-gray-900"],[1,"divide-y","divide-gray-200","overflow-visible"],["class","px-6 py-4 hover:bg-gray-50 transition-colors relative overflow-visible",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50","transition-colors","relative","overflow-visible"],["type","checkbox",1,"plan-list-checkbox",3,"change","checked"],[1,"font-medium","text-gray-900"],[1,"relative","overflow-visible"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors",3,"click"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-[100]",3,"click",4,"ngIf"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-[100]",3,"click"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","text-red-600","transition-colors",3,"click"]],template:function(e,i){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"Maintenance Plans Hub"),n(),t(5,"p",3),r(6,"Create and manage preventive maintenance templates with advanced scheduling"),n()(),t(7,"div",4)(8,"button",5),m("click",function(){return i.openDialog()}),u(),t(9,"svg",6),p(10,"path",7),n(),r(11," Create Plan "),n()()(),v(),t(12,"div",8)(13,"div",9)(14,"div",10)(15,"span",11),r(16,"Total Plans"),n(),t(17,"span",12),u(),t(18,"svg",13),p(19,"path",14),n()()(),v(),t(20,"div",15),r(21),n(),t(22,"span",16),r(23,"Plans in system"),n()(),t(24,"div",17)(25,"div",10)(26,"span",11),r(27,"Active Plans"),n(),t(28,"span",18),u(),t(29,"svg",19),p(30,"circle",20)(31,"circle",21),n()()(),v(),t(32,"div",15),r(33),n(),t(34,"span",22),r(35,"Operational plans"),n()(),t(36,"div",23)(37,"div",10)(38,"span",11),r(39,"Scheduled Items"),n(),t(40,"span",24),u(),t(41,"svg",25),p(42,"path",26),n()()(),v(),t(43,"div",15),r(44),n(),t(45,"span",27),r(46,"Scheduled maintenance"),n()(),t(47,"div",28)(48,"div",10)(49,"span",11),r(50,"Critical Plans"),n(),t(51,"span",29),u(),t(52,"svg",30),p(53,"path",31),n()()(),v(),t(54,"div",15),r(55),n(),t(56,"span",32),r(57,"High priority plans"),n()()(),t(58,"div",33)(59,"div",34)(60,"div",35),u(),t(61,"svg",36),p(62,"path",37),n(),v(),t(63,"input",38),G("ngModelChange",function(d){return z(i.searchQuery,d)||(i.searchQuery=d),d}),m("input",function(){return i.onSearch()}),n()()(),t(64,"div",39)(65,"div",40)(66,"button",41),m("click",function(){return i.toggleViewType()}),u(),t(67,"svg",42),p(68,"path",43),n(),v(),t(69,"span"),r(70,"Grid"),n()(),t(71,"button",41),m("click",function(){return i.toggleViewType()}),u(),t(72,"svg",42),p(73,"path",44),n(),v(),t(74,"span"),r(75,"List"),n()()()()(),P(76,ae,10,0,"div",45)(77,re,11,0,"div",45)(78,se,5,5,"div",46)(79,ce,15,17,"div",47)(80,he,2,1,"div",48)(81,be,5,5,"div",46)(82,Pe,15,17,"div",47)(83,ye,9,2,"div",49),t(84,"div",50)(85,"div",39)(86,"span",51),r(87,"Show:"),n(),t(88,"select",52),m("change",function(d){return i.onShowChange(d)}),t(89,"option",53),r(90,"10"),n(),t(91,"option",54),r(92,"25"),n(),t(93,"option",55),r(94,"50"),n(),t(95,"option",56),r(96,"100"),n()(),t(97,"span",51),r(98,"per page"),n()(),t(99,"div",51),r(100),n()(),t(101,"app-plan-dialog",57),m("closed",function(){return i.onDialogClosed()})("created",function(){return i.onCreated()})("updated",function(){return i.onUpdated()}),n(),t(102,"app-maintenance-delete-confirmation-modal",58),m("closeModal",function(){return i.closeDeleteModal()})("confirmDelete",function(d){return i.deleteSelected(d)}),n()()),e&2){let o;a(21),C(i.store.totalPlans()),a(12),C((o=(o=i.store.meta())==null?null:o.active_plans_count)!==null&&o!==void 0?o:i.store.activePlans()),a(11),C(i.store.scheduledItems()),a(11),C(i.store.criticalPlans()),a(6),x("left-3",!i.isRtl())("right-3",i.isRtl()),a(2),x("pl-10",!i.isRtl())("pr-10",i.isRtl())("pr-4",!i.isRtl())("pl-4",i.isRtl()),L("ngModel",i.searchQuery),a(3),V(i.viewType==="grid"?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-transparent"),a(5),V(i.viewType==="list"?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 border-transparent"),a(5),g("ngIf",i.store.loading()),a(),g("ngIf",!i.store.loading()&&i.store.totalPlans()===0),a(),g("ngIf",i.viewType==="grid"&&i.selectedCount===0&&!i.store.loading()&&i.store.totalPlans()>0),a(),g("ngIf",i.viewType==="grid"&&i.selectedCount>0&&!i.store.loading()),a(),g("ngIf",i.viewType==="grid"&&!i.store.loading()&&i.store.totalPlans()>0),a(),g("ngIf",i.viewType==="list"&&i.selectedCount===0&&!i.store.loading()&&i.store.totalPlans()>0),a(),g("ngIf",i.viewType==="list"&&i.selectedCount>0&&!i.store.loading()),a(),g("ngIf",i.viewType==="list"&&!i.store.loading()&&i.store.totalPlans()>0),a(17),w(" Showing 1 - ",i.store.totalPlans()," of ",i.store.totalPlans()," entries "),a(),g("isOpen",i.isDialogOpen)("editMode",i.editMode)("planToEdit",i.planToEdit),a(),g("isOpen",i.showDeleteConfirmationModal)("selectedCount",i.selectedCount)}},dependencies:[Q,B,F,N,X,J,K,U,W,Y,Z,ee],styles:['.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#111827;margin:0}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:.25rem 0 0}.plans-page[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem;margin-bottom:1rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:#16a34a}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .value.danger[_ngcontent-%COMP%]{color:#ef4444}.plans-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:.75rem;opacity:.6}.plans-page[_ngcontent-%COMP%]   .skeletons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:3rem;color:#6b7280}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;color:#111827;margin-top:.5rem}.plans-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 1rem}.plans-page[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}.plans-page[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem}.plans-page[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:600}.plans-page[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem}.plans-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.plans-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.plans-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.plans-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.plans-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.plan-card-checkbox[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#2563eb;background-color:#fff;border:2px solid #60a5fa;border-radius:9999px;appearance:none;-webkit-appearance:none;cursor:pointer;position:relative}.plan-card-checkbox[_ngcontent-%COMP%]:checked{background-color:#60a5fa;border-color:#60a5fa}.plan-card-checkbox[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.5rem;height:.5rem;background-color:#fff;border-radius:50%}.plan-card-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6}.plan-list-checkbox[_ngcontent-%COMP%]{width:1rem;height:1rem;color:#2563eb;background-color:#fff;border:2px solid #60a5fa;border-radius:50%;appearance:none;-webkit-appearance:none;cursor:pointer;position:relative}.plan-list-checkbox[_ngcontent-%COMP%]:checked{background-color:#60a5fa;border-color:#60a5fa}.plan-list-checkbox[_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:.375rem;height:.375rem;background-color:#fff;border-radius:50%}.plan-list-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6}.plan-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.border-blue-400[_ngcontent-%COMP%]{border-color:#60a5fa}.btn[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.relative[_ngcontent-%COMP%]{position:relative}.z-50[_ngcontent-%COMP%]{z-index:50}@media (max-width: 640px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 641px) and (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 769px) and (max-width: 1024px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1025px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f6;border-color:transparent}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.border-blue-400[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.w-16.h-16[_ngcontent-%COMP%]{width:4rem;height:4rem}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.transition-colors[_ngcontent-%COMP%]{transition:color .2s ease-in-out,background-color .2s ease-in-out,border-color .2s ease-in-out}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.hover\\:shadow-md[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.hover\\:shadow-lg[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}']})};export{te as PlansPageComponent};
