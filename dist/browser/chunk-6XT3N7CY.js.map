{"version":3,"sources":["src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.ts","src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.html","src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.ts","src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.html","src/app/assets/asset-list/asset-list.component.ts","src/app/assets/asset-list/asset-list.component.html","node_modules/flatpickr/dist/esm/types/options.js","node_modules/flatpickr/dist/esm/l10n/default.js","node_modules/flatpickr/dist/esm/utils/index.js","node_modules/flatpickr/dist/esm/utils/dom.js","node_modules/flatpickr/dist/esm/utils/formatting.js","node_modules/flatpickr/dist/esm/utils/dates.js","node_modules/flatpickr/dist/esm/utils/polyfills.js","node_modules/flatpickr/dist/esm/index.js","src/app/assets/asset-list/asset-create.component.ts","src/app/assets/asset-list/asset-create.component.html","src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.ts","src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.html","src/app/assets/components/asset-view/asset-view.component.ts","src/app/assets/components/asset-view/asset-view.component.html","src/app/assets/components/asset-edit/asset-edit.component.ts","src/app/assets/components/asset-edit/asset-edit.component.html","src/app/assets/components/smart-import/smart-import.component.ts","src/app/assets/components/smart-import/smart-import.component.html","src/app/assets/assets-routing.module.ts","src/app/assets/assets.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { trigger, transition, style, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-archive-confirmation-modal',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './archive-confirmation-modal.component.html',\r\n  styleUrl: './archive-confirmation-modal.component.scss',\r\n  animations: [\r\n    trigger('backdropAnimation', [\r\n      transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('150ms ease-out', style({ opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('modalAnimation', [\r\n      transition(':enter', [\r\n        style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }),\r\n        animate('200ms ease-out', style({ \r\n          opacity: 1, \r\n          transform: 'scale(1) translateY(0)' \r\n        }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class ArchiveConfirmationModalComponent {\r\n  @Input() isOpen = false;\r\n  @Input() selectedCount = 0;\r\n  @Output() closeModal = new EventEmitter<void>();\r\n  @Output() confirmArchive = new EventEmitter<string>();\r\n\r\n  loading = false;\r\n  archiveReason = '';\r\n\r\n  onConfirm() {\r\n    this.loading = true;\r\n    this.confirmArchive.emit(this.archiveReason);\r\n    \r\n    // Stop loading after a short delay to allow the parent component to handle the archive\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.archiveReason = '';\r\n    }, 2000);\r\n  }\r\n\r\n  onCancel() {\r\n    if (this.loading) return;\r\n    this.archiveReason = '';\r\n    this.closeModal.emit();\r\n  }\r\n}","<!-- Archive Confirmation Modal -->\r\n<div *ngIf=\"isOpen\"\r\n     class=\"fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4\"\r\n     [@backdropAnimation]>\r\n  <!-- Modal Container -->\r\n  <div class=\"bg-white rounded-2xl shadow-xl max-w-md w-full\"\r\n       [@modalAnimation]>\r\n    <!-- Modal Header -->\r\n    <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n      <div class=\"flex items-center space-x-3\">\r\n        <div class=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n          <svg class=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"></path>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"text-xl font-semibold text-gray-900\">Archive Selected Assets</h2>\r\n      </div>\r\n      <button\r\n        (click)=\"onCancel()\"\r\n        [disabled]=\"loading\"\r\n        class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50\">\r\n        <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Modal Content -->\r\n    <div class=\"p-6\">\r\n      <!-- Archive Reason Input -->\r\n      <div class=\"mb-6\">\r\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Archive Reason (Optional)</label>\r\n        <textarea\r\n          [(ngModel)]=\"archiveReason\"\r\n          rows=\"3\"\r\n          placeholder=\"Enter reason for archiving these assets...\"\r\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none placeholder-gray-400\"></textarea>\r\n        <p class=\"text-xs text-gray-500 mt-1\">This will be recorded in the audit trail</p>\r\n      </div>\r\n\r\n      <!-- Warning Icon -->\r\n      <div class=\"flex justify-center mb-4\">\r\n        <div class=\"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center\">\r\n          <svg class=\"w-8 h-8 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"></path>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Confirmation Message -->\r\n      <div class=\"text-center mb-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">Are you sure you want to archive {{selectedCount}} asset{{selectedCount !== 1 ? 's' : ''}}?</h3>\r\n        <p class=\"text-gray-600\">\r\n          This will change their status to inactive but keep all data intact.\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Action Buttons -->\r\n      <div class=\"flex items-center justify-end space-x-3\">\r\n        <button\r\n          (click)=\"onCancel()\"\r\n          [disabled]=\"loading\"\r\n          class=\"px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50\">\r\n          Cancel\r\n        </button>\r\n\r\n        <button\r\n          (click)=\"onConfirm()\"\r\n          [disabled]=\"loading\"\r\n          class=\"px-6 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          <span *ngIf=\"!loading\">Archive {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}</span>\r\n          <span *ngIf=\"loading\" class=\"flex items-center space-x-2\">\r\n            <svg class=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            <span>Archiving...</span>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { trigger, transition, style, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-restore-confirmation-modal',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './restore-confirmation-modal.component.html',\r\n  styleUrl: './restore-confirmation-modal.component.scss',\r\n  animations: [\r\n    trigger('backdropAnimation', [\r\n      transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('150ms ease-out', style({ opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('modalAnimation', [\r\n      transition(':enter', [\r\n        style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }),\r\n        animate('200ms ease-out', style({ \r\n          opacity: 1, \r\n          transform: 'scale(1) translateY(0)' \r\n        }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class RestoreConfirmationModalComponent {\r\n  @Input() isOpen = false;\r\n  @Input() selectedCount = 0;\r\n  @Input() assetName = '';\r\n  @Output() closeModal = new EventEmitter<void>();\r\n  @Output() confirmRestore = new EventEmitter<string>();\r\n\r\n  loading = false;\r\n  restoreReason = '';\r\n\r\n  onConfirm() {\r\n    this.loading = true;\r\n    this.confirmRestore.emit(this.restoreReason);\r\n    \r\n    // Stop loading after a short delay to allow the parent component to handle the restore\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.restoreReason = '';\r\n    }, 2000);\r\n  }\r\n\r\n  onCancel() {\r\n    if (this.loading) return;\r\n    this.restoreReason = '';\r\n    this.closeModal.emit();\r\n  }\r\n}","<!-- Restore Confirmation Modal -->\r\n<div *ngIf=\"isOpen\"\r\n     class=\"fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4\"\r\n     [@backdropAnimation]>\r\n  <!-- Modal Container -->\r\n  <div class=\"bg-white rounded-2xl shadow-xl max-w-md w-full\"\r\n       [@modalAnimation]>\r\n    <!-- Modal Header -->\r\n    <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n      <div class=\"flex items-center space-x-3\">\r\n        <div class=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\r\n          <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"text-xl font-semibold text-gray-900\">\r\n          {{selectedCount > 1 ? 'Restore Selected Assets' : 'Restore Asset'}}\r\n        </h2>\r\n      </div>\r\n      <button\r\n        (click)=\"onCancel()\"\r\n        [disabled]=\"loading\"\r\n        class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50\">\r\n        <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Modal Content -->\r\n    <div class=\"p-6\">\r\n      <!-- Success Icon -->\r\n      <div class=\"flex justify-center mb-6\">\r\n        <div class=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\">\r\n          <svg class=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Confirmation Message -->\r\n      <div class=\"text-center mb-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-3\">\r\n          Are you sure you want to restore {{selectedCount > 1 ? selectedCount + ' assets' : (assetName || '1 asset')}}?\r\n        </h3>\r\n        <p class=\"text-gray-600 mb-4\">\r\n          {{selectedCount > 1 ? \r\n            'These assets will be moved back to active status and become available in searches.' : \r\n            'This asset will be moved back to active status and become available in searches.'}}\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Restore Reason Input -->\r\n      <div class=\"mb-6\">\r\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Restore Reason (Optional)</label>\r\n        <textarea\r\n          [(ngModel)]=\"restoreReason\"\r\n          rows=\"3\"\r\n          [placeholder]=\"'Enter reason for restoring ' + (selectedCount > 1 ? 'these assets' : 'this asset') + '...'\"\r\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none placeholder-gray-400\"></textarea>\r\n        <p class=\"text-xs text-gray-500 mt-1\">This will be recorded in the audit trail</p>\r\n      </div>\r\n\r\n      <!-- Info Box -->\r\n      <div class=\"bg-green-50 border border-green-200 rounded-lg p-3 mb-6\">\r\n        <div class=\"flex items-center space-x-2\">\r\n          <svg class=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n          </svg>\r\n          <p class=\"text-green-800 text-sm font-medium\">\r\n            Assets will be restored to active status\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Action Buttons -->\r\n      <div class=\"flex items-center justify-end space-x-3\">\r\n        <button\r\n          (click)=\"onCancel()\"\r\n          [disabled]=\"loading\"\r\n          class=\"px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50\">\r\n          Cancel\r\n        </button>\r\n\r\n        <button\r\n          (click)=\"onConfirm()\"\r\n          [disabled]=\"loading\"\r\n          class=\"px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          <span *ngIf=\"!loading\">\r\n            Restore {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}\r\n          </span>\r\n          <span *ngIf=\"loading\" class=\"flex items-center space-x-2\">\r\n            <svg class=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            <span>Restoring...</span>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, HostListener } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CurrencyPipe, NgIf, NgFor, NgClass } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AssetService } from '../services/asset.service';\r\nimport { OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject, takeUntil } from 'rxjs';\r\nimport { ArchiveConfirmationModalComponent } from '../components/archive-confirmation-modal/archive-confirmation-modal.component';\r\nimport { DeleteConfirmationModalComponent } from '../components/delete-confirmation-modal/delete-confirmation-modal.component';\r\nimport { RestoreConfirmationModalComponent } from '../components/restore-confirmation-modal/restore-confirmation-modal.component';\r\nimport { PdfExportService } from '../../shared/services/pdf-export.service';\r\nimport { RouterModule } from '@angular/router';\r\nimport { PaginationComponent, PaginationData } from '../../shared/components/pagination/pagination.component';\r\nimport { GlobalDropdownComponent, DropdownOption } from '../../shared/components/global-dropdown/global-dropdown.component';\r\nimport * as QRCode from 'qrcode';\r\n\r\n@Component({\r\n  selector: 'app-asset-list',\r\n  standalone: true,\r\n  imports: [CurrencyPipe, NgIf, NgFor, FormsModule, ArchiveConfirmationModalComponent, DeleteConfirmationModalComponent, RestoreConfirmationModalComponent, RouterModule, PaginationComponent, GlobalDropdownComponent],\r\n  templateUrl: './asset-list.component.html',\r\n  styleUrls: ['./asset-list.component.scss']\r\n})\r\nexport class AssetListComponent implements OnInit, OnDestroy {\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private assetService: AssetService,\r\n    private pdfExportService: PdfExportService\r\n  ) {}\r\n\r\n  summary = {\r\n    totalAssets: 0,\r\n    activeAssets: 0,\r\n    maintenance:0,\r\n    totalValue: 0,\r\n    assetHealth: 0\r\n  };\r\n\r\n  // Loading states\r\n  loading = false;\r\n  exportingExcel = false;\r\n  error = '';\r\n\r\n  showMenu = false;\r\n\r\n  // Filter dropdowns\r\n  showTypeDropdown = false;\r\n  showStatusDropdown = false;\r\n  showSortDropdown = false;\r\n  showSortDirDropdown = false;\r\n\r\n  // Archive modal state\r\n  showArchiveConfirmationModal = false;\r\n  showDeleteConfirmationModal = false;\r\n  showRestoreConfirmationModal = false;\r\n  selectedAssetForRestore: any = null;\r\n\r\n  // View state\r\n  showingArchived = false;\r\n\r\n  typeOptions = [\r\n    { value: '', label: 'All Types' },\r\n    { value: 'fixed', label: 'Fixed Asset' },\r\n    { value: 'semi-fixed', label: 'Semi-Fixed Asset' },\r\n    { value: 'mobile', label: 'Mobile Asset' },\r\n    { value: 'fleet', label: 'Fleet Asset' }\r\n  ];\r\n  statusOptions = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'Active', label: 'Active' },\r\n    { value: 'Maintenance', label: 'Maintenance' },\r\n    { value: 'Inactive', label: 'Inactive' },\r\n    { value: 'Retired', label: 'Retired' }\r\n  ];\r\n  sortOptions = [\r\n    { value: 'name', label: 'Name' },\r\n    { value: 'created_at', label: 'Date Added' },\r\n    { value: 'status', label: 'Status' },\r\n    { value: 'manufacturer', label: 'Manufacturer' },\r\n    { value: 'purchase_price', label: 'Cost' }\r\n  ];\r\n  selectedType = this.typeOptions[0];\r\n  selectedStatus = this.statusOptions[0];\r\n  selectedSort = this.sortOptions[0];\r\n  selectedSortDir = 'desc';\r\n\r\n  // Standard dropdown options (Rule 1)\r\n  sortDropdownOptions: DropdownOption[] = [];\r\n  selectedSortOption: DropdownOption | null = null;\r\n  assetTypeDropdownOptions: DropdownOption[] = [];\r\n  selectedAssetTypeOption: DropdownOption | null = null;\r\n  assetStatusDropdownOptions: DropdownOption[] = [];\r\n  selectedAssetStatusOption: DropdownOption | null = null;\r\n\r\n  viewType: 'grid' | 'list' = 'grid';\r\n  searchQuery = '';\r\n  // Tabs: Active | Archive\r\n  activeTab: 'active' | 'archive' = 'active';\r\n\r\n  // Filter parameters\r\n  currentFilters = {\r\n    search: '',\r\n    type: '',\r\n    status: '',\r\n    category_id: '',\r\n    location_id: '',\r\n    sort_by: 'name',\r\n    sort_direction: 'desc',\r\n    page: 1,\r\n    per_page: 20,\r\n    archived: false\r\n  };\r\n\r\n  assetList: any[] = [];\r\n  categories: any[] = [];\r\n  locations: any[] = [];\r\n  assetTypes: any[] = [];\r\n  showAssetTypeDropdown = false;\r\n  selectedAssetType: any | null = null;\r\n  assetStatuses: any[] = [];\r\n  showAssetStatusDropdown = false;\r\n  selectedAssetStatus: any | null = null;\r\n\r\n  // Asset menu state\r\n  openAssetMenuId: number | null = null;\r\n\r\n  // Pagination\r\n  pagination: PaginationData = {\r\n    current_page: 1,\r\n    last_page: 1,\r\n    per_page: 20,\r\n    total: 0,\r\n    from: 0,\r\n    to: 0\r\n  };\r\n\r\n  selectAllAssets = false;\r\n\r\n  ngOnInit() {\r\n    this.loadAssetStatistics();\r\n    this.loadAssets();\r\n    this.loadCategories();\r\n    this.loadLocations();\r\n    this.assetService.getAssetTypes().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.assetTypes = [{ id: '', name: 'All Types', label: 'All Types', icon: null }, ...res.data.map((type: any) => ({\r\n          id: type.id,\r\n          name: type.name,\r\n          label: type.name,\r\n          icon: type.icon || null\r\n        }))];\r\n        this.selectedAssetType = this.assetTypes[0];\r\n        this.assetTypeDropdownOptions = this.assetTypes.map((t: any) => ({ id: t.id, name: t.label || t.name, icon: t.icon }));\r\n        this.selectedAssetTypeOption = this.assetTypeDropdownOptions[0] || null;\r\n      }\r\n    });\r\n    this.assetService.getAssetStatuses().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.assetStatuses = [{ id: '', name: 'All Statuses', label: 'All Statuses', color: null }, ...res.data.map((status: any) => ({\r\n          id: status.id,\r\n          name: status.name,\r\n          label: status.name,\r\n          color: status.color || null\r\n        }))];\r\n        this.selectedAssetStatus = this.assetStatuses[0];\r\n        this.assetStatusDropdownOptions = this.assetStatuses.map((s: any) => ({ id: s.id, name: s.label || s.name }));\r\n        this.selectedAssetStatusOption = this.assetStatusDropdownOptions[0] || null;\r\n      }\r\n    });\r\n\r\n    // Build sort dropdown options per Rule 1\r\n    this.sortDropdownOptions = this.sortOptions.map(o => ({ id: o.value, name: o.label }));\r\n    this.selectedSortOption = this.sortDropdownOptions.find(o => o.id === this.selectedSort.value) || this.sortDropdownOptions[0];\r\n  }\r\n\r\n  loadAssetStatistics() {\r\n    this.assetService.getAssetStatistics()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data) {\r\n            const data = response.data;\r\n            this.summary = {\r\n              totalAssets: data.total_assets || 0,\r\n              activeAssets: data.active_assets || 0,\r\n              maintenance: data.maintenance || 0,\r\n              totalValue: data.total_asset_value || 0,\r\n              assetHealth: data.total_asset_health && data.total_assets ?\r\n                Math.round(data.total_asset_health / data.total_assets) : 100\r\n            };\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading asset statistics:', error);\r\n          // Keep default summary values on error\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  // loadAssetStatistics() {\r\n  //   this.assetService.getAssetStatistics()\r\n  //     .pipe(takeUntil(this.destroy$))\r\n  //     .subscribe({\r\n  //       next: (response) => {\r\n  //         if (response.success && response.data) {\r\n  //           const data = response.data;\r\n  //           this.summary = {\r\n  //             totalAssets: data.total_assets || 0,\r\n  //             activeAssets: data.active_assets || 0,\r\n  //             maintenance: data.maintenance || 0,\r\n  //             totalValue: data.total_asset_value || 0,\r\n  //             assetHealth: data.total_asset_health ? Math.round(data.total_asset_health / (data.total_assets || 1)) : 100\r\n  //           };\r\n  //         }\r\n  //       },\r\n  //       error: (error) => {\r\n  //         console.error('Error loading asset statistics:', error);\r\n  //         // Keep default summary values on error\r\n  //       }\r\n  //     });\r\n  // }\r\n\r\n  loadAssets() {\r\n    this.loading = true;\r\n    this.error = '';\r\n\r\n    // Build query parameters\r\n    const params: any = {};\r\n\r\n    if (this.currentFilters.search) {\r\n      params.search = this.currentFilters.search;\r\n    }\r\n    if (this.currentFilters.type) {\r\n      params.type = this.currentFilters.type;\r\n    }\r\n    if (this.currentFilters.status) {\r\n      params.status = this.currentFilters.status;\r\n    }\r\n    if (this.currentFilters.category_id) {\r\n      params.category_id = this.currentFilters.category_id;\r\n    }\r\n    if (this.currentFilters.location_id) {\r\n      params.location_id = this.currentFilters.location_id;\r\n    }\r\n    if (this.currentFilters.sort_by) {\r\n      params.sort_by = this.currentFilters.sort_by;\r\n    }\r\n    if (this.currentFilters.sort_direction) {\r\n      params.sort_direction = this.currentFilters.sort_direction;\r\n    }\r\n    // Add archived parameter\r\n    params.archived = this.currentFilters.archived;\r\n    params.page = this.currentFilters.page;\r\n    params.per_page = this.currentFilters.per_page;\r\n\r\n    this.assetService.getAssets(params as any)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.assetList = (response.data.assets || response.data).map((asset: any) => ({\r\n              ...asset,\r\n              selected: false,\r\n              showMenu: false\r\n            }));\r\n\r\n            // Update pagination if available\r\n            if (response.data.pagination) {\r\n              this.pagination = response.data.pagination;\r\n            }\r\n\r\n          } else {\r\n            this.error = response.message || 'Failed to load assets';\r\n          }\r\n          this.loading = false;\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while loading assets';\r\n          this.loading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  loadCategories() {\r\n    this.assetService.getAssetCategories()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.categories = response.data.categories;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading categories:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  loadLocations() {\r\n    this.assetService.getLocations()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.locations = response.data.locations || response.data;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading locations:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  onSearch() {\r\n    this.currentFilters.search = this.searchQuery;\r\n    this.currentFilters.page = 1; // Reset to first page\r\n    this.loadAssets();\r\n  }\r\n\r\n  applyFilters() {\r\n    this.currentFilters.page = 1; // Reset to first page\r\n    this.loadAssets();\r\n  }\r\n\r\n  get selectedCount() {\r\n    return this.assetList.filter(asset => asset.selected).length;\r\n  }\r\n\r\n  toggleSelectAllAssets() {\r\n    const allSelected = this.selectedCount === this.assetList.length;\r\n    this.assetList.forEach(asset => asset.selected = !allSelected);\r\n    this.selectAllAssets = !allSelected;\r\n  }\r\n\r\n  selectType(type: any) {\r\n    const selectedOption = this.typeOptions.find(option => option.value === type);\r\n    if (selectedOption) {\r\n      this.selectedType = selectedOption;\r\n      this.currentFilters.type = selectedOption.value;\r\n    }\r\n    this.showTypeDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  selectStatus(status: any) {\r\n    const selectedOption = this.statusOptions.find(option => option.value === status);\r\n    if (selectedOption) {\r\n      this.selectedStatus = selectedOption;\r\n      this.currentFilters.status = selectedOption.value;\r\n    }\r\n    this.showStatusDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  selectSort(sort: any) {\r\n    const selectedOption = this.sortOptions.find(option => option.value === sort);\r\n    if (selectedOption) {\r\n      this.selectedSort = selectedOption;\r\n      this.currentFilters.sort_by = selectedOption.value;\r\n    }\r\n    this.showSortDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  selectSortDir(dir: 'asc' | 'desc') {\r\n    this.selectedSortDir = dir;\r\n    this.currentFilters.sort_direction = dir;\r\n    this.showSortDirDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  toggleSortDir() {\r\n    this.selectedSortDir = this.selectedSortDir === 'asc' ? 'desc' : 'asc';\r\n    this.currentFilters.sort_direction = this.selectedSortDir;\r\n    this.applyFilters();\r\n  }\r\n\r\n  duplicateSelected() {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n    if (selectedAssets.length === 0) return;\r\n\r\n    // Navigate to create page with the first selected asset for duplication\r\n    const assetToDuplicate = selectedAssets[0];\r\n    this.router.navigate(['/assets/create'], {\r\n      queryParams: {\r\n        duplicate: true,\r\n        sourceId: assetToDuplicate.id\r\n      }\r\n    });\r\n    this.clearSelection();\r\n  }\r\n\r\n  generateSerialNumber(): string {\r\n    const timestamp = Date.now().toString();\r\n    const random = Math.random().toString(36).substring(2, 8).toUpperCase();\r\n    return `SN${timestamp.slice(-6)}${random}`;\r\n  }\r\n\r\n  clearSelection() {\r\n    this.assetList.forEach(asset => asset.selected = false);\r\n    this.selectAllAssets = false;\r\n  }\r\n\r\n  showArchiveModal() {\r\n    if (this.selectedCount > 0) {\r\n      this.showArchiveConfirmationModal = true;\r\n    }\r\n  }\r\n\r\n  closeArchiveModal() {\r\n    this.showArchiveConfirmationModal = false;\r\n  }\r\n\r\n  showDeleteModal() {\r\n    if (this.selectedCount > 0) {\r\n      this.showDeleteConfirmationModal = true;\r\n    }\r\n  }\r\n\r\n  closeDeleteModal() {\r\n    this.showDeleteConfirmationModal = false;\r\n  }\r\n\r\n  closeRestoreModal() {\r\n    this.showRestoreConfirmationModal = false;\r\n    this.selectedAssetForRestore = null;\r\n  }\r\n\r\n  restoreSelectedAsset(restoreReason?: string) {\r\n    // Check if this is a bulk restore (multiple selected assets) or single asset restore\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n\r\n    if (selectedAssets.length > 1) {\r\n      // Bulk restore\r\n      this.restoreBulkAssets(restoreReason);\r\n    } else if (this.selectedAssetForRestore) {\r\n      // Single asset restore\r\n      const payload: any = {};\r\n      if (restoreReason && restoreReason.trim()) {\r\n        payload.restore_reason = restoreReason.trim();\r\n      }\r\n\r\n      this.assetService.restoreAsset(this.selectedAssetForRestore.id, payload)\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe({\r\n          next: (response) => {\r\n            if (response.success) {\r\n              this.loadAssets();\r\n              this.loadAssetStatistics();\r\n              console.log('Asset restored successfully');\r\n            } else {\r\n              this.error = response.message || 'Failed to restore asset';\r\n            }\r\n            this.closeRestoreModal();\r\n          },\r\n          error: (error) => {\r\n            this.error = error.error?.message || 'An error occurred while restoring the asset';\r\n            this.closeRestoreModal();\r\n          }\r\n        });\r\n    } else {\r\n      this.closeRestoreModal();\r\n    }\r\n  }\r\n\r\n  deleteSelected(deletionReason?: string) {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n    if (selectedAssets.length === 0) {\r\n      this.closeDeleteModal();\r\n      return;\r\n    }\r\n\r\n    // Get asset IDs for bulk delete\r\n    const assetIds = selectedAssets.map(asset => asset.id);\r\n    const payload: any = { asset_ids: assetIds };\r\n    if (deletionReason && deletionReason.trim()) {\r\n      payload.deletion_reason = deletionReason.trim();\r\n    }\r\n\r\n    this.assetService.bulkDeleteAssets(payload)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            // Check if any assets failed to delete\r\n            if (response.failed && response.failed.length > 0) {\r\n              const failedCount = response.failed.length;\r\n              const successCount = response.deleted ? response.deleted.length : 0;\r\n              this.error = `${successCount} assets deleted successfully, ${failedCount} failed to delete`;\r\n            } else {\r\n              // All assets deleted successfully\r\n              const deletedCount = response.deleted ? response.deleted.length : selectedAssets.length;\r\n              console.log(`${deletedCount} assets deleted successfully`);\r\n            }\r\n\r\n            // Reload assets and statistics\r\n            this.loadAssets();\r\n            this.loadAssetStatistics();\r\n            this.clearSelection();\r\n          } else {\r\n            this.error = response.message || 'Failed to delete assets';\r\n          }\r\n          // Close modal after completion\r\n          this.closeDeleteModal();\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while deleting assets';\r\n          // Close modal even on error\r\n          this.closeDeleteModal();\r\n        }\r\n      });\r\n  }\r\n\r\n  viewAsset(asset: any) {\r\n    this.router.navigate(['/assets/preview', asset.id]);\r\n  }\r\n\r\n  archiveSelected(archiveReason?: string) {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n    if (selectedAssets.length === 0) {\r\n      this.closeArchiveModal();\r\n      return;\r\n    }\r\n\r\n    // Get asset IDs for bulk archive\r\n    const assetIds = selectedAssets.map(asset => asset.id);\r\n    const payload: any = { asset_ids: assetIds };\r\n    if (archiveReason && archiveReason.trim()) {\r\n      payload.archive_reason = archiveReason.trim();\r\n    }\r\n\r\n    this.assetService.bulkArchiveAssets(payload)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            // Check if any assets failed to archive\r\n            if (response.failed && response.failed.length > 0) {\r\n              const failedCount = response.failed.length;\r\n              const successCount = response.archived ? response.archived.length : 0;\r\n              this.error = `${successCount} assets archived successfully, ${failedCount} failed to archive`;\r\n            } else {\r\n              // All assets archived successfully\r\n              const archivedCount = response.archived ? response.archived.length : selectedAssets.length;\r\n              console.log(`${archivedCount} assets archived successfully`);\r\n            }\r\n\r\n            // Reload assets and statistics\r\n            this.loadAssets();\r\n            this.loadAssetStatistics();\r\n            this.clearSelection();\r\n          } else {\r\n            this.error = response.message || 'Failed to archive assets';\r\n          }\r\n          // Close modal after completion\r\n          this.closeArchiveModal();\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while archiving assets';\r\n          // Close modal even on error\r\n          this.closeArchiveModal();\r\n        }\r\n      });\r\n  }\r\n\r\n  toggleTypeDropdown() {\r\n    this.showTypeDropdown = !this.showTypeDropdown;\r\n    this.showStatusDropdown = false;\r\n    this.showSortDropdown = false;\r\n    this.showSortDirDropdown = false;\r\n  }\r\n\r\n  toggleStatusDropdown() {\r\n    this.showStatusDropdown = !this.showStatusDropdown;\r\n    this.showTypeDropdown = false;\r\n    this.showSortDropdown = false;\r\n    this.showSortDirDropdown = false;\r\n  }\r\n\r\n  toggleSortDropdown() {\r\n    this.showSortDropdown = !this.showSortDropdown;\r\n    this.showTypeDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showSortDirDropdown = false;\r\n  }\r\n\r\n  toggleArchivedView() {\r\n    this.setTab(this.showingArchived ? 'active' : 'archive');\r\n    this.showMenu = false; // Close the dropdown menu\r\n  }\r\n\r\n  goToCreateAsset() {\r\n    this.router.navigate(['assets/create']);\r\n  }\r\n\r\n  exportToPdf() {\r\n    if (this.assetList.length > 0) {\r\n      const title = this.showingArchived ? 'Archived Assets Export Report' : 'Asset Export Report';\r\n      this.pdfExportService.exportAssetsToPdf(this.assetList, title);\r\n      this.showMenu = false; // Close the dropdown menu\r\n    } else {\r\n      console.log('No assets to export');\r\n    }\r\n  }\r\n\r\n  exportToExcel() {\r\n    if (this.assetList.length > 0) {\r\n      this.exportingExcel = true;\r\n      this.assetService.exportAssetsToExcel(this.showingArchived).subscribe({\r\n        next: (blob: Blob) => {\r\n          const url = window.URL.createObjectURL(blob);\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          const filename = this.showingArchived ? 'archived-assets-export.xlsx' : 'assets-export.xlsx';\r\n          link.download = filename;\r\n          link.click();\r\n          window.URL.revokeObjectURL(url);\r\n          this.exportingExcel = false;\r\n          this.showMenu = false; // Close the dropdown menu\r\n        },\r\n        error: (error) => {\r\n          console.error('Error exporting to Excel:', error);\r\n          this.exportingExcel = false;\r\n          // You can add user notification here if needed\r\n        }\r\n      });\r\n    } else {\r\n      console.log('No assets to export');\r\n    }\r\n  }\r\n\r\n  public getStatusColor(status: string): string {\r\n    const colors: { [key: string]: string } = {\r\n      'Active': 'green',\r\n      'Maintenance': 'orange',\r\n      'Inactive': 'gray',\r\n      'Retired': 'red'\r\n    };\r\n    return colors[status] || 'gray';\r\n  }\r\n\r\n  // Asset menu methods\r\n  toggleAssetMenu(assetId: number) {\r\n    // Close all other menus first\r\n    this.assetList.forEach(asset => {\r\n      if (asset.id !== assetId) {\r\n        asset.showMenu = false;\r\n      }\r\n    });\r\n\r\n    // Toggle the clicked asset's menu\r\n    const asset = this.assetList.find(a => a.id === assetId);\r\n    if (asset) {\r\n      asset.showMenu = !asset.showMenu;\r\n    }\r\n  }\r\n\r\n  editAsset(asset: any) {\r\n    this.router.navigate(['/assets', asset.id, 'edit']);\r\n    asset.showMenu = false;\r\n  }\r\n\r\n  duplicateAsset(asset: any) {\r\n    // Navigate to create page with duplication parameters\r\n    this.router.navigate(['/assets/create'], {\r\n      queryParams: {\r\n        duplicate: true,\r\n        sourceId: asset.id\r\n      }\r\n    });\r\n    asset.showMenu = false;\r\n  }\r\n\r\n  archiveAsset(asset: any) {\r\n    // Set the asset for single archive and open modal\r\n    this.assetList.forEach(a => a.selected = false); // Clear all selections\r\n    asset.selected = true; // Select only this asset\r\n    this.showArchiveConfirmationModal = true;\r\n    asset.showMenu = false;\r\n  }\r\n\r\n  deleteAsset(asset: any) {\r\n    // Set the asset for single delete and open modal\r\n    this.assetList.forEach(a => a.selected = false); // Clear all selections\r\n    asset.selected = true; // Select only this asset\r\n    this.showDeleteConfirmationModal = true;\r\n    asset.showMenu = false;\r\n  }\r\n\r\n  restoreSelected() {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n    if (selectedAssets.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // Open bulk restore modal\r\n    this.showRestoreConfirmationModal = true;\r\n  }\r\n\r\n  restoreBulkAssets(restoreReason?: string) {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n    if (selectedAssets.length === 0) {\r\n      this.closeRestoreModal();\r\n      return;\r\n    }\r\n\r\n    // Get asset IDs for bulk restore\r\n    const assetIds = selectedAssets.map(asset => asset.id);\r\n\r\n    this.assetService.bulkRestoreAssets(assetIds, restoreReason)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            // Check if any assets failed to restore\r\n            if (response.failed && response.failed.length > 0) {\r\n              const failedCount = response.failed.length;\r\n              const successCount = response.restored ? response.restored.length : 0;\r\n              this.error = `${successCount} assets restored successfully, ${failedCount} failed to restore`;\r\n            } else {\r\n              // All assets restored successfully\r\n              const restoredCount = response.restored ? response.restored.length : selectedAssets.length;\r\n              console.log(`${restoredCount} assets restored successfully`);\r\n            }\r\n\r\n            // Reload assets and statistics\r\n            this.loadAssets();\r\n            this.loadAssetStatistics();\r\n            this.clearSelection();\r\n          } else {\r\n            this.error = response.message || 'Failed to restore assets';\r\n          }\r\n          // Close modal after completion\r\n          this.closeRestoreModal();\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while restoring assets';\r\n          // Close modal even on error\r\n          this.closeRestoreModal();\r\n        }\r\n      });\r\n  }\r\n\r\n  restoreAsset(asset: any) {\r\n    this.selectedAssetForRestore = asset;\r\n    this.showRestoreConfirmationModal = true;\r\n    asset.showMenu = false;\r\n  }\r\n\r\n  toggleAssetTypeDropdown() {\r\n    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;\r\n    this.showStatusDropdown = false;\r\n    this.showSortDropdown = false;\r\n    this.showSortDirDropdown = false;\r\n  }\r\n  selectAssetType(type: any) {\r\n    this.selectedAssetType = type;\r\n    this.currentFilters.type = type.id;\r\n    this.showAssetTypeDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  toggleAssetStatusDropdown() {\r\n    this.showAssetStatusDropdown = !this.showAssetStatusDropdown;\r\n  }\r\n  selectAssetStatus(status: any) {\r\n    this.selectedAssetStatus = status;\r\n    this.currentFilters.status = status.id;\r\n    this.showAssetStatusDropdown = false;\r\n    this.applyFilters();\r\n  }\r\n\r\n  // Standard dropdown handlers (Rule 1)\r\n  onSelectAssetType(option: DropdownOption | null): void {\r\n    this.selectedAssetTypeOption = option;\r\n    this.selectedAssetType = this.assetTypes.find((t: any) => t.id === (option?.id ?? '')) || null;\r\n    this.currentFilters.type = option?.id || '';\r\n    this.applyFilters();\r\n  }\r\n\r\n  onSelectAssetStatus(option: DropdownOption | null): void {\r\n    this.selectedAssetStatusOption = option;\r\n    this.selectedAssetStatus = this.assetStatuses.find((s: any) => s.id === (option?.id ?? '')) || null;\r\n    this.currentFilters.status = option?.id || '';\r\n    this.applyFilters();\r\n  }\r\n\r\n  onSelectSort(option: DropdownOption | null): void {\r\n    this.selectedSortOption = option;\r\n    const resolved = this.sortOptions.find(o => o.value === (option?.id || '')) || this.sortOptions[0];\r\n    this.selectedSort = resolved;\r\n    this.currentFilters.sort_by = resolved.value;\r\n    this.applyFilters();\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: MouseEvent) {\r\n    const target = event.target as HTMLElement;\r\n    if (!target.closest('.menu-container')) {\r\n      this.showMenu = false;\r\n    }\r\n  }\r\n\r\n  // QR Code functionality\r\n  generateQRCodeForAsset(asset: any) {\r\n    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;\r\n\r\n    QRCode.toDataURL(publicUrl, {\r\n      width: 300,\r\n      margin: 2,\r\n      color: {\r\n        dark: '#000000',\r\n        light: '#FFFFFF'\r\n      }\r\n    }).then((dataUrl) => {\r\n      const link = document.createElement('a');\r\n      link.href = dataUrl;\r\n      link.download = `asset-${asset.id}-qr.png`;\r\n      link.click();\r\n    }).catch((error) => {\r\n      console.error('Error generating QR code:', error);\r\n    });\r\n  }\r\n\r\n  generateQRCodeForSelectedAssets() {\r\n    const selectedAssets = this.assetList.filter(asset => asset.selected);\r\n\r\n    if (selectedAssets.length === 0) {\r\n      console.log('No assets selected');\r\n      return;\r\n    }\r\n\r\n    // Generate QR codes for each selected asset\r\n    selectedAssets.forEach(asset => {\r\n      this.generateQRCodeForAsset(asset);\r\n    });\r\n  }\r\n\r\n  copyPublicUrl(asset: any) {\r\n    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;\r\n    navigator.clipboard.writeText(publicUrl).then(() => {\r\n      console.log('Public URL copied to clipboard');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle pagination page change\r\n   */\r\n  onPageChange(page: number): void {\r\n    this.currentFilters.page = page;\r\n    this.loadAssets();\r\n  }\r\n\r\n  /**\r\n   * Handle pagination per page change\r\n   */\r\n  onPerPageChange(perPage: number): void {\r\n    this.currentFilters.per_page = perPage;\r\n    this.currentFilters.page = 1; // Reset to first page when changing per page\r\n    this.loadAssets();\r\n  }\r\n\r\n  /**\r\n   * Set current tab and apply archived filter accordingly\r\n   */\r\n  setTab(tab: 'active' | 'archive'): void {\r\n    this.activeTab = tab;\r\n    this.showingArchived = tab === 'archive';\r\n    this.currentFilters.archived = this.showingArchived;\r\n    this.currentFilters.page = 1;\r\n    this.clearSelection();\r\n    this.loadAssets();\r\n  }\r\n}\r\n","<div class=\"asset-list-page min-h-screen bg-gray-50 p-6\">\r\n  <!-- Page Title and Subtitle + Actions -->\r\n  <div class=\"mb-6 flex flex-col md:flex-row md:items-center md:justify-between\">\r\n    <div>\r\n      <h1 class=\"text-2xl font-bold text-gray-900 mb-1\">Asset Intelligence Hub</h1>\r\n      <p class=\"text-gray-600 text-base\">Advanced asset monitoring with AI-powered insights and real-time analytics</p>\r\n    </div>\r\n    <div class=\"flex items-center space-x-3 mt-4 md:mt-0\">\r\n      <button (click)=\"goToCreateAsset()\"\r\n              class=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-lg shadow-sm transition-colors flex items-center cursor-pointer\">\r\n        <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n        </svg>\r\n        Add Asset\r\n      </button>\r\n      <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n        <button (click)=\"showMenu = !showMenu\"\r\n                class=\"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\">\r\n          <svg class=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <circle cx=\"12\" cy=\"5\" r=\"2\"/>\r\n            <circle cx=\"12\" cy=\"12\" r=\"2\"/>\r\n            <circle cx=\"12\" cy=\"19\" r=\"2\"/>\r\n          </svg>\r\n        </button>\r\n        <div *ngIf=\"showMenu\"\r\n             class=\"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50\">\r\n          <button\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer\">\r\n            <svg class=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2\"></path>\r\n            </svg>\r\n            <span>Analytics</span>\r\n          </button>\r\n          <button\r\n            (click)=\"toggleArchivedView()\"\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer\">\r\n            <svg class=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path *ngIf=\"!showingArchived\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"></path>\r\n              <path *ngIf=\"showingArchived\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n            </svg>\r\n            <span>{{ showingArchived ? 'View Active Assets' : 'View Archived Assets' }}</span>\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"exportToPdf()\"\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer\">\r\n            <svg class=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z\"></path>\r\n            </svg>\r\n            <span>Export Assets to PDF</span>\r\n          </button>\r\n          <button\r\n            (click)=\"exportToExcel()\"\r\n            [disabled]=\"exportingExcel\"\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n            <svg *ngIf=\"!exportingExcel\" class=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\"\r\n                 viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z\"></path>\r\n            </svg>\r\n            <svg *ngIf=\"exportingExcel\" class=\"animate-spin w-5 h-5 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            <span>{{ exportingExcel ? 'Exporting to Excel...' : 'Export Assets to Excel' }}</span>\r\n          </button>\r\n          <button\r\n            routerLink=\"/assets/import\"\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer\">\r\n            <svg class=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"></path>\r\n            </svg>\r\n            <span>Smart Import</span>\r\n          </button>\r\n\r\n          <div class=\"border-t border-gray-100 my-2\"></div>\r\n          <button\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-orange-50 text-left transition-colors cursor-pointer text-orange-600\">\r\n            <svg class=\"w-5 h-5 text-orange-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 12H4\"></path>\r\n            </svg>\r\n            <span>Archive Selected</span>\r\n          </button>\r\n          <button\r\n            class=\"w-full flex items-center space-x-3 px-4 py-2 hover:bg-red-50 text-left transition-colors cursor-pointer text-red-600\">\r\n            <svg class=\"w-5 h-5 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n            </svg>\r\n            <span>Delete Selected</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Summary Cards -->\r\n  <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8\">\r\n    <!-- Total Assets -->\r\n    <div\r\n      class=\"rounded-xl bg-blue-50 border border-blue-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md\">\r\n      <div class=\"flex items-center justify-between mb-2\">\r\n        <span class=\"text-base font-medium text-gray-700\">Total Assets</span>\r\n        <span class=\"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center\">\r\n          <svg class=\"w-6 h-6 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <div class=\"text-3xl font-bold text-gray-900\">{{ summary.totalAssets }}</div>\r\n      <a href=\"#\" class=\"text-sm text-blue-600 font-medium mt-1\">Assets in system</a>\r\n    </div>\r\n    <!-- Active Assets -->\r\n    <div\r\n      class=\"rounded-xl bg-green-50 border border-green-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md\">\r\n      <div class=\"flex items-center justify-between mb-2\">\r\n        <span class=\"text-base font-medium text-gray-700\">Active</span>\r\n        <span class=\"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center\">\r\n          <svg class=\"w-6 h-6 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"8\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\r\n            <circle cx=\"12\" cy=\"12\" r=\"4\" fill=\"currentColor\" class=\"text-green-400\"/>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <div class=\"text-3xl font-bold text-gray-900\">{{ summary.activeAssets }}</div>\r\n      <span class=\"text-sm text-green-600 font-medium mt-1\">Operational assets</span>\r\n    </div>\r\n    <!-- Maintenance -->\r\n    <div\r\n      class=\"rounded-xl bg-orange-50 border border-orange-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md\">\r\n      <div class=\"flex items-center justify-between mb-2\">\r\n        <span class=\"text-base font-medium text-gray-700\">Maintenance</span>\r\n        <span class=\"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center\">\r\n          <svg class=\"w-6 h-6 text-orange-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z\"/>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <div class=\"text-3xl font-bold text-gray-900\">{{ summary.maintenance }}</div>\r\n      <span class=\"text-sm text-orange-600 font-medium mt-1\">Under maintenance</span>\r\n    </div>\r\n    <!-- Total Value -->\r\n    <div\r\n      class=\"rounded-xl bg-purple-50 border border-purple-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md\">\r\n      <div class=\"flex items-center justify-between mb-2\">\r\n        <span class=\"text-base font-medium text-gray-700\">Total Value</span>\r\n        <span class=\"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center\">\r\n          <svg class=\"w-6 h-6 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"></path>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <div class=\"text-3xl font-bold text-gray-900\">{{ summary.totalValue | currency }}</div>\r\n      <span class=\"text-sm text-purple-600 font-medium mt-1\">Asset portfolio value</span>\r\n    </div>\r\n    <!-- Asset Health -->\r\n    <div\r\n      class=\"rounded-xl bg-cyan-50 border border-cyan-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md\">\r\n      <div class=\"flex items-center justify-between mb-2\">\r\n        <span class=\"text-base font-medium text-gray-700\">Asset Health</span>\r\n        <span class=\"w-10 h-10 bg-cyan-100 rounded-xl flex items-center justify-center\">\r\n          <svg class=\"w-6 h-6 text-cyan-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z\"></path>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <div class=\"text-3xl font-bold text-gray-900\">{{ summary.assetHealth }}%</div>\r\n      <span class=\"text-sm text-cyan-600 font-medium mt-1\">Excellent health</span>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Tabs (Inventory-style) -->\r\n  <div class=\"navigation-tabs mb-4\">\r\n    <nav class=\"tabs-nav\">\r\n      <a (click)=\"setTab('active')\" class=\"tab-link block w-full text-center\" [class.active]=\"activeTab === 'active'\">Active\r\n        Assets</a>\r\n      <a (click)=\"setTab('archive')\" class=\"tab-link block w-full text-center\" [class.active]=\"activeTab === 'archive'\">Archived\r\n        Assets</a>\r\n    </nav>\r\n  </div>\r\n\r\n  <!-- Filters and View Type -->\r\n  <div class=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\r\n    <!-- Left: Search and Filters -->\r\n    <div class=\"flex-1 flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center md:space-x-3\">\r\n      <!-- Search -->\r\n      <div class=\"relative w-full md:w-80\">\r\n        <svg class=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\"\r\n             stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\r\n        </svg>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search assets by name, location, or ID...\"\r\n          class=\"w-full pl-10 pr-3 py-2 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400\"\r\n          [(ngModel)]=\"searchQuery\"\r\n          (input)=\"onSearch()\"/>\r\n      </div>\r\n      <!-- All Types Dropdown (Rule 1) -->\r\n      <app-global-dropdown\r\n        [placeholder]=\"'Select asset type'\"\r\n        [options]=\"assetTypeDropdownOptions\"\r\n        [selectedOption]=\"selectedAssetTypeOption\"\r\n        [minWidth]=\"'280px'\"\r\n        (selectionChange)=\"onSelectAssetType($event)\">\r\n      </app-global-dropdown>\r\n      <ng-container *ngIf=\"activeTab === 'active'\">\r\n        <!-- All Statuses Dropdown (Rule 1) -->\r\n        <app-global-dropdown\r\n          [placeholder]=\"'Select asset status'\"\r\n          [options]=\"assetStatusDropdownOptions\"\r\n          [selectedOption]=\"selectedAssetStatusOption\"\r\n          [minWidth]=\"'280px'\"\r\n          (selectionChange)=\"onSelectAssetStatus($event)\">\r\n        </app-global-dropdown>\r\n      </ng-container>\r\n      <!-- Sort By Dropdown (Rule 1) -->\r\n      <app-global-dropdown\r\n        [placeholder]=\"'Select sort field'\"\r\n        [options]=\"sortDropdownOptions\"\r\n        [selectedOption]=\"selectedSortOption\"\r\n        [minWidth]=\"'240px'\"\r\n        (selectionChange)=\"onSelectSort($event)\">\r\n      </app-global-dropdown>\r\n\r\n\r\n      <!-- Sort Direction Button (toggle) -->\r\n      <div class=\"relative\">\r\n        <button (click)=\"toggleSortDir()\"\r\n                class=\"px-4 py-3 bg-gray-100 rounded-lg text-gray-700 flex items-center space-x-2 min-w-[70px] cursor-pointer\"\r\n                [class.bg-blue-100]=\"selectedSortDir === 'asc'\" [class.text-blue-700]=\"selectedSortDir === 'asc'\">\r\n          <svg *ngIf=\"selectedSortDir === 'desc'\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 17l-4 4m0 0l-4-4m4 4V3\"></path>\r\n          </svg>\r\n          <svg *ngIf=\"selectedSortDir === 'asc'\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7l4-4m0 0l4 4m-4-4v18\"></path>\r\n          </svg>\r\n          <span>{{ selectedSortDir === 'asc' ? 'A-Z' : 'Z-A' }}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!-- Right: View Type Toggle -->\r\n    <div class=\"flex items-center space-x-2 mt-4 md:mt-0\">\r\n      <button (click)=\"viewType = 'grid'\" [class.bg-blue-100]=\"viewType === 'grid'\"\r\n              [class.text-blue-700]=\"viewType === 'grid'\"\r\n              class=\"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer\">\r\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"4\" y=\"4\" width=\"7\" height=\"7\" rx=\"2\"/>\r\n          <rect x=\"13\" y=\"4\" width=\"7\" height=\"7\" rx=\"2\"/>\r\n          <rect x=\"4\" y=\"13\" width=\"7\" height=\"7\" rx=\"2\"/>\r\n          <rect x=\"13\" y=\"13\" width=\"7\" height=\"7\" rx=\"2\"/>\r\n        </svg>\r\n      </button>\r\n      <button (click)=\"viewType = 'list'\" [class.bg-blue-100]=\"viewType === 'list'\"\r\n              [class.text-blue-700]=\"viewType === 'list'\"\r\n              class=\"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer\">\r\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"4\" y=\"6\" width=\"16\" height=\"4\" rx=\"2\"/>\r\n          <rect x=\"4\" y=\"14\" width=\"16\" height=\"4\" rx=\"2\"/>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading State -->\r\n  <div *ngIf=\"loading\" class=\"flex items-center justify-center py-20\">\r\n    <div class=\"text-center\">\r\n      <div class=\"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4\">\r\n        <svg class=\"animate-spin w-8 h-8 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n          <path class=\"opacity-75\" fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n        </svg>\r\n      </div>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Loading Assets</h3>\r\n      <p class=\"text-sm text-gray-500\">Please wait while we fetch your assets...</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Error State -->\r\n  <div *ngIf=\"error && !loading\" class=\"flex items-center justify-center py-20\">\r\n    <div class=\"text-center\">\r\n      <div class=\"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4\">\r\n        <svg class=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n        </svg>\r\n      </div>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Error Loading Assets</h3>\r\n      <p class=\"text-sm text-gray-500 mb-4\">{{ error }}</p>\r\n      <button\r\n        (click)=\"loadAssets()\"\r\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n        Retry\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Selection Bar (when nothing is selected) -->\r\n  <div class=\"w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center\"\r\n       *ngIf=\"viewType === 'grid' && selectedCount === 0 && !loading && !error\">\r\n    <button type=\"button\" (click)=\"toggleSelectAllAssets()\"\r\n            class=\"focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors\">\r\n      <span class=\"w-3 h-3 rounded-full block bg-white transition-colors\"></span>\r\n    </button>\r\n    <span class=\"font-semibold text-gray-900\">Select all {{ assetList.length }} assets</span>\r\n  </div>\r\n  <!-- Grid View Cards -->\r\n  <!-- Action Bar (Selection) -->\r\n  <div class=\"w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between\"\r\n       *ngIf=\"viewType === 'grid' && selectedCount > 0 && !loading && !error\">\r\n    <div class=\"flex items-center space-x-4\">\r\n      <button type=\"button\" (click)=\"toggleSelectAllAssets()\"\r\n              class=\"focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors\"\r\n              [class.bg-blue-100]=\"selectedCount === assetList.length\">\r\n        <span class=\"w-3 h-3 rounded-full block transition-colors\"\r\n              [class.bg-blue-400]=\"selectedCount === assetList.length\"\r\n              [class.bg-white]=\"selectedCount !== assetList.length\"></span>\r\n      </button>\r\n      <span class=\"font-bold text-gray-900\">{{ selectedCount }} asset{{ selectedCount > 1 ? 's' : '' }} selected</span>\r\n      <span class=\"bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-sm flex items-center font-medium\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\"\r\n                                                                                              stroke-linejoin=\"round\"\r\n                                                                                              stroke-width=\"2\"\r\n                                                                                              d=\"M17 16l4-4m0 0l-4-4m4 4H7\"></path></svg>\r\n        Selection Mode Active - Click cards to select\r\n      </span>\r\n    </div>\r\n    <div class=\"flex items-center space-x-2\">\r\n\r\n      <button *ngIf=\"!showingArchived\" (click)=\"duplicateSelected()\" [disabled]=\"selectedCount === 0\"\r\n              class=\"bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"8\" y=\"8\" width=\"8\" height=\"8\" rx=\"2\" stroke-width=\"2\"/>\r\n          <rect x=\"4\" y=\"4\" width=\"8\" height=\"8\" rx=\"2\" stroke-width=\"2\"/>\r\n        </svg>\r\n        Duplicate\r\n      </button>\r\n      <button\r\n        (click)=\"generateQRCodeForSelectedAssets()\"\r\n        [disabled]=\"selectedCount === 0\"\r\n        class=\"bg-purple-50 text-purple-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\"></path>\r\n        </svg>\r\n        Generate QR Codes\r\n      </button>\r\n      <button\r\n        *ngIf=\"!showingArchived\"\r\n        (click)=\"showArchiveModal()\"\r\n        [disabled]=\"selectedCount === 0\"\r\n        class=\"bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\" stroke-width=\"2\"/>\r\n          <path d=\"M8 12h8\" stroke-width=\"2\"/>\r\n        </svg>\r\n        Archive\r\n      </button>\r\n      <button\r\n        *ngIf=\"showingArchived\"\r\n        (click)=\"showDeleteModal()\"\r\n        [disabled]=\"selectedCount === 0\"\r\n        class=\"bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\" stroke-width=\"2\"/>\r\n          <path d=\"M8 8l8 8M8 16l8-8\" stroke-width=\"2\"/>\r\n        </svg>\r\n        Delete\r\n      </button>\r\n      <button\r\n        *ngIf=\"showingArchived\"\r\n        (click)=\"restoreSelected()\"\r\n        [disabled]=\"selectedCount === 0\"\r\n        class=\"bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\">\r\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n        </svg>\r\n        Restore\r\n      </button>\r\n      <button (click)=\"clearSelection()\"\r\n              class=\"bg-transparent text-gray-700 font-semibold px-2 py-2 rounded-lg flex items-center space-x-2 cursor-pointer\">\r\n        <span class=\"text-xl\">&times;</span> Clear\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Empty State -->\r\n  <div *ngIf=\"!loading && !error && assetList.length === 0\" class=\"text-center py-20\">\r\n    <div class=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n      <svg class=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n              d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n      </svg>\r\n    </div>\r\n    <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Assets Found</h3>\r\n    <p class=\"text-gray-600 mb-4\">Get started by creating your first asset.</p>\r\n    <button\r\n      (click)=\"goToCreateAsset()\"\r\n      class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n      Add Asset\r\n    </button>\r\n  </div>\r\n\r\n  <div *ngIf=\"viewType === 'grid' && !loading && !error && assetList.length > 0\"\r\n       class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2 mb-6\">\r\n    <div *ngFor=\"let asset of assetList\"\r\n         class=\"rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden\"\r\n         [class.border-blue-400]=\"asset.selected\">\r\n      <!-- Card Header -->\r\n      <div class=\"relative bg-[#e0edff] h-32 flex flex-col items-center justify-center\">\r\n        <div class=\"absolute left-4 top-4 flex items-center\">\r\n          <input type=\"checkbox\" class=\"asset-card-checkbox\" [(ngModel)]=\"asset.selected\"/>\r\n        </div>\r\n        <div class=\"absolute right-4 top-4 flex items-center space-x-2\">\r\n          <span *ngIf=\"asset.asset_status?.name === 'Active'\"\r\n                class=\"bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full\">Active</span>\r\n          <span *ngIf=\"asset.asset_status?.name !== 'Active'\"\r\n                [class]=\"'bg-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-100 text-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-700 text-xs font-semibold px-3 py-1 rounded-full'\">{{ asset.asset_status?.name || asset.status }}</span>\r\n          <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n            <button\r\n              (click)=\"toggleAssetMenu(asset.id)\"\r\n              class=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer\">\r\n              <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <circle cx=\"12\" cy=\"6\" r=\"1.5\"/>\r\n                <circle cx=\"12\" cy=\"12\" r=\"1.5\"/>\r\n                <circle cx=\"12\" cy=\"18\" r=\"1.5\"/>\r\n              </svg>\r\n            </button>\r\n\r\n            <!-- Dropdown Menu -->\r\n            <div *ngIf=\"asset.showMenu\"\r\n                 class=\"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\">\r\n              <button\r\n                *ngIf=\"!showingArchived\"\r\n                (click)=\"viewAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-gray-700\">View Details</span>\r\n              </button>\r\n\r\n              <button\r\n                *ngIf=\"!showingArchived\"\r\n                (click)=\"editAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-gray-700\">Edit Asset</span>\r\n              </button>\r\n\r\n              <button\r\n                *ngIf=\"!showingArchived\"\r\n                (click)=\"duplicateAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-gray-700\">Duplicate</span>\r\n              </button>\r\n\r\n              <button\r\n                (click)=\"generateQRCodeForAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-purple-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-purple-600\">Generate QR Code</span>\r\n              </button>\r\n\r\n              <button\r\n                (click)=\"copyPublicUrl(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-blue-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-blue-600\">Copy Public URL</span>\r\n              </button>\r\n\r\n              <div class=\"border-t border-gray-100 my-1\"></div>\r\n\r\n              <button\r\n                *ngIf=\"!showingArchived\"\r\n                (click)=\"archiveAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-orange-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-orange-600\">Archive</span>\r\n              </button>\r\n\r\n              <button\r\n                *ngIf=\"showingArchived\"\r\n                (click)=\"restoreAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-green-600\">Restore</span>\r\n              </button>\r\n\r\n              <button\r\n                *ngIf=\"showingArchived\"\r\n                (click)=\"deleteAsset(asset)\"\r\n                class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors\">\r\n                <svg class=\"w-4 h-4 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                </svg>\r\n                <span class=\"text-sm text-red-600\">Delete Permanently</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <svg class=\"w-16 h-16 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n        </svg>\r\n      </div>\r\n      <!-- Card Body -->\r\n      <div class=\"flex-1 flex flex-col justify-between p-6 pt-4\">\r\n        <div>\r\n          <!-- Asset Name -->\r\n          <div\r\n            class=\"font-semibold text-lg text-gray-900 mb-2 cursor-pointer hover:text-blue-600 transition-colors\"\r\n            [class.cursor-pointer]=\"!showingArchived\"\r\n            [class.hover:text-blue-600]=\"!showingArchived\"\r\n            [class.cursor-default]=\"showingArchived\"\r\n            (click)=\"!showingArchived && viewAsset(asset)\">\r\n            {{ asset.name || 'Unnamed Asset' }}\r\n          </div>\r\n\r\n          <!-- Asset Category Type -->\r\n          <div class=\"text-sm text-gray-700 mb-1\" *ngIf=\"asset.category?.name\">\r\n            <span class=\"font-medium text-gray-600\">Category:</span> {{ asset.category.name }}\r\n          </div>\r\n\r\n          <!-- Asset Type -->\r\n          <div class=\"text-sm text-gray-700 mb-1\" *ngIf=\"asset.type || asset.asset_type?.name\">\r\n            <span class=\"font-medium text-gray-600\">Type:</span> {{ asset.asset_type?.name || asset.type || 'General' }}\r\n          </div>\r\n\r\n          <!-- Location with Parents -->\r\n          <div class=\"text-sm text-gray-700 mb-2\"\r\n               *ngIf=\"asset.location_hierarchy && asset.location_hierarchy.length > 0\">\r\n            <span class=\"font-medium text-gray-600\">Location:</span>\r\n            <div class=\"text-xs text-gray-500 mt-1\">\r\n              <span *ngFor=\"let loc of asset.location_hierarchy; let last = last\">\r\n                {{ loc.name }}<span *ngIf=\"!last\"> → </span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Description -->\r\n          <div class=\"text-sm text-gray-700 mb-2\" *ngIf=\"asset.description\">\r\n            <span class=\"font-medium text-gray-600\">Description:</span> {{ asset.description }}\r\n          </div>\r\n\r\n          <!-- Manufacturer -->\r\n          <div class=\"text-sm text-gray-700 mb-1\" *ngIf=\"asset.manufacturer\">\r\n            <span class=\"font-medium text-gray-600\">Manufacturer:</span> {{ asset.manufacturer }}\r\n          </div>\r\n\r\n          <!-- Model -->\r\n          <div class=\"text-sm text-gray-700 mb-1\" *ngIf=\"asset.model\">\r\n            <span class=\"font-medium text-gray-600\">Model:</span> {{ asset.model }}\r\n          </div>\r\n\r\n          <!-- Capacity -->\r\n          <div class=\"text-sm text-gray-700 mb-1\" *ngIf=\"asset.capacity\">\r\n            <span class=\"font-medium text-gray-600\">Capacity:</span> {{ asset.capacity }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- List View -->\r\n  <div *ngIf=\"viewType === 'list' && !loading && !error && assetList.length > 0\"\r\n       class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-6\">\r\n    <!-- Table Header -->\r\n    <div class=\"px-6 py-4 border-b border-gray-200 bg-gray-50\">\r\n      <div class=\"grid grid-cols-12 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n        <div class=\"col-span-1 flex items-center\">\r\n          <input\r\n            type=\"checkbox\"\r\n            [checked]=\"selectedCount === assetList.length && assetList.length > 0\"\r\n            [indeterminate]=\"selectedCount > 0 && selectedCount < assetList.length\"\r\n            (change)=\"toggleSelectAllAssets()\"\r\n            class=\"asset-card-checkbox\">\r\n        </div>\r\n        <div class=\"col-span-2\">Asset ID & Name</div>\r\n        <div class=\"col-span-2\">Category & Type</div>\r\n        <div class=\"col-span-2\">Location</div>\r\n        <div class=\"col-span-2\">Description</div>\r\n        <div class=\"col-span-2\">Manufacturer & Model</div>\r\n        <div class=\"col-span-1\">Actions</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Table Body -->\r\n    <div class=\"divide-y divide-gray-200\">\r\n      <div *ngFor=\"let asset of assetList\"\r\n           class=\"px-6 py-4 hover:bg-gray-50 transition-colors\"\r\n           [class.bg-blue-50]=\"asset.selected\">\r\n        <div class=\"grid grid-cols-12 gap-4 items-center\">\r\n          <!-- Checkbox -->\r\n          <div class=\"col-span-1\">\r\n            <input\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"asset.selected\"\r\n              class=\"asset-card-checkbox\">\r\n          </div>\r\n\r\n          <!-- Asset ID & Name -->\r\n          <div class=\"col-span-2\">\r\n            <div class=\"flex items-center space-x-3\">\r\n              <div class=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <div\r\n                  class=\"font-medium text-gray-900 hover:text-blue-600 cursor-pointer transition-colors\"\r\n                  (click)=\"viewAsset(asset)\">\r\n                  {{ asset.name || 'Unnamed Asset' }}\r\n                </div>\r\n                <div class=\"text-sm text-gray-500\">{{ asset.asset_id || 'AST-' + asset.id }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Category & Type -->\r\n          <div class=\"col-span-2\">\r\n            <div class=\"text-sm text-gray-900\">{{ asset.category?.name || 'General' }}</div>\r\n            <div class=\"text-sm text-gray-500\">{{ asset.asset_type?.name || asset.type || 'Standard Asset' }}</div>\r\n          </div>\r\n\r\n          <!-- Location -->\r\n          <div class=\"col-span-2\">\r\n            <div class=\"text-sm text-gray-600\" *ngIf=\"asset.location_hierarchy && asset.location_hierarchy.length > 0\">\r\n              <div *ngFor=\"let loc of asset.location_hierarchy; let last = last\">\r\n                {{ loc.name }}<span *ngIf=\"!last\"> → </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-sm text-gray-400\"\r\n                 *ngIf=\"!asset.location_hierarchy || asset.location_hierarchy.length === 0\">\r\n              No location\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Description -->\r\n          <div class=\"col-span-2\">\r\n            <div class=\"text-sm text-gray-900\" *ngIf=\"asset.description\">\r\n              {{ asset.description }}\r\n            </div>\r\n            <div class=\"text-sm text-gray-400\" *ngIf=\"!asset.description\">\r\n              No description\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Manufacturer & Model -->\r\n          <div class=\"col-span-2\">\r\n            <div class=\"text-sm text-gray-900\" *ngIf=\"asset.manufacturer\">\r\n              <span class=\"font-medium\">MFG:</span> {{ asset.manufacturer }}\r\n            </div>\r\n            <div class=\"text-sm text-gray-500\" *ngIf=\"asset.model\">\r\n              <span class=\"font-medium\">Model:</span> {{ asset.model }}\r\n            </div>\r\n            <div class=\"text-sm text-gray-500\" *ngIf=\"asset.capacity\">\r\n              <span class=\"font-medium\">Capacity:</span> {{ asset.capacity }}\r\n            </div>\r\n            <div class=\"text-sm text-gray-400\" *ngIf=\"!asset.manufacturer && !asset.model && !asset.capacity\">\r\n              No details\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Actions (3-dot menu like grid) -->\r\n          <div class=\"col-span-1\">\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button (click)=\"toggleAssetMenu(asset.id)\"\r\n                      class=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer\">\r\n                <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <circle cx=\"12\" cy=\"6\" r=\"1.5\"/>\r\n                  <circle cx=\"12\" cy=\"12\" r=\"1.5\"/>\r\n                  <circle cx=\"12\" cy=\"18\" r=\"1.5\"/>\r\n                </svg>\r\n              </button>\r\n\r\n              <div *ngIf=\"asset.showMenu\"\r\n                   class=\"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\">\r\n                <button *ngIf=\"!showingArchived\" (click)=\"viewAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-gray-700\">View Details</span>\r\n                </button>\r\n                <button *ngIf=\"!showingArchived\" (click)=\"editAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-gray-700\">Edit Asset</span>\r\n                </button>\r\n                <button *ngIf=\"!showingArchived\" (click)=\"duplicateAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-gray-700\">Duplicate</span>\r\n                </button>\r\n                <button (click)=\"generateQRCodeForAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-purple-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-purple-600\">Generate QR Code</span>\r\n                </button>\r\n                <button (click)=\"copyPublicUrl(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-blue-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-blue-600\">Copy Public URL</span>\r\n                </button>\r\n                <div class=\"border-t border-gray-100 my-1\"></div>\r\n                <button *ngIf=\"!showingArchived\" (click)=\"archiveAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-orange-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-orange-600\">Archive</span>\r\n                </button>\r\n                <button *ngIf=\"showingArchived\" (click)=\"restoreAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-green-600\">Restore</span>\r\n                </button>\r\n                <button *ngIf=\"showingArchived\" (click)=\"deleteAsset(asset)\"\r\n                        class=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors\">\r\n                  <svg class=\"w-4 h-4 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                  </svg>\r\n                  <span class=\"text-sm text-red-600\">Delete Permanently</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Pagination -->\r\n  <app-pagination\r\n    *ngIf=\"assetList.length > 0 || pagination.total > 0\"\r\n    [pagination]=\"pagination\"\r\n    (pageChange)=\"onPageChange($event)\"\r\n    (perPageChange)=\"onPerPageChange($event)\">\r\n  </app-pagination>\r\n\r\n  <!-- Archive Confirmation Modal -->\r\n  <app-archive-confirmation-modal\r\n    [isOpen]=\"showArchiveConfirmationModal\"\r\n    [selectedCount]=\"selectedCount\"\r\n    (closeModal)=\"closeArchiveModal()\"\r\n    (confirmArchive)=\"archiveSelected()\">\r\n  </app-archive-confirmation-modal>\r\n\r\n  <!-- Delete Confirmation Modal -->\r\n  <app-delete-confirmation-modal\r\n    [isOpen]=\"showDeleteConfirmationModal\"\r\n    [selectedCount]=\"selectedCount\"\r\n    (closeModal)=\"closeDeleteModal()\"\r\n    (confirmDelete)=\"deleteSelected($event)\">\r\n  </app-delete-confirmation-modal>\r\n\r\n  <!-- Restore Confirmation Modal -->\r\n  <app-restore-confirmation-modal\r\n    [isOpen]=\"showRestoreConfirmationModal\"\r\n    [selectedCount]=\"selectedCount > 0 ? selectedCount : 1\"\r\n    [assetName]=\"selectedAssetForRestore?.name || ''\"\r\n    (closeModal)=\"closeRestoreModal()\"\r\n    (confirmRestore)=\"restoreSelectedAsset($event)\">\r\n  </app-restore-confirmation-modal>\r\n\r\n\r\n</div>\r\n","export var HOOKS = [\"onChange\", \"onClose\", \"onDayCreate\", \"onDestroy\", \"onKeyDown\", \"onMonthChange\", \"onOpen\", \"onParseConfig\", \"onReady\", \"onValueUpdate\", \"onYearChange\", \"onPreCalendarPosition\"];\nexport var defaults = {\n  _disable: [],\n  allowInput: false,\n  allowInvalidPreload: false,\n  altFormat: \"F j, Y\",\n  altInput: false,\n  altInputClass: \"form-control input\",\n  animate: typeof window === \"object\" && window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n  ariaDateFormat: \"F j, Y\",\n  autoFillDefaultTime: true,\n  clickOpens: true,\n  closeOnSelect: true,\n  conjunction: \", \",\n  dateFormat: \"Y-m-d\",\n  defaultHour: 12,\n  defaultMinute: 0,\n  defaultSeconds: 0,\n  disable: [],\n  disableMobile: false,\n  enableSeconds: false,\n  enableTime: false,\n  errorHandler: function (err) {\n    return typeof console !== \"undefined\" && console.warn(err);\n  },\n  getWeek: function (givenDate) {\n    var date = new Date(givenDate.getTime());\n    date.setHours(0, 0, 0, 0);\n    date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);\n    var week1 = new Date(date.getFullYear(), 0, 4);\n    return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);\n  },\n  hourIncrement: 1,\n  ignoredFocusElements: [],\n  inline: false,\n  locale: \"default\",\n  minuteIncrement: 5,\n  mode: \"single\",\n  monthSelectorType: \"dropdown\",\n  nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n  noCalendar: false,\n  now: new Date(),\n  onChange: [],\n  onClose: [],\n  onDayCreate: [],\n  onDestroy: [],\n  onKeyDown: [],\n  onMonthChange: [],\n  onOpen: [],\n  onParseConfig: [],\n  onReady: [],\n  onValueUpdate: [],\n  onYearChange: [],\n  onPreCalendarPosition: [],\n  plugins: [],\n  position: \"auto\",\n  positionElement: undefined,\n  prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n  shorthandCurrentMonth: false,\n  showMonths: 1,\n  static: false,\n  time_24hr: false,\n  weekNumbers: false,\n  wrap: false\n};","export var english = {\n  weekdays: {\n    shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    longhand: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n  },\n  months: {\n    shorthand: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    longhand: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n  },\n  daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n  firstDayOfWeek: 0,\n  ordinal: function (nth) {\n    var s = nth % 100;\n    if (s > 3 && s < 21) return \"th\";\n    switch (s % 10) {\n      case 1:\n        return \"st\";\n      case 2:\n        return \"nd\";\n      case 3:\n        return \"rd\";\n      default:\n        return \"th\";\n    }\n  },\n  rangeSeparator: \" to \",\n  weekAbbreviation: \"Wk\",\n  scrollTitle: \"Scroll to increment\",\n  toggleTitle: \"Click to toggle\",\n  amPM: [\"AM\", \"PM\"],\n  yearAriaLabel: \"Year\",\n  monthAriaLabel: \"Month\",\n  hourAriaLabel: \"Hour\",\n  minuteAriaLabel: \"Minute\",\n  time_24hr: false\n};\nexport default english;","export var pad = function (number, length) {\n  if (length === void 0) {\n    length = 2;\n  }\n  return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) {\n  return bool === true ? 1 : 0;\n};\nexport function debounce(fn, wait) {\n  var t;\n  return function () {\n    var _this = this;\n    var args = arguments;\n    clearTimeout(t);\n    t = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, wait);\n  };\n}\nexport var arrayify = function (obj) {\n  return obj instanceof Array ? obj : [obj];\n};","export function toggleClass(elem, className, bool) {\n  if (bool === true) return elem.classList.add(className);\n  elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n  var e = window.document.createElement(tag);\n  className = className || \"\";\n  content = content || \"\";\n  e.className = className;\n  if (content !== undefined) e.textContent = content;\n  return e;\n}\nexport function clearNode(node) {\n  while (node.firstChild) node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n  if (condition(node)) return node;else if (node.parentNode) return findParent(node.parentNode, condition);\n  return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n  var wrapper = createElement(\"div\", \"numInputWrapper\"),\n    numInput = createElement(\"input\", \"numInput \" + inputClassName),\n    arrowUp = createElement(\"span\", \"arrowUp\"),\n    arrowDown = createElement(\"span\", \"arrowDown\");\n  if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n    numInput.type = \"number\";\n  } else {\n    numInput.type = \"text\";\n    numInput.pattern = \"\\\\d*\";\n  }\n  if (opts !== undefined) for (var key in opts) numInput.setAttribute(key, opts[key]);\n  wrapper.appendChild(numInput);\n  wrapper.appendChild(arrowUp);\n  wrapper.appendChild(arrowDown);\n  return wrapper;\n}\nexport function getEventTarget(event) {\n  try {\n    if (typeof event.composedPath === \"function\") {\n      var path = event.composedPath();\n      return path[0];\n    }\n    return event.target;\n  } catch (error) {\n    return event.target;\n  }\n}","import { int, pad } from \"../utils\";\nvar doNothing = function () {\n  return undefined;\n};\nexport var monthToStr = function (monthNumber, shorthand, locale) {\n  return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\n};\nexport var revFormat = {\n  D: doNothing,\n  F: function (dateObj, monthName, locale) {\n    dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n  },\n  G: function (dateObj, hour) {\n    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n  },\n  H: function (dateObj, hour) {\n    dateObj.setHours(parseFloat(hour));\n  },\n  J: function (dateObj, day) {\n    dateObj.setDate(parseFloat(day));\n  },\n  K: function (dateObj, amPM, locale) {\n    dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n  },\n  M: function (dateObj, shortMonth, locale) {\n    dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n  },\n  S: function (dateObj, seconds) {\n    dateObj.setSeconds(parseFloat(seconds));\n  },\n  U: function (_, unixSeconds) {\n    return new Date(parseFloat(unixSeconds) * 1000);\n  },\n  W: function (dateObj, weekNum, locale) {\n    var weekNumber = parseInt(weekNum);\n    var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n    date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n    return date;\n  },\n  Y: function (dateObj, year) {\n    dateObj.setFullYear(parseFloat(year));\n  },\n  Z: function (_, ISODate) {\n    return new Date(ISODate);\n  },\n  d: function (dateObj, day) {\n    dateObj.setDate(parseFloat(day));\n  },\n  h: function (dateObj, hour) {\n    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n  },\n  i: function (dateObj, minutes) {\n    dateObj.setMinutes(parseFloat(minutes));\n  },\n  j: function (dateObj, day) {\n    dateObj.setDate(parseFloat(day));\n  },\n  l: doNothing,\n  m: function (dateObj, month) {\n    dateObj.setMonth(parseFloat(month) - 1);\n  },\n  n: function (dateObj, month) {\n    dateObj.setMonth(parseFloat(month) - 1);\n  },\n  s: function (dateObj, seconds) {\n    dateObj.setSeconds(parseFloat(seconds));\n  },\n  u: function (_, unixMillSeconds) {\n    return new Date(parseFloat(unixMillSeconds));\n  },\n  w: doNothing,\n  y: function (dateObj, year) {\n    dateObj.setFullYear(2000 + parseFloat(year));\n  }\n};\nexport var tokenRegex = {\n  D: \"\",\n  F: \"\",\n  G: \"(\\\\d\\\\d|\\\\d)\",\n  H: \"(\\\\d\\\\d|\\\\d)\",\n  J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n  K: \"\",\n  M: \"\",\n  S: \"(\\\\d\\\\d|\\\\d)\",\n  U: \"(.+)\",\n  W: \"(\\\\d\\\\d|\\\\d)\",\n  Y: \"(\\\\d{4})\",\n  Z: \"(.+)\",\n  d: \"(\\\\d\\\\d|\\\\d)\",\n  h: \"(\\\\d\\\\d|\\\\d)\",\n  i: \"(\\\\d\\\\d|\\\\d)\",\n  j: \"(\\\\d\\\\d|\\\\d)\",\n  l: \"\",\n  m: \"(\\\\d\\\\d|\\\\d)\",\n  n: \"(\\\\d\\\\d|\\\\d)\",\n  s: \"(\\\\d\\\\d|\\\\d)\",\n  u: \"(.+)\",\n  w: \"(\\\\d\\\\d|\\\\d)\",\n  y: \"(\\\\d{2})\"\n};\nexport var formats = {\n  Z: function (date) {\n    return date.toISOString();\n  },\n  D: function (date, locale, options) {\n    return locale.weekdays.shorthand[formats.w(date, locale, options)];\n  },\n  F: function (date, locale, options) {\n    return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n  },\n  G: function (date, locale, options) {\n    return pad(formats.h(date, locale, options));\n  },\n  H: function (date) {\n    return pad(date.getHours());\n  },\n  J: function (date, locale) {\n    return locale.ordinal !== undefined ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();\n  },\n  K: function (date, locale) {\n    return locale.amPM[int(date.getHours() > 11)];\n  },\n  M: function (date, locale) {\n    return monthToStr(date.getMonth(), true, locale);\n  },\n  S: function (date) {\n    return pad(date.getSeconds());\n  },\n  U: function (date) {\n    return date.getTime() / 1000;\n  },\n  W: function (date, _, options) {\n    return options.getWeek(date);\n  },\n  Y: function (date) {\n    return pad(date.getFullYear(), 4);\n  },\n  d: function (date) {\n    return pad(date.getDate());\n  },\n  h: function (date) {\n    return date.getHours() % 12 ? date.getHours() % 12 : 12;\n  },\n  i: function (date) {\n    return pad(date.getMinutes());\n  },\n  j: function (date) {\n    return date.getDate();\n  },\n  l: function (date, locale) {\n    return locale.weekdays.longhand[date.getDay()];\n  },\n  m: function (date) {\n    return pad(date.getMonth() + 1);\n  },\n  n: function (date) {\n    return date.getMonth() + 1;\n  },\n  s: function (date) {\n    return date.getSeconds();\n  },\n  u: function (date) {\n    return date.getTime();\n  },\n  w: function (date) {\n    return date.getDay();\n  },\n  y: function (date) {\n    return String(date.getFullYear()).substring(2);\n  }\n};","import { tokenRegex, revFormat, formats } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n  var _b = _a.config,\n    config = _b === void 0 ? defaults : _b,\n    _c = _a.l10n,\n    l10n = _c === void 0 ? english : _c,\n    _d = _a.isMobile,\n    isMobile = _d === void 0 ? false : _d;\n  return function (dateObj, frmt, overrideLocale) {\n    var locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n      return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt.split(\"\").map(function (c, i, arr) {\n      return formats[c] && arr[i - 1] !== \"\\\\\" ? formats[c](dateObj, locale, config) : c !== \"\\\\\" ? c : \"\";\n    }).join(\"\");\n  };\n};\nexport var createDateParser = function (_a) {\n  var _b = _a.config,\n    config = _b === void 0 ? defaults : _b,\n    _c = _a.l10n,\n    l10n = _c === void 0 ? english : _c;\n  return function (date, givenFormat, timeless, customLocale) {\n    if (date !== 0 && !date) return undefined;\n    var locale = customLocale || l10n;\n    var parsedDate;\n    var dateOrig = date;\n    if (date instanceof Date) parsedDate = new Date(date.getTime());else if (typeof date !== \"string\" && date.toFixed !== undefined) parsedDate = new Date(date);else if (typeof date === \"string\") {\n      var format = givenFormat || (config || defaults).dateFormat;\n      var datestr = String(date).trim();\n      if (datestr === \"today\") {\n        parsedDate = new Date();\n        timeless = true;\n      } else if (config && config.parseDate) {\n        parsedDate = config.parseDate(date, format);\n      } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) {\n        parsedDate = new Date(date);\n      } else {\n        var matched = void 0,\n          ops = [];\n        for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n          var token = format[i];\n          var isBackSlash = token === \"\\\\\";\n          var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n          if (tokenRegex[token] && !escaped) {\n            regexStr += tokenRegex[token];\n            var match = new RegExp(regexStr).exec(date);\n            if (match && (matched = true)) {\n              ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                fn: revFormat[token],\n                val: match[++matchIndex]\n              });\n            }\n          } else if (!isBackSlash) regexStr += \".\";\n        }\n        parsedDate = !config || !config.noCalendar ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0) : new Date(new Date().setHours(0, 0, 0, 0));\n        ops.forEach(function (_a) {\n          var fn = _a.fn,\n            val = _a.val;\n          return parsedDate = fn(parsedDate, val, locale) || parsedDate;\n        });\n        parsedDate = matched ? parsedDate : undefined;\n      }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n      config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n      return undefined;\n    }\n    if (timeless === true) parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n  };\n};\nexport function compareDates(date1, date2, timeless) {\n  if (timeless === void 0) {\n    timeless = true;\n  }\n  if (timeless !== false) {\n    return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);\n  }\n  return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n  return 3600 * (date1.getHours() - date2.getHours()) + 60 * (date1.getMinutes() - date2.getMinutes()) + date1.getSeconds() - date2.getSeconds();\n}\nexport var isBetween = function (ts, ts1, ts2) {\n  return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n  return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n  var hours = Math.floor(secondsSinceMidnight / 3600),\n    minutes = (secondsSinceMidnight - hours * 3600) / 60;\n  return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n  DAY: 86400000\n};\nexport function getDefaultHours(config) {\n  var hours = config.defaultHour;\n  var minutes = config.defaultMinute;\n  var seconds = config.defaultSeconds;\n  if (config.minDate !== undefined) {\n    var minHour = config.minDate.getHours();\n    var minMinutes = config.minDate.getMinutes();\n    var minSeconds = config.minDate.getSeconds();\n    if (hours < minHour) {\n      hours = minHour;\n    }\n    if (hours === minHour && minutes < minMinutes) {\n      minutes = minMinutes;\n    }\n    if (hours === minHour && minutes === minMinutes && seconds < minSeconds) seconds = config.minDate.getSeconds();\n  }\n  if (config.maxDate !== undefined) {\n    var maxHr = config.maxDate.getHours();\n    var maxMinutes = config.maxDate.getMinutes();\n    hours = Math.min(hours, maxHr);\n    if (hours === maxHr) minutes = Math.min(maxMinutes, minutes);\n    if (hours === maxHr && minutes === maxMinutes) seconds = config.maxDate.getSeconds();\n  }\n  return {\n    hours: hours,\n    minutes: minutes,\n    seconds: seconds\n  };\n}","\"use strict\";\n\nif (typeof Object.assign !== \"function\") {\n  Object.assign = function (target) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n    if (!target) {\n      throw TypeError(\"Cannot convert undefined or null to object\");\n    }\n    var _loop_1 = function (source) {\n      if (source) {\n        Object.keys(source).forEach(function (key) {\n          return target[key] = source[key];\n        });\n      }\n    };\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n      var source = args_1[_a];\n      _loop_1(source);\n    }\n    return target;\n  };\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n};\nimport { defaults as defaultOptions, HOOKS } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n  var self = {\n    config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n    l10n: English\n  };\n  self.parseDate = createDateParser({\n    config: self.config,\n    l10n: self.l10n\n  });\n  self._handlers = [];\n  self.pluginElements = [];\n  self.loadedPlugins = [];\n  self._bind = bind;\n  self._setHoursFromDate = setHoursFromDate;\n  self._positionCalendar = positionCalendar;\n  self.changeMonth = changeMonth;\n  self.changeYear = changeYear;\n  self.clear = clear;\n  self.close = close;\n  self.onMouseOver = onMouseOver;\n  self._createElement = createElement;\n  self.createDay = createDay;\n  self.destroy = destroy;\n  self.isEnabled = isEnabled;\n  self.jumpToDate = jumpToDate;\n  self.updateValue = updateValue;\n  self.open = open;\n  self.redraw = redraw;\n  self.set = set;\n  self.setDate = setDate;\n  self.toggle = toggle;\n  function setupHelperFunctions() {\n    self.utils = {\n      getDaysInMonth: function (month, yr) {\n        if (month === void 0) {\n          month = self.currentMonth;\n        }\n        if (yr === void 0) {\n          yr = self.currentYear;\n        }\n        if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;\n        return self.l10n.daysInMonth[month];\n      }\n    };\n  }\n  function init() {\n    self.element = self.input = element;\n    self.isOpen = false;\n    parseConfig();\n    setupLocale();\n    setupInputs();\n    setupDates();\n    setupHelperFunctions();\n    if (!self.isMobile) build();\n    bindEvents();\n    if (self.selectedDates.length || self.config.noCalendar) {\n      if (self.config.enableTime) {\n        setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n      }\n      updateValue(false);\n    }\n    setCalendarWidth();\n    var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    if (!self.isMobile && isSafari) {\n      positionCalendar();\n    }\n    triggerEvent(\"onReady\");\n  }\n  function getClosestActiveElement() {\n    var _a;\n    return ((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode()).activeElement || document.activeElement;\n  }\n  function bindToInstance(fn) {\n    return fn.bind(self);\n  }\n  function setCalendarWidth() {\n    var config = self.config;\n    if (config.weekNumbers === false && config.showMonths === 1) {\n      return;\n    } else if (config.noCalendar !== true) {\n      window.requestAnimationFrame(function () {\n        if (self.calendarContainer !== undefined) {\n          self.calendarContainer.style.visibility = \"hidden\";\n          self.calendarContainer.style.display = \"block\";\n        }\n        if (self.daysContainer !== undefined) {\n          var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n          self.daysContainer.style.width = daysWidth + \"px\";\n          self.calendarContainer.style.width = daysWidth + (self.weekWrapper !== undefined ? self.weekWrapper.offsetWidth : 0) + \"px\";\n          self.calendarContainer.style.removeProperty(\"visibility\");\n          self.calendarContainer.style.removeProperty(\"display\");\n        }\n      });\n    }\n  }\n  function updateTime(e) {\n    if (self.selectedDates.length === 0) {\n      var defaultDate = self.config.minDate === undefined || compareDates(new Date(), self.config.minDate) >= 0 ? new Date() : new Date(self.config.minDate.getTime());\n      var defaults = getDefaultHours(self.config);\n      defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n      self.selectedDates = [defaultDate];\n      self.latestSelectedDateObj = defaultDate;\n    }\n    if (e !== undefined && e.type !== \"blur\") {\n      timeWrapper(e);\n    }\n    var prevValue = self._input.value;\n    setHoursFromInputs();\n    updateValue();\n    if (self._input.value !== prevValue) {\n      self._debouncedChange();\n    }\n  }\n  function ampm2military(hour, amPM) {\n    return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);\n  }\n  function military2ampm(hour) {\n    switch (hour % 24) {\n      case 0:\n      case 12:\n        return 12;\n      default:\n        return hour % 12;\n    }\n  }\n  function setHoursFromInputs() {\n    if (self.hourElement === undefined || self.minuteElement === undefined) return;\n    var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24,\n      minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,\n      seconds = self.secondElement !== undefined ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;\n    if (self.amPM !== undefined) {\n      hours = ampm2military(hours, self.amPM.textContent);\n    }\n    var limitMinHours = self.config.minTime !== undefined || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;\n    var limitMaxHours = self.config.maxTime !== undefined || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;\n    if (self.config.maxTime !== undefined && self.config.minTime !== undefined && self.config.minTime > self.config.maxTime) {\n      var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n      var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n      var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n      if (currentTime > maxBound && currentTime < minBound) {\n        var result = parseSeconds(minBound);\n        hours = result[0];\n        minutes = result[1];\n        seconds = result[2];\n      }\n    } else {\n      if (limitMaxHours) {\n        var maxTime = self.config.maxTime !== undefined ? self.config.maxTime : self.config.maxDate;\n        hours = Math.min(hours, maxTime.getHours());\n        if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());\n        if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());\n      }\n      if (limitMinHours) {\n        var minTime = self.config.minTime !== undefined ? self.config.minTime : self.config.minDate;\n        hours = Math.max(hours, minTime.getHours());\n        if (hours === minTime.getHours() && minutes < minTime.getMinutes()) minutes = minTime.getMinutes();\n        if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());\n      }\n    }\n    setHours(hours, minutes, seconds);\n  }\n  function setHoursFromDate(dateObj) {\n    var date = dateObj || self.latestSelectedDateObj;\n    if (date && date instanceof Date) {\n      setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n    }\n  }\n  function setHours(hours, minutes, seconds) {\n    if (self.latestSelectedDateObj !== undefined) {\n      self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n    }\n    if (!self.hourElement || !self.minuteElement || self.isMobile) return;\n    self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);\n    self.minuteElement.value = pad(minutes);\n    if (self.amPM !== undefined) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n    if (self.secondElement !== undefined) self.secondElement.value = pad(seconds);\n  }\n  function onYearInput(event) {\n    var eventTarget = getEventTarget(event);\n    var year = parseInt(eventTarget.value) + (event.delta || 0);\n    if (year / 1000 > 1 || event.key === \"Enter\" && !/[^\\d]/.test(year.toString())) {\n      changeYear(year);\n    }\n  }\n  function bind(element, event, handler, options) {\n    if (event instanceof Array) return event.forEach(function (ev) {\n      return bind(element, ev, handler, options);\n    });\n    if (element instanceof Array) return element.forEach(function (el) {\n      return bind(el, event, handler, options);\n    });\n    element.addEventListener(event, handler, options);\n    self._handlers.push({\n      remove: function () {\n        return element.removeEventListener(event, handler, options);\n      }\n    });\n  }\n  function triggerChange() {\n    triggerEvent(\"onChange\");\n  }\n  function bindEvents() {\n    if (self.config.wrap) {\n      [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n        Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n          return bind(el, \"click\", self[evt]);\n        });\n      });\n    }\n    if (self.isMobile) {\n      setupMobile();\n      return;\n    }\n    var debouncedResize = debounce(onResize, 50);\n    self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n    if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, \"mouseover\", function (e) {\n      if (self.config.mode === \"range\") onMouseOver(getEventTarget(e));\n    });\n    bind(self._input, \"keydown\", onKeyDown);\n    if (self.calendarContainer !== undefined) {\n      bind(self.calendarContainer, \"keydown\", onKeyDown);\n    }\n    if (!self.config.inline && !self.config.static) bind(window, \"resize\", debouncedResize);\n    if (window.ontouchstart !== undefined) bind(window.document, \"touchstart\", documentClick);else bind(window.document, \"mousedown\", documentClick);\n    bind(window.document, \"focus\", documentClick, {\n      capture: true\n    });\n    if (self.config.clickOpens === true) {\n      bind(self._input, \"focus\", self.open);\n      bind(self._input, \"click\", self.open);\n    }\n    if (self.daysContainer !== undefined) {\n      bind(self.monthNav, \"click\", onMonthNavClick);\n      bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n      bind(self.daysContainer, \"click\", selectDate);\n    }\n    if (self.timeContainer !== undefined && self.minuteElement !== undefined && self.hourElement !== undefined) {\n      var selText = function (e) {\n        return getEventTarget(e).select();\n      };\n      bind(self.timeContainer, [\"increment\"], updateTime);\n      bind(self.timeContainer, \"blur\", updateTime, {\n        capture: true\n      });\n      bind(self.timeContainer, \"click\", timeIncrement);\n      bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n      if (self.secondElement !== undefined) bind(self.secondElement, \"focus\", function () {\n        return self.secondElement && self.secondElement.select();\n      });\n      if (self.amPM !== undefined) {\n        bind(self.amPM, \"click\", function (e) {\n          updateTime(e);\n        });\n      }\n    }\n    if (self.config.allowInput) {\n      bind(self._input, \"blur\", onBlur);\n    }\n  }\n  function jumpToDate(jumpDate, triggerChange) {\n    var jumpTo = jumpDate !== undefined ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);\n    var oldYear = self.currentYear;\n    var oldMonth = self.currentMonth;\n    try {\n      if (jumpTo !== undefined) {\n        self.currentYear = jumpTo.getFullYear();\n        self.currentMonth = jumpTo.getMonth();\n      }\n    } catch (e) {\n      e.message = \"Invalid date supplied: \" + jumpTo;\n      self.config.errorHandler(e);\n    }\n    if (triggerChange && self.currentYear !== oldYear) {\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n    if (triggerChange && (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n      triggerEvent(\"onMonthChange\");\n    }\n    self.redraw();\n  }\n  function timeIncrement(e) {\n    var eventTarget = getEventTarget(e);\n    if (~eventTarget.className.indexOf(\"arrow\")) incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n  }\n  function incrementNumInput(e, delta, inputElem) {\n    var target = e && getEventTarget(e);\n    var input = inputElem || target && target.parentNode && target.parentNode.firstChild;\n    var event = createEvent(\"increment\");\n    event.delta = delta;\n    input && input.dispatchEvent(event);\n  }\n  function build() {\n    var fragment = window.document.createDocumentFragment();\n    self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n    self.calendarContainer.tabIndex = -1;\n    if (!self.config.noCalendar) {\n      fragment.appendChild(buildMonthNav());\n      self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n      if (self.config.weekNumbers) {\n        var _a = buildWeeks(),\n          weekWrapper = _a.weekWrapper,\n          weekNumbers = _a.weekNumbers;\n        self.innerContainer.appendChild(weekWrapper);\n        self.weekNumbers = weekNumbers;\n        self.weekWrapper = weekWrapper;\n      }\n      self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n      self.rContainer.appendChild(buildWeekdays());\n      if (!self.daysContainer) {\n        self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n        self.daysContainer.tabIndex = -1;\n      }\n      buildDays();\n      self.rContainer.appendChild(self.daysContainer);\n      self.innerContainer.appendChild(self.rContainer);\n      fragment.appendChild(self.innerContainer);\n    }\n    if (self.config.enableTime) {\n      fragment.appendChild(buildTime());\n    }\n    toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n    toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n    toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n    self.calendarContainer.appendChild(fragment);\n    var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType !== undefined;\n    if (self.config.inline || self.config.static) {\n      self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n      if (self.config.inline) {\n        if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);else if (self.config.appendTo !== undefined) self.config.appendTo.appendChild(self.calendarContainer);\n      }\n      if (self.config.static) {\n        var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n        if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);\n        wrapper.appendChild(self.element);\n        if (self.altInput) wrapper.appendChild(self.altInput);\n        wrapper.appendChild(self.calendarContainer);\n      }\n    }\n    if (!self.config.static && !self.config.inline) (self.config.appendTo !== undefined ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);\n  }\n  function createDay(className, date, _dayNumber, i) {\n    var dateIsEnabled = isEnabled(date, true),\n      dayElement = createElement(\"span\", className, date.getDate().toString());\n    dayElement.dateObj = date;\n    dayElement.$i = i;\n    dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n    if (className.indexOf(\"hidden\") === -1 && compareDates(date, self.now) === 0) {\n      self.todayDateElem = dayElement;\n      dayElement.classList.add(\"today\");\n      dayElement.setAttribute(\"aria-current\", \"date\");\n    }\n    if (dateIsEnabled) {\n      dayElement.tabIndex = -1;\n      if (isDateSelected(date)) {\n        dayElement.classList.add(\"selected\");\n        self.selectedDateElem = dayElement;\n        if (self.config.mode === \"range\") {\n          toggleClass(dayElement, \"startRange\", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);\n          toggleClass(dayElement, \"endRange\", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);\n          if (className === \"nextMonthDay\") dayElement.classList.add(\"inRange\");\n        }\n      }\n    } else {\n      dayElement.classList.add(\"flatpickr-disabled\");\n    }\n    if (self.config.mode === \"range\") {\n      if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add(\"inRange\");\n    }\n    if (self.weekNumbers && self.config.showMonths === 1 && className !== \"prevMonthDay\" && i % 7 === 6) {\n      self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n    }\n    triggerEvent(\"onDayCreate\", dayElement);\n    return dayElement;\n  }\n  function focusOnDayElem(targetNode) {\n    targetNode.focus();\n    if (self.config.mode === \"range\") onMouseOver(targetNode);\n  }\n  function getFirstAvailableDay(delta) {\n    var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n    var endMonth = delta > 0 ? self.config.showMonths : -1;\n    for (var m = startMonth; m != endMonth; m += delta) {\n      var month = self.daysContainer.children[m];\n      var startIndex = delta > 0 ? 0 : month.children.length - 1;\n      var endIndex = delta > 0 ? month.children.length : -1;\n      for (var i = startIndex; i != endIndex; i += delta) {\n        var c = month.children[i];\n        if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj)) return c;\n      }\n    }\n    return undefined;\n  }\n  function getNextAvailableDay(current, delta) {\n    var givenMonth = current.className.indexOf(\"Month\") === -1 ? current.dateObj.getMonth() : self.currentMonth;\n    var endMonth = delta > 0 ? self.config.showMonths : -1;\n    var loopDelta = delta > 0 ? 1 : -1;\n    for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n      var month = self.daysContainer.children[m];\n      var startIndex = givenMonth - self.currentMonth === m ? current.$i + delta : delta < 0 ? month.children.length - 1 : 0;\n      var numMonthDays = month.children.length;\n      for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n        var c = month.children[i];\n        if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj) && Math.abs(current.$i - i) >= Math.abs(delta)) return focusOnDayElem(c);\n      }\n    }\n    self.changeMonth(loopDelta);\n    focusOnDay(getFirstAvailableDay(loopDelta), 0);\n    return undefined;\n  }\n  function focusOnDay(current, offset) {\n    var activeElement = getClosestActiveElement();\n    var dayFocused = isInView(activeElement || document.body);\n    var startElem = current !== undefined ? current : dayFocused ? activeElement : self.selectedDateElem !== undefined && isInView(self.selectedDateElem) ? self.selectedDateElem : self.todayDateElem !== undefined && isInView(self.todayDateElem) ? self.todayDateElem : getFirstAvailableDay(offset > 0 ? 1 : -1);\n    if (startElem === undefined) {\n      self._input.focus();\n    } else if (!dayFocused) {\n      focusOnDayElem(startElem);\n    } else {\n      getNextAvailableDay(startElem, offset);\n    }\n  }\n  function buildMonthDays(year, month) {\n    var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n    var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n    var daysInMonth = self.utils.getDaysInMonth(month, year),\n      days = window.document.createDocumentFragment(),\n      isMultiMonth = self.config.showMonths > 1,\n      prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\",\n      nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n    var dayNumber = prevMonthDays + 1 - firstOfMonth,\n      dayIndex = 0;\n    for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n      days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n    }\n    for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n      days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n    }\n    for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n      days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n    }\n    var dayContainer = createElement(\"div\", \"dayContainer\");\n    dayContainer.appendChild(days);\n    return dayContainer;\n  }\n  function buildDays() {\n    if (self.daysContainer === undefined) {\n      return;\n    }\n    clearNode(self.daysContainer);\n    if (self.weekNumbers) clearNode(self.weekNumbers);\n    var frag = document.createDocumentFragment();\n    for (var i = 0; i < self.config.showMonths; i++) {\n      var d = new Date(self.currentYear, self.currentMonth, 1);\n      d.setMonth(self.currentMonth + i);\n      frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n    }\n    self.daysContainer.appendChild(frag);\n    self.days = self.daysContainer.firstChild;\n    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n      onMouseOver();\n    }\n  }\n  function buildMonthSwitch() {\n    if (self.config.showMonths > 1 || self.config.monthSelectorType !== \"dropdown\") return;\n    var shouldBuildMonth = function (month) {\n      if (self.config.minDate !== undefined && self.currentYear === self.config.minDate.getFullYear() && month < self.config.minDate.getMonth()) {\n        return false;\n      }\n      return !(self.config.maxDate !== undefined && self.currentYear === self.config.maxDate.getFullYear() && month > self.config.maxDate.getMonth());\n    };\n    self.monthsDropdownContainer.tabIndex = -1;\n    self.monthsDropdownContainer.innerHTML = \"\";\n    for (var i = 0; i < 12; i++) {\n      if (!shouldBuildMonth(i)) continue;\n      var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n      month.value = new Date(self.currentYear, i).getMonth().toString();\n      month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n      month.tabIndex = -1;\n      if (self.currentMonth === i) {\n        month.selected = true;\n      }\n      self.monthsDropdownContainer.appendChild(month);\n    }\n  }\n  function buildMonth() {\n    var container = createElement(\"div\", \"flatpickr-month\");\n    var monthNavFragment = window.document.createDocumentFragment();\n    var monthElement;\n    if (self.config.showMonths > 1 || self.config.monthSelectorType === \"static\") {\n      monthElement = createElement(\"span\", \"cur-month\");\n    } else {\n      self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n      self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n      bind(self.monthsDropdownContainer, \"change\", function (e) {\n        var target = getEventTarget(e);\n        var selectedMonth = parseInt(target.value, 10);\n        self.changeMonth(selectedMonth - self.currentMonth);\n        triggerEvent(\"onMonthChange\");\n      });\n      buildMonthSwitch();\n      monthElement = self.monthsDropdownContainer;\n    }\n    var yearInput = createNumberInput(\"cur-year\", {\n      tabindex: \"-1\"\n    });\n    var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n    yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n    if (self.config.minDate) {\n      yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n    }\n    if (self.config.maxDate) {\n      yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n      yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n    }\n    var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n    currentMonth.appendChild(monthElement);\n    currentMonth.appendChild(yearInput);\n    monthNavFragment.appendChild(currentMonth);\n    container.appendChild(monthNavFragment);\n    return {\n      container: container,\n      yearElement: yearElement,\n      monthElement: monthElement\n    };\n  }\n  function buildMonths() {\n    clearNode(self.monthNav);\n    self.monthNav.appendChild(self.prevMonthNav);\n    if (self.config.showMonths) {\n      self.yearElements = [];\n      self.monthElements = [];\n    }\n    for (var m = self.config.showMonths; m--;) {\n      var month = buildMonth();\n      self.yearElements.push(month.yearElement);\n      self.monthElements.push(month.monthElement);\n      self.monthNav.appendChild(month.container);\n    }\n    self.monthNav.appendChild(self.nextMonthNav);\n  }\n  function buildMonthNav() {\n    self.monthNav = createElement(\"div\", \"flatpickr-months\");\n    self.yearElements = [];\n    self.monthElements = [];\n    self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n    self.prevMonthNav.innerHTML = self.config.prevArrow;\n    self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n    self.nextMonthNav.innerHTML = self.config.nextArrow;\n    buildMonths();\n    Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n      get: function () {\n        return self.__hidePrevMonthArrow;\n      },\n      set: function (bool) {\n        if (self.__hidePrevMonthArrow !== bool) {\n          toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n          self.__hidePrevMonthArrow = bool;\n        }\n      }\n    });\n    Object.defineProperty(self, \"_hideNextMonthArrow\", {\n      get: function () {\n        return self.__hideNextMonthArrow;\n      },\n      set: function (bool) {\n        if (self.__hideNextMonthArrow !== bool) {\n          toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n          self.__hideNextMonthArrow = bool;\n        }\n      }\n    });\n    self.currentYearElement = self.yearElements[0];\n    updateNavigationCurrentMonth();\n    return self.monthNav;\n  }\n  function buildTime() {\n    self.calendarContainer.classList.add(\"hasTime\");\n    if (self.config.noCalendar) self.calendarContainer.classList.add(\"noCalendar\");\n    var defaults = getDefaultHours(self.config);\n    self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n    self.timeContainer.tabIndex = -1;\n    var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n    var hourInput = createNumberInput(\"flatpickr-hour\", {\n      \"aria-label\": self.l10n.hourAriaLabel\n    });\n    self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n    var minuteInput = createNumberInput(\"flatpickr-minute\", {\n      \"aria-label\": self.l10n.minuteAriaLabel\n    });\n    self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n    self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n    self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? defaults.hours : military2ampm(defaults.hours));\n    self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : defaults.minutes);\n    self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n    self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n    self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n    self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n    self.hourElement.setAttribute(\"maxlength\", \"2\");\n    self.minuteElement.setAttribute(\"min\", \"0\");\n    self.minuteElement.setAttribute(\"max\", \"59\");\n    self.minuteElement.setAttribute(\"maxlength\", \"2\");\n    self.timeContainer.appendChild(hourInput);\n    self.timeContainer.appendChild(separator);\n    self.timeContainer.appendChild(minuteInput);\n    if (self.config.time_24hr) self.timeContainer.classList.add(\"time24hr\");\n    if (self.config.enableSeconds) {\n      self.timeContainer.classList.add(\"hasSeconds\");\n      var secondInput = createNumberInput(\"flatpickr-second\");\n      self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n      self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : defaults.seconds);\n      self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n      self.secondElement.setAttribute(\"min\", \"0\");\n      self.secondElement.setAttribute(\"max\", \"59\");\n      self.secondElement.setAttribute(\"maxlength\", \"2\");\n      self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n      self.timeContainer.appendChild(secondInput);\n    }\n    if (!self.config.time_24hr) {\n      self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);\n      self.amPM.title = self.l10n.toggleTitle;\n      self.amPM.tabIndex = -1;\n      self.timeContainer.appendChild(self.amPM);\n    }\n    return self.timeContainer;\n  }\n  function buildWeekdays() {\n    if (!self.weekdayContainer) self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");else clearNode(self.weekdayContainer);\n    for (var i = self.config.showMonths; i--;) {\n      var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n      self.weekdayContainer.appendChild(container);\n    }\n    updateWeekdays();\n    return self.weekdayContainer;\n  }\n  function updateWeekdays() {\n    if (!self.weekdayContainer) {\n      return;\n    }\n    var firstDayOfWeek = self.l10n.firstDayOfWeek;\n    var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n    if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n      weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n    }\n    for (var i = self.config.showMonths; i--;) {\n      self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n    }\n  }\n  function buildWeeks() {\n    self.calendarContainer.classList.add(\"hasWeeks\");\n    var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n    weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n    var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n    weekWrapper.appendChild(weekNumbers);\n    return {\n      weekWrapper: weekWrapper,\n      weekNumbers: weekNumbers\n    };\n  }\n  function changeMonth(value, isOffset) {\n    if (isOffset === void 0) {\n      isOffset = true;\n    }\n    var delta = isOffset ? value : value - self.currentMonth;\n    if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;\n    self.currentMonth += delta;\n    if (self.currentMonth < 0 || self.currentMonth > 11) {\n      self.currentYear += self.currentMonth > 11 ? 1 : -1;\n      self.currentMonth = (self.currentMonth + 12) % 12;\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n    buildDays();\n    triggerEvent(\"onMonthChange\");\n    updateNavigationCurrentMonth();\n  }\n  function clear(triggerChangeEvent, toInitial) {\n    if (triggerChangeEvent === void 0) {\n      triggerChangeEvent = true;\n    }\n    if (toInitial === void 0) {\n      toInitial = true;\n    }\n    self.input.value = \"\";\n    if (self.altInput !== undefined) self.altInput.value = \"\";\n    if (self.mobileInput !== undefined) self.mobileInput.value = \"\";\n    self.selectedDates = [];\n    self.latestSelectedDateObj = undefined;\n    if (toInitial === true) {\n      self.currentYear = self._initialDate.getFullYear();\n      self.currentMonth = self._initialDate.getMonth();\n    }\n    if (self.config.enableTime === true) {\n      var _a = getDefaultHours(self.config),\n        hours = _a.hours,\n        minutes = _a.minutes,\n        seconds = _a.seconds;\n      setHours(hours, minutes, seconds);\n    }\n    self.redraw();\n    if (triggerChangeEvent) triggerEvent(\"onChange\");\n  }\n  function close() {\n    self.isOpen = false;\n    if (!self.isMobile) {\n      if (self.calendarContainer !== undefined) {\n        self.calendarContainer.classList.remove(\"open\");\n      }\n      if (self._input !== undefined) {\n        self._input.classList.remove(\"active\");\n      }\n    }\n    triggerEvent(\"onClose\");\n  }\n  function destroy() {\n    if (self.config !== undefined) triggerEvent(\"onDestroy\");\n    for (var i = self._handlers.length; i--;) {\n      self._handlers[i].remove();\n    }\n    self._handlers = [];\n    if (self.mobileInput) {\n      if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);\n      self.mobileInput = undefined;\n    } else if (self.calendarContainer && self.calendarContainer.parentNode) {\n      if (self.config.static && self.calendarContainer.parentNode) {\n        var wrapper = self.calendarContainer.parentNode;\n        wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n        if (wrapper.parentNode) {\n          while (wrapper.firstChild) wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n          wrapper.parentNode.removeChild(wrapper);\n        }\n      } else self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n    }\n    if (self.altInput) {\n      self.input.type = \"text\";\n      if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);\n      delete self.altInput;\n    }\n    if (self.input) {\n      self.input.type = self.input._type;\n      self.input.classList.remove(\"flatpickr-input\");\n      self.input.removeAttribute(\"readonly\");\n    }\n    [\"_showTimeInput\", \"latestSelectedDateObj\", \"_hideNextMonthArrow\", \"_hidePrevMonthArrow\", \"__hideNextMonthArrow\", \"__hidePrevMonthArrow\", \"isMobile\", \"isOpen\", \"selectedDateElem\", \"minDateHasTime\", \"maxDateHasTime\", \"days\", \"daysContainer\", \"_input\", \"_positionElement\", \"innerContainer\", \"rContainer\", \"monthNav\", \"todayDateElem\", \"calendarContainer\", \"weekdayContainer\", \"prevMonthNav\", \"nextMonthNav\", \"monthsDropdownContainer\", \"currentMonthElement\", \"currentYearElement\", \"navigationCurrentMonth\", \"selectedDateElem\", \"config\"].forEach(function (k) {\n      try {\n        delete self[k];\n      } catch (_) {}\n    });\n  }\n  function isCalendarElem(elem) {\n    return self.calendarContainer.contains(elem);\n  }\n  function documentClick(e) {\n    if (self.isOpen && !self.config.inline) {\n      var eventTarget_1 = getEventTarget(e);\n      var isCalendarElement = isCalendarElem(eventTarget_1);\n      var isInput = eventTarget_1 === self.input || eventTarget_1 === self.altInput || self.element.contains(eventTarget_1) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));\n      var lostFocus = !isInput && !isCalendarElement && !isCalendarElem(e.relatedTarget);\n      var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n        return elem.contains(eventTarget_1);\n      });\n      if (lostFocus && isIgnored) {\n        if (self.config.allowInput) {\n          self.setDate(self._input.value, false, self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        }\n        if (self.timeContainer !== undefined && self.minuteElement !== undefined && self.hourElement !== undefined && self.input.value !== \"\" && self.input.value !== undefined) {\n          updateTime();\n        }\n        self.close();\n        if (self.config && self.config.mode === \"range\" && self.selectedDates.length === 1) self.clear(false);\n      }\n    }\n  }\n  function changeYear(newYear) {\n    if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;\n    var newYearNum = newYear,\n      isNewYear = self.currentYear !== newYearNum;\n    self.currentYear = newYearNum || self.currentYear;\n    if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {\n      self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n    } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {\n      self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n    }\n    if (isNewYear) {\n      self.redraw();\n      triggerEvent(\"onYearChange\");\n      buildMonthSwitch();\n    }\n  }\n  function isEnabled(date, timeless) {\n    var _a;\n    if (timeless === void 0) {\n      timeless = true;\n    }\n    var dateToCheck = self.parseDate(date, undefined, timeless);\n    if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0) return false;\n    if (!self.config.enable && self.config.disable.length === 0) return true;\n    if (dateToCheck === undefined) return false;\n    var bool = !!self.config.enable,\n      array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n    for (var i = 0, d = void 0; i < array.length; i++) {\n      d = array[i];\n      if (typeof d === \"function\" && d(dateToCheck)) return bool;else if (d instanceof Date && dateToCheck !== undefined && d.getTime() === dateToCheck.getTime()) return bool;else if (typeof d === \"string\") {\n        var parsed = self.parseDate(d, undefined, true);\n        return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;\n      } else if (typeof d === \"object\" && dateToCheck !== undefined && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;\n    }\n    return !bool;\n  }\n  function isInView(elem) {\n    if (self.daysContainer !== undefined) return elem.className.indexOf(\"hidden\") === -1 && elem.className.indexOf(\"flatpickr-disabled\") === -1 && self.daysContainer.contains(elem);\n    return false;\n  }\n  function onBlur(e) {\n    var isInput = e.target === self._input;\n    var valueChanged = self._input.value.trimEnd() !== getDateStr();\n    if (isInput && valueChanged && !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n      self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);\n    }\n  }\n  function onKeyDown(e) {\n    var eventTarget = getEventTarget(e);\n    var isInput = self.config.wrap ? element.contains(eventTarget) : eventTarget === self._input;\n    var allowInput = self.config.allowInput;\n    var allowKeydown = self.isOpen && (!allowInput || !isInput);\n    var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n    if (e.keyCode === 13 && isInput) {\n      if (allowInput) {\n        self.setDate(self._input.value, true, eventTarget === self.altInput ? self.config.altFormat : self.config.dateFormat);\n        self.close();\n        return eventTarget.blur();\n      } else {\n        self.open();\n      }\n    } else if (isCalendarElem(eventTarget) || allowKeydown || allowInlineKeydown) {\n      var isTimeObj = !!self.timeContainer && self.timeContainer.contains(eventTarget);\n      switch (e.keyCode) {\n        case 13:\n          if (isTimeObj) {\n            e.preventDefault();\n            updateTime();\n            focusAndClose();\n          } else selectDate(e);\n          break;\n        case 27:\n          e.preventDefault();\n          focusAndClose();\n          break;\n        case 8:\n        case 46:\n          if (isInput && !self.config.allowInput) {\n            e.preventDefault();\n            self.clear();\n          }\n          break;\n        case 37:\n        case 39:\n          if (!isTimeObj && !isInput) {\n            e.preventDefault();\n            var activeElement = getClosestActiveElement();\n            if (self.daysContainer !== undefined && (allowInput === false || activeElement && isInView(activeElement))) {\n              var delta_1 = e.keyCode === 39 ? 1 : -1;\n              if (!e.ctrlKey) focusOnDay(undefined, delta_1);else {\n                e.stopPropagation();\n                changeMonth(delta_1);\n                focusOnDay(getFirstAvailableDay(1), 0);\n              }\n            }\n          } else if (self.hourElement) self.hourElement.focus();\n          break;\n        case 38:\n        case 40:\n          e.preventDefault();\n          var delta = e.keyCode === 40 ? 1 : -1;\n          if (self.daysContainer && eventTarget.$i !== undefined || eventTarget === self.input || eventTarget === self.altInput) {\n            if (e.ctrlKey) {\n              e.stopPropagation();\n              changeYear(self.currentYear - delta);\n              focusOnDay(getFirstAvailableDay(1), 0);\n            } else if (!isTimeObj) focusOnDay(undefined, delta * 7);\n          } else if (eventTarget === self.currentYearElement) {\n            changeYear(self.currentYear - delta);\n          } else if (self.config.enableTime) {\n            if (!isTimeObj && self.hourElement) self.hourElement.focus();\n            updateTime(e);\n            self._debouncedChange();\n          }\n          break;\n        case 9:\n          if (isTimeObj) {\n            var elems = [self.hourElement, self.minuteElement, self.secondElement, self.amPM].concat(self.pluginElements).filter(function (x) {\n              return x;\n            });\n            var i = elems.indexOf(eventTarget);\n            if (i !== -1) {\n              var target = elems[i + (e.shiftKey ? -1 : 1)];\n              e.preventDefault();\n              (target || self._input).focus();\n            }\n          } else if (!self.config.noCalendar && self.daysContainer && self.daysContainer.contains(eventTarget) && e.shiftKey) {\n            e.preventDefault();\n            self._input.focus();\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    if (self.amPM !== undefined && eventTarget === self.amPM) {\n      switch (e.key) {\n        case self.l10n.amPM[0].charAt(0):\n        case self.l10n.amPM[0].charAt(0).toLowerCase():\n          self.amPM.textContent = self.l10n.amPM[0];\n          setHoursFromInputs();\n          updateValue();\n          break;\n        case self.l10n.amPM[1].charAt(0):\n        case self.l10n.amPM[1].charAt(0).toLowerCase():\n          self.amPM.textContent = self.l10n.amPM[1];\n          setHoursFromInputs();\n          updateValue();\n          break;\n      }\n    }\n    if (isInput || isCalendarElem(eventTarget)) {\n      triggerEvent(\"onKeyDown\", e);\n    }\n  }\n  function onMouseOver(elem, cellClass) {\n    if (cellClass === void 0) {\n      cellClass = \"flatpickr-day\";\n    }\n    if (self.selectedDates.length !== 1 || elem && (!elem.classList.contains(cellClass) || elem.classList.contains(\"flatpickr-disabled\"))) return;\n    var hoverDate = elem ? elem.dateObj.getTime() : self.days.firstElementChild.dateObj.getTime(),\n      initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(),\n      rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()),\n      rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n    var containsDisabled = false;\n    var minRange = 0,\n      maxRange = 0;\n    for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n      if (!isEnabled(new Date(t), true)) {\n        containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;\n        if (t < initialDate && (!minRange || t > minRange)) minRange = t;else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;\n      }\n    }\n    var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n    hoverableCells.forEach(function (dayElem) {\n      var date = dayElem.dateObj;\n      var timestamp = date.getTime();\n      var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;\n      if (outOfRange) {\n        dayElem.classList.add(\"notAllowed\");\n        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n          dayElem.classList.remove(c);\n        });\n        return;\n      } else if (containsDisabled && !outOfRange) return;\n      [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n        dayElem.classList.remove(c);\n      });\n      if (elem !== undefined) {\n        elem.classList.add(hoverDate <= self.selectedDates[0].getTime() ? \"startRange\" : \"endRange\");\n        if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add(\"startRange\");else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add(\"endRange\");\n        if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add(\"inRange\");\n      }\n    });\n  }\n  function onResize() {\n    if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();\n  }\n  function open(e, positionElement) {\n    if (positionElement === void 0) {\n      positionElement = self._positionElement;\n    }\n    if (self.isMobile === true) {\n      if (e) {\n        e.preventDefault();\n        var eventTarget = getEventTarget(e);\n        if (eventTarget) {\n          eventTarget.blur();\n        }\n      }\n      if (self.mobileInput !== undefined) {\n        self.mobileInput.focus();\n        self.mobileInput.click();\n      }\n      triggerEvent(\"onOpen\");\n      return;\n    } else if (self._input.disabled || self.config.inline) {\n      return;\n    }\n    var wasOpen = self.isOpen;\n    self.isOpen = true;\n    if (!wasOpen) {\n      self.calendarContainer.classList.add(\"open\");\n      self._input.classList.add(\"active\");\n      triggerEvent(\"onOpen\");\n      positionCalendar(positionElement);\n    }\n    if (self.config.enableTime === true && self.config.noCalendar === true) {\n      if (self.config.allowInput === false && (e === undefined || !self.timeContainer.contains(e.relatedTarget))) {\n        setTimeout(function () {\n          return self.hourElement.select();\n        }, 50);\n      }\n    }\n  }\n  function minMaxDateSetter(type) {\n    return function (date) {\n      var dateObj = self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat);\n      var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n      if (dateObj !== undefined) {\n        self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;\n      }\n      if (self.selectedDates) {\n        self.selectedDates = self.selectedDates.filter(function (d) {\n          return isEnabled(d);\n        });\n        if (!self.selectedDates.length && type === \"min\") setHoursFromDate(dateObj);\n        updateValue();\n      }\n      if (self.daysContainer) {\n        redraw();\n        if (dateObj !== undefined) self.currentYearElement[type] = dateObj.getFullYear().toString();else self.currentYearElement.removeAttribute(type);\n        self.currentYearElement.disabled = !!inverseDateObj && dateObj !== undefined && inverseDateObj.getFullYear() === dateObj.getFullYear();\n      }\n    };\n  }\n  function parseConfig() {\n    var boolOpts = [\"wrap\", \"weekNumbers\", \"allowInput\", \"allowInvalidPreload\", \"clickOpens\", \"time_24hr\", \"enableTime\", \"noCalendar\", \"altInput\", \"shorthandCurrentMonth\", \"inline\", \"static\", \"enableSeconds\", \"disableMobile\"];\n    var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n    var formats = {};\n    self.config.parseDate = userConfig.parseDate;\n    self.config.formatDate = userConfig.formatDate;\n    Object.defineProperty(self.config, \"enable\", {\n      get: function () {\n        return self.config._enable;\n      },\n      set: function (dates) {\n        self.config._enable = parseDateRules(dates);\n      }\n    });\n    Object.defineProperty(self.config, \"disable\", {\n      get: function () {\n        return self.config._disable;\n      },\n      set: function (dates) {\n        self.config._disable = parseDateRules(dates);\n      }\n    });\n    var timeMode = userConfig.mode === \"time\";\n    if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n      var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n      formats.dateFormat = userConfig.noCalendar || timeMode ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\") : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n    }\n    if (userConfig.altInput && (userConfig.enableTime || timeMode) && !userConfig.altFormat) {\n      var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n      formats.altFormat = userConfig.noCalendar || timeMode ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\") : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n    }\n    Object.defineProperty(self.config, \"minDate\", {\n      get: function () {\n        return self.config._minDate;\n      },\n      set: minMaxDateSetter(\"min\")\n    });\n    Object.defineProperty(self.config, \"maxDate\", {\n      get: function () {\n        return self.config._maxDate;\n      },\n      set: minMaxDateSetter(\"max\")\n    });\n    var minMaxTimeSetter = function (type) {\n      return function (val) {\n        self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n      };\n    };\n    Object.defineProperty(self.config, \"minTime\", {\n      get: function () {\n        return self.config._minTime;\n      },\n      set: minMaxTimeSetter(\"min\")\n    });\n    Object.defineProperty(self.config, \"maxTime\", {\n      get: function () {\n        return self.config._maxTime;\n      },\n      set: minMaxTimeSetter(\"max\")\n    });\n    if (userConfig.mode === \"time\") {\n      self.config.noCalendar = true;\n      self.config.enableTime = true;\n    }\n    Object.assign(self.config, formats, userConfig);\n    for (var i = 0; i < boolOpts.length; i++) self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === \"true\";\n    HOOKS.filter(function (hook) {\n      return self.config[hook] !== undefined;\n    }).forEach(function (hook) {\n      self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n    });\n    self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === \"single\" && !self.config.disable.length && !self.config.enable && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    for (var i = 0; i < self.config.plugins.length; i++) {\n      var pluginConf = self.config.plugins[i](self) || {};\n      for (var key in pluginConf) {\n        if (HOOKS.indexOf(key) > -1) {\n          self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);\n        } else if (typeof userConfig[key] === \"undefined\") self.config[key] = pluginConf[key];\n      }\n    }\n    if (!userConfig.altInputClass) {\n      self.config.altInputClass = getInputElem().className + \" \" + self.config.altInputClass;\n    }\n    triggerEvent(\"onParseConfig\");\n  }\n  function getInputElem() {\n    return self.config.wrap ? element.querySelector(\"[data-input]\") : element;\n  }\n  function setupLocale() {\n    if (typeof self.config.locale !== \"object\" && typeof flatpickr.l10ns[self.config.locale] === \"undefined\") self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n    self.l10n = __assign(__assign({}, flatpickr.l10ns.default), typeof self.config.locale === \"object\" ? self.config.locale : self.config.locale !== \"default\" ? flatpickr.l10ns[self.config.locale] : undefined);\n    tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n    tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n    tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n    tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n    tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n    var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n    if (userConfig.time_24hr === undefined && flatpickr.defaultConfig.time_24hr === undefined) {\n      self.config.time_24hr = self.l10n.time_24hr;\n    }\n    self.formatDate = createDateFormatter(self);\n    self.parseDate = createDateParser({\n      config: self.config,\n      l10n: self.l10n\n    });\n  }\n  function positionCalendar(customPositionElement) {\n    if (typeof self.config.position === \"function\") {\n      return void self.config.position(self, customPositionElement);\n    }\n    if (self.calendarContainer === undefined) return;\n    triggerEvent(\"onPreCalendarPosition\");\n    var positionElement = customPositionElement || self._positionElement;\n    var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function (acc, child) {\n        return acc + child.offsetHeight;\n      }, 0),\n      calendarWidth = self.calendarContainer.offsetWidth,\n      configPos = self.config.position.split(\" \"),\n      configPosVertical = configPos[0],\n      configPosHorizontal = configPos.length > 1 ? configPos[1] : null,\n      inputBounds = positionElement.getBoundingClientRect(),\n      distanceFromBottom = window.innerHeight - inputBounds.bottom,\n      showOnTop = configPosVertical === \"above\" || configPosVertical !== \"below\" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;\n    var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n    toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n    toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n    if (self.config.inline) return;\n    var left = window.pageXOffset + inputBounds.left;\n    var isCenter = false;\n    var isRight = false;\n    if (configPosHorizontal === \"center\") {\n      left -= (calendarWidth - inputBounds.width) / 2;\n      isCenter = true;\n    } else if (configPosHorizontal === \"right\") {\n      left -= calendarWidth - inputBounds.width;\n      isRight = true;\n    }\n    toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n    toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n    toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n    var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n    var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n    var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n    toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n    if (self.config.static) return;\n    self.calendarContainer.style.top = top + \"px\";\n    if (!rightMost) {\n      self.calendarContainer.style.left = left + \"px\";\n      self.calendarContainer.style.right = \"auto\";\n    } else if (!centerMost) {\n      self.calendarContainer.style.left = \"auto\";\n      self.calendarContainer.style.right = right + \"px\";\n    } else {\n      var doc = getDocumentStyleSheet();\n      if (doc === undefined) return;\n      var bodyWidth = window.document.body.offsetWidth;\n      var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n      var centerBefore = \".flatpickr-calendar.centerMost:before\";\n      var centerAfter = \".flatpickr-calendar.centerMost:after\";\n      var centerIndex = doc.cssRules.length;\n      var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n      toggleClass(self.calendarContainer, \"rightMost\", false);\n      toggleClass(self.calendarContainer, \"centerMost\", true);\n      doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n      self.calendarContainer.style.left = centerLeft + \"px\";\n      self.calendarContainer.style.right = \"auto\";\n    }\n  }\n  function getDocumentStyleSheet() {\n    var editableSheet = null;\n    for (var i = 0; i < document.styleSheets.length; i++) {\n      var sheet = document.styleSheets[i];\n      if (!sheet.cssRules) continue;\n      try {\n        sheet.cssRules;\n      } catch (err) {\n        continue;\n      }\n      editableSheet = sheet;\n      break;\n    }\n    return editableSheet != null ? editableSheet : createStyleSheet();\n  }\n  function createStyleSheet() {\n    var style = document.createElement(\"style\");\n    document.head.appendChild(style);\n    return style.sheet;\n  }\n  function redraw() {\n    if (self.config.noCalendar || self.isMobile) return;\n    buildMonthSwitch();\n    updateNavigationCurrentMonth();\n    buildDays();\n  }\n  function focusAndClose() {\n    self._input.focus();\n    if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.msMaxTouchPoints !== undefined) {\n      setTimeout(self.close, 0);\n    } else {\n      self.close();\n    }\n  }\n  function selectDate(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var isSelectable = function (day) {\n      return day.classList && day.classList.contains(\"flatpickr-day\") && !day.classList.contains(\"flatpickr-disabled\") && !day.classList.contains(\"notAllowed\");\n    };\n    var t = findParent(getEventTarget(e), isSelectable);\n    if (t === undefined) return;\n    var target = t;\n    var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());\n    var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== \"range\";\n    self.selectedDateElem = target;\n    if (self.config.mode === \"single\") self.selectedDates = [selectedDate];else if (self.config.mode === \"multiple\") {\n      var selectedIndex = isDateSelected(selectedDate);\n      if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);else self.selectedDates.push(selectedDate);\n    } else if (self.config.mode === \"range\") {\n      if (self.selectedDates.length === 2) {\n        self.clear(false, false);\n      }\n      self.latestSelectedDateObj = selectedDate;\n      self.selectedDates.push(selectedDate);\n      if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function (a, b) {\n        return a.getTime() - b.getTime();\n      });\n    }\n    setHoursFromInputs();\n    if (shouldChangeMonth) {\n      var isNewYear = self.currentYear !== selectedDate.getFullYear();\n      self.currentYear = selectedDate.getFullYear();\n      self.currentMonth = selectedDate.getMonth();\n      if (isNewYear) {\n        triggerEvent(\"onYearChange\");\n        buildMonthSwitch();\n      }\n      triggerEvent(\"onMonthChange\");\n    }\n    updateNavigationCurrentMonth();\n    buildDays();\n    updateValue();\n    if (!shouldChangeMonth && self.config.mode !== \"range\" && self.config.showMonths === 1) focusOnDayElem(target);else if (self.selectedDateElem !== undefined && self.hourElement === undefined) {\n      self.selectedDateElem && self.selectedDateElem.focus();\n    }\n    if (self.hourElement !== undefined) self.hourElement !== undefined && self.hourElement.focus();\n    if (self.config.closeOnSelect) {\n      var single = self.config.mode === \"single\" && !self.config.enableTime;\n      var range = self.config.mode === \"range\" && self.selectedDates.length === 2 && !self.config.enableTime;\n      if (single || range) {\n        focusAndClose();\n      }\n    }\n    triggerChange();\n  }\n  var CALLBACKS = {\n    locale: [setupLocale, updateWeekdays],\n    showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n    minDate: [jumpToDate],\n    maxDate: [jumpToDate],\n    positionElement: [updatePositionElement],\n    clickOpens: [function () {\n      if (self.config.clickOpens === true) {\n        bind(self._input, \"focus\", self.open);\n        bind(self._input, \"click\", self.open);\n      } else {\n        self._input.removeEventListener(\"focus\", self.open);\n        self._input.removeEventListener(\"click\", self.open);\n      }\n    }]\n  };\n  function set(option, value) {\n    if (option !== null && typeof option === \"object\") {\n      Object.assign(self.config, option);\n      for (var key in option) {\n        if (CALLBACKS[key] !== undefined) CALLBACKS[key].forEach(function (x) {\n          return x();\n        });\n      }\n    } else {\n      self.config[option] = value;\n      if (CALLBACKS[option] !== undefined) CALLBACKS[option].forEach(function (x) {\n        return x();\n      });else if (HOOKS.indexOf(option) > -1) self.config[option] = arrayify(value);\n    }\n    self.redraw();\n    updateValue(true);\n  }\n  function setSelectedDate(inputDate, format) {\n    var dates = [];\n    if (inputDate instanceof Array) dates = inputDate.map(function (d) {\n      return self.parseDate(d, format);\n    });else if (inputDate instanceof Date || typeof inputDate === \"number\") dates = [self.parseDate(inputDate, format)];else if (typeof inputDate === \"string\") {\n      switch (self.config.mode) {\n        case \"single\":\n        case \"time\":\n          dates = [self.parseDate(inputDate, format)];\n          break;\n        case \"multiple\":\n          dates = inputDate.split(self.config.conjunction).map(function (date) {\n            return self.parseDate(date, format);\n          });\n          break;\n        case \"range\":\n          dates = inputDate.split(self.l10n.rangeSeparator).map(function (date) {\n            return self.parseDate(date, format);\n          });\n          break;\n        default:\n          break;\n      }\n    } else self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n    self.selectedDates = self.config.allowInvalidPreload ? dates : dates.filter(function (d) {\n      return d instanceof Date && isEnabled(d, false);\n    });\n    if (self.config.mode === \"range\") self.selectedDates.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  }\n  function setDate(date, triggerChange, format) {\n    if (triggerChange === void 0) {\n      triggerChange = false;\n    }\n    if (format === void 0) {\n      format = self.config.dateFormat;\n    }\n    if (date !== 0 && !date || date instanceof Array && date.length === 0) return self.clear(triggerChange);\n    setSelectedDate(date, format);\n    self.latestSelectedDateObj = self.selectedDates[self.selectedDates.length - 1];\n    self.redraw();\n    jumpToDate(undefined, triggerChange);\n    setHoursFromDate();\n    if (self.selectedDates.length === 0) {\n      self.clear(false);\n    }\n    updateValue(triggerChange);\n    if (triggerChange) triggerEvent(\"onChange\");\n  }\n  function parseDateRules(arr) {\n    return arr.slice().map(function (rule) {\n      if (typeof rule === \"string\" || typeof rule === \"number\" || rule instanceof Date) {\n        return self.parseDate(rule, undefined, true);\n      } else if (rule && typeof rule === \"object\" && rule.from && rule.to) return {\n        from: self.parseDate(rule.from, undefined),\n        to: self.parseDate(rule.to, undefined)\n      };\n      return rule;\n    }).filter(function (x) {\n      return x;\n    });\n  }\n  function setupDates() {\n    self.selectedDates = [];\n    self.now = self.parseDate(self.config.now) || new Date();\n    var preloadedDate = self.config.defaultDate || ((self.input.nodeName === \"INPUT\" || self.input.nodeName === \"TEXTAREA\") && self.input.placeholder && self.input.value === self.input.placeholder ? null : self.input.value);\n    if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);\n    self._initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;\n    self.currentYear = self._initialDate.getFullYear();\n    self.currentMonth = self._initialDate.getMonth();\n    if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];\n    if (self.config.minTime !== undefined) self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n    if (self.config.maxTime !== undefined) self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n    self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);\n    self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);\n  }\n  function setupInputs() {\n    self.input = getInputElem();\n    if (!self.input) {\n      self.config.errorHandler(new Error(\"Invalid input element specified\"));\n      return;\n    }\n    self.input._type = self.input.type;\n    self.input.type = \"text\";\n    self.input.classList.add(\"flatpickr-input\");\n    self._input = self.input;\n    if (self.config.altInput) {\n      self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n      self._input = self.altInput;\n      self.altInput.placeholder = self.input.placeholder;\n      self.altInput.disabled = self.input.disabled;\n      self.altInput.required = self.input.required;\n      self.altInput.tabIndex = self.input.tabIndex;\n      self.altInput.type = \"text\";\n      self.input.setAttribute(\"type\", \"hidden\");\n      if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n    }\n    if (!self.config.allowInput) self._input.setAttribute(\"readonly\", \"readonly\");\n    updatePositionElement();\n  }\n  function updatePositionElement() {\n    self._positionElement = self.config.positionElement || self._input;\n  }\n  function setupMobile() {\n    var inputType = self.config.enableTime ? self.config.noCalendar ? \"time\" : \"datetime-local\" : \"date\";\n    self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n    self.mobileInput.tabIndex = 1;\n    self.mobileInput.type = inputType;\n    self.mobileInput.disabled = self.input.disabled;\n    self.mobileInput.required = self.input.required;\n    self.mobileInput.placeholder = self.input.placeholder;\n    self.mobileFormatStr = inputType === \"datetime-local\" ? \"Y-m-d\\\\TH:i:S\" : inputType === \"date\" ? \"Y-m-d\" : \"H:i:S\";\n    if (self.selectedDates.length > 0) {\n      self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n    }\n    if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n    if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n    if (self.input.getAttribute(\"step\")) self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n    self.input.type = \"hidden\";\n    if (self.altInput !== undefined) self.altInput.type = \"hidden\";\n    try {\n      if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n    } catch (_a) {}\n    bind(self.mobileInput, \"change\", function (e) {\n      self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n      triggerEvent(\"onChange\");\n      triggerEvent(\"onClose\");\n    });\n  }\n  function toggle(e) {\n    if (self.isOpen === true) return self.close();\n    self.open(e);\n  }\n  function triggerEvent(event, data) {\n    if (self.config === undefined) return;\n    var hooks = self.config[event];\n    if (hooks !== undefined && hooks.length > 0) {\n      for (var i = 0; hooks[i] && i < hooks.length; i++) hooks[i](self.selectedDates, self.input.value, self, data);\n    }\n    if (event === \"onChange\") {\n      self.input.dispatchEvent(createEvent(\"change\"));\n      self.input.dispatchEvent(createEvent(\"input\"));\n    }\n  }\n  function createEvent(name) {\n    var e = document.createEvent(\"Event\");\n    e.initEvent(name, true, true);\n    return e;\n  }\n  function isDateSelected(date) {\n    for (var i = 0; i < self.selectedDates.length; i++) {\n      var selectedDate = self.selectedDates[i];\n      if (selectedDate instanceof Date && compareDates(selectedDate, date) === 0) return \"\" + i;\n    }\n    return false;\n  }\n  function isDateInRange(date) {\n    if (self.config.mode !== \"range\" || self.selectedDates.length < 2) return false;\n    return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;\n  }\n  function updateNavigationCurrentMonth() {\n    if (self.config.noCalendar || self.isMobile || !self.monthNav) return;\n    self.yearElements.forEach(function (yearElement, i) {\n      var d = new Date(self.currentYear, self.currentMonth, 1);\n      d.setMonth(self.currentMonth + i);\n      if (self.config.showMonths > 1 || self.config.monthSelectorType === \"static\") {\n        self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n      } else {\n        self.monthsDropdownContainer.value = d.getMonth().toString();\n      }\n      yearElement.value = d.getFullYear().toString();\n    });\n    self._hidePrevMonthArrow = self.config.minDate !== undefined && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());\n    self._hideNextMonthArrow = self.config.maxDate !== undefined && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());\n  }\n  function getDateStr(specificFormat) {\n    var format = specificFormat || (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n    return self.selectedDates.map(function (dObj) {\n      return self.formatDate(dObj, format);\n    }).filter(function (d, i, arr) {\n      return self.config.mode !== \"range\" || self.config.enableTime || arr.indexOf(d) === i;\n    }).join(self.config.mode !== \"range\" ? self.config.conjunction : self.l10n.rangeSeparator);\n  }\n  function updateValue(triggerChange) {\n    if (triggerChange === void 0) {\n      triggerChange = true;\n    }\n    if (self.mobileInput !== undefined && self.mobileFormatStr) {\n      self.mobileInput.value = self.latestSelectedDateObj !== undefined ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : \"\";\n    }\n    self.input.value = getDateStr(self.config.dateFormat);\n    if (self.altInput !== undefined) {\n      self.altInput.value = getDateStr(self.config.altFormat);\n    }\n    if (triggerChange !== false) triggerEvent(\"onValueUpdate\");\n  }\n  function onMonthNavClick(e) {\n    var eventTarget = getEventTarget(e);\n    var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n    var isNextMonth = self.nextMonthNav.contains(eventTarget);\n    if (isPrevMonth || isNextMonth) {\n      changeMonth(isPrevMonth ? -1 : 1);\n    } else if (self.yearElements.indexOf(eventTarget) >= 0) {\n      eventTarget.select();\n    } else if (eventTarget.classList.contains(\"arrowUp\")) {\n      self.changeYear(self.currentYear + 1);\n    } else if (eventTarget.classList.contains(\"arrowDown\")) {\n      self.changeYear(self.currentYear - 1);\n    }\n  }\n  function timeWrapper(e) {\n    e.preventDefault();\n    var isKeyDown = e.type === \"keydown\",\n      eventTarget = getEventTarget(e),\n      input = eventTarget;\n    if (self.amPM !== undefined && eventTarget === self.amPM) {\n      self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n    }\n    var min = parseFloat(input.getAttribute(\"min\")),\n      max = parseFloat(input.getAttribute(\"max\")),\n      step = parseFloat(input.getAttribute(\"step\")),\n      curValue = parseInt(input.value, 10),\n      delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);\n    var newValue = curValue + step * delta;\n    if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n      var isHourElem = input === self.hourElement,\n        isMinuteElem = input === self.minuteElement;\n      if (newValue < min) {\n        newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));\n        if (isMinuteElem) incrementNumInput(undefined, -1, self.hourElement);\n      } else if (newValue > max) {\n        newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n        if (isMinuteElem) incrementNumInput(undefined, 1, self.hourElement);\n      }\n      if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {\n        self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n      }\n      input.value = pad(newValue);\n    }\n  }\n  init();\n  return self;\n}\nfunction _flatpickr(nodeList, config) {\n  var nodes = Array.prototype.slice.call(nodeList).filter(function (x) {\n    return x instanceof HTMLElement;\n  });\n  var instances = [];\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    try {\n      if (node.getAttribute(\"data-fp-omit\") !== null) continue;\n      if (node._flatpickr !== undefined) {\n        node._flatpickr.destroy();\n        node._flatpickr = undefined;\n      }\n      node._flatpickr = FlatpickrInstance(node, config || {});\n      instances.push(node._flatpickr);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" && typeof HTMLCollection !== \"undefined\" && typeof NodeList !== \"undefined\") {\n  HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n    return _flatpickr(this, config);\n  };\n  HTMLElement.prototype.flatpickr = function (config) {\n    return _flatpickr([this], config);\n  };\n}\nvar flatpickr = function (selector, config) {\n  if (typeof selector === \"string\") {\n    return _flatpickr(window.document.querySelectorAll(selector), config);\n  } else if (selector instanceof Node) {\n    return _flatpickr([selector], config);\n  } else {\n    return _flatpickr(selector, config);\n  }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n  en: __assign({}, English),\n  default: __assign({}, English)\n};\nflatpickr.localize = function (l10n) {\n  flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n  flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n  jQuery.fn.flatpickr = function (config) {\n    return _flatpickr(this, config);\n  };\n}\nDate.prototype.fp_incr = function (days) {\n  return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n  window.flatpickr = flatpickr;\n}\nexport default flatpickr;","import { Component, OnInit } from '@angular/core';\r\nimport { HostListener, AfterViewInit, ViewChild, ElementRef, OnDestroy, ViewChildren, QueryList } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AssetService } from '../services/asset.service';\r\nimport { Router } from '@angular/router';\r\nimport {NgForOf, NgIf} from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport flatpickr from 'flatpickr';\r\n\r\n@Component({\r\n  selector: 'app-asset-create',\r\n  templateUrl: './asset-create.component.html',\r\n  styleUrls: ['./asset-create.component.scss'],\r\n  standalone: true,\r\n  imports: [FormsModule, NgIf, NgForOf]\r\n})\r\nexport class AssetCreateComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChildren('dateInput') dateInputs!: QueryList<ElementRef>;\r\n  @ViewChild('fileInput', { static: false }) fileInput!: ElementRef<HTMLInputElement>;\r\n\r\n  // Flatpickr instances\r\n  flatpickrInstances: any[] = [];\r\n\r\n  // Asset form fields\r\n  name: string = '';\r\n  description: string = '';\r\n  serial_number: string = '';\r\n  model: string = '';\r\n  manufacturer: string = '';\r\n  purchase_date: string = '';\r\n  purchase_price: number | null = null;\r\n  depreciation: number | null = null;\r\n  depreciation_life: number | null = null;\r\n  location_id: number | null = null;\r\n  department_id: number | null = null;\r\n  warranty: string = '';\r\n  insurance: string = '';\r\n  health_score: number = 85;\r\n  status: number | null = null;\r\n  tags: number[] = [];\r\n  images: File[] = [];\r\n  imagePreviewUrls: string[] = [];\r\n  meta: any = {};\r\n  isSubmitting = false;\r\n  isDragOver = false;\r\n  submitError = '';\r\n  submitSuccess = '';\r\n  submitFieldErrors: { [key: string]: string[] } = {};\r\n  locations: any[] = [];\r\n  availableTags: any[] = [];\r\n  departments: any[] = [];\r\n  possibleParents: any[] = [];\r\n  parent_id: number | null = null;\r\n  // Duplication state\r\n  isDuplicate = false;\r\n  duplicateSourceId: string | null = null;\r\n\r\n  // Dropdown state properties\r\n  showAssetTypeDropdown = false;\r\n  showCategoryDropdown = false;\r\n  showLocationDropdown = false;\r\n  showStatusDropdown = false;\r\n  showTagsDropdown = false;\r\n  showDepartmentDropdown = false;\r\n  showParentDropdown = false;\r\n  selectedAssetType: any | null = null;\r\n  selectedCategory: any | null = null;\r\n  selectedLocation: any | null = null;\r\n  selectedStatus: any | null = null;\r\n  selectedDepartment: any | null = null;\r\n  selectedTags: any[] = [];\r\n  newTagInput: string = '';\r\n\r\n  // Validation error properties\r\n  nameError: string = '';\r\n  assetTypeError: string = '';\r\n  categoryError: string = '';\r\n  serialNumberError: string = '';\r\n\r\n  // Address property\r\n  address: string = '';\r\n\r\n  onFileChange(event: any) {\r\n    if (event.target.files && event.target.files.length) {\r\n      const newFiles = Array.from(event.target.files) as File[];\r\n      this.processFiles(newFiles);\r\n      event.target.value = ''; // Clear the input\r\n    }\r\n  }\r\n\r\n  onDragOver(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = true;\r\n  }\r\n\r\n  onDragLeave(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = false;\r\n  }\r\n\r\n  onDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = false;\r\n\r\n    const files = event.dataTransfer?.files;\r\n    if (files && files.length > 0) {\r\n      const fileArray = Array.from(files).filter(file => file.type.startsWith('image/'));\r\n      if (fileArray.length > 0) {\r\n        this.processFiles(fileArray);\r\n      }\r\n    }\r\n  }\r\n\r\n  private processFiles(files: File[]) {\r\n    const maxImages = 10;\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n    const newImages: File[] = [];\r\n    const newPreviews: string[] = [];\r\n\r\n    for (const file of files) {\r\n      // Skip unsupported file types\r\n      if (!allowedTypes.includes(file.type)) {\r\n        console.warn('Invalid file type:', file.name);\r\n        continue;\r\n      }\r\n\r\n      // Skip files > 10MB\r\n      if (file.size > 10 * 1024 * 1024) {\r\n        console.warn('File too large:', file.name);\r\n        continue;\r\n      }\r\n\r\n      // Prevent duplicate files (based on name + size)\r\n      const isDuplicate = this.images.some(existing =>\r\n        existing.name === file.name && existing.size === file.size\r\n      );\r\n      if (isDuplicate) {\r\n        console.warn('Duplicate file skipped:', file.name);\r\n        continue;\r\n      }\r\n\r\n      // Prevent exceeding max image count\r\n      if (this.images.length + newImages.length >= maxImages) {\r\n        console.warn('Max image count exceeded:', file.name);\r\n        break;\r\n      }\r\n\r\n      newImages.push(file);\r\n\r\n      // Generate preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e: any) => {\r\n        if (e.target?.result) {\r\n          this.imagePreviewUrls.push(e.target.result as string);\r\n        }\r\n      };\r\n      reader.onerror = (error) => {\r\n        console.error('Preview failed for:', file.name, error);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n\r\n    // Append validated files\r\n    this.images = [...this.images, ...newImages];\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    // Clear previous errors\r\n    this.clearErrors();\r\n\r\n    // Validate form\r\n    if (!this.validateForm()) {\r\n      return;\r\n    }\r\n\r\n    this.isSubmitting = true;\r\n    this.submitError = '';\r\n    this.submitSuccess = '';\r\n    this.submitFieldErrors = {};\r\n\r\n    const submitCreate = (base64Images: string[]) => {\r\n      const payload: any = {\r\n        name: this.name,\r\n        description: this.description,\r\n        category_id: this.category_id,\r\n        type: this.assetType,\r\n        serial_number: this.serial_number,\r\n        model: this.model,\r\n        manufacturer: this.manufacturer,\r\n        purchase_date: this.purchase_date ? this.convertDateToBackendFormat(this.purchase_date) : null,\r\n        purchase_price: this.purchase_price,\r\n        depreciation: this.depreciation,\r\n        depreciation_life: this.depreciation_life,\r\n        location_id: this.location_id,\r\n        department_id: this.department_id,\r\n        parent_id: this.parent_id,\r\n        warranty: this.warranty,\r\n        insurance: this.insurance,\r\n        health_score: this.health_score,\r\n        status: this.status,\r\n        tags: this.selectedTags.map(tag => tag.name),\r\n        meta: this.meta\r\n      };\r\n\r\n      if (!this.isDuplicate) {\r\n        payload.images = base64Images;\r\n      }\r\n\r\n      const request$ = this.isDuplicate && this.duplicateSourceId\r\n        ? this.assetService.duplicateAsset(this.duplicateSourceId, payload)\r\n        : this.assetService.createAsset(payload);\r\n\r\n      request$.subscribe({\r\n        next: (res) => {\r\n          this.isSubmitting = false;\r\n          if (res.success) {\r\n            this.submitSuccess = this.isDuplicate ? 'Asset duplicated successfully!' : 'Asset created successfully!';\r\n            // Navigate back after 2 seconds\r\n            setTimeout(() => {\r\n              this.router.navigate(['/assets/list']);\r\n            }, 2000);\r\n          } else {\r\n            this.submitError = res.message || 'Failed to create asset.';\r\n            this.handleFieldErrors(res.errors || {});\r\n          }\r\n        },\r\n        error: (err) => {\r\n          this.isSubmitting = false;\r\n          this.submitError = err.error?.message || 'Failed to create asset.';\r\n          this.handleFieldErrors(err.error?.errors || err.errors || {});\r\n        }\r\n      });\r\n    };\r\n\r\n    if (this.isDuplicate) {\r\n      // For duplication, backend will copy existing images. Only encode new uploads if any.\r\n      if (this.images.length > 0) {\r\n        this.convertImagesToBase64().then(submitCreate).catch((error) => {\r\n          this.isSubmitting = false;\r\n          this.submitError = 'Failed to process images. Please try again.';\r\n          console.error('Image conversion error:', error);\r\n        });\r\n      } else {\r\n        submitCreate([]);\r\n      }\r\n    } else {\r\n      this.convertImagesToBase64().then(submitCreate).catch((error) => {\r\n        this.isSubmitting = false;\r\n        this.submitError = 'Failed to process images. Please try again.';\r\n        console.error('Image conversion error:', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  healthScore = 85;\r\n  categories: any[] = [];\r\n  category_id: number | null = null;\r\n  assetTypes: any[] = [];\r\n  assetType: string | null = null;\r\n\r\n  // Asset types from API\r\n  assetTypesFromAPI: any[] = [];\r\n\r\n  // Status options from API\r\n  statusOptionsFromAPI: any[] = [];\r\n\r\n  // Status options with proper typing\r\n  statusOptions: Array<{\r\n    id?: number;\r\n    value: number; // Changed from string to number\r\n    label: string;\r\n    color: string;\r\n    description: string;\r\n    hexColor?: string;\r\n    sort_order: number;\r\n  }> = [\r\n    { value: 1, label: 'Active', color: 'green', description: 'Asset is operational and in use', sort_order: 1 },\r\n    { value: 2, label: 'Maintenance', color: 'orange', description: 'Asset is under maintenance or repair', sort_order: 2 },\r\n    { value: 3, label: 'Inactive', color: 'gray', description: 'Asset is not currently in use', sort_order: 3 },\r\n    { value: 4, label: 'Retired', color: 'red', description: 'Asset is retired and no longer in service', sort_order: 4 }\r\n  ];\r\n\r\n  constructor(\r\n    private assetService: AssetService,\r\n    private router: Router,\r\n    public route: ActivatedRoute,\r\n    private http: HttpClient\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Check if we're duplicating an asset\r\n    this.route.queryParams.subscribe((params: any) => {\r\n      if (params['duplicate'] && params['sourceId']) {\r\n        this.isDuplicate = true;\r\n        this.duplicateSourceId = String(params['sourceId']);\r\n        this.loadAssetForDuplication(this.duplicateSourceId);\r\n      }\r\n    });\r\n\r\n    this.assetService.getAssetCategories().subscribe(res => {\r\n      if (res.success && res.data?.categories) {\r\n        this.categories = res.data.categories;\r\n      }\r\n    });\r\n\r\n    // Load asset types from API\r\n    this.assetService.getAssetTypes().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.assetTypesFromAPI = res.data;\r\n        // Use API data directly with proper icon URLs\r\n        this.assetTypes = this.assetTypesFromAPI.map(type => ({\r\n          id: type.id,\r\n          name: type.name,\r\n          label: type.name,\r\n          icon: type.icon, // Use the full icon URL from API\r\n          color: this.getColorForType(type.name),\r\n          description: `${type.name} asset type`,\r\n          iconError: false\r\n        }));\r\n      }\r\n    });\r\n\r\n    // Load asset statuses from API\r\n    this.assetService.getAssetStatuses().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.statusOptionsFromAPI = res.data;\r\n        // Transform API data to match existing UI structure\r\n        this.statusOptions = this.statusOptionsFromAPI.map(status => ({\r\n          id: status.id,\r\n          value: status.id, // Use numerical ID instead of string name\r\n          label: status.name,\r\n          color: this.hexToTailwindColor(status.color),\r\n          description: status.description || `Asset is ${status.name.toLowerCase()}`,\r\n          hexColor: status.color,\r\n          sort_order: status.sort_order\r\n        }));\r\n\r\n        // Sort by sort_order\r\n        this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);\r\n\r\n        // Set default status to first active status (usually 'Active')\r\n        if (this.statusOptions.length > 0) {\r\n          this.selectedStatus = this.statusOptions[0];\r\n          this.status = this.selectedStatus.value; // This will now be the numerical ID\r\n        }\r\n      }\r\n    });\r\n\r\n    this.assetService.getLocations().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.locations = res.data.locations || res.data;\r\n\r\n        this.route.queryParams.subscribe((params: any) => {\r\n          if (params['location_id']) {\r\n            this.location_id = Number(params['location_id']); // cast to number\r\n\r\n            this.selectedLocation = this.locations.find(\r\n              (location: any) => location.id === this.location_id\r\n            );\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Load departments from API\r\n    this.assetService.getDepartments().subscribe(res => {\r\n      if (res.success && res.data) {\r\n        this.departments = res.data;\r\n      }\r\n    });\r\n\r\n    this.assetService.getAssets({ per_page: 1000 }).subscribe(res => {\r\n      if (res.success && res.data?.assets) {\r\n        this.possibleParents = res.data.assets;\r\n      }\r\n    });\r\n\r\n    // Load available tags\r\n    this.loadAvailableTags();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Initialize Flatpickr after view is ready\r\n    setTimeout(() => {\r\n      this.initializeFlatpickr();\r\n    }, 100);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Cleanup Flatpickr instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeFlatpickr() {\r\n    // Cleanup existing instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n    this.flatpickrInstances = [];\r\n\r\n    // Initialize new instances\r\n    setTimeout(() => {\r\n      if (this.dateInputs) {\r\n        console.log('Found date inputs:', this.dateInputs.length);\r\n        this.dateInputs.forEach((inputRef, index) => {\r\n          if (inputRef?.nativeElement) {\r\n            const inputElement = inputRef.nativeElement;\r\n            const fieldName = inputElement.getAttribute('name');\r\n            console.log('Processing date input:', fieldName);\r\n\r\n            // Only initialize Flatpickr for purchase_date field\r\n            if (fieldName === 'purchase_date') {\r\n              console.log('Initializing Flatpickr for purchase_date');\r\n              let config: any = {\r\n                dateFormat: 'd M, Y',\r\n                allowInput: true,\r\n                clickOpens: true,\r\n                maxDate: 'today',\r\n                onChange: (selectedDates: Date[], dateStr: string) => {\r\n                  console.log('Date selected:', dateStr);\r\n                  this.purchase_date = dateStr;\r\n                }\r\n              };\r\n\r\n              const instance = flatpickr(inputElement, config);\r\n              this.flatpickrInstances.push(instance);\r\n              console.log('Flatpickr initialized successfully for purchase_date');\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        console.warn('No date inputs found');\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  loadAvailableTags() {\r\n    // For now, using mock data since we don't have the tags endpoint\r\n    // TODO: Replace with actual API call when available\r\n    this.availableTags = [\r\n      { id: 1, name: 'Critical', color: 'red' },\r\n      { id: 2, name: 'High Priority', color: 'orange' },\r\n      { id: 3, name: 'Equipment', color: 'blue' },\r\n      { id: 4, name: 'IT Hardware', color: 'purple' },\r\n      { id: 5, name: 'Furniture', color: 'green' },\r\n      { id: 6, name: 'Vehicle', color: 'yellow' },\r\n      { id: 7, name: 'Safety Equipment', color: 'red' },\r\n      { id: 8, name: 'Office Supplies', color: 'gray' }\r\n    ];\r\n\r\n    // Uncomment when tags API is available:\r\n    // this.assetService.getAssetTags().subscribe(res => {\r\n    //   if (res.success && res.data) {\r\n    //     this.availableTags = res.data.tags || res.data;\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  loadAssetForDuplication(sourceId: string) {\r\n    this.assetService.getAsset(sourceId).subscribe({\r\n      next: (response) => {\r\n        if (response.success) {\r\n          const sourceAsset = response.data.asset || response.data;\r\n          this.populateFormFromSource(sourceAsset);\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading source asset for duplication:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  populateFormFromSource(sourceAsset: any) {\r\n    // Copy all fields except unique ones\r\n    this.name = sourceAsset.name ? `${sourceAsset.name} (Copy)` : '';\r\n    this.description = sourceAsset.description || '';\r\n    this.model = sourceAsset.model || '';\r\n    this.manufacturer = sourceAsset.manufacturer || '';\r\n    this.purchase_date = sourceAsset.purchase_date ? this.convertBackendDateToDisplay(sourceAsset.purchase_date) : '';\r\n    this.purchase_price = sourceAsset.purchase_price || null;\r\n    this.depreciation = sourceAsset.depreciation || null;\r\n    this.depreciation_life = sourceAsset.depreciation_life || null;\r\n    this.location_id = sourceAsset.location_id || null;\r\n    this.department_id = sourceAsset.department_id || null;\r\n    this.warranty = sourceAsset.warranty ? this.convertBackendDateToDisplay(sourceAsset.warranty) : '';\r\n    this.insurance = sourceAsset.insurance || '';\r\n    this.health_score = sourceAsset.health_score || 85;\r\n    this.status = sourceAsset.status || 'Active';\r\n\r\n    // Set dropdowns after data loads\r\n    setTimeout(() => {\r\n      if (sourceAsset.type) {\r\n        this.selectedAssetType = this.assetTypes.find(type =>\r\n          type.id == sourceAsset.type || type.id === parseInt(sourceAsset.type)\r\n        ) || null;\r\n        if (this.selectedAssetType) {\r\n          this.assetType = this.selectedAssetType.id;\r\n        }\r\n      }\r\n\r\n      if (sourceAsset.category_id) {\r\n        this.selectedCategory = this.categories.find(cat => cat.id === sourceAsset.category_id) || null;\r\n        this.category_id = sourceAsset.category_id;\r\n      }\r\n\r\n      if (sourceAsset.location_id) {\r\n        this.selectedLocation = this.locations.find(loc => loc.id === sourceAsset.location_id) || null;\r\n      }\r\n\r\n      if (sourceAsset.department_id) {\r\n        this.selectedDepartment = this.departments.find(dept => dept.id === sourceAsset.department_id) || null;\r\n      }\r\n\r\n      if (sourceAsset.status) {\r\n        // Handle both cases: status could be a string name or numerical ID\r\n        this.selectedStatus = this.statusOptions.find(status =>\r\n          status.value === sourceAsset.status ||\r\n          status.label === sourceAsset.status ||\r\n          status.id === sourceAsset.status\r\n        ) || null;\r\n        if (this.selectedStatus) {\r\n          this.status = this.selectedStatus.value; // Use the numerical ID\r\n        }\r\n      }\r\n\r\n      // Set default status if none selected and options are available\r\n      if (!this.selectedStatus && this.statusOptions.length > 0) {\r\n        this.selectedStatus = this.statusOptions[0];\r\n        this.status = this.selectedStatus.value;\r\n      }\r\n\r\n      // Set tags if available\r\n      if (sourceAsset.tags && Array.isArray(sourceAsset.tags)) {\r\n        this.selectedTags = sourceAsset.tags.map((tag: any) => {\r\n          return this.availableTags.find(t => t.id === tag.id) || tag;\r\n        });\r\n      }\r\n\r\n      // Clear validation errors after populating form\r\n      this.clearErrors();\r\n    }, 500); // Increased timeout to ensure asset types are loaded\r\n\r\n    // Clear unique fields - these will be auto-generated or user-entered\r\n    this.serial_number = ''; // Must be unique - user needs to enter new one\r\n\r\n    // Handle images - convert existing images to new files for duplication\r\n    if (sourceAsset.images && Array.isArray(sourceAsset.images) && sourceAsset.images.length > 0) {\r\n      this.duplicateImages(sourceAsset.images);\r\n    }\r\n    // Asset ID and QR code are auto-generated by backend\r\n    // Creation date and activity history are not copied\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/assets/list']);\r\n  }\r\n\r\n  // Dropdown toggle methods\r\n  toggleAssetTypeDropdown() {\r\n    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n  }\r\n\r\n  toggleCategoryDropdown() {\r\n    this.showCategoryDropdown = !this.showCategoryDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showLocationDropdown = false;\r\n  }\r\n\r\n  toggleLocationDropdown() {\r\n    this.showLocationDropdown = !this.showLocationDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showStatusDropdown = false;\r\n  }\r\n\r\n  toggleStatusDropdown() {\r\n    this.showStatusDropdown = !this.showStatusDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showTagsDropdown = false;\r\n  }\r\n\r\n  toggleTagsDropdown() {\r\n    this.showTagsDropdown = !this.showTagsDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleDepartmentDropdown() {\r\n    this.showDepartmentDropdown = !this.showDepartmentDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n  }\r\n\r\n  // Selection methods\r\n  selectAssetType(type: any) {\r\n    this.selectedAssetType = type;\r\n    this.assetType = type.id;\r\n    this.showAssetTypeDropdown = false;\r\n    this.clearErrors();\r\n  }\r\n\r\n  selectCategory(category: any) {\r\n    this.selectedCategory = category;\r\n    this.category_id = category.id;\r\n    this.showCategoryDropdown = false;\r\n    this.clearErrors();\r\n  }\r\n\r\n  private buildLocationLabel(loc: any): string {\r\n    if (!loc) return '';\r\n    // Prefer full_path if API provides it, otherwise build from complete_hierarchy or name\r\n    if (loc.full_path) return loc.full_path;\r\n    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {\r\n      return loc.complete_hierarchy.map((n: any) => n.name).join(' → ');\r\n    }\r\n    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {\r\n      return loc.ancestors_with_details.map((n: any) => n.name).join(' → ') + ' → ' + (loc.name || '');\r\n    }\r\n    return loc.name || '';\r\n  }\r\n\r\n  getLocationLabel(loc: any): string {\r\n    return this.buildLocationLabel(loc);\r\n  }\r\n\r\n  selectLocation(location: any) {\r\n    // Enhance selected object with label for display\r\n    const label = this.buildLocationLabel(location);\r\n    this.selectedLocation = { ...location, label };\r\n    this.location_id = location.id;\r\n    this.showLocationDropdown = false;\r\n  }\r\n\r\n  selectStatus(status: any) {\r\n    this.selectedStatus = status;\r\n    this.status = status.value; // This will now be the numerical ID\r\n    this.showStatusDropdown = false;\r\n  }\r\n\r\n  selectDepartment(department: any) {\r\n    this.selectedDepartment = department;\r\n    this.department_id = department.id;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleTag(tag: any) {\r\n    const index = this.selectedTags.findIndex(t => t.id === tag.id);\r\n    if (index > -1) {\r\n      // Remove tag\r\n      this.selectedTags.splice(index, 1);\r\n    } else {\r\n      // Add tag\r\n      this.selectedTags.push(tag);\r\n    }\r\n  }\r\n\r\n  isTagSelected(tag: any): boolean {\r\n    return this.selectedTags.some(t => t.id === tag.id);\r\n  }\r\n\r\n  onTagInputKeydown(event: KeyboardEvent) {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.createNewTag();\r\n    }\r\n  }\r\n\r\n  createNewTag() {\r\n    const tagName = this.newTagInput.trim();\r\n    if (tagName && !this.selectedTags.some(t => t.name.toLowerCase() === tagName.toLowerCase())) {\r\n      // Create a new tag with a random color\r\n      const colors = ['red', 'blue', 'green', 'yellow', 'purple', 'pink', 'indigo', 'gray'];\r\n      const randomColor = colors[Math.floor(Math.random() * colors.length)];\r\n\r\n      const newTag = {\r\n        id: Date.now(), // Temporary ID until saved to backend\r\n        name: tagName,\r\n        color: randomColor,\r\n        isNew: true // Flag to identify newly created tags\r\n      };\r\n\r\n      this.selectedTags.push(newTag);\r\n      this.newTagInput = '';\r\n    }\r\n  }\r\n\r\n  removeTag(tag: any) {\r\n    const index = this.selectedTags.findIndex(t => t.id === tag.id);\r\n    if (index > -1) {\r\n      this.selectedTags.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  // Close dropdowns when clicking outside\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: MouseEvent) {\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  // Validation methods\r\n  validateForm(): boolean {\r\n    let isValid = true;\r\n\r\n    // Name validation (required, max 100)\r\n    if (!this.name || this.name.trim().length === 0) {\r\n      this.nameError = 'Asset name is required';\r\n      isValid = false;\r\n    } else if (this.name.trim().length > 100) {\r\n      this.nameError = 'Asset name cannot exceed 100 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Description validation (optional, max 1000)\r\n    if (this.description && this.description.length > 1000) {\r\n      this.submitError = 'Description cannot exceed 1000 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Serial number validation (required, max 100)\r\n    if (this.serial_number && this.serial_number.length > 100) {\r\n      this.serialNumberError = 'Serial number cannot exceed 100 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Model validation (optional, max 100)\r\n    if (this.model && this.model.length > 100) {\r\n      this.submitError = 'Model cannot exceed 100 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Manufacturer validation (optional, max 100)\r\n    if (this.manufacturer && this.manufacturer.length > 100) {\r\n      this.submitError = 'Manufacturer cannot exceed 100 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Warranty validation (optional, max 255)\r\n    if (this.warranty && this.warranty.length > 255) {\r\n      this.submitError = 'Warranty cannot exceed 255 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Insurance validation (optional, max 255)\r\n    if (this.insurance && this.insurance.length > 255) {\r\n      this.submitError = 'Insurance cannot exceed 255 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    // Purchase price validation (optional, min 0 if provided)\r\n    if (this.purchase_price !== null && this.purchase_price < 0) {\r\n      this.submitError = 'Purchase price cannot be negative';\r\n      isValid = false;\r\n    }\r\n\r\n    // Depreciation validation (optional, 0-100)\r\n    if (this.depreciation !== null && (this.depreciation < 0 || this.depreciation > 100)) {\r\n      this.submitError = 'Depreciation must be between 0 and 100';\r\n      isValid = false;\r\n    }\r\n\r\n    // Depreciation life validation (optional, 1-100)\r\n    if (this.depreciation_life !== null && (this.depreciation_life < 1 || this.depreciation_life > 100)) {\r\n      this.submitError = 'Depreciation life must be between 1 and 100 years';\r\n      isValid = false;\r\n    }\r\n\r\n    // Purchase date validation (optional, cannot be future)\r\n    if (this.purchase_date) {\r\n      const today = new Date();\r\n      const purchaseDate = new Date(this.purchase_date);\r\n      if (purchaseDate > today) {\r\n        this.submitError = 'Purchase date cannot be in the future';\r\n        isValid = false;\r\n      }\r\n    }\r\n\r\n    // Health score validation (optional, 0-100)\r\n    if (this.health_score < 0 || this.health_score > 100) {\r\n      this.submitError = 'Health score must be between 0 and 100';\r\n      isValid = false;\r\n    }\r\n\r\n    // Category validation (required)\r\n    if (!this.category_id) {\r\n      this.categoryError = 'Category is required';\r\n      isValid = false;\r\n    }\r\n\r\n    // Asset type validation (required)\r\n    if (!this.assetType) {\r\n      this.assetTypeError = 'Asset type is required';\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  clearErrors(): void {\r\n    this.nameError = '';\r\n    this.assetTypeError = '';\r\n    this.categoryError = '';\r\n    this.serialNumberError = '';\r\n    this.submitError = '';\r\n    this.submitSuccess = '';\r\n  }\r\n\r\n  handleFieldErrors(errors: { [key: string]: string[] }): void {\r\n    if (errors['name']) {\r\n      this.nameError = errors['name'][0];\r\n    }\r\n    if (errors['type']) {\r\n      this.assetTypeError = errors['type'][0];\r\n    }\r\n    if (errors['category_id']) {\r\n      this.categoryError = errors['category_id'][0];\r\n    }\r\n    if (errors['serial_number']) {\r\n      this.serialNumberError = errors['serial_number'][0];\r\n    }\r\n  }\r\n\r\n  isFormValid(): boolean {\r\n    // Only name is required according to backend validation\r\n    return !!(\r\n      this.name &&\r\n      this.name.trim().length > 0 &&\r\n      this.name.trim().length <= 100\r\n    );\r\n  }\r\n\r\n  removeImage(index: number): void {\r\n    this.images.splice(index, 1);\r\n    this.imagePreviewUrls.splice(index, 1);\r\n  }\r\n\r\n  removeAllImages(): void {\r\n    this.images = [];\r\n    this.imagePreviewUrls = [];\r\n  }\r\n\r\n  moveImage(fromIndex: number, toIndex: number): void {\r\n    if (toIndex >= 0 && toIndex < this.images.length) {\r\n      // Move file\r\n      const file = this.images.splice(fromIndex, 1)[0];\r\n      this.images.splice(toIndex, 0, file);\r\n\r\n      // Move preview URL\r\n      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];\r\n      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);\r\n    }\r\n  }\r\n\r\n  moveImageUp(index: number): void {\r\n    if (index > 0) {\r\n      this.moveImage(index, index - 1);\r\n    }\r\n  }\r\n\r\n  moveImageDown(index: number): void {\r\n    if (index < this.images.length - 1) {\r\n      this.moveImage(index, index + 1);\r\n    }\r\n  }\r\n\r\n  getTodayDate(): string {\r\n    const today = new Date();\r\n    return today.toISOString().split('T')[0];\r\n  }\r\n\r\n  // Helper method to convert date from display format to backend format\r\n  private convertDateToBackendFormat(dateStr: string): string {\r\n    if (!dateStr) return '';\r\n\r\n    try {\r\n      // Parse the display format \"01 Jul, 2025\" to Date object\r\n      const date = new Date(dateStr);\r\n\r\n      // Check if date is valid\r\n      if (isNaN(date.getTime())) {\r\n        return dateStr; // Return original if parsing fails\r\n      }\r\n\r\n      // Convert to Y-m-d format\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n\r\n      return `${year}-${month}-${day}`;\r\n    } catch (error) {\r\n      console.error('Date conversion error:', error);\r\n      return dateStr; // Return original if conversion fails\r\n    }\r\n  }\r\n\r\n  // Helper method to convert backend date format to display format\r\n  convertBackendDateToDisplay(dateStr: string): string {\r\n    if (!dateStr) return '';\r\n\r\n    try {\r\n      // Parse Y-m-d format or ISO format to Date object\r\n      const date = new Date(dateStr);\r\n\r\n      // Check if date is valid\r\n      if (isNaN(date.getTime())) {\r\n        return dateStr; // Return original if parsing fails\r\n      }\r\n\r\n      // Convert to display format \"01 Jul, 2025\"\r\n      const options: Intl.DateTimeFormatOptions = {\r\n        day: '2-digit',\r\n        month: 'short',\r\n        year: 'numeric'\r\n      };\r\n\r\n      return date.toLocaleDateString('en-GB', options).replace(/,/g, ',');\r\n    } catch (error) {\r\n      console.error('Date conversion error:', error);\r\n      return dateStr; // Return original if conversion fails\r\n    }\r\n  }\r\n\r\n  // Helper method to extract icon name from path\r\n  getIconFromPath(iconPath: string): string {\r\n    if (!iconPath) return 'cube';\r\n\r\n    // Extract filename without extension from path like \"assets/icons/car.svg\"\r\n    const filename = iconPath.split('/').pop() || '';\r\n    return filename.replace('.svg', '') || 'cube';\r\n  }\r\n\r\n  // Helper method to assign colors to asset types\r\n  getColorForType(typeName: string): string {\r\n    const colorMap: { [key: string]: string } = {\r\n      'Fixed Asset': '#2563eb',\r\n      'Semi-Fixed Asset': '#22c55e',\r\n      'Mobile Asset': '#f59e42',\r\n      'Fleet Asset': '#a855f7',\r\n      'IT Equipment': '#3b82f6',\r\n      'Furniture': '#10b981',\r\n      'Vehicle': '#f59e0b',\r\n      'Machinery': '#ef4444',\r\n      'Electronics': '#8b5cf6',\r\n      'Tools': '#f97316'\r\n    };\r\n\r\n    return colorMap[typeName] || '#6b7280'; // Default gray color\r\n  }\r\n\r\n  // Helper method to convert hex colors to Tailwind color names\r\n  private hexToTailwindColor(hexColor: string): string {\r\n    const colorMap: { [key: string]: string } = {\r\n      '#10B981': 'green',    // Active\r\n      '#F59E0B': 'orange',   // Maintenance\r\n      '#9CA3AF': 'gray',     // Inactive\r\n      '#EF4444': 'red',      // Retired\r\n      '#6B7280': 'gray',     // Archived\r\n      '#22C55E': 'green',    // Alternative green\r\n      '#3B82F6': 'blue',     // Alternative blue\r\n      '#8B5CF6': 'purple',   // Alternative purple\r\n      '#F97316': 'orange',   // Alternative orange\r\n    };\r\n\r\n    return colorMap[hexColor.toUpperCase()] || 'gray';\r\n  }\r\n\r\n  onImageError(event: any, index: number) {\r\n    console.error('Image failed to load at index:', index);\r\n    console.error('Image src:', event.target.src);\r\n    console.error('Image file:', this.images[index]);\r\n    // Set a placeholder or remove the failed image\r\n    event.target.style.display = 'none';\r\n  }\r\n\r\n  onImageLoad(event: any, index: number) {\r\n    console.log('Image loaded successfully at index:', index);\r\n    console.log('Image dimensions:', event.target.naturalWidth, 'x', event.target.naturalHeight);\r\n  }\r\n\r\n  // Convert images to base64\r\n  private convertImagesToBase64(): Promise<string[]> {\r\n    return Promise.all(\r\n      this.images.map((file) => {\r\n        return new Promise<string>((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onload = () => {\r\n            if (reader.result) {\r\n              resolve(reader.result as string);\r\n            } else {\r\n              reject(new Error('Failed to read file'));\r\n            }\r\n          };\r\n          reader.onerror = () => reject(reader.error);\r\n          reader.readAsDataURL(file);\r\n        });\r\n      })\r\n    );\r\n  }\r\n  onCategoryIconError(event: any, category: any) {\r\n    console.warn('Category icon failed to load:', category.name, category.icon);\r\n    // Mark this category as having an icon error so we show the fallback\r\n    category.iconError = true;\r\n    event.target.style.display = 'none';\r\n  }\r\n\r\n  onAssetTypeIconError(event: any, assetType: any) {\r\n    console.warn('Asset type icon failed to load:', assetType.name, assetType.icon);\r\n    // Mark this asset type as having an icon error so we show the fallback\r\n    assetType.iconError = true;\r\n    event.target.style.display = 'none';\r\n  }\r\n\r\n  triggerFileInput() {\r\n    this.fileInput.nativeElement.click();\r\n  }\r\n\r\n  // Method to duplicate images from source asset\r\n  private duplicateImages(sourceImages: any[]) {\r\n    sourceImages.forEach((image, index) => {\r\n      if (image.image_url) {\r\n        // For duplication, just show the existing image URLs as previews\r\n        // Users can upload new images if needed\r\n        this.imagePreviewUrls.push(image.image_url);\r\n\r\n        // Create a placeholder file object to maintain array consistency\r\n        const fileName = `existing-image-${index + 1}.jpg`;\r\n        const placeholderFile = new File([''], fileName, { type: 'image/jpeg' });\r\n        this.images.push(placeholderFile);\r\n      }\r\n    });\r\n  }\r\n\r\n  getSelectedParent() {\r\n    return this.possibleParents.find(p => p.id === this.parent_id);\r\n  }\r\n}\r\n","<div class=\"min-h-screen bg-gray-50 p-6\">\r\n  <div class=\"asset-create-page\">\r\n    <!-- Header -->\r\n    <div class=\"mb-8\">\r\n      <div class=\"flex items-center space-x-4 mb-4\">\r\n        <button\r\n          type=\"button\"\r\n          (click)=\"goBack()\"\r\n          class=\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\">\r\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path>\r\n          </svg>\r\n          <span class=\"font-medium\">Back to Assets</span>\r\n        </button>\r\n      </div>\r\n      <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">\r\n        {{route.snapshot.queryParams['duplicate'] ? 'Duplicate Asset' : 'Create New Asset'}}\r\n      </h1>\r\n      <p class=\"text-gray-600\">\r\n        {{route.snapshot.queryParams['duplicate'] ?\r\n          'Creating a copy of an existing asset. Please review and update the information below.' :\r\n          'Add a new asset to your inventory with detailed information and specifications'}}\r\n      </p>\r\n\r\n      <!-- Duplication Notice -->\r\n      <div *ngIf=\"route.snapshot.queryParams['duplicate']\" class=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n        <div class=\"flex items-center space-x-2\">\r\n          <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n          </svg>\r\n          <div>\r\n            <p class=\"text-blue-800 font-medium\">Duplicating Asset</p>\r\n            <p class=\"text-blue-700 text-sm\">Most fields have been pre-filled. Please enter a new serial number and review all information before saving.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <form (ngSubmit)=\"onSubmit()\" #assetForm=\"ngForm\">\r\n      <!-- Basic Information -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Basic Information</h2>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Asset Name <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              [class.border-red-300]=\"nameError\"\r\n              placeholder=\"e.g., Main Server Room AC Unit\"\r\n              [(ngModel)]=\"name\"\r\n              name=\"name\"\r\n              required\r\n              #nameInput=\"ngModel\" />\r\n            <div *ngIf=\"nameError\" class=\"text-red-600 text-sm mt-1\">\r\n              <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n              </svg>\r\n              {{ nameError }}\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Asset ID</label>\r\n            <div class=\"flex items-center space-x-3\">\r\n              <input type=\"text\" class=\"input flex-1\" value=\"AST-012\" readonly />\r\n              <span class=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n                auto-generated\r\n              </span>\r\n            </div>\r\n            <p class=\"text-xs text-gray-500 mt-1\">Unique identifier automatically assigned</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-6\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Parent Asset</label>\r\n          <!-- Custom Parent Asset Dropdown -->\r\n          <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"showParentDropdown = !showParentDropdown\"\r\n              class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n              [class.border-blue-500]=\"showParentDropdown\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <span *ngIf=\"!parent_id\" class=\"text-gray-400\">Select parent asset</span>\r\n                <span *ngIf=\"parent_id && getSelectedParent()\" class=\"text-gray-900\">\r\n                  {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r\n                </span>\r\n                <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showParentDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                </svg>\r\n              </div>\r\n            </button>\r\n            <!-- Dropdown Menu -->\r\n            <div *ngIf=\"showParentDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n              <div class=\"py-1\">\r\n                <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select parent asset</div>\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"parent_id = null; showParentDropdown = false\"\r\n                  class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                  [class.bg-blue-50]=\"!parent_id\">\r\n                  -- None --\r\n                </button>\r\n                <button\r\n                  *ngFor=\"let parent of possibleParents\"\r\n                  type=\"button\"\r\n                  (click)=\"parent_id = parent.id; showParentDropdown = false\"\r\n                  class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                  [class.bg-blue-50]=\"parent_id === parent.id\">\r\n                  <div class=\"flex items-center space-x-3\">\r\n                    <div class=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                      <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <div>\r\n                      <div class=\"font-medium text-gray-900\">{{parent.name}}</div>\r\n                      <div class=\"text-xs text-gray-500\">{{parent.asset_id}}</div>\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-xs text-gray-500 mt-1\">Optional: Select a parent asset if this asset is a child of another.</div>\r\n        </div>\r\n\r\n        <div class=\"mb-6\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n          <textarea\r\n            class=\"input resize-none\"\r\n            rows=\"3\"\r\n            placeholder=\"Brief description of the asset and its purpose...\"\r\n            [(ngModel)]=\"description\"\r\n            name=\"description\"\r\n            maxlength=\"500\"></textarea>\r\n          <div class=\"text-xs text-gray-500 mt-1\">Maximum 500 characters</div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-3\">Health Score</label>\r\n          <div class=\"bg-gray-50 rounded-lg p-4\">\r\n            <div class=\"flex items-center justify-between mb-3\">\r\n              <span class=\"text-sm text-gray-600\">Current Score</span>\r\n              <span class=\"text-2xl font-bold\" [class.text-red-600]=\"healthScore < 50\" [class.text-green-600]=\"healthScore >= 50\">{{ healthScore }}%</span>\r\n            </div>\r\n            <!-- Custom Health Score Bar with Working Slider -->\r\n            <div class=\"relative w-full h-6 mb-3\">\r\n              <!-- Background Track -->\r\n              <div class=\"absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg\"></div>\r\n              \r\n              <!-- Progress Bar -->\r\n              <div \r\n                class=\"absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300\"\r\n                [class.bg-red-500]=\"healthScore < 50\"\r\n                [class.bg-green-500]=\"healthScore >= 50\"\r\n                [style.width.%]=\"healthScore\"></div>\r\n              \r\n              <!-- Interactive Range Input -->\r\n              <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                [(ngModel)]=\"healthScore\"\r\n                name=\"health_score\"\r\n                class=\"absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input\" />\r\n              \r\n              <!-- Custom Thumb -->\r\n              <div \r\n                class=\"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300\"\r\n                [class.bg-red-500]=\"healthScore < 50\"\r\n                [class.bg-green-500]=\"healthScore >= 50\"\r\n                [style.left.%]=\"healthScore\"\r\n                style=\"margin-left: -8px;\"></div>\r\n            </div>\r\n            \r\n            <div class=\"flex justify-between text-xs text-gray-500 mt-2\">\r\n              <span>Poor (0%)</span>\r\n              <span>Fair (25%)</span>\r\n              <span>Good (50%)</span>\r\n              <span>Very Good (75%)</span>\r\n              <span>Excellent (100%)</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Asset Classification -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Asset Classification</h2>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Asset Type <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <!-- Custom Asset Type Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleAssetTypeDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-red-300]=\"assetTypeError\"\r\n                [class.border-blue-500]=\"showAssetTypeDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span *ngIf=\"!selectedAssetType\" class=\"text-gray-400\">Select asset type</span>\r\n                  <div *ngIf=\"selectedAssetType\" class=\"flex items-center space-x-3\">\r\n                    <div class=\"w-6 h-6 rounded flex items-center justify-center\" [style.background-color]=\"selectedAssetType.color + '20'\">\r\n                      <img \r\n                        *ngIf=\"selectedAssetType.icon && !selectedAssetType.iconError\" \r\n                        [src]=\"selectedAssetType.icon\" \r\n                        [alt]=\"selectedAssetType.name || selectedAssetType.label\" \r\n                        class=\"w-4 h-4\"\r\n                        (error)=\"onAssetTypeIconError($event, selectedAssetType)\">\r\n                      <svg \r\n                        *ngIf=\"!selectedAssetType.icon || selectedAssetType.iconError\" \r\n                        class=\"w-4 h-4\" \r\n                        [style.color]=\"selectedAssetType.color\" \r\n                        fill=\"none\" \r\n                        stroke=\"currentColor\" \r\n                        viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <span class=\"text-gray-900\">{{selectedAssetType.label}}</span>\r\n                  </div>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showAssetTypeDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showAssetTypeDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select asset type</div>\r\n                  <button\r\n                    *ngFor=\"let type of assetTypes\"\r\n                    type=\"button\"\r\n                    (click)=\"selectAssetType(type)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"selectedAssetType?.id === type.id\"\r\n                    [class.text-blue-700]=\"selectedAssetType?.id === type.id\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100\">\r\n                        <img \r\n                          *ngIf=\"type.icon && !type.iconError\" \r\n                          [src]=\"type.icon\" \r\n                          [alt]=\"type.name || type.label\" \r\n                          class=\"w-5 h-5\"\r\n                          (error)=\"onAssetTypeIconError($event, type)\">\r\n                        <svg \r\n                          *ngIf=\"!type.icon || type.iconError\" \r\n                          class=\"w-5 h-5 text-blue-600\" \r\n                          fill=\"none\" \r\n                          stroke=\"currentColor\" \r\n                          viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{type.label || type.name}}</div>\r\n                        <div class=\"text-sm text-gray-500\">{{type.description}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"assetTypeError\" class=\"text-red-600 text-sm mt-1\">\r\n              <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n              </svg>\r\n              {{ assetTypeError }}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Category <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <!-- Custom Category Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleCategoryDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-red-300]=\"categoryError\"\r\n                [class.border-blue-500]=\"showCategoryDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span *ngIf=\"!selectedCategory\" class=\"text-gray-400\">Select category</span>\r\n                  <span *ngIf=\"selectedCategory\" class=\"text-gray-900\">{{selectedCategory.name}}</span>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showCategoryDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showCategoryDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select category</div>\r\n                  <button\r\n                    *ngFor=\"let cat of categories\"\r\n                    type=\"button\"\r\n                    (click)=\"selectCategory(cat)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"selectedCategory?.id === cat.id\"\r\n                    [class.text-blue-700]=\"selectedCategory?.id === cat.id\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                        <img \r\n                          *ngIf=\"cat.icon\" \r\n                          [src]=\"cat.icon\" \r\n                          [alt]=\"cat.name\" \r\n                          class=\"w-5 h-5\"\r\n                          (error)=\"onCategoryIconError($event, cat)\">\r\n                        <svg \r\n                          *ngIf=\"!cat.icon || cat.iconError\" \r\n                          class=\"w-5 h-5 text-gray-600\" \r\n                          fill=\"none\" \r\n                          stroke=\"currentColor\" \r\n                          viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{cat.name}}</div>\r\n                        <div *ngIf=\"cat.description\" class=\"text-sm text-gray-500\">{{cat.description}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"categoryError\" class=\"text-red-600 text-sm mt-1\">\r\n              <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n              </svg>\r\n              {{ categoryError }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Technical Details -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Technical Details</h2>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Manufacturer</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              placeholder=\"e.g., Dell, HP, Toyota\"\r\n              [(ngModel)]=\"manufacturer\"\r\n              name=\"manufacturer\"\r\n              maxlength=\"100\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Model</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              placeholder=\"e.g., PowerEdge R730\"\r\n              [(ngModel)]=\"model\"\r\n              name=\"model\"\r\n              maxlength=\"100\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Serial Number <span class=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              [class.border-red-300]=\"serialNumberError\"\r\n              placeholder=\"e.g., SN123456789\"\r\n              [(ngModel)]=\"serial_number\"\r\n              name=\"serial_number\"\r\n              maxlength=\"100\" />\r\n            <div *ngIf=\"serialNumberError\" class=\"text-red-600 text-sm mt-1\">\r\n              <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n              </svg>\r\n              {{ serialNumberError }}\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Required, max 100 chars, must be unique within your company</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Financial Information -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Financial Information</h2>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Purchase Value (USD)</label>\r\n            <div class=\"relative\">\r\n              <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <span class=\"text-gray-500 sm:text-sm\">$ </span>\r\n              </div>\r\n              <input\r\n                type=\"number\"\r\n                class=\"input\"\r\n                style=\"padding-left: 24px;\"\r\n                placeholder=\"5,000.00\"\r\n                [(ngModel)]=\"purchase_price\"\r\n                name=\"purchase_price\"\r\n                step=\"0.01\"\r\n                min=\"0\" />\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Must be a non-negative number</div>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Purchase Date</label>\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              class=\"input\"\r\n              name=\"purchase_date\"\r\n              placeholder=\"Select purchase date\"\r\n              [(ngModel)]=\"purchase_date\"\r\n              readonly />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Cannot be in the future</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Depreciation Rate (%)</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"input\"\r\n              [(ngModel)]=\"depreciation\"\r\n              name=\"depreciation\"\r\n              placeholder=\"e.g., 20\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"0.01\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Annual depreciation rate (0-100%)</div>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Depreciation Life (Years)</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"input\"\r\n              [(ngModel)]=\"depreciation_life\"\r\n              name=\"depreciation_life\"\r\n              placeholder=\"e.g., 5\"\r\n              min=\"1\"\r\n              max=\"100\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Useful life for depreciation calculation (1-100 years)</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Warranty Information</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              [(ngModel)]=\"warranty\"\r\n              name=\"warranty\"\r\n              placeholder=\"e.g., 2 years manufacturer warranty\"\r\n              maxlength=\"255\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Warranty details (max 255 characters)</div>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Insurance Information</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input\"\r\n              [(ngModel)]=\"insurance\"\r\n              name=\"insurance\"\r\n              placeholder=\"e.g., Policy #12345, expires 2025-12-31\"\r\n              maxlength=\"255\" />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Insurance details (max 255 characters)</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Location & Assignment -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Location & Assignment</h2>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n            <!-- Custom Location Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleLocationDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-blue-500]=\"showLocationDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span *ngIf=\"!selectedLocation\" class=\"text-gray-400\">Select location</span>\r\n                  <div *ngIf=\"selectedLocation\" class=\"flex items-center space-x-3\">\r\n                    <div class=\"w-6 h-6 bg-indigo-100 rounded flex items-center justify-center\">\r\n                      <svg class=\"w-4 h-4 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <span class=\"text-gray-900\">{{selectedLocation.label || selectedLocation.name}}</span>\r\n                  </div>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showLocationDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showLocationDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select location</div>\r\n                  <button\r\n                    *ngFor=\"let loc of locations\"\r\n                    type=\"button\"\r\n                    (click)=\"selectLocation(loc)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"selectedLocation?.id === loc.id\"\r\n                    [class.text-blue-700]=\"selectedLocation?.id === loc.id\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center\">\r\n                        <svg class=\"w-5 h-5 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{ getLocationLabel(loc) }}</div>\r\n                        <div *ngIf=\"loc.type\" class=\"text-sm text-gray-500\">{{loc.type.name}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Address Field -->\r\n          <div class=\"col-span-1 md:col-span-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Address</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"input w-full\"\r\n              placeholder=\"Enter asset address\"\r\n              [(ngModel)]=\"address\"\r\n              name=\"address\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <div class=\"text-xs text-gray-500 mt-1\">Enter the physical address of the asset</div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Department ID</label>\r\n            <!-- Custom Department Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleDepartmentDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-blue-500]=\"showDepartmentDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span *ngIf=\"!selectedDepartment\" class=\"text-gray-400\">Select department</span>\r\n                  <div *ngIf=\"selectedDepartment\" class=\"flex items-center space-x-3\">\r\n                    <div class=\"w-6 h-6 bg-purple-100 rounded flex items-center justify-center\">\r\n                      <svg class=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <span class=\"text-gray-900\">{{selectedDepartment.name}}</span>\r\n                  </div>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showDepartmentDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showDepartmentDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select department</div>\r\n                  <button\r\n                    *ngFor=\"let dept of departments\"\r\n                    type=\"button\"\r\n                    (click)=\"selectDepartment(dept)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"selectedDepartment?.id === dept.id\"\r\n                    [class.text-blue-700]=\"selectedDepartment?.id === dept.id\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                        <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{dept.name}}</div>\r\n                        <div *ngIf=\"dept.description\" class=\"text-sm text-gray-500\">{{dept.description}}</div>\r\n                        <div *ngIf=\"dept.code\" class=\"text-xs text-gray-400\">Code: {{dept.code}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Optional department assignment</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <!-- Custom Status Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleStatusDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-blue-500]=\"showStatusDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <div *ngIf=\"selectedStatus\" class=\"flex items-center space-x-3\">\r\n                    <div class=\"w-3 h-3 rounded-full\" [style.background-color]=\"selectedStatus.hexColor || '#6B7280'\"></div>\r\n                    <span class=\"text-gray-900\">{{selectedStatus.label}}</span>\r\n                  </div>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showStatusDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showStatusDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select status</div>\r\n                  <button\r\n                    *ngFor=\"let status of statusOptions\"\r\n                    type=\"button\"\r\n                    (click)=\"selectStatus(status)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"selectedStatus?.value === status.value\"\r\n                    [class.text-blue-700]=\"selectedStatus?.value === status.value\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div [class]=\"'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'\">\r\n                        <div class=\"w-3 h-3 rounded-full\" [style.background-color]=\"status.hexColor || '#6B7280'\"></div>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{status.label}}</div>\r\n                        <div class=\"text-sm text-gray-500\">{{status.description}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Current operational status of the asset</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Tags</label>\r\n            <!-- Selected Tags Display -->\r\n            <div *ngIf=\"selectedTags.length > 0\" class=\"mb-3\">\r\n              <div class=\"flex flex-wrap gap-2\">\r\n                <span *ngFor=\"let tag of selectedTags\"\r\n                      [class]=\"'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'\">\r\n                  {{tag.name}}\r\n                  <button\r\n                    type=\"button\"\r\n                    (click)=\"removeTag(tag)\"\r\n                    class=\"ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors\">\r\n                    <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Tags Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"toggleTagsDropdown()\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-blue-500]=\"showTagsDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span class=\"text-gray-400\">\r\n                    {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r\n                  </span>\r\n                  <div class=\"flex items-center space-x-2\">\r\n                    <span *ngIf=\"selectedTags.length > 0\" class=\"text-sm text-gray-500\">\r\n                      {{selectedTags.length}} selected\r\n                    </span>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showTagsDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showTagsDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <!-- Add New Tag Input -->\r\n                  <div class=\"px-3 py-2 border-b border-gray-100\">\r\n                    <div class=\"relative\">\r\n                      <input\r\n                        type=\"text\"\r\n                        [(ngModel)]=\"newTagInput\"\r\n                       name=\"newTagInput\"\r\n                        (keydown)=\"onTagInputKeydown($event)\"\r\n                        placeholder=\"Type to create new tag...\"\r\n                        class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        (click)=\"$event.stopPropagation()\">\r\n                      <div class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400\">\r\n                        Press Enter\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select tags</div>\r\n                  <button\r\n                    *ngFor=\"let tag of availableTags\"\r\n                    type=\"button\"\r\n                    (click)=\"toggleTag(tag)\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"isTagSelected(tag)\">\r\n                    <div class=\"flex items-center justify-between\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div [class]=\"'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'\">\r\n                          <div [class]=\"'w-3 h-3 rounded-full bg-' + tag.color + '-500'\"></div>\r\n                        </div>\r\n                        <span class=\"font-medium text-gray-900\">{{tag.name}}</span>\r\n                      </div>\r\n                      <div *ngIf=\"isTagSelected(tag)\" class=\"text-blue-600\">\r\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">\r\n              <svg class=\"w-3 h-3 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n              </svg>\r\n              Select existing tags or type to create new ones. Press Enter to add custom tags.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Asset Image -->\r\n      <div class=\"section-card\">\r\n        <div class=\"flex items-center space-x-3 mb-6\">\r\n          <div class=\"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-5 h-5 text-pink-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"section-title\">Asset Image</h2>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload Image</label>\r\n          <div\r\n            (click)=\"triggerFileInput()\"\r\n            class=\"mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200\"\r\n            [class.border-gray-300]=\"!isDragOver\"\r\n            [class.border-blue-500]=\"isDragOver\"\r\n            [class.bg-blue-50]=\"isDragOver\"\r\n            [class.hover:border-blue-400]=\"!isDragOver\"\r\n            (dragover)=\"onDragOver($event)\"\r\n            (dragleave)=\"onDragLeave($event)\"\r\n            (drop)=\"onDrop($event)\">\r\n            <div class=\"space-y-1 text-center\">\r\n              <!-- Upload Icon -->\r\n              <div class=\"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\r\n                <svg class=\"w-8 h-8 transition-colors\"\r\n                     [class.text-gray-400]=\"!isDragOver\"\r\n                     [class.text-blue-500]=\"isDragOver\"\r\n                     fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n                </svg>\r\n              </div>\r\n\r\n              <p class=\"text-sm transition-colors\"\r\n                 [class.text-gray-500]=\"!isDragOver\"\r\n                 [class.text-blue-600]=\"isDragOver\">\r\n                {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r\n              </p>\r\n\r\n              <!-- Hidden file input for drag and drop -->\r\n              <input #fileInput id=\"file-upload\" name=\"file-upload\" type=\"file\" class=\"sr-only\" (change)=\"onFileChange($event)\" accept=\"image/*\" multiple>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Image Gallery -->\r\n          <div *ngIf=\"imagePreviewUrls.length > 0\" class=\"mt-6\">\r\n            <div class=\"flex items-center justify-between mb-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700\">Selected Images ({{imagePreviewUrls.length}})</h4>\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"removeAllImages()\"\r\n                class=\"text-red-600 hover:text-red-700 text-sm font-medium transition-colors\">\r\n                Remove All\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n              <div *ngFor=\"let previewUrl of imagePreviewUrls; let i = index\" class=\"relative group\">\r\n                <!-- Image Preview -->\r\n                <div class=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors\">\r\n                  <img\r\n                    [src]=\"previewUrl\"\r\n                    [alt]=\"'Asset Image ' + (i + 1)\"\r\n                    class=\"w-full h-full object-cover bg-white\"\r\n                    (error)=\"onImageError($event, i)\"\r\n                    (load)=\"onImageLoad($event, i)\"\r\n                    loading=\"lazy\" />\r\n\r\n                  <!-- Image Overlay -->\r\n                  <div class=\"absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center\">\r\n                    <!-- Action Buttons -->\r\n                    <div class=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2\">\r\n                      <!-- Move Up -->\r\n                      <button\r\n                        *ngIf=\"i > 0\"\r\n                        type=\"button\"\r\n                        (click)=\"moveImageUp(i)\"\r\n                        class=\"w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm\">\r\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 15l7-7 7 7\"></path>\r\n                        </svg>\r\n                      </button>\r\n\r\n                      <!-- Move Down -->\r\n                      <button\r\n                        *ngIf=\"i < imagePreviewUrls.length - 1\"\r\n                        type=\"button\"\r\n                        (click)=\"moveImageDown(i)\"\r\n                        class=\"w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm\">\r\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Remove Button -->\r\n                  <button\r\n                    type=\"button\"\r\n                    (click)=\"removeImage(i)\"\r\n                    class=\"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm\">\r\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                    </svg>\r\n                  </button>\r\n\r\n                  <!-- Image Number Badge -->\r\n                  <div class=\"absolute top-2 left-2 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium\">\r\n                    {{i + 1}}\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Image Info -->\r\n                <div class=\"mt-2 text-center\">\r\n                  <p class=\"text-xs text-gray-600 truncate\">{{images[i].name}}</p>\r\n                  <p class=\"text-xs text-gray-500\">{{ ((images[i].size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Gallery Instructions -->\r\n            <div class=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n              <div class=\"flex items-center space-x-2\">\r\n                <svg class=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                <p class=\"text-blue-800 text-sm\">\r\n                  <strong>Gallery Tips:</strong> Hover over images to reorder them. The first image will be the primary asset image.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Global Error Message -->\r\n      <div *ngIf=\"submitError\" class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n        <div class=\"flex items-center space-x-2\">\r\n          <svg class=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n          </svg>\r\n          <p class=\"text-red-800 font-medium\">{{ submitError }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Success Message -->\r\n      <div *ngIf=\"submitSuccess\" class=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n        <div class=\"flex items-center space-x-2\">\r\n          <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n          </svg>\r\n          <p class=\"text-green-800 font-medium\">{{ submitSuccess }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Actions -->\r\n      <div class=\"flex items-center justify-between pt-6 border-t border-gray-200\">\r\n        <button\r\n          type=\"button\"\r\n          (click)=\"goBack()\"\r\n          [disabled]=\"isSubmitting\"\r\n          class=\"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          Cancel\r\n        </button>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          [disabled]=\"isSubmitting || !isFormValid()\"\r\n          class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm\">\r\n          <span *ngIf=\"!isSubmitting\" class=\"flex items-center space-x-2\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n            </svg>\r\n            <span>Create Asset</span>\r\n          </span>\r\n          <span *ngIf=\"isSubmitting\" class=\"flex items-center space-x-2\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            <span>Creating Asset...</span>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, Output, OnInit, ElementRef, ViewChild, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { trigger, transition, style, animate } from '@angular/animations';\r\nimport { AssetService } from '../../services/asset.service';\r\nimport flatpickr from 'flatpickr';\r\n\r\nexport interface TransferAssetData {\r\n  new_location_id: number | null;\r\n  new_department_id?: number | null;\r\n  to_user_id?: number | null;\r\n  transfer_reason: string;\r\n  transfer_date: string;\r\n  notes?: string;\r\n  condition_report?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-transfer-asset-modal',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './transfer-asset-modal.component.html',\r\n  styleUrl: './transfer-asset-modal.component.scss',\r\n  animations: [\r\n    trigger('backdropAnimation', [\r\n      transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('150ms ease-out', style({ opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ opacity: 0 }))\r\n      ])\r\n    ]),\r\n    trigger('modalAnimation', [\r\n      transition(':enter', [\r\n        style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }),\r\n        animate('200ms ease-out', style({ \r\n          opacity: 1, \r\n          transform: 'scale(1) translateY(0)' \r\n        }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('150ms ease-in', style({ \r\n          opacity: 0, \r\n          transform: 'scale(0.7) translateY(-50px)' \r\n        }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class TransferAssetModalComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() isOpen = false;\r\n  @Input() asset: any = null;\r\n  @Output() closeModal = new EventEmitter<void>();\r\n  @Output() transferComplete = new EventEmitter<any>();\r\n\r\n  @ViewChild('dateInput', { static: false }) dateInput!: ElementRef;\r\n  private flatpickrInstance: any;\r\n\r\n  // Dropdown toggles\r\n  showLocationDropdown = false;\r\n  showDepartmentDropdown = false;\r\n  showReasonDropdown = false;\r\n\r\n  loading = false;\r\n  error = '';\r\n  \r\n  // Form data\r\n  transferData: TransferAssetData = {\r\n    new_location_id: null,\r\n    new_department_id: null,\r\n    to_user_id: null,\r\n    transfer_reason: '',\r\n    transfer_date: new Date().toISOString().split('T')[0],\r\n    notes: '',\r\n    condition_report: ''\r\n  };\r\n\r\n  // Dropdown options\r\n  locations: any[] = [];\r\n  departments: any[] = [];\r\n  users: any[] = [];\r\n  transferReasons = [\r\n    'Relocation',\r\n    'Maintenance',\r\n    'Replacement',\r\n    'Department Transfer',\r\n    'User Assignment',\r\n    'Storage',\r\n    'Disposal',\r\n    'Other'\r\n  ];\r\n\r\n  constructor(private assetService: AssetService) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log('TransferAssetModalComponent initialized');\r\n    this.loadDropdownData();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    console.log('TransferAssetModalComponent changes:', {\r\n      isOpen: this.isOpen,\r\n      asset: this.asset\r\n    });\r\n    \r\n    // Reinitialize flatpickr when modal opens\r\n    if (this.isOpen) {\r\n      setTimeout(() => {\r\n        this.initializeFlatpickr();\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Don't initialize here, wait for modal to open\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyFlatpickr();\r\n  }\r\n\r\n  private destroyFlatpickr(): void {\r\n    if (this.flatpickrInstance) {\r\n      try {\r\n        this.flatpickrInstance.destroy();\r\n        this.flatpickrInstance = null;\r\n      } catch (error) {\r\n        console.error('Error destroying flatpickr:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  private initializeFlatpickr(): void {\r\n    try {\r\n      // Destroy existing instance first\r\n      this.destroyFlatpickr();\r\n      \r\n      if (this.dateInput && this.dateInput.nativeElement) {\r\n        console.log('Initializing flatpickr on element:', this.dateInput.nativeElement);\r\n        \r\n        this.flatpickrInstance = flatpickr(this.dateInput.nativeElement, {\r\n          dateFormat: 'Y-m-d',\r\n          defaultDate: new Date(),\r\n          allowInput: false,\r\n          clickOpens: true,\r\n          minDate: new Date(),\r\n          locale: {\r\n            firstDayOfWeek: 1\r\n          },\r\n          onChange: (selectedDates, dateStr) => {\r\n            console.log('Date selected:', dateStr);\r\n            this.transferData.transfer_date = dateStr;\r\n          },\r\n          onOpen: () => {\r\n            console.log('Flatpickr opened');\r\n          },\r\n          onClose: () => {\r\n            console.log('Flatpickr closed');\r\n          }\r\n        });\r\n        \r\n        console.log('Flatpickr initialized successfully');\r\n      } else {\r\n        console.warn('Date input element not found');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing flatpickr:', error);\r\n    }\r\n  }\r\n\r\n  private loadDropdownData(): void {\r\n    console.log('Loading dropdown data...');\r\n    \r\n    // Load locations with pagination (page 1, 1000 per page)\r\n    console.log('Calling locations API with pagination...');\r\n    this.assetService.getLocations(1, 1000, 'created', 'desc').subscribe({\r\n      next: (response) => {\r\n        console.log('Locations API response:', response);\r\n        console.log('Response type:', typeof response);\r\n        console.log('Response keys:', Object.keys(response));\r\n        \r\n        // Handle paginated response format\r\n        if (response && response.data && response.data.locations) {\r\n          this.locations = response.data.locations;\r\n          console.log('Using response.data.locations (paginated):', this.locations);\r\n          console.log('Response pagination:', response.data.pagination);\r\n        } else if (response && response.data && Array.isArray(response.data)) {\r\n          this.locations = response.data;\r\n          console.log('Using response.data as array:', this.locations);\r\n        } else if (Array.isArray(response)) {\r\n          this.locations = response;\r\n          console.log('Using response as array:', this.locations);\r\n        } else {\r\n          this.locations = [];\r\n          console.warn('Unexpected response format:', response);\r\n          console.log('Response structure:', response);\r\n        }\r\n        \r\n        console.log('Final locations array:', this.locations);\r\n        console.log('Locations count:', this.locations.length);\r\n        \r\n        if (this.locations.length === 0) {\r\n          console.warn('No locations found in response');\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading locations:', error);\r\n        console.error('Error details:', {\r\n          status: error.status,\r\n          statusText: error.statusText,\r\n          message: error.message,\r\n          url: error.url\r\n        });\r\n        // Fallback to empty array\r\n        this.locations = [];\r\n      }\r\n    });\r\n\r\n    // Load departments with pagination (page 1, 1000 per page)\r\n    console.log('Calling departments API with pagination...');\r\n    this.assetService.getDepartments(1, 1000, 'created', 'desc').subscribe({\r\n      next: (response) => {\r\n        console.log('Departments API response:', response);\r\n        \r\n        // Handle paginated response format\r\n        if (response && response.data && response.data.departments) {\r\n          this.departments = response.data.departments;\r\n          console.log('Using response.data.departments (paginated):', this.departments);\r\n          console.log('Response pagination:', response.data.pagination);\r\n        } else if (response && response.data && Array.isArray(response.data)) {\r\n          this.departments = response.data;\r\n          console.log('Using response.data as array:', this.departments);\r\n        } else if (Array.isArray(response)) {\r\n          this.departments = response;\r\n        } else {\r\n          this.departments = [];\r\n          console.warn('Unexpected departments response format:', response);\r\n          console.log('Response structure:', response);\r\n        }\r\n        \r\n        console.log('Final departments array:', this.departments);\r\n        console.log('Departments count:', this.departments.length);\r\n        \r\n        if (this.departments.length === 0) {\r\n          console.warn('No departments found');\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading departments:', error);\r\n        console.error('Error details:', {\r\n          status: error.status,\r\n          statusText: error.statusText,\r\n          message: error.message,\r\n          url: error.url\r\n        });\r\n        // Fallback to empty array\r\n        this.departments = [];\r\n      }\r\n    });\r\n\r\n    // Load users (you might need to add this method to your service)\r\n    // this.assetService.getUsers().subscribe({\r\n    //   next: (response) => {\r\n    //     this.users = response.data || [];\r\n    //   },\r\n    //   error: (error) => {\r\n    //     console.error('Error loading users:', error);\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  // Manual method to reload location data\r\n  reloadLocationData(): void {\r\n    console.log('Manually reloading location data...');\r\n    this.loadDropdownData();\r\n  }\r\n\r\n  onTransfer(): void {\r\n    if (!this.validateForm()) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.error = '';\r\n\r\n    this.assetService.transferAsset(this.asset.id, this.transferData).subscribe({\r\n      next: (response) => {\r\n        this.loading = false;\r\n        this.transferComplete.emit(response);\r\n        this.resetForm();\r\n        this.closeModal.emit();\r\n      },\r\n      error: (error) => {\r\n        this.loading = false;\r\n        this.error = error.error?.message || 'Transfer failed. Please try again.';\r\n        console.error('Transfer error:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  onCancel(): void {\r\n    if (this.loading) return;\r\n    this.destroyFlatpickr();\r\n    this.resetForm();\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validateForm(): boolean {\r\n    if (!this.transferData.new_location_id) {\r\n      this.error = 'Please select a new location.';\r\n      return false;\r\n    }\r\n\r\n    if (!this.transferData.transfer_reason) {\r\n      this.error = 'Please select a transfer reason.';\r\n      return false;\r\n    }\r\n\r\n    if (!this.transferData.transfer_date) {\r\n      this.error = 'Please select a transfer date.';\r\n      return false;\r\n    }\r\n\r\n    // Check if new location is different from current\r\n    if (this.asset?.location_id === this.transferData.new_location_id) {\r\n      this.error = 'Transfer location must be different from current location.';\r\n      return false;\r\n    }\r\n\r\n    this.error = '';\r\n    return true;\r\n  }\r\n\r\n  private resetForm(): void {\r\n    this.transferData = {\r\n      new_location_id: null,\r\n      new_department_id: null,\r\n      to_user_id: null,\r\n      transfer_reason: '',\r\n      transfer_date: new Date().toISOString().split('T')[0],\r\n      notes: '',\r\n      condition_report: ''\r\n    };\r\n    this.error = '';\r\n  }\r\n\r\n  getCurrentLocationName(): string {\r\n    return this.asset?.location?.name || 'No location assigned';\r\n  }\r\n\r\n  getCurrentDepartmentName(): string {\r\n    return this.asset?.department?.name || 'No department assigned';\r\n  }\r\n\r\n  getLocationNameById(id: number | null): string {\r\n    if (!id) return '';\r\n    const loc = this.locations.find(l => l.id === id);\r\n    if (!loc) return '';\r\n    if (loc.full_path) return loc.full_path;\r\n    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {\r\n      return loc.complete_hierarchy.map((n: any) => n.name).join(' → ');\r\n    }\r\n    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {\r\n      return loc.ancestors_with_details.map((n: any) => n.name).join(' → ') + ' → ' + (loc.name || '');\r\n    }\r\n    return loc.name || '';\r\n  }\r\n\r\n  getLocationLabel(location: any): string {\r\n    if (!location) return '';\r\n    if (location.full_path) return location.full_path;\r\n    if (Array.isArray(location.complete_hierarchy) && location.complete_hierarchy.length > 0) {\r\n      return location.complete_hierarchy.map((n: any) => n.name).join(' → ');\r\n    }\r\n    if (Array.isArray(location.ancestors_with_details) && location.ancestors_with_details.length > 0) {\r\n      return location.ancestors_with_details.map((n: any) => n.name).join(' → ') + ' → ' + (location.name || '');\r\n    }\r\n    return location.name || '';\r\n  }\r\n\r\n  getDepartmentNameById(id: number | null): string {\r\n    if (!id) return '';\r\n    const dept = this.departments.find(d => d.id === id);\r\n    return dept ? dept.name : '';\r\n  }\r\n\r\n  // Debug methods to check dropdown data\r\n  getLocationsCount(): number {\r\n    return this.locations.length;\r\n  }\r\n\r\n  getDepartmentsCount(): number {\r\n    return this.departments.length;\r\n  }\r\n\r\n  getUsersCount(): number {\r\n    return this.users.length;\r\n  }\r\n\r\n  // Close all dropdowns when clicking outside\r\n  onModalClick(event: Event): void {\r\n    if (event.target === event.currentTarget) {\r\n      this.showLocationDropdown = false;\r\n      this.showDepartmentDropdown = false;\r\n      this.showReasonDropdown = false;\r\n    }\r\n  }\r\n} ","<div\r\n  *ngIf=\"isOpen\"\r\n  class=\"fixed inset-0 z-50 overflow-y-auto\"\r\n  (click)=\"onModalClick($event)\"\r\n  [@backdropAnimation]\r\n>\r\n  <div class=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n    <div class=\"fixed inset-0 transition-opacity z-0  bg-[#00000085]\"></div>\r\n\r\n    <!-- Modal panel -->\r\n    <div\r\n      class=\"inline-block w-full max-w-2xl z-1 p-6 my-8 relative overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\"\r\n      (click)=\"$event.stopPropagation()\"\r\n      [@modalAnimation]\r\n    >\r\n      <!-- Header -->\r\n      <div class=\"flex items-center justify-between mb-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900\">\r\n          Transfer Asset: {{ asset?.name || 'Unknown Asset' }}\r\n        </h3>\r\n        <button\r\n          (click)=\"onCancel()\"\r\n          class=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          [disabled]=\"loading\"\r\n        >\r\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Current Asset Information -->\r\n      <div class=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Current Location</p>\r\n          <p class=\"text-sm font-medium text-gray-900\">{{ getCurrentLocationName() }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Current Department</p>\r\n          <p class=\"text-sm font-medium text-gray-900\">{{ getCurrentDepartmentName() }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Transfer Arrow -->\r\n      <div class=\"flex justify-center mb-6\">\r\n        <div class=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n          <svg class=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 14l-7 7m0 0l-7-7m7 7V3\"></path>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Transfer Form -->\r\n      <form (ngSubmit)=\"onTransfer()\" class=\"space-y-4\">\r\n        <!-- New Location Dropdown -->\r\n        <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">New Location</label>\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"showLocationDropdown = !showLocationDropdown\"\r\n            class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n            [class.border-blue-500]=\"showLocationDropdown\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <span *ngIf=\"!transferData.new_location_id\" class=\"text-gray-400\">No location assigned</span>\r\n              <span *ngIf=\"transferData.new_location_id\" class=\"text-gray-900\">\r\n                {{ getLocationNameById(transferData.new_location_id) }}\r\n              </span>\r\n              <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showLocationDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n              </svg>\r\n            </div>\r\n          </button>\r\n          <div *ngIf=\"showLocationDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n            <div class=\"py-1\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"transferData.new_location_id = null; showLocationDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"!transferData.new_location_id\">\r\n                No location assigned\r\n              </button>\r\n              <button\r\n                *ngFor=\"let location of locations\"\r\n                type=\"button\"\r\n                (click)=\"transferData.new_location_id = location.id; showLocationDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"transferData.new_location_id === location.id\"\r\n                [disabled]=\"location.id === asset?.location_id\">\r\n                {{ getLocationLabel(location) }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- New Department Dropdown -->\r\n        <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">New Department</label>\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"showDepartmentDropdown = !showDepartmentDropdown\"\r\n            class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n            [class.border-blue-500]=\"showDepartmentDropdown\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <span *ngIf=\"!transferData.new_department_id\" class=\"text-gray-400\">Select new department (optional)</span>\r\n              <span *ngIf=\"transferData.new_department_id\" class=\"text-gray-900\">\r\n                {{ getDepartmentNameById(transferData.new_department_id) }}\r\n              </span>\r\n              <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showDepartmentDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n              </svg>\r\n            </div>\r\n          </button>\r\n          <div *ngIf=\"showDepartmentDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n            <div class=\"py-1\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"transferData.new_department_id = null; showDepartmentDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"!transferData.new_department_id\">\r\n                Select new department (optional)\r\n              </button>\r\n              <button\r\n                *ngFor=\"let department of departments\"\r\n                type=\"button\"\r\n                (click)=\"transferData.new_department_id = department.id; showDepartmentDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"transferData.new_department_id === department.id\">\r\n                {{ department.name }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Transfer Reason Dropdown -->\r\n        <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Transfer Reason *</label>\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"showReasonDropdown = !showReasonDropdown\"\r\n            class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n            [class.border-blue-500]=\"showReasonDropdown\">\r\n            <div class=\"flex items-center justify-between\">\r\n              <span *ngIf=\"!transferData.transfer_reason\" class=\"text-gray-400\">Select reason</span>\r\n              <span *ngIf=\"transferData.transfer_reason\" class=\"text-gray-900\">\r\n                {{ transferData.transfer_reason }}\r\n              </span>\r\n              <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showReasonDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n              </svg>\r\n            </div>\r\n          </button>\r\n          <div *ngIf=\"showReasonDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n            <div class=\"py-1\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"transferData.transfer_reason = ''; showReasonDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"!transferData.transfer_reason\">\r\n                Select reason\r\n              </button>\r\n              <button\r\n                *ngFor=\"let reason of transferReasons\"\r\n                type=\"button\"\r\n                (click)=\"transferData.transfer_reason = reason; showReasonDropdown = false\"\r\n                class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                [class.bg-blue-50]=\"transferData.transfer_reason === reason\">\r\n                {{ reason }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Transfer Date -->\r\n        <div>\r\n          <label for=\"transfer_date\" class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Transfer Date *\r\n          </label>\r\n          <div class=\"relative\">\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              id=\"transfer_date\"\r\n              [(ngModel)]=\"transferData.transfer_date\"\r\n              name=\"transfer_date\"\r\n              class=\"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white cursor-pointer\"\r\n              placeholder=\"Select date\"\r\n              [disabled]=\"loading\"\r\n              required\r\n              readonly\r\n            />\r\n            <div class=\"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none\">\r\n              <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Additional Notes -->\r\n        <div>\r\n          <label for=\"notes\" class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Additional Notes\r\n          </label>\r\n          <textarea\r\n            id=\"notes\"\r\n            [(ngModel)]=\"transferData.notes\"\r\n            name=\"notes\"\r\n            rows=\"3\"\r\n            class=\"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white resize-none\"\r\n            placeholder=\"Enter any additional notes about this transfer...\"\r\n            [disabled]=\"loading\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <!-- Error Message -->\r\n        <div *ngIf=\"error\" class=\"bg-red-50 border border-red-200 rounded-md p-4\">\r\n          <div class=\"flex\">\r\n            <div class=\"flex-shrink-0\">\r\n              <svg class=\"w-5 h-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n              </svg>\r\n            </div>\r\n            <div class=\"ml-3\">\r\n              <p class=\"text-sm text-red-700\">{{ error }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Action Buttons -->\r\n        <div class=\"flex justify-end space-x-3 pt-6\">\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"onCancel()\"\r\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n            [disabled]=\"loading\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            [disabled]=\"loading\"\r\n          >\r\n            <span *ngIf=\"!loading\">Create Transfer</span>\r\n            <span *ngIf=\"loading\" class=\"flex items-center\">\r\n              <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              Creating Transfer...\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  AfterViewInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  ViewChildren,\r\n  QueryList,\r\n  ChangeDetectorRef\r\n} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {ActivatedRoute, Router, RouterModule} from '@angular/router';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {AssetService} from '../../services/asset.service';\r\nimport {Location as angularLocation} from '@angular/common';\r\nimport {PdfExportService} from '../../../shared/services/pdf-export.service';\r\nimport {FormBuilder, FormGroup, Validators, ReactiveFormsModule} from '@angular/forms';\r\nimport flatpickr from 'flatpickr';\r\nimport {TransferAssetModalComponent} from '../transfer-asset-modal/transfer-asset-modal.component';\r\nimport * as QRCode from 'qrcode';\r\nimport {Chart, ChartConfiguration, ChartData, ChartOptions} from 'chart.js';\r\nimport {registerables} from 'chart.js';\r\n\r\n// Register Chart.js components\r\nChart.register(...registerables);\r\n\r\n@Component({\r\n  selector: 'app-asset-view',\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule, ReactiveFormsModule, TransferAssetModalComponent],\r\n  templateUrl: './asset-view.component.html',\r\n  styleUrl: './asset-view.component.scss'\r\n})\r\nexport class AssetViewComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  private destroy$ = new Subject<void>();\r\n  @ViewChildren('dateInput') dateInputs!: QueryList<ElementRef>;\r\n\r\n  asset: any = null;\r\n  loading = true;\r\n  saveMaintenanceLoading = false;\r\n  error = '';\r\n\r\n  // Image gallery state\r\n  currentImageIndex = 0;\r\n  selectedImageUrl: string | null = null;\r\n\r\n  // UI state\r\n  descriptionExpanded = false;\r\n  showActionsDropdown = false;\r\n  showTransferModal = false;\r\n  showActivityHistoryModal = false;\r\n\r\n  // Maintenance Schedule\r\n  maintenanceSchedules: any[] = [];\r\n  maintenanceLoading = false;\r\n  showAddMaintenanceModal = false;\r\n  showEditMaintenanceModal = false;\r\n  selectedSchedule: any = null;\r\n  maintenanceForm: FormGroup;\r\n\r\n  // Flatpickr instances\r\n  flatpickrInstances: any[] = [];\r\n\r\n  // Health & Performance data (now calculated dynamically)\r\n  healthMetrics = {\r\n    lastUpdated: new Date(),\r\n    performanceTrend: [\r\n      {month: 'Jan', value: 82},\r\n      {month: 'Feb', value: 84},\r\n      {month: 'Mar', value: 88},\r\n      {month: 'Apr', value: 85}\r\n    ]\r\n  };\r\n\r\n  mockFinancialData = {\r\n    purchaseCost: 0,\r\n    currentValue: 0,\r\n    depreciationMethod: 'Straight Line',\r\n    usefulLife: 10,\r\n    originalValue: 0\r\n  };\r\n\r\n  mockMaintenanceData = {\r\n    status: 'Current',\r\n    lastMaintenance: null,\r\n    nextMaintenance: null,\r\n    interval: 'Every 6 months'\r\n  };\r\n\r\n  // Activity history\r\n  activities: any[] = [];\r\n  fullActivityHistory: any[] = [];\r\n  activityLoading = false;\r\n  activityHistoryLoading = false;\r\n  activityError = '';\r\n  activityHistoryError = '';\r\n\r\n  // Activity history pagination and filters\r\n  activityHistoryParams: { [key: string]: any } = {\r\n    page: 1,\r\n    per_page: 15,\r\n    sort_by: 'created_at',\r\n    sort_dir: 'desc',\r\n    search: '',\r\n    action: '',\r\n    user_id: '',\r\n    date_from: '',\r\n    date_to: ''\r\n  };\r\n  activityHistoryPagination: any = null;\r\n\r\n  // QR Code state\r\n  qrCodeDataUrl: string | null = null;\r\n  qrCodeLoading = false;\r\n\r\n  // Barcode state\r\n  barcodeDataUrl: string | null = null;\r\n  barcodeLoading = false;\r\n\r\n  // Related assets state\r\n  relatedAssets: any[] = [];\r\n  relatedAssetsLoading = false;\r\n  relatedAssetsError = '';\r\n  selectedRelatedFilter = 'all';\r\n  showRelatedFilterDropdown = false;\r\n  relatedAssetsParams: { [key: string]: any } = {\r\n    type: 'all',\r\n    limit: 10\r\n  };\r\n\r\n  // Chart state\r\n  depreciationChart: Chart | null = null;\r\n  depreciationChartLoading = false;\r\n  depreciationChartError = '';\r\n  depreciationChartData: any = null;\r\n\r\n  // Health & Performance Chart\r\n  healthPerformanceChart: Chart | null = null;\r\n  healthPerformanceChartLoading = false;\r\n  healthPerformanceChartError = '';\r\n  healthPerformanceChartData: any = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private assetService: AssetService,\r\n    private angularLocation: angularLocation,\r\n    private pdfExportService: PdfExportService,\r\n    private fb: FormBuilder,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    this.maintenanceForm = this.fb.group({\r\n      schedule_type: ['', Validators.required],\r\n      next_due: [''],\r\n      last_done: [''],\r\n      frequency: [''],\r\n      notes: [''],\r\n      status: ['Scheduled']\r\n    });\r\n\r\n    // Initialize activity history\r\n    this.activities = [];\r\n    this.fullActivityHistory = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(params => {\r\n        const assetId = params['id'];\r\n        if (assetId) {\r\n          this.loadAsset(assetId);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.initializeDatePickers();\r\n    // Initialize chart after view is ready\r\n    setTimeout(() => {\r\n      if (this.asset && !this.depreciationChart) {\r\n        this.createDepreciationChart();\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    // Cleanup flatpickr instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n    // Cleanup charts\r\n    if (this.depreciationChart) {\r\n      this.depreciationChart.destroy();\r\n    }\r\n    if (this.healthPerformanceChart) {\r\n      this.healthPerformanceChart.destroy();\r\n    }\r\n  }\r\n\r\n  loadAsset(id: string) {\r\n    this.loading = true;\r\n    this.error = '';\r\n\r\n    this.assetService.getAsset(id)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.asset = response.data.asset || response.data;\r\n            this.updateMockData();\r\n            this.loadMaintenanceSchedules();\r\n            this.loadActivityHistory();\r\n            // Generate QR code after asset is loaded\r\n            this.generateQRCode();\r\n            // Generate barcode after asset is loaded (if no server barcode URL)\r\n            if (!this.asset.barcode_url && this.asset.asset_id) {\r\n              this.generateBarcode();\r\n            }\r\n            // Load related assets after asset is loaded\r\n            this.loadRelatedAssets();\r\n            this.loadDepreciationChart();\r\n            this.loadHealthPerformanceChart();\r\n          } else {\r\n            this.error = response.message || 'Failed to load asset';\r\n          }\r\n          this.loading = false;\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while loading the asset';\r\n          this.loading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  loadMaintenanceSchedules() {\r\n    if (!this.asset) return;\r\n\r\n    this.maintenanceLoading = true;\r\n    this.assetService.listMaintenanceSchedules(this.asset.id)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.maintenanceSchedules = response.data || [];\r\n          }\r\n          this.maintenanceLoading = false;\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading maintenance schedules:', error);\r\n          this.maintenanceLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  updateMockData() {\r\n    if (this.asset) {\r\n      // Update financial data with real asset data\r\n      this.mockFinancialData = {\r\n        purchaseCost: this.asset.purchase_price || 0,\r\n        currentValue: this.asset.current_value || this.asset.purchase_price || 0,\r\n        depreciationMethod: 'Straight Line',\r\n        usefulLife: this.asset.depreciation || 10,\r\n        originalValue: this.asset.purchase_price || 0\r\n      };\r\n\r\n      // Update health metrics with real asset data\r\n      this.healthMetrics.lastUpdated = new Date();\r\n\r\n      // Update maintenance data with real asset data\r\n      this.mockMaintenanceData = {\r\n        status: this.asset.status || 'Active',\r\n        lastMaintenance: this.asset.last_maintenance_date || null,\r\n        nextMaintenance: this.asset.next_maintenance_date || null,\r\n        interval: this.asset.maintenance_interval || 'Every 6 months'\r\n      };\r\n\r\n      // Initialize image gallery\r\n      if (this.asset.images && this.asset.images.length > 0) {\r\n        this.selectedImageUrl = this.asset.images[0].image_url;\r\n        this.currentImageIndex = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.angularLocation.back();\r\n  }\r\n\r\n  editAsset() {\r\n    if (this.asset) {\r\n      this.router.navigate(['/assets', this.asset.id, 'edit']);\r\n    }\r\n  }\r\n\r\n  exportAsset() {\r\n    if (this.asset) {\r\n      this.pdfExportService.exportSingleAssetToPdf(this.asset);\r\n    }\r\n  }\r\n\r\n  printAsset() {\r\n    // Create a new window for printing\r\n    const printWindow = window.open('', '_blank');\r\n    if (!printWindow) {\r\n      alert('Please allow popups to print this asset');\r\n      return;\r\n    }\r\n\r\n    // Generate the print content\r\n    const printContent = this.generatePrintContent();\r\n\r\n    printWindow.document.write(`\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>Asset Details - ${this.asset?.name || 'Asset'}</title>\r\n          <style>\r\n            @media print {\r\n              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\r\n              .no-print { display: none !important; }\r\n              .print-only { display: block !important; }\r\n              .page-break { page-break-before: always; }\r\n              .avoid-break { page-break-inside: avoid; }\r\n              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\r\n              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\r\n              th { background-color: #f8f9fa; font-weight: bold; }\r\n              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }\r\n              .section { margin-bottom: 25px; }\r\n              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\r\n              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }\r\n              .info-item { margin-bottom: 15px; }\r\n              .info-label { font-weight: bold; color: #666; font-size: 14px; }\r\n              .info-value { font-size: 16px; margin-top: 5px; }\r\n              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }\r\n              .qr-section { text-align: center; margin: 20px 0; }\r\n              .qr-code { max-width: 200px; margin: 0 auto; }\r\n              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }\r\n              @page { margin: 1in; }\r\n            }\r\n            @media screen {\r\n              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }\r\n              .no-print { display: none; }\r\n              .print-only { display: block; }\r\n              .page-break { border-top: 2px solid #333; margin-top: 30px; padding-top: 30px; }\r\n              .avoid-break { }\r\n              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\r\n              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\r\n              th { background-color: #f8f9fa; font-weight: bold; }\r\n              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }\r\n              .section { margin-bottom: 25px; }\r\n              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\r\n              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }\r\n              .info-item { margin-bottom: 15px; }\r\n              .info-label { font-weight: bold; color: #666; font-size: 14px; }\r\n              .info-value { font-size: 16px; margin-top: 5px; }\r\n              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }\r\n              .qr-section { text-align: center; margin: 20px 0; }\r\n              .qr-code { max-width: 200px; margin: 0 auto; }\r\n              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          ${printContent}\r\n        </body>\r\n      </html>\r\n    `);\r\n\r\n    printWindow.document.close();\r\n\r\n    // Wait for content to load then print\r\n    printWindow.onload = () => {\r\n      printWindow.print();\r\n      printWindow.close();\r\n    };\r\n  }\r\n\r\n  private generatePrintContent(): string {\r\n    if (!this.asset) return '<p>Asset not found</p>';\r\n\r\n    const asset = this.asset;\r\n    const currentDate = new Date().toLocaleDateString();\r\n\r\n    return `\r\n      <div class=\"header\">\r\n        <h1>Asset Details Report</h1>\r\n        <p>Generated on: ${currentDate}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Asset Overview</div>\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Asset Name</div>\r\n            <div class=\"info-value\">${asset.name || 'N/A'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Asset ID</div>\r\n            <div class=\"info-value\">${asset.asset_id || asset.id || 'N/A'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Category</div>\r\n            <div class=\"info-value\">${asset.category?.name || 'General'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Status</div>\r\n            <div class=\"info-value\">\r\n              <span class=\"status-badge\" style=\"background-color: ${asset.asset_status?.color || '#6B7280'}20; color: ${asset.asset_status?.color || '#6B7280'}\">\r\n                ${asset.asset_status?.name || 'Not specified'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Type</div>\r\n            <div class=\"info-value\">${this.getAssetTypeName(asset.type)}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Location</div>\r\n            <div class=\"info-value\">${asset.location?.name || 'No location assigned'}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Description</div>\r\n        <p>${asset.description || 'No description available'}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Technical Specifications</div>\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Manufacturer</div>\r\n            <div class=\"info-value\">${asset.manufacturer || 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Model</div>\r\n            <div class=\"info-value\">${asset.model || 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Serial Number</div>\r\n            <div class=\"info-value\">${asset.serial_number || 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Brand</div>\r\n            <div class=\"info-value\">${asset.brand || 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Dimensions</div>\r\n            <div class=\"info-value\">${asset.dimensions || 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Weight</div>\r\n            <div class=\"info-value\">${asset.weight || 'Not specified'}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Financial Information</div>\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Purchase Price</div>\r\n            <div class=\"info-value\">$${this.formatCurrency(asset.purchase_price || 0)}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Current Value</div>\r\n            <div class=\"info-value\">$${this.formatCurrency(this.calculateCurrentValue())}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Purchase Date</div>\r\n            <div class=\"info-value\">${asset.purchase_date ? new Date(asset.purchase_date).toLocaleDateString() : 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Warranty Status</div>\r\n            <div class=\"info-value\">${this.getWarrantyStatus(asset.warranty)}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Performance Metrics</div>\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Health Score</div>\r\n            <div class=\"info-value\">${asset.health_score || 0}%</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Utilization Rate</div>\r\n            <div class=\"info-value\">${this.getUtilizationRate()}%</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Asset Age</div>\r\n            <div class=\"info-value\">${this.getAssetAge()}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Total Cost of Ownership</div>\r\n            <div class=\"info-value\">$${this.formatCurrency(this.calculateTotalCostOfOwnership())}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <div class=\"section-title\">Timeline Information</div>\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Created Date</div>\r\n            <div class=\"info-value\">${asset.created_at ? new Date(asset.created_at).toLocaleDateString() : 'Not specified'}</div>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <div class=\"info-label\">Last Modified</div>\r\n            <div class=\"info-value\">${asset.updated_at ? new Date(asset.updated_at).toLocaleDateString() : 'Not specified'}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"qr-section\">\r\n        <div class=\"section-title\">Asset Identification</div>\r\n        <div class=\"qr-code\">\r\n          ${this.qrCodeDataUrl ? `<img src=\"${this.qrCodeDataUrl}\" alt=\"QR Code\" style=\"max-width: 100%; height: auto;\">` : '<p>QR Code not available</p>'}\r\n        </div>\r\n        <p><strong>Asset ID:</strong> ${asset.asset_id || asset.id || 'N/A'}</p>\r\n      </div>\r\n\r\n      <div class=\"footer\">\r\n        <p>AssetGo - Asset Management System</p>\r\n        <p>This report was generated automatically on ${currentDate}</p>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  getStatusColor(status: string): string {\r\n    const colors: { [key: string]: string } = {\r\n      'Active': 'green',\r\n      'Maintenance': 'orange',\r\n      'Inactive': 'gray',\r\n      'Retired': 'red'\r\n    };\r\n    return colors[status] || 'gray';\r\n  }\r\n\r\n  getAssetStatusColor(assetStatus: any): string {\r\n    if (!assetStatus || !assetStatus.color) {\r\n      return '#6B7280'; // Default gray color\r\n    }\r\n    return assetStatus.color;\r\n  }\r\n\r\n  getAssetStatusBackgroundColor(assetStatus: any): string {\r\n    if (!assetStatus || !assetStatus.color) {\r\n      return '#F3F4F6'; // Default gray background\r\n    }\r\n    // Add 20% opacity to the color for background\r\n    return assetStatus.color + '20';\r\n  }\r\n\r\n  getAssetTypeIcon(): string {\r\n    if (!this.asset?.type) return 'M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4';\r\n\r\n    const icons: { [key: string]: string } = {\r\n      'fixed': 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',\r\n      'semi-fixed': 'M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4a2 2 0 001-1.73z',\r\n      'mobile': 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',\r\n      'fleet': 'M3 13l2-5a2 2 0 012-2h10a2 2 0 012 2l2 5M5 13v6a2 2 0 002 2h10a2 2 0 002-2v-6M5 13h14'\r\n    };\r\n    return icons[this.asset.type] || icons['fixed'];\r\n  }\r\n\r\n  generateSmartDescription() {\r\n    console.log('Generate smart description');\r\n  }\r\n\r\n  analyzeAssetImage() {\r\n    console.log('Analyze asset image');\r\n  }\r\n\r\n  // Maintenance Schedule Methods\r\n  addMaintenanceSchedule() {\r\n    this.showAddMaintenanceModal = true;\r\n    this.maintenanceForm.reset({\r\n      schedule_type: '',\r\n      next_due: '',\r\n      last_done: '',\r\n      frequency: '',\r\n      notes: '',\r\n      status: 'Scheduled'\r\n    });\r\n    // Initialize date pickers after modal opens\r\n    setTimeout(() => {\r\n      this.initializeDatePickers();\r\n    }, 100);\r\n  }\r\n\r\n  editMaintenanceSchedule(schedule: any) {\r\n    this.selectedSchedule = schedule;\r\n    this.showEditMaintenanceModal = true;\r\n    this.maintenanceForm.patchValue({\r\n      schedule_type: schedule.schedule_type,\r\n      next_due: schedule.next_due,\r\n      last_done: schedule.last_done,\r\n      frequency: schedule.frequency,\r\n      notes: schedule.notes,\r\n      status: schedule.status\r\n    });\r\n    // Initialize date pickers after modal opens\r\n    setTimeout(() => {\r\n      this.initializeDatePickers();\r\n    }, 100);\r\n  }\r\n\r\n  deleteMaintenanceSchedule(schedule: any) {\r\n    if (confirm('Are you sure you want to delete this maintenance schedule?')) {\r\n      this.assetService.deleteMaintenanceSchedule(this.asset.id, schedule.id)\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe({\r\n          next: (response) => {\r\n            if (response.success) {\r\n              this.loadMaintenanceSchedules();\r\n            }\r\n          },\r\n          error: (error) => {\r\n            console.error('Error deleting maintenance schedule:', error);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  saveMaintenanceSchedule() {\r\n    if (this.maintenanceForm.valid && this.asset) {\r\n      this.saveMaintenanceLoading = true;\r\n      const formData = this.maintenanceForm.value;\r\n\r\n      if (this.selectedSchedule) {\r\n        // Update existing schedule\r\n        this.assetService.updateMaintenanceSchedule(this.asset.id, this.selectedSchedule.id, formData)\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe({\r\n            next: (response) => {\r\n              if (response.success) {\r\n                this.loadMaintenanceSchedules();\r\n                this.closeMaintenanceModals();\r\n              }\r\n            },\r\n            error: (error) => {\r\n              this.saveMaintenanceLoading = false;\r\n              console.error('Error updating maintenance schedule:', error);\r\n            }\r\n          }).add(() =>{\r\n            this.saveMaintenanceLoading = false;\r\n        });\r\n      } else {\r\n        // Create new schedule\r\n        this.assetService.addMaintenanceSchedule(this.asset.id, formData)\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe({\r\n            next: (response) => {\r\n              if (response.success) {\r\n                this.loadMaintenanceSchedules();\r\n                this.closeMaintenanceModals();\r\n              }\r\n            },\r\n            error: (error) => {\r\n              this.saveMaintenanceLoading = false;\r\n              console.error('Error adding maintenance schedule:', error);\r\n            }\r\n          }).add(() =>{\r\n            this.saveMaintenanceLoading = false;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  closeMaintenanceModals() {\r\n    this.showAddMaintenanceModal = false;\r\n    this.showEditMaintenanceModal = false;\r\n    this.selectedSchedule = null;\r\n    this.maintenanceForm.reset();\r\n    // Cleanup flatpickr instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n    this.flatpickrInstances = [];\r\n  }\r\n\r\n  private initializeDatePickers() {\r\n    // Cleanup existing instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n    this.flatpickrInstances = [];\r\n\r\n    // Initialize new instances\r\n    setTimeout(() => {\r\n      if (this.dateInputs) {\r\n        this.dateInputs.forEach((inputRef, index) => {\r\n          if (inputRef?.nativeElement) {\r\n            const instance = flatpickr(inputRef.nativeElement, {\r\n              dateFormat: 'Y-m-d',\r\n              allowInput: true,\r\n              clickOpens: true,\r\n              onChange: (selectedDates, dateStr) => {\r\n                // Update form control value\r\n                const controlName = inputRef.nativeElement.getAttribute('formControlName');\r\n                if (controlName && this.maintenanceForm.get(controlName)) {\r\n                  this.maintenanceForm.get(controlName)!.setValue(dateStr);\r\n                }\r\n              }\r\n            });\r\n            this.flatpickrInstances.push(instance);\r\n          }\r\n        });\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  getScheduleStatusColor(status: string): string {\r\n    const colors: { [key: string]: string } = {\r\n      'Scheduled': 'blue',\r\n      'Overdue': 'red',\r\n      'Completed': 'green',\r\n      'In Progress': 'yellow'\r\n    };\r\n    return colors[status] || 'gray';\r\n  }\r\n\r\n  formatDate(date: string): string {\r\n    if (!date) return 'Not set';\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  }\r\n\r\n  // Helper methods for displaying asset data\r\n  getAssetTypeName(typeId: number | string): string {\r\n    // You can load asset types from API and map them here\r\n    // For now, return the ID or a default value\r\n    if (!typeId) return 'Standard Asset';\r\n\r\n    const typeMap: { [key: string]: string } = {\r\n      '1': 'Fixed Asset',\r\n      '2': 'Semi-Fixed Asset',\r\n      '3': 'Mobile Asset',\r\n      '4': 'Fleet Asset',\r\n      '5': 'IT Equipment'\r\n    };\r\n\r\n    return typeMap[typeId.toString()] || `Type ${typeId}`;\r\n  }\r\n\r\n  // Navigation methods\r\n  navigateToPrevious() {\r\n    // TODO: Implement navigation to previous asset\r\n    console.log('Navigate to previous asset');\r\n  }\r\n\r\n  navigateToNext() {\r\n    // TODO: Implement navigation to next asset\r\n    console.log('Navigate to next asset');\r\n  }\r\n\r\n  // Related assets methods\r\n  loadRelatedAssets() {\r\n    if (!this.asset?.id) return;\r\n\r\n    this.relatedAssetsLoading = true;\r\n    this.relatedAssetsError = '';\r\n\r\n    this.assetService.getRelatedAssets(this.asset.id, this.relatedAssetsParams)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.relatedAssets = response.data.related_assets || [];\r\n          } else {\r\n            this.relatedAssetsError = response.message || 'Failed to load related assets';\r\n          }\r\n          this.relatedAssetsLoading = false;\r\n        },\r\n        error: (error) => {\r\n          this.relatedAssetsError = error.error?.message || 'An error occurred while loading related assets';\r\n          this.relatedAssetsLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  loadDepreciationChart() {\r\n    if (!this.asset?.id) return;\r\n\r\n    this.depreciationChartLoading = true;\r\n    this.depreciationChartError = '';\r\n\r\n    console.log('Loading depreciation chart for asset:', this.asset.id);\r\n\r\n    this.assetService.getAssetDepreciationChart(this.asset.id)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          console.log('Chart API Response:', response);\r\n          if (response.success) {\r\n            this.depreciationChartData = response.data;\r\n            console.log('Chart data set:', this.depreciationChartData);\r\n            this.createDepreciationChart();\r\n          } else {\r\n            this.depreciationChartError = response.message || 'Failed to load depreciation chart data';\r\n            console.log('API returned error, using mock data');\r\n            // Fallback to mock data if API returns error\r\n            this.createDepreciationChartWithMockData();\r\n          }\r\n          this.depreciationChartLoading = false;\r\n        },\r\n        error: (error) => {\r\n          console.error('Chart API Error:', error);\r\n          this.depreciationChartError = error.error?.message || 'An error occurred while loading depreciation chart data';\r\n          this.depreciationChartLoading = false;\r\n          // Fallback to mock data if API fails\r\n          this.createDepreciationChartWithMockData();\r\n        }\r\n      });\r\n  }\r\n\r\n  createDepreciationChart() {\r\n    console.log('Creating depreciation chart...');\r\n\r\n    // Destroy existing chart if it exists\r\n    if (this.depreciationChart) {\r\n      console.log('Destroying existing chart');\r\n      this.depreciationChart.destroy();\r\n    }\r\n\r\n    // Wait a bit for the DOM to be ready\r\n    setTimeout(() => {\r\n      const ctx = document.getElementById('depreciationChart') as HTMLCanvasElement;\r\n      console.log('Canvas element:', ctx);\r\n\r\n      if (!ctx) {\r\n        console.error('Depreciation chart canvas not found');\r\n        return;\r\n      }\r\n\r\n      // Use API data if available, otherwise fallback to mock data\r\n      const chartData = this.processChartData(this.depreciationChartData) || this.generateMockDepreciationData();\r\n      console.log('Chart data to use:', chartData);\r\n\r\n      try {\r\n        this.depreciationChart = new Chart(ctx, {\r\n          type: 'line',\r\n          data: {\r\n            labels: chartData.labels,\r\n            datasets: [\r\n              {\r\n                label: 'Asset Value',\r\n                data: chartData.values,\r\n                borderColor: '#3B82F6',\r\n                backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n                borderWidth: 2,\r\n                fill: true,\r\n                tension: 0.4\r\n              },\r\n              {\r\n                label: 'Accumulated Depreciation',\r\n                data: chartData.depreciation,\r\n                borderColor: '#EF4444',\r\n                backgroundColor: 'rgba(239, 68, 68, 0.1)',\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4\r\n              }\r\n            ]\r\n          },\r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            plugins: {\r\n              title: {\r\n                display: true,\r\n                text: 'Asset Depreciation Over Time',\r\n                font: {\r\n                  size: 16,\r\n                  weight: 'bold'\r\n                }\r\n              },\r\n              legend: {\r\n                display: true,\r\n                position: 'top'\r\n              },\r\n              tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                callbacks: {\r\n                  label: (context) => {\r\n                    const label = context.dataset.label || '';\r\n                    const value = context.parsed.y;\r\n                    return `${label}: $${value.toLocaleString()}`;\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            scales: {\r\n              x: {\r\n                title: {\r\n                  display: true,\r\n                  text: 'Month'\r\n                }\r\n              },\r\n              y: {\r\n                title: {\r\n                  display: true,\r\n                  text: 'Value ($)'\r\n                },\r\n                beginAtZero: true,\r\n                ticks: {\r\n                  callback: (value) => `$${Number(value).toLocaleString()}`\r\n                }\r\n              }\r\n            },\r\n            interaction: {\r\n              mode: 'nearest',\r\n              axis: 'x',\r\n              intersect: false\r\n            }\r\n          }\r\n        });\r\n        console.log('Chart created successfully');\r\n        // Trigger change detection after chart creation\r\n        this.cdr.detectChanges();\r\n      } catch (error) {\r\n        console.error('Error creating chart:', error);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  processChartData(apiData: any) {\r\n    if (!apiData || !apiData.chart_data || !apiData.chart_data.has_data) {\r\n      return null;\r\n    }\r\n\r\n    const chartData = apiData.chart_data;\r\n    const labels = chartData.depreciation_months.map((month: number) => `Month ${month}`);\r\n    const values = chartData.depreciation_values.map((value: string) => parseFloat(value));\r\n\r\n    // Calculate accumulated depreciation\r\n    const purchasePrice = parseFloat(apiData.asset.purchase_price);\r\n    const depreciation = values.map((value: number) => purchasePrice - value);\r\n\r\n    return {\r\n      labels,\r\n      values,\r\n      depreciation\r\n    };\r\n  }\r\n\r\n  createDepreciationChartWithMockData() {\r\n    const mockData = this.generateMockDepreciationData();\r\n    this.depreciationChartData = mockData;\r\n    this.createDepreciationChart();\r\n  }\r\n\r\n  generateMockDepreciationData() {\r\n    const purchasePrice = parseFloat(this.asset?.purchase_price) || 10000;\r\n    const usefulLife = parseFloat(this.asset?.depreciation) || 10;\r\n    const depreciationLife = this.asset?.depreciation_life || 10;\r\n\r\n    const labels: string[] = [];\r\n    const values: number[] = [];\r\n    const depreciation: number[] = [];\r\n\r\n    // Use depreciation_life if available, otherwise use usefulLife\r\n    const totalPeriods = depreciationLife || usefulLife;\r\n\r\n    for (let month = 1; month <= totalPeriods; month++) {\r\n      labels.push(`Month ${month}`);\r\n\r\n      const monthlyDepreciation = purchasePrice / totalPeriods;\r\n      const totalDepreciation = monthlyDepreciation * (month - 1);\r\n      const currentValue = Math.max(0, purchasePrice - totalDepreciation);\r\n\r\n      values.push(currentValue);\r\n      depreciation.push(totalDepreciation);\r\n    }\r\n\r\n    return {\r\n      labels,\r\n      values,\r\n      depreciation\r\n    };\r\n  }\r\n\r\n  onRelatedFilterChange(filterType: string) {\r\n    this.selectedRelatedFilter = filterType;\r\n    this.relatedAssetsParams['type'] = filterType;\r\n    this.loadRelatedAssets();\r\n  }\r\n\r\n  getRelatedFilterDisplayName(filterType: string): string {\r\n    const filterMap: { [key: string]: string } = {\r\n      'all': 'All Related',\r\n      'category': 'Same Category',\r\n      'location': 'Same Location',\r\n      'department': 'Same Department',\r\n      'manufacturer': 'Same Manufacturer',\r\n      'parent': 'Same Parent',\r\n      'children': 'Child Assets',\r\n      'siblings': 'Sibling Assets',\r\n      'similar': 'Similar Assets'\r\n    };\r\n    return filterMap[filterType] || filterType;\r\n  }\r\n\r\n  getRelatedAssetStatusColor(status: any): string {\r\n    if (status?.color) {\r\n      return `bg-${this.getColorFromHex(status.color)}-100 text-${this.getColorFromHex(status.color)}-700`;\r\n    }\r\n\r\n    const statusName = status?.name || status;\r\n    const colors: { [key: string]: string } = {\r\n      'Active': 'bg-green-100 text-green-700',\r\n      'Inactive': 'bg-gray-100 text-gray-700',\r\n      'Maintenance': 'bg-orange-100 text-orange-700',\r\n      'Retired': 'bg-red-100 text-red-700'\r\n    };\r\n    return colors[statusName] || 'bg-gray-100 text-gray-700';\r\n  }\r\n\r\n  private getColorFromHex(hex: string): string {\r\n    // Simple mapping of hex colors to Tailwind color names\r\n    const colorMap: { [key: string]: string } = {\r\n      '#10B981': 'green',\r\n      '#EF4444': 'red',\r\n      '#F59E0B': 'yellow',\r\n      '#3B82F6': 'blue',\r\n      '#8B5CF6': 'purple',\r\n      '#F97316': 'orange',\r\n      '#6B7280': 'gray'\r\n    };\r\n    return colorMap[hex] || 'gray';\r\n  }\r\n\r\n  navigateToRelatedAsset(assetId: number | string) {\r\n    this.router.navigate(['/assets', assetId]);\r\n  }\r\n\r\n  // Activity timeline methods\r\n  loadActivityHistory() {\r\n    if (!this.asset?.id) return;\r\n\r\n    this.activityLoading = true;\r\n    this.activityError = '';\r\n\r\n    // Load recent activities (first 5)\r\n    const params = {\r\n      page: 1,\r\n      per_page: 5,\r\n      sort_by: 'created_at',\r\n      sort_dir: 'desc'\r\n    };\r\n\r\n    this.assetService.getActivityHistory(this.asset.id, params)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.activities = response.data.data || [];\r\n          } else {\r\n            this.activityError = response.message || 'Failed to load activity history';\r\n          }\r\n          this.activityLoading = false;\r\n        },\r\n        error: (error) => {\r\n          this.activityError = error.error?.message || 'An error occurred while loading activity history';\r\n          this.activityLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  // Performance tracking methods\r\n  loadPerformanceMetrics() {\r\n    // TODO: Load real performance data from API\r\n    console.log('Load performance metrics');\r\n  }\r\n\r\n  // Health & Performance Dashboard Methods\r\n  refreshHealthMetrics() {\r\n    this.loadPerformanceMetrics();\r\n    // Refresh health data\r\n    console.log('Refreshing health metrics');\r\n  }\r\n\r\n  refreshDepreciationChart() {\r\n    console.log('Refreshing depreciation chart...');\r\n    this.loadDepreciationChart();\r\n  }\r\n\r\n  // Method to manually create chart (for debugging)\r\n  forceCreateChart() {\r\n    console.log('Force creating chart...');\r\n    this.createDepreciationChart();\r\n  }\r\n\r\n  // Health & Performance Chart Methods\r\n  loadHealthPerformanceChart() {\r\n    if (!this.asset?.id) {\r\n      console.log('No asset ID available for health performance chart');\r\n      return;\r\n    }\r\n\r\n    this.healthPerformanceChartLoading = true;\r\n    this.healthPerformanceChartError = '';\r\n\r\n    console.log('Loading health performance chart for asset:', this.asset.id);\r\n\r\n    this.assetService.getAssetHealthPerformanceChart(this.asset.id, {months: 12})\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          console.log('Health performance chart API response:', response);\r\n          this.healthPerformanceChartLoading = false;\r\n\r\n          if (response.success && response.data) {\r\n            this.healthPerformanceChartData = response.data;\r\n            // Create chart after a delay to ensure DOM is ready\r\n            setTimeout(() => {\r\n              this.createHealthPerformanceChart();\r\n            }, 100);\r\n          } else {\r\n            this.healthPerformanceChartError = 'Failed to load health performance data';\r\n            console.error('Health performance chart API error:', response);\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Health performance chart API error:', error);\r\n          this.healthPerformanceChartLoading = false;\r\n          this.healthPerformanceChartError = 'Failed to load health performance data';\r\n        }\r\n      });\r\n  }\r\n\r\n  createHealthPerformanceChart() {\r\n    console.log('Creating health performance chart...');\r\n    console.log('Health performance chart data:', this.healthPerformanceChartData);\r\n\r\n    // Destroy existing chart\r\n    if (this.healthPerformanceChart) {\r\n      this.healthPerformanceChart.destroy();\r\n      this.healthPerformanceChart = null;\r\n    }\r\n\r\n    const canvas = document.getElementById('healthPerformanceChart') as HTMLCanvasElement;\r\n    console.log('Canvas element:', canvas);\r\n    if (!canvas) {\r\n      console.error('Health performance chart canvas not found');\r\n      return;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      try {\r\n        console.log('Processing health performance data...');\r\n        const chartData = this.processHealthPerformanceData(this.healthPerformanceChartData);\r\n        console.log('Processed chart data:', chartData);\r\n\r\n        const config: ChartConfiguration = {\r\n          type: 'line',\r\n          data: {\r\n            labels: chartData.labels,\r\n            datasets: [\r\n              {\r\n                label: 'Health Score',\r\n                data: chartData.healthScores,\r\n                borderColor: '#10B981',\r\n                backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4,\r\n                pointBackgroundColor: '#10B981',\r\n                pointBorderColor: '#ffffff',\r\n                pointBorderWidth: 2,\r\n                pointRadius: 4,\r\n                pointHoverRadius: 6\r\n              },\r\n              {\r\n                label: 'Performance Score',\r\n                data: chartData.performanceScores,\r\n                borderColor: '#3B82F6',\r\n                backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4,\r\n                pointBackgroundColor: '#3B82F6',\r\n                pointBorderColor: '#ffffff',\r\n                pointBorderWidth: 2,\r\n                pointRadius: 4,\r\n                pointHoverRadius: 6\r\n              },\r\n              {\r\n                label: 'Maintenance Count',\r\n                data: chartData.maintenanceCounts,\r\n                borderColor: '#F59E0B',\r\n                backgroundColor: 'rgba(245, 158, 11, 0.1)',\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4,\r\n                pointBackgroundColor: '#F59E0B',\r\n                pointBorderColor: '#ffffff',\r\n                pointBorderWidth: 2,\r\n                pointRadius: 4,\r\n                pointHoverRadius: 6,\r\n                yAxisID: 'y1'\r\n              }\r\n            ]\r\n          },\r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            interaction: {\r\n              mode: 'index',\r\n              intersect: false,\r\n            },\r\n            plugins: {\r\n              legend: {\r\n                position: 'top',\r\n                labels: {\r\n                  usePointStyle: true,\r\n                  padding: 20,\r\n                  font: {\r\n                    size: 12\r\n                  }\r\n                }\r\n              },\r\n              tooltip: {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                titleColor: '#ffffff',\r\n                bodyColor: '#ffffff',\r\n                borderColor: '#374151',\r\n                borderWidth: 1,\r\n                cornerRadius: 8,\r\n                displayColors: true,\r\n                callbacks: {\r\n                  label: function (context) {\r\n                    const label = context.dataset.label || '';\r\n                    const value = context.parsed.y;\r\n                    if (label === 'Maintenance Count') {\r\n                      return `${label}: ${value} activities`;\r\n                    }\r\n                    return `${label}: ${value}%`;\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            scales: {\r\n              x: {\r\n                display: true,\r\n                title: {\r\n                  display: true,\r\n                  text: 'Month',\r\n                  font: {\r\n                    size: 12,\r\n                    weight: 'bold'\r\n                  }\r\n                },\r\n                grid: {\r\n                  display: true,\r\n                  color: 'rgba(0, 0, 0, 0.1)'\r\n                }\r\n              },\r\n              y: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'left',\r\n                title: {\r\n                  display: true,\r\n                  text: 'Score (%)',\r\n                  font: {\r\n                    size: 12,\r\n                    weight: 'bold'\r\n                  }\r\n                },\r\n                min: 0,\r\n                max: 100,\r\n                grid: {\r\n                  display: true,\r\n                  color: 'rgba(0, 0, 0, 0.1)'\r\n                }\r\n              },\r\n              y1: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'right',\r\n                title: {\r\n                  display: true,\r\n                  text: 'Maintenance Count',\r\n                  font: {\r\n                    size: 12,\r\n                    weight: 'bold'\r\n                  }\r\n                },\r\n                min: 0,\r\n                grid: {\r\n                  drawOnChartArea: false,\r\n                  color: 'rgba(0, 0, 0, 0.1)'\r\n                }\r\n              }\r\n            }\r\n          }\r\n        };\r\n\r\n        this.healthPerformanceChart = new Chart(canvas, config);\r\n        console.log('Health performance chart created successfully');\r\n        this.cdr.detectChanges();\r\n      } catch (error) {\r\n        console.error('Error creating health performance chart:', error);\r\n        // Retry after a longer delay if the first attempt fails\r\n        setTimeout(() => {\r\n          console.log('Retrying health performance chart creation...');\r\n          this.createHealthPerformanceChart();\r\n        }, 500);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  processHealthPerformanceData(apiData: any) {\r\n    if (!apiData?.chart_data) {\r\n      console.log('No chart data available, using mock data');\r\n      return this.generateMockHealthPerformanceData();\r\n    }\r\n\r\n    const chartData = apiData.chart_data;\r\n    console.log('Processing health performance data:', chartData);\r\n\r\n    // Format dates for better display\r\n    const formattedLabels = (chartData.dates || []).map((dateStr: string) => {\r\n      if (dateStr && dateStr.includes('-')) {\r\n        const [year, month] = dateStr.split('-');\r\n        const date = new Date(parseInt(year), parseInt(month) - 1);\r\n        return date.toLocaleDateString('en-US', {month: 'short', year: '2-digit'});\r\n      }\r\n      return dateStr;\r\n    });\r\n\r\n    return {\r\n      labels: formattedLabels,\r\n      healthScores: chartData.health_scores || [],\r\n      performanceScores: chartData.performance_scores || [],\r\n      maintenanceCounts: chartData.maintenance_counts || [],\r\n      metrics: chartData.metrics || {}\r\n    };\r\n  }\r\n\r\n  generateMockHealthPerformanceData() {\r\n    const months = 12;\r\n    const labels = [];\r\n    const healthScores = [];\r\n    const performanceScores = [];\r\n    const maintenanceCounts = [];\r\n\r\n    for (let i = 0; i < months; i++) {\r\n      const date = new Date();\r\n      date.setMonth(date.getMonth() - (months - 1 - i));\r\n      labels.push(date.toLocaleDateString('en-US', {month: 'short', year: '2-digit'}));\r\n\r\n      // Generate realistic health scores (declining trend)\r\n      const baseHealth = 85;\r\n      const decline = (i * 2) + Math.random() * 5;\r\n      healthScores.push(Math.max(60, Math.round(baseHealth - decline)));\r\n\r\n      // Generate performance scores (more stable)\r\n      const basePerformance = 90;\r\n      const variation = (Math.random() - 0.5) * 10;\r\n      performanceScores.push(Math.max(75, Math.round(basePerformance + variation)));\r\n\r\n      // Generate maintenance counts (random)\r\n      maintenanceCounts.push(Math.floor(Math.random() * 5) + 1);\r\n    }\r\n\r\n    return {\r\n      labels,\r\n      healthScores,\r\n      performanceScores,\r\n      maintenanceCounts,\r\n      metrics: {\r\n        average_health_score: Math.round(healthScores.reduce((a, b) => a + b, 0) / healthScores.length),\r\n        average_performance_score: Math.round(performanceScores.reduce((a, b) => a + b, 0) / performanceScores.length),\r\n        total_maintenance_count: maintenanceCounts.reduce((a, b) => a + b, 0),\r\n        health_trend: healthScores[healthScores.length - 1] - healthScores[0],\r\n        performance_trend: performanceScores[performanceScores.length - 1] - performanceScores[0]\r\n      }\r\n    };\r\n  }\r\n\r\n  refreshHealthPerformanceChart() {\r\n    this.loadHealthPerformanceChart();\r\n  }\r\n\r\n  forceCreateHealthPerformanceChart() {\r\n    console.log('Force creating health performance chart...');\r\n    console.log('Current health performance chart data:', this.healthPerformanceChartData);\r\n\r\n    // If no data, try to load it first\r\n    if (!this.healthPerformanceChartData) {\r\n      console.log('No data available, loading health performance chart...');\r\n      this.loadHealthPerformanceChart();\r\n      return;\r\n    }\r\n\r\n    this.createHealthPerformanceChart();\r\n  }\r\n\r\n  getHealthScoreColor(healthScore: number): string {\r\n    if (!healthScore) return 'text-gray-400';\r\n    if (healthScore >= 80) return 'text-green-600';\r\n    if (healthScore >= 60) return 'text-yellow-600';\r\n    if (healthScore >= 40) return 'text-orange-600';\r\n    return 'text-red-600';\r\n  }\r\n\r\n  getHealthStatusColor(healthScore: number): string {\r\n    if (!healthScore) return 'text-gray-600';\r\n    if (healthScore >= 80) return 'text-green-600';\r\n    if (healthScore >= 60) return 'text-yellow-600';\r\n    if (healthScore >= 40) return 'text-orange-600';\r\n    return 'text-red-600';\r\n  }\r\n\r\n  getHealthStatusText(healthScore: number): string {\r\n    if (!healthScore) return 'Unknown';\r\n    if (healthScore >= 80) return 'Excellent';\r\n    if (healthScore >= 60) return 'Good';\r\n    if (healthScore >= 40) return 'Fair';\r\n    return 'Poor';\r\n  }\r\n\r\n  getAssetAge(): string {\r\n    if (!this.asset?.purchase_date) return 'Unknown';\r\n\r\n    const purchaseDate = new Date(this.asset.purchase_date);\r\n    const now = new Date();\r\n    const diffTime = Math.abs(now.getTime() - purchaseDate.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays < 365) {\r\n      return `${Math.floor(diffDays / 30)} months`;\r\n    } else {\r\n      const years = Math.floor(diffDays / 365);\r\n      return `${years} year${years > 1 ? 's' : ''}`;\r\n    }\r\n  }\r\n\r\n  getUtilizationRate(): number {\r\n    // Calculate based on health score and asset age\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    // Simple calculation based on health score\r\n    if (healthScore >= 80) return 95;\r\n    if (healthScore >= 60) return 85;\r\n    if (healthScore >= 40) return 70;\r\n    return 50;\r\n  }\r\n\r\n  getUptimePercentage(): number {\r\n    // Calculate based on health score and maintenance history\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    if (healthScore >= 80) return 99.5;\r\n    if (healthScore >= 60) return 98.0;\r\n    if (healthScore >= 40) return 95.0;\r\n    return 90.0;\r\n  }\r\n\r\n  getMaintenanceFrequency(): string {\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    if (healthScore >= 80) return 'Low';\r\n    if (healthScore >= 60) return 'Medium';\r\n    if (healthScore >= 40) return 'High';\r\n    return 'Very High';\r\n  }\r\n\r\n  getMaintenanceFrequencyPercentage(): number {\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    if (healthScore >= 80) return 20;\r\n    if (healthScore >= 60) return 40;\r\n    if (healthScore >= 40) return 60;\r\n    return 80;\r\n  }\r\n\r\n  getCostEfficiency(): number {\r\n    // Calculate based on current value vs purchase price\r\n    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;\r\n    const currentValue = this.calculateCurrentValue();\r\n\r\n    if (purchasePrice === 0) return 85;\r\n\r\n    const efficiency = (currentValue / purchasePrice) * 100;\r\n    return Math.min(Math.max(efficiency, 0), 100);\r\n  }\r\n\r\n  formatCurrency(amount: number): string {\r\n    return amount.toLocaleString('en-US', {\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 2\r\n    });\r\n  }\r\n\r\n  calculateCurrentValue(): number {\r\n    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;\r\n    const depreciation = this.calculateDepreciation();\r\n    // Round to 2 decimal places to avoid floating point precision issues\r\n    return Math.round(Math.max(purchasePrice - depreciation, 0) * 100) / 100;\r\n  }\r\n\r\n  getROIColor(roi: number): string {\r\n    if (roi >= 0) return 'text-green-600';\r\n    return 'text-red-600';\r\n  }\r\n\r\n  getPerformanceTrend(): string {\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    if (healthScore >= 80) return 'Improving';\r\n    if (healthScore >= 60) return 'Stable';\r\n    if (healthScore >= 40) return 'Declining';\r\n    return 'Critical';\r\n  }\r\n\r\n  getCostEfficiencyTrend(): string {\r\n    const efficiency = this.getCostEfficiency();\r\n\r\n    if (efficiency >= 80) return 'Optimal';\r\n    if (efficiency >= 60) return 'Good';\r\n    if (efficiency >= 40) return 'Fair';\r\n    return 'Poor';\r\n  }\r\n\r\n  getMaintenanceTrend(): string {\r\n    const healthScore = this.asset?.health_score || 0;\r\n\r\n    if (healthScore >= 80) return 'Low';\r\n    if (healthScore >= 60) return 'Stable';\r\n    if (healthScore >= 40) return 'Increasing';\r\n    return 'High';\r\n  }\r\n\r\n  getTrendColor(trend: string): string {\r\n    switch (trend.toLowerCase()) {\r\n      case 'improving':\r\n      case 'optimal':\r\n      case 'low':\r\n        return 'text-green-600';\r\n      case 'stable':\r\n      case 'good':\r\n        return 'text-blue-600';\r\n      case 'declining':\r\n      case 'fair':\r\n      case 'increasing':\r\n        return 'text-yellow-600';\r\n      case 'critical':\r\n      case 'poor':\r\n      case 'high':\r\n        return 'text-red-600';\r\n      default:\r\n        return 'text-gray-600';\r\n    }\r\n  }\r\n\r\n  getTrendIcon(trend: string): string {\r\n    switch (trend.toLowerCase()) {\r\n      case 'improving':\r\n      case 'optimal':\r\n        return 'M13 7h8m0 0v8m0-8l-8 8-4-4-6 6';\r\n      case 'declining':\r\n      case 'critical':\r\n        return 'M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6';\r\n      case 'stable':\r\n      case 'good':\r\n      case 'fair':\r\n      case 'low':\r\n      case 'increasing':\r\n      case 'high':\r\n      default:\r\n        return 'M20 12H4';\r\n    }\r\n  }\r\n\r\n  getFinancialAlerts(): any[] {\r\n    const alerts = [];\r\n    const healthScore = this.asset?.health_score || 0;\r\n    const currentValue = this.calculateCurrentValue();\r\n    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;\r\n\r\n    if (healthScore < 40) {\r\n      alerts.push({\r\n        message: 'Asset health is critical - consider replacement',\r\n        class: 'bg-red-50 text-red-700'\r\n      });\r\n    }\r\n\r\n    if (currentValue < purchasePrice * 0.3) {\r\n      alerts.push({\r\n        message: 'Asset value has depreciated significantly',\r\n        class: 'bg-orange-50 text-orange-700'\r\n      });\r\n    }\r\n\r\n    if (this.asset?.warranty === 'None' || !this.asset?.warranty) {\r\n      alerts.push({\r\n        message: 'No warranty coverage - maintenance costs may increase',\r\n        class: 'bg-yellow-50 text-yellow-700'\r\n      });\r\n    }\r\n\r\n    return alerts;\r\n  }\r\n\r\n  getPredictiveAlerts(): any[] {\r\n    const alerts = [];\r\n    const healthScore = this.asset?.health_score || 0;\r\n    const age = this.getAssetAge();\r\n\r\n    if (healthScore < 60) {\r\n      alerts.push({\r\n        title: 'Maintenance Alert',\r\n        message: 'Schedule preventive maintenance within 30 days',\r\n        class: 'bg-orange-50 text-orange-700'\r\n      });\r\n    }\r\n\r\n    if (healthScore < 40) {\r\n      alerts.push({\r\n        title: 'Critical Alert',\r\n        message: 'Asset requires immediate attention',\r\n        class: 'bg-red-50 text-red-700'\r\n      });\r\n    }\r\n\r\n    if (age.includes('year') && parseInt(age) > 5) {\r\n      alerts.push({\r\n        title: 'Age Alert',\r\n        message: 'Asset is aging - consider replacement planning',\r\n        class: 'bg-blue-50 text-blue-700'\r\n      });\r\n    }\r\n\r\n    return alerts;\r\n  }\r\n\r\n  // Document management methods\r\n  uploadDocument() {\r\n    // TODO: Implement document upload\r\n    console.log('Upload document');\r\n  }\r\n\r\n  downloadDocument(documentId: string) {\r\n    // TODO: Implement document download\r\n    console.log('Download document:', documentId);\r\n  }\r\n\r\n  // Comparison methods\r\n  compareWithSimilar() {\r\n    // TODO: Compare with similar assets\r\n    console.log('Compare with similar assets');\r\n  }\r\n\r\n  // Deep linking methods\r\n  scrollToSection(sectionId: string) {\r\n    const element = document.getElementById(sectionId);\r\n    if (element) {\r\n      element.scrollIntoView({behavior: 'smooth'});\r\n    }\r\n  }\r\n\r\n  // Export methods\r\n  exportFinancialData() {\r\n    // TODO: Export financial data to Excel/CSV\r\n    console.log('Export financial data');\r\n  }\r\n\r\n  exportMaintenanceHistory() {\r\n    // TODO: Export maintenance history\r\n    console.log('Export maintenance history');\r\n  }\r\n\r\n  // Predictive maintenance methods\r\n  generateMaintenanceRecommendations() {\r\n    // TODO: Generate AI-powered maintenance recommendations\r\n    console.log('Generate maintenance recommendations');\r\n  }\r\n\r\n  // Cost tracking methods\r\n  addMaintenanceCost() {\r\n    // TODO: Add maintenance cost entry\r\n    console.log('Add maintenance cost');\r\n  }\r\n\r\n  viewCostHistory() {\r\n    // TODO: View detailed cost history\r\n    console.log('View cost history');\r\n  }\r\n\r\n  getWarrantyStatus(warrantyDate: string): string {\r\n    if (!warrantyDate) return 'No warranty';\r\n\r\n    const today = new Date();\r\n    const warranty = new Date(warrantyDate);\r\n\r\n    if (warranty < today) {\r\n      return 'Expired';\r\n    } else {\r\n      const daysLeft = Math.ceil((warranty.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\r\n      if (daysLeft <= 30) {\r\n        return `Expires in ${daysLeft} days`;\r\n      } else {\r\n        return 'Active';\r\n      }\r\n    }\r\n  }\r\n\r\n  getWarrantyStatusClass(warrantyDate: string): string {\r\n    const status = this.getWarrantyStatus(warrantyDate);\r\n    if (status === 'Expired') return 'text-red-600 font-medium';\r\n    if (status.includes('Expires in')) return 'text-orange-600 font-medium';\r\n    if (status === 'Active') return 'text-green-600 font-medium';\r\n    return 'text-gray-500';\r\n  }\r\n\r\n  // Image gallery methods\r\n  selectImage(index: number) {\r\n    if (this.asset.images && index >= 0 && index < this.asset.images.length) {\r\n      this.currentImageIndex = index;\r\n      this.selectedImageUrl = this.asset.images[index].image_url;\r\n    }\r\n  }\r\n\r\n  previousImage() {\r\n    if (this.asset.images && this.asset.images.length > 1) {\r\n      const newIndex = this.currentImageIndex > 0 ? this.currentImageIndex - 1 : this.asset.images.length - 1;\r\n      this.selectImage(newIndex);\r\n    }\r\n  }\r\n\r\n  nextImage() {\r\n    if (this.asset.images && this.asset.images.length > 1) {\r\n      const newIndex = this.currentImageIndex < this.asset.images.length - 1 ? this.currentImageIndex + 1 : 0;\r\n      this.selectImage(newIndex);\r\n    }\r\n  }\r\n\r\n  // Copy to clipboard methods\r\n  copyAssetId() {\r\n    const assetId = this.asset?.asset_id || this.asset?.id;\r\n    if (assetId) {\r\n      navigator.clipboard.writeText(assetId.toString()).then(() => {\r\n        console.log('Asset ID copied to clipboard');\r\n        // You could show a toast notification here\r\n      }).catch(err => {\r\n        console.error('Failed to copy asset ID:', err);\r\n      });\r\n    }\r\n  }\r\n\r\n  copySerialNumber() {\r\n    if (this.asset?.serial_number) {\r\n      navigator.clipboard.writeText(this.asset.serial_number).then(() => {\r\n        console.log('Serial number copied to clipboard');\r\n        // You could show a toast notification here\r\n      }).catch(err => {\r\n        console.error('Failed to copy serial number:', err);\r\n      });\r\n    }\r\n  }\r\n\r\n  // Financial calculation methods\r\n  calculateDepreciation(): number {\r\n    if (!this.asset?.purchase_price) return 0;\r\n    const currentValue = this.asset.current_value || this.asset.purchase_price;\r\n    // Round to 2 decimal places to avoid floating point precision issues\r\n    return Math.round((this.asset.purchase_price - currentValue) * 100) / 100;\r\n  }\r\n\r\n  calculateDepreciationRate(): number {\r\n    const usefulLife = this.asset?.depreciation || 10;\r\n    return Math.round((1 / usefulLife) * 100);\r\n  }\r\n\r\n  // Asset Depreciation Chart Methods\r\n  getMaxDepreciationValue(): number {\r\n    return this.asset?.purchase_price || 10000;\r\n  }\r\n\r\n  getDepreciationPath(): string {\r\n    const maxValue = this.getMaxDepreciationValue();\r\n    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : new Date();\r\n    const currentDate = new Date();\r\n    const usefulLife = 10;\r\n    const endDate = new Date(purchaseDate.getTime() + (usefulLife * 365.25 * 24 * 60 * 60 * 1000));\r\n\r\n    // Generate points for the depreciation line\r\n    const points: string[] = [];\r\n    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24);\r\n\r\n    for (let i = 0; i <= 12; i++) {\r\n      const days = (totalDays * i) / 12;\r\n      const date = new Date(purchaseDate.getTime() + (days * 24 * 60 * 60 * 1000));\r\n      const yearsElapsed = (date.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24 * 365.25);\r\n      const annualDepreciation = maxValue / usefulLife;\r\n      const totalDepreciation = Math.min(annualDepreciation * yearsElapsed, maxValue);\r\n      const currentValue = Math.max(0, maxValue - totalDepreciation);\r\n\r\n      const x = (i / 12) * 100;\r\n      const y = 100 - ((currentValue / maxValue) * 100);\r\n\r\n      points.push(`${x},${y}`);\r\n    }\r\n\r\n    return `M ${points.join(' L ')}`;\r\n  }\r\n\r\n  getCurrentPeriodX(): number {\r\n    if (!this.asset?.purchase_date) return 0;\r\n\r\n    const purchaseDate = new Date(this.asset.purchase_date);\r\n    const currentDate = new Date();\r\n    const usefulLife = 10;\r\n    const endDate = new Date(purchaseDate.getTime() + (usefulLife * 365.25 * 24 * 60 * 60 * 1000));\r\n\r\n    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24);\r\n    const elapsedDays = (currentDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24);\r\n\r\n    return Math.min(100, Math.max(0, (elapsedDays / totalDays) * 100));\r\n  }\r\n\r\n  getCurrentPeriodY(): number {\r\n    const currentValue = this.calculateCurrentValue();\r\n    const maxValue = this.getMaxDepreciationValue();\r\n    return 100 - ((currentValue / maxValue) * 100);\r\n  }\r\n\r\n  getDepreciationDates(): Date[] {\r\n    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : new Date();\r\n    const usefulLife = 10;\r\n    const endDate = new Date(purchaseDate.getTime() + (usefulLife * 365.25 * 24 * 60 * 60 * 1000));\r\n\r\n    const dates: Date[] = [];\r\n    for (let i = 0; i <= 12; i++) {\r\n      const days = ((endDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24) * i) / 12;\r\n      dates.push(new Date(purchaseDate.getTime() + (days * 24 * 60 * 60 * 1000)));\r\n    }\r\n\r\n    return dates;\r\n  }\r\n\r\n  calculateAnnualDepreciation(): number {\r\n    const maxValue = this.getMaxDepreciationValue();\r\n    const usefulLife = 10;\r\n    return maxValue / usefulLife;\r\n  }\r\n\r\n  calculateRemainingYears(): number {\r\n    if (!this.asset?.purchase_date) return 10;\r\n\r\n    const purchaseDate = new Date(this.asset.purchase_date);\r\n    const currentDate = new Date();\r\n    const usefulLife = 10;\r\n    const yearsElapsed = (currentDate.getTime() - purchaseDate.getTime()) / (1000 * 60 * 60 * 24 * 365.25);\r\n\r\n    // Round to 2 decimal places to avoid floating point precision issues\r\n    return Math.round(Math.max(0, usefulLife - yearsElapsed) * 100) / 100;\r\n  }\r\n\r\n  calculateTotalCostOfOwnership(): number {\r\n    const purchasePrice = this.asset?.purchase_price || 0;\r\n    const maintenanceCost = this.asset?.total_maintenance_cost || 0;\r\n    const operatingCost = this.asset?.operating_cost || 0;\r\n    return purchasePrice + maintenanceCost + operatingCost;\r\n  }\r\n\r\n  calculateROI(): number {\r\n    // Simple ROI calculation - would need more data for accurate calculation\r\n    const totalCost = this.calculateTotalCostOfOwnership();\r\n    const currentValue = this.asset?.current_value || this.asset?.purchase_price || 0;\r\n    if (totalCost === 0) return 0;\r\n    return Math.round(((currentValue - totalCost) / totalCost) * 100);\r\n  }\r\n\r\n  // Quick action methods\r\n  createWorkOrder() {\r\n    console.log('Create work order for asset:', this.asset?.id);\r\n    // TODO: Implement work order creation\r\n  }\r\n\r\n  transferAsset() {\r\n    this.showTransferModal = true;\r\n  }\r\n\r\n  onTransferComplete(response: any) {\r\n    console.log('Transfer completed:', response);\r\n    // Reload asset data to reflect the transfer\r\n    if (this.asset?.id) {\r\n      this.loadAsset(this.asset.id.toString());\r\n    }\r\n    // You could show a success message here\r\n  }\r\n\r\n  onTransferModalClose() {\r\n    this.showTransferModal = false;\r\n  }\r\n\r\n  duplicateAsset() {\r\n    if (this.asset) {\r\n      this.router.navigate(['/assets/create'], {\r\n        queryParams: {\r\n          duplicate: true,\r\n          sourceId: this.asset.id\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onImageError(event: any) {\r\n    console.warn('Asset image failed to load:', event.target.src);\r\n    event.target.onerror = null;\r\n    event.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=';\r\n  }\r\n\r\n  onCategoryIconError(event: any, category: any) {\r\n    if (category) {\r\n      category.iconError = true;\r\n    }\r\n  }\r\n\r\n  downloadQRCode() {\r\n    if (this.qrCodeDataUrl) {\r\n      const link = document.createElement('a');\r\n      link.href = this.qrCodeDataUrl;\r\n      link.download = `asset-${this.asset.id}-qr.png`;\r\n      link.click();\r\n    } else if (this.asset?.qr_code_url) {\r\n      // Fallback to server-generated QR code\r\n      const link = document.createElement('a');\r\n      link.href = this.asset.qr_code_url;\r\n      link.download = `asset-${this.asset.id}-qr.png`;\r\n      link.click();\r\n    } else {\r\n      // Generate QR code on demand\r\n      this.generateQRCode();\r\n    }\r\n  }\r\n\r\n  downloadBarcode() {\r\n    if (this.asset?.barcode_url) {\r\n      const link = document.createElement('a');\r\n      link.href = this.asset.barcode_url;\r\n      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;\r\n      link.click();\r\n    } else if (this.barcodeDataUrl) {\r\n      // Fallback to generated barcode\r\n      const link = document.createElement('a');\r\n      link.href = this.barcodeDataUrl;\r\n      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;\r\n      link.click();\r\n    } else {\r\n      // Generate barcode on demand\r\n      this.generateBarcode();\r\n    }\r\n  }\r\n\r\n  generateQRCode() {\r\n    if (!this.asset) return;\r\n\r\n    this.qrCodeLoading = true;\r\n    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;\r\n\r\n    QRCode.toDataURL(publicUrl, {\r\n      width: 300,\r\n      margin: 2,\r\n      color: {\r\n        dark: '#000000',\r\n        light: '#FFFFFF'\r\n      }\r\n    }).then((dataUrl) => {\r\n      this.qrCodeDataUrl = dataUrl;\r\n      this.qrCodeLoading = false;\r\n      // Auto-download after generation\r\n      // this.downloadQRCode();\r\n    }).catch((error) => {\r\n      console.error('Error generating QR code:', error);\r\n      this.qrCodeLoading = false;\r\n    });\r\n  }\r\n\r\n  generateBarcode() {\r\n    if (!this.asset?.asset_id) return;\r\n\r\n    this.barcodeLoading = true;\r\n    const assetId = this.asset.asset_id;\r\n\r\n    // Use QuickChart.io service to generate barcode\r\n    const barcodeUrl = `https://quickchart.io/barcode?c=${encodeURIComponent(assetId)}&chs=300x100&chld=L%7C0&choe=UTF-8`;\r\n\r\n    // Convert the URL to a data URL for download\r\n    fetch(barcodeUrl)\r\n      .then(response => response.blob())\r\n      .then(blob => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n          this.barcodeDataUrl = reader.result as string;\r\n          this.barcodeLoading = false;\r\n        };\r\n        reader.readAsDataURL(blob);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error generating barcode:', error);\r\n        this.barcodeLoading = false;\r\n      });\r\n  }\r\n\r\n  copyQRCodeUrl() {\r\n    if (this.asset?.qr_code_url) {\r\n      navigator.clipboard.writeText(this.asset.qr_code_url).then(() => {\r\n        console.log('QR code URL copied to clipboard');\r\n      });\r\n    }\r\n  }\r\n\r\n  copyPublicUrl() {\r\n    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;\r\n    navigator.clipboard.writeText(publicUrl).then(() => {\r\n      console.log('Public URL copied to clipboard');\r\n    });\r\n  }\r\n\r\n  get windowLocation(): string {\r\n    return window.location.origin;\r\n  }\r\n\r\n  showFullActivityHistory() {\r\n    this.loadFullActivityHistory();\r\n    this.showActivityHistoryModal = true;\r\n  }\r\n\r\n  closeActivityHistoryModal() {\r\n    this.showActivityHistoryModal = false;\r\n    // Reset pagination and filters when closing modal\r\n    this.activityHistoryParams = {\r\n      page: 1,\r\n      per_page: 15,\r\n      sort_by: 'created_at',\r\n      sort_dir: 'desc',\r\n      search: '',\r\n      action: '',\r\n      user_id: '',\r\n      date_from: '',\r\n      date_to: ''\r\n    };\r\n    this.activityHistoryPagination = null;\r\n  }\r\n\r\n  // Activity history pagination and filtering methods\r\n  onActivityHistoryPageChange(page: number) {\r\n    this.activityHistoryParams['page'] = page;\r\n    this.loadFullActivityHistory();\r\n  }\r\n\r\n  onActivityHistorySearch(search: string) {\r\n    this.activityHistoryParams['search'] = search;\r\n    this.activityHistoryParams['page'] = 1; // Reset to first page\r\n    this.loadFullActivityHistory();\r\n  }\r\n\r\n  onActivityHistoryFilter(filterType: string, value: string) {\r\n    this.activityHistoryParams[filterType] = value;\r\n    this.activityHistoryParams['page'] = 1; // Reset to first page\r\n    this.loadFullActivityHistory();\r\n  }\r\n\r\n  onActivityHistorySort(sortBy: string, sortDir: string) {\r\n    this.activityHistoryParams['sort_by'] = sortBy;\r\n    this.activityHistoryParams['sort_dir'] = sortDir;\r\n    this.loadFullActivityHistory();\r\n  }\r\n\r\n  clearActivityHistoryFilters() {\r\n    this.activityHistoryParams = {\r\n      page: 1,\r\n      per_page: 15,\r\n      sort_by: 'created_at',\r\n      sort_dir: 'desc',\r\n      search: '',\r\n      action: '',\r\n      user_id: '',\r\n      date_from: '',\r\n      date_to: ''\r\n    };\r\n    this.loadFullActivityHistory();\r\n  }\r\n\r\n  loadFullActivityHistory() {\r\n    if (!this.asset?.id) return;\r\n\r\n    this.activityHistoryLoading = true;\r\n    this.activityHistoryError = '';\r\n\r\n    this.assetService.getActivityHistory(this.asset.id, this.activityHistoryParams)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.fullActivityHistory = response.data.data || [];\r\n            this.activityHistoryPagination = response.data;\r\n          } else {\r\n            this.activityHistoryError = response.message || 'Failed to load full activity history';\r\n          }\r\n          this.activityHistoryLoading = false;\r\n        },\r\n        error: (error) => {\r\n          this.activityHistoryError = error.error?.message || 'An error occurred while loading full activity history';\r\n          this.activityHistoryLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  viewFullImage(imageUrl: string) {\r\n    window.open(imageUrl, '_blank');\r\n  }\r\n\r\n  // Helper methods for activity history data formatting\r\n  formatActivityBeforeAfter(before: any, after: any): string {\r\n    if (!before && !after) return '';\r\n\r\n    let changes: string[] = [];\r\n\r\n    if (before && after) {\r\n      // Compare before and after to show what changed\r\n      const beforeKeys = Object.keys(before);\r\n      const afterKeys = Object.keys(after);\r\n\r\n      for (const key of afterKeys) {\r\n        if (before[key] !== after[key]) {\r\n          const fieldName = this.getFieldDisplayName(key);\r\n          if (fieldName) {\r\n            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} → ${this.formatFieldValue(after[key])}`);\r\n          }\r\n        }\r\n      }\r\n    } else if (after) {\r\n      // New record - show key fields\r\n      const keyFields = ['name', 'type', 'status', 'location_id', 'department_id', 'purchase_price'];\r\n      for (const key of keyFields) {\r\n        if (after[key] !== undefined && after[key] !== null) {\r\n          const fieldName = this.getFieldDisplayName(key);\r\n          if (fieldName) {\r\n            changes.push(`${fieldName}: ${this.formatFieldValue(after[key])}`);\r\n          }\r\n        }\r\n      }\r\n    } else if (before) {\r\n      // Deleted record - show what was deleted\r\n      const keyFields = ['name', 'type', 'status'];\r\n      for (const key of keyFields) {\r\n        if (before[key] !== undefined && before[key] !== null) {\r\n          const fieldName = this.getFieldDisplayName(key);\r\n          if (fieldName) {\r\n            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} (deleted)`);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return changes.length > 0 ? changes.join(', ') : '';\r\n  }\r\n\r\n  getFieldDisplayName(fieldKey: string): string {\r\n    const fieldMap: { [key: string]: string } = {\r\n      'name': 'Asset Name',\r\n      'type': 'Type',\r\n      'model': 'Model',\r\n      'status': 'Status',\r\n      'description': 'Description',\r\n      'location_id': 'Location',\r\n      'department_id': 'Department',\r\n      'purchase_price': 'Purchase Price',\r\n      'purchase_date': 'Purchase Date',\r\n      'serial_number': 'Serial Number',\r\n      'asset_id': 'Asset ID',\r\n      'warranty': 'Warranty',\r\n      'insurance': 'Insurance',\r\n      'depreciation': 'Depreciation',\r\n      'health_score': 'Health Score',\r\n      'manufacturer': 'Manufacturer',\r\n      'category_id': 'Category'\r\n    };\r\n\r\n    return fieldMap[fieldKey] || fieldKey.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n  }\r\n\r\n  formatFieldValue(value: any): string {\r\n    if (value === null || value === undefined) return 'N/A';\r\n    if (typeof value === 'boolean') return value ? 'Yes' : 'No';\r\n    if (typeof value === 'number') {\r\n      // Format currency for price fields\r\n      if (value.toString().includes('.')) {\r\n        return `$${value.toFixed(2)}`;\r\n      }\r\n      return value.toString();\r\n    }\r\n    if (typeof value === 'string') {\r\n      // Check if it's a date\r\n      if (value.match(/^\\d{4}-\\d{2}-\\d{2}/)) {\r\n        return new Date(value).toLocaleDateString();\r\n      }\r\n      return value;\r\n    }\r\n    return JSON.stringify(value);\r\n  }\r\n\r\n  getUserDisplayName(user: any): string {\r\n    if (!user) return 'System';\r\n    if (user.name) return user.name;\r\n    if (user.email) return user.email.split('@')[0]; // Use email prefix as fallback\r\n    return 'Unknown User';\r\n  }\r\n\r\n  getActivityIcon(action: string): string {\r\n    const iconMap: { [key: string]: string } = {\r\n      'created': 'M12 6v6m0 0v6m0-6h6m-6 0H6',\r\n      'updated': 'M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z',\r\n      'deleted': 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16',\r\n      'transferred': 'M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4',\r\n      'maintenance': 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z',\r\n      'imported': 'M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10'\r\n    };\r\n\r\n    return iconMap[action] || 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z';\r\n  }\r\n\r\n  getActivityColor(action: string): string {\r\n    const colorMap: { [key: string]: string } = {\r\n      'created': 'bg-green-100 text-green-600',\r\n      'updated': 'bg-blue-100 text-blue-600',\r\n      'deleted': 'bg-red-100 text-red-600',\r\n      'transferred': 'bg-purple-100 text-purple-600',\r\n      'maintenance': 'bg-orange-100 text-orange-600',\r\n      'imported': 'bg-indigo-100 text-indigo-600'\r\n    };\r\n\r\n    return colorMap[action] || 'bg-gray-100 text-gray-600';\r\n  }\r\n\r\n  sharePublicUrl() {\r\n    if (this.asset?.id) {\r\n      const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;\r\n      navigator.clipboard.writeText(publicUrl).then(() => {\r\n        // Could add a toast notification here\r\n        console.log('Public URL copied to clipboard:', publicUrl);\r\n        alert('Public URL copied to clipboard!');\r\n      }).catch(err => {\r\n        console.error('Failed to copy URL:', err);\r\n        alert('Failed to copy URL to clipboard');\r\n      });\r\n    }\r\n  }\r\n}\r\n","<!-- Asset View Page -->\r\n<div class=\"min-h-screen bg-gray-50 asset-view-container\">\r\n  <!-- Header -->\r\n  <div class=\"bg-white border-b border-gray-200 px-6 py-4 print-hide\">\r\n    <div class=\"flex items-center justify-between\">\r\n      <!-- Back Button and Breadcrumb -->\r\n      <div class=\"flex items-center space-x-4\">\r\n        <!-- Breadcrumb -->\r\n        <nav class=\"flex\" aria-label=\"Breadcrumb\">\r\n          <ol class=\"flex items-center space-x-2\">\r\n            <li>\r\n              <a routerLink=\"/assets/list\" class=\"text-gray-500 hover:text-gray-700 transition-colors\">Assets</a>\r\n            </li>\r\n            <li>\r\n              <svg class=\"w-4 h-4 text-gray-400 mx-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path>\r\n              </svg>\r\n            </li>\r\n            <li class=\"text-gray-900 font-medium\">{{ asset?.name || 'Asset Details' }}</li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n\r\n      <!-- Quick Actions -->\r\n      <div class=\"flex items-center space-x-3\">\r\n        <button\r\n          (click)=\"editAsset()\"\r\n          class=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\r\n          </svg>\r\n          <span>Edit Asset</span>\r\n        </button>\r\n\r\n        <!-- 3-Dot Menu -->\r\n        <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n          <button\r\n            (click)=\"showActionsDropdown = !showActionsDropdown\"\r\n            class=\"flex items-center justify-center w-10 h-10 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\">\r\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <circle cx=\"12\" cy=\"5\" r=\"2\"/>\r\n              <circle cx=\"12\" cy=\"12\" r=\"2\"/>\r\n              <circle cx=\"12\" cy=\"19\" r=\"2\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <!-- Dropdown Menu -->\r\n          <div *ngIf=\"showActionsDropdown\"\r\n               class=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\r\n            <button\r\n              (click)=\"transferAsset(); showActionsDropdown = false\"\r\n              class=\"w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n              <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"></path>\r\n              </svg>\r\n              <span class=\"text-gray-700\">Transfer Asset</span>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"duplicateAsset(); showActionsDropdown = false\"\r\n              class=\"w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n              <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n              </svg>\r\n              <span class=\"text-gray-700\">Duplicate</span>\r\n            </button>\r\n\r\n            <div class=\"border-t border-gray-100 my-2\"></div>\r\n\r\n            <button\r\n              (click)=\"printAsset(); showActionsDropdown = false\"\r\n              class=\"w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n              <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\"></path>\r\n              </svg>\r\n              <span class=\"text-gray-700\">Print</span>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"exportAsset(); showActionsDropdown = false\"\r\n              class=\"w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n              <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z\"></path>\r\n              </svg>\r\n              <span class=\"text-gray-700\">Export</span>\r\n            </button>\r\n\r\n            <button\r\n              (click)=\"sharePublicUrl(); showActionsDropdown = false\"\r\n              class=\"w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\">\r\n              <svg class=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"></path>\r\n              </svg>\r\n              <span class=\"text-gray-700\">Share Public URL</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading State -->\r\n  <div *ngIf=\"loading\" class=\"flex items-center justify-center py-20\">\r\n    <div class=\"text-center\">\r\n      <div class=\"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4\">\r\n        <svg class=\"animate-spin w-8 h-8 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n          <path class=\"opacity-75\" fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n        </svg>\r\n      </div>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Loading Asset</h3>\r\n      <p class=\"text-sm text-gray-500\">Please wait while we fetch the asset details...</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Error State -->\r\n  <div *ngIf=\"error && !loading\" class=\"flex items-center justify-center py-20\">\r\n    <div class=\"text-center\">\r\n      <div class=\"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4\">\r\n        <svg class=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n        </svg>\r\n      </div>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Error Loading Asset</h3>\r\n      <p class=\"text-sm text-gray-500 mb-4\">{{ error }}</p>\r\n      <button\r\n        (click)=\"goBack()\"\r\n        class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n        Back to Assets\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Main Content -->\r\n  <div *ngIf=\"asset && !loading\" class=\"px-6 py-6\">\r\n    <!-- Asset Header -->\r\n    <div class=\"bg-white rounded-lg p-6 mb-6 shadow-sm border border-gray-200\">\r\n      <div class=\"flex items-start justify-between mb-4\">\r\n        <div class=\"flex items-center space-x-4\">\r\n          <div class=\"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n            <svg class=\"w-8 h-8 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    [attr.d]=\"getAssetTypeIcon()\"></path>\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">{{ asset.name }}</h1>\r\n            <div class=\"flex items-center space-x-4\">\r\n              <span\r\n                *ngIf=\"asset.asset_status\"\r\n                [style.background-color]=\"asset.asset_status.color + '20'\"\r\n                [style.color]=\"asset.asset_status.color\"\r\n                class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\">\r\n                {{ asset.asset_status.name }}\r\n              </span>\r\n              <span class=\"text-gray-500\">{{ getAssetTypeName(asset.type) }}</span>\r\n              <span class=\"text-gray-500\">•</span>\r\n              <span class=\"text-gray-500\">{{ asset.category?.name || 'General' }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Asset ID with Copy -->\r\n        <div class=\"text-right\">\r\n          <div class=\"flex items-center space-x-2 mb-2\">\r\n            <span class=\"text-sm text-gray-500\">Asset ID:</span>\r\n            <button\r\n              (click)=\"copyAssetId()\"\r\n              class=\"flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors\">\r\n              <span>{{ asset.asset_id || asset.id }}</span>\r\n              <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <div *ngIf=\"asset.serial_number\" class=\"flex items-center space-x-2\">\r\n            <span class=\"text-sm text-gray-500\">Serial:</span>\r\n            <button\r\n              (click)=\"copySerialNumber()\"\r\n              class=\"flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors\">\r\n              <span>{{ asset.serial_number }}</span>\r\n              <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Main Content Grid -->\r\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n      <!-- Left Column -->\r\n      <div class=\"lg:col-span-2 space-y-6\">\r\n        <!-- Image Gallery -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center space-x-2 mb-4\">\r\n            <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n            </svg>\r\n            <h2 class=\"text-lg font-semibold text-gray-900\">Asset Images</h2>\r\n          </div>\r\n\r\n          <div *ngIf=\"asset.images && asset.images.length > 0; else noImages\">\r\n            <!-- Main Image Display -->\r\n            <div class=\"mb-4\">\r\n              <div class=\"relative bg-gray-100 rounded-lg overflow-hidden\" style=\"height: 400px;\">\r\n                <img\r\n                  [src]=\"selectedImageUrl || asset.images[0].image_url\"\r\n                  [alt]=\"asset.name\"\r\n                  class=\"w-full h-full object-contain bg-white cursor-pointer\"\r\n                  (click)=\"viewFullImage(selectedImageUrl || asset.images[0].image_url)\"\r\n                  (error)=\"onImageError($event)\">\r\n\r\n                <!-- Navigation Arrows -->\r\n                <button\r\n                  *ngIf=\"asset.images.length > 1\"\r\n                  (click)=\"previousImage()\"\r\n                  class=\"absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all\">\r\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path>\r\n                  </svg>\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"asset.images.length > 1\"\r\n                  (click)=\"nextImage()\"\r\n                  class=\"absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all\">\r\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path>\r\n                  </svg>\r\n                </button>\r\n\r\n                <!-- Image Counter -->\r\n                <div class=\"absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm\">\r\n                  {{ currentImageIndex + 1 }} / {{ asset.images.length }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Thumbnail Gallery -->\r\n            <div *ngIf=\"asset.images.length > 1\" class=\"grid grid-cols-6 gap-2\">\r\n              <div\r\n                *ngFor=\"let image of asset.images; let i = index\"\r\n                (click)=\"selectImage(i)\"\r\n                class=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all\"\r\n                [class.border-blue-500]=\"i === currentImageIndex\"\r\n                [class.border-gray-200]=\"i !== currentImageIndex\">\r\n                <img\r\n                  [src]=\"image.image_url\"\r\n                  [alt]=\"'Asset image ' + (i + 1)\"\r\n                  class=\"w-full h-full object-cover\"\r\n                  (error)=\"onImageError($event)\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <ng-template #noImages>\r\n            <div class=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n              <svg class=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n              </svg>\r\n              <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Images Available</h3>\r\n              <p class=\"text-gray-600\">No images have been uploaded for this asset.</p>\r\n            </div>\r\n          </ng-template>\r\n        </div>\r\n\r\n        <!-- Basic Information -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center space-x-2 mb-6\">\r\n            <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\r\n            </svg>\r\n            <h2 class=\"text-lg font-semibold text-gray-900\">Basic Information</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            <!-- Left Column -->\r\n            <div class=\"space-y-6\">\r\n              <!-- Asset Name -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Asset Name</h4>\r\n                <p class=\"text-lg font-semibold text-gray-900\">{{ asset?.name || 'Unnamed Asset' }}</p>\r\n              </div>\r\n\r\n              <!-- Description -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Description</h4>\r\n                <div class=\"relative\">\r\n                  <p class=\"text-gray-600 leading-relaxed\" [class.line-clamp-3]=\"!descriptionExpanded\">\r\n                    {{ asset?.description || 'No description available' }}\r\n                  </p>\r\n                  <button\r\n                    *ngIf=\"asset?.description && asset.description.length > 150\"\r\n                    (click)=\"descriptionExpanded = !descriptionExpanded\"\r\n                    class=\"text-blue-600 hover:text-blue-700 text-sm font-medium mt-2\">\r\n                    {{ descriptionExpanded ? 'Show Less' : 'Show More' }}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Category with Icon -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Category</h4>\r\n                <div class=\"flex items-center space-x-3\">\r\n                  <div class=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                    <img\r\n                      *ngIf=\"asset?.category?.icon && !asset.category.iconError\"\r\n                      [src]=\"asset.category.icon\"\r\n                      [alt]=\"asset.category.name\"\r\n                      class=\"w-5 h-5\"\r\n                      (error)=\"onCategoryIconError($event, asset.category)\">\r\n                    <svg\r\n                      *ngIf=\"!asset?.category?.icon || asset.category.iconError\"\r\n                      class=\"w-5 h-5 text-blue-600\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n                    </svg>\r\n                  </div>\r\n                  <span class=\"text-gray-900 font-medium\">{{ asset?.category?.name || 'Uncategorized' }}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Current Status with Badge -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Status</h4>\r\n                <div *ngIf=\"asset.asset_status\" class=\"flex items-center space-x-2\">\r\n                  <span\r\n                    [style.background-color]=\"asset.asset_status.color + '20'\"\r\n                    [style.color]=\"asset.asset_status.color\"\r\n                    class=\"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium\">\r\n                    {{ asset.asset_status.name }}\r\n                  </span>\r\n                </div>\r\n                <span *ngIf=\"!asset.asset_status\" class=\"text-gray-900\">Not specified</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Middle Column -->\r\n            <div class=\"space-y-6\">\r\n              <!-- Asset ID/Barcode -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Asset ID</h4>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <span class=\"text-gray-900 font-mono text-lg\">{{ asset?.asset_id || 'N/A' }}</span>\r\n                  <button\r\n                    (click)=\"copyAssetId()\"\r\n                    class=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                    title=\"Copy Asset ID\">\r\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Location with Link -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Location</h4>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                          d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                          d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                  </svg>\r\n                  <a\r\n                    *ngIf=\"asset?.location?.id\"\r\n                    [routerLink]=\"['/locations', asset.location.id]\"\r\n                    class=\"text-blue-600 hover:underline cursor-pointer\">\r\n                    {{ asset.location.name }}\r\n                  </a>\r\n                  <span *ngIf=\"!asset?.location?.id\"\r\n                        class=\"text-gray-900\">{{ asset?.location?.name || 'No location assigned' }}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Department -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Department</h4>\r\n                <span class=\"text-gray-900\">{{ asset?.department?.name || 'Not assigned' }}</span>\r\n              </div>\r\n\r\n              <!-- Creation Date -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Created</h4>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                          d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-gray-900\">{{ asset?.created_at | date:'MMM d, y' }}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Last Modified Date -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Last Modified</h4>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                          d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                  </svg>\r\n                  <span class=\"text-gray-900\">{{ asset?.updated_at | date:'MMM d, y' }}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Parent Asset -->\r\n              <div *ngIf=\"asset?.parent\">\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Parent Asset</h4>\r\n                <a [routerLink]=\"['/assets/preview', asset.parent.id]\"\r\n                   class=\"text-blue-600 hover:underline cursor-pointer\">\r\n                  {{ asset.parent.name }} ({{ asset.parent.asset_id }})\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Right Column - QR Code and Barcode -->\r\n            <div class=\"space-y-6\">\r\n              <!-- QR Code Display -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">QR Code</h4>\r\n                <div class=\"bg-gray-50 rounded-lg p-4 flex flex-col items-center\">\r\n                  <div\r\n                    class=\"w-32 h-32 bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center\">\r\n                    <!-- Generated QR Code -->\r\n                    <img *ngIf=\"qrCodeDataUrl\" [src]=\"qrCodeDataUrl\" alt=\"QR Code\" class=\"w-full h-full object-contain\">\r\n\r\n                    <!-- Server QR Code (fallback) -->\r\n                    <img *ngIf=\"!qrCodeDataUrl && asset?.qr_code_url\" [src]=\"asset.qr_code_url\" alt=\"QR Code\"\r\n                         class=\"w-full h-full object-contain\">\r\n\r\n                    <!-- Loading state -->\r\n                    <div *ngIf=\"qrCodeLoading\" class=\"flex items-center justify-center\">\r\n                      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n                    </div>\r\n\r\n                    <!-- Default placeholder -->\r\n                    <div *ngIf=\"!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && asset?.id\"\r\n                         class=\"text-center\">\r\n                      <svg class=\"w-24 h-24 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                          d=\"M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z\"/>\r\n                      </svg>\r\n                      <p class=\"text-xs text-gray-500 mt-2 font-mono\">{{ asset.asset_id || asset.id }}</p>\r\n                    </div>\r\n\r\n                    <!-- Error state -->\r\n                    <div *ngIf=\"!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && !asset?.id\"\r\n                         class=\"text-center text-gray-400\">\r\n                      <svg class=\"w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                              d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                      </svg>\r\n                      <p class=\"text-xs mt-2\">No Asset ID</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- QR Code Actions -->\r\n                  <div class=\"mt-3 flex space-x-2\">\r\n                    <button\r\n                      *ngIf=\"asset?.id\"\r\n                      (click)=\"downloadQRCode()\"\r\n                      class=\"text-sm text-blue-600 hover:text-blue-700 font-medium\">\r\n                      Download\r\n                    </button>\r\n                    <button\r\n                      *ngIf=\"asset?.id\"\r\n                      (click)=\"copyPublicUrl()\"\r\n                      class=\"text-sm text-green-600 hover:text-green-700 font-medium\">\r\n                      Copy URL\r\n                    </button>\r\n                  </div>\r\n\r\n                  <!-- QR Code Information -->\r\n                  <div class=\"mt-2 text-xs text-gray-500 text-center\">\r\n                    <p>Scan to access public page</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Barcode Display -->\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-2\">Barcode</h4>\r\n                <div class=\"bg-gray-50 rounded-lg p-4 flex flex-col items-center\">\r\n                  <div\r\n                    class=\"w-full bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center\">\r\n                    <!-- Server Barcode -->\r\n                    <img *ngIf=\"asset?.barcode_url\" [src]=\"asset.barcode_url\" alt=\"Barcode\"\r\n                         class=\"w-full h-20 object-contain\">\r\n\r\n                    <!-- Generated Barcode (fallback) -->\r\n                    <img *ngIf=\"!asset?.barcode_url && barcodeDataUrl\" [src]=\"barcodeDataUrl\" alt=\"Barcode\"\r\n                         class=\"w-full h-20 object-contain\">\r\n\r\n                    <!-- Loading state -->\r\n                    <div *ngIf=\"barcodeLoading\" class=\"flex items-center justify-center py-4\">\r\n                      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n                    </div>\r\n\r\n                    <!-- Default placeholder -->\r\n                    <div *ngIf=\"!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && asset?.asset_id\"\r\n                         class=\"text-center py-4\">\r\n                      <svg class=\"w-16 h-16 text-gray-400 mx-auto\" fill=\"none\" stroke=\"currentColor\"\r\n                           viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\r\n                      </svg>\r\n                      <p class=\"text-xs text-gray-500 mt-2 font-mono\">{{ asset.asset_id }}</p>\r\n                    </div>\r\n\r\n                    <!-- Error state -->\r\n                    <div *ngIf=\"!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && !asset?.asset_id\"\r\n                         class=\"text-center text-gray-400 py-4\">\r\n                      <svg class=\"w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                              d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                      </svg>\r\n                      <p class=\"text-xs mt-2\">No Asset ID</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Barcode Actions -->\r\n                  <div class=\"mt-3 flex space-x-2\">\r\n                    <button\r\n                      *ngIf=\"asset?.asset_id\"\r\n                      (click)=\"downloadBarcode()\"\r\n                      class=\"text-sm text-blue-600 hover:text-blue-700 font-medium\">\r\n                      Download\r\n                    </button>\r\n                    <button\r\n                      *ngIf=\"asset?.asset_id\"\r\n                      (click)=\"copyAssetId()\"\r\n                      class=\"text-sm text-green-600 hover:text-green-700 font-medium\">\r\n                      Copy ID\r\n                    </button>\r\n                  </div>\r\n\r\n                  <!-- Barcode Information -->\r\n                  <div class=\"mt-2 text-xs text-gray-500 text-center\">\r\n                    <p>Scan for asset identification</p>\r\n                    <p *ngIf=\"asset?.asset_id\" class=\"mt-1 font-mono\">{{ asset.asset_id }}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Technical Specifications -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center space-x-2 mb-4\">\r\n            <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n            </svg>\r\n            <h2 class=\"text-lg font-semibold text-gray-900\">Technical Specifications</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div class=\"space-y-4\">\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Asset Status</h4>\r\n                <div *ngIf=\"asset.asset_status\" class=\"flex items-center space-x-2\">\r\n                  <span\r\n                    [style.background-color]=\"asset.asset_status.color + '20'\"\r\n                    [style.color]=\"asset.asset_status.color\"\r\n                    class=\"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium\">\r\n                    {{ asset.asset_status.name }}\r\n                  </span>\r\n                  <span *ngIf=\"asset.asset_status.description\" class=\"text-xs text-gray-500\">\r\n                    {{ asset.asset_status.description }}\r\n                  </span>\r\n                </div>\r\n                <span *ngIf=\"!asset.asset_status\" class=\"text-gray-900\">Not specified</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Manufacturer</h4>\r\n                <span class=\"text-gray-900\">{{ asset.manufacturer || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Model</h4>\r\n                <span class=\"text-gray-900\">{{ asset.model || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div *ngIf=\"asset.serial_number\">\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Serial Number</h4>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <span class=\"text-gray-900 font-mono\">{{ asset.serial_number }}</span>\r\n                  <button\r\n                    (click)=\"copySerialNumber()\"\r\n                    class=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\">\r\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Brand</h4>\r\n                <span class=\"text-gray-900\">{{ asset.brand || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Capacity</h4>\r\n                <span class=\"text-gray-900\">{{ asset.capacity || 'Not specified' }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"space-y-4\">\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Dimensions</h4>\r\n                <span class=\"text-gray-900\">{{ asset.dimensions || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Weight</h4>\r\n                <span class=\"text-gray-900\">{{ asset.weight || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Power Requirements</h4>\r\n                <span class=\"text-gray-900\">{{ asset.power_requirements || 'Not specified' }}</span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 class=\"text-sm font-medium text-gray-700 mb-1\">Operating Conditions</h4>\r\n                <span class=\"text-gray-900\">{{ asset.operating_conditions || 'Standard conditions' }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Additional Specifications -->\r\n          <div *ngIf=\"asset.specifications\" class=\"mt-6 pt-6 border-t border-gray-200\">\r\n            <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Additional Specifications</h4>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div *ngFor=\"let spec of asset.specifications | keyvalue\" class=\"flex justify-between\">\r\n                <span class=\"text-sm text-gray-600\">{{ spec.key }}:</span>\r\n                <span class=\"text-sm text-gray-900 font-medium\">{{ spec.value }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Health & Performance Chart -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center justify-between mb-6\">\r\n            <div class=\"flex items-center space-x-2\">\r\n              <div class=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                <svg class=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\r\n                </svg>\r\n              </div>\r\n              <h2 class=\"text-lg font-semibold text-gray-900\">Health & Performance</h2>\r\n            </div>\r\n            <div class=\"flex items-center space-x-2\">\r\n              <button\r\n                (click)=\"refreshHealthPerformanceChart()\"\r\n                class=\"flex items-center space-x-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n                </svg>\r\n                <span>Refresh</span>\r\n              </button>\r\n              <button\r\n                (click)=\"forceCreateHealthPerformanceChart()\"\r\n                class=\"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                <span>Debug</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Summary Metrics -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\"\r\n               *ngIf=\"healthPerformanceChartData?.chart_data?.metrics\">\r\n            <div class=\"bg-green-50 rounded-lg p-4\">\r\n              <div class=\"text-sm text-gray-600 mb-1\">Average Health Score</div>\r\n              <div\r\n                class=\"text-2xl font-bold text-green-600\">{{ healthPerformanceChartData.chart_data.metrics.average_health_score }}\r\n                %\r\n              </div>\r\n            </div>\r\n            <div class=\"bg-blue-50 rounded-lg p-4\">\r\n              <div class=\"text-sm text-gray-600 mb-1\">Average Performance</div>\r\n              <div\r\n                class=\"text-2xl font-bold text-blue-600\">{{ healthPerformanceChartData.chart_data.metrics.average_performance_score }}\r\n                %\r\n              </div>\r\n            </div>\r\n            <div class=\"bg-orange-50 rounded-lg p-4\">\r\n              <div class=\"text-sm text-gray-600 mb-1\">Total Maintenance</div>\r\n              <div\r\n                class=\"text-2xl font-bold text-orange-600\">{{ healthPerformanceChartData.chart_data.metrics.total_maintenance_count }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Health & Performance Chart -->\r\n          <div class=\"space-y-4\">\r\n            <div class=\"text-center\">\r\n              <h3 class=\"text-sm font-medium text-gray-700\">Health & Performance Timeline (Last 12 Months)</h3>\r\n            </div>\r\n\r\n            <!-- Loading State -->\r\n            <div *ngIf=\"healthPerformanceChartLoading\"\r\n                 class=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg\">\r\n              <div class=\"text-center\">\r\n                <div class=\"inline-flex items-center justify-center w-8 h-8 bg-green-100 rounded-full mb-2\">\r\n                  <svg class=\"animate-spin w-4 h-4 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                    <path class=\"opacity-75\" fill=\"currentColor\"\r\n                          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                </div>\r\n                <p class=\"text-sm text-gray-500\">Loading health & performance data...</p>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Error State -->\r\n            <div *ngIf=\"healthPerformanceChartError && !healthPerformanceChartLoading\"\r\n                 class=\"flex items-center justify-center h-64 bg-red-50 rounded-lg\">\r\n              <div class=\"text-center\">\r\n                <div class=\"text-red-600 text-sm mb-2\">{{ healthPerformanceChartError }}</div>\r\n                <button\r\n                  (click)=\"loadHealthPerformanceChart()\"\r\n                  class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n                  Try Again\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Chart Canvas -->\r\n            <div *ngIf=\"!healthPerformanceChartLoading && !healthPerformanceChartError\"\r\n                 class=\"relative h-64 bg-white border border-gray-200 rounded-lg p-4\">\r\n              <canvas id=\"healthPerformanceChart\" width=\"400\" height=\"200\"></canvas>\r\n            </div>\r\n\r\n            <!-- Chart Legend -->\r\n            <div *ngIf=\"!healthPerformanceChartLoading && !healthPerformanceChartError\"\r\n                 class=\"text-center text-xs text-gray-500\">\r\n              Green: Health Score | Blue: Performance Score | Orange: Maintenance Count\r\n            </div>\r\n\r\n            <!-- Trend Indicators -->\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\"\r\n                 *ngIf=\"healthPerformanceChartData?.chart_data?.metrics\">\r\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                <div class=\"text-sm text-gray-600\">Health Trend</div>\r\n                <div class=\"text-lg font-semibold\"\r\n                     [ngClass]=\"healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? 'text-green-600' : 'text-red-600'\">\r\n                  {{ healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? '+' : '' }}{{ healthPerformanceChartData.chart_data.metrics.health_trend }}\r\n                  %\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                <div class=\"text-sm text-gray-600\">Performance Trend</div>\r\n                <div class=\"text-lg font-semibold\"\r\n                     [ngClass]=\"healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? 'text-green-600' : 'text-red-600'\">\r\n                  {{ healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? '+' : '' }}{{ healthPerformanceChartData.chart_data.metrics.performance_trend }}\r\n                  %\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Asset Depreciation Chart -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center justify-between mb-4\">\r\n            <div class=\"flex items-center space-x-2\">\r\n              <div class=\"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n                <svg class=\"w-4 h-4 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\"></path>\r\n                </svg>\r\n              </div>\r\n              <h2 class=\"text-lg font-semibold text-gray-900\">Asset Depreciation</h2>\r\n            </div>\r\n            <div class=\"flex items-center space-x-2\">\r\n              <button\r\n                (click)=\"refreshDepreciationChart()\"\r\n                class=\"flex items-center space-x-2 px-3 py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n                </svg>\r\n                <span>Refresh</span>\r\n              </button>\r\n              <button\r\n                (click)=\"forceCreateChart()\"\r\n                class=\"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                <span>Debug</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Summary Values -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n            <div class=\"bg-gray-50 rounded-lg p-4\">\r\n              <div class=\"text-sm text-gray-600 mb-1\">Original Value</div>\r\n              <div class=\"text-2xl font-bold text-gray-900\">${{ formatCurrency(asset?.purchase_price || 0) }}</div>\r\n            </div>\r\n            <div class=\"bg-blue-50 rounded-lg p-4\">\r\n              <div class=\"text-sm text-gray-600 mb-1\">Current Value</div>\r\n              <div class=\"text-2xl font-bold text-blue-600\">${{ formatCurrency(calculateCurrentValue()) }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Depreciation Chart -->\r\n          <div class=\"space-y-4\">\r\n            <div class=\"text-center\">\r\n              <h3 class=\"text-sm font-medium text-gray-700\">Depreciation Timeline (straight-line method)</h3>\r\n            </div>\r\n\r\n            <!-- Loading State -->\r\n            <div *ngIf=\"depreciationChartLoading\" class=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg\">\r\n              <div class=\"text-center\">\r\n                <div class=\"inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2\">\r\n                  <svg class=\"animate-spin w-4 h-4 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                    <path class=\"opacity-75\" fill=\"currentColor\"\r\n                          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                </div>\r\n                <p class=\"text-sm text-gray-500\">Loading chart data...</p>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Error State -->\r\n            <div *ngIf=\"depreciationChartError && !depreciationChartLoading\"\r\n                 class=\"flex items-center justify-center h-64 bg-red-50 rounded-lg\">\r\n              <div class=\"text-center\">\r\n                <div class=\"text-red-600 text-sm mb-2\">{{ depreciationChartError }}</div>\r\n                <button\r\n                  (click)=\"loadDepreciationChart()\"\r\n                  class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n                  Try Again\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Chart Canvas -->\r\n            <div *ngIf=\"!depreciationChartLoading && !depreciationChartError\"\r\n                 class=\"relative h-64 bg-white border border-gray-200 rounded-lg p-4\">\r\n              <canvas id=\"depreciationChart\" width=\"400\" height=\"200\"></canvas>\r\n            </div>\r\n\r\n            <!-- Chart Legend -->\r\n            <div *ngIf=\"!depreciationChartLoading && !depreciationChartError\" class=\"text-center text-xs text-gray-500\">\r\n              Blue line: Asset Value | Red line: Accumulated Depreciation\r\n            </div>\r\n\r\n            <!-- Depreciation Details -->\r\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                <div class=\"text-sm text-gray-600\">Annual Depreciation</div>\r\n                <div class=\"text-lg font-semibold text-gray-900\">${{ formatCurrency(calculateAnnualDepreciation()) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                <div class=\"text-sm text-gray-600\">Depreciation Rate</div>\r\n                <div class=\"text-lg font-semibold text-gray-900\">{{ calculateDepreciationRate() }}%</div>\r\n              </div>\r\n              <div class=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                <div class=\"text-sm text-gray-600\">Years Remaining</div>\r\n                <div class=\"text-lg font-semibold text-gray-900\">{{ calculateRemainingYears() }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <!-- Right Column -->\r\n      <div class=\"space-y-6\">\r\n\r\n        <!-- Activity Timeline -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center space-x-2 mb-4\">\r\n            <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n            </svg>\r\n            <h2 class=\"text-lg font-semibold text-gray-900\">Recent Activity</h2>\r\n          </div>\r\n\r\n          <!-- Loading State -->\r\n          <div *ngIf=\"activityLoading\" class=\"flex items-center justify-center py-8\">\r\n            <div class=\"text-center\">\r\n              <div class=\"inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2\">\r\n                <svg class=\"animate-spin w-4 h-4 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                  <path class=\"opacity-75\" fill=\"currentColor\"\r\n                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n              </div>\r\n              <p class=\"text-sm text-gray-500\">Loading activities...</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Error State -->\r\n          <div *ngIf=\"activityError && !activityLoading\" class=\"text-center py-8\">\r\n            <div class=\"text-red-600 text-sm mb-2\">{{ activityError }}</div>\r\n            <button\r\n              (click)=\"loadActivityHistory()\"\r\n              class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n              Try Again\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Activities List -->\r\n          <div *ngIf=\"!activityLoading && !activityError\" class=\"space-y-4\">\r\n            <div *ngFor=\"let activity of activities\" class=\"flex items-start space-x-3\">\r\n              <div class=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\"\r\n                   [ngClass]=\"getActivityColor(activity.action)\">\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        [attr.d]=\"getActivityIcon(activity.action)\"></path>\r\n                </svg>\r\n              </div>\r\n              <div class=\"flex-1\">\r\n                <div class=\"flex items-center justify-between mb-1\">\r\n                  <h4 class=\"font-medium text-gray-900 capitalize\">{{ activity.action }}</h4>\r\n                  <span class=\"text-xs text-gray-500\">{{ activity.time_ago }}</span>\r\n                </div>\r\n                <p class=\"text-sm text-gray-600 mb-1\">{{ activity.comment || 'No comment' }}</p>\r\n                <div *ngIf=\"formatActivityBeforeAfter(activity.before, activity.after)\"\r\n                     class=\"text-xs text-gray-500 bg-gray-50 p-2 rounded border\">\r\n                  {{ formatActivityBeforeAfter(activity.before, activity.after) }}\r\n                </div>\r\n                <div *ngIf=\"activity.user\" class=\"text-xs text-gray-500 mt-1\">\r\n                  <strong>By:</strong> {{ getUserDisplayName(activity.user) }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- No Activities -->\r\n            <div *ngIf=\"activities.length === 0\" class=\"text-center py-8\">\r\n              <svg class=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n              </svg>\r\n              <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Recent Activity</h3>\r\n              <p class=\"text-gray-600\">No activity has been recorded for this asset yet.</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"text-center mt-6\">\r\n            <button\r\n              (click)=\"showFullActivityHistory()\"\r\n              class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n              View Full Activity History\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Related Assets -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center justify-between mb-4\">\r\n            <div class=\"flex items-center space-x-2\">\r\n              <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path>\r\n              </svg>\r\n              <h2 class=\"text-lg font-semibold text-gray-900\">Related Assets</h2>\r\n            </div>\r\n\r\n            <!-- Filter Dropdown -->\r\n            <div class=\"relative\">\r\n              <button\r\n                (click)=\"showRelatedFilterDropdown = !showRelatedFilterDropdown\"\r\n                class=\"flex items-center space-x-2 px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\">\r\n                <span>{{ getRelatedFilterDisplayName(selectedRelatedFilter) }}</span>\r\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                </svg>\r\n              </button>\r\n\r\n              <!-- Filter Options -->\r\n              <div *ngIf=\"showRelatedFilterDropdown\"\r\n                   class=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\r\n                <button\r\n                  *ngFor=\"let filter of ['all', 'category', 'location', 'department', 'manufacturer', 'parent', 'children', 'siblings', 'similar']\"\r\n                  (click)=\"onRelatedFilterChange(filter); showRelatedFilterDropdown = false\"\r\n                  class=\"w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors\"\r\n                  [class.text-blue-600]=\"selectedRelatedFilter === filter\"\r\n                  [class.bg-blue-50]=\"selectedRelatedFilter === filter\">\r\n                  <span class=\"text-sm\">{{ getRelatedFilterDisplayName(filter) }}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Loading State -->\r\n          <div *ngIf=\"relatedAssetsLoading\" class=\"flex items-center justify-center py-8\">\r\n            <div class=\"text-center\">\r\n              <div class=\"inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2\">\r\n                <svg class=\"animate-spin w-4 h-4 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                  <path class=\"opacity-75\" fill=\"currentColor\"\r\n                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n              </div>\r\n              <p class=\"text-sm text-gray-500\">Loading related assets...</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Error State -->\r\n          <div *ngIf=\"relatedAssetsError && !relatedAssetsLoading\" class=\"text-center py-8\">\r\n            <div class=\"text-red-600 text-sm mb-2\">{{ relatedAssetsError }}</div>\r\n            <button\r\n              (click)=\"loadRelatedAssets()\"\r\n              class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n              Try Again\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Related Assets List -->\r\n          <div *ngIf=\"!relatedAssetsLoading && !relatedAssetsError\" class=\"space-y-3\">\r\n            <div *ngFor=\"let relatedAsset of relatedAssets\"\r\n                 class=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\"\r\n                 (click)=\"navigateToRelatedAsset(relatedAsset.id)\">\r\n              <!-- Asset Image or Icon -->\r\n              <div class=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                <img *ngIf=\"relatedAsset.images && relatedAsset.images.length > 0\"\r\n                     [src]=\"relatedAsset.images[0].image_url\"\r\n                     [alt]=\"relatedAsset.name\"\r\n                     class=\"w-full h-full object-cover rounded-lg\"\r\n                     (error)=\"onImageError($event)\">\r\n                <svg *ngIf=\"!relatedAsset.images || relatedAsset.images.length === 0\"\r\n                     class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                </svg>\r\n              </div>\r\n\r\n              <!-- Asset Details -->\r\n              <div class=\"flex-1 min-w-0\">\r\n                <div class=\"flex items-center justify-between mb-1\">\r\n                  <h4 class=\"font-medium text-gray-900 truncate\">{{ relatedAsset.name }}</h4>\r\n                  <span class=\"text-xs text-gray-500\">{{ relatedAsset.asset_id }}</span>\r\n                </div>\r\n                <div class=\"flex items-center space-x-2 mb-1\">\r\n                  <span class=\"text-xs text-gray-600\">{{ relatedAsset.category?.name || 'General' }}</span>\r\n                  <span class=\"text-gray-400\">•</span>\r\n                  <span class=\"text-xs text-gray-600\">{{ relatedAsset.asset_type?.name || relatedAsset.type }}</span>\r\n                </div>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <span class=\"text-xs px-2 py-1 rounded-full font-medium\"\r\n                        [ngClass]=\"getRelatedAssetStatusColor(relatedAsset.asset_status || relatedAsset.status)\">\r\n                    {{ relatedAsset.asset_status?.name || relatedAsset.status }}\r\n                  </span>\r\n                  <span *ngIf=\"relatedAsset.health_score\" class=\"text-xs text-gray-500\">\r\n                    Health: {{ relatedAsset.health_score }}%\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Arrow Icon -->\r\n              <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path>\r\n              </svg>\r\n            </div>\r\n\r\n            <!-- No Related Assets -->\r\n            <div *ngIf=\"relatedAssets.length === 0\" class=\"text-center py-8\">\r\n              <svg class=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n              </svg>\r\n              <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Related Assets</h3>\r\n              <p class=\"text-gray-600\">No related assets found for this item.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Maintenance Schedule -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center justify-between mb-4\">\r\n            <div class=\"flex items-center space-x-2\">\r\n              <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n              </svg>\r\n              <h2 class=\"text-lg font-semibold text-gray-900\">Maintenance Schedule</h2>\r\n            </div>\r\n            <button\r\n              (click)=\"addMaintenanceSchedule()\"\r\n              class=\"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\">\r\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n              </svg>\r\n              <span>Add</span>\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Maintenance Overview -->\r\n          <div class=\"grid grid-cols-1 gap-4 mb-6\">\r\n            <div class=\"bg-green-50 rounded-lg p-4\">\r\n              <div class=\"flex items-center space-x-2\">\r\n                <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                <div>\r\n                  <div class=\"text-sm text-green-600\">Last Maintenance</div>\r\n                  <div\r\n                    class=\"font-semibold text-green-800\">{{ mockMaintenanceData.lastMaintenance || 'Not recorded' }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"bg-blue-50 rounded-lg p-4\">\r\n              <div class=\"flex items-center space-x-2\">\r\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                <div>\r\n                  <div class=\"text-sm text-blue-600\">Next Due</div>\r\n                  <div\r\n                    class=\"font-semibold text-blue-800\">{{ mockMaintenanceData.nextMaintenance || 'Not scheduled' }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"bg-purple-50 rounded-lg p-4\">\r\n              <div class=\"flex items-center space-x-2\">\r\n                <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n                </svg>\r\n                <div>\r\n                  <div class=\"text-sm text-purple-600\">Frequency</div>\r\n                  <div class=\"font-semibold text-purple-800\">{{ mockMaintenanceData.interval }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Maintenance Schedules List -->\r\n          <div *ngIf=\"maintenanceLoading\" class=\"text-center py-6\">\r\n            <div class=\"inline-flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full\">\r\n              <svg class=\"animate-spin w-3 h-3 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\"\r\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            </div>\r\n            <p class=\"text-xs text-gray-500 mt-1\">Loading...</p>\r\n          </div>\r\n\r\n          <div *ngIf=\"!maintenanceLoading && maintenanceSchedules.length > 0\" class=\"space-y-3\">\r\n            <div *ngFor=\"let schedule of maintenanceSchedules\" class=\"border border-gray-200 rounded-lg p-3\">\r\n              <div class=\"flex items-center justify-between mb-2\">\r\n                <h4 class=\"font-medium text-gray-900 text-sm\">{{ schedule.schedule_type }}</h4>\r\n                <div class=\"flex items-center space-x-1\">\r\n                  <span\r\n                    [class]=\"'inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-' + getScheduleStatusColor(schedule.status) + '-100 text-' + getScheduleStatusColor(schedule.status) + '-800'\">\r\n                    {{ schedule.status }}\r\n                  </span>\r\n                  <button\r\n                    (click)=\"editMaintenanceSchedule(schedule)\"\r\n                    class=\"p-1 text-gray-400 hover:text-blue-600 transition-colors\">\r\n                    <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                  <button\r\n                    (click)=\"deleteMaintenanceSchedule(schedule)\"\r\n                    class=\"p-1 text-gray-400 hover:text-red-600 transition-colors\">\r\n                    <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"space-y-1 text-xs\">\r\n                <div>\r\n                  <span class=\"text-gray-600\">Next Due:</span>\r\n                  <span class=\"ml-1 text-gray-900\">{{ formatDate(schedule.next_due) }}</span>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-gray-600\">Frequency:</span>\r\n                  <span class=\"ml-1 text-gray-900\">{{ schedule.frequency || 'Not specified' }}</span>\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"schedule.notes\" class=\"mt-2 text-xs text-gray-600\">\r\n                {{ schedule.notes }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div *ngIf=\"!maintenanceLoading && maintenanceSchedules.length === 0\" class=\"text-center py-6\">\r\n            <svg class=\"w-8 h-8 text-gray-400 mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n            </svg>\r\n            <h3 class=\"text-sm font-medium text-gray-900 mb-1\">No Maintenance Schedules</h3>\r\n            <p class=\"text-xs text-gray-600 mb-3\">Create maintenance schedules to track asset upkeep.</p>\r\n            <button\r\n              (click)=\"addMaintenanceSchedule()\"\r\n              class=\"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors\">\r\n              Add First Schedule\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Financial Information -->\r\n        <div class=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\r\n          <div class=\"flex items-center space-x-2 mb-4\">\r\n            <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"></path>\r\n            </svg>\r\n            <h2 class=\"text-lg font-semibold text-gray-900\">Financial Information</h2>\r\n          </div>\r\n\r\n          <div class=\"space-y-4\">\r\n            <!-- Purchase Information -->\r\n            <div class=\"bg-gray-50 rounded-lg p-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Purchase Details</h4>\r\n              <div class=\"space-y-2\">\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Purchase Price</span>\r\n                  <div class=\"text-lg font-semibold text-gray-900\">\r\n                    {{ mockFinancialData.purchaseCost | currency:'USD':'symbol':'1.2-2' }}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Purchase Date</span>\r\n                  <div class=\"text-sm text-gray-900\">{{ asset.purchase_date | date:'MMM d, y' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Current Value -->\r\n            <div class=\"bg-blue-50 rounded-lg p-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Current Value</h4>\r\n              <div class=\"space-y-2\">\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Book Value</span>\r\n                  <div class=\"text-lg font-semibold text-gray-900\">\r\n                    {{ mockFinancialData.currentValue | currency:'USD':'symbol':'1.2-2' }}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Market Value</span>\r\n                  <div\r\n                    class=\"text-sm text-gray-900\">{{ mockFinancialData.currentValue * 0.95 | currency:'USD':'symbol':'1.2-2' }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Depreciation -->\r\n            <div class=\"bg-orange-50 rounded-lg p-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Depreciation</h4>\r\n              <div class=\"space-y-2\">\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Method</span>\r\n                  <div class=\"text-sm text-gray-900\">{{ mockFinancialData.depreciationMethod }}</div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Useful Life</span>\r\n                  <div class=\"text-sm text-gray-900\">{{ mockFinancialData.usefulLife }} years</div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Annual Rate</span>\r\n                  <div class=\"text-sm text-gray-900\">{{ calculateDepreciationRate() }}%</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Performance Metrics -->\r\n            <div class=\"bg-green-50 rounded-lg p-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Performance</h4>\r\n              <div class=\"space-y-2\">\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Total Cost of Ownership</span>\r\n                  <div class=\"text-lg font-semibold text-gray-900\">\r\n                    {{ calculateTotalCostOfOwnership() | currency:'USD':'symbol':'1.2-2' }}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">ROI</span>\r\n                  <div class=\"text-sm text-gray-900\" [class.text-green-600]=\"calculateROI() > 0\"\r\n                       [class.text-red-600]=\"calculateROI() < 0\">\r\n                    {{ calculateROI() }}%\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Warranty Information -->\r\n            <div class=\"bg-purple-50 rounded-lg p-4\">\r\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Warranty & Insurance</h4>\r\n              <div class=\"space-y-2\">\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Warranty Status</span>\r\n                  <div class=\"flex items-center space-x-2 mt-1\">\r\n                    <span [class]=\"getWarrantyStatusClass(asset.warranty)\">\r\n                      {{ getWarrantyStatus(asset.warranty) }}\r\n                    </span>\r\n                    <span *ngIf=\"asset.warranty\" class=\"text-xs text-gray-500\">\r\n                      (Expires: {{ asset.warranty | date:'MMM d, y' }})\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <span class=\"text-xs text-gray-600\">Insurance Value</span>\r\n                  <div class=\"text-sm text-gray-900\">{{ asset.insurance_value || 'Not specified' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Maintenance Schedule Modals -->\r\n  <!-- Add Maintenance Modal -->\r\n  <div *ngIf=\"showAddMaintenanceModal\"\r\n       class=\"fixed inset-0 bg-[#00000085] bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n    <div class=\"bg-white rounded-lg max-w-md w-full p-6 shadow-lg\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900\">Add Maintenance Schedule</h3>\r\n        <button\r\n          (click)=\"closeMaintenanceModals()\"\r\n          class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n          <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <form [formGroup]=\"maintenanceForm\" (ngSubmit)=\"saveMaintenanceSchedule()\">\r\n        <div class=\"space-y-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Schedule Type</label>\r\n            <select formControlName=\"schedule_type\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"\">Select type</option>\r\n              <option value=\"Preventive\">Preventive Maintenance</option>\r\n              <option value=\"Inspection\">Inspection</option>\r\n              <option value=\"Calibration\">Calibration</option>\r\n              <option value=\"Cleaning\">Cleaning</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Next Due Date</label>\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              formControlName=\"next_due\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Select date\">\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Last Done Date</label>\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              formControlName=\"last_done\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Select date\">\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Frequency</label>\r\n            <select formControlName=\"frequency\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"\">Select frequency</option>\r\n              <option value=\"Weekly\">Weekly</option>\r\n              <option value=\"Monthly\">Monthly</option>\r\n              <option value=\"Quarterly\">Quarterly</option>\r\n              <option value=\"Semi-Annual\">Semi-Annual</option>\r\n              <option value=\"Annual\">Annual</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Notes</label>\r\n            <textarea\r\n              formControlName=\"notes\"\r\n              rows=\"3\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Additional notes...\"></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-end space-x-3 mt-6\">\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"closeMaintenanceModals()\"\r\n            class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors\">\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            [disabled]=\"maintenanceForm.invalid\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\">\r\n            @if (saveMaintenanceLoading) {\r\n              Saving Schedule...\r\n              <span\r\n                class=\"border-t-transparent animate-spin inline-block w-5 h-5 border-2 rounded-full border-white\"></span>\r\n            } @else {\r\n              Save Schedule\r\n            }\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Edit Maintenance Modal -->\r\n  <div *ngIf=\"showEditMaintenanceModal\"\r\n       class=\"fixed inset-0 bg-[#00000085] bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n    <div class=\"bg-white rounded-lg max-w-md w-full p-6\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900\">Edit Maintenance Schedule</h3>\r\n        <button\r\n          (click)=\"closeMaintenanceModals()\"\r\n          class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n          <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <form [formGroup]=\"maintenanceForm\" (ngSubmit)=\"saveMaintenanceSchedule()\">\r\n        <div class=\"space-y-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Schedule Type</label>\r\n            <select formControlName=\"schedule_type\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"\">Select type</option>\r\n              <option value=\"Preventive\">Preventive Maintenance</option>\r\n              <option value=\"Inspection\">Inspection</option>\r\n              <option value=\"Calibration\">Calibration</option>\r\n              <option value=\"Cleaning\">Cleaning</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Next Due Date</label>\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              formControlName=\"next_due\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Select date\">\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Last Done Date</label>\r\n            <input\r\n              #dateInput\r\n              type=\"text\"\r\n              formControlName=\"last_done\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Select date\">\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Frequency</label>\r\n            <select formControlName=\"frequency\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"\">Select frequency</option>\r\n              <option value=\"Weekly\">Weekly</option>\r\n              <option value=\"Monthly\">Monthly</option>\r\n              <option value=\"Quarterly\">Quarterly</option>\r\n              <option value=\"Semi-Annual\">Semi-Annual</option>\r\n              <option value=\"Annual\">Annual</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select formControlName=\"status\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"Scheduled\">Scheduled</option>\r\n              <option value=\"In Progress\">In Progress</option>\r\n              <option value=\"Completed\">Completed</option>\r\n              <option value=\"Overdue\">Overdue</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Notes</label>\r\n            <textarea\r\n              formControlName=\"notes\"\r\n              rows=\"3\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Additional notes...\"></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-end space-x-3 mt-6\">\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"closeMaintenanceModals()\"\r\n            class=\"bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors\">\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            [disabled]=\"maintenanceForm.invalid\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\">\r\n            @if (saveMaintenanceLoading) {\r\n              Updating Schedule...\r\n              <span\r\n                class=\"border-t-transparent animate-spin inline-block w-5 h-5 border-2 rounded-full border-white\"></span>\r\n            } @else {\r\n              Update Schedule\r\n            }\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Full Activity History Modal -->\r\n  <div *ngIf=\"showActivityHistoryModal\" class=\"fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4\">\r\n    <div class=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col\">\r\n      <!-- Modal Header -->\r\n      <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n        <div class=\"flex items-center space-x-3\">\r\n          <svg class=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                  d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n          </svg>\r\n          <h3 class=\"text-xl font-semibold text-gray-900\">Full Activity History</h3>\r\n        </div>\r\n        <button\r\n          (click)=\"closeActivityHistoryModal()\"\r\n          class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n          <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Modal Content with Scroll -->\r\n      <div class=\"flex-1 overflow-auto p-6\">\r\n        <!-- Search and Filters -->\r\n        <div class=\"mb-6 space-y-4\">\r\n          <!-- Search Bar -->\r\n          <div class=\"flex space-x-4\">\r\n            <div class=\"flex-1\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search activities...\"\r\n                class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                (input)=\"onActivityHistorySearch($any($event.target).value)\">\r\n            </div>\r\n            <button\r\n              (click)=\"clearActivityHistoryFilters()\"\r\n              class=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\">\r\n              Clear Filters\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Filter Options -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Action Type</label>\r\n              <select\r\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                (change)=\"onActivityHistoryFilter('action', $any($event.target).value)\">\r\n                <option value=\"\">All Actions</option>\r\n                <option value=\"created\">Created</option>\r\n                <option value=\"updated\">Updated</option>\r\n                <option value=\"deleted\">Deleted</option>\r\n                <option value=\"transferred\">Transferred</option>\r\n                <option value=\"maintenance\">Maintenance</option>\r\n                <option value=\"imported\">Imported</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Date From</label>\r\n              <input\r\n                type=\"date\"\r\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                (change)=\"onActivityHistoryFilter('date_from', $any($event.target).value)\">\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Date To</label>\r\n              <input\r\n                type=\"date\"\r\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                (change)=\"onActivityHistoryFilter('date_to', $any($event.target).value)\">\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Sort By</label>\r\n              <select\r\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                (change)=\"onActivityHistorySort('created_at', $any($event.target).value)\">\r\n                <option value=\"desc\">Newest First</option>\r\n                <option value=\"asc\">Oldest First</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Loading State -->\r\n        <div *ngIf=\"activityHistoryLoading\" class=\"flex items-center justify-center py-12\">\r\n          <div class=\"text-center\">\r\n            <div class=\"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mb-4\">\r\n              <svg class=\"animate-spin w-6 h-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\"\r\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            </div>\r\n            <p class=\"text-gray-500\">Loading activity history...</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Error State -->\r\n        <div *ngIf=\"activityHistoryError && !activityHistoryLoading\" class=\"text-center py-12\">\r\n          <div class=\"text-red-600 mb-4\">{{ activityHistoryError }}</div>\r\n          <button\r\n            (click)=\"loadFullActivityHistory()\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n            Try Again\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Activities List -->\r\n        <div *ngIf=\"!activityHistoryLoading && !activityHistoryError\" class=\"space-y-4 max-h-[60vh] overflow-y-auto\">\r\n          <div *ngFor=\"let activity of fullActivityHistory\"\r\n               class=\"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg\">\r\n            <div class=\"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0\"\r\n                 [ngClass]=\"getActivityColor(activity.action)\">\r\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      [attr.d]=\"getActivityIcon(activity.action)\"></path>\r\n              </svg>\r\n            </div>\r\n            <div class=\"flex-1\">\r\n              <div class=\"flex items-center justify-between mb-2\">\r\n                <h4 class=\"font-semibold text-gray-900 capitalize\">{{ activity.action }}</h4>\r\n                <span class=\"text-xs text-gray-500 bg-white px-2 py-1 rounded-full\">{{ activity.time_ago }}</span>\r\n              </div>\r\n              <p class=\"text-sm text-gray-600 mb-2\">{{ activity.comment || 'No comment' }}</p>\r\n              <div *ngIf=\"formatActivityBeforeAfter(activity.before, activity.after)\"\r\n                   class=\"text-xs text-gray-500 bg-white p-3 rounded border\">\r\n                <div class=\"font-medium mb-1\">Changes:</div>\r\n                <div class=\"text-gray-600\">\r\n                  {{ formatActivityBeforeAfter(activity.before, activity.after) }}\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"activity.user\" class=\"text-xs text-gray-500 mt-2\">\r\n                <strong>By:</strong> {{ getUserDisplayName(activity.user) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- No Activities -->\r\n          <div *ngIf=\"fullActivityHistory.length === 0\" class=\"text-center py-12\">\r\n            <svg class=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n            </svg>\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Activity Found</h3>\r\n            <p class=\"text-gray-600\">No activity matches your current filters.</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <div *ngIf=\"activityHistoryPagination && fullActivityHistory.length > 0\"\r\n             class=\"mt-6 flex items-center justify-between\">\r\n          <div class=\"text-sm text-gray-600\">\r\n            Showing {{ activityHistoryPagination.from || 0 }} to {{ activityHistoryPagination.to || 0 }}\r\n            of {{ activityHistoryPagination.total || 0 }} activities\r\n          </div>\r\n          <div class=\"flex space-x-2\">\r\n            <button\r\n              *ngIf=\"activityHistoryPagination.prev_page_url\"\r\n              (click)=\"onActivityHistoryPageChange(activityHistoryPagination.current_page - 1)\"\r\n              class=\"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors\">\r\n              Previous\r\n            </button>\r\n            <button\r\n              *ngIf=\"activityHistoryPagination.next_page_url\"\r\n              (click)=\"onActivityHistoryPageChange(activityHistoryPagination.current_page + 1)\"\r\n              class=\"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors\">\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Modal Footer -->\r\n      <div class=\"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50\">\r\n        <div class=\"text-sm text-gray-600\">\r\n          Total Activities: {{ activityHistoryPagination?.total || fullActivityHistory.length }}\r\n        </div>\r\n        <button\r\n          (click)=\"closeActivityHistoryModal()\"\r\n          class=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\">\r\n          Close\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Transfer Asset Modal -->\r\n  <app-transfer-asset-modal\r\n    [isOpen]=\"showTransferModal\"\r\n    [asset]=\"asset\"\r\n    (closeModal)=\"onTransferModalClose()\"\r\n    (transferComplete)=\"onTransferComplete($event)\"\r\n  ></app-transfer-asset-modal>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, HostListener } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\r\nimport { AfterViewInit, ViewChild, ElementRef, ViewChildren, QueryList } from '@angular/core';\r\nimport { Subject, takeUntil } from 'rxjs';\r\nimport { AssetService } from '../../services/asset.service';\r\nimport { Location as angularLocation } from '@angular/common';\r\nimport flatpickr from 'flatpickr';\r\n\r\n@Component({\r\n  selector: 'app-asset-edit',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, FormsModule, RouterModule],\r\n  templateUrl: './asset-edit.component.html',\r\n  styleUrl: './asset-edit.component.scss'\r\n})\r\nexport class AssetEditComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  private destroy$ = new Subject<void>();\r\n  @ViewChildren('dateInput') dateInputs!: QueryList<ElementRef>;\r\n  @ViewChild('fileInput', { static: false }) fileInput!: ElementRef<HTMLInputElement>;\r\n\r\n  // Flatpickr instances\r\n  flatpickrInstances: any[] = [];\r\n\r\n  // Asset data\r\n  asset: any = null;\r\n  assetForm: FormGroup;\r\n\r\n  // Loading states\r\n  loading = true;\r\n  saving = false;\r\n  error = '';\r\n  successMessage = '';\r\n\r\n  // Dropdown data\r\n  categories: any[] = [];\r\n  locations: any[] = [];\r\n  departments: any[] = [];\r\n  availableTags: any[] = [];\r\n  statusOptionsFromAPI: any[] = [];\r\n\r\n  // Dropdown state\r\n  showAssetTypeDropdown = false;\r\n  showCategoryDropdown = false;\r\n  showLocationDropdown = false;\r\n  showStatusDropdown = false;\r\n  showTagsDropdown = false;\r\n  showDepartmentDropdown = false;\r\n  showParentDropdown = false;\r\n  selectedAssetType: any | null = null;\r\n  selectedCategory: any | null = null;\r\n  selectedLocation: any | null = null;\r\n  selectedStatus: any | null = null;\r\n  selectedDepartment: any | null = null;\r\n  selectedTags: any[] = [];\r\n  newTagInput: string = '';\r\n\r\n  // Asset types\r\n  assetTypes: any[] = [];\r\n  assetTypesFromAPI: any[] = [];\r\n\r\n  // Status options\r\n  statusOptions: Array<{\r\n    id?: number;\r\n    value: number; // Changed from string to number\r\n    label: string;\r\n    color: string;\r\n    description: string;\r\n    hexColor?: string;\r\n    sort_order: number;\r\n  }> = [\r\n    { value: 1, label: 'Active', color: 'green', description: 'Asset is operational and in use', sort_order: 1 },\r\n    { value: 2, label: 'Maintenance', color: 'orange', description: 'Asset is under maintenance or repair', sort_order: 2 },\r\n    { value: 3, label: 'Inactive', color: 'gray', description: 'Asset is not currently in use', sort_order: 3 },\r\n    { value: 4, label: 'Retired', color: 'red', description: 'Asset is retired and no longer in service', sort_order: 4 }\r\n  ];\r\n\r\n  // Image handling\r\n  previewImage: string | null = null;\r\n  selectedFile: File | null = null;\r\n  images: File[] = [];\r\n  imagePreviewUrls: string[] = [];\r\n  existingImages: any[] = [];\r\n  removedImageIds: number[] = [];\r\n  isDragOver = false;\r\n\r\n  // Validation errors\r\n  nameError: string = '';\r\n  assetTypeError: string = '';\r\n  categoryError: string = '';\r\n  serialNumberError: string = '';\r\n  submitError: string = '';\r\n  submitSuccess: string = '';\r\n\r\n  possibleParents: any[] = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private assetService: AssetService,\r\n    private angularLocation: angularLocation\r\n  ) {\r\n    this.assetForm = this.fb.group({\r\n      name: ['', [Validators.required, Validators.minLength(2)]],\r\n      description: [''],\r\n      serial_number: ['', [Validators.minLength(0)]],\r\n      model: [''],\r\n      manufacturer: [''],\r\n      purchase_date: [''],\r\n      purchase_price: [null],\r\n      depreciation: [null],\r\n      depreciation_life: [null],\r\n      location_id: [null],\r\n      department_id: [null],\r\n      parent_id: [null],\r\n      warranty: [''],\r\n      insurance: [''],\r\n      health_score: [85, [Validators.min(0), Validators.max(100)]],\r\n      brand: [''],\r\n      dimensions: [''],\r\n      weight: [''],\r\n      capacity: [''],\r\n      status: [null],\r\n      type: [null, Validators.required],\r\n      category_id: [null, Validators.required],\r\n      tags: [[]]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(params => {\r\n        const assetId = params['id'];\r\n        if (assetId) {\r\n          this.loadAsset(assetId);\r\n          this.assetService.getPossibleParents(assetId).subscribe(res => {\r\n            if (res.success && res.data?.possible_parents) {\r\n              this.possibleParents = res.data.possible_parents;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    this.loadAssetTypes();\r\n    this.loadCategories();\r\n    this.loadLocations();\r\n    this.loadDepartments();\r\n    this.loadAvailableTags();\r\n    this.loadAssetStatuses();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.initializeFlatpickr();\r\n    }, 100);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    // Cleanup flatpickr instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeFlatpickr() {\r\n    // Cleanup existing instances\r\n    this.flatpickrInstances.forEach(instance => {\r\n      if (instance) {\r\n        instance.destroy();\r\n      }\r\n    });\r\n    this.flatpickrInstances = [];\r\n\r\n    // Initialize new instances\r\n    setTimeout(() => {\r\n      if (this.dateInputs) {\r\n        this.dateInputs.forEach((inputRef, index) => {\r\n          if (inputRef?.nativeElement) {\r\n            const inputElement = inputRef.nativeElement;\r\n            const fieldName = inputElement.getAttribute('formControlName');\r\n            console.log('Processing date input:', fieldName);\r\n\r\n            // Only initialize Flatpickr for purchase_date field\r\n            if (fieldName === 'purchase_date') {\r\n              console.log('Initializing Flatpickr for purchase_date');\r\n              let config: any = {\r\n                dateFormat: 'd M, Y',\r\n                allowInput: true,\r\n                clickOpens: true,\r\n                maxDate: 'today',\r\n                defaultDate: null,\r\n                onChange: (selectedDates: Date[], dateStr: string) => {\r\n                  console.log('Date selected:', dateStr);\r\n                  this.assetForm.get('purchase_date')?.setValue(dateStr);\r\n                }\r\n              };\r\n\r\n              // Set default date if form has value\r\n              const purchaseDate = this.assetForm.get('purchase_date')?.value;\r\n              if (purchaseDate) {\r\n                config.defaultDate = this.convertDisplayDateToDate(purchaseDate);\r\n              }\r\n\r\n              const instance = flatpickr(inputElement, config);\r\n              this.flatpickrInstances.push(instance);\r\n              console.log('Flatpickr initialized successfully for purchase_date');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }, 50);\r\n  }\r\n  loadAsset(id: string) {\r\n    this.loading = true;\r\n    this.error = '';\r\n\r\n    this.assetService.getAsset(id)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success) {\r\n            this.asset = response.data.asset || response.data;\r\n            this.populateForm();\r\n          } else {\r\n            this.error = response.message || 'Failed to load asset';\r\n          }\r\n          this.loading = false;\r\n        },\r\n        error: (error) => {\r\n          this.error = error.error?.message || 'An error occurred while loading the asset';\r\n          this.loading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  populateForm() {\r\n    if (this.asset) {\r\n     // Convert backend dates to display format for form\r\n     const purchaseDate = this.asset.purchase_date ? this.convertBackendDateToDisplay(this.asset.purchase_date) : '';\r\n     const warrantyDate = this.asset.warranty ? this.convertBackendDateToDisplay(this.asset.warranty) : '';\r\n     \r\n      this.assetForm.patchValue({\r\n        name: this.asset.name || '',\r\n        description: this.asset.description || '',\r\n        serial_number: this.asset.serial_number || '',\r\n        model: this.asset.model || '',\r\n        manufacturer: this.asset.manufacturer || '',\r\n        brand: this.asset.brand || '',\r\n        dimensions: this.asset.dimensions || '',\r\n        weight: this.asset.weight || '',\r\n        capacity: this.asset.capacity || '',\r\n        purchase_date: purchaseDate,\r\n        purchase_price: this.asset.purchase_price || null,\r\n        depreciation: this.asset.depreciation || null,\r\n        depreciation_life: this.asset.depreciation_life || null,\r\n        location_id: this.asset.location_id || null,\r\n        department_id: this.asset.department_id || null,\r\n        warranty: warrantyDate,\r\n        insurance: this.asset.insurance || '',\r\n        health_score: this.asset.health_score || 85,\r\n        status: this.asset.status || null, // Keep as is - could be ID or string, will be handled below\r\n        type: this.asset.type || '',\r\n        category_id: this.asset.category_id || null,\r\n        tags: this.asset.tags || [],\r\n        parent_id: this.asset.parent_id || null\r\n      });\r\n\r\n      // Load existing images\r\n      if (this.asset.images && Array.isArray(this.asset.images)) {\r\n        this.existingImages = this.asset.images;\r\n      }\r\n\r\n      // Set selected dropdowns\r\n      // Wait for categories and locations to load before setting selections\r\n      setTimeout(() => {\r\n        this.selectedAssetType = this.assetTypes.find(type =>\r\n          type.id == this.asset.type\r\n        ) || null;\r\n        this.selectedCategory = this.categories.find(cat => cat.id === this.asset.category_id) || null;\r\n        this.selectedLocation = this.locations.find(loc => loc.id === this.asset.location_id) || null;\r\n        this.selectedDepartment = this.departments.find(dept => dept.id === this.asset.department_id) || null;\r\n        const rawStatusIdOrName = this.asset?.status ?? this.asset?.asset_status?.id ?? this.asset?.asset_status?.name ?? null;\r\n        const numericStatus = (rawStatusIdOrName !== null && rawStatusIdOrName !== undefined && !isNaN(Number(rawStatusIdOrName)))\r\n          ? Number(rawStatusIdOrName)\r\n          : null;\r\n        const statusName = typeof rawStatusIdOrName === 'string' ? rawStatusIdOrName : (this.asset?.asset_status?.name ?? null);\r\n\r\n        this.selectedStatus = this.statusOptions.find(status => {\r\n          const matchesId = numericStatus !== null && (status.value === numericStatus || status.id === numericStatus);\r\n          const matchesLabel = !!statusName && status.label.toLowerCase() === String(statusName).toLowerCase();\r\n          return matchesId || matchesLabel;\r\n        }) || null;\r\n\r\n        // If status is found, update the form with the numerical ID\r\n        if (this.selectedStatus) {\r\n          this.assetForm.patchValue({ status: this.selectedStatus.value });\r\n        }\r\n\r\n        // Set tags if available\r\n        if (this.asset.tags && Array.isArray(this.asset.tags)) {\r\n          this.selectedTags = this.asset.tags.map((tag: any) => {\r\n            return this.availableTags.find(t => t.id === tag.id) || tag;\r\n          });\r\n        }\r\n\r\n        // Mark form as touched to trigger validation\r\n        this.assetForm.markAllAsTouched();\r\n        this.assetForm.updateValueAndValidity();\r\n       \r\n       // Reinitialize flatpickr after form is populated\r\n       setTimeout(() => {\r\n         this.initializeFlatpickr();\r\n       }, 100);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  loadAssetTypes() {\r\n    this.assetService.getAssetTypes()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data) {\r\n            this.assetTypesFromAPI = response.data;\r\n            this.assetTypes = this.assetTypesFromAPI.map(type => ({\r\n              id: type.id,\r\n              name: type.name,\r\n              label: type.name,\r\n              value: type.name,\r\n              icon: type.icon,\r\n              color: this.getColorForType(type.name),\r\n              description: `${type.name} asset type`,\r\n              iconError: false\r\n            }));\r\n\r\n            // Re-populate form if asset is already loaded\r\n            if (this.asset) {\r\n              this.populateForm();\r\n            }\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading asset types:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  loadCategories() {\r\n    this.assetService.getAssetCategories()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data?.categories) {\r\n            this.categories = response.data.categories;\r\n            // Re-populate form if asset is already loaded\r\n            if (this.asset) {\r\n              this.populateForm();\r\n            }\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading categories:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  loadLocations() {\r\n    this.assetService.getLocations()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data) {\r\n            this.locations = response.data.locations || response.data;\r\n            // Re-populate form if asset is already loaded\r\n            if (this.asset) {\r\n              this.populateForm();\r\n            }\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading locations:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  loadDepartments() {\r\n    this.assetService.getDepartments()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data) {\r\n            this.departments = response.data;\r\n            if (this.asset) {\r\n              this.populateForm();\r\n            }\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading departments:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  loadAvailableTags() {\r\n    // For now, using mock data since we don't have the tags endpoint\r\n    this.availableTags = [\r\n      { id: 1, name: 'Critical', color: 'red' },\r\n      { id: 2, name: 'High Priority', color: 'orange' },\r\n      { id: 3, name: 'Equipment', color: 'blue' },\r\n      { id: 4, name: 'IT Hardware', color: 'purple' },\r\n      { id: 5, name: 'Furniture', color: 'green' },\r\n      { id: 6, name: 'Vehicle', color: 'yellow' },\r\n      { id: 7, name: 'Safety Equipment', color: 'red' },\r\n      { id: 8, name: 'Office Supplies', color: 'gray' }\r\n    ];\r\n  }\r\n\r\n  loadAssetStatuses() {\r\n    this.assetService.getAssetStatuses()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (response) => {\r\n          if (response.success && response.data) {\r\n            this.statusOptionsFromAPI = response.data;\r\n            this.statusOptions = this.statusOptionsFromAPI.map(status => ({\r\n              id: status.id,\r\n              value: status.id, // Use numerical ID instead of string name\r\n              label: status.name,\r\n              color: this.hexToTailwindColor(status.color),\r\n              description: status.description || `Asset is ${status.name.toLowerCase()}`,\r\n              hexColor: status.color,\r\n              sort_order: status.sort_order\r\n            }));\r\n\r\n            this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);\r\n\r\n            if (this.asset) {\r\n              this.populateForm();\r\n            }\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading asset statuses:', error);\r\n        }\r\n      });\r\n  }\r\n\r\n  private hexToTailwindColor(hexColor: string): string {\r\n    const colorMap: { [key: string]: string } = {\r\n      '#10B981': 'green',\r\n      '#F59E0B': 'orange',\r\n      '#9CA3AF': 'gray',\r\n      '#EF4444': 'red',\r\n      '#6B7280': 'gray',\r\n      '#22C55E': 'green',\r\n      '#3B82F6': 'blue',\r\n      '#8B5CF6': 'purple',\r\n      '#F97316': 'orange',\r\n    };\r\n\r\n    return colorMap[hexColor.toUpperCase()] || 'gray';\r\n  }\r\n\r\n  // Helper method to assign colors to asset types\r\n  getColorForType(typeName: string): string {\r\n    const colorMap: { [key: string]: string } = {\r\n      'Fixed Asset': '#2563eb',\r\n      'Semi-Fixed Asset': '#22c55e',\r\n      'Mobile Asset': '#f59e42',\r\n      'Fleet Asset': '#a855f7',\r\n      'IT Equipment': '#3b82f6',\r\n      'Furniture': '#10b981',\r\n      'Vehicle': '#f59e0b',\r\n      'Machinery': '#ef4444',\r\n      'Electronics': '#8b5cf6',\r\n      'Tools': '#f97316'\r\n    };\r\n\r\n    return colorMap[typeName] || '#6b7280'; // Default gray color\r\n  }\r\n\r\n  onAssetTypeIconError(event: any, assetType: any) {\r\n    console.warn('Asset type icon failed to load:', assetType.name, assetType.icon);\r\n    assetType.iconError = true;\r\n    event.target.style.display = 'none';\r\n  }\r\n  // Dropdown methods\r\n  toggleAssetTypeDropdown() {\r\n    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleCategoryDropdown() {\r\n    this.showCategoryDropdown = !this.showCategoryDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleLocationDropdown() {\r\n    this.showLocationDropdown = !this.showLocationDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  private buildLocationLabel(loc: any): string {\r\n    if (!loc) return '';\r\n    if (loc.full_path) return loc.full_path;\r\n    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {\r\n      return loc.complete_hierarchy.map((n: any) => n.name).join(' → ');\r\n    }\r\n    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {\r\n      return loc.ancestors_with_details.map((n: any) => n.name).join(' → ') + ' → ' + (loc.name || '');\r\n    }\r\n    return loc.name || '';\r\n  }\r\n\r\n  getLocationLabel(loc: any): string {\r\n    return this.buildLocationLabel(loc);\r\n  }\r\n\r\n  toggleStatusDropdown() {\r\n    this.showStatusDropdown = !this.showStatusDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleTagsDropdown() {\r\n    this.showTagsDropdown = !this.showTagsDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  toggleDepartmentDropdown() {\r\n    this.showDepartmentDropdown = !this.showDepartmentDropdown;\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n  }\r\n\r\n  selectAssetType(type: any) {\r\n    this.selectedAssetType = type;\r\n    this.assetForm.patchValue({ type: type.id });\r\n    this.showAssetTypeDropdown = false;\r\n    this.clearErrors();\r\n  }\r\n\r\n  selectCategory(category: any) {\r\n    this.selectedCategory = category;\r\n    this.assetForm.patchValue({ category_id: category.id });\r\n    this.showCategoryDropdown = false;\r\n    this.clearErrors();\r\n  }\r\n\r\n  selectLocation(location: any) {\r\n    this.selectedLocation = { ...location, label: this.buildLocationLabel(location) };\r\n    this.assetForm.patchValue({ location_id: location.id });\r\n    this.showLocationDropdown = false;\r\n  }\r\n\r\n  selectStatus(status: any) {\r\n    this.selectedStatus = status;\r\n    this.assetForm.patchValue({ status: status.value }); // This will now be the numerical ID\r\n    this.showStatusDropdown = false;\r\n  }\r\n\r\n  selectDepartment(department: any) {\r\n    this.selectedDepartment = department;\r\n    this.assetForm.patchValue({ department_id: department.id });\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  // Tag methods\r\n  toggleTag(tag: any) {\r\n    const index = this.selectedTags.findIndex(t => t.id === tag.id);\r\n    if (index > -1) {\r\n      this.selectedTags.splice(index, 1);\r\n    } else {\r\n      this.selectedTags.push(tag);\r\n    }\r\n  }\r\n\r\n  isTagSelected(tag: any): boolean {\r\n    return this.selectedTags.some(t => t.id === tag.id);\r\n  }\r\n\r\n  onTagInputKeydown(event: KeyboardEvent) {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.createNewTag();\r\n    }\r\n  }\r\n\r\n  createNewTag() {\r\n    const tagName = this.newTagInput.trim();\r\n    if (tagName && !this.selectedTags.some(t => t.name.toLowerCase() === tagName.toLowerCase())) {\r\n      const colors = ['red', 'blue', 'green', 'yellow', 'purple', 'pink', 'indigo', 'gray'];\r\n      const randomColor = colors[Math.floor(Math.random() * colors.length)];\r\n\r\n      const newTag = {\r\n        id: Date.now(),\r\n        name: tagName,\r\n        color: randomColor,\r\n        isNew: true\r\n      };\r\n\r\n      this.selectedTags.push(newTag);\r\n      this.newTagInput = '';\r\n    }\r\n  }\r\n\r\n  removeTag(tag: any) {\r\n    const index = this.selectedTags.findIndex(t => t.id === tag.id);\r\n    if (index > -1) {\r\n      this.selectedTags.splice(index, 1);\r\n    }\r\n  }\r\n  // File handling\r\n  onFileChange(event: any) {\r\n    if (event.target.files && event.target.files.length) {\r\n      const newFiles = Array.from(event.target.files) as File[];\r\n      this.processFiles(newFiles);\r\n      event.target.value = '';\r\n    }\r\n  }\r\n\r\n  onDragOver(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = true;\r\n  }\r\n\r\n  onDragLeave(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = false;\r\n  }\r\n\r\n  onDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.isDragOver = false;\r\n\r\n    const files = event.dataTransfer?.files;\r\n    if (files && files.length > 0) {\r\n      const fileArray = Array.from(files).filter(file => file.type.startsWith('image/'));\r\n      if (fileArray.length > 0) {\r\n        this.processFiles(fileArray);\r\n      }\r\n    }\r\n  }\r\n\r\n  private processFiles(files: File[]) {\r\n    const maxImages = 10;\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n    const newImages: File[] = [];\r\n\r\n    for (const file of files) {\r\n      if (!allowedTypes.includes(file.type)) {\r\n        console.warn('Invalid file type:', file.name);\r\n        continue;\r\n      }\r\n\r\n      if (file.size > 10 * 1024 * 1024) {\r\n        console.warn('File too large:', file.name);\r\n        continue;\r\n      }\r\n\r\n      const isDuplicate = this.images.some(existing =>\r\n        existing.name === file.name && existing.size === file.size\r\n      );\r\n      if (isDuplicate) {\r\n        console.warn('Duplicate file skipped:', file.name);\r\n        continue;\r\n      }\r\n\r\n      if (this.images.length + newImages.length >= maxImages) {\r\n        console.warn('Max image count exceeded:', file.name);\r\n        break;\r\n      }\r\n\r\n      newImages.push(file);\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (e: any) => {\r\n        if (e.target?.result) {\r\n          this.imagePreviewUrls.push(e.target.result as string);\r\n        }\r\n      };\r\n      reader.onerror = (error) => {\r\n        console.error('Preview failed for:', file.name, error);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n\r\n    this.images = [...this.images, ...newImages];\r\n  }\r\n\r\n  removeImage(index: number) {\r\n    this.images.splice(index, 1);\r\n    this.imagePreviewUrls.splice(index, 1);\r\n  }\r\n\r\n  removeAllImages() {\r\n    this.images = [];\r\n    this.imagePreviewUrls = [];\r\n  }\r\n\r\n  removeExistingImage(index: number) {\r\n    const removedImage = this.existingImages[index];\r\n    if (removedImage && removedImage.id) {\r\n      this.removedImageIds.push(removedImage.id);\r\n    }\r\n    this.existingImages.splice(index, 1);\r\n  }\r\n\r\n  removeAllExistingImages() {\r\n    // Add all existing image IDs to removal list\r\n    this.existingImages.forEach(img => {\r\n      if (img && img.id) {\r\n        this.removedImageIds.push(img.id);\r\n      }\r\n    });\r\n    this.existingImages = [];\r\n  }\r\n\r\n  moveImage(fromIndex: number, toIndex: number) {\r\n    if (toIndex >= 0 && toIndex < this.images.length) {\r\n      const file = this.images.splice(fromIndex, 1)[0];\r\n      this.images.splice(toIndex, 0, file);\r\n\r\n      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];\r\n      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);\r\n    }\r\n  }\r\n\r\n  moveImageUp(index: number) {\r\n    if (index > 0) {\r\n      this.moveImage(index, index - 1);\r\n    }\r\n  }\r\n\r\n  moveImageDown(index: number) {\r\n    if (index < this.images.length - 1) {\r\n      this.moveImage(index, index + 1);\r\n    }\r\n  }\r\n\r\n  triggerFileInput() {\r\n    this.fileInput.nativeElement.click();\r\n  }\r\n\r\n  onImageError(event: any, index: number) {\r\n    console.warn('Image failed to load at index:', index);\r\n    event.target.onerror = null;\r\n    event.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=';\r\n  }\r\n\r\n  onImageLoad(event: any, index: number) {\r\n    console.log('Image loaded successfully at index:', index);\r\n  }\r\n\r\n  viewFullImage(imageUrl: string) {\r\n    window.open(imageUrl, '_blank');\r\n  }\r\n\r\n  // Convert images to base64\r\n  private convertImagesToBase64(): Promise<string[]> {\r\n    return Promise.all(\r\n      this.images.map((file) => {\r\n        return new Promise<string>((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onload = () => {\r\n            if (reader.result) {\r\n              resolve(reader.result as string);\r\n            } else {\r\n              reject(new Error('Failed to read file'));\r\n            }\r\n          };\r\n          reader.onerror = () => reject(reader.error);\r\n          reader.readAsDataURL(file);\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  onCategoryIconError(event: any, category: any) {\r\n    console.warn('Category icon failed to load:', category.name, category.icon);\r\n    category.iconError = true;\r\n    event.target.style.display = 'none';\r\n  }\r\n\r\n  // Validation methods\r\n  validateForm(): boolean {\r\n    let isValid = true;\r\n    this.clearErrors();\r\n\r\n    if (!this.assetForm.get('name')?.value || this.assetForm.get('name')?.value.trim().length === 0) {\r\n      this.nameError = 'Asset name is required';\r\n      isValid = false;\r\n    } else if (this.assetForm.get('name')?.value.trim().length > 100) {\r\n      this.nameError = 'Asset name cannot exceed 100 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    if (!this.selectedAssetType) {\r\n      this.assetTypeError = 'Asset type is required';\r\n      isValid = false;\r\n    }\r\n\r\n    if (!this.selectedCategory) {\r\n      this.categoryError = 'Category is required';\r\n      isValid = false;\r\n    }\r\n\r\n    const serialNumber = this.assetForm.get('serial_number')?.value;\r\n    if (serialNumber && serialNumber.trim().length === 0) {\r\n      this.serialNumberError = 'Serial number cannot be empty if provided';\r\n      isValid = false;\r\n    } else if (serialNumber && serialNumber.length > 255) {\r\n      this.serialNumberError = 'Serial number cannot exceed 255 characters';\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  clearErrors() {\r\n    this.nameError = '';\r\n    this.assetTypeError = '';\r\n    this.categoryError = '';\r\n    this.serialNumberError = '';\r\n    this.submitError = '';\r\n    this.submitSuccess = '';\r\n  }\r\n\r\n  // Form submission\r\n  onSubmit() {\r\n    if (!this.validateForm() || this.saving || !this.asset) {\r\n      return;\r\n    }\r\n\r\n    if (this.assetForm.valid && !this.saving && this.asset) {\r\n      this.saving = true;\r\n      this.error = '';\r\n      this.successMessage = '';\r\n      this.submitError = '';\r\n      this.submitSuccess = '';\r\n\r\n      // Convert images to base64 before sending\r\n      this.convertImagesToBase64().then((base64Images: string[]) => {\r\n        const formData = this.assetForm.value;\r\n\r\n        // Convert tags to name format\r\n        formData.tags = this.selectedTags.map(tag => tag.name);\r\n\r\n        // Convert date formats from display format to Y-m-d format for backend\r\n        if (formData.purchase_date) {\r\n          formData.purchase_date = this.convertDateToBackendFormat(formData.purchase_date);\r\n        }\r\n        if (formData.warranty) {\r\n          formData.warranty = this.convertDateToBackendFormat(formData.warranty);\r\n        }\r\n\r\n        // Add images to form data\r\n        formData.images = base64Images;\r\n        \r\n        // Add existing images that should be kept (only send IDs)\r\n        formData.existing_images = this.existingImages.map(img => img.id || img.image_url);\r\n        \r\n        // Add removed image IDs for backend deletion\r\n        if (this.removedImageIds.length > 0) {\r\n          formData.remove_image_ids = this.removedImageIds;\r\n        }\r\n\r\n        // parent_id is already included in formData\r\n        this.assetService.updateAsset(this.asset.id, formData)\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe({\r\n            next: (response) => {\r\n              if (response.success) {\r\n                this.submitSuccess = 'Asset updated successfully!';\r\n                // Navigate back to asset view after 2 seconds\r\n                setTimeout(() => {\r\n                  this.router.navigate(['/assets/preview', this.asset.id]);\r\n                }, 2000);\r\n              } else {\r\n                this.submitError = response.message || 'Failed to update asset';\r\n              }\r\n              this.saving = false;\r\n            },\r\n            error: (error) => {\r\n              this.submitError = error.error?.message || 'An error occurred while updating the asset';\r\n              this.saving = false;\r\n            }\r\n          });\r\n      }).catch((error) => {\r\n        this.saving = false;\r\n        this.submitError = 'Failed to process images. Please try again.';\r\n        console.error('Image conversion error:', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.angularLocation.back();\r\n  }\r\n\r\n  // Close dropdowns when clicking outside\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: MouseEvent) {\r\n    this.showAssetTypeDropdown = false;\r\n    this.showCategoryDropdown = false;\r\n    this.showLocationDropdown = false;\r\n    this.showStatusDropdown = false;\r\n    this.showTagsDropdown = false;\r\n    this.showDepartmentDropdown = false;\r\n  }\r\n\r\n  isFormValid(): boolean {\r\n    return this.assetForm.valid &&\r\n           this.selectedAssetType !== null &&\r\n           this.selectedCategory !== null &&\r\n           !this.nameError &&\r\n           !this.assetTypeError &&\r\n           !this.categoryError &&\r\n           !this.serialNumberError;\r\n  }\r\n\r\n  getSelectedParent() {\r\n    return this.possibleParents.find(p => p.id === this.assetForm.get('parent_id')?.value);\r\n  }\r\n\r\n  // Helper method to convert date from display format to backend format\r\n  private convertDateToBackendFormat(dateStr: string): string {\r\n    if (!dateStr) return '';\r\n\r\n    try {\r\n      // Parse the display format \"01 Jul, 2025\" to Date object\r\n      const date = new Date(dateStr);\r\n\r\n      // Check if date is valid\r\n      if (isNaN(date.getTime())) {\r\n        return dateStr; // Return original if parsing fails\r\n      }\r\n\r\n      // Convert to Y-m-d format\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n\r\n      return `${year}-${month}-${day}`;\r\n    } catch (error) {\r\n      console.error('Date conversion error:', error);\r\n      return dateStr; // Return original if conversion fails\r\n    }\r\n  }\r\n\r\n  // Helper method to convert backend date format to display format\r\n  private convertBackendDateToDisplay(dateStr: string): string {\r\n    if (!dateStr) return '';\r\n\r\n    try {\r\n      // Parse Y-m-d format to Date object\r\n      const date = new Date(dateStr);\r\n\r\n      // Check if date is valid\r\n      if (isNaN(date.getTime())) {\r\n        return dateStr; // Return original if parsing fails\r\n      }\r\n\r\n      // Convert to display format \"01 Jul, 2025\"\r\n      const options: Intl.DateTimeFormatOptions = {\r\n        day: '2-digit',\r\n        month: 'short',\r\n        year: 'numeric'\r\n      };\r\n\r\n      return date.toLocaleDateString('en-GB', options).replace(/,/g, ',');\r\n    } catch (error) {\r\n      console.error('Date conversion error:', error);\r\n      return dateStr; // Return original if conversion fails\r\n    }\r\n  }\r\n\r\n  // Helper method to convert display date string to Date object for flatpickr\r\n  private convertDisplayDateToDate(dateStr: string): Date | null {\r\n    if (!dateStr) return null;\r\n\r\n    try {\r\n      const date = new Date(dateStr);\r\n      return isNaN(date.getTime()) ? null : date;\r\n    } catch (error) {\r\n      console.error('Date conversion error:', error);\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","<div class=\"min-h-screen bg-gray-50 p-6\">\r\n  <div class=\"asset-edit-page\">\r\n    <!-- Header -->\r\n    <div class=\"mb-8\">\r\n      <div class=\"flex items-center space-x-4 mb-4\">\r\n        <button\r\n          type=\"button\"\r\n          (click)=\"goBack()\"\r\n          class=\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\">\r\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path>\r\n          </svg>\r\n          <span class=\"font-medium\">Back to Assets</span>\r\n        </button>\r\n      </div>\r\n      <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Edit Asset</h1>\r\n      <p class=\"text-gray-600\">\r\n        Update asset information and specifications\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Loading State -->\r\n    <div *ngIf=\"loading\" class=\"flex items-center justify-center py-20\">\r\n      <div class=\"text-center\">\r\n        <div class=\"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4\">\r\n          <svg class=\"animate-spin w-8 h-8 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n        </div>\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Loading Asset</h3>\r\n        <p class=\"text-sm text-gray-500\">Please wait while we fetch the asset details...</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div *ngIf=\"error && !loading\" class=\"flex items-center justify-center py-20\">\r\n      <div class=\"text-center\">\r\n        <div class=\"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4\">\r\n          <svg class=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n          </svg>\r\n        </div>\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Error Loading Asset</h3>\r\n        <p class=\"text-sm text-gray-500 mb-4\">{{error}}</p>\r\n        <button\r\n          (click)=\"goBack()\"\r\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n          Back to Assets\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Form Content -->\r\n    <div *ngIf=\"!loading && !error\">\r\n      <form [formGroup]=\"assetForm\" (ngSubmit)=\"onSubmit()\" >\r\n        <!-- Basic Information -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Basic Information</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Asset Name <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                [class.border-red-300]=\"nameError\"\r\n                placeholder=\"e.g., Main Server Room AC Unit\"\r\n                formControlName=\"name\" />\r\n              <div *ngIf=\"nameError\" class=\"text-red-600 text-sm mt-1\">\r\n                <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                </svg>\r\n                {{ nameError }}\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Asset ID</label>\r\n              <div class=\"flex items-center space-x-3\">\r\n                <input type=\"text\" class=\"input flex-1\" [value]=\"asset?.asset_id || asset?.id\" readonly />\r\n                <span class=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n                  auto-generated\r\n                </span>\r\n              </div>\r\n              <p class=\"text-xs text-gray-500 mt-1\">Unique identifier automatically assigned</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-6\">\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Parent Asset</label>\r\n            <!-- Custom Parent Asset Dropdown -->\r\n            <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n              <button\r\n                type=\"button\"\r\n                (click)=\"showParentDropdown = !showParentDropdown\"\r\n                class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                [class.border-blue-500]=\"showParentDropdown\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span *ngIf=\"!assetForm.get('parent_id')?.value\" class=\"text-gray-400\">Select parent asset</span>\r\n                  <span *ngIf=\"assetForm.get('parent_id')?.value && getSelectedParent()\" class=\"text-gray-900\">\r\n                    {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r\n                  </span>\r\n                  <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showParentDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                  </svg>\r\n                </div>\r\n              </button>\r\n              <!-- Dropdown Menu -->\r\n              <div *ngIf=\"showParentDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                <div class=\"py-1\">\r\n                  <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select parent asset</div>\r\n                  <button\r\n                    type=\"button\"\r\n                    (click)=\"assetForm.get('parent_id')?.setValue(null); showParentDropdown = false\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"!assetForm.get('parent_id')?.value\">\r\n                    -- None --\r\n                  </button>\r\n                  <button\r\n                    *ngFor=\"let parent of possibleParents\"\r\n                    type=\"button\"\r\n                    (click)=\"assetForm.get('parent_id')?.setValue(parent.id); showParentDropdown = false\"\r\n                    class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                    [class.bg-blue-50]=\"assetForm.get('parent_id')?.value === parent.id\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                        <svg class=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-gray-900\">{{parent.name}}</div>\r\n                        <div class=\"text-xs text-gray-500\">{{parent.asset_id}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Optional: Select a parent asset if this asset is a child of another.</div>\r\n          </div>\r\n\r\n          <div class=\"mb-6\">\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n            <textarea\r\n              class=\"input resize-none\"\r\n              rows=\"3\"\r\n              placeholder=\"Brief description of the asset and its purpose...\"\r\n              formControlName=\"description\"\r\n              maxlength=\"500\"></textarea>\r\n            <div class=\"text-xs text-gray-500 mt-1\">Maximum 500 characters</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-3\">Health Score</label>\r\n            <div class=\"bg-gray-50 rounded-lg p-4\">\r\n              <div class=\"flex items-center justify-between mb-3\">\r\n                <span class=\"text-sm text-gray-600\">Current Score</span>\r\n                <span class=\"text-2xl font-bold\" [class.text-red-600]=\"(assetForm.get('health_score')?.value || 85) < 50\" [class.text-green-600]=\"(assetForm.get('health_score')?.value || 85) >= 50\">{{ assetForm.get('health_score')?.value || 85 }}%</span>\r\n              </div>\r\n              <!-- Custom Health Score Bar with Working Slider -->\r\n              <div class=\"relative w-full h-6 mb-3\">\r\n                <!-- Background Track -->\r\n                <div class=\"absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg\"></div>\r\n\r\n                <!-- Progress Bar -->\r\n                <div\r\n                  class=\"absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300\"\r\n                  [class.bg-red-500]=\"(assetForm.get('health_score')?.value || 85) < 50\"\r\n                  [class.bg-green-500]=\"(assetForm.get('health_score')?.value || 85) >= 50\"\r\n                  [style.width.%]=\"assetForm.get('health_score')?.value || 85\"></div>\r\n\r\n                <!-- Interactive Range Input -->\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  formControlName=\"health_score\"\r\n                  class=\"absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input\" />\r\n\r\n                <!-- Custom Thumb -->\r\n                <div\r\n                  class=\"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300\"\r\n                  [class.bg-red-500]=\"(assetForm.get('health_score')?.value || 85) < 50\"\r\n                  [class.bg-green-500]=\"(assetForm.get('health_score')?.value || 85) >= 50\"\r\n                  [style.left.%]=\"assetForm.get('health_score')?.value || 85\"\r\n                  style=\"margin-left: -8px;\"></div>\r\n              </div>\r\n\r\n              <div class=\"flex justify-between text-xs text-gray-500 mt-2\">\r\n                <span>Poor (0%)</span>\r\n                <span>Fair (25%)</span>\r\n                <span>Good (50%)</span>\r\n                <span>Very Good (75%)</span>\r\n                <span>Excellent (100%)</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Asset Classification -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Asset Classification</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Asset Type <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <!-- Custom Asset Type Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleAssetTypeDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-red-300]=\"assetTypeError\"\r\n                  [class.border-blue-500]=\"showAssetTypeDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <span *ngIf=\"!selectedAssetType\" class=\"text-gray-400\">Select asset type</span>\r\n                    <div *ngIf=\"selectedAssetType\" class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-6 h-6 rounded flex items-center justify-center\" [style.background-color]=\"selectedAssetType.color + '20'\">\r\n                        <img\r\n                          *ngIf=\"selectedAssetType.icon && !selectedAssetType.iconError\"\r\n                          [src]=\"selectedAssetType.icon\"\r\n                          [alt]=\"selectedAssetType.name || selectedAssetType.label\"\r\n                          class=\"w-4 h-4\"\r\n                          (error)=\"onAssetTypeIconError($event, selectedAssetType)\">\r\n                        <svg\r\n                          *ngIf=\"!selectedAssetType.icon || selectedAssetType.iconError\"\r\n                          class=\"w-4 h-4\"\r\n                          [style.color]=\"selectedAssetType.color\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <span class=\"text-gray-900\">{{selectedAssetType.label}}</span>\r\n                    </div>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showAssetTypeDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showAssetTypeDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                  <div class=\"py-1\">\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select asset type</div>\r\n                    <button\r\n                      *ngFor=\"let type of assetTypes\"\r\n                      type=\"button\"\r\n                      (click)=\"selectAssetType(type)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"selectedAssetType?.id === type.id\"\r\n                      [class.text-blue-700]=\"selectedAssetType?.id === type.id\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div class=\"w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100\">\r\n                          <img\r\n                            *ngIf=\"type.icon && !type.iconError\"\r\n                            [src]=\"type.icon\"\r\n                            [alt]=\"type.name || type.label\"\r\n                            class=\"w-5 h-5\"\r\n                            (error)=\"onAssetTypeIconError($event, type)\">\r\n                          <svg\r\n                            *ngIf=\"!type.icon || type.iconError\"\r\n                            class=\"w-5 h-5 text-blue-600\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path>\r\n                          </svg>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"font-medium text-gray-900\">{{type.label || type.name}}</div>\r\n                          <div class=\"text-sm text-gray-500\">{{type.description}}</div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"assetTypeError\" class=\"text-red-600 text-sm mt-1\">\r\n                <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                </svg>\r\n                {{ assetTypeError }}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Category <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <!-- Custom Category Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleCategoryDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-red-300]=\"categoryError\"\r\n                  [class.border-blue-500]=\"showCategoryDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <span *ngIf=\"!selectedCategory\" class=\"text-gray-400\">Select category</span>\r\n                    <span *ngIf=\"selectedCategory\" class=\"text-gray-900\">{{selectedCategory.name}}</span>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showCategoryDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showCategoryDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                  <div class=\"py-1\">\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select category</div>\r\n                    <button\r\n                      *ngFor=\"let cat of categories\"\r\n                      type=\"button\"\r\n                      (click)=\"selectCategory(cat)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"selectedCategory?.id === cat.id\"\r\n                      [class.text-blue-700]=\"selectedCategory?.id === cat.id\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div class=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                          <img\r\n                            *ngIf=\"cat.icon\"\r\n                            [src]=\"cat.icon\"\r\n                            [alt]=\"cat.name\"\r\n                            class=\"w-5 h-5\"\r\n                            (error)=\"onCategoryIconError($event, cat)\">\r\n                          <svg\r\n                            *ngIf=\"!cat.icon || cat.iconError\"\r\n                            class=\"w-5 h-5 text-gray-600\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"></path>\r\n                          </svg>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"font-medium text-gray-900\">{{cat.name}}</div>\r\n                          <div *ngIf=\"cat.description\" class=\"text-sm text-gray-500\">{{cat.description}}</div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"categoryError\" class=\"text-red-600 text-sm mt-1\">\r\n                <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                </svg>\r\n                {{ categoryError }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Technical Details -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Technical Details</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Manufacturer</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                placeholder=\"e.g., Dell, HP, Toyota\"\r\n                formControlName=\"manufacturer\"\r\n                maxlength=\"100\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Brand</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                placeholder=\"e.g., Apple, Samsung\"\r\n                formControlName=\"brand\"\r\n                maxlength=\"100\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Optional</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Model</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                placeholder=\"e.g., PowerEdge R730\"\r\n                formControlName=\"model\"\r\n                maxlength=\"100\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Maximum 100 characters</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Dimensions</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"dimensions\"\r\n                placeholder=\"e.g., 120×60×40 cm\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">L × W × H (any unit)</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Weight</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"weight\"\r\n                placeholder=\"e.g., 12.5 kg\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Any unit</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Capacity</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"capacity\"\r\n                placeholder=\"e.g., 256 GB, 5000 mAh, 2 Ton\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Optional</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Serial Number <span class=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                [class.border-red-300]=\"serialNumberError\"\r\n                placeholder=\"e.g., SN123456789\"\r\n                formControlName=\"serial_number\"\r\n                maxlength=\"100\" />\r\n              <div *ngIf=\"serialNumberError\" class=\"text-red-600 text-sm mt-1\">\r\n                <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n                </svg>\r\n                {{ serialNumberError }}\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">Required, max 100 chars, must be unique within your company</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Financial Information -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Financial Information</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Purchase Value (USD)</label>\r\n              <div class=\"relative\">\r\n                <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <span class=\"text-gray-500 sm:text-sm\">$ </span>\r\n                </div>\r\n                <input\r\n                  type=\"number\"\r\n                  class=\"input\"\r\n                  style=\"padding-left: 24px;\"\r\n                  placeholder=\"5,000.00\"\r\n                  formControlName=\"purchase_price\"\r\n                  step=\"0.01\"\r\n                  min=\"0\" />\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">Must be a non-negative number</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Purchase Date</label>\r\n              <input\r\n                #dateInput\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"purchase_date\"\r\n                placeholder=\"Select purchase date\"\r\n                readonly />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Cannot be in the future</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Depreciation Rate (%)</label>\r\n              <input\r\n                type=\"number\"\r\n                class=\"input\"\r\n                formControlName=\"depreciation\"\r\n                placeholder=\"e.g., 20\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                step=\"0.01\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Annual depreciation rate (0-100%)</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Depreciation Life (Years)</label>\r\n              <input\r\n                type=\"number\"\r\n                class=\"input\"\r\n                formControlName=\"depreciation_life\"\r\n                placeholder=\"e.g., 5\"\r\n                min=\"1\"\r\n                max=\"100\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Useful life for depreciation calculation (1-100 years)</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Warranty Information</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"warranty\"\r\n                placeholder=\"e.g., 2 years manufacturer warranty\"\r\n                maxlength=\"255\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Warranty details (max 255 characters)</div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Insurance Information</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                formControlName=\"insurance\"\r\n                placeholder=\"e.g., Policy #12345, expires 2025-12-31\"\r\n                maxlength=\"255\" />\r\n              <div class=\"text-xs text-gray-500 mt-1\">Insurance details (max 255 characters)</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Location & Assignment -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Location & Assignment</h2>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n              <!-- Custom Location Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleLocationDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-blue-500]=\"showLocationDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <span *ngIf=\"!selectedLocation\" class=\"text-gray-400\">Select location</span>\r\n                    <div *ngIf=\"selectedLocation\" class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-6 h-6 bg-indigo-100 rounded flex items-center justify-center\">\r\n                        <svg class=\"w-4 h-4 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <span class=\"text-gray-900\">{{selectedLocation.label || selectedLocation.name}}</span>\r\n                    </div>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showLocationDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showLocationDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                  <div class=\"py-1\">\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select location</div>\r\n                    <button\r\n                      *ngFor=\"let loc of locations\"\r\n                      type=\"button\"\r\n                      (click)=\"selectLocation(loc)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"selectedLocation?.id === loc.id\"\r\n                      [class.text-blue-700]=\"selectedLocation?.id === loc.id\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div class=\"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center\">\r\n                          <svg class=\"w-5 h-5 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                          </svg>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"font-medium text-gray-900\">{{ getLocationLabel(loc) }}</div>\r\n                          <div *ngIf=\"loc.type\" class=\"text-sm text-gray-500\">{{loc.type.name}}</div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Department ID</label>\r\n              <!-- Custom Department Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleDepartmentDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-blue-500]=\"showDepartmentDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <span *ngIf=\"!selectedDepartment\" class=\"text-gray-400\">Select department</span>\r\n                    <div *ngIf=\"selectedDepartment\" class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-6 h-6 bg-purple-100 rounded flex items-center justify-center\">\r\n                        <svg class=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"></path>\r\n                        </svg>\r\n                      </div>\r\n                      <span class=\"text-gray-900\">{{selectedDepartment.name}}</span>\r\n                    </div>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showDepartmentDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showDepartmentDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                  <div class=\"py-1\">\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select department</div>\r\n                    <button\r\n                      *ngFor=\"let dept of departments\"\r\n                      type=\"button\"\r\n                      (click)=\"selectDepartment(dept)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"selectedDepartment?.id === dept.id\"\r\n                      [class.text-blue-700]=\"selectedDepartment?.id === dept.id\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div class=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                          <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"></path>\r\n                          </svg>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"font-medium text-gray-900\">{{dept.name}}</div>\r\n                          <div *ngIf=\"dept.description\" class=\"text-sm text-gray-500\">{{dept.description}}</div>\r\n                          <div *ngIf=\"dept.code\" class=\"text-xs text-gray-400\">Code: {{dept.code}}</div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">Optional department assignment</div>\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n              <!-- Custom Status Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleStatusDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-blue-500]=\"showStatusDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <div *ngIf=\"selectedStatus; else statusPlaceholder\" class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-3 h-3 rounded-full\" [style.background-color]=\"selectedStatus.hexColor || '#6B7280'\"></div>\r\n                      <span class=\"text-gray-900\">{{selectedStatus.label}}</span>\r\n                    </div>\r\n                    <ng-template #statusPlaceholder>\r\n                      <span class=\"text-gray-400\">Select status</span>\r\n                    </ng-template>\r\n                    <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showStatusDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showStatusDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg\">\r\n                  <div class=\"py-1\">\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select status</div>\r\n                    <button\r\n                      *ngFor=\"let status of statusOptions\"\r\n                      type=\"button\"\r\n                      (click)=\"selectStatus(status)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"selectedStatus?.value === status.value\"\r\n                      [class.text-blue-700]=\"selectedStatus?.value === status.value\">\r\n                      <div class=\"flex items-center space-x-3\">\r\n                        <div [class]=\"'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'\">\r\n                          <div class=\"w-3 h-3 rounded-full\" [style.background-color]=\"status.hexColor || '#6B7280'\"></div>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"font-medium text-gray-900\">{{status.label}}</div>\r\n                          <div class=\"text-sm text-gray-500\">{{status.description}}</div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">Current operational status of the asset</div>\r\n            </div>\r\n\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Tags</label>\r\n              <!-- Selected Tags Display -->\r\n              <div *ngIf=\"selectedTags.length > 0\" class=\"mb-3\">\r\n                <div class=\"flex flex-wrap gap-2\">\r\n                  <span *ngFor=\"let tag of selectedTags\"\r\n                        [class]=\"'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'\">\r\n                    {{tag.name}}\r\n                    <button\r\n                      type=\"button\"\r\n                      (click)=\"removeTag(tag)\"\r\n                      class=\"ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors\">\r\n                      <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                      </svg>\r\n                    </button>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Tags Dropdown -->\r\n              <div class=\"relative\" (click)=\"$event.stopPropagation()\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"toggleTagsDropdown()\"\r\n                  class=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all\"\r\n                  [class.border-blue-500]=\"showTagsDropdown\">\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <span class=\"text-gray-400\">\r\n                      {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r\n                    </span>\r\n                    <div class=\"flex items-center space-x-2\">\r\n                      <span *ngIf=\"selectedTags.length > 0\" class=\"text-sm text-gray-500\">\r\n                        {{selectedTags.length}} selected\r\n                      </span>\r\n                      <svg class=\"w-5 h-5 text-gray-400 transition-transform\" [class.rotate-180]=\"showTagsDropdown\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n\r\n                <!-- Dropdown Menu -->\r\n                <div *ngIf=\"showTagsDropdown\" class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\r\n                  <div class=\"py-1\">\r\n                    <!-- Add New Tag Input -->\r\n                    <div class=\"px-3 py-2 border-b border-gray-100\">\r\n                      <div class=\"relative\">\r\n                        <input\r\n                          type=\"text\"\r\n                          [(ngModel)]=\"newTagInput\"\r\n                          [ngModelOptions]=\"{standalone: true}\"\r\n                          (keydown)=\"onTagInputKeydown($event)\"\r\n                          placeholder=\"Type to create new tag...\"\r\n                          class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                          (click)=\"$event.stopPropagation()\">\r\n                        <div class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400\">\r\n                          Press Enter\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50\">Select tags</div>\r\n                    <button\r\n                      *ngFor=\"let tag of availableTags\"\r\n                      type=\"button\"\r\n                      (click)=\"toggleTag(tag)\"\r\n                      class=\"w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors\"\r\n                      [class.bg-blue-50]=\"isTagSelected(tag)\">\r\n                      <div class=\"flex items-center justify-between\">\r\n                        <div class=\"flex items-center space-x-3\">\r\n                          <div [class]=\"'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'\">\r\n                            <div [class]=\"'w-3 h-3 rounded-full bg-' + tag.color + '-500'\"></div>\r\n                          </div>\r\n                          <span class=\"font-medium text-gray-900\">{{tag.name}}</span>\r\n                        </div>\r\n                        <div *ngIf=\"isTagSelected(tag)\" class=\"text-blue-600\">\r\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n                          </svg>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-xs text-gray-500 mt-1\">\r\n                <svg class=\"w-3 h-3 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                </svg>\r\n                Select existing tags or type to create new ones. Press Enter to add custom tags.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Asset Image -->\r\n        <div class=\"section-card\">\r\n          <div class=\"flex items-center space-x-3 mb-6\">\r\n            <div class=\"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center\">\r\n              <svg class=\"w-5 h-5 text-pink-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n              </svg>\r\n            </div>\r\n            <h2 class=\"section-title\">Asset Image</h2>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload Image</label>\r\n            <div\r\n              (click)=\"triggerFileInput()\"\r\n              class=\"mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200\"\r\n              [class.border-gray-300]=\"!isDragOver\"\r\n              [class.border-blue-500]=\"isDragOver\"\r\n              [class.bg-blue-50]=\"isDragOver\"\r\n              [class.hover:border-blue-400]=\"!isDragOver\"\r\n              (dragover)=\"onDragOver($event)\"\r\n              (dragleave)=\"onDragLeave($event)\"\r\n              (drop)=\"onDrop($event)\">\r\n              <div class=\"space-y-1 text-center\">\r\n                <!-- Upload Icon -->\r\n                <div class=\"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\r\n                  <svg class=\"w-8 h-8 transition-colors\"\r\n                       [class.text-gray-400]=\"!isDragOver\"\r\n                       [class.text-blue-500]=\"isDragOver\"\r\n                       fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n                  </svg>\r\n                </div>\r\n\r\n                <p class=\"text-sm transition-colors\"\r\n                   [class.text-gray-500]=\"!isDragOver\"\r\n                   [class.text-blue-600]=\"isDragOver\">\r\n                  {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r\n                </p>\r\n\r\n                <!-- Hidden file input for drag and drop -->\r\n                <input #fileInput id=\"file-upload\" name=\"file-upload\" type=\"file\" class=\"sr-only\" (change)=\"onFileChange($event)\" accept=\"image/*\" multiple>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Image Gallery -->\r\n            <div *ngIf=\"existingImages.length > 0 || imagePreviewUrls.length > 0\" class=\"mt-6\">\r\n              <div class=\"flex items-center justify-between mb-4\">\r\n                <h4 class=\"text-sm font-medium text-gray-700\">Asset Images ({{existingImages.length + imagePreviewUrls.length}})</h4>\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"removeAllImages(); removeAllExistingImages()\"\r\n                  class=\"text-red-600 hover:text-red-700 text-sm font-medium transition-colors\">\r\n                  Remove All\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n                <!-- Existing Images -->\r\n                <div *ngFor=\"let existingImage of existingImages; let i = index\" class=\"relative group\">\r\n                  <!-- Image Preview -->\r\n                  <div class=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors\">\r\n                    <img\r\n                      [src]=\"existingImage.image_url\"\r\n                      [alt]=\"'Existing Asset Image ' + (i + 1)\"\r\n                      class=\"w-full h-full object-cover bg-white\"\r\n                      (error)=\"onImageError($event, i)\"\r\n                      loading=\"lazy\" />\r\n\r\n                    <!-- Image Overlay -->\r\n                    <div class=\"absolute inset-0 bg-black opacity-0 group-hover:opacity-50 transition-all duration-200 flex items-center justify-center\">\r\n                      <!-- Action Buttons -->\r\n                      <div class=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2\">\r\n                        <!-- View Full Size -->\r\n                        <button\r\n                          type=\"button\"\r\n                          (click)=\"viewFullImage(existingImage.image_url)\"\r\n                          class=\"w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm\">\r\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path>\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- Remove Button -->\r\n                    <button\r\n                      type=\"button\"\r\n                      (click)=\"removeExistingImage(i)\"\r\n                      class=\"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm\">\r\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                      </svg>\r\n                    </button>\r\n\r\n                    <!-- Existing Image Badge -->\r\n                    <div class=\"absolute top-2 left-2 px-2 py-1 bg-green-600 text-white rounded text-xs font-medium\">\r\n                      Existing\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Image Info -->\r\n                  <div class=\"mt-2 text-center\">\r\n                    <p class=\"text-xs text-gray-600 truncate\">{{existingImage.image_path.split('/').pop()}}</p>\r\n                    <p class=\"text-xs text-gray-500\">Existing Image</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- New Images -->\r\n                <div *ngFor=\"let previewUrl of imagePreviewUrls; let i = index\" class=\"relative group\">\r\n                  <!-- Image Preview -->\r\n                  <div class=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors\">\r\n                    <img\r\n                      [src]=\"previewUrl\"\r\n                      [alt]=\"'Asset Image ' + (i + 1)\"\r\n                      class=\"w-full h-full object-cover bg-white\"\r\n                      (error)=\"onImageError($event, existingImages.length + i)\"\r\n                      (load)=\"onImageLoad($event, existingImages.length + i)\"\r\n                      loading=\"lazy\" />\r\n\r\n                    <!-- Image Overlay -->\r\n                    <div class=\"absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center\">\r\n                      <!-- Action Buttons -->\r\n                      <div class=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2\">\r\n                        <!-- Move Up -->\r\n                        <button\r\n                          *ngIf=\"i > 0\"\r\n                          type=\"button\"\r\n                          (click)=\"moveImageUp(i)\"\r\n                          class=\"w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm\">\r\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 15l7-7 7 7\"></path>\r\n                          </svg>\r\n                        </button>\r\n\r\n                        <!-- Move Down -->\r\n                        <button\r\n                          *ngIf=\"i < imagePreviewUrls.length - 1\"\r\n                          type=\"button\"\r\n                          (click)=\"moveImageDown(i)\"\r\n                          class=\"w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm\">\r\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- Remove Button -->\r\n                    <button\r\n                      type=\"button\"\r\n                      (click)=\"removeImage(i)\"\r\n                      class=\"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm\">\r\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                      </svg>\r\n                    </button>\r\n\r\n                    <!-- Image Number Badge -->\r\n                    <div class=\"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white rounded text-xs font-medium\">\r\n                      New\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- Image Info -->\r\n                  <div class=\"mt-2 text-center\">\r\n                    <p class=\"text-xs text-gray-600 truncate\">{{images[i]?.name}}</p>\r\n                    <p class=\"text-xs text-gray-500\">{{ ((images[i]?.size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Gallery Instructions -->\r\n              <div class=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <svg class=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                  </svg>\r\n                  <p class=\"text-blue-800 text-sm\">\r\n                    <strong>Gallery Tips:</strong> Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Global Error Message -->\r\n        <div *ngIf=\"submitError\" class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n          <div class=\"flex items-center space-x-2\">\r\n            <svg class=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\r\n            </svg>\r\n            <p class=\"text-red-800 font-medium\">{{ submitError }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Success Message -->\r\n        <div *ngIf=\"submitSuccess\" class=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div class=\"flex items-center space-x-2\">\r\n            <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n            </svg>\r\n            <p class=\"text-green-800 font-medium\">{{ submitSuccess }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"flex items-center justify-between pt-6 border-t border-gray-200\">\r\n          <button\r\n            type=\"button\"\r\n            (click)=\"goBack()\"\r\n            [disabled]=\"saving\"\r\n            class=\"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\">\r\n            Cancel\r\n          </button>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            [disabled]=\"saving || !isFormValid()\"\r\n            class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm\">\r\n            <span *ngIf=\"!saving\" class=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n              </svg>\r\n              <span>Update Asset</span>\r\n            </span>\r\n            <span *ngIf=\"saving\" class=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              <span>Updating Asset...</span>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, EventEmitter, Output, OnDestroy } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport {Router, RouterLink} from '@angular/router';\r\nimport { AssetService } from '../../services/asset.service';\r\nimport { ImportProgressService } from '../../../shared/services/import-progress.service';\r\nimport { timer, interval, Subject, takeUntil } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-smart-import',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, RouterLink],\r\n  templateUrl: './smart-import.component.html',\r\n  styleUrls: ['./smart-import.component.scss']\r\n})\r\nexport class SmartImportComponent implements OnDestroy {\r\n  @Output() importComplete = new EventEmitter<void>();\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  // Step management\r\n  currentStep = 1;\r\n  totalSteps = 2; // Simplified to: 1. Upload, 2. Progress\r\n\r\n  // File upload state\r\n  uploadedFile: File | null = null;\r\n  uploaded = false;\r\n\r\n  // Import state\r\n  importLoading = false;\r\n  isImportComplete = false;\r\n  importedCount = 0;\r\n\r\n  // Import results\r\n  importResults: any = null;\r\n  showResults = false;\r\n\r\n  // Error state\r\n  errorMessage = '';\r\n  showError = false;\r\n\r\n  // These properties are now managed by ImportProgressService\r\n\r\n  constructor(\r\n    private assetService: AssetService,\r\n    private router: Router,\r\n    private importProgressService: ImportProgressService\r\n  ) {}\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  /**\r\n   * Handle file upload\r\n   */\r\n  parseFile(event: any): void {\r\n    const file = event.target.files[0];\r\n\r\n    // Clear any existing errors\r\n    this.clearError();\r\n\r\n    if (!file) {\r\n      this.errorMessage = 'No file selected';\r\n      this.showError = true;\r\n      return;\r\n    }\r\n\r\n    const fileExtension = file.name.split('.').pop()?.toLowerCase();\r\n    if (!fileExtension || !['xlsx', 'xls'].includes(fileExtension)) {\r\n      this.errorMessage = 'Please upload a valid Excel file (.xlsx, .xls).';\r\n      this.showError = true;\r\n      return;\r\n    }\r\n\r\n    this.uploadedFile = file;\r\n    this.uploaded = true;\r\n    this.currentStep = 2;\r\n  }\r\n\r\n  /**\r\n   * Clear error state\r\n   */\r\n  clearError(): void {\r\n    this.errorMessage = '';\r\n    this.showError = false;\r\n  }\r\n\r\n  /**\r\n   * Start the bulk import process\r\n   */\r\n  startBulkImport(): void {\r\n    if (!this.uploadedFile) {\r\n      this.errorMessage = 'No file selected for import';\r\n          this.showError = true;\r\n          return;\r\n        }\r\n\r\n    this.importLoading = true;\r\n    this.clearError();\r\n\r\n    this.assetService.importBulkExcel(this.uploadedFile).subscribe({\r\n      next: (response: any) => {\r\n        this.importLoading = false;\r\n        if (response && response.success && response.data?.job_id) {\r\n          // Start the progress tracking using the service\r\n          this.importProgressService.startImport(response.data.job_id, response.data);\r\n      } else {\r\n          this.errorMessage = response.message || 'Invalid response from server';\r\n        this.showError = true;\r\n      }\r\n      },\r\n      error: (error) => {\r\n        this.importLoading = false;\r\n        this.errorMessage = error.error?.message || 'Error starting import process';\r\n      this.showError = true;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Reset the import process\r\n   */\r\n  resetImport(): void {\r\n    this.currentStep = 1;\r\n    this.uploadedFile = null;\r\n    this.uploaded = false;\r\n    this.importLoading = false;\r\n    this.clearError();\r\n  }\r\n\r\n  /**\r\n   * Close all dropdowns when clicking outside (compatibility method)\r\n   */\r\n  closeAllDropdowns(): void {\r\n    // No-op for compatibility with template\r\n  }\r\n}\r\n","<!-- Smart Import Component -->\r\n<div class=\"min-h-screen bg-gray-50 py-8\">\r\n  <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n\r\n    <!-- Header -->\r\n    <div class=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8\">\r\n      <div class=\"flex justify-between items-start mb-6\">\r\n        <div>\r\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Smart Asset Import</h1>\r\n          <p class=\"text-gray-600 text-base\">Import multiple assets efficiently with our guided wizard</p>\r\n        </div>\r\n              <button\r\n         routerLink=\"/assets/list\"\r\n          class=\"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-lg transition-colors flex items-center\">\r\n          <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\r\n          </svg>\r\n          Back to Assets\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Step Indicator -->\r\n      <div class=\"flex items-center justify-center mb-8\">\r\n        <div class=\"flex items-center space-x-4\">\r\n          <!-- Step 1 -->\r\n          <div class=\"flex items-center\">\r\n            <div class=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold\">1</div>\r\n            <span class=\"ml-2 text-sm font-medium text-gray-900\">Upload File</span>\r\n          </div>\r\n\r\n          <!-- Connector -->\r\n          <div class=\"w-16 h-1 bg-gray-300 rounded\" [class.bg-blue-600]=\"currentStep >= 2\"></div>\r\n\r\n          <!-- Step 2 -->\r\n          <div class=\"flex items-center\">\r\n            <div class=\"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold\"\r\n                 [class.bg-blue-600]=\"currentStep >= 2\"\r\n                 [class.text-white]=\"currentStep >= 2\"\r\n                 [class.bg-gray-300]=\"currentStep < 2\"\r\n                 [class.text-gray-600]=\"currentStep < 2\">2</div>\r\n            <span class=\"ml-2 text-sm font-medium\"\r\n                  [class.text-gray-900]=\"currentStep >= 2\"\r\n                  [class.text-gray-500]=\"currentStep < 2\">Start Import</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Error Display -->\r\n      <div *ngIf=\"showError\" class=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n        <div class=\"flex items-center\">\r\n          <svg class=\"w-5 h-5 text-red-500 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n          </svg>\r\n          <span class=\"text-red-700 text-sm font-medium\">{{ errorMessage }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 1: Upload File -->\r\n      <div *ngIf=\"currentStep === 1\">\r\n        <!-- Upload Area -->\r\n        <div class=\"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-gray-400 transition-colors\">\r\n          <div class=\"max-w-md mx-auto\">\r\n            <svg class=\"w-16 h-16 mx-auto text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"></path>\r\n            </svg>\r\n\r\n            <div *ngIf=\"!uploaded\">\r\n              <p class=\"text-lg font-medium text-gray-900 mb-2\">Choose Excel File</p>\r\n              <p class=\"text-gray-500 mb-4\">or drag and drop your file here</p>\r\n             <button\r\n                type=\"button\"\r\n                (click)=\"fileInput.click()\"\r\n                class=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors\">\r\n                Browse Files\r\n              </button>\r\n             <input\r\n                #fileInput\r\n               type=\"file\"\r\n               accept=\".xlsx,.xls\"\r\n               class=\"hidden\"\r\n                (change)=\"parseFile($event)\">\r\n            </div>\r\n\r\n            <div *ngIf=\"uploaded\" class=\"text-center\">\r\n              <div class=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                <svg class=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n                </svg>\r\n              </div>\r\n              <p class=\"text-lg font-medium text-gray-900 mb-1\">File Uploaded Successfully!</p>\r\n              <p class=\"text-gray-600 text-sm\">{{ uploadedFile?.name }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- File Requirements -->\r\n        <div class=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <h3 class=\"text-sm font-medium text-blue-900 mb-2\">File Requirements:</h3>\r\n          <ul class=\"text-sm text-blue-700 space-y-1\">\r\n            <li>• Excel files only (.xlsx, .xls)</li>\r\n            <li>• First row should contain column headers</li>\r\n            <li>• Maximum file size: 10MB</li>\r\n            <li>• Required columns: Asset Name, Location, Category</li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Template Download -->\r\n        <div class=\"text-center\">\r\n          <p class=\"text-gray-600 text-sm mb-4\">\r\n            Need a template? Download our sample Excel file:\r\n          </p>\r\n           <a href=\"/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx\"\r\n              download\r\n              class=\"text-blue-600 hover:text-blue-700 font-medium text-sm underline\">\r\n              Download Excel Template\r\n            </a>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 2: Start Import -->\r\n      <div *ngIf=\"currentStep === 2\">\r\n        <div class=\"text-center\">\r\n          <div class=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n            <svg class=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n            </svg>\r\n          </div>\r\n\r\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-4\">Ready to Import</h2>\r\n          <p class=\"text-gray-600 mb-6\">Your file has been validated and is ready for import.</p>\r\n\r\n          <!-- File Summary -->\r\n          <div class=\"bg-gray-50 rounded-lg p-6 mb-6 max-w-md mx-auto\">\r\n            <div class=\"text-left space-y-3\">\r\n              <div class=\"flex justify-between\">\r\n                <span class=\"text-gray-600\">File:</span>\r\n                <span class=\"font-medium text-gray-900 truncate ml-4\">{{ uploadedFile?.name }}</span>\r\n              </div>\r\n              <div class=\"flex justify-between\">\r\n                <span class=\"text-gray-600\">Size:</span>\r\n                <span class=\"font-medium text-gray-900\">{{ uploadedFile?.size ? (uploadedFile!.size / 1024 / 1024).toFixed(2) : '0' }} MB</span>\r\n              </div>\r\n              <!-- File Info will be populated after upload -->\r\n              <div *ngIf=\"uploadedFile?.lastModified\" class=\"flex justify-between\">\r\n                <span class=\"text-gray-600\">Modified:</span>\r\n                <span class=\"font-medium text-gray-900\">{{ uploadedFile?.lastModified | date:'medium' }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Processing Info (if available from previous upload) -->\r\n            <div *ngIf=\"importResults?.file_stats\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4\">\r\n              <h4 class=\"font-medium text-blue-900 mb-2\">File Analysis:</h4>\r\n              <div class=\"text-sm text-blue-800 space-y-1\">\r\n                <div>Total rows: {{ importResults.file_stats.total_rows_processed }}</div>\r\n                <div>Valid assets: {{ importResults.file_stats.valid_assets_found }}</div>\r\n                <div>Skipped rows: {{ importResults.file_stats.skipped_rows }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Import Actions -->\r\n          <div class=\"flex justify-center space-x-4\">\r\n           <button\r\n              (click)=\"resetImport()\"\r\n              class=\"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors\">\r\n              Choose Different File\r\n            </button>\r\n           <button\r\n              (click)=\"startBulkImport()\"\r\n              [disabled]=\"importLoading\"\r\n              class=\"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center\">\r\n             <svg *ngIf=\"importLoading\"  class=\"animate-spin -ml-1 mr-3 h-4 w-4 text-blue\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n               <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n               <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n             </svg>\r\n              {{ importLoading ? 'Starting Import...' : 'Start Import' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Progress box is now handled globally by ImportProgressPopupComponent -->\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AssetListComponent } from './asset-list/asset-list.component';\r\nimport { AssetCreateComponent } from './asset-list/asset-create.component';\r\nimport { AssetViewComponent } from './components/asset-view/asset-view.component';\r\nimport { AssetEditComponent } from './components/asset-edit/asset-edit.component';\r\nimport { SmartImportComponent } from './components/smart-import/smart-import.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'list', component: AssetListComponent },\r\n  { path: 'create', component: AssetCreateComponent },\r\n  { path: 'import', component: SmartImportComponent },\r\n  { path: 'preview/:id', component: AssetViewComponent },\r\n  { path: ':id/edit', component: AssetEditComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AssetsRoutingModule {} ","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AssetsRoutingModule } from './assets-routing.module';\r\nimport { AssetListComponent } from './asset-list/asset-list.component';\r\nimport { AssetViewComponent } from './components/asset-view/asset-view.component';\r\nimport { AssetEditComponent } from './components/asset-edit/asset-edit.component';\r\nimport { TransferAssetModalComponent } from './components/transfer-asset-modal/transfer-asset-modal.component';\r\nimport { SmartImportComponent } from './components/smart-import/smart-import.component';\r\nimport { PublicAssetViewComponent } from './components/public-asset-view/public-asset-view.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, AssetsRoutingModule, AssetListComponent, AssetViewComponent, AssetEditComponent, TransferAssetModalComponent, SmartImportComponent, PublicAssetViewComponent],\r\n})\r\nexport class AssetsModule {} "],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","names":["asset","_a","source","defaults","element","triggerChange","month","formats","style","QRCode","_c1","_c2"],"x_google_ignoreList":[6,7,8,9,10,11,12,13]}