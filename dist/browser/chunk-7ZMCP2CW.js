import{c as F,d as P,f as y,g as w}from"./chunk-C5P3YSZX.js";import{b as E,d as j,g as I,i as J,p as W,q as Y,r as q,s as K,w as D}from"./chunk-NCT72HTT.js";import{Ab as S,Bb as T,Cb as k,Fa as a,Oa as M,Sa as f,Za as s,ab as G,ba as z,ca as d,da as g,ea as _,fa as h,fc as H,gb as i,gc as V,hb as o,ib as b,la as C,lb as x,mb as u,mc as O,nb as c,pb as R,vb as p,wb as N,xb as v,yb as A,zb as B}from"./chunk-KOPF5GMC.js";function te(t,l){if(t&1&&(i(0,"div",29)(1,"p",30),p(2),o()()),t&2){let e=c(2);a(2),N(e.warningText)}}function ne(t,l){if(t&1&&(i(0,"span"),p(1),o()),t&2){let e=c(2);a(),A("Delete ",e.selectedCount," ",e.selectedCount===1?e.entitySingular:e.entityPlural,"")}}function ie(t,l){t&1&&(i(0,"span",31),_(),i(1,"svg",32),b(2,"circle",33)(3,"path",34),o(),h(),i(4,"span"),p(5,"Deleting..."),o()())}function oe(t,l){if(t&1){let e=x();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),_(),i(5,"svg",6),b(6,"path",7),o()(),h(),i(7,"h2",8),p(8),o()(),i(9,"button",9),u("click",function(){d(e);let n=c();return g(n.onCancel())}),_(),i(10,"svg",10),b(11,"path",11),o()()(),h(),i(12,"div",12)(13,"div",13)(14,"label",14),p(15,"Deletion Reason (Optional)"),o(),i(16,"textarea",15),k("ngModelChange",function(n){d(e);let m=c();return T(m.deletionReason,n)||(m.deletionReason=n),g(n)}),o(),i(17,"p",16),p(18,"This will be recorded in the audit trail"),o()(),i(19,"div",17)(20,"div",18),_(),i(21,"svg",19),b(22,"path",7),o()()(),h(),i(23,"div",20)(24,"h3",21),p(25),o(),i(26,"p",22),p(27),o(),f(28,te,3,1,"div",23),o(),i(29,"div",24)(30,"button",25),u("click",function(){d(e);let n=c();return g(n.onCancel())}),p(31," Cancel "),o(),i(32,"button",26),u("click",function(){d(e);let n=c();return g(n.onConfirm())}),f(33,ne,2,2,"span",27)(34,ie,6,0,"span",28),o()()()()()}if(t&2){let e=c();s("@backdropAnimation",void 0),a(),s("@modalAnimation",void 0),a(7),N(e.title||"Delete Selected "+(e.selectedCount===1?e.entitySingular:e.entityPlural)),a(),s("disabled",e.loading),a(7),R("placeholder","Enter reason for permanently deleting these ",e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase(),"..."),S("ngModel",e.deletionReason),a(9),A("Are you sure you want to permanently delete ",e.selectedCount," ",e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase(),"?"),a(2),v(" This action cannot be undone. The ",e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase()," will be permanently removed from the system. "),a(),s("ngIf",e.warningText),a(2),s("disabled",e.loading),a(2),s("disabled",e.loading),a(),s("ngIf",!e.loading),a(),s("ngIf",e.loading)}}var Q=class t{isOpen=!1;selectedCount=0;entitySingular="Asset";entityPlural="Assets";title=null;warningText="\u26A0\uFE0F Warning: Only archived assets can be permanently deleted";closeModal=new C;confirmDelete=new C;loading=!1;deletionReason="";onConfirm(){this.loading=!0,this.confirmDelete.emit(this.deletionReason),setTimeout(()=>{this.loading=!1,this.deletionReason=""},2e3)}onCancel(){this.loading||(this.deletionReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-delete-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount",entitySingular:"entitySingular",entityPlural:"entityPlural",title:"title",warningText:"warningText"},outputs:{closeModal:"closeModal",confirmDelete:"confirmDelete"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-red-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel","placeholder"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-red-600","text-white","font-medium","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"mt-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-800","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,r){e&1&&f(0,oe,35,15,"div",0),e&2&&s("ngIf",r.isOpen)},dependencies:[O,V,D,E,j,I],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.warning-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[F("backdropAnimation",[w(":enter",[y({opacity:0}),P("150ms ease-out",y({opacity:1}))]),w(":leave",[P("150ms ease-in",y({opacity:0}))])]),F("modalAnimation",[w(":enter",[y({opacity:0,transform:"scale(0.7) translateY(-50px)"}),P("200ms ease-out",y({opacity:1,transform:"scale(1) translateY(0)"}))]),w(":leave",[P("150ms ease-in",y({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};function ae(t,l){if(t&1&&(i(0,"option",11),p(1),o()),t&2){let e=l.$implicit;s("value",e),a(),v(" ",e," ")}}function re(t,l){if(t&1){let e=x();i(0,"div",6)(1,"label",7),p(2,"Show:"),o(),i(3,"select",8),u("change",function(n){d(e);let m=c();return g(m.onPerPageChange(n))}),f(4,ae,2,2,"option",9),o(),i(5,"span",10),p(6,"per page"),o()()}if(t&2){let e=c();a(3),s("value",e.pagination.per_page),a(),s("ngForOf",e.perPageOptions)}}function le(t,l){if(t&1){let e=x();i(0,"button",21),u("click",function(){d(e);let n=c(2);return g(n.goToPage(1))}),p(1," 1 "),o()}}function se(t,l){t&1&&(i(0,"span",22),p(1," ... "),o())}function ce(t,l){if(t&1){let e=x();i(0,"button",23),u("click",function(){let n=d(e).$implicit,m=c(2);return g(m.goToPage(n))}),p(1),o()}if(t&2){let e=l.$implicit,r=c(2);G(r.pagination.current_page===e?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-500 border-gray-300 hover:bg-gray-50 hover:text-gray-700"),a(),v(" ",e," ")}}function pe(t,l){t&1&&(i(0,"span",22),p(1," ... "),o())}function de(t,l){if(t&1){let e=x();i(0,"button",21),u("click",function(){d(e);let n=c(2);return g(n.goToPage(n.pagination.last_page))}),p(1),o()}if(t&2){let e=c(2);a(),v(" ",e.pagination.last_page," ")}}function ge(t,l){if(t&1){let e=x();i(0,"div",12)(1,"nav",13)(2,"button",14),u("click",function(){d(e);let n=c();return g(n.previousPage())}),_(),i(3,"svg",15),b(4,"path",16),o()(),f(5,le,2,0,"button",17)(6,se,2,0,"span",18)(7,ce,2,3,"button",19)(8,pe,2,0,"span",18)(9,de,2,1,"button",17),h(),i(10,"button",14),u("click",function(){d(e);let n=c();return g(n.nextPage())}),_(),i(11,"svg",15),b(12,"path",20),o()()()()}if(t&2){let e=c();a(2),s("disabled",e.pagination.current_page===1),a(3),s("ngIf",e.visiblePages.length>0&&e.visiblePages[0]>1),a(),s("ngIf",e.showStartEllipsis),a(),s("ngForOf",e.visiblePages),a(),s("ngIf",e.showEndEllipsis),a(),s("ngIf",e.visiblePages.length>0&&e.visiblePages[e.visiblePages.length-1]<e.pagination.last_page),a(),s("disabled",e.pagination.current_page===e.pagination.last_page)}}function me(t,l){if(t&1){let e=x();i(0,"div",24)(1,"label",25),p(2,"Go to:"),o(),i(3,"input",26),k("ngModelChange",function(n){d(e);let m=c();return T(m.jumpToPage,n)||(m.jumpToPage=n),g(n)}),u("keyup.enter",function(){d(e);let n=c();return g(n.onJumpToPage())}),o(),i(4,"button",27),u("click",function(){d(e);let n=c();return g(n.onJumpToPage())}),p(5," Go "),o()()}if(t&2){let e=c();a(3),S("ngModel",e.jumpToPage),s("min",1)("max",e.pagination.last_page)("placeholder",e.pagination.current_page.toString()),a(),s("disabled",!e.jumpToPage||e.jumpToPage<1||e.jumpToPage>e.pagination.last_page)}}var U=class t{pagination;showPerPageSelector=!0;showJumpToPage=!0;perPageOptions=[10,20,50,100];maxVisiblePages=7;pageChange=new C;perPageChange=new C;jumpToPage=null;visiblePages=[];ngOnChanges(l){l.pagination&&(this.calculateVisiblePages(),this.jumpToPage=this.pagination.current_page)}calculateVisiblePages(){let l=this.pagination.current_page,e=this.pagination.last_page,r=this.maxVisiblePages;if(this.visiblePages=[],e<=r)for(let n=1;n<=e;n++)this.visiblePages.push(n);else{let n=Math.max(1,l-Math.floor(r/2)),m=Math.min(e,n+r-1);m-n+1<r&&(n=Math.max(1,m-r+1));for(let L=n;L<=m;L++)this.visiblePages.push(L)}}goToPage(l){l>=1&&l<=this.pagination.last_page&&l!==this.pagination.current_page&&this.pageChange.emit(l)}onPerPageChange(l){let e=parseInt(l.target.value);e!==this.pagination.per_page&&this.perPageChange.emit(e)}onJumpToPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.pagination.last_page&&this.goToPage(this.jumpToPage)}previousPage(){this.pagination.current_page>1&&this.goToPage(this.pagination.current_page-1)}nextPage(){this.pagination.current_page<this.pagination.last_page&&this.goToPage(this.pagination.current_page+1)}get showStartEllipsis(){return this.visiblePages.length>0&&this.visiblePages[0]>2}get showEndEllipsis(){return this.visiblePages.length>0&&this.visiblePages[this.visiblePages.length-1]<this.pagination.last_page-1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-pagination"]],inputs:{pagination:"pagination",showPerPageSelector:"showPerPageSelector",showJumpToPage:"showJumpToPage",perPageOptions:"perPageOptions",maxVisiblePages:"maxVisiblePages"},outputs:{pageChange:"pageChange",perPageChange:"perPageChange"},features:[z],decls:7,vars:6,consts:[[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","bg-white","px-6","py-4","border-t","border-gray-200"],["class","flex items-center space-x-2 mb-4 sm:mb-0",4,"ngIf"],["class","flex items-center justify-center mb-4 sm:mb-0",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:space-x-4"],[1,"text-sm","text-gray-700","text-center","sm:text-left","mb-2","sm:mb-0"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2","mb-4","sm:mb-0"],["for","per-page",1,"text-sm","text-gray-700"],["id","per-page",1,"px-3","py-1","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"text-sm","text-gray-700"],[3,"value"],[1,"flex","items-center","justify-center","mb-4","sm:mb-0"],["aria-label","Pagination",1,"flex","items-center","space-x-1"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","enabled:hover:bg-gray-50","enabled:text-gray-700","bg-white","border","border-gray-300","text-gray-500",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["class",`flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700`,3,"click",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 text-gray-400",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg border transition-colors",3,"class","click",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","transition-colors","bg-white","text-gray-500","border","border-gray-300","hover:bg-gray-50","hover:text-gray-700",3,"click"],[1,"flex","items-center","justify-center","w-10","h-10","text-gray-400"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","border","transition-colors",3,"click"],[1,"flex","items-center","space-x-2"],["for","jump-page",1,"text-sm","text-gray-700"],["id","jump-page","type","number",1,"w-16","px-2","py-1","border","border-gray-300","rounded","text-sm","text-center","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","keyup.enter","ngModel","min","max","placeholder"],[1,"px-3","py-1","bg-blue-600","text-white","text-sm","rounded","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"]],template:function(e,r){e&1&&(i(0,"div",0),f(1,re,7,2,"div",1)(2,ge,13,7,"div",2),i(3,"div",3)(4,"div",4),p(5),o(),f(6,me,6,5,"div",5),o()()),e&2&&(a(),s("ngIf",r.showPerPageSelector),a(),s("ngIf",r.pagination.last_page>1),a(3),B(" Showing ",r.pagination.from," - ",r.pagination.to," of ",r.pagination.total," entries "),a(),s("ngIf",r.showJumpToPage&&r.pagination.last_page>10))},dependencies:[O,H,V,D,W,Y,E,J,j,K,q,I],styles:[".pagination-container[_ngcontent-%COMP%]{background-color:#fff;border-top:1px solid #e5e7eb}.pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;font-size:.875rem;font-weight:500;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-duration:.15s;border:1px solid #d1d5db;border-radius:.5rem}.pagination-btn[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#f9fafb;color:#374151}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn.active[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-color:#2563eb;box-shadow:0 1px 1px #0000000d}.pagination-btn.active[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;border-color:#1d4ed8}.per-page-select[_ngcontent-%COMP%]{padding:.25rem .75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem}.per-page-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680;border-color:#3b82f6}.jump-page-input[_ngcontent-%COMP%]{width:4rem;padding:.25rem .5rem;border:1px solid #d1d5db;border-radius:.25rem;font-size:.875rem;text-align:center}.jump-page-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680;border-color:#3b82f6}@media (max-width: 640px){.pagination-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.pagination-info[_ngcontent-%COMP%]{text-align:center}}.page-transition[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.ellipsis[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;color:#9ca3af}.pagination-btn[_ngcontent-%COMP%]:focus, .per-page-select[_ngcontent-%COMP%]:focus, .jump-page-input[_ngcontent-%COMP%]:focus{outline:none}"]})};export{Q as a,U as b};
