import{a as v}from"./chunk-NSICM5UH.js";import{a as m}from"./chunk-VPAYI7QR.js";import{Y as b,ba as a,g as u,t as l}from"./chunk-RHVXZUNF.js";var d=class r{constructor(e,s){this.authService=e;this.settingsService=s;l([this.authService.moduleAccess$,this.settingsService.getModulesEnabled$()]).subscribe(([t,o])=>{let c={},h=new Set([...Object.keys(t),...Object.keys(o)]),g=["dashboard","settings"];h.forEach(i=>{let p=t[i]===!0,n;o.hasOwnProperty(i)?n=o[i]===!0:n=g.includes(i),c[i]=p&&n}),this.visibleModulesSubject.next(c)})}visibleModulesSubject=new u({});visibleModules$=this.visibleModulesSubject.asObservable();isModuleVisible(e){return this.visibleModulesSubject.value[e]===!0}getVisibleModules(){return this.visibleModulesSubject.value}hasModuleAccess(e){return this.authService.hasModuleAccess(e)}hasPermission(e,s){return this.authService.hasPermission(e,s)}getFilteredModules(e){let s=this.getVisibleModules();return e.filter(t=>(t.is_system_module,s[t.key]===!0))}canAccessRoute(e){let t={"/dashboard":"dashboard","/settings":"settings","/assets":"assets","/assets/list":"assets","/locations":"locations","/work-orders":"work_orders","/teams":"teams","/maintenance":"maintenance","/inventory":"inventory","/sensors":"sensors","/ai":"ai_features","/reports":"reports","/facilities-locations":"facilities_locations","/sla":"sla","/eservices":"eservices","/tenant-portal":"tenant_portal","/maintenance-requests":"maintenance_requests","/amenity-bookings":"amenity_bookings","/move-requests":"move_in_out_requests","/fitout-requests":"fitout_requests","/inhouse-services":"inhouse_services","/parcels":"parcel_management","/visitors":"visitor_management","/business-directory":"business_directory","/tenant-communication":"tenant_communication"}[e];return t?this.isModuleVisible(t):!0}static \u0275fac=function(s){return new(s||r)(a(m),a(v))};static \u0275prov=b({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
