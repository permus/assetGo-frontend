{
  "version": 3,
  "sources": ["src/app/maintenance/maintenance.service.ts"],
  "sourcesContent": ["import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { MaintenancePlan, MaintenancePlanChecklist, ScheduleMaintenance } from './models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MaintenanceService {\r\n  private base = `${environment.apiUrl}/maintenance`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  listPlans(params?: Record<string, any>): Observable<any> {\r\n    let httpParams = new HttpParams();\r\n    if (params) {\r\n      Object.keys(params).forEach(k => {\r\n        if (params[k] !== undefined && params[k] !== null) {\r\n          httpParams = httpParams.set(k, String(params[k]));\r\n        }\r\n      });\r\n    }\r\n    return this.http.get<any>(`${this.base}/plans`, { params: httpParams });\r\n  }\r\n\r\n  getPlan(id: number): Observable<any> {\r\n    return this.http.get<any>(`${this.base}/plans/${id}`);\r\n  }\r\n\r\n  createPlan(payload: MaintenancePlan & { checklist_items: MaintenancePlanChecklist[] }): Observable<any> {\r\n    return this.http.post<any>(`${this.base}/plans`, payload);\r\n  }\r\n\r\n  updatePlan(id: number, payload: Partial<MaintenancePlan> & { checklist_items?: MaintenancePlanChecklist[] }): Observable<any> {\r\n    return this.http.put<any>(`${this.base}/plans/${id}`, payload);\r\n  }\r\n\r\n  deletePlan(id: number): Observable<any> {\r\n    return this.http.delete<any>(`${this.base}/plans/${id}`);\r\n  }\r\n\r\n  listSchedules(params?: Record<string, any>): Observable<any> {\r\n    let httpParams = new HttpParams();\r\n    if (params) {\r\n      Object.keys(params).forEach(k => {\r\n        if (params[k] !== undefined && params[k] !== null) {\r\n          httpParams = httpParams.set(k, String(params[k]));\r\n        }\r\n      });\r\n    }\r\n    return this.http.get<any>(`${this.base}/schedules`, { params: httpParams });\r\n  }\r\n\r\n  createSchedule(payload: ScheduleMaintenance): Observable<any> {\r\n    return this.http.post<any>(`${this.base}/schedules`, payload);\r\n  }\r\n\r\n  getSchedule(id: number): Observable<any> {\r\n    return this.http.get<any>(`${this.base}/schedules/${id}`);\r\n  }\r\n\r\n  updateSchedule(id: number, payload: Partial<ScheduleMaintenance>): Observable<any> {\r\n    return this.http.put<any>(`${this.base}/schedules/${id}`, payload);\r\n  }\r\n\r\n  deleteSchedule(id: number): Observable<any> {\r\n    return this.http.delete<any>(`${this.base}/schedules/${id}`);\r\n  }\r\n}\r\n\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAOM,IAAO,qBAAP,MAAO,oBAAkB;EAGT;EAFZ,OAAO,GAAG,YAAY,MAAM;EAEpC,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAmB;EAEvC,UAAU,QAA4B;AACpC,QAAI,aAAa,IAAI,WAAU;AAC/B,QAAI,QAAQ;AACV,aAAO,KAAK,MAAM,EAAE,QAAQ,OAAI;AAC9B,YAAI,OAAO,CAAC,MAAM,UAAa,OAAO,CAAC,MAAM,MAAM;AACjD,uBAAa,WAAW,IAAI,GAAG,OAAO,OAAO,CAAC,CAAC,CAAC;QAClD;MACF,CAAC;IACH;AACA,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,UAAU,EAAE,QAAQ,WAAU,CAAE;EACxE;EAEA,QAAQ,IAAU;AAChB,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,UAAU,EAAE,EAAE;EACtD;EAEA,WAAW,SAA0E;AACnF,WAAO,KAAK,KAAK,KAAU,GAAG,KAAK,IAAI,UAAU,OAAO;EAC1D;EAEA,WAAW,IAAY,SAAoF;AACzG,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,UAAU,EAAE,IAAI,OAAO;EAC/D;EAEA,WAAW,IAAU;AACnB,WAAO,KAAK,KAAK,OAAY,GAAG,KAAK,IAAI,UAAU,EAAE,EAAE;EACzD;EAEA,cAAc,QAA4B;AACxC,QAAI,aAAa,IAAI,WAAU;AAC/B,QAAI,QAAQ;AACV,aAAO,KAAK,MAAM,EAAE,QAAQ,OAAI;AAC9B,YAAI,OAAO,CAAC,MAAM,UAAa,OAAO,CAAC,MAAM,MAAM;AACjD,uBAAa,WAAW,IAAI,GAAG,OAAO,OAAO,CAAC,CAAC,CAAC;QAClD;MACF,CAAC;IACH;AACA,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,cAAc,EAAE,QAAQ,WAAU,CAAE;EAC5E;EAEA,eAAe,SAA4B;AACzC,WAAO,KAAK,KAAK,KAAU,GAAG,KAAK,IAAI,cAAc,OAAO;EAC9D;EAEA,YAAY,IAAU;AACpB,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,cAAc,EAAE,EAAE;EAC1D;EAEA,eAAe,IAAY,SAAqC;AAC9D,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,IAAI,cAAc,EAAE,IAAI,OAAO;EACnE;EAEA,eAAe,IAAU;AACvB,WAAO,KAAK,KAAK,OAAY,GAAG,KAAK,IAAI,cAAc,EAAE,EAAE;EAC7D;;qCA3DW,qBAAkB,mBAAA,UAAA,CAAA;EAAA;4EAAlB,qBAAkB,SAAlB,oBAAkB,WAAA,YADL,OAAM,CAAA;;;sEACnB,oBAAkB,CAAA;UAD9B;WAAW,EAAE,YAAY,OAAM,CAAE;;;",
  "names": []
}
