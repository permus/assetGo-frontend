import{b as le,c as H,d as de,e as me,f as ce}from"./chunk-NDTQ3VTJ.js";import{a as se}from"./chunk-AS2LAICM.js";import{a as oe}from"./chunk-MEXLA3FU.js";import{f as re,j as z}from"./chunk-P6C7UJHI.js";import{F as ae,j as ee,k as te,l as ne,x as ie}from"./chunk-CNTUU5WV.js";import{A as $,Gb as t,Hb as i,Ib as d,Jb as j,Kb as T,Mb as J,Pb as K,Qb as h,S as L,T as A,Wb as X,Xb as Y,Y as G,Ya as o,Yb as Z,Z as _,ac as R,ba as F,bb as O,bc as r,ca as P,cc as c,dc as v,f as W,ja as U,ka as B,kb as Q,la as m,lb as b,ma as f,pb as u,vc as N,wb as l,xb as q}from"./chunk-RHVXZUNF.js";import"./chunk-EQDQRRRY.js";var x=class a{constructor(e){this.http=e}base=`${oe.apiUrl}`;getDashboardData(){return this.http.get(`${this.base}/dashboard`)}static \u0275fac=function(n){return new(n||a)(F(ae))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var ge=["assetHealthChart"];function fe(a,e){a&1&&(t(0,"div",52)(1,"span",53),r(2,"No insights generated yet"),i(),t(3,"button",54),m(),t(4,"svg",55),d(5,"path",56),i(),f(),t(6,"span"),r(7,"Generate New Insights"),i()()())}function _e(a,e){a&1&&(m(),d(0,"path",70))}function be(a,e){a&1&&(m(),d(0,"path",71))}function xe(a,e){a&1&&(m(),d(0,"path",72))}function ye(a,e){a&1&&(m(),d(0,"path",73))}function ke(a,e){a&1&&(m(),d(0,"path",74))}function we(a,e){a&1&&(m(),d(0,"path",75))}function Se(a,e){a&1&&(m(),d(0,"path",76))}function Ce(a,e){a&1&&(m(),d(0,"path",77))}function Ie(a,e){if(a&1&&(t(0,"div",44)(1,"div",57)(2,"h3",58),r(3),i(),t(4,"div",59),m(),t(5,"svg",60),u(6,_e,1,0,"path",61)(7,be,1,0,"path",62)(8,xe,1,0,"path",63)(9,ye,1,0,"path",64)(10,ke,1,0,"path",65)(11,we,1,0,"path",66)(12,Se,1,0,"path",67)(13,Ce,1,0,"path",68),i()()(),f(),t(14,"div",69),r(15),i(),t(16,"div",53),r(17),i()()),a&2){let n=e.$implicit;o(3),c(n.title),o(),l("ngClass","w-8 h-8 rounded-lg flex items-center justify-center bg-"+n.color+"-100"),o(),l("ngClass","text-"+n.color+"-600"),o(),l("ngIf",n.icon==="info"),o(),l("ngIf",n.icon==="check"),o(),l("ngIf",n.icon==="warning"),o(),l("ngIf",n.icon==="dollar"),o(),l("ngIf",n.icon==="trending"),o(),l("ngIf",n.icon==="clock"),o(),l("ngIf",n.icon==="clipboard"),o(),l("ngIf",n.icon==="shield"),o(2),c(n.value),o(2),c(n.subtitle)}}function Ee(a,e){if(a&1&&(j(0),t(1,"p",78)(2,"span",79),r(3),i(),r(4," pending transfer approval(s)"),i(),T()),a&2){let n=h();o(3),c(n.data==null?null:n.data.transfer_approvals)}}function Me(a,e){a&1&&(t(0,"p",6),r(1,"No pending transfer approvals"),i())}function De(a,e){if(a&1&&(t(0,"span",91),r(1),i()),a&2){let n=h().$implicit,s=h(2);l("ngClass",s.getPriorityColorClass(n.priority.slug)),o(),v(" ",n.priority.name," ")}}function Ae(a,e){if(a&1&&(t(0,"p",28),r(1),i()),a&2){let n=h().$implicit;o(),v(" ",n.asset.name," ")}}function Oe(a,e){if(a&1&&(t(0,"span",28),r(1),i()),a&2){let n=h().$implicit,s=h(2);o(),v(" ",s.formatDueDate(n.due_date)," ")}}function je(a,e){if(a&1){let n=J();t(0,"div",82),K("click",function(){let p=U(n).$implicit,g=h(2);return B(g.viewWorkOrder(p.id))}),t(1,"div",83)(2,"div",84),m(),t(3,"svg",85),d(4,"path",75),i(),f(),t(5,"span",86),r(6),i()(),u(7,De,2,2,"span",87),i(),t(8,"div",88),u(9,Ae,2,1,"p",89),t(10,"p",14),r(11),i()(),t(12,"div",90),u(13,Oe,2,1,"span",89),i()()}if(a&2){let n=e.$implicit,s=h(2);o(6),c(s.truncateTitle(n.title)),o(),l("ngIf",n.priority),o(2),l("ngIf",n.asset),o(2),v(" Assigned: ",(n.assigned_to==null?null:n.assigned_to.name)||"Unassigned"," "),o(2),l("ngIf",n.due_date)}}function Te(a,e){if(a&1&&(j(0),t(1,"div",80),u(2,je,14,5,"div",81),i(),T()),a&2){let n=h();o(2),l("ngForOf",n.recentWorkOrders)}}function Re(a,e){a&1&&(t(0,"p",92),r(1,"No recent work orders"),i())}function Ne(a,e){a&1&&(t(0,"div",44)(1,"div",57)(2,"div",26),m(),t(3,"svg",93),d(4,"path",56),i(),f(),t(5,"h3",48),r(6,"AI Insights"),i()(),t(7,"span",94),r(8,"AI Active"),i()(),t(9,"p",95),r(10,"Smart recommendations"),i(),t(11,"button",96),m(),t(12,"svg",97),d(13,"path",98),i()()())}H.register(de,ce,me,le);var y=class a{constructor(e,n){this.dashboardApi=e;this.router=n}destroy$=new W;prefsService=P(se);loading=!1;data=null;assetHealthChartRef;assetHealthChart=null;showAiInsights=!1;refreshInterval;archiveAnalytics={totalAssets:0,activeAssets:0,archivedAssets:0,archivedByMonth:[]};stats=[{title:"Total Assets",value:"24",subtitle:"Live data",icon:"info",color:"blue"},{title:"Active Assets",value:"23",subtitle:"95.8% operational",icon:"check",color:"green"},{title:"Critical Alerts",value:"1",subtitle:"1 require immediate attention",icon:"warning",color:"orange"},{title:"Monthly Investment",value:"$0",subtitle:"No data available",icon:"dollar",color:"purple"},{title:"Asset Utilization",value:"--",subtitle:"No data available",icon:"trending",color:"blue"},{title:"Scheduled Maintenance",value:"0",subtitle:"Next 30 days",icon:"clock",color:"teal"},{title:"Active Work Orders",value:"2",subtitle:"1 high priority",icon:"clipboard",color:"yellow"},{title:"Archived Assets",value:"0",subtitle:"In archive",icon:"shield",color:"gray"}];workOrders=[{title:"Total Work Orders",value:2},{title:"Scheduled This Week",value:0},{title:"Overdue",value:1}];recentWorkOrders=[];ngOnInit(){this.fetch(),this.prefsService.get("auto_refresh")&&this.startAutoRefresh()}ngOnDestroy(){this.stopAutoRefresh(),this.destroy$.next(),this.destroy$.complete()}startAutoRefresh(){this.stopAutoRefresh(),this.refreshInterval=setInterval(()=>{this.fetch()},3e4)}stopAutoRefresh(){this.refreshInterval&&clearInterval(this.refreshInterval)}fetch(){this.loading=!0,this.dashboardApi.getDashboardData().pipe(A(this.destroy$)).subscribe({next:e=>{this.loading=!1,this.data=e?.data,this.hydrateStats(),setTimeout(()=>this.renderAssetHealthChart(),0)},error:()=>{this.loading=!1}})}autoRefresh(){$(6e4,6e4).pipe(A(this.destroy$),L(()=>this.dashboardApi.getDashboardData())).subscribe({next:e=>{this.data=e?.data,this.hydrateStats()}})}hydrateStats(){let e=this.data;this.stats=[{title:"Total Assets",value:String(e.total_assets??"--"),subtitle:e.total_assets!=null?"Live data":"-- No data available",icon:"info",color:"blue"},{title:"Active Assets",value:String(e.active_assets??"--"),subtitle:e.active_assets!=null?"Active assets":"-- No data available",icon:"check",color:"green"},{title:"Critical Alerts",value:String(e.critical_alerts??"--"),subtitle:e.critical_alerts!=null?"Require attention":"-- No data available",icon:"warning",color:"orange"},{title:"Monthly Investment",value:`$${e.monthly_investment??0}`,subtitle:"Monthly spend",icon:"dollar",color:"purple"},{title:"Asset Utilization",value:e.asset_utilization!=null?`${e.asset_utilization}%`:"--",subtitle:e.asset_utilization!=null?"Utilization":"-- No data available",icon:"trending",color:"blue"},{title:"Scheduled Maintenance",value:String(e.scheduled_maintenance??0),subtitle:"Next 30 days",icon:"clock",color:"teal"},{title:"Active Work Orders",value:String(e.active_work_orders??0),subtitle:"Open WOs",icon:"clipboard",color:"yellow"},{title:"Archived Assets",value:String(e.archived_assets??0),subtitle:`${e.archived_assets??0} assets in archive`,icon:"shield",color:"gray"}],this.workOrders=[{title:"Total Work Orders",value:e.maintenance_insights.total_work_orders},{title:"Scheduled This Week",value:e.maintenance_insights.scheduled_this_week},{title:"Overdue",value:e.maintenance_insights.overdue}],this.recentWorkOrders=e.recent_work_orders||[]}renderAssetHealthChart(){if(!this.data||!this.assetHealthChartRef)return;let e=this.assetHealthChartRef.nativeElement.getContext("2d");if(!e)return;this.assetHealthChart&&(this.assetHealthChart.destroy(),this.assetHealthChart=null);let n=Math.max(0,Number(this.data.asset_health.total||0)),s=Math.min(n,Math.max(0,Number(this.data.asset_health.active||0))),p=Math.min(n,Math.max(0,Number(this.data.asset_health.uncategorized||0))),g=Math.max(0,n-s-p);this.assetHealthChart=new H(e,{type:"doughnut",data:{labels:["Active","Uncategorized","Others"],datasets:[{data:[s,p,g],backgroundColor:["#22c55e","#3b82f6","#e5e7eb"],borderWidth:0}]},options:{responsive:!0,cutout:"70%",rotation:-90,plugins:{legend:{display:!1},tooltip:{enabled:!0}}}})}get activeAssets(){return Number(this.data?.asset_health.active??0)}get totalAssets(){return Number(this.data?.asset_health.total??0)}get activePercent(){let e=this.totalAssets;return e?Math.round(this.activeAssets/e*100):0}truncateTitle(e,n=30){return e.length<=n?e:e.substring(0,n)+"..."}formatDueDate(e){if(!e)return"";let n=new Date(e);return`Due: ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]} ${n.getDate()}`}getPriorityColorClass(e){if(!e)return"bg-gray-100 text-gray-800";let n=e.toLowerCase();return n==="high"||n==="urgent"||n==="critical"?"bg-red-100 text-red-800":n==="medium"||n==="normal"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}viewWorkOrder(e){this.router.navigate(["/work-orders",e])}static \u0275fac=function(n){return new(n||a)(O(x),O(re))};static \u0275cmp=Q({type:a,selectors:[["app-dashboard"]],viewQuery:function(n,s){if(n&1&&X(ge,5),n&2){let p;Y(p=Z())&&(s.assetHealthChartRef=p.first)}},standalone:!1,decls:106,vars:19,consts:[["assetHealthChart",""],["noApprovals",""],["noWorkOrders",""],[1,"p-6"],[1,"flex","items-center","justify-between","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex items-center space-x-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],["class","bg-white rounded-lg p-6 shadow-sm border border-gray-200",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","bg-white","rounded-lg","p-6","shadow-sm","border","border-gray-200"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"text-sm","font-medium","text-gray-700","mb-4"],[1,"flex","items-center","justify-center","mb-4"],[1,"relative","w-40","h-40"],["width","160","height","160"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"space-y-2"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-2"],[1,"w-3","h-3","bg-green-500","rounded-full"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-900"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-green-500","h-2","rounded-full"],[1,"text-right","text-xs","text-gray-500"],[1,"flex","items-center","justify-between","mt-4"],[1,"w-3","h-3","bg-blue-500","rounded-full"],[1,"text-center","mb-6"],[1,"text-4xl","font-bold","text-blue-600","mb-2"],[1,"space-y-4"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium","text-green-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"mt-6","space-y-3"],[1,"text-sm","font-medium","text-red-600"],[1,"space-y-6"],[1,"bg-white","rounded-lg","p-6","shadow-sm","border","border-gray-200"],[1,"flex","items-center","space-x-2","mb-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-green-600"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-lg","font-semibold","text-gray-900"],[4,"ngIf","ngIfElse"],[1,"mb-4"],["class","bg-white rounded-lg p-6 shadow-sm border border-gray-200",4,"ngIf"],[1,"flex","items-center","space-x-4"],[1,"text-sm","text-gray-500"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","font-medium","hover:bg-blue-700","flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-600"],[3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",4,"ngIf"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"text-gray-700"],[1,"font-semibold"],[1,"space-y-3"],["class","bg-white rounded-lg p-4 border border-gray-200 hover:border-purple-300 hover:shadow-md transition-all cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","p-4","border","border-gray-200","hover:border-purple-300","hover:shadow-md","transition-all","cursor-pointer",3,"click"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","space-x-2","flex-1","min-w-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-400","flex-shrink-0"],[1,"font-semibold","text-gray-900","truncate"],["class","px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ml-2",3,"ngClass",4,"ngIf"],[1,"space-y-1"],["class","text-sm text-gray-700",4,"ngIf"],[1,"mt-2","flex","justify-end"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","whitespace-nowrap","ml-2",3,"ngClass"],[1,"text-gray-600","text-center","py-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],[1,"text-xs","bg-green-100","text-green-800","px-2","py-1","rounded-full"],[1,"text-sm","text-gray-600","mb-4"],[1,"fixed","bottom-6","right-6","w-12","h-12","bg-blue-600","text-white","rounded-full","shadow-lg","hover:bg-blue-700","flex","items-center","justify-center","cursor-pointer"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"]],template:function(n,s){if(n&1&&(t(0,"div",3)(1,"div",4)(2,"div")(3,"h1",5),r(4,"Asset Intelligence Dashboard"),i(),t(5,"p",6),r(6,"Real-time insights and comprehensive asset management overview"),i()(),u(7,fe,8,0,"div",7),i(),t(8,"div",8),u(9,Ie,18,13,"div",9),i(),t(10,"div",10)(11,"div",11)(12,"div",12)(13,"div")(14,"h3",13),r(15,"Asset & Maintenance Analytics"),i(),t(16,"p",14),r(17,"Comprehensive portfolio distribution and maintenance trends"),i()()(),t(18,"div",15)(19,"div")(20,"h4",16),r(21,"Asset Health Status"),i(),t(22,"div",17)(23,"div",18),d(24,"canvas",19,0),t(26,"div",20)(27,"div",21)(28,"div",22),r(29),i(),t(30,"div",23),r(31,"Total"),i()()()()(),t(32,"div",24)(33,"div",25)(34,"div",26),d(35,"div",27),t(36,"span",28),r(37,"Active"),i()(),t(38,"div",29),r(39),i()(),t(40,"div",30),d(41,"div",31),i(),t(42,"div",32),r(43),i(),t(44,"div",33)(45,"div",26),d(46,"div",34),t(47,"span",28),r(48,"Uncategorized"),i()(),t(49,"div",29),r(50),i()()()(),t(51,"div")(52,"h4",16),r(53,"Maintenance Insights"),i(),t(54,"div",35)(55,"div",36),r(56),i(),t(57,"div",14),r(58,"Average Health Score"),i()(),t(59,"div",37)(60,"div",38)(61,"span",14),r(62,"Completion Rate"),i(),t(63,"span",39),r(64),i()(),t(65,"div",38)(66,"span",14),r(67,"Avg Days to Complete"),i(),t(68,"span",40),r(69),i()()(),t(70,"div",41)(71,"div",25)(72,"span",14),r(73,"Total Work Orders"),i(),t(74,"span",40),r(75),i()(),t(76,"div",25)(77,"span",14),r(78,"Scheduled This Week"),i(),t(79,"span",40),r(80),i()(),t(81,"div",25)(82,"span",14),r(83,"Overdue"),i(),t(84,"span",42),r(85),i()()()()()(),t(86,"div",43)(87,"div",44)(88,"div",45),m(),t(89,"svg",46),d(90,"path",47),i(),f(),t(91,"h3",48),r(92,"Transfer Approvals"),i()(),u(93,Ee,5,1,"ng-container",49)(94,Me,2,0,"ng-template",null,1,N),i(),t(96,"div",44)(97,"div",50)(98,"h3",13),r(99,"Recent Work Orders"),i(),t(100,"p",14),r(101,"Latest maintenance activities"),i()(),u(102,Te,3,1,"ng-container",49)(103,Re,2,0,"ng-template",null,2,N),i(),u(105,Ne,14,0,"div",51),i()()()),n&2){let p,g,w,S,C,I,E,M,D,ue=R(95),he=R(104);o(7),l("ngIf",s.showAiInsights),o(2),l("ngForOf",s.stats),o(20),c((p=s.data==null?null:s.data.asset_health.total)!==null&&p!==void 0?p:0),o(10),v("",s.activeAssets," assets"),o(2),q("width",s.activePercent,"%"),o(2),v("",s.activePercent,"%"),o(7),c((g=s.data==null?null:s.data.asset_health.uncategorized)!==null&&g!==void 0?g:0),o(6),v("",(w=s.data==null?null:s.data.asset_health.average_health_score)!==null&&w!==void 0?w:0,"%"),o(8),v("",(S=s.data==null?null:s.data.maintenance_insights.completion_rate)!==null&&S!==void 0?S:0,"%"),o(5),c((C=s.data==null?null:s.data.maintenance_insights.avg_days_to_complete)!==null&&C!==void 0?C:0),o(6),c((I=s.data==null?null:s.data.maintenance_insights.total_work_orders)!==null&&I!==void 0?I:0),o(5),c((E=s.data==null?null:s.data.maintenance_insights.scheduled_this_week)!==null&&E!==void 0?E:0),o(5),c((M=s.data==null?null:s.data.maintenance_insights.overdue)!==null&&M!==void 0?M:0),o(8),l("ngIf",((D=s.data==null?null:s.data.transfer_approvals)!==null&&D!==void 0?D:0)>0)("ngIfElse",ue),o(9),l("ngIf",s.recentWorkOrders.length>0)("ngIfElse",he),o(3),l("ngIf",s.showAiInsights)}},dependencies:[ee,te,ne],encapsulation:2})};var ze=[{path:"",component:y}],k=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=b({type:a});static \u0275inj=_({imports:[z.forChild(ze),z]})};var pe=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=b({type:a});static \u0275inj=_({imports:[ie,k]})};export{pe as DashboardModule};
