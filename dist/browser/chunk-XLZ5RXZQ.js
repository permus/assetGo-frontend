import{k as y,l as I,v as S}from"./chunk-5QZV6OHW.js";import{$a as k,Bb as w,Eb as m,Fb as a,Ma as P,Na as o,Sb as p,Tb as g,Ub as C,Vb as D,eb as s,ha as O,ia as b,ja as _,ka as u,lb as d,mb as v,nb as h,sa as M,vb as i,wb as l,xb as x}from"./chunk-C2UTIFX7.js";function E(t,r){t&1&&(i(0,"span",15),p(1,"*"),l())}function G(t,r){if(t&1&&(i(0,"label",13),p(1),s(2,E,2,0,"span",14),l()),t&2){let e=a();o(),C("",e.label," "),o(),d("ngIf",e.required)}}function V(t,r){if(t&1&&(i(0,"span",16),p(1),l()),t&2){let e=a();o(),g(e.placeholder)}}function F(t,r){t&1&&(i(0,"div",20),u(),i(1,"svg",21),x(2,"path",22),l()())}function z(t,r){if(t&1&&(i(0,"div",17),s(1,F,3,0,"div",18),i(2,"span",19),p(3),l()()),t&2){let e=a();o(),d("ngIf",e.selectedOption.icon),o(2),g(e.selectedOption.name)}}function H(t,r){if(t&1){let e=w();i(0,"button",23),m("click",function(c){return b(e),a().clearSelection(),_(c.stopPropagation())}),u(),i(1,"svg",24),x(2,"path",25),l()()}}function j(t,r){if(t&1){let e=w();i(0,"div",32)(1,"input",33),m("input",function(c){b(e);let f=a(2);return _(f.onSearchInput(c))})("click",function(c){return b(e),_(c.stopPropagation())}),l()()}if(t&2){let e=a(2);o(),d("value",e.searchTerm)}}function q(t,r){if(t&1&&(i(0,"div",34),p(1),l()),t&2){let e=a(2);o(),C(' No options found for "',e.searchTerm,'" ')}}function L(t,r){t&1&&(i(0,"div",20),u(),i(1,"svg",21),x(2,"path",22),l()())}function B(t,r){if(t&1&&(i(0,"div",40),p(1),l()),t&2){let e=a().$implicit,n=a(2);o(),g(n.getOptionDescription(e))}}function N(t,r){if(t&1){let e=w();i(0,"button",35),m("click",function(){let c=b(e).$implicit,f=a(2);return _(f.selectOption(c))}),i(1,"div",36),s(2,L,3,0,"div",18),i(3,"div",37)(4,"div",38),p(5),l(),s(6,B,2,1,"div",39),l()()()}if(t&2){let e=r.$implicit,n=a(2);h("selected",(n.selectedOption==null?null:n.selectedOption.id)===e.id)("disabled",e.disabled),o(2),d("ngIf",e.icon),o(3),g(e.name),o(),d("ngIf",e.description)}}function W(t,r){if(t&1&&(i(0,"div",26)(1,"div",27)(2,"span"),p(3),l(),i(4,"span",28),p(5),l()(),s(6,j,2,1,"div",29)(7,q,2,1,"div",30)(8,N,7,7,"button",31),l()),t&2){let e=a();v("max-height",e.maxHeight),o(3),g(e.placeholder),o(2),D("",e.filteredOptions.length," option",e.filteredOptions.length!==1?"s":"",""),o(),d("ngIf",e.searchable),o(),d("ngIf",e.searchable&&e.filteredOptions.length===0&&e.searchTerm.trim()!==""),o(),d("ngForOf",e.filteredOptions)}}function $(t,r){if(t&1&&(i(0,"div",41),p(1),l()),t&2){let e=a();o(),C(" ",e.getFieldError()," ")}}var T=class t{options=[];selectedOption=null;placeholder="Select option";label="";required=!1;disabled=!1;error=!1;errorMessage="";searchable=!1;maxHeight="300px";minWidth="260px";selectionChange=new M;showDropdown=!1;searchTerm="";filteredOptions=[];ngOnInit(){this.filteredOptions=[...this.options]}ngOnChanges(){this.filteredOptions=[...this.options]}toggleDropdown(){this.disabled||(this.showDropdown=!this.showDropdown,this.showDropdown&&(this.searchTerm="",this.filteredOptions=[...this.options]))}selectOption(r){r.disabled||(this.selectedOption=r,this.showDropdown=!1,this.selectionChange.emit(r))}onSearchInput(r){let e=r.target;this.searchTerm=e.value,this.searchTerm.trim()===""?this.filteredOptions=[...this.options]:this.filteredOptions=this.options.filter(n=>n.name.toLowerCase().includes(this.searchTerm.toLowerCase())||n.description&&n.description.toLowerCase().includes(this.searchTerm.toLowerCase()))}clearSelection(){this.selectedOption=null,this.selectionChange.emit(null)}closeOnOutsideClick(){this.showDropdown=!1}getOptionDescription(r){return r.description||""}hasFieldError(){return this.error&&this.errorMessage!==""}getFieldError(){return this.errorMessage}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-global-dropdown"]],hostBindings:function(e,n){e&1&&m("click",function(){return n.closeOnOutsideClick()},!1,P)},inputs:{options:"options",selectedOption:"selectedOption",placeholder:"placeholder",label:"label",required:"required",disabled:"disabled",error:"error",errorMessage:"errorMessage",searchable:"searchable",maxHeight:"maxHeight",minWidth:"minWidth"},outputs:{selectionChange:"selectionChange"},features:[O],decls:13,vars:17,consts:[[1,"dropdown-wrapper"],["class","dropdown-label",4,"ngIf"],[1,"relative","generic-dropdown",3,"click"],["type","button",1,"dropdown-button",3,"click","disabled"],[1,"dropdown-content"],["class","placeholder",4,"ngIf"],["class","selected-item",4,"ngIf"],[1,"dropdown-actions"],["type","button","class","clear-btn","title","Clear selection",3,"click",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"dropdown-arrow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",3,"max-height",4,"ngIf"],["class","field-error",4,"ngIf"],[1,"dropdown-label"],["class","required",4,"ngIf"],[1,"required"],[1,"placeholder"],[1,"selected-item"],["class","item-icon",4,"ngIf"],[1,"selected-text"],[1,"item-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["type","button","title","Clear selection",1,"clear-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"clear-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"options-count"],["class","search-container",4,"ngIf"],["class","no-results",4,"ngIf"],["type","button","class","dropdown-item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"search-container"],["type","text","placeholder","Search options...",1,"search-input",3,"input","click","value"],[1,"no-results"],["type","button",1,"dropdown-item",3,"click"],[1,"item-content"],[1,"item-details"],[1,"item-name"],["class","item-description",4,"ngIf"],[1,"item-description"],[1,"field-error"]],template:function(e,n){e&1&&(i(0,"div",0),s(1,G,3,2,"label",1),i(2,"div",2),m("click",function(f){return f.stopPropagation()}),i(3,"button",3),m("click",function(){return n.toggleDropdown()}),i(4,"div",4),s(5,V,2,1,"span",5)(6,z,4,2,"div",6),i(7,"div",7),s(8,H,3,0,"button",8),u(),i(9,"svg",9),x(10,"path",10),l()()()(),s(11,W,9,8,"div",11),l(),s(12,$,2,1,"div",12),l()),e&2&&(h("error",n.hasFieldError()),o(),d("ngIf",n.label),o(),v("min-width",n.minWidth),o(),h("error",n.hasFieldError())("active",n.showDropdown),d("disabled",n.disabled),o(2),d("ngIf",!n.selectedOption),o(),d("ngIf",n.selectedOption),o(2),d("ngIf",n.selectedOption&&!n.disabled),o(),h("rotated",n.showDropdown),o(2),d("ngIf",n.showDropdown),o(),d("ngIf",n.hasFieldError()))},dependencies:[S,y,I],styles:[".dropdown-wrapper.error[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{border-color:#dc2626}.dropdown-wrapper.error[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.dropdown-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151;font-size:14px}.required[_ngcontent-%COMP%]{color:#dc2626;margin-left:4px}.generic-dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.dropdown-button[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left;font-size:14px;min-height:48px;display:flex;align-items:center;justify-content:space-between}.dropdown-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#9ca3af}.dropdown-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;color:#9ca3af;cursor:not-allowed;border-color:#e5e7eb}.dropdown-button.error[_ngcontent-%COMP%]{border-color:#dc2626}.dropdown-button.error[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;flex-shrink:0}.icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280}.selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500;flex:1}.dropdown-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0}.clear-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;border-radius:4px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.clear-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280}.dropdown-arrow[_ngcontent-%COMP%]{width:20px;height:20px;color:#6b7280;transition:transform .2s;flex-shrink:0}.dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:2px solid #d1d5db;border-top:none;border-radius:0 0 8px 8px;box-shadow:0 10px 15px -3px #0000001a;z-index:10;max-height:300px;overflow-y:auto}.dropdown-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:#f9fafb;border-bottom:1px solid #e5e7eb;font-weight:500;color:#374151;font-size:14px;display:flex;justify-content:space-between;align-items:center}.options-count[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:400}.search-container[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #e5e7eb}.search-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;transition:border-color .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:#6b7280;font-style:italic;font-size:14px}.dropdown-item[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:none;background:none;text-align:left;cursor:pointer;transition:background-color .2s;border-bottom:1px solid #f3f4f6}.dropdown-item[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#f3f4f6}.dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.dropdown-item.disabled[_ngcontent-%COMP%]{color:#9ca3af;cursor:not-allowed;background-color:#f9fafb}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.item-details[_ngcontent-%COMP%]{flex:1}.item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:2px}.item-description[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;line-height:1.4}.field-error[_ngcontent-%COMP%]{margin-top:8px;color:#dc2626;font-size:12px;font-weight:500}"]})};export{T as a};
