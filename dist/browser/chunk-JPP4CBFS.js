import{a}from"./chunk-VUTA7ABU.js";import{C as o,D as l}from"./chunk-ZT37DX6Q.js";import{X as c,aa as u}from"./chunk-SDQC76CU.js";import{a as n,b as p}from"./chunk-EQDQRRRY.js";var h=class i{constructor(e){this.http=e}apiUrl=`${a.apiUrl}/locations`;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:n({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getLocations(e={}){let t=new o;return Object.keys(e).forEach(r=>{let s=e[r];s!=null&&s!==""&&(t=t.set(r,s.toString()))}),this.http.get(this.apiUrl,n({params:t},this.getAuthHeaders()))}getLocation(e){return this.http.get(`${this.apiUrl}/${e}`,this.getAuthHeaders())}createLocation(e){return this.http.post(this.apiUrl,e,this.getAuthHeaders())}updateLocation(e,t){return this.http.put(`${this.apiUrl}/${e}`,t,this.getAuthHeaders())}deleteLocation(e){return this.http.delete(`${this.apiUrl}/${e}`,this.getAuthHeaders())}bulkCreateLocations(e){return this.http.post(`${this.apiUrl}/bulk`,{locations:e},this.getAuthHeaders())}moveLocations(e,t){return this.http.post(`${this.apiUrl}/move`,{location_ids:e,new_parent_id:t},this.getAuthHeaders())}getQRCode(e,t="download",r="png"){let s=new o().set("action",t).set("format",r);return this.http.get(`${this.apiUrl}/${e}/qr`,n({params:s,responseType:"blob"},this.getAuthHeaders()))}getLocationTypes(e){let t=new o;return e!==void 0&&(t=t.set("hierarchy_level",e.toString())),this.http.get(`${a.apiUrl}/location-types`,n({params:t},this.getAuthHeaders()))}getHierarchy(){return this.http.get(`${a.apiUrl}/locations-hierarchy`,this.getAuthHeaders())}getPossibleParents(e,t){let r=new o().set("type_id",e.toString());t&&(r=r.set("location_id",t.toString()));let s=t?`${a.apiUrl}/locations/possible-parents/${t}`:`${a.apiUrl}/locations/possible-parents`;return this.http.get(s,n({params:r},this.getAuthHeaders()))}exportQRCodes(){return this.http.get(`${a.apiUrl}/locations/export-qr`,p(n({},this.getAuthHeaders()),{responseType:"blob"}))}static \u0275fac=function(t){return new(t||i)(u(l))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
