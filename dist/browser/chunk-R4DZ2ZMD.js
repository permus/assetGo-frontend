import{a as b}from"./chunk-VPBFQCHB.js";import{a as p,b as d}from"./chunk-HDN3MHIN.js";import{S as c,X as g}from"./chunk-YKDNYCQF.js";import{a as i,b as o}from"./chunk-EQDQRRRY.js";var l=class u{constructor(e){this.http=e}apiUrl=b.apiUrl;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:i({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getDashboardData(){return this.http.get(`${this.apiUrl}/inventory/dashboard/overview`,this.getAuthHeaders())}getInventoryAnalytics(){return this.http.get(`${this.apiUrl}/inventory/analytics/dashboard`,this.getAuthHeaders())}getAbcAnalysis(){return this.http.get(`${this.apiUrl}/inventory/analytics/abc-analysis`,this.getAuthHeaders())}getPartsCatalog(e,t,s=1,n=15){console.log("Calling parts API:",`${this.apiUrl}/inventory/parts`);let r=new p().set("page",s.toString()).set("per_page",n.toString());return e&&(r=r.set("search",e)),t&&(r=r.set("status",t)),console.log("Parts API params:",r.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/inventory/parts`,o(i({},this.getAuthHeaders()),{params:r}))}getPart(e){return this.http.get(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}createPart(e){return this.http.post(`${this.apiUrl}/inventory/parts`,e,this.getAuthHeaders())}updatePart(e,t){return this.http.put(`${this.apiUrl}/inventory/parts/${e}`,t,this.getAuthHeaders())}deletePart(e){return this.http.delete(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}getStockLevels(e,t,s,n=1,r=15){let a=new p().set("page",n.toString()).set("per_page",r.toString());return e&&(a=a.set("location_id",e.toString())),t&&(a=a.set("part_id",t.toString())),s&&(a=a.set("search",s)),this.http.get(`${this.apiUrl}/inventory/stocks`,o(i({},this.getAuthHeaders()),{params:a}))}adjustStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/adjust`,e,this.getAuthHeaders())}transferStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/transfer`,e,this.getAuthHeaders())}reserveStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/reserve`,e,this.getAuthHeaders())}releaseStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/release`,e,this.getAuthHeaders())}performStockCount(e){return this.http.post(`${this.apiUrl}/inventory/stocks/count`,e,this.getAuthHeaders())}getLocations(e=1,t=15,s=0,n="created",r="desc"){console.log("Calling locations API:",`${this.apiUrl}/locations`);let a=new p().set("page",e.toString()).set("per_page",t.toString()).set("hierarchy_level",s.toString()).set("sort_by",n).set("sort_direction",r);return console.log("Locations API params:",a.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/locations`,o(i({},this.getAuthHeaders()),{params:a}))}getTransactions(e=""){let t=e?`${this.apiUrl}/inventory/transactions?${e}`:`${this.apiUrl}/inventory/transactions`;return this.http.get(t,this.getAuthHeaders())}getPurchaseOrders(e=1,t=15,s,n){let r=new p().set("page",e.toString()).set("per_page",t.toString());return s&&(r=r.set("status",s)),n&&(r=r.set("search",n)),this.http.get(`${this.apiUrl}/inventory/purchase-orders`,o(i({},this.getAuthHeaders()),{params:r}))}getPurchaseOrder(e){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}createPurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders`,e,this.getAuthHeaders())}updatePurchaseOrder(e,t){return this.http.put(`${this.apiUrl}/inventory/purchase-orders/${e}`,t,this.getAuthHeaders())}deletePurchaseOrder(e){return this.http.delete(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}receivePurchaseOrder(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/receive`,t,this.getAuthHeaders())}approvePurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/approve`,e,this.getAuthHeaders())}getPendingApprovals(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/pending-approval`,this.getAuthHeaders())}getPurchaseOrderPerformance(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/performance`,this.getAuthHeaders())}sendPurchaseOrderEmail(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/send-email`,t,this.getAuthHeaders())}getSuppliers(e="",t=15,s=1){let n=new p().set("search",e).set("per_page",t.toString()).set("page",s.toString());return console.log("Getting suppliers with params:",n.toString()),this.http.get(`${this.apiUrl}/inventory/suppliers`,o(i({},this.getAuthHeaders()),{params:n}))}getSupplier(e){return console.log("Getting supplier:",e),this.http.get(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}createSupplier(e){return console.log("Creating supplier:",e),this.http.post(`${this.apiUrl}/inventory/suppliers`,e,this.getAuthHeaders())}updateSupplier(e,t){return console.log("Updating supplier:",e,t),this.http.put(`${this.apiUrl}/inventory/suppliers/${e}`,t,this.getAuthHeaders())}deleteSupplier(e){return console.log("Deleting supplier:",e),this.http.delete(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}bulkDeleteSuppliers(e){return console.log("Bulk deleting suppliers:",e),this.http.post(`${this.apiUrl}/inventory/suppliers/bulk-delete`,{supplier_ids:e},this.getAuthHeaders())}static \u0275fac=function(t){return new(t||u)(g(d))};static \u0275prov=c({token:u,factory:u.\u0275fac,providedIn:"root"})};export{l as a};
