import{c as h,d as C,f as d,g as _}from"./chunk-C5P3YSZX.js";import{B as j,c as O,e as L,i as A}from"./chunk-UJ77UFQP.js";import{l as V,x as N}from"./chunk-46FGEGCL.js";import{Gb as t,Hb as n,Ib as x,Mb as k,Pb as v,Qb as s,Ub as D,Xa as i,bc as r,cc as T,dc as y,gc as E,hc as P,ia as p,ic as I,ja as u,jb as S,ka as f,la as g,ob as b,sa as w,wb as a}from"./chunk-Z5DG7LDR.js";function H(o,m){if(o&1&&(t(0,"div",29)(1,"p",30),r(2),n()()),o&2){let e=s(2);i(2),T(e.warningText)}}function z(o,m){if(o&1&&(t(0,"span"),r(1),n()),o&2){let e=s(2);i(),y("Delete ",e.itemName||e.selectedCount+" "+(e.selectedCount===1?e.entitySingular:e.entityPlural),"")}}function B(o,m){o&1&&(t(0,"span",31),f(),t(1,"svg",32),x(2,"circle",33)(3,"path",34),n(),g(),t(4,"span"),r(5,"Deleting..."),n()())}function G(o,m){if(o&1){let e=k();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),f(),t(5,"svg",6),x(6,"path",7),n()(),g(),t(7,"h2",8),r(8),n()(),t(9,"button",9),v("click",function(){p(e);let l=s();return u(l.onCancel())}),f(),t(10,"svg",10),x(11,"path",11),n()()(),g(),t(12,"div",12)(13,"div",13)(14,"label",14),r(15,"Deletion Reason (Optional)"),n(),t(16,"textarea",15),I("ngModelChange",function(l){p(e);let M=s();return P(M.deletionReason,l)||(M.deletionReason=l),u(l)}),n(),t(17,"p",16),r(18,"This will be recorded in the audit trail"),n()(),t(19,"div",17)(20,"div",18),f(),t(21,"svg",19),x(22,"path",7),n()()(),g(),t(23,"div",20)(24,"h3",21),r(25),n(),t(26,"p",22),r(27),n(),b(28,H,3,1,"div",23),n(),t(29,"div",24)(30,"button",25),v("click",function(){p(e);let l=s();return u(l.onCancel())}),r(31," Cancel "),n(),t(32,"button",26),v("click",function(){p(e);let l=s();return u(l.onConfirm())}),b(33,z,2,1,"span",27)(34,B,6,0,"span",28),n()()()()()}if(o&2){let e=s();a("@backdropAnimation",void 0),i(),a("@modalAnimation",void 0),i(7),y(" ",e.title||(e.itemName?"Delete "+e.itemName:"Delete Selected "+(e.selectedCount===1?e.entitySingular:e.entityPlural))," "),i(),a("disabled",e.loading),i(7),D("placeholder","Enter reason for permanently deleting ",e.itemName?"this part":"these "+(e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase()),"..."),E("ngModel",e.deletionReason),i(9),y(" Are you sure you want to permanently delete ",e.itemName||e.selectedCount+" "+(e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase()),"? "),i(2),y(" This action cannot be undone. ",e.itemName?'The part "'+e.itemName+'"':"The "+(e.selectedCount===1?e.entitySingular.toLowerCase():e.entityPlural.toLowerCase())," will be permanently removed from the system. "),i(),a("ngIf",e.warningText),i(2),a("disabled",e.loading),i(2),a("disabled",e.loading),i(),a("ngIf",!e.loading),i(),a("ngIf",e.loading)}}var R=class o{isOpen=!1;selectedCount=0;entitySingular="Asset";entityPlural="Assets";title=null;warningText="\u26A0\uFE0F Warning: Only archived assets can be permanently deleted";itemName=null;closeModal=new w;confirmDelete=new w;loading=!1;deletionReason="";onConfirm(){this.loading=!0,this.confirmDelete.emit(this.deletionReason),setTimeout(()=>{this.loading=!1,this.deletionReason=""},2e3)}onCancel(){this.loading||(this.deletionReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-delete-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount",entitySingular:"entitySingular",entityPlural:"entityPlural",title:"title",warningText:"warningText",itemName:"itemName"},outputs:{closeModal:"closeModal",confirmDelete:"confirmDelete"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-red-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel","placeholder"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","bg-gray-100","text-gray-700","font-medium","rounded-lg","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-300","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-6","py-2","bg-red-600","text-white","font-medium","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"mt-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-800","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,c){e&1&&b(0,G,35,14,"div",0),e&2&&a("ngIf",c.isOpen)},dependencies:[N,V,j,O,L,A],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.warning-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[h("backdropAnimation",[_(":enter",[d({opacity:0}),C("150ms ease-out",d({opacity:1}))]),_(":leave",[C("150ms ease-in",d({opacity:0}))])]),h("modalAnimation",[_(":enter",[d({opacity:0,transform:"scale(0.7) translateY(-50px)"}),C("200ms ease-out",d({opacity:1,transform:"scale(1) translateY(0)"}))]),_(":leave",[C("150ms ease-in",d({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};export{R as a};
