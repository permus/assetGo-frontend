import{a as o}from"./chunk-6WXWVH7L.js";import{E as i,F as h}from"./chunk-CDW6MD7D.js";import{X as u,aa as l}from"./chunk-ZHYBNXXX.js";import{a,b as c}from"./chunk-EQDQRRRY.js";var b=class p{constructor(e){this.http=e}apiUrl=`${o.apiUrl}/locations`;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:a({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getLocations(e={}){let t=new i;return Object.keys(e).forEach(s=>{let r=e[s];r!=null&&r!==""&&(t=t.set(s,r.toString()))}),this.http.get(this.apiUrl,a({params:t},this.getAuthHeaders()))}getLocation(e){return this.http.get(`${this.apiUrl}/${e}`,this.getAuthHeaders())}createLocation(e){return this.http.post(this.apiUrl,e,this.getAuthHeaders())}updateLocation(e,t){return this.http.put(`${this.apiUrl}/${e}`,t,this.getAuthHeaders())}deleteLocation(e){return this.http.delete(`${this.apiUrl}/${e}`,this.getAuthHeaders())}bulkCreateLocations(e){return this.http.post(`${this.apiUrl}/bulk`,{locations:e},this.getAuthHeaders())}moveLocations(e,t){return this.http.post(`${this.apiUrl}/move`,{location_ids:e,new_parent_id:t},this.getAuthHeaders())}getQRCode(e,t="download",s="png"){let r=new i().set("action",t).set("format",s);return this.http.get(`${this.apiUrl}/${e}/qr`,a({params:r,responseType:"blob"},this.getAuthHeaders()))}getLocationTypes(e){let t=new i;return e!==void 0&&(t=t.set("hierarchy_level",e.toString())),this.http.get(`${o.apiUrl}/location-types`,a({params:t},this.getAuthHeaders()))}getHierarchy(){return this.http.get(`${o.apiUrl}/locations-hierarchy`,this.getAuthHeaders())}getPossibleParents(e,t){let s=new i().set("type_id",e.toString());t&&(s=s.set("location_id",t.toString()));let r=t?`${o.apiUrl}/locations/possible-parents/${t}`:`${o.apiUrl}/locations/possible-parents`;return this.http.get(r,a({params:s},this.getAuthHeaders()))}exportQRCodes(){return this.http.get(`${o.apiUrl}/locations/export-qr`,c(a({},this.getAuthHeaders()),{responseType:"blob"}))}getLocationAssets(e,t={}){let s=new i;return Object.keys(t).forEach(r=>{let n=t[r];n!=null&&n!==""&&(s=s.set(r,n.toString()))}),this.http.get(`${this.apiUrl}/${e}/assets`,a({params:s},this.getAuthHeaders()))}getAssignableAssets(e,t={}){let s=new i;return Object.keys(t).forEach(r=>{let n=t[r];n!=null&&n!==""&&(s=s.set(r,n.toString()))}),this.http.get(`${this.apiUrl}/${e}/assignable-assets`,a({params:s},this.getAuthHeaders()))}assignAssets(e,t,s){let r={asset_ids:t};return s&&(r.department_id=s),this.http.post(`${this.apiUrl}/${e}/assign-assets`,r,this.getAuthHeaders())}static \u0275fac=function(t){return new(t||p)(l(h))};static \u0275prov=u({token:p,factory:p.\u0275fac,providedIn:"root"})};export{b as a};
