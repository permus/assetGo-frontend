import{a as ye}from"./chunk-GT4JH6HJ.js";import{a as D}from"./chunk-VRSNO7KY.js";import{b as R}from"./chunk-LHQ4C4UH.js";import{A as $,B as ve,C as Q,c as T,d as h,e as V,f as q,i as he,j as G,k as L,o as H,p as ee,q as te,r as B,s as F,t as A,u as N,v as ne,w as U,z as be}from"./chunk-UJ77UFQP.js";import"./chunk-6WXWVH7L.js";import{j as Z,k as I,l as S,v as Pe,x as E}from"./chunk-46FGEGCL.js";import{Cb as J,Gb as n,Hb as t,Ib as m,Mb as b,Pb as g,Qb as s,Wb as Ce,Xa as a,Xb as Oe,Yb as fe,ab as y,bc as i,cc as O,dc as _,ec as Y,fc as Me,gc as se,hc as me,ia as M,ic as pe,ja as P,jb as w,ka as C,la as f,lc as X,ob as u,qc as K,rc as W,sa as x,wb as l,yb as k}from"./chunk-Z5DG7LDR.js";import"./chunk-EQDQRRRY.js";function Ee(c,o){if(c&1&&(n(0,"div",89),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("supplier_code")," ")}}function ke(c,o){if(c&1&&(n(0,"div",89),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("name")," ")}}function Ie(c,o){if(c&1&&(n(0,"div",89),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("contact_person")," ")}}function Te(c,o){if(c&1&&(n(0,"div",89),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("email")," ")}}function Ve(c,o){if(c&1&&(n(0,"div",89),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("phone")," ")}}function Fe(c,o){if(c&1&&(n(0,"div",90)(1,"div",89),i(2),t()()),c&2){let e=s();a(2),O(e.error)}}function Ae(c,o){c&1&&(n(0,"span"),i(1,"Create Supplier"),t())}function Ne(c,o){c&1&&(n(0,"span"),i(1,"Creating..."),t())}var oe=class c{constructor(o,e){this.fb=o;this.inventoryService=e;this.supplierForm=this.fb.group({supplier_code:["SUP001",[h.required]],name:["",[h.required]],contact_person:["",[h.required]],tax_registration_number:[""],email:["",[h.required,h.email]],phone:["",[h.required,h.pattern(/^[0-9]+$/)]],alternate_phone:["",[h.pattern(/^[0-9]*$/)]],website:[""],street_address:[""],city:[""],state:[""],postal_code:[""],payment_terms:["Net 30"],currency:["USD"],credit_limit:[0],delivery_lead_time:[7],notes:[""]})}closeModal=new x;supplierCreated=new x;supplierForm;loading=!1;error=null;generateSupplierCode(){let o=Date.now().toString().slice(-6),e=Math.random().toString(36).substring(2,5).toUpperCase(),r=`SUP${o}${e}`;this.supplierForm.patchValue({supplier_code:r})}onSubmit(){if(this.supplierForm.valid){this.loading=!0,this.error=null;let o=this.supplierForm.value,e={name:o.name,contact_person:o.contact_person,email:o.email,phone:o.phone,supplier_code:o.supplier_code,tax_registration_number:o.tax_registration_number,alternate_phone:o.alternate_phone,website:o.website,street_address:o.street_address,city:o.city,state:o.state,postal_code:o.postal_code,payment_terms:o.payment_terms,currency:o.currency,credit_limit:o.credit_limit,delivery_lead_time:o.delivery_lead_time,notes:o.notes};this.inventoryService.createSupplier(e).subscribe({next:r=>{r.success?(this.supplierCreated.emit(r.data),this.closeModal.emit()):this.error="Failed to create supplier",this.loading=!1},error:r=>{console.error("Error creating supplier:",r),this.error="Error creating supplier. Please try again.",this.loading=!1}})}else this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.supplierForm.controls).forEach(o=>{this.supplierForm.get(o)?.markAsTouched()})}onCancel(){this.closeModal.emit()}getFieldError(o){let e=this.supplierForm.get(o);if(e?.errors&&e?.touched){if(e.errors.required)return"This field is required";if(e.errors.email)return"Please enter a valid email address";if(e.errors.pattern)return o==="phone"||o==="alternate_phone"?"Please enter numbers only":"Invalid format";if(e.errors.min)return`Minimum value is ${e.errors.min.min}`}return""}onPhoneKeyPress(o){return[8,9,27,13,46,35,36,37,38,39,40].indexOf(o.keyCode)!==-1||o.ctrlKey===!0&&[65,67,86,88].indexOf(o.keyCode)!==-1||o.keyCode>=35&&o.keyCode<=40?!0:(o.shiftKey||o.keyCode<48||o.keyCode>57)&&(o.keyCode<96||o.keyCode>105)?(o.preventDefault(),!1):!0}static \u0275fac=function(e){return new(e||c)(y($),y(D))};static \u0275cmp=w({type:c,selectors:[["app-add-supplier-modal"]],outputs:{closeModal:"closeModal",supplierCreated:"supplierCreated"},decls:177,vars:10,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-subtitle"],[1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],[1,"section-icon","basic"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"section-title"],[1,"form-row"],[1,"form-field"],["for","supplierCode",1,"field-label"],[1,"input-with-button"],["type","text","id","supplierCode","formControlName","supplier_code","placeholder","Enter supplier code",1,"form-input"],["type","button",1,"generate-btn",3,"click"],["class","error-message",4,"ngIf"],["for","businessName",1,"field-label"],["type","text","id","businessName","formControlName","name","placeholder","Enter business name",1,"form-input"],["for","contactPerson",1,"field-label"],["type","text","id","contactPerson","formControlName","contact_person","placeholder","Enter contact person name",1,"form-input"],["for","taxRegistration",1,"field-label"],["type","text","id","taxRegistration","formControlName","tax_registration_number","placeholder","Enter tax registration number",1,"form-input"],[1,"section-icon","contact"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["for","email",1,"field-label"],["type","email","id","email","formControlName","email","placeholder","Enter email address",1,"form-input"],["for","primaryPhone",1,"field-label"],["type","tel","id","primaryPhone","formControlName","phone","placeholder","Enter primary phone","pattern","[0-9]*","inputmode","numeric",1,"form-input",3,"keypress"],["for","alternatePhone",1,"field-label"],["type","tel","id","alternatePhone","formControlName","alternate_phone","placeholder","Enter alternate phone","pattern","[0-9]*","inputmode","numeric",1,"form-input",3,"keypress"],["for","website",1,"field-label"],["type","url","id","website","formControlName","website","placeholder","Enter website URL",1,"form-input"],[1,"section-icon","address"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"form-field","full-width"],["for","streetAddress",1,"field-label"],[1,"input-with-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["type","text","id","streetAddress","formControlName","street_address","placeholder","Enter supplier address",1,"form-input"],["for","city",1,"field-label"],["type","text","id","city","formControlName","city","placeholder","Enter city",1,"form-input"],["for","state",1,"field-label"],["id","state","formControlName","state",1,"form-select"],["value",""],["value","Abu Dhabi"],["value","Dubai"],["value","Sharjah"],["value","Ajman"],["value","Umm Al Quwain"],["value","Ras Al Khaimah"],["value","Fujairah"],["for","postalCode",1,"field-label"],["type","text","id","postalCode","formControlName","postal_code","placeholder","Enter postal code",1,"form-input"],[1,"section-icon","business"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],["for","paymentTerms",1,"field-label"],["id","paymentTerms","formControlName","payment_terms",1,"form-select"],["value","Net 30"],["value","Net 45"],["value","Net 60"],["value","Net 90"],["value","Due on Receipt"],["for","currency",1,"field-label"],["id","currency","formControlName","currency",1,"form-select"],["value","AED"],["value","USD"],["value","EUR"],["value","GBP"],["for","creditLimit",1,"field-label"],["type","number","id","creditLimit","formControlName","credit_limit","min","0","step","0.01","placeholder","Enter credit limit",1,"form-input"],["for","deliveryLeadTime",1,"field-label"],["type","number","id","deliveryLeadTime","formControlName","delivery_lead_time","min","1","placeholder","Enter lead time",1,"form-input"],[1,"section-icon","notes"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["for","notes",1,"field-label"],["id","notes","formControlName","notes","rows","3","placeholder","Additional notes about this supplier...",1,"form-textarea"],["class","error-section",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],[1,"error-message"],[1,"error-section"]],template:function(e,r){e&1&&(n(0,"div",0),g("click",function(){return r.onCancel()}),n(1,"div",1),g("click",function(p){return p.stopPropagation()}),n(2,"div",2)(3,"h2",3),i(4,"Add New Supplier"),t(),n(5,"p",4),i(6,"Create a new supplier for purchase orders"),t(),n(7,"button",5),g("click",function(){return r.onCancel()}),C(),n(8,"svg",6),m(9,"path",7),t()()(),f(),n(10,"div",8)(11,"form",9),g("ngSubmit",function(){return r.onSubmit()}),n(12,"div",10)(13,"div",11)(14,"div",12),C(),n(15,"svg",6),m(16,"path",13),t()(),f(),n(17,"h3",14),i(18,"Basic Information"),t()(),n(19,"div",15)(20,"div",16)(21,"label",17),i(22,"Supplier Code *"),t(),n(23,"div",18),m(24,"input",19),n(25,"button",20),g("click",function(){return r.generateSupplierCode()}),i(26,"Generate"),t()(),u(27,Ee,2,1,"div",21),t(),n(28,"div",16)(29,"label",22),i(30,"Business Name *"),t(),m(31,"input",23),u(32,ke,2,1,"div",21),t()(),n(33,"div",15)(34,"div",16)(35,"label",24),i(36,"Contact Person *"),t(),m(37,"input",25),u(38,Ie,2,1,"div",21),t(),n(39,"div",16)(40,"label",26),i(41,"Tax Registration Number"),t(),m(42,"input",27),t()()(),n(43,"div",10)(44,"div",11)(45,"div",28),C(),n(46,"svg",6),m(47,"path",29),t()(),f(),n(48,"h3",14),i(49,"Contact Information"),t()(),n(50,"div",15)(51,"div",16)(52,"label",30),i(53,"Email *"),t(),m(54,"input",31),u(55,Te,2,1,"div",21),t(),n(56,"div",16)(57,"label",32),i(58,"Primary Phone *"),t(),n(59,"input",33),g("keypress",function(p){return r.onPhoneKeyPress(p)}),t(),u(60,Ve,2,1,"div",21),t()(),n(61,"div",15)(62,"div",16)(63,"label",34),i(64,"Alternate Phone"),t(),n(65,"input",35),g("keypress",function(p){return r.onPhoneKeyPress(p)}),t()(),n(66,"div",16)(67,"label",36),i(68,"Website"),t(),m(69,"input",37),t()()(),n(70,"div",10)(71,"div",11)(72,"div",38),C(),n(73,"svg",6),m(74,"path",39),t()(),f(),n(75,"h3",14),i(76,"Address Information"),t()(),n(77,"div",15)(78,"div",40)(79,"label",41),i(80,"Street Address"),t(),n(81,"div",42),C(),n(82,"svg",43),m(83,"path",44)(84,"path",45),t(),f(),m(85,"input",46),t()()(),n(86,"div",15)(87,"div",16)(88,"label",47),i(89,"City"),t(),m(90,"input",48),t(),n(91,"div",16)(92,"label",49),i(93,"State/Emirate"),t(),n(94,"select",50)(95,"option",51),i(96,"Select emirate"),t(),n(97,"option",52),i(98,"Abu Dhabi"),t(),n(99,"option",53),i(100,"Dubai"),t(),n(101,"option",54),i(102,"Sharjah"),t(),n(103,"option",55),i(104,"Ajman"),t(),n(105,"option",56),i(106,"Umm Al Quwain"),t(),n(107,"option",57),i(108,"Ras Al Khaimah"),t(),n(109,"option",58),i(110,"Fujairah"),t()()(),n(111,"div",16)(112,"label",59),i(113,"Postal Code"),t(),m(114,"input",60),t()()(),n(115,"div",10)(116,"div",11)(117,"div",61),C(),n(118,"svg",6),m(119,"path",62),t()(),f(),n(120,"h3",14),i(121,"Business Terms"),t()(),n(122,"div",15)(123,"div",16)(124,"label",63),i(125,"Payment Terms"),t(),n(126,"select",64)(127,"option",65),i(128,"Net 30"),t(),n(129,"option",66),i(130,"Net 45"),t(),n(131,"option",67),i(132,"Net 60"),t(),n(133,"option",68),i(134,"Net 90"),t(),n(135,"option",69),i(136,"Due on Receipt"),t()()(),n(137,"div",16)(138,"label",70),i(139,"Currency"),t(),n(140,"select",71)(141,"option",72),i(142,"AED - UAE Dirham"),t(),n(143,"option",73),i(144,"USD - US Dollar"),t(),n(145,"option",74),i(146,"EUR - Euro"),t(),n(147,"option",75),i(148,"GBP - British Pound"),t()()()(),n(149,"div",15)(150,"div",16)(151,"label",76),i(152,"Credit Limit"),t(),m(153,"input",77),t(),n(154,"div",16)(155,"label",78),i(156,"Delivery Lead Time (Days)"),t(),m(157,"input",79),t()()(),n(158,"div",10)(159,"div",11)(160,"div",80),C(),n(161,"svg",6),m(162,"path",81),t()(),f(),n(163,"h3",14),i(164,"Additional Information"),t()(),n(165,"div",15)(166,"div",40)(167,"label",82),i(168,"Notes"),t(),m(169,"textarea",83),t()()(),u(170,Fe,3,1,"div",84),t()(),n(171,"div",85)(172,"button",86),g("click",function(){return r.onCancel()}),i(173," Cancel "),t(),n(174,"button",87),g("click",function(){return r.onSubmit()}),u(175,Ae,2,0,"span",88)(176,Ne,2,0,"span",88),t()()()()),e&2&&(a(11),l("formGroup",r.supplierForm),a(16),l("ngIf",r.getFieldError("supplier_code")),a(5),l("ngIf",r.getFieldError("name")),a(6),l("ngIf",r.getFieldError("contact_person")),a(17),l("ngIf",r.getFieldError("email")),a(5),l("ngIf",r.getFieldError("phone")),a(110),l("ngIf",r.error),a(4),l("disabled",!r.supplierForm.valid||r.loading),a(),l("ngIf",!r.loading),a(),l("ngIf",r.loading))},dependencies:[E,S,Q,G,A,N,T,L,F,V,q,be,U,H,B],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:100%;max-width:900px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px #00000040}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb;position:relative}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin:0 0 .25rem}.modal-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1.5rem;gap:.75rem}.section-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff}.section-icon.basic[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.section-icon.contact[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.section-icon.address[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.section-icon.business[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.section-icon.notes[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.section-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-row[_ngcontent-%COMP%]   .form-field.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.field-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.field-label[_ngcontent-%COMP%]:after{content:" *";color:#ef4444}.field-label[_ngcontent-%COMP%]:not(:has(+.form-input[required])):after{content:""}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d1d5db;border-radius:6px;padding:.75rem;color:#111827;font-size:.875rem;transition:all .2s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-input[_ngcontent-%COMP%]:readonly, .form-select[_ngcontent-%COMP%]:readonly, .form-textarea[_ngcontent-%COMP%]:readonly{background-color:#f9fafb;color:#6b7280}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.input-with-button[_ngcontent-%COMP%]{display:flex;gap:.5rem}.generate-btn[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none;padding:.75rem 1rem;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.generate-btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.generate-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-with-icon[_ngcontent-%COMP%]{position:relative}.input-with-icon[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);width:1.25rem;height:1.25rem;color:#6b7280}.input-with-icon[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding-left:2.75rem}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem}.error-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:#fef2f2;border:1px solid #fecaca;border-radius:6px}.error-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;margin:0}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:6px;font-size:.875rem;font-weight:500;border:none;cursor:pointer;transition:all .2s;min-width:100px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4b5563}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{max-width:100%;margin:0 1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}']})};var De=["dateInput"];function ze(c,o){if(c&1&&(n(0,"option",60),i(1),t()),c&2){let e=o.$implicit;l("value",e.id),a(),Y(" ",e.name," - ",e.contact_person," ")}}function je(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("vendor_name")," ")}}function Re(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("vendor_contact")," ")}}function qe(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("order_date")," ")}}function Ge(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("expected_date")," ")}}function Le(c,o){if(c&1){let e=b();n(0,"button",74),g("click",function(){M(e);let d=s().index,p=s();return P(p.removeItem(d))}),C(),n(1,"svg",35),m(2,"path",75),t()()}}function He(c,o){if(c&1&&(n(0,"option",60),i(1),t()),c&2){let e=o.$implicit;l("value",e.id),a(),Y(" ",e.name," (",e.part_number,") ")}}function Be(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s().index,r=s();a(),_(" ",r.getArrayFieldError("items",e,"part_id")," ")}}function Ue(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s().index,r=s();a(),_(" ",r.getArrayFieldError("items",e,"part_number")," ")}}function $e(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s().index,r=s();a(),_(" ",r.getArrayFieldError("items",e,"description")," ")}}function Qe(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s().index,r=s();a(),_(" ",r.getArrayFieldError("items",e,"qty")," ")}}function Ye(c,o){if(c&1&&(n(0,"div",61),i(1),t()),c&2){let e=s().index,r=s();a(),_(" ",r.getArrayFieldError("items",e,"unit_cost")," ")}}function Ke(c,o){if(c&1&&(n(0,"div",62)(1,"div",63)(2,"h4",64),i(3),t(),u(4,Le,3,0,"button",65),t(),n(5,"div",15)(6,"div",16)(7,"label",66),i(8,"Part "),n(9,"span"),i(10,"*"),t()(),n(11,"select",67)(12,"option",20),i(13,"Select a part"),t(),u(14,He,2,3,"option",21),t(),u(15,Be,2,1,"div",25),t(),n(16,"div",16)(17,"label",66),i(18,"Part Number *"),t(),m(19,"input",68),u(20,Ue,2,1,"div",25),t()(),n(21,"div",15)(22,"div",39)(23,"label",66),i(24,"Description *"),t(),m(25,"input",69),u(26,$e,2,1,"div",25),t()(),n(27,"div",15)(28,"div",16)(29,"label",66),i(30,"Quantity *"),t(),m(31,"input",70),u(32,Qe,2,1,"div",25),t(),n(33,"div",16)(34,"label",66),i(35,"Unit Cost *"),t(),m(36,"input",71),u(37,Ye,2,1,"div",25),t(),n(38,"div",16)(39,"label",72),i(40,"Line Total"),t(),n(41,"div",73),i(42),K(43,"currency"),t()()()()),c&2){let e=o.index,r=s();l("formGroupName",e),a(3),_("Item ",e+1,""),a(),l("ngIf",r.itemsArray.length>1),a(3),l("for","part_"+e),a(4),l("id","part_"+e),a(3),l("ngForOf",r.parts),a(),l("ngIf",r.getArrayFieldError("items",e,"part_id")),a(2),l("for","partNumber_"+e),a(2),l("id","partNumber_"+e),a(),l("ngIf",r.getArrayFieldError("items",e,"part_number")),a(3),l("for","description_"+e),a(2),l("id","description_"+e),a(),l("ngIf",r.getArrayFieldError("items",e,"description")),a(3),l("for","qty_"+e),a(2),l("id","qty_"+e),a(),l("ngIf",r.getArrayFieldError("items",e,"qty")),a(2),l("for","cost_"+e),a(2),l("id","cost_"+e),a(),l("ngIf",r.getArrayFieldError("items",e,"unit_cost")),a(5),O(W(43,20,r.calculateItemTotal(e)))}}function We(c,o){c&1&&m(0,"span",58)}function Je(c,o){if(c&1){let e=b();n(0,"app-add-supplier-modal",76),g("closeModal",function(){M(e);let d=s();return P(d.closeAddSupplierModal())})("supplierCreated",function(d){M(e);let p=s();return P(p.onSupplierCreated(d))}),t()}}var ce=class c{constructor(o,e){this.fb=o;this.inventoryService=e;this.poForm=this.fb.group({supplier_id:[""],vendor_name:["",[h.required]],vendor_contact:["",[h.required]],order_date:["",[h.required]],expected_date:["",[h.required]],tax_rate:[0],terms:[""],notes:[""],items:this.fb.array([])})}closeModal=new x;createPurchaseOrder=new x;dateInputs;poForm;loading=!1;submitting=!1;error=null;flatpickrInstances=[];suppliers=[];parts=[];showAddSupplierModal=!1;ngOnInit(){this.loadSuppliers(),this.loadParts(),this.addItem(),this.setupDateValidation(),this.poForm.get("supplier_id")?.valueChanges.subscribe(o=>{this.onSupplierChange()})}ngAfterViewInit(){setTimeout(()=>{this.initializeFlatpickr()},100)}ngOnDestroy(){this.flatpickrInstances.forEach(o=>{o&&o.destroy()})}loadSuppliers(){this.inventoryService.getSuppliers("",1e3,1).subscribe({next:o=>{o.success&&(this.suppliers=o.data.data)},error:o=>{console.error("Error loading suppliers:",o),this.suppliers=[{id:1,company_id:1,supplier_code:"SUP001",name:"Supplier A",contact_person:"John Doe",email:"john@suppliera.com",phone:"+1234567890",currency:"USD",created_at:"",updated_at:""},{id:2,company_id:1,supplier_code:"SUP002",name:"Supplier B",contact_person:"Jane Smith",email:"jane@supplierb.com",phone:"+1234567891",currency:"USD",created_at:"",updated_at:""},{id:3,company_id:1,supplier_code:"SUP003",name:"Supplier C",contact_person:"Bob Johnson",email:"bob@supplierc.com",phone:"+1234567892",currency:"USD",created_at:"",updated_at:""}]}})}loadParts(){this.inventoryService.getPartsCatalog("","active",1,1e3).subscribe({next:o=>{o.success&&(this.parts=o.data.data)},error:o=>{console.error("Error loading parts:",o)}})}get itemsArray(){return this.poForm.get("items")}addItem(){let o=this.fb.group({part_id:["",h.required],part_number:["",[h.required]],description:["",[h.required]],qty:["",[h.required,h.min(1)]],unit_cost:["",[h.required,h.min(.01)]]});this.itemsArray.push(o);let e=this.itemsArray.length-1;o.get("part_id")?.valueChanges.subscribe(r=>{this.onPartChange(e)})}removeItem(o){this.itemsArray.length>1&&this.itemsArray.removeAt(o)}getItemPartName(o){let e=this.parts.find(r=>r.id===o);return e?e.name:"Unknown Part"}onPartChange(o){let e=this.itemsArray.at(o),r=e.get("part_id")?.value;if(r&&r!==""){let d=typeof r=="string"?parseInt(r):r,p=this.parts.find(v=>v.id===d);p&&e.patchValue({part_number:p.part_number,description:p.description||p.name})}else e.patchValue({part_number:"",description:""})}calculateItemTotal(o){let e=this.itemsArray.at(o),r=e.get("qty")?.value||0,d=e.get("unit_cost")?.value||0;return r*d}calculateTotal(){let o=this.itemsArray.controls.reduce((d,p)=>d+this.calculateItemTotal(this.itemsArray.controls.indexOf(p)),0),e=this.poForm.get("tax_rate")?.value||0,r=o*(e/100);return o+r}calculateSubtotal(){return this.itemsArray.controls.reduce((o,e)=>o+this.calculateItemTotal(this.itemsArray.controls.indexOf(e)),0)}calculateTax(){let o=this.calculateSubtotal(),e=this.poForm.get("tax_rate")?.value||0;return o*(e/100)}onSubmit(){if(this.poForm.valid&&!this.submitting){this.submitting=!0,this.loading=!0,this.error=null;let o=this.poForm.value,e={supplier_id:o.supplier_id||void 0,vendor_name:o.vendor_name,vendor_contact:o.vendor_contact,order_date:o.order_date,expected_date:o.expected_date,tax_rate:o.tax_rate,terms:o.terms,notes:o.notes,items:o.items.map(r=>({part_id:r.part_id||void 0,part_number:r.part_number,description:r.description,qty:r.qty,unit_cost:r.unit_cost}))};this.inventoryService.createPurchaseOrder(e).subscribe({next:r=>{this.submitting=!1,this.loading=!1,r.success?(this.createPurchaseOrder.emit(e),this.closeModal.emit()):this.error="Failed to create purchase order"},error:r=>{this.submitting=!1,this.loading=!1,this.error="Error creating purchase order: "+(r.error?.message||r.message)}})}else this.poForm.valid||this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.poForm.controls).forEach(o=>{this.poForm.get(o)?.markAsTouched()})}onCancel(){this.closeModal.emit()}getFieldError(o){let e=this.poForm.get(o);if(e?.errors&&e?.touched){if(e.errors.required)return"This field is required";if(e.errors.min)return`Minimum value is ${e.errors.min.min}`;if(e.errors.dateOrder)return"Order date cannot be after expected delivery date"}return""}getArrayFieldError(o,e,r){let d=this.itemsArray.at(e).get(r);if(d?.errors&&d?.touched){if(d.errors.required)return"This field is required";if(d.errors.min)return`Minimum value is ${d.errors.min.min}`}return""}setupDateValidation(){this.poForm.get("order_date")?.valueChanges.subscribe(()=>{this.validateDateOrder()}),this.poForm.get("expected_date")?.valueChanges.subscribe(()=>{this.validateDateOrder()})}validateDateOrder(){let o=this.poForm.get("order_date")?.value,e=this.poForm.get("expected_date")?.value;if(o&&e){let r=new Date(o),d=new Date(e);if(r>d)this.poForm.get("order_date")?.setErrors({dateOrder:!0}),this.poForm.get("expected_date")?.setErrors({dateOrder:!0});else{let p=this.poForm.get("order_date")?.errors,v=this.poForm.get("expected_date")?.errors;p?.dateOrder&&(delete p.dateOrder,Object.keys(p).length===0?this.poForm.get("order_date")?.setErrors(null):this.poForm.get("order_date")?.setErrors(p)),v?.dateOrder&&(delete v.dateOrder,Object.keys(v).length===0?this.poForm.get("expected_date")?.setErrors(null):this.poForm.get("expected_date")?.setErrors(v))}}}initializeFlatpickr(){this.flatpickrInstances.forEach(o=>{o&&o.destroy()}),this.flatpickrInstances=[],this.dateInputs&&this.dateInputs.forEach((o,e)=>{if(o?.nativeElement){let r=o.nativeElement,d=r.getAttribute("formControlName"),p={dateFormat:"Y-m-d",allowInput:!0,clickOpens:!0,onChange:(z,j)=>{d&&(this.poForm.get(d)?.setValue(j),this.validateDateOrder())}};d==="expected_date"&&(p.minDate="today");let v=ye(r,p);this.flatpickrInstances.push(v)}})}getSelectedSupplierName(){let o=this.poForm.get("supplier_id")?.value,e=this.suppliers.find(r=>r.id===o);return e?e.name:""}openAddSupplierModal(){this.showAddSupplierModal=!0}closeAddSupplierModal(){this.showAddSupplierModal=!1}onSupplierCreated(o){this.suppliers.push(o),this.poForm.patchValue({supplier_id:o.id}),this.poForm.patchValue({vendor_name:o.name,vendor_contact:o.contact_person+" - "+o.phone}),this.closeAddSupplierModal()}onSupplierChange(){let o=this.poForm.get("supplier_id")?.value;if(o&&o!==""){let e=typeof o=="string"?parseInt(o):o,r=this.suppliers.find(d=>d.id===e);r&&this.poForm.patchValue({vendor_name:r.name,vendor_contact:r.contact_person+" - "+r.phone})}else this.poForm.patchValue({vendor_name:"",vendor_contact:""})}static \u0275fac=function(e){return new(e||c)(y($),y(D))};static \u0275cmp=w({type:c,selectors:[["app-create-purchase-order-modal"]],viewQuery:function(e,r){if(e&1&&Ce(De,5),e&2){let d;Oe(d=fe())&&(r.dateInputs=d)}},outputs:{closeModal:"closeModal",createPurchaseOrder:"createPurchaseOrder"},decls:123,vars:25,consts:[["dateInput",""],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],[1,"section-icon","supplier"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"section-title"],[1,"form-row"],[1,"form-field"],["for","supplier",1,"field-label"],[1,"supplier-selection"],["id","supplier","formControlName","supplier_id",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-outline",3,"click"],["for","vendorName",1,"field-label"],["type","text","id","vendorName","formControlName","vendor_name","placeholder","Enter vendor name",1,"form-input"],["class","error-message",4,"ngIf"],["for","vendorContact",1,"field-label"],["type","text","id","vendorContact","formControlName","vendor_contact","placeholder","Enter vendor contact information",1,"form-input"],[1,"section-icon","order"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["for","orderDate",1,"field-label"],["type","text","id","orderDate","formControlName","order_date","placeholder","Select order date","readonly","",1,"form-input","flatpickr-input"],["for","expectedDelivery",1,"field-label"],["type","text","id","expectedDelivery","formControlName","expected_date","placeholder","Select expected delivery date","readonly","",1,"form-input","flatpickr-input"],[1,"form-hint"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["for","taxRate",1,"field-label"],["type","number","id","taxRate","formControlName","tax_rate","min","0","max","100","step","0.01","placeholder","0.00",1,"form-input"],[1,"form-field","full-width"],["for","terms",1,"field-label"],["id","terms","formControlName","terms","rows","2","placeholder","Enter payment terms and conditions...",1,"form-textarea"],[1,"section-icon","items"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["formArrayName","items",1,"items-container"],["class","item-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"total-section"],[1,"total-row"],[1,"total-label"],[1,"total-value"],[1,"total-row","total-final"],[1,"section-icon","notes"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["for","notes",1,"field-label"],["id","notes","formControlName","notes","rows","3","placeholder","Add any additional notes or special instructions...",1,"form-textarea"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary","gap-2","flex","items-center",3,"click","disabled"],[1,"border-t","border-white","border-opacity-25","ml-2","w-4","h-4","rounded-full","animate-spin","inline-block"],[3,"closeModal","supplierCreated",4,"ngIf"],[3,"value"],[1,"error-message"],[1,"item-row",3,"formGroupName"],[1,"item-header"],[1,"item-title"],["type","button","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"field-label",3,"for"],["formControlName","part_id",1,"form-select",3,"id"],["type","text","formControlName","part_number","placeholder","Auto-populated when part is selected","readonly","",1,"form-input",3,"id"],["type","text","formControlName","description","placeholder","Auto-populated when part is selected","readonly","",1,"form-input",3,"id"],["type","number","formControlName","qty","min","1",1,"form-input",3,"id"],["type","number","formControlName","unit_cost","min","0.01","step","0.01",1,"form-input",3,"id"],[1,"field-label"],[1,"line-total"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[3,"closeModal","supplierCreated"]],template:function(e,r){if(e&1){let d=b();n(0,"div",1),g("click",function(){return M(d),P(r.onCancel())}),n(1,"div",2),g("click",function(v){return M(d),P(v.stopPropagation())}),n(2,"div",3)(3,"h2",4),i(4,"Create Purchase Order"),t(),n(5,"button",5),g("click",function(){return M(d),P(r.onCancel())}),C(),n(6,"svg",6),m(7,"path",7),t()()(),f(),n(8,"div",8)(9,"form",9),g("ngSubmit",function(){return M(d),P(r.onSubmit())}),n(10,"div",10)(11,"div",11)(12,"div",12),C(),n(13,"svg",6),m(14,"path",13),t()(),f(),n(15,"h3",14),i(16,"Supplier Information"),t()(),n(17,"div",15)(18,"div",16)(19,"label",17),i(20,"Supplier (Optional)"),t(),n(21,"div",18)(22,"select",19)(23,"option",20),i(24,"Select a supplier"),t(),u(25,ze,2,3,"option",21),t(),n(26,"button",22),g("click",function(){return M(d),P(r.openAddSupplierModal())}),i(27," New Supplier "),t()()()(),n(28,"div",15)(29,"div",16)(30,"label",23),i(31,"Vendor Name *"),t(),m(32,"input",24),u(33,je,2,1,"div",25),t(),n(34,"div",16)(35,"label",26),i(36,"Vendor Contact *"),t(),m(37,"input",27),u(38,Re,2,1,"div",25),t()()(),n(39,"div",10)(40,"div",11)(41,"div",28),C(),n(42,"svg",6),m(43,"path",29),t()(),f(),n(44,"h3",14),i(45,"Order Details"),t()(),n(46,"div",15)(47,"div",16)(48,"label",30),i(49,"Order Date *"),t(),m(50,"input",31,0),u(52,qe,2,1,"div",25),t(),n(53,"div",16)(54,"label",32),i(55,"Expected Delivery *"),t(),m(56,"input",33,0),u(58,Ge,2,1,"div",25),t()(),n(59,"div",34),C(),n(60,"svg",35),m(61,"path",36),t(),f(),n(62,"span"),i(63,"Order date should be on or before the expected delivery date"),t()(),n(64,"div",15)(65,"div",16)(66,"label",37),i(67,"Tax Rate (%)"),t(),m(68,"input",38),t()(),n(69,"div",15)(70,"div",39)(71,"label",40),i(72,"Terms & Conditions"),t(),m(73,"textarea",41),t()()(),n(74,"div",10)(75,"div",11)(76,"div",42),C(),n(77,"svg",6),m(78,"path",43),t()(),f(),n(79,"h3",14),i(80,"Order Items"),t(),n(81,"button",22),g("click",function(){return M(d),P(r.addItem())}),i(82," Add Item "),t()(),n(83,"div",44),u(84,Ke,44,22,"div",45),t(),n(85,"div",46)(86,"div",47)(87,"div",48),i(88,"Subtotal:"),t(),n(89,"div",49),i(90),K(91,"currency"),t()(),n(92,"div",47)(93,"div",48),i(94),t(),n(95,"div",49),i(96),K(97,"currency"),t()(),n(98,"div",50)(99,"div",48),i(100,"Total Order Value:"),t(),n(101,"div",49),i(102),K(103,"currency"),t()()()(),n(104,"div",10)(105,"div",11)(106,"div",51),C(),n(107,"svg",6),m(108,"path",52),t()(),f(),n(109,"h3",14),i(110,"Additional Information"),t()(),n(111,"div",15)(112,"div",39)(113,"label",53),i(114,"Notes"),t(),m(115,"textarea",54),t()()()()(),n(116,"div",55)(117,"button",56),g("click",function(){return M(d),P(r.onCancel())}),i(118," Cancel "),t(),n(119,"button",57),g("click",function(){return M(d),P(r.onSubmit())}),u(120,We,1,0,"span",58),i(121),t()()(),u(122,Je,1,0,"app-add-supplier-modal",59),t()}if(e&2){let d;a(9),l("formGroup",r.poForm),a(16),l("ngForOf",r.suppliers),a(8),l("ngIf",r.getFieldError("vendor_name")),a(5),l("ngIf",r.getFieldError("vendor_contact")),a(12),k("error",r.getFieldError("order_date")),a(2),l("ngIf",r.getFieldError("order_date")),a(4),k("error",r.getFieldError("expected_date")),a(2),l("ngIf",r.getFieldError("expected_date")),a(26),l("ngForOf",r.itemsArray.controls),a(6),O(W(91,19,r.calculateSubtotal())),a(4),_("Tax (",((d=r.poForm.get("tax_rate"))==null?null:d.value)||0,"%):"),a(2),O(W(97,21,r.calculateTax())),a(6),O(W(103,23,r.calculateTotal())),a(17),l("disabled",!r.poForm.valid||r.submitting),a(),J(r.submitting?120:-1),a(),_(" ",r.submitting?"Creating...":"Create Purchase Order"," "),a(),l("ngIf",r.showAddSupplierModal)}},dependencies:[E,I,S,Pe,Q,G,A,N,T,L,F,V,q,U,ne,H,B,ee,te,oe],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:800px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#111827;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:.375rem;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem;gap:.75rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon.supplier[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1d4ed8}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon.order[_ngcontent-%COMP%]{background-color:#dcfce7;color:#16a34a}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon.notes[_ngcontent-%COMP%]{background-color:#fef3c7;color:#d97706}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon.items[_ngcontent-%COMP%]{background-color:#e0e7ff;color:#7c3aed}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0;flex-grow:1}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:1px solid #d1d5db;background-color:#fff;color:#374151}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;margin-right:.5rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;transition:border-color .2s}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input.ng-invalid.ng-touched[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select.ng-invalid.ng-touched[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input.flatpickr-input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select.flatpickr-input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea.flatpickr-input[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input.flatpickr-input[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select.flatpickr-input[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea.flatpickr-input[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem;min-height:1rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;margin-bottom:1rem;background-color:#f9fafb}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#374151;margin:0}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#fef2f2;color:#dc2626;border-color:#fecaca}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#fee2e2;border-color:#fca5a5}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 1fr;gap:.75rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .line-total[_ngcontent-%COMP%]{padding:.75rem;background-color:#f3f4f6;border:1px solid #d1d5db;border-radius:.5rem;font-weight:600;color:#111827;text-align:center;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:#f8fafc;border:1px solid #e2e8f0;border-radius:8px}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]   .total-row.total-final[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:#1e293b;border-top:2px solid #3b82f6;padding-top:.75rem;margin-top:.5rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-weight:500;color:#475569}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .total-section[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.supplier-selection[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-end}.supplier-selection[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{flex:1}.supplier-selection[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{white-space:nowrap;padding:.75rem 1rem;font-size:.875rem;border:1px solid #3b82f6;background-color:#3b82f6;color:#fff;border-radius:6px;cursor:pointer;transition:all .2s}.supplier-selection[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb;color:#fff}.supplier-selection[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]{border:1px solid #3b82f6;background-color:#3b82f6;color:#fff}.supplier-selection[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb;color:#fff}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:none}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border:1px solid #d1d5db}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;cursor:not-allowed}@media (max-width: 640px){.modal-container[_ngcontent-%COMP%]{margin:.5rem;max-height:calc(100vh - 1rem)}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:.75rem}.modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem}}.form-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background-color:#f0f9ff;border:1px solid #bae6fd;border-radius:.5rem;margin:.75rem 0;font-size:.875rem;color:#0369a1}.form-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0;color:#0284c7}.form-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.4}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})};var ue=()=>[];function Xe(c,o){if(c&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td",38),i(4),t(),n(5,"td",39),i(6),t(),n(7,"td",40),i(8),t(),n(9,"td",41),i(10),t(),n(11,"td",42),i(12),t()()),c&2){let e=o.$implicit,r=s(2);a(2),_(" ",(e==null||e.location_info==null?null:e.location_info.name)||"N/A"," "),a(2),O((e==null?null:e.part_number)||"N/A"),a(2),O((e==null?null:e.description)||"No description"),a(2),O((e==null?null:e.ordered_qty)||0),a(2),O(r.formatCurrency(e==null?null:e.unit_cost)),a(2),O(r.formatCurrency(((e==null?null:e.ordered_qty)||0)*((e==null?null:e.unit_cost)||0)))}}function Ze(c,o){if(c&1&&(n(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th"),i(5,"Received From"),t(),n(6,"th"),i(7,"Part Number"),t(),n(8,"th"),i(9,"Description"),t(),n(10,"th"),i(11,"Quantity"),t(),n(12,"th"),i(13,"Unit Cost"),t(),n(14,"th",36),i(15,"Total"),t()()(),n(16,"tbody"),u(17,Xe,13,6,"tr",37),t()()()),c&2){let e=s();a(17),l("ngForOf",(e.purchaseOrder==null?null:e.purchaseOrder.items)||X(1,ue))}}function et(c,o){c&1&&(n(0,"div",43),C(),n(1,"svg",44),m(2,"path",45),t(),f(),n(3,"p"),i(4,"No items in this purchase order"),t()())}function tt(c,o){if(c&1&&(n(0,"span"),i(1),t()),c&2){let e=s();a(),O((e.purchaseOrder==null?null:e.purchaseOrder.created_by.first_name)+" "+(e.purchaseOrder==null?null:e.purchaseOrder.created_by.last_name)||"System")}}function nt(c,o){if(c&1){let e=b();n(0,"button",46),g("click",function(){M(e);let d=s();return P(d.onEdit())}),C(),n(1,"svg",47),m(2,"path",48),t(),i(3," Edit Purchase Order "),t()}}var de=class c{constructor(o){this.currency=o}purchaseOrder=null;closeModal=new x;purchaseOrderUpdated=new x;get hasItems(){return!!(this.purchaseOrder?.items&&this.purchaseOrder.items.length>0)}get itemsCount(){return this.purchaseOrder?.items?.length||0}getStatusClass(o){switch(o){case"draft":return"status-draft";case"pending":return"status-pending";case"approved":return"status-approved";case"ordered":return"status-ordered";case"rejected":return"status-rejected";case"closed":return"status-closed";case"cancelled":return"status-cancelled";default:return"status-default"}}getStatusLabel(o){switch(o){case"draft":return"Draft";case"pending":return"Pending";case"approved":return"Approved";case"ordered":return"Ordered";case"rejected":return"Rejected";case"closed":return"Closed";case"cancelled":return"Cancelled";default:return o}}formatCurrency(o){return this.currency.format(o)}formatDate(o){if(!o)return"N/A";try{let e=new Date(o);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString()}catch{return"Invalid Date"}}calculateItemsTotal(o){return!o||!Array.isArray(o)||o.length===0?0:o.reduce((e,r)=>{let d=Number(r?.ordered_qty)||0;return e+(isNaN(d)?0:d)},0)}calculateTotalValue(o){return!o||!Array.isArray(o)||o.length===0?0:o.reduce((e,r)=>{let d=Number(r?.ordered_qty)||0,p=Number(r?.unit_cost)||0;return e+d*p},0)}onClose(){this.closeModal.emit()}onEdit(){this.purchaseOrder&&this.purchaseOrderUpdated.emit(this.purchaseOrder),this.onClose()}static \u0275fac=function(e){return new(e||c)(y(R))};static \u0275cmp=w({type:c,selectors:[["app-view-purchase-order-modal"]],inputs:{purchaseOrder:"purchaseOrder"},outputs:{closeModal:"closeModal",purchaseOrderUpdated:"purchaseOrderUpdated"},decls:106,vars:23,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"header-content"],[1,"modal-title"],[1,"po-number"],[1,"close-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],[1,"info-section"],[1,"section-header"],[1,"info-grid"],[1,"info-item"],[1,"status-badge",3,"ngClass"],[1,"total-value"],[1,"supplier-info"],[1,"supplier-card"],[1,"supplier-header"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"supplier-details"],[1,"supplier-name"],[1,"supplier-id"],[1,"supplier-contact"],[1,"contact-item"],[1,"items-summary"],["class","items-table-container",4,"ngIf"],["class","no-items",4,"ngIf"],[1,"additional-info"],[1,"notes"],[1,"terms"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary !hidden",3,"click",4,"ngIf"],[1,"items-table-container"],[1,"items-table"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"part-number"],[1,"description"],[1,"quantity"],[1,"unit-cost"],[1,"item-total"],[1,"no-items"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"btn","btn-primary","!hidden",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"]],template:function(e,r){e&1&&(n(0,"div",0),g("click",function(){return r.onClose()}),n(1,"div",1),g("click",function(p){return p.stopPropagation()}),n(2,"div",2)(3,"div",3)(4,"h2",4),i(5,"Purchase Order Details"),t(),n(6,"div",5),i(7),t()(),n(8,"button",6),g("click",function(){return r.onClose()}),C(),n(9,"svg",7),m(10,"path",8),t()()(),f(),n(11,"div",9)(12,"div",10)(13,"div",11)(14,"h3"),i(15,"Basic Information"),t()(),n(16,"div",12)(17,"div",13)(18,"label"),i(19,"Status"),t(),n(20,"span",14),i(21),t()(),n(22,"div",13)(23,"label"),i(24,"Order Date"),t(),n(25,"span"),i(26),t()(),n(27,"div",13)(28,"label"),i(29,"Expected Date"),t(),n(30,"span"),i(31),t()(),n(32,"div",13)(33,"label"),i(34,"Total Value"),t(),n(35,"span",15),i(36),t()()()(),n(37,"div",10)(38,"div",11)(39,"h3"),i(40,"Supplier Details"),t()(),n(41,"div",16)(42,"div",17)(43,"div",18),C(),n(44,"svg",7),m(45,"path",19),t(),f(),n(46,"div",20)(47,"div",21),i(48),t(),n(49,"div",22),i(50),t()()(),n(51,"div",23)(52,"div",24)(53,"label"),i(54,"Email:"),t(),n(55,"span"),i(56),t()(),n(57,"div",24)(58,"label"),i(59,"Phone:"),t(),n(60,"span"),i(61),t()(),n(62,"div",24)(63,"label"),i(64,"Address:"),t(),n(65,"span"),i(66),t()()()()()(),n(67,"div",10)(68,"div",11)(69,"h3"),i(70),t(),n(71,"div",25)(72,"span"),i(73),t(),n(74,"span"),i(75),t()()(),u(76,Ze,18,2,"div",26)(77,et,5,0,"div",27),t(),n(78,"div",10)(79,"div",11)(80,"h3"),i(81,"Additional Information"),t()(),n(82,"div",28)(83,"div",13)(84,"label"),i(85,"Notes"),t(),n(86,"span",29),i(87),t()(),n(88,"div",13)(89,"label"),i(90,"Terms & Conditions"),t(),n(91,"span",30),i(92),t()(),n(93,"div",13)(94,"label"),i(95,"Created By"),t(),u(96,tt,2,1,"span"),t(),n(97,"div",13)(98,"label"),i(99,"Created Date"),t(),n(100,"span"),i(101),t()()()()(),n(102,"div",31)(103,"button",32),g("click",function(){return r.onClose()}),i(104," Close "),t(),u(105,nt,4,0,"button",33),t()()()),e&2&&(a(7),_("PO-",r.purchaseOrder==null?null:r.purchaseOrder.po_number,""),a(13),l("ngClass",r.getStatusClass((r.purchaseOrder==null?null:r.purchaseOrder.status)||"")),a(),_(" ",r.getStatusLabel((r.purchaseOrder==null?null:r.purchaseOrder.status)||"")," "),a(5),O(r.formatDate(r.purchaseOrder==null?null:r.purchaseOrder.order_date)),a(5),O(r.formatDate(r.purchaseOrder==null?null:r.purchaseOrder.expected_date)),a(5),O(r.formatCurrency(r.purchaseOrder==null?null:r.purchaseOrder.total)),a(12),O((r.purchaseOrder==null||r.purchaseOrder.supplier==null?null:r.purchaseOrder.supplier.name)||"Unknown Supplier"),a(2),_("ID: ",r.purchaseOrder==null?null:r.purchaseOrder.supplier_id,""),a(6),O((r.purchaseOrder==null||r.purchaseOrder.supplier==null?null:r.purchaseOrder.supplier.email)||"N/A"),a(5),O((r.purchaseOrder==null||r.purchaseOrder.supplier==null?null:r.purchaseOrder.supplier.phone)||"N/A"),a(5),O((r.purchaseOrder==null||r.purchaseOrder.supplier==null?null:r.purchaseOrder.supplier.address)||"N/A"),a(4),_("Order Items (",r.itemsCount,")"),a(3),_("Total Quantity: ",r.calculateItemsTotal((r.purchaseOrder==null?null:r.purchaseOrder.items)||X(21,ue)),""),a(2),_("Total Value: ",r.formatCurrency(r.calculateTotalValue((r.purchaseOrder==null?null:r.purchaseOrder.items)||X(22,ue))),""),a(),l("ngIf",r.hasItems),a(),l("ngIf",!r.hasItems),a(10),O((r.purchaseOrder==null?null:r.purchaseOrder.notes)||"No notes available"),a(5),O((r.purchaseOrder==null?null:r.purchaseOrder.terms)||"Standard terms apply"),a(4),J(r.purchaseOrder!=null&&r.purchaseOrder.created_by?96:-1),a(5),O(r.formatDate(r.purchaseOrder==null?null:r.purchaseOrder.created_at)),a(4),l("ngIf",(r.purchaseOrder==null?null:r.purchaseOrder.status)==="draft"))},dependencies:[E,Z,I,S],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;max-width:900px;width:100%;max-height:90vh;overflow-y:auto;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#111827;margin:0 0 .5rem}.modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .po-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#3b82f6;font-family:Courier New,monospace}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border:none;background:none;color:#6b7280;cursor:pointer;border-radius:.375rem;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-body[_ngcontent-%COMP%]{flex:1;padding:1.5rem;overflow-y:auto}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid #f3f4f6}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .items-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.875rem;color:#6b7280}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .items-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#111827;font-weight:500}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span.total-value[_ngcontent-%COMP%]{font-weight:700;color:#10b981;font-size:1.125rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:capitalize;width:fit-content}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-approved[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-ordered[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-closed[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#374151}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#fef2f2;color:#7f1d1d}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]{background-color:#f9fafb;border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid #e5e7eb}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-header[_ngcontent-%COMP%]   .supplier-details[_ngcontent-%COMP%]   .supplier-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:.25rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-header[_ngcontent-%COMP%]   .supplier-details[_ngcontent-%COMP%]   .supplier-id[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-family:Courier New,monospace}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-contact[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-contact[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-contact[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-contact[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#111827}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid #e5e7eb;border-radius:.5rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem;text-align:left;font-weight:600;color:#374151;white-space:nowrap;border-bottom:1px solid #e5e7eb}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;color:#111827;vertical-align:top}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.item-name[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.part-number[_ngcontent-%COMP%]{font-family:Courier New,monospace;color:#6b7280}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.description[_ngcontent-%COMP%]{max-width:200px;color:#6b7280}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.quantity[_ngcontent-%COMP%]{font-weight:500;text-align:center}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.unit-price[_ngcontent-%COMP%]{font-weight:500;text-align:right}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.item-total[_ngcontent-%COMP%]{font-weight:600;color:#10b981;text-align:right}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6b7280}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#d1d5db;margin:0 auto 1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#111827;font-weight:500}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span.notes[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span.terms[_ngcontent-%COMP%]{color:#6b7280;font-style:italic}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;background-color:#f9fafb}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:none;white-space:nowrap}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border:1px solid #d1d5db}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:95vw;margin:.5rem}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .po-number[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .items-summary[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-card[_ngcontent-%COMP%]   .supplier-contact[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]{font-size:.75rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .items-table-container[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.modal-body[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 480px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-content[_ngcontent-%COMP%]{max-width:100vw;margin:0;border-radius:0;max-height:100vh}.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border-radius:0}}"]})};function ot(c,o){if(c&1&&(n(0,"div",40)(1,"strong"),i(2,"Items:"),t(),i(3),t()),c&2){let e=s(3);a(3),_(" ",e.getBackendError("items")," ")}}function rt(c,o){if(c&1&&(n(0,"div",40)(1,"strong"),i(2,"Location:"),t(),i(3),t()),c&2){let e=s(3);a(3),_(" ",e.getBackendError("location_id")," ")}}function it(c,o){if(c&1&&(n(0,"div",38),u(1,ot,4,1,"div",39)(2,rt,4,1,"div",39),t()),c&2){let e=s(2);a(),l("ngIf",e.getBackendError("items")),a(),l("ngIf",e.getBackendError("location_id"))}}function at(c,o){if(c&1&&(n(0,"div",31)(1,"div",32),C(),n(2,"svg",5),m(3,"path",33),t()(),f(),n(4,"div",34)(5,"h4",35),i(6,"Error Receiving Items"),t(),n(7,"p",36),i(8),t(),u(9,it,3,2,"div",37),t()()),c&2){let e=s();a(8),O(e.error),a(),l("ngIf",e.errors)}}function ct(c,o){if(c&1&&(n(0,"div",41)(1,"h3",12),i(2,"Purchase Order Summary"),t(),n(3,"div",42)(4,"div",43)(5,"label"),i(6,"PO Number"),t(),n(7,"span"),i(8),t()(),n(9,"div",43)(10,"label"),i(11,"Supplier"),t(),n(12,"span"),i(13),t()(),n(14,"div",43)(15,"label"),i(16,"Total Items"),t(),n(17,"span"),i(18),t()(),n(19,"div",43)(20,"label"),i(21,"Total Value"),t(),n(22,"span"),i(23),t()()()()),c&2){let e=s();a(8),O(e.purchaseOrder.po_number),a(5),O((e.purchaseOrder.supplier==null?null:e.purchaseOrder.supplier.name)||"Unknown Supplier"),a(5),O((e.purchaseOrder.items==null?null:e.purchaseOrder.items.length)||0),a(5),O(e.formatCurrency(e.purchaseOrder.total))}}function dt(c,o){if(c&1&&(n(0,"option",44),i(1),t()),c&2){let e=o.$implicit;l("value",e.id),a(),_(" ",e.name," ")}}function lt(c,o){if(c&1&&(n(0,"div",36),i(1),t()),c&2){let e=s();a(),_(" ",e.getFieldError("location_id")," ")}}function st(c,o){if(c&1&&(n(0,"div",36),i(1),t()),c&2){let e=s();a(),_(" ",e.getBackendError("location_id")," ")}}function mt(c,o){if(c&1&&(n(0,"div",45)(1,"strong"),i(2,"Items Error:"),t(),i(3),t()),c&2){let e=s();a(3),_(" ",e.getBackendError("items")," ")}}function pt(c,o){c&1&&(n(0,"div",36)(1,"strong"),i(2,"No items available to receive."),t(),i(3," All items from this purchase order have already been received. "),t())}function gt(c,o){if(c&1&&(n(0,"div",36),i(1),t()),c&2){let e=s().index,r=s(2);a(),_(" ",r.getArrayFieldError(e,"receive_qty")," ")}}function _t(c,o){if(c&1&&(n(0,"div",48)(1,"div",49)(2,"h4",50),i(3),t(),n(4,"div",51)(5,"span",52),i(6),t(),n(7,"span",53),i(8),t(),n(9,"span",54),i(10),t()()(),n(11,"div",21)(12,"div",13)(13,"label",55),i(14,"Receive Quantity *"),t(),m(15,"input",56),u(16,gt,2,1,"div",18),t()()()),c&2){let e,r,d,p,v,z=o.$implicit,j=o.index,Se=s(2);l("formGroupName",j),a(3),_("",(e=z.get("part_number"))==null?null:e.value," 21123"),a(3),_("Ordered: ",(r=z.get("ordered_qty"))==null?null:r.value,""),a(2),_("Received: ",(d=z.get("received_qty"))==null?null:d.value,""),a(2),_("Remaining: ",(p=z.get("remaining_qty"))==null?null:p.value,""),a(3),l("for","receive_qty_"+j),a(2),l("id","receive_qty_"+j)("min",1)("max",(v=z.get("remaining_qty"))==null?null:v.value),a(),l("ngIf",Se.getArrayFieldError(j,"receive_qty"))}}function ut(c,o){if(c&1&&(n(0,"div",46),u(1,_t,17,10,"div",47),t()),c&2){let e=s();k("has-error",e.getBackendError("items")&&e.itemsArray.length>0),a(),l("ngForOf",e.itemsArray.controls)}}function Ct(c,o){c&1&&(n(0,"span"),i(1,"Receiving..."),t())}function Ot(c,o){c&1&&(n(0,"span"),i(1,"Receive Items"),t())}var le=class c{constructor(o,e,r){this.fb=o;this.inventoryService=e;this.currency=r;this.receiveForm=this.fb.group({location_id:["",[h.required]],reference:[""],notes:[""],items:this.fb.array([])})}purchaseOrder=null;closeModal=new x;itemsReceived=new x;receiveForm;loading=!1;error=null;errors={};locations=[];ngOnInit(){this.loadLocations(),this.initializeItemsForm()}loadLocations(){this.inventoryService.getLocations(1,1e3,void 0,"name","asc").subscribe({next:o=>{this.locations=o.data.locations??[],console.log(this.locations)},error:o=>{console.error("Error loading locations:",o)}})}initializeItemsForm(){if(!this.purchaseOrder?.items)return;let o=this.receiveForm.get("items");o.clear(),this.purchaseOrder.items.forEach(e=>{let r=(e.ordered_qty||0)-(e.received_qty||0);if(r>0){let d=this.fb.group({item_id:[e.id,[h.required]],receive_qty:["",[h.required,h.min(1),h.max(r)]],part_number:[e.part_number||"Unknown Part"],ordered_qty:[e.ordered_qty],received_qty:[e.received_qty||0],remaining_qty:[r]});o.push(d)}})}get itemsArray(){return this.receiveForm.get("items")}onSubmit(){if(this.receiveForm.valid&&this.purchaseOrder?.id){this.loading=!0,this.error=null,this.errors={},this.receiveForm.get("items")?.setErrors(null),this.receiveForm.get("location_id")?.setErrors(null);let o=this.receiveForm.value,e={location_id:o.location_id,items:o.items.map(r=>({item_id:r.item_id,receive_qty:r.receive_qty})),reference:o.reference,notes:o.notes};this.inventoryService.receivePurchaseOrder(this.purchaseOrder.id,e).subscribe({next:()=>{this.itemsReceived.emit(),this.closeModal.emit()},error:r=>{this.loading=!1,r.error?(this.error=r.error.message||"An error occurred while receiving items",r.error.errors&&typeof r.error.errors=="object"?(this.errors=r.error.errors,r.error.errors.items&&this.receiveForm.get("items")?.setErrors({backend:!0}),r.error.errors.location_id&&this.receiveForm.get("location_id")?.setErrors({backend:!0})):this.errors={}):(this.error=r.message||"An error occurred while receiving items",this.errors={})}})}}onCancel(){this.closeModal.emit()}getFieldError(o){let e=this.receiveForm.get(o);return e?.errors&&e?.touched&&e.errors.required?"This field is required":""}getArrayFieldError(o,e){let r=this.itemsArray.at(o).get(e);if(r?.errors&&r?.touched){if(r.errors.required)return"This field is required";if(r.errors.min)return`Minimum value is ${r.errors.min.min}`;if(r.errors.max)return`Maximum value is ${r.errors.max.max}`;if(r.errors.backend)return"This field has an error"}return""}getBackendError(o){return this.errors[o]&&Array.isArray(this.errors[o])?this.errors[o][0]:""}formatCurrency(o){return this.currency.format(o)}getLocationName(o){let e=this.locations.find(r=>r.id===o);return e?e.name:"Unknown Location"}static \u0275fac=function(e){return new(e||c)(y($),y(D),y(R))};static \u0275cmp=w({type:c,selectors:[["app-receive-items-modal"]],inputs:{purchaseOrder:"purchaseOrder"},outputs:{closeModal:"closeModal",itemsReceived:"itemsReceived"},decls:49,vars:14,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],["class","error-banner",4,"ngIf"],["class","po-summary",4,"ngIf"],[1,"receive-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-field"],["for","location",1,"field-label"],["id","location","formControlName","location_id",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["class","error-message items-error",4,"ngIf"],["formArrayName","items","class","items-container",3,"has-error",4,"ngIf"],[1,"form-row"],["for","reference",1,"field-label"],["type","text","id","reference","formControlName","reference","placeholder","e.g., Delivery Note DN-001",1,"form-input"],[1,"form-field","full-width"],["for","notes",1,"field-label"],["id","notes","formControlName","notes","rows","3","placeholder","Add any additional notes about this delivery...",1,"form-textarea"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],[1,"error-banner"],[1,"error-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"error-content"],[1,"error-title"],[1,"error-message"],["class","field-errors",4,"ngIf"],[1,"field-errors"],["class","field-error",4,"ngIf"],[1,"field-error"],[1,"po-summary"],[1,"summary-grid"],[1,"summary-item"],[3,"value"],[1,"error-message","items-error"],["formArrayName","items",1,"items-container"],["class","item-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"item-row",3,"formGroupName"],[1,"item-header"],[1,"item-title"],[1,"item-summary"],[1,"ordered"],[1,"received"],[1,"remaining"],[1,"field-label",3,"for"],["type","number","formControlName","receive_qty",1,"form-input",3,"id","min","max"]],template:function(e,r){e&1&&(n(0,"div",0),g("click",function(){return r.onCancel()}),n(1,"div",1),g("click",function(p){return p.stopPropagation()}),n(2,"div",2)(3,"h2",3),i(4,"Receive Items"),t(),n(5,"button",4),g("click",function(){return r.onCancel()}),C(),n(6,"svg",5),m(7,"path",6),t()()(),f(),n(8,"div",7),u(9,at,10,2,"div",8)(10,ct,24,4,"div",9),n(11,"form",10),g("ngSubmit",function(){return r.onSubmit()}),n(12,"div",11)(13,"h3",12),i(14,"Receiving Location"),t(),n(15,"div",13)(16,"label",14),i(17,"Location *"),t(),n(18,"select",15)(19,"option",16),i(20,"Select a location"),t(),u(21,dt,2,2,"option",17),t(),u(22,lt,2,1,"div",18)(23,st,2,1,"div",18),t()(),n(24,"div",11)(25,"h3",12),i(26,"Items to Receive"),t(),u(27,mt,4,1,"div",19)(28,pt,4,0,"div",18)(29,ut,2,3,"div",20),t(),n(30,"div",11)(31,"h3",12),i(32,"Additional Information"),t(),n(33,"div",21)(34,"div",13)(35,"label",22),i(36,"Reference"),t(),m(37,"input",23),t()(),n(38,"div",21)(39,"div",24)(40,"label",25),i(41,"Notes"),t(),m(42,"textarea",26),t()()()()(),n(43,"div",27)(44,"button",28),g("click",function(){return r.onCancel()}),i(45," Cancel "),t(),n(46,"button",29),g("click",function(){return r.onSubmit()}),u(47,Ct,2,0,"span",30)(48,Ot,2,0,"span",30),t()()()()),e&2&&(a(9),l("ngIf",r.error),a(),l("ngIf",r.purchaseOrder),a(),l("formGroup",r.receiveForm),a(7),k("error",r.errors.location_id),a(3),l("ngForOf",r.locations),a(),l("ngIf",r.getFieldError("location_id")),a(),l("ngIf",r.getBackendError("location_id")),a(4),l("ngIf",r.getBackendError("items")),a(),l("ngIf",r.itemsArray.length===0),a(),l("ngIf",r.itemsArray.length>0),a(17),l("disabled",!r.receiveForm.valid||r.loading),a(),l("ngIf",r.loading),a(),l("ngIf",!r.loading))},dependencies:[E,I,S,Q,G,A,N,T,L,F,V,q,U,ne,H,B,ee,te],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:700px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#111827;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:.375rem;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:.5rem;margin-bottom:1.5rem}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fca5a5;border-radius:.5rem;padding:1rem;margin-bottom:1.5rem;display:flex;gap:1rem}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{flex-shrink:0;color:#dc2626}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{flex:1}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#991b1b;margin:0 0 .5rem}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.875rem;color:#991b1b;margin:0;background:none;border:none;padding:0}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .field-errors[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #fca5a5}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .field-errors[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]{font-size:.875rem;color:#7f1d1d;margin-bottom:.5rem}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .field-errors[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .error-banner[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .field-errors[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.modal-body[_ngcontent-%COMP%]   .items-error[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:.75rem;border-radius:.375rem;margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .items-error[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.modal-body[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:#dc2626}.modal-body[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.modal-body[_ngcontent-%COMP%]   .items-container.has-error[_ngcontent-%COMP%]{border:1px solid #fecaca;border-radius:.5rem;padding:1rem;background-color:#fef2f2}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background-color:#f9fafb;border-radius:.5rem;border:1px solid #e5e7eb}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 1rem}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#6b7280;margin-bottom:.25rem}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:1rem;color:#111827;font-weight:500}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e5e7eb}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;transition:border-color .2s}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input.ng-invalid.ng-touched[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select.ng-invalid.ng-touched[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem;min-height:1rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;margin-bottom:1rem;background-color:#f9fafb}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{margin-bottom:1rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#374151;margin:0 0 .5rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.875rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.375rem;font-weight:500}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]   span.ordered[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1d4ed8}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]   span.received[_ngcontent-%COMP%]{background-color:#dcfce7;color:#16a34a}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]   span.remaining[_ngcontent-%COMP%]{background-color:#fef3c7;color:#d97706}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:1px solid transparent}.btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;cursor:not-allowed}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#4b5563}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:.5rem;max-height:calc(100vh - 1rem)}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-body[_ngcontent-%COMP%]   .po-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.modal-body[_ngcontent-%COMP%]   .receive-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-summary[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})};function ft(c,o){c&1&&(n(0,"div",45),m(1,"div",46),n(2,"p"),i(3,"Loading purchase orders..."),t()())}function Mt(c,o){if(c&1){let e=b();n(0,"div",47)(1,"div",48),C(),n(2,"svg",49),m(3,"path",50),t()(),f(),n(4,"p",51),i(5),t(),n(6,"button",37),g("click",function(){M(e);let d=s();return P(d.refreshData())}),i(7,"Retry"),t()()}if(c&2){let e=s();a(5),O(e.error)}}function Pt(c,o){if(c&1){let e=b();n(0,"div",60),C(),n(1,"svg",61),m(2,"path",7),t(),f(),n(3,"h3",62),i(4,"No Purchase Orders Found"),t(),n(5,"p",63),i(6,"No purchase orders match your current filters. Try adjusting your search criteria or create a new purchase order."),t(),n(7,"button",37),g("click",function(){M(e);let d=s(2);return P(d.openCreatePOModal())}),C(),n(8,"svg",34),m(9,"path",38),t(),i(10," Create Purchase Order "),t()()}}function ht(c,o){if(c&1){let e=b();n(0,"button",97),g("click",function(){M(e);let d=s().$implicit,p=s(3);return P(p.approvePurchaseOrder(d))}),C(),n(1,"svg",34),m(2,"path",11),t(),i(3," Approve "),t()}}function bt(c,o){if(c&1){let e=b();n(0,"button",97),g("click",function(){M(e);let d=s().$implicit,p=s(3);return P(p.markAsOrdered(d))}),C(),n(1,"svg",34),m(2,"path",101),t(),i(3," Mark as Ordered "),t()}}function vt(c,o){if(c&1){let e=b();n(0,"button",97),g("click",function(){M(e);let d=s().$implicit,p=s(3);return P(p.openReceiveItemsModal(d))}),C(),n(1,"svg",34),m(2,"path",9),t(),i(3," Receive Items "),t()}}function yt(c,o){if(c&1){let e=b();n(0,"button",97),g("click",function(){M(e);let d=s().$implicit,p=s(3);return P(p.closePurchaseOrder(d))}),C(),n(1,"svg",34),m(2,"path",102),t(),i(3," Close PO "),t()}}function xt(c,o){if(c&1){let e=b();n(0,"tr",75)(1,"td",76)(2,"div",77),i(3),t()(),n(4,"td",78)(5,"div",79)(6,"div",80),i(7),t(),n(8,"div",81),i(9),t()()(),n(10,"td",82),i(11),t(),n(12,"td",83),i(13),t(),n(14,"td",84)(15,"span",85),i(16),t()(),n(17,"td",86)(18,"div",87)(19,"div",88),i(20),t(),n(21,"div",89),i(22),t()()(),n(23,"td",90)(24,"div",91),i(25),t()(),n(26,"td",92)(27,"div",93)(28,"button",94),g("click",function(d){let p=M(e).$implicit,v=s(3);return P(p.id&&v.toggleDropdown(d,p.id))}),C(),n(29,"svg",34),m(30,"path",95),t()(),f(),n(31,"div",96)(32,"button",97),g("click",function(){let d=M(e).$implicit,p=s(3);return P(p.viewPurchaseOrder(d))}),C(),n(33,"svg",34),m(34,"path",98)(35,"path",99),t(),i(36," View Details "),t(),u(37,ht,4,0,"button",100)(38,bt,4,0,"button",100)(39,vt,4,0,"button",100)(40,yt,4,0,"button",100),t()()()()}if(c&2){let e=o.$implicit,r=s(3);a(3),O(e.po_number),a(4),O((e.supplier==null?null:e.supplier.name)||"Unknown Supplier"),a(2),_("ID: ",e.supplier_id,""),a(2),_(" ",r.formatDate(e.order_date)," "),a(2),_(" ",r.formatDate(e.expected_date)," "),a(2),l("ngClass",r.getStatusClass(e.status)),a(),_(" ",r.getStatusLabel(e.status)," "),a(4),_("",(e.items==null?null:e.items.length)||0," items"),a(2),_(" ",r.calculateItemsTotal(e.items)," total qty "),a(3),O(r.formatCurrency(e.total)),a(6),k("show",e.id&&r.openDropdownId===e.id),a(6),l("ngIf",e.status==="draft"||e.status==="pending"),a(),l("ngIf",e.status==="approved"),a(),l("ngIf",e.status==="ordered"),a(),l("ngIf",e.status==="received"||e.status==="ordered")}}function wt(c,o){if(c&1&&(n(0,"div",64)(1,"table",52)(2,"thead")(3,"tr",65)(4,"th",66),i(5,"PO Number"),t(),n(6,"th",67),i(7,"Supplier"),t(),n(8,"th",68),i(9,"Order Date"),t(),n(10,"th",69),i(11,"Expected Date"),t(),n(12,"th",70),i(13,"Status"),t(),n(14,"th",71),i(15,"Items"),t(),n(16,"th",72),i(17,"Total"),t(),n(18,"th",73),i(19,"Actions"),t()()(),n(20,"tbody"),u(21,xt,41,16,"tr",74),t()()()),c&2){let e=s(2);a(21),l("ngForOf",e.purchaseOrders)}}function St(c,o){if(c&1){let e=b();n(0,"div",103)(1,"div",104),i(2),t(),n(3,"div",105)(4,"button",106),g("click",function(){M(e);let d=s(2);return P(d.onPageChange(d.currentPage-1))}),i(5," Previous "),t(),n(6,"button",106),g("click",function(){M(e);let d=s(2);return P(d.onPageChange(d.currentPage+1))}),i(7," Next "),t()()()}if(c&2){let e=s(2);a(2),Me(" Showing ",(e.currentPage-1)*e.perPage+1," to ",e.getMinValue(e.currentPage*e.perPage,e.totalItems)," of ",e.totalItems," results "),a(2),l("disabled",e.currentPage===1),a(2),l("disabled",e.currentPage===e.totalPages)}}function Et(c,o){if(c&1&&(n(0,"div",52)(1,"div",53)(2,"h3",54),i(3),t(),n(4,"div",55)(5,"span",56),i(6),t()()(),u(7,Pt,11,0,"div",57)(8,wt,22,1,"div",58)(9,St,8,5,"div",59),t()),c&2){let e=s();a(3),_("Purchase Orders (",e.totalItems,")"),a(3),Y(" Page ",e.currentPage," of ",e.totalPages," "),a(),l("ngIf",e.purchaseOrders.length===0),a(),l("ngIf",e.purchaseOrders.length>0),a(),l("ngIf",e.purchaseOrders.length>0)}}function kt(c,o){if(c&1){let e=b();n(0,"app-create-purchase-order-modal",107),g("closeModal",function(){M(e);let d=s();return P(d.closeCreatePOModal())})("createPurchaseOrder",function(d){M(e);let p=s();return P(p.onCreatePurchaseOrder(d))}),t()}}function It(c,o){if(c&1){let e=b();n(0,"app-view-purchase-order-modal",108),g("closeModal",function(){M(e);let d=s();return P(d.closeViewPOModal())})("purchaseOrderUpdated",function(d){M(e);let p=s();return P(p.onPurchaseOrderUpdated(d))}),t()}if(c&2){let e=s();l("purchaseOrder",e.selectedPurchaseOrder)}}function Tt(c,o){if(c&1){let e=b();n(0,"app-receive-items-modal",109),g("closeModal",function(){M(e);let d=s();return P(d.closeReceiveItemsModal())})("itemsReceived",function(){M(e);let d=s();return P(d.onItemsReceived())}),t()}if(c&2){let e=s();l("purchaseOrder",e.selectedPurchaseOrder)}}var we=class c{constructor(o,e){this.inventoryService=o;this.currency=e}showCreatePOModal=!1;showViewPOModal=!1;showReceiveItemsModal=!1;selectedPurchaseOrder=null;openDropdownId=null;purchaseOrders=[];loading=!1;error=null;currentPage=1;totalPages=1;totalItems=0;perPage=15;filters={status:"",search:""};searchTimeout;overviewStats={totalPOs:0,pending:0,approved:0,totalValue:0};ngOnInit(){this.loadPurchaseOrders(),this.loadOverviewStats(),document.addEventListener("click",this.onDocumentClick.bind(this))}ngOnDestroy(){document.removeEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(o,e){o.stopPropagation(),e&&(this.openDropdownId=this.openDropdownId===e?null:e)}onDocumentClick(o){o.target.closest(".dropdown-container")||(this.openDropdownId=null)}viewPurchaseOrder(o){this.openViewPOModal(o),this.openDropdownId=null}approvePurchaseOrder(o){if(console.log("Approving Purchase Order:",o.po_number),!o.id){this.error="Purchase Order ID is missing";return}this.inventoryService.approvePurchaseOrder({purchase_order_id:o.id,approve:!0}).subscribe({next:e=>{e.success?(console.log("Purchase Order approved successfully"),this.loadPurchaseOrders(),this.loadOverviewStats()):this.error="Failed to approve purchase order"},error:e=>{this.error="Error approving purchase order: "+e.message}}),this.openDropdownId=null}sendEmail(o){console.log("Sending email for Purchase Order:",o.po_number),alert(`Email functionality for PO ${o.po_number} would be implemented here.`),this.openDropdownId=null}markAsOrdered(o){if(console.log("Marking Purchase Order as Ordered:",o.po_number),!o.id){this.error="Purchase Order ID is missing";return}this.inventoryService.updatePurchaseOrder(o.id,{status:"ordered"}).subscribe({next:e=>{e.success?(console.log("Purchase Order marked as ordered successfully"),this.loadPurchaseOrders(),this.loadOverviewStats()):this.error="Failed to mark purchase order as ordered"},error:e=>{this.error="Error marking purchase order as ordered: "+e.message}}),this.openDropdownId=null}closePurchaseOrder(o){if(!o.id){this.error="Purchase Order ID is missing";return}this.inventoryService.updatePurchaseOrder(o.id,{status:"closed"}).subscribe({next:e=>{e.success?(this.loadPurchaseOrders(),this.loadOverviewStats()):this.error="Failed to close purchase order"},error:e=>{this.error="Error closing purchase order: "+e.message}}),this.openDropdownId=null}loadPurchaseOrders(){this.loading=!0,this.error=null,this.inventoryService.getPurchaseOrders(this.currentPage,this.perPage,this.filters.status||void 0,this.filters.search||void 0).subscribe({next:o=>{o.success?(this.purchaseOrders=o.data.data,this.currentPage=o.data.current_page,this.totalPages=o.data.last_page,this.totalItems=o.data.total):this.error="Failed to load purchase orders",this.loading=!1},error:o=>{this.error="Error loading purchase orders: "+o.message,this.loading=!1}})}loadOverviewStats(){this.inventoryService.getPurchaseOrdersOverview().subscribe({next:o=>{if(o.success){let e=o.data;this.overviewStats.totalPOs=e.total_pos,this.overviewStats.pending=e.pending,this.overviewStats.approved=e.approved,this.overviewStats.totalValue=e.total_value}},error:o=>{console.error("Error loading overview stats:",o)}})}applyFilters(){this.currentPage=1,this.loadPurchaseOrders()}onStatusChange(){this.currentPage=1,this.loadPurchaseOrders()}searchData(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.currentPage=1,this.loadPurchaseOrders()},800)}clearFilters(){this.filters={status:"",search:""},this.currentPage=1,this.loadPurchaseOrders()}onPageChange(o){this.currentPage=o,this.loadPurchaseOrders()}openCreatePOModal(){this.showCreatePOModal=!0}closeCreatePOModal(){this.showCreatePOModal=!1}openViewPOModal(o){this.selectedPurchaseOrder=o,this.showViewPOModal=!0}closeViewPOModal(){this.showViewPOModal=!1,this.selectedPurchaseOrder=null}openReceiveItemsModal(o){this.selectedPurchaseOrder=o,this.showReceiveItemsModal=!0}closeReceiveItemsModal(){this.showReceiveItemsModal=!1,this.selectedPurchaseOrder=null}onCreatePurchaseOrder(o){this.loadPurchaseOrders(),this.loadOverviewStats(),this.closeCreatePOModal()}onPurchaseOrderUpdated(o){let e=this.purchaseOrders.findIndex(r=>r.id===o.id);e!==-1&&(this.purchaseOrders[e]=o),this.loadOverviewStats()}onItemsReceived(){this.loadPurchaseOrders(),this.loadOverviewStats()}getStatusClass(o){switch(o){case"draft":return"status-draft";case"pending":return"status-pending";case"approved":return"status-approved";case"ordered":return"status-ordered";case"rejected":return"status-rejected";case"closed":return"status-closed";case"cancelled":return"status-cancelled";default:return"status-default"}}getStatusLabel(o){switch(o){case"draft":return"Draft";case"pending":return"Pending";case"approved":return"Approved";case"ordered":return"Ordered";case"rejected":return"Rejected";case"closed":return"Closed";case"cancelled":return"Cancelled";default:return o}}formatCurrency(o){return this.currency.format(o)}formatDate(o){if(!o)return"N/A";try{let e=new Date(o);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString()}catch{return"Invalid Date"}}calculateItemsTotal(o){return!o||!Array.isArray(o)||o.length===0?0:o.reduce((e,r)=>{let d=Number(r?.ordered_qty)||0;return e+(isNaN(d)?0:d)},0)}getMinValue(o,e){return Math.min(o,e)}refreshData(){this.loadPurchaseOrders(),this.loadOverviewStats()}static \u0275fac=function(e){return new(e||c)(y(D),y(R))};static \u0275cmp=w({type:c,selectors:[["app-purchase-orders"]],decls:79,vars:12,consts:[[1,"purchase-orders"],[1,"overview-cards-row"],[1,"overview-card","total-pos"],[1,"card-content"],[1,"card-value"],[1,"card-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"card-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"overview-card","pending"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"overview-card","approved"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"overview-card","total-value"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"control-bar"],[1,"search-controls"],[1,"search-container"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search purchase orders...",1,"search-input",3,"ngModelChange","ngModel"],[1,"status-dropdown"],[1,"status-select",3,"ngModelChange","ngModel"],["value",""],["value","draft"],["value","pending"],["value","approved"],["value","ordered"],["value","rejected"],["value","closed"],["value","cancelled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"dropdown-arrow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"action-buttons"],[1,"btn","btn-secondary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"btn","btn-secondary","!hidden"],[1,"btn","btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","purchase-orders-table",4,"ngIf"],[3,"closeModal","createPurchaseOrder",4,"ngIf"],[3,"purchaseOrder","closeModal","purchaseOrderUpdated",4,"ngIf"],[3,"purchaseOrder","closeModal","itemsReceived",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"error-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"error-message"],[1,"purchase-orders-table"],[1,"table-header"],[1,"table-title"],[1,"table-actions"],[1,"text-sm","text-gray-500"],["class","empty-state",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","pagination",4,"ngIf"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"empty-icon"],[1,"empty-title"],[1,"empty-description"],[1,"table-wrapper"],[1,"uppercase"],[1,"th-po-number"],[1,"th-supplier"],[1,"th-order-date"],[1,"th-expected-date"],[1,"th-status"],[1,"th-items"],[1,"th-total"],[1,"th-actions"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"td-po-number"],[1,"po-number"],[1,"td-supplier"],[1,"supplier-info"],[1,"supplier-name"],[1,"supplier-id"],[1,"td-order-date"],[1,"td-expected-date"],[1,"td-status"],[1,"status-badge",3,"ngClass"],[1,"td-items"],[1,"items-info"],[1,"items-count"],[1,"items-summary"],[1,"td-total"],[1,"total-amount"],[1,"td-actions"],[1,"dropdown-container"],[1,"dropdown-trigger",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["class","dropdown-item",3,"click",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"pagination"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"btn","btn-outline",3,"click","disabled"],[3,"closeModal","createPurchaseOrder"],[3,"closeModal","purchaseOrderUpdated","purchaseOrder"],[3,"closeModal","itemsReceived","purchaseOrder"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i(5),t(),n(6,"div",5),i(7,"Total POs"),t()(),C(),n(8,"svg",6),m(9,"path",7),t()(),f(),n(10,"div",8)(11,"div",3)(12,"div",4),i(13),t(),n(14,"div",5),i(15,"Pending"),t()(),C(),n(16,"svg",6),m(17,"path",9),t()(),f(),n(18,"div",10)(19,"div",3)(20,"div",4),i(21),t(),n(22,"div",5),i(23,"Approved"),t()(),C(),n(24,"svg",6),m(25,"path",11),t()(),f(),n(26,"div",12)(27,"div",3)(28,"div",4),i(29),t(),n(30,"div",5),i(31,"Total Value"),t()(),C(),n(32,"svg",6),m(33,"path",13),t()()(),f(),n(34,"div",14)(35,"div",15)(36,"div",16),C(),n(37,"svg",17),m(38,"path",18),t(),f(),n(39,"input",19),pe("ngModelChange",function(p){return me(r.filters.search,p)||(r.filters.search=p),p}),g("ngModelChange",function(){return r.searchData()}),t()(),n(40,"div",20)(41,"select",21),pe("ngModelChange",function(p){return me(r.filters.status,p)||(r.filters.status=p),p}),g("ngModelChange",function(){return r.onStatusChange()}),n(42,"option",22),i(43,"All Status"),t(),n(44,"option",23),i(45,"Draft"),t(),n(46,"option",24),i(47,"Pending"),t(),n(48,"option",25),i(49,"Approved"),t(),n(50,"option",26),i(51,"Ordered"),t(),n(52,"option",27),i(53,"Rejected"),t(),n(54,"option",28),i(55,"Closed"),t(),n(56,"option",29),i(57,"Cancelled"),t()(),C(),n(58,"svg",30),m(59,"path",31),t()()(),f(),n(60,"div",32)(61,"button",33),g("click",function(){return r.refreshData()}),C(),n(62,"svg",34),m(63,"path",35),t(),i(64," Refresh "),t(),f(),n(65,"button",36),C(),n(66,"svg",34),m(67,"path",7),t(),i(68," Templates "),t(),f(),n(69,"button",37),g("click",function(){return r.openCreatePOModal()}),C(),n(70,"svg",34),m(71,"path",38),t(),i(72," Create Purchase Order "),t()()(),u(73,ft,4,0,"div",39)(74,Mt,8,1,"div",40)(75,Et,10,6,"div",41)(76,kt,1,0,"app-create-purchase-order-modal",42)(77,It,1,1,"app-view-purchase-order-modal",43)(78,Tt,1,1,"app-receive-items-modal",44),t()),e&2&&(a(5),O(r.overviewStats.totalPOs),a(8),O(r.overviewStats.pending),a(8),O(r.overviewStats.approved),a(8),O(r.formatCurrency(r.overviewStats.totalValue)),a(10),se("ngModel",r.filters.search),a(2),se("ngModel",r.filters.status),a(32),l("ngIf",r.loading),a(),l("ngIf",r.error&&!r.loading),a(),l("ngIf",!r.loading&&!r.error),a(),l("ngIf",r.showCreatePOModal),a(),l("ngIf",r.showViewPOModal),a(),l("ngIf",r.showReceiveItemsModal))},dependencies:[E,Z,I,S,ve,A,N,T,F,V,he,ce,de,le],styles:[".purchase-orders[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f9fafb;min-height:100vh}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;position:relative}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#111827;line-height:1;margin-bottom:.5rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:1rem;color:#374151;font-weight:600}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;width:2rem;height:2rem;color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card.total-pos[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#3b82f6}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card.pending[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#f59e0b}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card.approved[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#10b981}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card.total-value[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#8b5cf6}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:1.5rem;margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex:1;min-width:300px}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;flex:1}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);width:1.25rem;height:1.25rem;color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;background-color:#f9fafb}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background-color:#fff}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]{position:relative;min-width:150px}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;background-color:#fff;appearance:none;cursor:pointer}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:1rem;height:1rem;color:#6b7280;pointer-events:none}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:none;white-space:nowrap}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border:1px solid #d1d5db}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;border:none;white-space:nowrap}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border:1px solid #d1d5db}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:3rem 2rem;text-align:center;margin-bottom:2rem}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:3px solid #f3f4f6;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:#ef4444;margin:0 auto 1rem}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem;margin:0 0 1.5rem}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.purchase-orders[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .purchase-orders[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#111827;margin:0}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-size:.875rem;font-weight:600;color:#374151;border-bottom:1px solid #e5e7eb;white-space:nowrap}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-po-number[_ngcontent-%COMP%]{min-width:140px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-supplier[_ngcontent-%COMP%]{min-width:180px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-order-date[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-expected-date[_ngcontent-%COMP%]{min-width:120px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-status[_ngcontent-%COMP%]{min-width:100px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-items[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-total[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-actions[_ngcontent-%COMP%]{min-width:120px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem;color:#111827;vertical-align:top}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-po-number[_ngcontent-%COMP%]   .po-number[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;font-family:Courier New,monospace}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-supplier[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-supplier[_ngcontent-%COMP%]   .supplier-info[_ngcontent-%COMP%]   .supplier-id[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-order-date[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-expected-date[_ngcontent-%COMP%]{color:#374151;font-weight:500}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:capitalize}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-approved[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-ordered[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-closed[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#374151}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-status[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#fef2f2;color:#7f1d1d}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-items[_ngcontent-%COMP%]   .items-info[_ngcontent-%COMP%]   .items-count[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-items[_ngcontent-%COMP%]   .items-info[_ngcontent-%COMP%]   .items-summary[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-total[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-weight:600;color:#10b981}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-trigger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;padding:0;border-radius:.375rem;border:1px solid #d1d5db;background-color:#fff;color:#374151;cursor:pointer;transition:all .2s}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-trigger[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-trigger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;z-index:50;min-width:160px;background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .2s ease}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;padding:.75rem 1rem;border:none;background:none;color:#374151;font-size:.875rem;text-align:left;cursor:pointer;transition:background-color .2s}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.td-actions[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem;color:#6b7280}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem 1rem;border:1px solid #d1d5db;background-color:#fff;color:#374151;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f9fafb;border-color:#9ca3af}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;border:1px solid #e5e7eb;padding:4rem 2rem;text-align:center;margin-bottom:2rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;color:#9ca3af;margin:0 auto 1.5rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin:0 0 .75rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 2rem;max-width:400px;margin-left:auto;margin-right:auto}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (max-width: 1024px){.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-po-number[_ngcontent-%COMP%]{min-width:120px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-supplier[_ngcontent-%COMP%]{min-width:160px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-order-date[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-expected-date[_ngcontent-%COMP%]{min-width:100px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-status[_ngcontent-%COMP%]{min-width:80px}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-items[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-total[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.th-actions[_ngcontent-%COMP%]{min-width:100px}}@media (max-width: 768px){.purchase-orders[_ngcontent-%COMP%]{padding:1rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{padding:1rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.5rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.875rem}.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;align-items:stretch}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]{flex-direction:column;min-width:auto}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]{min-width:auto}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:stretch}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;gap:.5rem;align-items:flex-start}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem;font-size:.75rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;align-items:stretch;gap:.75rem}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{justify-content:center}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.25rem}.purchase-orders[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.purchase-orders[_ngcontent-%COMP%]   .overview-cards-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column}.purchase-orders[_ngcontent-%COMP%]   .control-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.purchase-orders[_ngcontent-%COMP%]   .purchase-orders-table[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:600px}}"]})};export{we as PurchaseOrdersComponent};
