import{a as g}from"./chunk-VUTA7ABU.js";import{C as n,D as b}from"./chunk-ZT37DX6Q.js";import{X as c,aa as l}from"./chunk-SDQC76CU.js";import{a as s,b as i}from"./chunk-EQDQRRRY.js";var d=class p{constructor(e){this.http=e}apiUrl=g.apiUrl;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:s({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getDashboardData(){return this.http.get(`${this.apiUrl}/inventory/dashboard/overview`,this.getAuthHeaders())}getInventoryAnalytics(){return this.http.get(`${this.apiUrl}/inventory/analytics/dashboard`,this.getAuthHeaders())}getTurnover(e){return this.http.get(`${this.apiUrl}/inventory/analytics/turnover`,i(s({},this.getAuthHeaders()),{params:new n({fromObject:e||{}})}))}getKpis(e){return this.http.get(`${this.apiUrl}/inventory/analytics/kpis`,i(s({},this.getAuthHeaders()),{params:new n({fromObject:e||{}})}))}getTurnoverByCategory(e){return this.http.get(`${this.apiUrl}/inventory/analytics/turnover-by-category`,i(s({},this.getAuthHeaders()),{params:new n({fromObject:e||{}})}))}getMonthlyTurnoverTrend(e){return this.http.get(`${this.apiUrl}/inventory/analytics/monthly-turnover-trend`,i(s({},this.getAuthHeaders()),{params:new n({fromObject:e||{}})}))}getStockAging(e){let t=new n;return e?.bands&&e.bands.length&&e.bands.forEach(a=>{t=t.append("bands[]",String(a))}),this.http.get(`${this.apiUrl}/inventory/analytics/stock-aging`,i(s({},this.getAuthHeaders()),{params:t}))}getAbcAnalysis(e){let t=new n;return e?.cost_basis&&(t=t.set("cost_basis",e.cost_basis)),typeof e?.thr_a=="number"&&(t=t.set("thr_a",String(e.thr_a))),typeof e?.thr_b=="number"&&(t=t.set("thr_b",String(e.thr_b))),this.http.get(`${this.apiUrl}/inventory/analytics/abc-analysis`,i(s({},this.getAuthHeaders()),{params:t}))}getAlerts(e){let t=new n;return typeof e?.is_resolved=="boolean"&&(t=t.set("is_resolved",String(e.is_resolved))),e?.page&&(t=t.set("page",String(e.page))),this.http.get(`${this.apiUrl}/inventory/alerts`,i(s({},this.getAuthHeaders()),{params:t}))}resolveAlert(e){return this.http.post(`${this.apiUrl}/inventory/alerts/${e}/resolve`,{},this.getAuthHeaders())}scanAlerts(){return this.http.post(`${this.apiUrl}/inventory/alerts/scan`,{},this.getAuthHeaders())}getAlertsSummary(){return this.http.get(`${this.apiUrl}/inventory/alerts/summary`,this.getAuthHeaders())}getReorderRecommendations(e){return this.http.post(`${this.apiUrl}/inventory/automation/recommendations`,e||{},this.getAuthHeaders())}getPartsCatalog(e,t,a=1,o=15){console.log("Calling parts API:",`${this.apiUrl}/inventory/parts`);let r=new n().set("page",a.toString()).set("per_page",o.toString());return e&&(r=r.set("search",e)),t&&(r=r.set("status",t)),console.log("Parts API params:",r.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/inventory/parts`,i(s({},this.getAuthHeaders()),{params:r}))}getPartsOverview(){return this.http.get(`${this.apiUrl}/inventory/parts/overview`,this.getAuthHeaders())}getPart(e){return this.http.get(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}createPart(e){return this.http.post(`${this.apiUrl}/inventory/parts`,e,this.getAuthHeaders())}updatePart(e,t){return this.http.put(`${this.apiUrl}/inventory/parts/${e}`,t,this.getAuthHeaders())}deletePart(e){return this.http.delete(`${this.apiUrl}/inventory/parts/${e}`,this.getAuthHeaders())}getStockLevels(e,t,a,o=1,r=15){let u=new n().set("page",o.toString()).set("per_page",r.toString());return e&&(u=u.set("location_id",e.toString())),t&&(u=u.set("part_id",t.toString())),a&&(u=u.set("search",a)),this.http.get(`${this.apiUrl}/inventory/stocks`,i(s({},this.getAuthHeaders()),{params:u}))}adjustStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/adjust`,e,this.getAuthHeaders())}transferStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/transfer`,e,this.getAuthHeaders())}reserveStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/reserve`,e,this.getAuthHeaders())}releaseStock(e){return this.http.post(`${this.apiUrl}/inventory/stocks/release`,e,this.getAuthHeaders())}performStockCount(e){return this.http.post(`${this.apiUrl}/inventory/stocks/count`,e,this.getAuthHeaders())}getLocations(e=1,t=15,a=0,o="created",r="desc"){console.log("Calling locations API:",`${this.apiUrl}/locations`);let u=new n().set("page",e.toString()).set("per_page",t.toString()).set("hierarchy_level",a.toString()).set("sort_by",o).set("sort_direction",r);return console.log("Locations API params:",u.toString()),console.log("Auth headers:",this.getAuthHeaders()),this.http.get(`${this.apiUrl}/locations`,i(s({},this.getAuthHeaders()),{params:u}))}getTransactions(e=""){let t=e?`${this.apiUrl}/inventory/transactions?${e}`:`${this.apiUrl}/inventory/transactions`;return this.http.get(t,this.getAuthHeaders())}getPurchaseOrders(e=1,t=15,a,o){let r=new n().set("page",e.toString()).set("per_page",t.toString());return a&&(r=r.set("status",a)),o&&(r=r.set("search",o)),this.http.get(`${this.apiUrl}/inventory/purchase-orders`,i(s({},this.getAuthHeaders()),{params:r}))}getPurchaseOrder(e){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}createPurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders`,e,this.getAuthHeaders())}updatePurchaseOrder(e,t){return this.http.put(`${this.apiUrl}/inventory/purchase-orders/${e}`,t,this.getAuthHeaders())}deletePurchaseOrder(e){return this.http.delete(`${this.apiUrl}/inventory/purchase-orders/${e}`,this.getAuthHeaders())}receivePurchaseOrder(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/receive`,t,this.getAuthHeaders())}approvePurchaseOrder(e){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/approve`,e,this.getAuthHeaders())}getPendingApprovals(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/pending-approval`,this.getAuthHeaders())}getPurchaseOrderPerformance(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/performance`,this.getAuthHeaders())}getPurchaseOrdersOverview(){return this.http.get(`${this.apiUrl}/inventory/purchase-orders/overview`,this.getAuthHeaders())}sendPurchaseOrderEmail(e,t){return this.http.post(`${this.apiUrl}/inventory/purchase-orders/${e}/send-email`,t,this.getAuthHeaders())}downloadAbcCsv(e){let t=new n;return e?.cost_basis&&(t=t.set("cost_basis",e.cost_basis)),typeof e?.thr_a=="number"&&(t=t.set("thr_a",String(e.thr_a))),typeof e?.thr_b=="number"&&(t=t.set("thr_b",String(e.thr_b))),this.http.get(`${this.apiUrl}/inventory/analytics/abc-analysis/export`,{headers:this.getAuthHeaders().headers,params:t,responseType:"blob"})}getSuppliers(e="",t=15,a=1){let o=new n().set("search",e).set("per_page",t.toString()).set("page",a.toString());return console.log("Getting suppliers with params:",o.toString()),this.http.get(`${this.apiUrl}/inventory/suppliers`,i(s({},this.getAuthHeaders()),{params:o}))}getSupplier(e){return console.log("Getting supplier:",e),this.http.get(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}createSupplier(e){return console.log("Creating supplier:",e),this.http.post(`${this.apiUrl}/inventory/suppliers`,e,this.getAuthHeaders())}updateSupplier(e,t){return console.log("Updating supplier:",e,t),this.http.put(`${this.apiUrl}/inventory/suppliers/${e}`,t,this.getAuthHeaders())}deleteSupplier(e){return console.log("Deleting supplier:",e),this.http.delete(`${this.apiUrl}/inventory/suppliers/${e}`,this.getAuthHeaders())}bulkDeleteSuppliers(e){return console.log("Bulk deleting suppliers:",e),this.http.post(`${this.apiUrl}/inventory/suppliers/bulk-delete`,{supplier_ids:e},this.getAuthHeaders())}static \u0275fac=function(t){return new(t||p)(l(b))};static \u0275prov=c({token:p,factory:p.\u0275fac,providedIn:"root"})};export{d as a};
