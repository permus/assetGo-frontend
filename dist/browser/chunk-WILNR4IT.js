import{a as w}from"./chunk-5JF4GV45.js";import{c as y,e as _}from"./chunk-V4SZ54U5.js";import"./chunk-VUTA7ABU.js";import{v as b}from"./chunk-42X3OFWX.js";import{Bb as g,Cb as m,Ka as r,Pa as c,Pb as n,Qb as o,Sb as f,Ya as v,Zb as S,bb as h,ia as u,ja as p,ob as s,sb as t,tb as i,ub as x}from"./chunk-MPDVOBHD.js";import"./chunk-EQDQRRRY.js";var P=()=>[];function E(l,a){l&1&&(t(0,"div",11),n(1,"Loading..."),i())}function I(l,a){if(l&1&&(t(0,"div",12),n(1),i()),l&2){let e=m();r(),o(e.error)}}function M(l,a){if(l&1&&(t(0,"div",13)(1,"div",14)(2,"div")(3,"div",15),n(4,"Maintenance Schedule"),i(),t(5,"h1",16),n(6),i()(),t(7,"span",17),n(8),i()(),t(9,"div",18)(10,"div")(11,"div",19),n(12,"Start"),i(),t(13,"div",20),n(14),i()(),t(15,"div")(16,"div",19),n(17,"Due"),i(),t(18,"div",20),n(19),i()(),t(20,"div")(21,"div",19),n(22,"Priority"),i(),t(23,"div",20),n(24),i()(),t(25,"div")(26,"div",19),n(27,"Assets"),i(),t(28,"div",20),n(29),i()()()()),l&2){let e=m();r(6),f("#",e.schedule==null?null:e.schedule.id," \u2022 Plan ",e.schedule==null?null:e.schedule.maintenance_plan_id,""),r(2),o((e.schedule==null?null:e.schedule.status)||"scheduled"),r(6),o(e.formatDate(e.schedule==null?null:e.schedule.start_date)),r(5),o(e.formatDate(e.schedule==null?null:e.schedule.due_date)),r(5),o((e.schedule==null?null:e.schedule.priority_id)||"-"),r(5),o(((e.schedule==null?null:e.schedule.asset_ids)||S(7,P)).join(", ")||"-")}}var C=class l{constructor(a,e,d){this.route=a;this.router=e;this.api=d}loading=!1;error=null;schedule=null;ngOnInit(){let a=Number(this.route.snapshot.paramMap.get("id"));if(!a){this.error="Invalid schedule id";return}this.fetch(a)}fetch(a){this.loading=!0,this.api.getSchedule(a).subscribe({next:e=>{this.schedule=e?.data||e,this.loading=!1},error:()=>{this.loading=!1,this.error="Failed to load schedule"}})}formatDate(a){if(!a)return"-";let e=new Date(a);return isNaN(e.getTime())?"-":e.toLocaleString()}goBack(){this.router.navigate(["/maintenance/scheduled"])}static \u0275fac=function(e){return new(e||l)(c(y),c(_),c(w))};static \u0275cmp=v({type:l,selectors:[["app-schedule-preview-page"]],decls:18,vars:3,consts:[[1,""],[1,"bg-white","border-b","border-gray-200","px-6","py-4","print-hide"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],["aria-label","Breadcrumb",1,"flex"],[1,"flex","items-center","space-x-2"],["href","javascript:void(0)",1,"text-gray-500","hover:text-gray-700","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","mx-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"text-gray-900","font-medium"],[1,"min-h-screen","bg-gray-50","p-6"],[1,"text-center","py-20"],[1,"text-center","text-red-600","py-20"],[1,"max-w-3xl","mx-auto","bg-white","border","border-gray-200","rounded-2xl","shadow-sm","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-semibold"],[1,"bg-gray-100","text-gray-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-sm","text-gray-600"],[1,"font-medium"]],template:function(e,d){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"nav",4)(5,"ol",5)(6,"li")(7,"a",6),g("click",function(){return d.goBack()}),n(8,"Maintenance Schedule"),i()(),t(9,"li"),u(),t(10,"svg",7),x(11,"path",8),i()(),p(),t(12,"li",9),n(13,"Schedule Details"),i()()()()()(),t(14,"div",10),h(15,E,2,0,"div",11)(16,I,2,1,"div",12)(17,M,30,8,"div",13),i()()),e&2&&(r(15),s(d.loading?15:-1),r(),s(d.error?16:-1),r(),s(!d.loading&&!d.error&&d.schedule?17:-1))},dependencies:[b],styles:[".btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db;padding:.5rem 1rem;border-radius:.5rem}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb}"]})};export{C as SchedulePreviewPageComponent};
