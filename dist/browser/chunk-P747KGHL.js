import{a as Go}from"./chunk-FPSJE25W.js";import{a as zo,b as Kn,c as Wo}from"./chunk-FBEXL5AX.js";import"./chunk-FK6H3RFT.js";import{a as dt}from"./chunk-RVWJFXHN.js";import"./chunk-UJSG5ZIG.js";import"./chunk-GGQ7LRWG.js";import{c as ct,d as Pe,f as fe,g as Ve}from"./chunk-C5P3YSZX.js";import{a as No,b as Ne,c as ft,d as Be,e as Xt,f as zn,g as qe,h as Qt,i as Ei,j as Wn,k as Gn,n as $n,o as Bo,p as Un,q as Yn,r as Ai,s as Di,t as Ti,u as qn,v as Xn,w as ze,x as Qn}from"./chunk-X7CSFEP4.js";import{$ as Ee,A as D,Aa as Rn,B as T,Ba as Yt,Ca as Ge,Da as Lo,E as We,Ea as Ct,Fa as qt,Ga as Oo,Ja as Fo,M as Me,N as Si,O as p,Qa as Hn,R as he,Ra as jn,S as Te,Sa as lt,T as Vn,Ta as Ie,Ua as Mi,Va as Ro,W as I,Wa as Ho,Xa as Nn,Ya as je,Z as Ln,_ as v,aa as z,ba as He,bb as jo,c as Ut,ea as a,eb as ki,fa as c,ga as y,gb as St,ha as ir,hb as Bn,ia as nr,ja as R,ka as A,kb as Vt,la as _,n as me,na as bt,oa as yt,pa as wt,qa as On,ra as m,s as In,sa as O,ta as W,ua as De,va as Fn,wa as ae,x as Pn,xa as le,y as M,ya as ce,z as k}from"./chunk-DHJCBHVG.js";import{a as wi,b as Ci,e as Vo}from"./chunk-EQDQRRRY.js";function Hc(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_(2);p(),De("Archive ",e.selectedCount," Asset",e.selectedCount!==1?"s":"","")}}function jc(i,t){i&1&&(a(0,"span",28),D(),a(1,"svg",29),y(2,"circle",30)(3,"path",31),c(),T(),a(4,"span"),m(5,"Archiving..."),c()())}function Nc(i,t){if(i&1){let e=R();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),D(),a(5,"svg",6),y(6,"path",7),c()(),T(),a(7,"h2",8),m(8,"Archive Selected Assets"),c()(),a(9,"button",9),A("click",function(){M(e);let s=_();return k(s.onCancel())}),D(),a(10,"svg",10),y(11,"path",11),c()()(),T(),a(12,"div",12)(13,"div",13)(14,"label",14),m(15,"Archive Reason (Optional)"),c(),a(16,"textarea",15),ce("ngModelChange",function(s){M(e);let r=_();return le(r.archiveReason,s)||(r.archiveReason=s),k(s)}),c(),a(17,"p",16),m(18,"This will be recorded in the audit trail"),c()(),a(19,"div",17)(20,"div",18),D(),a(21,"svg",19),y(22,"path",7),c()()(),T(),a(23,"div",20)(24,"h3",21),m(25),c(),a(26,"p",22),m(27," This will change their status to inactive but keep all data intact. "),c()(),a(28,"div",23)(29,"button",24),A("click",function(){M(e);let s=_();return k(s.onCancel())}),m(30," Cancel "),c(),a(31,"button",25),A("click",function(){M(e);let s=_();return k(s.onConfirm())}),I(32,Hc,2,2,"span",26)(33,jc,6,0,"span",27),c()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(),v("@modalAnimation",void 0),p(8),v("disabled",e.loading),p(7),ae("ngModel",e.archiveReason),p(9),De("Are you sure you want to archive ",e.selectedCount," asset",e.selectedCount!==1?"s":"","?"),p(4),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var Jn=class i{isOpen=!1;selectedCount=0;closeModal=new We;confirmArchive=new We;loading=!1;archiveReason="";onConfirm(){this.loading=!0,this.confirmArchive.emit(this.archiveReason),setTimeout(()=>{this.loading=!1,this.archiveReason=""},2e3)}onCancel(){this.loading||(this.archiveReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Te({type:i,selectors:[["app-archive-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount"},outputs:{closeModal:"closeModal",confirmArchive:"confirmArchive"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3","placeholder","Enter reason for archiving these assets...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-orange-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","bg-orange-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-orange-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-orange-600","text-white","font-medium","rounded-lg","hover:bg-orange-700","focus:outline-none","focus:ring-2","focus:ring-orange-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&I(0,Nc,34,10,"div",0),e&2&&v("ngIf",n.isOpen)},dependencies:[je,Ie,ze,Ne,Be,qe],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.warning-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[ct("backdropAnimation",[Ve(":enter",[fe({opacity:0}),Pe("150ms ease-out",fe({opacity:1}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0}))])]),ct("modalAnimation",[Ve(":enter",[fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Pe("200ms ease-out",fe({opacity:1,transform:"scale(1) translateY(0)"}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};function Bc(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_(2);p(),De("Delete ",e.selectedCount," Asset",e.selectedCount!==1?"s":"","")}}function zc(i,t){i&1&&(a(0,"span",30),D(),a(1,"svg",31),y(2,"circle",32)(3,"path",33),c(),T(),a(4,"span"),m(5,"Deleting..."),c()())}function Wc(i,t){if(i&1){let e=R();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),D(),a(5,"svg",6),y(6,"path",7),c()(),T(),a(7,"h2",8),m(8,"Delete Selected Assets"),c()(),a(9,"button",9),A("click",function(){M(e);let s=_();return k(s.onCancel())}),D(),a(10,"svg",10),y(11,"path",11),c()()(),T(),a(12,"div",12)(13,"div",13)(14,"label",14),m(15,"Deletion Reason (Optional)"),c(),a(16,"textarea",15),ce("ngModelChange",function(s){M(e);let r=_();return le(r.deletionReason,s)||(r.deletionReason=s),k(s)}),c(),a(17,"p",16),m(18,"This will be recorded in the audit trail"),c()(),a(19,"div",17)(20,"div",18),D(),a(21,"svg",19),y(22,"path",7),c()()(),T(),a(23,"div",20)(24,"h3",21),m(25),c(),a(26,"p",22),m(27," This action cannot be undone. The assets will be permanently removed from the system. "),c(),a(28,"div",23)(29,"p",24),m(30," \u26A0\uFE0F Warning: Only archived assets can be permanently deleted "),c()()(),a(31,"div",25)(32,"button",26),A("click",function(){M(e);let s=_();return k(s.onCancel())}),m(33," Cancel "),c(),a(34,"button",27),A("click",function(){M(e);let s=_();return k(s.onConfirm())}),I(35,Bc,2,2,"span",28)(36,zc,6,0,"span",29),c()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(),v("@modalAnimation",void 0),p(8),v("disabled",e.loading),p(7),ae("ngModel",e.deletionReason),p(9),De("Are you sure you want to permanently delete ",e.selectedCount," asset",e.selectedCount!==1?"s":"","?"),p(7),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var Zn=class i{isOpen=!1;selectedCount=0;closeModal=new We;confirmDelete=new We;loading=!1;deletionReason="";onConfirm(){this.loading=!0,this.confirmDelete.emit(this.deletionReason),setTimeout(()=>{this.loading=!1,this.deletionReason=""},2e3)}onCancel(){this.loading||(this.deletionReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Te({type:i,selectors:[["app-delete-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount"},outputs:{closeModal:"closeModal",confirmDelete:"confirmDelete"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-red-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3","placeholder","Enter reason for permanently deleting these assets...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"mt-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-800","text-sm","font-medium"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-red-600","text-white","font-medium","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&I(0,Wc,37,10,"div",0),e&2&&v("ngIf",n.isOpen)},dependencies:[je,Ie,ze,Ne,Be,qe],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.warning-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[ct("backdropAnimation",[Ve(":enter",[fe({opacity:0}),Pe("150ms ease-out",fe({opacity:1}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0}))])]),ct("modalAnimation",[Ve(":enter",[fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Pe("200ms ease-out",fe({opacity:1,transform:"scale(1) translateY(0)"}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};function Gc(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_(2);p(),De(" Restore ",e.selectedCount," Asset",e.selectedCount!==1?"s":""," ")}}function $c(i,t){i&1&&(a(0,"span",24),D(),a(1,"svg",33),y(2,"circle",34)(3,"path",35),c(),T(),a(4,"span"),m(5,"Restoring..."),c()())}function Uc(i,t){if(i&1){let e=R();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),D(),a(5,"svg",6),y(6,"path",7),c()(),T(),a(7,"h2",8),m(8),c()(),a(9,"button",9),A("click",function(){M(e);let s=_();return k(s.onCancel())}),D(),a(10,"svg",10),y(11,"path",11),c()()(),T(),a(12,"div",12)(13,"div",13)(14,"div",14),D(),a(15,"svg",15),y(16,"path",7),c()()(),T(),a(17,"div",16)(18,"h3",17),m(19),c(),a(20,"p",18),m(21),c()(),a(22,"div",19)(23,"label",20),m(24,"Restore Reason (Optional)"),c(),a(25,"textarea",21),ce("ngModelChange",function(s){M(e);let r=_();return le(r.restoreReason,s)||(r.restoreReason=s),k(s)}),c(),a(26,"p",22),m(27,"This will be recorded in the audit trail"),c()(),a(28,"div",23)(29,"div",24),D(),a(30,"svg",25),y(31,"path",26),c(),T(),a(32,"p",27),m(33," Assets will be restored to active status "),c()()(),a(34,"div",28)(35,"button",29),A("click",function(){M(e);let s=_();return k(s.onCancel())}),m(36," Cancel "),c(),a(37,"button",30),A("click",function(){M(e);let s=_();return k(s.onConfirm())}),I(38,Gc,2,2,"span",31)(39,$c,6,0,"span",32),c()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(),v("@modalAnimation",void 0),p(7),W(" ",e.selectedCount>1?"Restore Selected Assets":"Restore Asset"," "),p(),v("disabled",e.loading),p(10),W(" Are you sure you want to restore ",e.selectedCount>1?e.selectedCount+" assets":e.assetName||"1 asset","? "),p(2),W(" ",e.selectedCount>1?"These assets will be moved back to active status and become available in searches.":"This asset will be moved back to active status and become available in searches."," "),p(4),ae("ngModel",e.restoreReason),v("placeholder","Enter reason for restoring "+(e.selectedCount>1?"these assets":"this asset")+"..."),p(10),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var es=class i{isOpen=!1;selectedCount=0;assetName="";closeModal=new We;confirmRestore=new We;loading=!1;restoreReason="";onConfirm(){this.loading=!0,this.confirmRestore.emit(this.restoreReason),setTimeout(()=>{this.loading=!1,this.restoreReason=""},2e3)}onCancel(){this.loading||(this.restoreReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Te({type:i,selectors:[["app-restore-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount",assetName:"assetName"},outputs:{closeModal:"closeModal",confirmRestore:"confirmRestore"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"flex","justify-center","mb-6"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","mb-4"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel","placeholder"],[1,"text-xs","text-gray-500","mt-1"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-3","mb-6"],[1,"flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-800","text-sm","font-medium"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-green-600","text-white","font-medium","rounded-lg","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&I(0,Uc,40,12,"div",0),e&2&&v("ngIf",n.isOpen)},dependencies:[je,Ie,ze,Ne,Be,qe],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.success-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[ct("backdropAnimation",[Ve(":enter",[fe({opacity:0}),Pe("150ms ease-out",fe({opacity:1}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0}))])]),ct("modalAnimation",[Ve(":enter",[fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Pe("200ms ease-out",fe({opacity:1,transform:"scale(1) translateY(0)"}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};function Yc(i,t){if(i&1&&(a(0,"option",11),m(1),c()),i&2){let e=t.$implicit;v("value",e),p(),W(" ",e," ")}}function qc(i,t){if(i&1){let e=R();a(0,"div",6)(1,"label",7),m(2,"Show:"),c(),a(3,"select",8),A("change",function(s){M(e);let r=_();return k(r.onPerPageChange(s))}),I(4,Yc,2,2,"option",9),c(),a(5,"span",10),m(6,"per page"),c()()}if(i&2){let e=_();p(3),v("value",e.pagination.per_page),p(),v("ngForOf",e.perPageOptions)}}function Xc(i,t){if(i&1){let e=R();a(0,"button",21),A("click",function(){M(e);let s=_(2);return k(s.goToPage(1))}),m(1," 1 "),c()}}function Qc(i,t){i&1&&(a(0,"span",22),m(1," ... "),c())}function Kc(i,t){if(i&1){let e=R();a(0,"button",23),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.goToPage(s))}),m(1),c()}if(i&2){let e=t.$implicit,n=_(2);He(n.pagination.current_page===e?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-500 border-gray-300 hover:bg-gray-50 hover:text-gray-700"),p(),W(" ",e," ")}}function Jc(i,t){i&1&&(a(0,"span",22),m(1," ... "),c())}function Zc(i,t){if(i&1){let e=R();a(0,"button",21),A("click",function(){M(e);let s=_(2);return k(s.goToPage(s.pagination.last_page))}),m(1),c()}if(i&2){let e=_(2);p(),W(" ",e.pagination.last_page," ")}}function ed(i,t){if(i&1){let e=R();a(0,"div",12)(1,"nav",13)(2,"button",14),A("click",function(){M(e);let s=_();return k(s.previousPage())}),D(),a(3,"svg",15),y(4,"path",16),c()(),I(5,Xc,2,0,"button",17)(6,Qc,2,0,"span",18)(7,Kc,2,3,"button",19)(8,Jc,2,0,"span",18)(9,Zc,2,1,"button",17),T(),a(10,"button",14),A("click",function(){M(e);let s=_();return k(s.nextPage())}),D(),a(11,"svg",15),y(12,"path",20),c()()()()}if(i&2){let e=_();p(2),v("disabled",e.pagination.current_page===1),p(3),v("ngIf",e.visiblePages.length>0&&e.visiblePages[0]>1),p(),v("ngIf",e.showStartEllipsis),p(),v("ngForOf",e.visiblePages),p(),v("ngIf",e.showEndEllipsis),p(),v("ngIf",e.visiblePages.length>0&&e.visiblePages[e.visiblePages.length-1]<e.pagination.last_page),p(),v("disabled",e.pagination.current_page===e.pagination.last_page)}}function td(i,t){if(i&1){let e=R();a(0,"div",24)(1,"label",25),m(2,"Go to:"),c(),a(3,"input",26),ce("ngModelChange",function(s){M(e);let r=_();return le(r.jumpToPage,s)||(r.jumpToPage=s),k(s)}),A("keyup.enter",function(){M(e);let s=_();return k(s.onJumpToPage())}),c(),a(4,"button",27),A("click",function(){M(e);let s=_();return k(s.onJumpToPage())}),m(5," Go "),c()()}if(i&2){let e=_();p(3),ae("ngModel",e.jumpToPage),v("min",1)("max",e.pagination.last_page)("placeholder",e.pagination.current_page.toString()),p(),v("disabled",!e.jumpToPage||e.jumpToPage<1||e.jumpToPage>e.pagination.last_page)}}var ts=class i{pagination;showPerPageSelector=!0;showJumpToPage=!0;perPageOptions=[10,20,50,100];maxVisiblePages=7;pageChange=new We;perPageChange=new We;jumpToPage=null;visiblePages=[];ngOnChanges(t){t.pagination&&(this.calculateVisiblePages(),this.jumpToPage=this.pagination.current_page)}calculateVisiblePages(){let t=this.pagination.current_page,e=this.pagination.last_page,n=this.maxVisiblePages;if(this.visiblePages=[],e<=n)for(let s=1;s<=e;s++)this.visiblePages.push(s);else{let s=Math.max(1,t-Math.floor(n/2)),r=Math.min(e,s+n-1);r-s+1<n&&(s=Math.max(1,r-n+1));for(let o=s;o<=r;o++)this.visiblePages.push(o)}}goToPage(t){t>=1&&t<=this.pagination.last_page&&t!==this.pagination.current_page&&this.pageChange.emit(t)}onPerPageChange(t){let e=parseInt(t.target.value);e!==this.pagination.per_page&&this.perPageChange.emit(e)}onJumpToPage(){this.jumpToPage&&this.jumpToPage>=1&&this.jumpToPage<=this.pagination.last_page&&this.goToPage(this.jumpToPage)}previousPage(){this.pagination.current_page>1&&this.goToPage(this.pagination.current_page-1)}nextPage(){this.pagination.current_page<this.pagination.last_page&&this.goToPage(this.pagination.current_page+1)}get showStartEllipsis(){return this.visiblePages.length>0&&this.visiblePages[0]>2}get showEndEllipsis(){return this.visiblePages.length>0&&this.visiblePages[this.visiblePages.length-1]<this.pagination.last_page-1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Te({type:i,selectors:[["app-pagination"]],inputs:{pagination:"pagination",showPerPageSelector:"showPerPageSelector",showJumpToPage:"showJumpToPage",perPageOptions:"perPageOptions",maxVisiblePages:"maxVisiblePages"},outputs:{pageChange:"pageChange",perPageChange:"perPageChange"},features:[Pn],decls:7,vars:6,consts:[[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","bg-white","px-6","py-4","border-t","border-gray-200"],["class","flex items-center space-x-2 mb-4 sm:mb-0",4,"ngIf"],["class","flex items-center justify-center mb-4 sm:mb-0",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:space-x-4"],[1,"text-sm","text-gray-700","text-center","sm:text-left","mb-2","sm:mb-0"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2","mb-4","sm:mb-0"],["for","per-page",1,"text-sm","text-gray-700"],["id","per-page",1,"px-3","py-1","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"text-sm","text-gray-700"],[3,"value"],[1,"flex","items-center","justify-center","mb-4","sm:mb-0"],["aria-label","Pagination",1,"flex","items-center","space-x-1"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","enabled:hover:bg-gray-50","enabled:text-gray-700","bg-white","border","border-gray-300","text-gray-500",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["class",`flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700`,3,"click",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 text-gray-400",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg border transition-colors",3,"class","click",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","transition-colors","bg-white","text-gray-500","border","border-gray-300","hover:bg-gray-50","hover:text-gray-700",3,"click"],[1,"flex","items-center","justify-center","w-10","h-10","text-gray-400"],[1,"flex","items-center","justify-center","w-10","h-10","text-sm","font-medium","rounded-lg","border","transition-colors",3,"click"],[1,"flex","items-center","space-x-2"],["for","jump-page",1,"text-sm","text-gray-700"],["id","jump-page","type","number",1,"w-16","px-2","py-1","border","border-gray-300","rounded","text-sm","text-center","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","keyup.enter","ngModel","min","max","placeholder"],[1,"px-3","py-1","bg-blue-600","text-white","text-sm","rounded","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"]],template:function(e,n){e&1&&(a(0,"div",0),I(1,qc,7,2,"div",1)(2,ed,13,7,"div",2),a(3,"div",3)(4,"div",4),m(5),c(),I(6,td,6,5,"div",5),c()()),e&2&&(p(),v("ngIf",n.showPerPageSelector),p(),v("ngIf",n.pagination.last_page>1),p(3),Fn(" Showing ",n.pagination.from," - ",n.pagination.to," of ",n.pagination.total," entries "),p(),v("ngIf",n.showJumpToPage&&n.pagination.last_page>10))},dependencies:[je,lt,Ie,ze,Un,Yn,Ne,Ei,Be,Di,Ai,qe],encapsulation:2})};var $o=Vo(zo());var Uo=i=>({"bg-blue-100":i}),nd=i=>({"bg-blue-100 font-semibold":i}),sd=i=>["/assets/preview",i];function rd(i,t){i&1&&(D(),y(0,"path",105))}function od(i,t){i&1&&(D(),y(0,"path",106))}function ad(i,t){i&1&&(D(),a(0,"svg",87),y(1,"path",92),c())}function ld(i,t){i&1&&(D(),a(0,"svg",107),y(1,"circle",108)(2,"path",109),c())}function cd(i,t){if(i&1){let e=R();a(0,"div",85)(1,"button",86),D(),a(2,"svg",87),y(3,"path",88),c(),T(),a(4,"span"),m(5,"Analytics"),c()(),a(6,"button",89),A("click",function(){M(e);let s=_();return k(s.toggleArchivedView())}),D(),a(7,"svg",87),I(8,rd,1,0,"path",90)(9,od,1,0,"path",91),c(),T(),a(10,"span"),m(11),c()(),a(12,"button",89),A("click",function(){M(e);let s=_();return k(s.exportToPdf())}),D(),a(13,"svg",87),y(14,"path",92),c(),T(),a(15,"span"),m(16,"Export Assets to PDF"),c()(),a(17,"button",93),A("click",function(){M(e);let s=_();return k(s.exportToExcel())}),I(18,ad,2,0,"svg",94)(19,ld,3,0,"svg",95),a(20,"span"),m(21),c()(),a(22,"button",96),D(),a(23,"svg",87),y(24,"path",97),c(),T(),a(25,"span"),m(26,"Smart Import"),c()(),y(27,"div",98),a(28,"button",99),D(),a(29,"svg",100),y(30,"path",101),c(),T(),a(31,"span"),m(32,"Archive Selected"),c()(),a(33,"button",102),D(),a(34,"svg",103),y(35,"path",104),c(),T(),a(36,"span"),m(37,"Delete Selected"),c()()()}if(i&2){let e=_();p(8),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(2),O(e.showingArchived?"View Active Assets":"View Archived Assets"),p(6),v("disabled",e.exportingExcel),p(),v("ngIf",!e.exportingExcel),p(),v("ngIf",e.exportingExcel),p(2),O(e.exportingExcel?"Exporting to Excel...":"Export Assets to Excel")}}function dd(i,t){i&1&&(a(0,"span",110),m(1,"Select asset type"),c())}function ud(i,t){if(i&1&&(ir(0),y(1,"img",112),nr()),i&2){let e=_(2);p(),v("src",e.selectedAssetType.icon,Me)}}function md(i,t){if(i&1&&(a(0,"div",111),I(1,ud,2,1,"ng-container",60),a(2,"span"),m(3),c()()),i&2){let e=_();p(),v("ngIf",e.selectedAssetType.icon),p(2),O(e.selectedAssetType.label)}}function pd(i,t){if(i&1&&(ir(0),y(1,"img",117),nr()),i&2){let e=_().$implicit;p(),v("src",e.icon,Me)}}function hd(i,t){if(i&1){let e=R();a(0,"div",116),A("click",function(){let s=M(e).$implicit,r=_(2);return r.selectAssetType(s),k(r.showAssetTypeDropdown=!1)}),I(1,pd,2,1,"ng-container",60),a(2,"span"),m(3),c()()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",Yt(3,Uo,(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)),p(),v("ngIf",e.icon),p(2),O(e.label)}}function fd(i,t){if(i&1&&(a(0,"div",113)(1,"div",114),m(2,"Select Asset Type"),c(),I(3,hd,4,5,"div",115),c()),i&2){let e=_();p(3),v("ngForOf",e.assetTypes)}}function gd(i,t){i&1&&(a(0,"span",110),m(1,"Select asset status"),c())}function _d(i,t){if(i&1&&y(0,"span",119),i&2){let e=_(2);Ee("background",e.selectedAssetStatus.color)}}function xd(i,t){if(i&1&&(a(0,"div",111),I(1,_d,1,2,"span",118),a(2,"span"),m(3),c()()),i&2){let e=_();p(),v("ngIf",e.selectedAssetStatus.color),p(2),O(e.selectedAssetStatus.label)}}function vd(i,t){if(i&1&&y(0,"span",119),i&2){let e=_().$implicit;Ee("background",e.color)}}function bd(i,t){if(i&1){let e=R();a(0,"div",116),A("click",function(){let s=M(e).$implicit,r=_(2);return r.selectAssetStatus(s),k(r.showAssetStatusDropdown=!1)}),I(1,vd,1,2,"span",118),a(2,"span"),m(3),c()()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",Yt(3,Uo,(n.selectedAssetStatus==null?null:n.selectedAssetStatus.id)===e.id)),p(),v("ngIf",e.color),p(2),O(e.label)}}function yd(i,t){if(i&1&&(a(0,"div",113)(1,"div",114),m(2,"Select Asset Status"),c(),I(3,bd,4,5,"div",115),c()),i&2){let e=_();p(3),v("ngForOf",e.assetStatuses)}}function wd(i,t){i&1&&(a(0,"span",110),m(1,"Sort By"),c())}function Cd(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_();p(),O(e.selectedSort.label)}}function Sd(i,t){if(i&1){let e=R();a(0,"div",122),A("click",function(){let s=M(e).$implicit,r=_(2);return r.selectSort(s),k(r.showSortDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",Yt(2,nd,(n.selectedSort==null?null:n.selectedSort.value)===e.value)),p(),W(" ",e.label," ")}}function Md(i,t){if(i&1&&(a(0,"div",120)(1,"div",114),m(2,"Sort By"),c(),I(3,Sd,2,4,"div",121),c()),i&2){let e=_();p(3),v("ngForOf",e.sortOptions)}}function kd(i,t){i&1&&(D(),a(0,"svg",123),y(1,"path",124),c())}function Ed(i,t){i&1&&(D(),a(0,"svg",123),y(1,"path",125),c())}function Ad(i,t){i&1&&(a(0,"div",126)(1,"div",127)(2,"div",128),D(),a(3,"svg",129),y(4,"circle",108)(5,"path",109),c()(),T(),a(6,"h3",130),m(7,"Loading Assets"),c(),a(8,"p",131),m(9,"Please wait while we fetch your assets..."),c()()())}function Dd(i,t){if(i&1){let e=R();a(0,"div",126)(1,"div",127)(2,"div",132),D(),a(3,"svg",133),y(4,"path",134),c()(),T(),a(5,"h3",130),m(6,"Error Loading Assets"),c(),a(7,"p",135),m(8),c(),a(9,"button",136),A("click",function(){M(e);let s=_();return k(s.loadAssets())}),m(10," Retry "),c()()()}if(i&2){let e=_();p(8),O(e.error)}}function Td(i,t){if(i&1){let e=R();a(0,"div",137)(1,"button",138),A("click",function(){M(e);let s=_();return k(s.toggleSelectAllAssets())}),y(2,"span",139),c(),a(3,"span",140),m(4),c()()}if(i&2){let e=_();p(4),W("Select all ",e.assetList.length," assets")}}function Id(i,t){if(i&1){let e=R();a(0,"button",156),A("click",function(){M(e);let s=_(2);return k(s.duplicateSelected())}),D(),a(1,"svg",146),y(2,"rect",157)(3,"rect",158),c(),m(4," Duplicate"),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function Pd(i,t){if(i&1){let e=R();a(0,"button",159),A("click",function(){M(e);let s=_(2);return k(s.showArchiveModal())}),D(),a(1,"svg",146),y(2,"rect",160)(3,"path",161),c(),m(4," Archive "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function Vd(i,t){if(i&1){let e=R();a(0,"button",162),A("click",function(){M(e);let s=_(2);return k(s.showDeleteModal())}),D(),a(1,"svg",146),y(2,"rect",160)(3,"path",163),c(),m(4," Delete "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function Ld(i,t){if(i&1){let e=R();a(0,"button",164),A("click",function(){M(e);let s=_(2);return k(s.restoreSelected())}),D(),a(1,"svg",146),y(2,"path",165),c(),m(3," Restore "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function Od(i,t){if(i&1){let e=R();a(0,"div",141)(1,"div",142)(2,"button",138),A("click",function(){M(e);let s=_();return k(s.toggleSelectAllAssets())}),y(3,"span",143),c(),a(4,"span",144),m(5),c(),a(6,"span",145),D(),a(7,"svg",146),y(8,"path",147),c(),m(9," Selection Mode Active - Click cards to select "),c()(),T(),a(10,"div",111),I(11,Id,5,1,"button",148),a(12,"button",149),A("click",function(){M(e);let s=_();return k(s.generateQRCodeForSelectedAssets())}),D(),a(13,"svg",146),y(14,"path",150),c(),m(15," Generate QR Codes "),c(),I(16,Pd,5,1,"button",151)(17,Vd,5,1,"button",152)(18,Ld,4,1,"button",153),T(),a(19,"button",154),A("click",function(){M(e);let s=_();return k(s.clearSelection())}),a(20,"span",155),m(21,"\xD7"),c(),m(22," Clear"),c()()()}if(i&2){let e=_();p(2),z("bg-blue-100",e.selectedCount===e.assetList.length),p(),z("bg-blue-400",e.selectedCount===e.assetList.length)("bg-white",e.selectedCount!==e.assetList.length),p(2),De("",e.selectedCount," asset",e.selectedCount>1?"s":""," selected"),p(6),v("ngIf",!e.showingArchived),p(),v("disabled",e.selectedCount===0),p(4),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(),v("ngIf",e.showingArchived)}}function Fd(i,t){if(i&1){let e=R();a(0,"div",166)(1,"div",167),D(),a(2,"svg",168),y(3,"path",21),c()(),T(),a(4,"h3",130),m(5,"No Assets Found"),c(),a(6,"p",169),m(7,"Get started by creating your first asset."),c(),a(8,"button",136),A("click",function(){M(e);let s=_();return k(s.goToCreateAsset())}),m(9," Add Asset "),c()()}}function Rd(i,t){i&1&&(a(0,"span",201),m(1,"Active"),c())}function Hd(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_().$implicit,n=_(2);He("bg-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-100 text-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-700 text-xs font-semibold px-3 py-1 rounded-full"),p(),O((e.asset_status==null?null:e.asset_status.name)||e.status)}}function jd(i,t){if(i&1){let e=R();a(0,"button",215),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.viewAsset(s))}),D(),a(1,"svg",216),y(2,"path",217)(3,"path",218),c(),T(),a(4,"span",219),m(5,"View Details"),c()()}}function Nd(i,t){if(i&1){let e=R();a(0,"button",215),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.editAsset(s))}),D(),a(1,"svg",216),y(2,"path",220),c(),T(),a(3,"span",219),m(4,"Edit Asset"),c()()}}function Bd(i,t){if(i&1){let e=R();a(0,"button",215),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.duplicateAsset(s))}),D(),a(1,"svg",216),y(2,"path",209),c(),T(),a(3,"span",219),m(4,"Duplicate"),c()()}}function zd(i,t){if(i&1){let e=R();a(0,"button",221),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.archiveAsset(s))}),D(),a(1,"svg",222),y(2,"path",105),c(),T(),a(3,"span",223),m(4,"Archive"),c()()}}function Wd(i,t){if(i&1){let e=R();a(0,"button",224),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.restoreAsset(s))}),D(),a(1,"svg",225),y(2,"path",165),c(),T(),a(3,"span",226),m(4,"Restore"),c()()}}function Gd(i,t){if(i&1){let e=R();a(0,"button",227),A("click",function(){M(e);let s=_(2).$implicit,r=_(2);return k(r.deleteAsset(s))}),D(),a(1,"svg",228),y(2,"path",229),c(),T(),a(3,"span",230),m(4,"Delete Permanently"),c()()}}function $d(i,t){if(i&1){let e=R();a(0,"div",202),I(1,jd,6,0,"button",203)(2,Nd,5,0,"button",203)(3,Bd,5,0,"button",203),a(4,"button",204),A("click",function(){M(e);let s=_().$implicit,r=_(2);return k(r.generateQRCodeForAsset(s))}),D(),a(5,"svg",205),y(6,"path",150),c(),T(),a(7,"span",206),m(8,"Generate QR Code"),c()(),a(9,"button",207),A("click",function(){M(e);let s=_().$implicit,r=_(2);return k(r.copyPublicUrl(s))}),D(),a(10,"svg",208),y(11,"path",209),c(),T(),a(12,"span",210),m(13,"Copy Public URL"),c()(),y(14,"div",211),I(15,zd,5,0,"button",212)(16,Wd,5,0,"button",213)(17,Gd,5,0,"button",214),c()}if(i&2){let e=_(3);p(),v("ngIf",!e.showingArchived),p(),v("ngIf",!e.showingArchived),p(),v("ngIf",!e.showingArchived),p(12),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(),v("ngIf",e.showingArchived)}}function Ud(i,t){if(i&1&&(a(0,"div",231)(1,"a",232),m(2),c()()),i&2){let e=_().$implicit;p(),v("routerLink",Yt(3,sd,e.parent.id)),p(),De(" Parent: ",e.parent.name," (",e.parent.asset_id,") ")}}function Yd(i,t){if(i&1&&(a(0,"b"),m(1),Ge(2,"number"),c()),i&2){let e=_().$implicit;p(),W("$",Ct(2,1,e.purchase_price,"1.0-0"),"")}}function qd(i,t){i&1&&(a(0,"b"),m(1,"N/A"),c())}function Xd(i,t){if(i&1&&(a(0,"div",193),D(),a(1,"svg",146),y(2,"path",233),c(),T(),a(3,"span"),m(4,"Purchase Date "),a(5,"b"),m(6),Ge(7,"date"),c()()()),i&2){let e=_().$implicit;p(6),O(Ct(7,1,e.purchase_date,"MMM d, y"))}}function Qd(i,t){if(i&1){let e=R();a(0,"div",172)(1,"div",173)(2,"div",174)(3,"input",175),ce("ngModelChange",function(s){let r=M(e).$implicit;return le(r.selected,s)||(r.selected=s),k(s)}),c()(),a(4,"div",176),I(5,Rd,2,0,"span",177)(6,Hd,2,3,"span",178),a(7,"div",8),A("click",function(s){return M(e),k(s.stopPropagation())}),a(8,"button",179),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.toggleAssetMenu(s.id))}),D(),a(9,"svg",180),y(10,"circle",181)(11,"circle",182)(12,"circle",183),c()(),I(13,$d,18,6,"div",184),c()(),a(14,"svg",185),y(15,"path",21),c()(),T(),a(16,"div",186)(17,"div"),I(18,Ud,3,5,"div",187),a(19,"div",188),A("click",function(){let s=M(e).$implicit,r=_(2);return k(!r.showingArchived&&r.viewAsset(s))}),m(20),c(),a(21,"div",189),m(22),c(),a(23,"div",190),D(),a(24,"svg",146),y(25,"path",191),c(),T(),a(26,"span"),m(27),c()(),y(28,"hr",192),a(29,"div",193),D(),a(30,"svg",146),y(31,"path",43),c(),T(),a(32,"span"),m(33,"Value "),I(34,Yd,3,4,"b",60)(35,qd,2,0,"b",60),c()(),I(36,Xd,8,4,"div",194),c(),a(37,"div",195)(38,"div",196)(39,"span",197),m(40,"Health Score"),c(),a(41,"span",198),m(42),c()(),a(43,"div",199),y(44,"div",200),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("border-blue-400",e.selected),p(3),ae("ngModel",e.selected),p(2),v("ngIf",(e.asset_status==null?null:e.asset_status.name)==="Active"),p(),v("ngIf",(e.asset_status==null?null:e.asset_status.name)!=="Active"),p(7),v("ngIf",e.showMenu),p(5),v("ngIf",e.parent),p(),z("cursor-pointer",!n.showingArchived)("hover:text-blue-600",!n.showingArchived)("cursor-default",n.showingArchived),p(),W(" ",e.name||"Unnamed Asset"," "),p(2),De("",e.asset_id||e.id," \u2022 ",e.type||"General",""),p(5),O((e.location==null?null:e.location.name)||"No location"),p(7),v("ngIf",e.purchase_price!==null),p(),v("ngIf",e.purchase_price===null),p(),v("ngIf",e.purchase_date),p(6),W("",e.health_score||100,"%"),p(2),Ee("width",e.health_score||100,"%"),v("ngClass",(e.health_score||100)<50?"bg-red-500":"bg-green-500")}}function Kd(i,t){if(i&1&&(a(0,"div",170),I(1,Qd,45,24,"div",171),c()),i&2){let e=_();p(),v("ngForOf",e.assetList)}}function Jd(i,t){if(i&1){let e=R();a(0,"div",244)(1,"div",245)(2,"div",241)(3,"input",246),ce("ngModelChange",function(s){let r=M(e).$implicit;return le(r.selected,s)||(r.selected=s),k(s)}),c()(),a(4,"div",239)(5,"div",247)(6,"div",248),D(),a(7,"svg",249),y(8,"path",21),c()(),T(),a(9,"div")(10,"div",250),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.viewAsset(s))}),m(11),c(),a(12,"div",131),m(13),c()()()(),a(14,"div",240)(15,"div",251),m(16),c(),a(17,"div",131),m(18),c()(),a(19,"div",240)(20,"div",252),D(),a(21,"svg",253),y(22,"path",254)(23,"path",255),c(),T(),a(24,"span",256),m(25),c()()(),a(26,"div",241)(27,"span"),m(28),c()(),a(29,"div",240)(30,"div",251),m(31),Ge(32,"currency"),c(),a(33,"div",131),m(34),c()(),a(35,"div",241)(36,"div",111)(37,"button",257),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.viewAsset(s))}),D(),a(38,"svg",123),y(39,"path",217)(40,"path",218),c()(),T(),a(41,"button",258),D(),a(42,"svg",123),y(43,"path",220),c()(),T(),a(44,"button",259),D(),a(45,"svg",123),y(46,"path",229),c()()()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",e.selected),p(3),ae("ngModel",e.selected),p(8),W(" ",e.name||"Unnamed Asset"," "),p(2),O(e.asset_id||"AST-"+e.id),p(3),O(e.type||"Standard Asset"),p(2),O((e.category==null?null:e.category.name)||"General"),p(7),O((e.location==null?null:e.location.name)||"No location"),p(2),He("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-100 text-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-800"),p(),W(" ",(e.asset_status==null?null:e.asset_status.name)||e.status||"Active"," "),p(3),W(" ",e.purchase_price?qt(32,13,e.purchase_price,"USD","symbol","1.0-0"):"N/A"," "),p(3),W(" Health: ",e.health_score||100,"% ")}}function Zd(i,t){if(i&1){let e=R();a(0,"div",234)(1,"div",235)(2,"div",236)(3,"div",237)(4,"input",238),A("change",function(){M(e);let s=_();return k(s.toggleSelectAllAssets())}),c()(),a(5,"div",239),m(6,"Asset"),c(),a(7,"div",240),m(8,"Type & Category"),c(),a(9,"div",240),m(10,"Location"),c(),a(11,"div",241),m(12,"Status"),c(),a(13,"div",240),m(14,"Financial"),c(),a(15,"div",241),m(16,"Actions"),c()()(),a(17,"div",242),I(18,Jd,47,18,"div",243),c()()}if(i&2){let e=_();p(4),v("checked",e.selectedCount===e.assetList.length&&e.assetList.length>0)("indeterminate",e.selectedCount>0&&e.selectedCount<e.assetList.length),p(14),v("ngForOf",e.assetList)}}function e0(i,t){if(i&1){let e=R();a(0,"app-pagination",260),A("pageChange",function(s){M(e);let r=_();return k(r.onPageChange(s))})("perPageChange",function(s){M(e);let r=_();return k(r.onPerPageChange(s))}),c()}if(i&2){let e=_();v("pagination",e.pagination)}}var Ii=class i{constructor(t,e,n){this.router=t;this.assetService=e;this.pdfExportService=n}destroy$=new Ut;summary={totalAssets:0,activeAssets:0,maintenance:0,totalValue:0,assetHealth:0};loading=!1;exportingExcel=!1;error="";showMenu=!1;showTypeDropdown=!1;showStatusDropdown=!1;showSortDropdown=!1;showSortDirDropdown=!1;showArchiveConfirmationModal=!1;showDeleteConfirmationModal=!1;showRestoreConfirmationModal=!1;selectedAssetForRestore=null;showingArchived=!1;typeOptions=[{value:"",label:"All Types"},{value:"fixed",label:"Fixed Asset"},{value:"semi-fixed",label:"Semi-Fixed Asset"},{value:"mobile",label:"Mobile Asset"},{value:"fleet",label:"Fleet Asset"}];statusOptions=[{value:"",label:"All Status"},{value:"Active",label:"Active"},{value:"Maintenance",label:"Maintenance"},{value:"Inactive",label:"Inactive"},{value:"Retired",label:"Retired"}];sortOptions=[{value:"name",label:"Name"},{value:"created_at",label:"Date Added"},{value:"status",label:"Status"},{value:"manufacturer",label:"Manufacturer"},{value:"purchase_price",label:"Cost"}];selectedType=this.typeOptions[0];selectedStatus=this.statusOptions[0];selectedSort=this.sortOptions[0];selectedSortDir="desc";viewType="grid";searchQuery="";currentFilters={search:"",type:"",status:"",category_id:"",location_id:"",sort_by:"name",sort_direction:"desc",page:1,per_page:20,archived:!1};assetList=[];categories=[];locations=[];assetTypes=[];showAssetTypeDropdown=!1;selectedAssetType=null;assetStatuses=[];showAssetStatusDropdown=!1;selectedAssetStatus=null;openAssetMenuId=null;pagination={current_page:1,last_page:1,per_page:20,total:0,from:0,to:0};selectAllAssets=!1;ngOnInit(){this.loadAssetStatistics(),this.loadAssets(),this.loadCategories(),this.loadLocations(),this.assetService.getAssetTypes().subscribe(t=>{t.success&&t.data&&(this.assetTypes=[{id:"",name:"All Types",label:"All Types",icon:null},...t.data.map(e=>({id:e.id,name:e.name,label:e.name,icon:e.icon||null}))],this.selectedAssetType=this.assetTypes[0])}),this.assetService.getAssetStatuses().subscribe(t=>{t.success&&t.data&&(this.assetStatuses=[{id:"",name:"All Statuses",label:"All Statuses",color:null},...t.data.map(e=>({id:e.id,name:e.name,label:e.name,color:e.color||null}))],this.selectedAssetStatus=this.assetStatuses[0])})}loadAssetStatistics(){this.assetService.getAssetStatistics().pipe(me(this.destroy$)).subscribe({next:t=>{if(t.success&&t.data){let e=t.data;this.summary={totalAssets:e.total_assets||0,activeAssets:e.active_assets||0,maintenance:e.maintenance||0,totalValue:e.total_asset_value||0,assetHealth:e.total_asset_health&&e.total_assets?Math.round(e.total_asset_health/e.total_assets):100}}},error:t=>{console.error("Error loading asset statistics:",t)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAssets(){this.loading=!0,this.error="";let t={};this.currentFilters.search&&(t.search=this.currentFilters.search),this.currentFilters.type&&(t.type=this.currentFilters.type),this.currentFilters.status&&(t.status=this.currentFilters.status),this.currentFilters.category_id&&(t.category_id=this.currentFilters.category_id),this.currentFilters.location_id&&(t.location_id=this.currentFilters.location_id),this.currentFilters.sort_by&&(t.sort_by=this.currentFilters.sort_by),this.currentFilters.sort_direction&&(t.sort_direction=this.currentFilters.sort_direction),t.archived=this.currentFilters.archived,t.page=this.currentFilters.page,t.per_page=this.currentFilters.per_page,this.assetService.getAssets(t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success?(this.assetList=(e.data.assets||e.data).map(n=>Ci(wi({},n),{selected:!1,showMenu:!1})),e.data.pagination&&(this.pagination=e.data.pagination)):this.error=e.message||"Failed to load assets",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading assets",this.loading=!1}})}loadCategories(){this.assetService.getAssetCategories().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&(this.categories=t.data.categories)},error:t=>{console.error("Error loading categories:",t)}})}loadLocations(){this.assetService.getLocations().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&(this.locations=t.data.locations||t.data)},error:t=>{console.error("Error loading locations:",t)}})}onSearch(){this.currentFilters.search=this.searchQuery,this.currentFilters.page=1,this.loadAssets()}applyFilters(){this.currentFilters.page=1,this.loadAssets()}get selectedCount(){return this.assetList.filter(t=>t.selected).length}toggleSelectAllAssets(){let t=this.selectedCount===this.assetList.length;this.assetList.forEach(e=>e.selected=!t),this.selectAllAssets=!t}selectType(t){let e=this.typeOptions.find(n=>n.value===t);e&&(this.selectedType=e,this.currentFilters.type=e.value),this.showTypeDropdown=!1,this.applyFilters()}selectStatus(t){let e=this.statusOptions.find(n=>n.value===t);e&&(this.selectedStatus=e,this.currentFilters.status=e.value),this.showStatusDropdown=!1,this.applyFilters()}selectSort(t){let e=this.sortOptions.find(n=>n.value===t);e&&(this.selectedSort=e,this.currentFilters.sort_by=e.value),this.showSortDropdown=!1,this.applyFilters()}selectSortDir(t){this.selectedSortDir=t,this.currentFilters.sort_direction=t,this.showSortDirDropdown=!1,this.applyFilters()}toggleSortDir(){this.selectedSortDir=this.selectedSortDir==="asc"?"desc":"asc",this.currentFilters.sort_direction=this.selectedSortDir,this.applyFilters()}duplicateSelected(){let t=this.assetList.filter(n=>n.selected);if(t.length===0)return;let e=t[0];this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:e.id}}),this.clearSelection()}generateSerialNumber(){let t=Date.now().toString(),e=Math.random().toString(36).substring(2,8).toUpperCase();return`SN${t.slice(-6)}${e}`}clearSelection(){this.assetList.forEach(t=>t.selected=!1),this.selectAllAssets=!1}showArchiveModal(){this.selectedCount>0&&(this.showArchiveConfirmationModal=!0)}closeArchiveModal(){this.showArchiveConfirmationModal=!1}showDeleteModal(){this.selectedCount>0&&(this.showDeleteConfirmationModal=!0)}closeDeleteModal(){this.showDeleteConfirmationModal=!1}closeRestoreModal(){this.showRestoreConfirmationModal=!1,this.selectedAssetForRestore=null}restoreSelectedAsset(t){if(this.assetList.filter(n=>n.selected).length>1)this.restoreBulkAssets(t);else if(this.selectedAssetForRestore){let n={};t&&t.trim()&&(n.restore_reason=t.trim()),this.assetService.restoreAsset(this.selectedAssetForRestore.id,n).pipe(me(this.destroy$)).subscribe({next:s=>{s.success?(this.loadAssets(),this.loadAssetStatistics(),console.log("Asset restored successfully")):this.error=s.message||"Failed to restore asset",this.closeRestoreModal()},error:s=>{this.error=s.error?.message||"An error occurred while restoring the asset",this.closeRestoreModal()}})}else this.closeRestoreModal()}deleteSelected(t){let e=this.assetList.filter(r=>r.selected);if(e.length===0){this.closeDeleteModal();return}let s={asset_ids:e.map(r=>r.id)};t&&t.trim()&&(s.deletion_reason=t.trim()),this.assetService.bulkDeleteAssets(s).pipe(me(this.destroy$)).subscribe({next:r=>{if(r.success){if(r.failed&&r.failed.length>0){let o=r.failed.length,l=r.deleted?r.deleted.length:0;this.error=`${l} assets deleted successfully, ${o} failed to delete`}else{let o=r.deleted?r.deleted.length:e.length;console.log(`${o} assets deleted successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=r.message||"Failed to delete assets";this.closeDeleteModal()},error:r=>{this.error=r.error?.message||"An error occurred while deleting assets",this.closeDeleteModal()}})}viewAsset(t){this.router.navigate(["/assets/preview",t.id])}archiveSelected(t){let e=this.assetList.filter(r=>r.selected);if(e.length===0){this.closeArchiveModal();return}let s={asset_ids:e.map(r=>r.id)};t&&t.trim()&&(s.archive_reason=t.trim()),this.assetService.bulkArchiveAssets(s).pipe(me(this.destroy$)).subscribe({next:r=>{if(r.success){if(r.failed&&r.failed.length>0){let o=r.failed.length,l=r.archived?r.archived.length:0;this.error=`${l} assets archived successfully, ${o} failed to archive`}else{let o=r.archived?r.archived.length:e.length;console.log(`${o} assets archived successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=r.message||"Failed to archive assets";this.closeArchiveModal()},error:r=>{this.error=r.error?.message||"An error occurred while archiving assets",this.closeArchiveModal()}})}toggleTypeDropdown(){this.showTypeDropdown=!this.showTypeDropdown,this.showStatusDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showTypeDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}toggleSortDropdown(){this.showSortDropdown=!this.showSortDropdown,this.showTypeDropdown=!1,this.showStatusDropdown=!1,this.showSortDirDropdown=!1}toggleArchivedView(){this.showingArchived=!this.showingArchived,this.currentFilters.archived=this.showingArchived,this.currentFilters.page=1,this.clearSelection(),this.loadAssets(),this.showMenu=!1}goToCreateAsset(){this.router.navigate(["assets/create"])}exportToPdf(){if(this.assetList.length>0){let t=this.showingArchived?"Archived Assets Export Report":"Asset Export Report";this.pdfExportService.exportAssetsToPdf(this.assetList,t),this.showMenu=!1}else console.log("No assets to export")}exportToExcel(){this.assetList.length>0?(this.exportingExcel=!0,this.assetService.exportAssetsToExcel(this.showingArchived).subscribe({next:t=>{let e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e;let s=this.showingArchived?"archived-assets-export.xlsx":"assets-export.xlsx";n.download=s,n.click(),window.URL.revokeObjectURL(e),this.exportingExcel=!1,this.showMenu=!1},error:t=>{console.error("Error exporting to Excel:",t),this.exportingExcel=!1}})):console.log("No assets to export")}getStatusColor(t){return{Active:"green",Maintenance:"orange",Inactive:"gray",Retired:"red"}[t]||"gray"}toggleAssetMenu(t){this.assetList.forEach(n=>{n.id!==t&&(n.showMenu=!1)});let e=this.assetList.find(n=>n.id===t);e&&(e.showMenu=!e.showMenu)}editAsset(t){this.router.navigate(["/assets",t.id,"edit"]),t.showMenu=!1}duplicateAsset(t){this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:t.id}}),t.showMenu=!1}archiveAsset(t){this.assetList.forEach(e=>e.selected=!1),t.selected=!0,this.showArchiveConfirmationModal=!0,t.showMenu=!1}deleteAsset(t){this.assetList.forEach(e=>e.selected=!1),t.selected=!0,this.showDeleteConfirmationModal=!0,t.showMenu=!1}restoreSelected(){this.assetList.filter(e=>e.selected).length!==0&&(this.showRestoreConfirmationModal=!0)}restoreBulkAssets(t){let e=this.assetList.filter(s=>s.selected);if(e.length===0){this.closeRestoreModal();return}let n=e.map(s=>s.id);this.assetService.bulkRestoreAssets(n,t).pipe(me(this.destroy$)).subscribe({next:s=>{if(s.success){if(s.failed&&s.failed.length>0){let r=s.failed.length,o=s.restored?s.restored.length:0;this.error=`${o} assets restored successfully, ${r} failed to restore`}else{let r=s.restored?s.restored.length:e.length;console.log(`${r} assets restored successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=s.message||"Failed to restore assets";this.closeRestoreModal()},error:s=>{this.error=s.error?.message||"An error occurred while restoring assets",this.closeRestoreModal()}})}restoreAsset(t){this.selectedAssetForRestore=t,this.showRestoreConfirmationModal=!0,t.showMenu=!1}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showStatusDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.currentFilters.type=t.id,this.showAssetTypeDropdown=!1,this.applyFilters()}toggleAssetStatusDropdown(){this.showAssetStatusDropdown=!this.showAssetStatusDropdown}selectAssetStatus(t){this.selectedAssetStatus=t,this.currentFilters.status=t.id,this.showAssetStatusDropdown=!1,this.applyFilters()}onDocumentClick(t){t.target.closest(".menu-container")||(this.showMenu=!1)}generateQRCodeForAsset(t){let e=`${window.location.origin}/public/asset/${t.id}`;$o.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(n=>{let s=document.createElement("a");s.href=n,s.download=`asset-${t.id}-qr.png`,s.click()}).catch(n=>{console.error("Error generating QR code:",n)})}generateQRCodeForSelectedAssets(){let t=this.assetList.filter(e=>e.selected);if(t.length===0){console.log("No assets selected");return}t.forEach(e=>{this.generateQRCodeForAsset(e)})}copyPublicUrl(t){let e=`${window.location.origin}/public/asset/${t.id}`;navigator.clipboard.writeText(e).then(()=>{console.log("Public URL copied to clipboard")})}onPageChange(t){this.currentFilters.page=t,this.loadAssets()}onPerPageChange(t){this.currentFilters.per_page=t,this.currentFilters.page=1,this.loadAssets()}static \u0275fac=function(e){return new(e||i)(he(St),he(dt),he(Kn))};static \u0275cmp=Te({type:i,selectors:[["app-asset-list"]],hostBindings:function(e,n){e&1&&A("click",function(r){return n.onDocumentClick(r)},!1,Si)},decls:133,vars:61,consts:[[1,"asset-list-page","min-h-screen","bg-gray-50","p-6"],[1,"mb-6","flex","flex-col","md:flex-row","md:items-center","md:justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","text-base"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"relative",3,"click"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-lg","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],["cx","12","cy","5","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","19","r","2"],["class","absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-5","gap-4","mb-8"],[1,"rounded-xl","bg-blue-50","border","border-blue-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-base","font-medium","text-gray-700"],[1,"w-10","h-10","bg-blue-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-3xl","font-bold","text-gray-900"],["href","#",1,"text-sm","text-blue-600","font-medium","mt-1"],[1,"rounded-xl","bg-green-50","border","border-green-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-green-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-400"],["cx","12","cy","12","r","8","stroke","currentColor","stroke-width","2","fill","none"],["cx","12","cy","12","r","4","fill","currentColor",1,"text-green-400"],[1,"text-sm","text-green-600","font-medium","mt-1"],[1,"rounded-xl","bg-orange-50","border","border-orange-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-orange-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"text-sm","text-orange-600","font-medium","mt-1"],[1,"rounded-xl","bg-purple-50","border","border-purple-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-purple-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"text-sm","text-purple-600","font-medium","mt-1"],[1,"rounded-xl","bg-cyan-50","border","border-cyan-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-cyan-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-cyan-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"],[1,"text-sm","text-cyan-600","font-medium","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-6"],[1,"flex-1","flex","flex-col","space-y-3","md:space-y-0","md:flex-row","md:items-center","md:space-x-3"],[1,"relative","w-full","md:w-80"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search assets by name, location, or ID...",1,"w-full","pl-10","pr-4","py-2","border-2","border-blue-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","placeholder-gray-400",3,"ngModelChange","input","ngModel"],["type","button",1,"w-full","px-4","py-2","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all","min-w-[220px]",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[220px] w-full",4,"ngIf"],[1,"relative","ml-2",3,"click"],["type","button",1,"w-full","px-4","py-2","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all","min-w-[180px]",3,"click"],[4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","transition-transform","ml-2"],["class","absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[180px] w-full",4,"ngIf"],[1,"relative"],[1,"px-4","py-2","bg-gray-100","rounded-lg","text-gray-700","flex","items-center","space-x-2","min-w-[70px]","cursor-pointer",3,"click"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex","items-center","space-x-2","mt-4","md:mt-0"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-lg","border","border-gray-200","hover:bg-blue-50","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["x","4","y","4","width","7","height","7","rx","2"],["x","13","y","4","width","7","height","7","rx","2"],["x","4","y","13","width","7","height","7","rx","2"],["x","13","y","13","width","7","height","7","rx","2"],["x","4","y","6","width","16","height","4","rx","2"],["x","4","y","14","width","16","height","4","rx","2"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between",4,"ngIf"],["class","text-center py-20",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",4,"ngIf"],[3,"pagination","pageChange","perPageChange",4,"ngIf"],[3,"closeModal","confirmArchive","isOpen","selectedCount"],[3,"closeModal","confirmDelete","isOpen","selectedCount"],[3,"closeModal","confirmRestore","isOpen","selectedCount","assetName"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-xl","shadow-lg","border","border-gray-200","py-2","z-50"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 text-gray-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","animate-spin w-5 h-5 text-gray-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],["routerLink","/assets/import",1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"border-t","border-gray-100","my-2"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-orange-50","text-left","transition-colors","cursor-pointer","text-orange-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-red-50","text-left","transition-colors","cursor-pointer","text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-5","h-5","text-gray-500"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["alt","icon",1,"w-5","h-5",3,"src"],[1,"absolute","z-10","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-72","overflow-y-auto","min-w-[220px]","w-full"],[1,"px-4","py-2","text-xs","text-gray-400","font-semibold","uppercase","tracking-wider"],["class","flex items-center px-4 py-2 cursor-pointer hover:bg-blue-50",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","items-center","px-4","py-2","cursor-pointer","hover:bg-blue-50",3,"click","ngClass"],["alt","icon",1,"w-5","h-5","mr-2",3,"src"],["class","inline-block w-3 h-3 rounded-full mr-2",3,"background",4,"ngIf"],[1,"inline-block","w-3","h-3","rounded-full","mr-2"],[1,"absolute","z-10","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-72","overflow-y-auto","min-w-[180px]","w-full"],["class","px-4 py-2 cursor-pointer hover:bg-blue-50",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-2","cursor-pointer","hover:bg-blue-50",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 17l-4 4m0 0l-4-4m4 4V3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7l4-4m0 0l4 4m-4-4v18"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center"],["type","button",1,"focus:outline-none","inline-flex","items-center","justify-center","w-6","h-6","rounded-full","border-2","border-blue-400","mr-3","transition-colors",3,"click"],[1,"w-3","h-3","rounded-full","block","bg-white","transition-colors"],[1,"font-semibold","text-gray-900"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-3","h-3","rounded-full","block","transition-colors"],[1,"font-bold","text-gray-900"],[1,"bg-blue-50","text-blue-600","px-3","py-1","rounded-full","text-sm","flex","items-center","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7"],["class","bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"bg-purple-50","text-purple-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"],["class","bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],["class","bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],["class","bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"bg-transparent","text-gray-700","font-semibold","px-2","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer",3,"click"],[1,"text-xl"],[1,"bg-gray-50","text-gray-700","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","border","border-gray-200","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["x","8","y","8","width","8","height","8","rx","2","stroke-width","2"],["x","4","y","4","width","8","height","8","rx","2","stroke-width","2"],[1,"bg-orange-50","text-orange-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["x","4","y","4","width","16","height","16","rx","2","stroke-width","2"],["d","M8 12h8","stroke-width","2"],[1,"bg-red-50","text-red-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["d","M8 8l8 8M8 16l8-8","stroke-width","2"],[1,"bg-green-50","text-green-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","py-20"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-gray-600","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","mt-2"],["class","rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden",3,"border-blue-400",4,"ngFor","ngForOf"],[1,"rounded-2xl","border","border-blue-200","bg-white","shadow-sm","flex","flex-col","transition-all","hover:shadow-md","overflow-hidden"],[1,"relative","bg-[#e0edff]","h-32","flex","flex-col","items-center","justify-center"],[1,"absolute","left-4","top-4","flex","items-center"],["type","checkbox",1,"asset-card-checkbox",3,"ngModelChange","ngModel"],[1,"absolute","right-4","top-4","flex","items-center","space-x-2"],["class","bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],[3,"class",4,"ngIf"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-blue-400"],[1,"flex-1","flex","flex-col","justify-between","p-6","pt-4"],["class","mb-2",4,"ngIf"],[1,"font-semibold","text-lg","text-gray-900","mb-1","cursor-pointer","hover:text-blue-600","transition-colors",3,"click"],[1,"text-sm","text-gray-500","mb-1"],[1,"flex","items-center","text-xs","text-gray-400","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 12.414a4 4 0 10-1.414 1.414l4.243 4.243a1 1 0 001.414-1.414z"],[1,"my-3","border-gray-200"],[1,"flex","items-center","text-sm","text-gray-700","mb-1"],["class","flex items-center text-sm text-gray-700 mb-1",4,"ngIf"],[1,"mt-4"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-gray-500"],[1,"text-xs","font-semibold","text-gray-700"],[1,"w-full","h-2","bg-gray-200","rounded-full"],[1,"h-2","rounded-full",3,"ngClass"],[1,"bg-green-100","text-green-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-purple-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-500"],[1,"text-sm","text-purple-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-blue-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"text-sm","text-blue-600"],[1,"border-t","border-gray-100","my-1"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-orange-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-500"],[1,"text-sm","text-orange-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-green-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500"],[1,"text-sm","text-green-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-sm","text-red-600"],[1,"mb-2"],[1,"text-blue-600","hover:underline","text-xs",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"grid","grid-cols-12","gap-4","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"col-span-1","flex","items-center"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked","indeterminate"],[1,"col-span-3"],[1,"col-span-2"],[1,"col-span-1"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50 transition-colors",3,"bg-blue-50",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50","transition-colors"],[1,"grid","grid-cols-12","gap-4","items-center"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],[1,"font-medium","text-gray-900","hover:text-blue-600","cursor-pointer","transition-colors",3,"click"],[1,"text-sm","text-gray-900"],[1,"flex","items-center","space-x-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-600"],[1,"p-1","text-gray-400","hover:text-blue-600","hover:bg-blue-50","rounded","transition-all",3,"click"],[1,"p-1","text-gray-400","hover:text-blue-600","hover:bg-blue-50","rounded","transition-all"],[1,"p-1","text-gray-400","hover:text-red-600","hover:bg-red-50","rounded","transition-all"],[3,"pageChange","perPageChange","pagination"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),m(4,"Asset Intelligence Hub"),c(),a(5,"p",3),m(6,"Advanced asset monitoring with AI-powered insights and real-time analytics"),c()(),a(7,"div",4)(8,"button",5),A("click",function(){return n.goToCreateAsset()}),D(),a(9,"svg",6),y(10,"path",7),c(),m(11," Add Asset "),c(),T(),a(12,"div",8),A("click",function(r){return r.stopPropagation()}),a(13,"button",9),A("click",function(){return n.showMenu=!n.showMenu}),D(),a(14,"svg",10),y(15,"circle",11)(16,"circle",12)(17,"circle",13),c()(),I(18,cd,38,7,"div",14),c()()(),T(),a(19,"div",15)(20,"div",16)(21,"div",17)(22,"span",18),m(23,"Total Assets"),c(),a(24,"span",19),D(),a(25,"svg",20),y(26,"path",21),c()()(),T(),a(27,"div",22),m(28),c(),a(29,"a",23),m(30,"Assets in system"),c()(),a(31,"div",24)(32,"div",17)(33,"span",18),m(34,"Active"),c(),a(35,"span",25),D(),a(36,"svg",26),y(37,"circle",27)(38,"circle",28),c()()(),T(),a(39,"div",22),m(40),c(),a(41,"span",29),m(42,"Operational assets"),c()(),a(43,"div",30)(44,"div",17)(45,"span",18),m(46,"Maintenance"),c(),a(47,"span",31),D(),a(48,"svg",32),y(49,"path",33),c()()(),T(),a(50,"div",22),m(51),c(),a(52,"span",34),m(53,"Under maintenance"),c()(),a(54,"div",35)(55,"div",17)(56,"span",18),m(57,"Total Value"),c(),a(58,"span",36),D(),a(59,"svg",37),y(60,"path",38),c()()(),T(),a(61,"div",22),m(62),Ge(63,"currency"),c(),a(64,"span",39),m(65,"Asset portfolio value"),c()(),a(66,"div",40)(67,"div",17)(68,"span",18),m(69,"Asset Health"),c(),a(70,"span",41),D(),a(71,"svg",42),y(72,"path",43),c()()(),T(),a(73,"div",22),m(74),c(),a(75,"span",44),m(76,"Excellent health"),c()()(),a(77,"div",45)(78,"div",46)(79,"div",47),D(),a(80,"svg",48),y(81,"path",49),c(),T(),a(82,"input",50),ce("ngModelChange",function(r){return le(n.searchQuery,r)||(n.searchQuery=r),r}),A("input",function(){return n.onSearch()}),c()(),a(83,"div",8),A("click",function(r){return r.stopPropagation()}),a(84,"button",51),A("click",function(){return n.toggleAssetTypeDropdown()}),a(85,"div",52),I(86,dd,2,0,"span",53)(87,md,4,2,"div",54),D(),a(88,"svg",55),y(89,"path",56),c()()(),I(90,fd,4,1,"div",57),c(),T(),a(91,"div",58),A("click",function(r){return r.stopPropagation()}),a(92,"button",51),A("click",function(){return n.toggleAssetStatusDropdown()}),a(93,"div",52),I(94,gd,2,0,"span",53)(95,xd,4,2,"div",54),c()(),I(96,yd,4,1,"div",57),c(),a(97,"div",58),A("click",function(r){return r.stopPropagation()}),a(98,"button",59),A("click",function(){return n.toggleSortDropdown()}),a(99,"div",52),I(100,wd,2,0,"span",53)(101,Cd,2,1,"span",60),D(),a(102,"svg",61),y(103,"path",56),c()()(),I(104,Md,4,1,"div",62),c(),T(),a(105,"div",63)(106,"button",64),A("click",function(){return n.toggleSortDir()}),I(107,kd,2,0,"svg",65)(108,Ed,2,0,"svg",65),a(109,"span"),m(110),c()()()(),a(111,"div",66)(112,"button",67),A("click",function(){return n.viewType="grid"}),D(),a(113,"svg",68),y(114,"rect",69)(115,"rect",70)(116,"rect",71)(117,"rect",72),c()(),T(),a(118,"button",67),A("click",function(){return n.viewType="list"}),D(),a(119,"svg",68),y(120,"rect",73)(121,"rect",74),c()()()(),I(122,Ad,10,0,"div",75)(123,Dd,11,1,"div",75)(124,Td,5,1,"div",76)(125,Od,23,13,"div",77)(126,Fd,10,0,"div",78)(127,Kd,2,1,"div",79)(128,Zd,19,3,"div",80)(129,e0,1,1,"app-pagination",81),T(),a(130,"app-archive-confirmation-modal",82),A("closeModal",function(){return n.closeArchiveModal()})("confirmArchive",function(){return n.archiveSelected()}),c(),a(131,"app-delete-confirmation-modal",83),A("closeModal",function(){return n.closeDeleteModal()})("confirmDelete",function(r){return n.deleteSelected(r)}),c(),a(132,"app-restore-confirmation-modal",84),A("closeModal",function(){return n.closeRestoreModal()})("confirmRestore",function(r){return n.restoreSelectedAsset(r)}),c()()),e&2&&(p(18),v("ngIf",n.showMenu),p(10),O(n.summary.totalAssets),p(12),O(n.summary.activeAssets),p(11),O(n.summary.maintenance),p(11),O(qt(63,56,n.summary.totalValue,"USD","symbol","1.0-0")),p(12),W("",n.summary.assetHealth,"%"),p(8),ae("ngModel",n.searchQuery),p(2),z("border-blue-500",n.showAssetTypeDropdown),p(2),v("ngIf",!n.selectedAssetType),p(),v("ngIf",n.selectedAssetType),p(),z("rotate-180",n.showAssetTypeDropdown),p(2),v("ngIf",n.showAssetTypeDropdown),p(2),z("border-blue-500",n.showAssetStatusDropdown),p(2),v("ngIf",!n.selectedAssetStatus),p(),v("ngIf",n.selectedAssetStatus),p(),v("ngIf",n.showAssetStatusDropdown),p(2),z("border-blue-500",n.showSortDropdown),p(2),v("ngIf",!n.selectedSort),p(),v("ngIf",n.selectedSort),p(),z("rotate-180",n.showSortDropdown),p(2),v("ngIf",n.showSortDropdown),p(2),z("bg-blue-100",n.selectedSortDir==="asc")("text-blue-700",n.selectedSortDir==="asc"),p(),v("ngIf",n.selectedSortDir==="desc"),p(),v("ngIf",n.selectedSortDir==="asc"),p(2),O(n.selectedSortDir==="asc"?"A-Z":"Z-A"),p(2),z("bg-blue-100",n.viewType==="grid")("text-blue-700",n.viewType==="grid"),p(6),z("bg-blue-100",n.viewType==="list")("text-blue-700",n.viewType==="list"),p(4),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",n.viewType==="grid"&&n.selectedCount===0&&!n.loading&&!n.error),p(),v("ngIf",n.viewType==="grid"&&n.selectedCount>0&&!n.loading&&!n.error),p(),v("ngIf",!n.loading&&!n.error&&n.assetList.length===0),p(),v("ngIf",n.viewType==="grid"&&!n.loading&&!n.error&&n.assetList.length>0),p(),v("ngIf",n.viewType==="list"&&!n.loading&&!n.error&&n.assetList.length>0),p(),v("ngIf",n.assetList.length>0||n.pagination.total>0),p(),v("isOpen",n.showArchiveConfirmationModal)("selectedCount",n.selectedCount),p(),v("isOpen",n.showDeleteConfirmationModal)("selectedCount",n.selectedCount),p(),v("isOpen",n.showRestoreConfirmationModal)("selectedCount",n.selectedCount>0?n.selectedCount:1)("assetName",(n.selectedAssetForRestore==null?null:n.selectedAssetForRestore.name)||""))},dependencies:[Nn,Ie,lt,ze,Ne,No,Be,qe,Ho,Mi,Jn,Zn,es,jn,Vt,Bn,ts],styles:['.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]{width:20px!important;height:20px!important;border-radius:50%!important;border-width:2px;border-color:#3b82f6;appearance:none;background-color:#fff;display:inline-block;vertical-align:middle;position:relative;transition:border-color .2s}.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked{background-color:#3b82f6;border-color:#2563eb}.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked:after{content:"";display:block;width:10px;height:10px;border-radius:50%;background:#fff;position:absolute;top:3px;left:3px}.asset-list-page[_ngcontent-%COMP%]   .asset-card-header[_ngcontent-%COMP%]{background:#e0edff;height:8rem;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;border-top-left-radius:1rem;border-top-right-radius:1rem;overflow:hidden}.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #101e3614;overflow:hidden;background:#fff;border:1px solid #bfdbfe;display:flex;flex-direction:column;transition:box-shadow .2s}.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;border-color:#e5e7eb}']})};var ns=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Jt={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(i){return typeof console<"u"&&console.warn(i)},getWeek:function(i){var t=new Date(i.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var ss={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(i){var t=i%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},rs=ss;var Xe=function(i,t){return t===void 0&&(t=2),("000"+i).slice(t*-1)},tt=function(i){return i===!0?1:0};function sr(i,t){var e;return function(){var n=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return i.apply(n,s)},t)}}var os=function(i){return i instanceof Array?i:[i]};function Qe(i,t,e){if(e===!0)return i.classList.add(t);i.classList.remove(t)}function de(i,t,e){var n=window.document.createElement(i);return t=t||"",e=e||"",n.className=t,e!==void 0&&(n.textContent=e),n}function en(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function rr(i,t){if(t(i))return i;if(i.parentNode)return rr(i.parentNode,t)}function tn(i,t){var e=de("div","numInputWrapper"),n=de("input","numInput "+i),s=de("span","arrowUp"),r=de("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),t!==void 0)for(var o in t)n.setAttribute(o,t[o]);return e.appendChild(n),e.appendChild(s),e.appendChild(r),e}function it(i){try{if(typeof i.composedPath=="function"){var t=i.composedPath();return t[0]}return i.target}catch{return i.target}}var or=function(){},nn=function(i,t,e){return e.months[t?"shorthand":"longhand"][i]},Yo={D:or,F:function(i,t,e){i.setMonth(e.months.longhand.indexOf(t))},G:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},H:function(i,t){i.setHours(parseFloat(t))},J:function(i,t){i.setDate(parseFloat(t))},K:function(i,t,e){i.setHours(i.getHours()%12+12*tt(new RegExp(e.amPM[1],"i").test(t)))},M:function(i,t,e){i.setMonth(e.months.shorthand.indexOf(t))},S:function(i,t){i.setSeconds(parseFloat(t))},U:function(i,t){return new Date(parseFloat(t)*1e3)},W:function(i,t,e){var n=parseInt(t),s=new Date(i.getFullYear(),0,2+(n-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(i,t){i.setFullYear(parseFloat(t))},Z:function(i,t){return new Date(t)},d:function(i,t){i.setDate(parseFloat(t))},h:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},i:function(i,t){i.setMinutes(parseFloat(t))},j:function(i,t){i.setDate(parseFloat(t))},l:or,m:function(i,t){i.setMonth(parseFloat(t)-1)},n:function(i,t){i.setMonth(parseFloat(t)-1)},s:function(i,t){i.setSeconds(parseFloat(t))},u:function(i,t){return new Date(parseFloat(t))},w:or,y:function(i,t){i.setFullYear(2e3+parseFloat(t))}},Ot={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Pi={Z:function(i){return i.toISOString()},D:function(i,t,e){return t.weekdays.shorthand[Pi.w(i,t,e)]},F:function(i,t,e){return nn(Pi.n(i,t,e)-1,!1,t)},G:function(i,t,e){return Xe(Pi.h(i,t,e))},H:function(i){return Xe(i.getHours())},J:function(i,t){return t.ordinal!==void 0?i.getDate()+t.ordinal(i.getDate()):i.getDate()},K:function(i,t){return t.amPM[tt(i.getHours()>11)]},M:function(i,t){return nn(i.getMonth(),!0,t)},S:function(i){return Xe(i.getSeconds())},U:function(i){return i.getTime()/1e3},W:function(i,t,e){return e.getWeek(i)},Y:function(i){return Xe(i.getFullYear(),4)},d:function(i){return Xe(i.getDate())},h:function(i){return i.getHours()%12?i.getHours()%12:12},i:function(i){return Xe(i.getMinutes())},j:function(i){return i.getDate()},l:function(i,t){return t.weekdays.longhand[i.getDay()]},m:function(i){return Xe(i.getMonth()+1)},n:function(i){return i.getMonth()+1},s:function(i){return i.getSeconds()},u:function(i){return i.getTime()},w:function(i){return i.getDay()},y:function(i){return String(i.getFullYear()).substring(2)}};var ar=function(i){var t=i.config,e=t===void 0?Jt:t,n=i.l10n,s=n===void 0?ss:n,r=i.isMobile,o=r===void 0?!1:r;return function(l,d,u){var h=u||s;return e.formatDate!==void 0&&!o?e.formatDate(l,d,h):d.split("").map(function(f,x,g){return Pi[f]&&g[x-1]!=="\\"?Pi[f](l,h,e):f!=="\\"?f:""}).join("")}},as=function(i){var t=i.config,e=t===void 0?Jt:t,n=i.l10n,s=n===void 0?ss:n;return function(r,o,l,d){if(!(r!==0&&!r)){var u=d||s,h,f=r;if(r instanceof Date)h=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)h=new Date(r);else if(typeof r=="string"){var x=o||(e||Jt).dateFormat,g=String(r).trim();if(g==="today")h=new Date,l=!0;else if(e&&e.parseDate)h=e.parseDate(r,x);else if(/Z$/.test(g)||/GMT$/.test(g))h=new Date(r);else{for(var S=void 0,w=[],E=0,L=0,V="";E<x.length;E++){var j=x[E],B=j==="\\",H=x[E-1]==="\\"||B;if(Ot[j]&&!H){V+=Ot[j];var N=new RegExp(V).exec(r);N&&(S=!0)&&w[j!=="Y"?"push":"unshift"]({fn:Yo[j],val:N[++L]})}else B||(V+=".")}h=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(U){var G=U.fn,q=U.val;return h=G(h,q,u)||h}),h=S?h:void 0}}if(!(h instanceof Date&&!isNaN(h.getTime()))){e.errorHandler(new Error("Invalid date provided: "+f));return}return l===!0&&h.setHours(0,0,0,0),h}}};function nt(i,t,e){return e===void 0&&(e=!0),e!==!1?new Date(i.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):i.getTime()-t.getTime()}var qo=function(i,t,e){return i>Math.min(t,e)&&i<Math.max(t,e)},ls=function(i,t,e){return i*3600+t*60+e},Xo=function(i){var t=Math.floor(i/3600),e=(i-t*3600)/60;return[t,e,i-t*3600-e*60]},Qo={DAY:864e5};function cs(i){var t=i.defaultHour,e=i.defaultMinute,n=i.defaultSeconds;if(i.minDate!==void 0){var s=i.minDate.getHours(),r=i.minDate.getMinutes(),o=i.minDate.getSeconds();t<s&&(t=s),t===s&&e<r&&(e=r),t===s&&e===r&&n<o&&(n=i.minDate.getSeconds())}if(i.maxDate!==void 0){var l=i.maxDate.getHours(),d=i.maxDate.getMinutes();t=Math.min(t,l),t===l&&(e=Math.min(d,e)),t===l&&e===d&&(n=i.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!i)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(d){return i[d]=l[d]})},s=0,r=t;s<r.length;s++){var o=r[s];n(o)}return i});var Ke=function(){return Ke=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Ke.apply(this,arguments)},Ko=function(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;for(var n=Array(i),s=0,t=0;t<e;t++)for(var r=arguments[t],o=0,l=r.length;o<l;o++,s++)n[s]=r[o];return n},t0=300;function i0(i,t){var e={config:Ke(Ke({},Jt),Le.defaultConfig),l10n:rs};e.parseDate=as({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=w,e._setHoursFromDate=x,e._positionCalendar=An,e.changeMonth=Gt,e.changeYear=Mn,e.clear=$t,e.close=di,e.onMouseOver=En,e._createElement=de,e.createDay=N,e.destroy=It,e.isEnabled=ui,e.jumpToDate=V,e.updateValue=Pt,e.open=gc,e.redraw=Ao,e.set=bc,e.setDate=yc,e.toggle=Mc;function n(){e.utils={getDaysInMonth:function(b,C){return b===void 0&&(b=e.currentMonth),C===void 0&&(C=e.currentYear),b===1&&(C%4===0&&C%100!==0||C%400===0)?29:e.l10n.daysInMonth[b]}}}function s(){e.element=e.input=i,e.isOpen=!1,_c(),Eo(),Cc(),wc(),n(),e.isMobile||H(),L(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&x(e.config.noCalendar?e.latestSelectedDateObj:void 0),Pt(!1)),l();var b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&b&&An(),Se("onReady")}function r(){var b;return((b=e.calendarContainer)===null||b===void 0?void 0:b.getRootNode()).activeElement||document.activeElement}function o(b){return b.bind(e)}function l(){var b=e.config;b.weekNumbers===!1&&b.showMonths===1||b.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var C=(e.days.offsetWidth+1)*b.showMonths;e.daysContainer.style.width=C+"px",e.calendarContainer.style.width=C+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function d(b){if(e.selectedDates.length===0){var C=e.config.minDate===void 0||nt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),P=cs(e.config);C.setHours(P.hours,P.minutes,P.seconds,C.getMilliseconds()),e.selectedDates=[C],e.latestSelectedDateObj=C}b!==void 0&&b.type!=="blur"&&Ac(b);var F=e._input.value;f(),Pt(),e._input.value!==F&&e._debouncedChange()}function u(b,C){return b%12+12*tt(C===e.l10n.amPM[1])}function h(b){switch(b%24){case 0:case 12:return 12;default:return b%12}}function f(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var b=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,C=(parseInt(e.minuteElement.value,10)||0)%60,P=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(b=u(b,e.amPM.textContent));var F=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&nt(e.latestSelectedDateObj,e.config.minDate,!0)===0,$=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&nt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var Y=ls(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),ie=ls(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Q=ls(b,C,P);if(Q>ie&&Q<Y){var ne=Xo(Y);b=ne[0],C=ne[1],P=ne[2]}}else{if($){var X=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;b=Math.min(b,X.getHours()),b===X.getHours()&&(C=Math.min(C,X.getMinutes())),C===X.getMinutes()&&(P=Math.min(P,X.getSeconds()))}if(F){var K=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;b=Math.max(b,K.getHours()),b===K.getHours()&&C<K.getMinutes()&&(C=K.getMinutes()),C===K.getMinutes()&&(P=Math.max(P,K.getSeconds()))}}g(b,C,P)}}function x(b){var C=b||e.latestSelectedDateObj;C&&C instanceof Date&&g(C.getHours(),C.getMinutes(),C.getSeconds())}function g(b,C,P){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(b%24,C,P||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Xe(e.config.time_24hr?b:(12+b)%12+12*tt(b%12===0)),e.minuteElement.value=Xe(C),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[tt(b>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Xe(P)))}function S(b){var C=it(b),P=parseInt(C.value)+(b.delta||0);(P/1e3>1||b.key==="Enter"&&!/[^\d]/.test(P.toString()))&&Mn(P)}function w(b,C,P,F){if(C instanceof Array)return C.forEach(function($){return w(b,$,P,F)});if(b instanceof Array)return b.forEach(function($){return w($,C,P,F)});b.addEventListener(C,P,F),e._handlers.push({remove:function(){return b.removeEventListener(C,P,F)}})}function E(){Se("onChange")}function L(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(P){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+P+"]"),function(F){return w(F,"click",e[P])})}),e.isMobile){Sc();return}var b=sr(fc,50);if(e._debouncedChange=sr(E,t0),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(e.daysContainer,"mouseover",function(P){e.config.mode==="range"&&En(it(P))}),w(e._input,"keydown",So),e.calendarContainer!==void 0&&w(e.calendarContainer,"keydown",So),!e.config.inline&&!e.config.static&&w(window,"resize",b),window.ontouchstart!==void 0?w(window.document,"touchstart",ht):w(window.document,"mousedown",ht),w(window.document,"focus",ht,{capture:!0}),e.config.clickOpens===!0&&(w(e._input,"focus",e.open),w(e._input,"click",e.open)),e.daysContainer!==void 0&&(w(e.monthNav,"click",Ec),w(e.monthNav,["keyup","increment"],S),w(e.daysContainer,"click",Do)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var C=function(P){return it(P).select()};w(e.timeContainer,["increment"],d),w(e.timeContainer,"blur",d,{capture:!0}),w(e.timeContainer,"click",j),w([e.hourElement,e.minuteElement],["focus","click"],C),e.secondElement!==void 0&&w(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&w(e.amPM,"click",function(P){d(P)})}e.config.allowInput&&w(e._input,"blur",hc)}function V(b,C){var P=b!==void 0?e.parseDate(b):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),F=e.currentYear,$=e.currentMonth;try{P!==void 0&&(e.currentYear=P.getFullYear(),e.currentMonth=P.getMonth())}catch(Y){Y.message="Invalid date supplied: "+P,e.config.errorHandler(Y)}C&&e.currentYear!==F&&(Se("onYearChange"),we()),C&&(e.currentYear!==F||e.currentMonth!==$)&&Se("onMonthChange"),e.redraw()}function j(b){var C=it(b);~C.className.indexOf("arrow")&&B(b,C.classList.contains("arrowUp")?1:-1)}function B(b,C,P){var F=b&&it(b),$=P||F&&F.parentNode&&F.parentNode.firstChild,Y=Js("increment");Y.delta=C,$&&$.dispatchEvent(Y)}function H(){var b=window.document.createDocumentFragment();if(e.calendarContainer=de("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(b.appendChild(xe()),e.innerContainer=de("div","flatpickr-innerContainer"),e.config.weekNumbers){var C=Wt(),P=C.weekWrapper,F=C.weekNumbers;e.innerContainer.appendChild(P),e.weekNumbers=F,e.weekWrapper=P}e.rContainer=de("div","flatpickr-rContainer"),e.rContainer.appendChild(et()),e.daysContainer||(e.daysContainer=de("div","flatpickr-days"),e.daysContainer.tabIndex=-1),te(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),b.appendChild(e.innerContainer)}e.config.enableTime&&b.appendChild(Ce()),Qe(e.calendarContainer,"rangeMode",e.config.mode==="range"),Qe(e.calendarContainer,"animate",e.config.animate===!0),Qe(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(b);var $=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!$&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var Y=de("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(Y,e.element),Y.appendChild(e.element),e.altInput&&Y.appendChild(e.altInput),Y.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function N(b,C,P,F){var $=ui(C,!0),Y=de("span",b,C.getDate().toString());return Y.dateObj=C,Y.$i=F,Y.setAttribute("aria-label",e.formatDate(C,e.config.ariaDateFormat)),b.indexOf("hidden")===-1&&nt(C,e.now)===0&&(e.todayDateElem=Y,Y.classList.add("today"),Y.setAttribute("aria-current","date")),$?(Y.tabIndex=-1,Zs(C)&&(Y.classList.add("selected"),e.selectedDateElem=Y,e.config.mode==="range"&&(Qe(Y,"startRange",e.selectedDates[0]&&nt(C,e.selectedDates[0],!0)===0),Qe(Y,"endRange",e.selectedDates[1]&&nt(C,e.selectedDates[1],!0)===0),b==="nextMonthDay"&&Y.classList.add("inRange")))):Y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&kc(C)&&!Zs(C)&&Y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&b!=="prevMonthDay"&&F%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(C)+"</span>"),Se("onDayCreate",Y),Y}function U(b){b.focus(),e.config.mode==="range"&&En(b)}function G(b){for(var C=b>0?0:e.config.showMonths-1,P=b>0?e.config.showMonths:-1,F=C;F!=P;F+=b)for(var $=e.daysContainer.children[F],Y=b>0?0:$.children.length-1,ie=b>0?$.children.length:-1,Q=Y;Q!=ie;Q+=b){var ne=$.children[Q];if(ne.className.indexOf("hidden")===-1&&ui(ne.dateObj))return ne}}function q(b,C){for(var P=b.className.indexOf("Month")===-1?b.dateObj.getMonth():e.currentMonth,F=C>0?e.config.showMonths:-1,$=C>0?1:-1,Y=P-e.currentMonth;Y!=F;Y+=$)for(var ie=e.daysContainer.children[Y],Q=P-e.currentMonth===Y?b.$i+C:C<0?ie.children.length-1:0,ne=ie.children.length,X=Q;X>=0&&X<ne&&X!=(C>0?ne:-1);X+=$){var K=ie.children[X];if(K.className.indexOf("hidden")===-1&&ui(K.dateObj)&&Math.abs(b.$i-X)>=Math.abs(C))return U(K)}e.changeMonth($),J(G($),0)}function J(b,C){var P=r(),F=kn(P||document.body),$=b!==void 0?b:F?P:e.selectedDateElem!==void 0&&kn(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&kn(e.todayDateElem)?e.todayDateElem:G(C>0?1:-1);$===void 0?e._input.focus():F?q($,C):U($)}function ee(b,C){for(var P=(new Date(b,C,1).getDay()-e.l10n.firstDayOfWeek+7)%7,F=e.utils.getDaysInMonth((C-1+12)%12,b),$=e.utils.getDaysInMonth(C,b),Y=window.document.createDocumentFragment(),ie=e.config.showMonths>1,Q=ie?"prevMonthDay hidden":"prevMonthDay",ne=ie?"nextMonthDay hidden":"nextMonthDay",X=F+1-P,K=0;X<=F;X++,K++)Y.appendChild(N("flatpickr-day "+Q,new Date(b,C-1,X),X,K));for(X=1;X<=$;X++,K++)Y.appendChild(N("flatpickr-day",new Date(b,C,X),X,K));for(var ge=$+1;ge<=42-P&&(e.config.showMonths===1||K%7!==0);ge++,K++)Y.appendChild(N("flatpickr-day "+ne,new Date(b,C+1,ge%$),ge,K));var vt=de("div","dayContainer");return vt.appendChild(Y),vt}function te(){if(e.daysContainer!==void 0){en(e.daysContainer),e.weekNumbers&&en(e.weekNumbers);for(var b=document.createDocumentFragment(),C=0;C<e.config.showMonths;C++){var P=new Date(e.currentYear,e.currentMonth,1);P.setMonth(e.currentMonth+C),b.appendChild(ee(P.getFullYear(),P.getMonth()))}e.daysContainer.appendChild(b),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&En()}}function we(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var b=function(F){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&F<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&F>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var C=0;C<12;C++)if(b(C)){var P=de("option","flatpickr-monthDropdown-month");P.value=new Date(e.currentYear,C).getMonth().toString(),P.textContent=nn(C,e.config.shorthandCurrentMonth,e.l10n),P.tabIndex=-1,e.currentMonth===C&&(P.selected=!0),e.monthsDropdownContainer.appendChild(P)}}}function Ze(){var b=de("div","flatpickr-month"),C=window.document.createDocumentFragment(),P;e.config.showMonths>1||e.config.monthSelectorType==="static"?P=de("span","cur-month"):(e.monthsDropdownContainer=de("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),w(e.monthsDropdownContainer,"change",function(ie){var Q=it(ie),ne=parseInt(Q.value,10);e.changeMonth(ne-e.currentMonth),Se("onMonthChange")}),we(),P=e.monthsDropdownContainer);var F=tn("cur-year",{tabindex:"-1"}),$=F.getElementsByTagName("input")[0];$.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&$.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&($.setAttribute("max",e.config.maxDate.getFullYear().toString()),$.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var Y=de("div","flatpickr-current-month");return Y.appendChild(P),Y.appendChild(F),C.appendChild(Y),b.appendChild(C),{container:b,yearElement:$,monthElement:P}}function ue(){en(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var b=e.config.showMonths;b--;){var C=Ze();e.yearElements.push(C.yearElement),e.monthElements.push(C.monthElement),e.monthNav.appendChild(C.container)}e.monthNav.appendChild(e.nextMonthNav)}function xe(){return e.monthNav=de("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=de("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=de("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,ue(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(b){e.__hidePrevMonthArrow!==b&&(Qe(e.prevMonthNav,"flatpickr-disabled",b),e.__hidePrevMonthArrow=b)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(b){e.__hideNextMonthArrow!==b&&(Qe(e.nextMonthNav,"flatpickr-disabled",b),e.__hideNextMonthArrow=b)}}),e.currentYearElement=e.yearElements[0],Tn(),e.monthNav}function Ce(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var b=cs(e.config);e.timeContainer=de("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var C=de("span","flatpickr-time-separator",":"),P=tn("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=P.getElementsByTagName("input")[0];var F=tn("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=F.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?b.hours:h(b.hours)),e.minuteElement.value=Xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():b.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(P),e.timeContainer.appendChild(C),e.timeContainer.appendChild(F),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var $=tn("flatpickr-second");e.secondElement=$.getElementsByTagName("input")[0],e.secondElement.value=Xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():b.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(de("span","flatpickr-time-separator",":")),e.timeContainer.appendChild($)}return e.config.time_24hr||(e.amPM=de("span","flatpickr-am-pm",e.l10n.amPM[tt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function et(){e.weekdayContainer?en(e.weekdayContainer):e.weekdayContainer=de("div","flatpickr-weekdays");for(var b=e.config.showMonths;b--;){var C=de("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(C)}return Fe(),e.weekdayContainer}function Fe(){if(e.weekdayContainer){var b=e.l10n.firstDayOfWeek,C=Ko(e.l10n.weekdays.shorthand);b>0&&b<C.length&&(C=Ko(C.splice(b,C.length),C.splice(0,b)));for(var P=e.config.showMonths;P--;)e.weekdayContainer.children[P].innerHTML=`
      <span class='flatpickr-weekday'>
        `+C.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Wt(){e.calendarContainer.classList.add("hasWeeks");var b=de("div","flatpickr-weekwrapper");b.appendChild(de("span","flatpickr-weekday",e.l10n.weekAbbreviation));var C=de("div","flatpickr-weeks");return b.appendChild(C),{weekWrapper:b,weekNumbers:C}}function Gt(b,C){C===void 0&&(C=!0);var P=C?b:b-e.currentMonth;P<0&&e._hidePrevMonthArrow===!0||P>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=P,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Se("onYearChange"),we()),te(),Se("onMonthChange"),Tn())}function $t(b,C){if(b===void 0&&(b=!0),C===void 0&&(C=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,C===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var P=cs(e.config),F=P.hours,$=P.minutes,Y=P.seconds;g(F,$,Y)}e.redraw(),b&&Se("onChange")}function di(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Se("onClose")}function It(){e.config!==void 0&&Se("onDestroy");for(var b=e._handlers.length;b--;)e._handlers[b].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var C=e.calendarContainer.parentNode;if(C.lastChild&&C.removeChild(C.lastChild),C.parentNode){for(;C.firstChild;)C.parentNode.insertBefore(C.firstChild,C);C.parentNode.removeChild(C)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(P){try{delete e[P]}catch{}})}function pt(b){return e.calendarContainer.contains(b)}function ht(b){if(e.isOpen&&!e.config.inline){var C=it(b),P=pt(C),F=C===e.input||C===e.altInput||e.element.contains(C)||b.path&&b.path.indexOf&&(~b.path.indexOf(e.input)||~b.path.indexOf(e.altInput)),$=!F&&!P&&!pt(b.relatedTarget),Y=!e.config.ignoredFocusElements.some(function(ie){return ie.contains(C)});$&&Y&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&d(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Mn(b){if(!(!b||e.config.minDate&&b<e.config.minDate.getFullYear()||e.config.maxDate&&b>e.config.maxDate.getFullYear())){var C=b,P=e.currentYear!==C;e.currentYear=C||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),P&&(e.redraw(),Se("onYearChange"),we())}}function ui(b,C){var P;C===void 0&&(C=!0);var F=e.parseDate(b,void 0,C);if(e.config.minDate&&F&&nt(F,e.config.minDate,C!==void 0?C:!e.minDateHasTime)<0||e.config.maxDate&&F&&nt(F,e.config.maxDate,C!==void 0?C:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(F===void 0)return!1;for(var $=!!e.config.enable,Y=(P=e.config.enable)!==null&&P!==void 0?P:e.config.disable,ie=0,Q=void 0;ie<Y.length;ie++){if(Q=Y[ie],typeof Q=="function"&&Q(F))return $;if(Q instanceof Date&&F!==void 0&&Q.getTime()===F.getTime())return $;if(typeof Q=="string"){var ne=e.parseDate(Q,void 0,!0);return ne&&ne.getTime()===F.getTime()?$:!$}else if(typeof Q=="object"&&F!==void 0&&Q.from&&Q.to&&F.getTime()>=Q.from.getTime()&&F.getTime()<=Q.to.getTime())return $}return!$}function kn(b){return e.daysContainer!==void 0?b.className.indexOf("hidden")===-1&&b.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(b):!1}function hc(b){var C=b.target===e._input,P=e._input.value.trimEnd()!==er();C&&P&&!(b.relatedTarget&&pt(b.relatedTarget))&&e.setDate(e._input.value,!0,b.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function So(b){var C=it(b),P=e.config.wrap?i.contains(C):C===e._input,F=e.config.allowInput,$=e.isOpen&&(!F||!P),Y=e.config.inline&&P&&!F;if(b.keyCode===13&&P){if(F)return e.setDate(e._input.value,!0,C===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),C.blur();e.open()}else if(pt(C)||$||Y){var ie=!!e.timeContainer&&e.timeContainer.contains(C);switch(b.keyCode){case 13:ie?(b.preventDefault(),d(),Ks()):Do(b);break;case 27:b.preventDefault(),Ks();break;case 8:case 46:P&&!e.config.allowInput&&(b.preventDefault(),e.clear());break;case 37:case 39:if(!ie&&!P){b.preventDefault();var Q=r();if(e.daysContainer!==void 0&&(F===!1||Q&&kn(Q))){var ne=b.keyCode===39?1:-1;b.ctrlKey?(b.stopPropagation(),Gt(ne),J(G(1),0)):J(void 0,ne)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:b.preventDefault();var X=b.keyCode===40?1:-1;e.daysContainer&&C.$i!==void 0||C===e.input||C===e.altInput?b.ctrlKey?(b.stopPropagation(),Mn(e.currentYear-X),J(G(1),0)):ie||J(void 0,X*7):C===e.currentYearElement?Mn(e.currentYear-X):e.config.enableTime&&(!ie&&e.hourElement&&e.hourElement.focus(),d(b),e._debouncedChange());break;case 9:if(ie){var K=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(at){return at}),ge=K.indexOf(C);if(ge!==-1){var vt=K[ge+(b.shiftKey?-1:1)];b.preventDefault(),(vt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(C)&&b.shiftKey&&(b.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&C===e.amPM)switch(b.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],f(),Pt();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],f(),Pt();break}(P||pt(C))&&Se("onKeyDown",b)}function En(b,C){if(C===void 0&&(C="flatpickr-day"),!(e.selectedDates.length!==1||b&&(!b.classList.contains(C)||b.classList.contains("flatpickr-disabled")))){for(var P=b?b.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),F=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),$=Math.min(P,e.selectedDates[0].getTime()),Y=Math.max(P,e.selectedDates[0].getTime()),ie=!1,Q=0,ne=0,X=$;X<Y;X+=Qo.DAY)ui(new Date(X),!0)||(ie=ie||X>$&&X<Y,X<F&&(!Q||X>Q)?Q=X:X>F&&(!ne||X<ne)&&(ne=X));var K=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+C));K.forEach(function(ge){var vt=ge.dateObj,at=vt.getTime(),Ji=Q>0&&at<Q||ne>0&&at>ne;if(Ji){ge.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(yi){ge.classList.remove(yi)});return}else if(ie&&!Ji)return;["startRange","inRange","endRange","notAllowed"].forEach(function(yi){ge.classList.remove(yi)}),b!==void 0&&(b.classList.add(P<=e.selectedDates[0].getTime()?"startRange":"endRange"),F<P&&at===F?ge.classList.add("startRange"):F>P&&at===F&&ge.classList.add("endRange"),at>=Q&&(ne===0||at<=ne)&&qo(at,F,P)&&ge.classList.add("inRange"))})}}function fc(){e.isOpen&&!e.config.static&&!e.config.inline&&An()}function gc(b,C){if(C===void 0&&(C=e._positionElement),e.isMobile===!0){if(b){b.preventDefault();var P=it(b);P&&P.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Se("onOpen");return}else if(e._input.disabled||e.config.inline)return;var F=e.isOpen;e.isOpen=!0,F||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Se("onOpen"),An(C)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(b===void 0||!e.timeContainer.contains(b.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Mo(b){return function(C){var P=e.config["_"+b+"Date"]=e.parseDate(C,e.config.dateFormat),F=e.config["_"+(b==="min"?"max":"min")+"Date"];P!==void 0&&(e[b==="min"?"minDateHasTime":"maxDateHasTime"]=P.getHours()>0||P.getMinutes()>0||P.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function($){return ui($)}),!e.selectedDates.length&&b==="min"&&x(P),Pt()),e.daysContainer&&(Ao(),P!==void 0?e.currentYearElement[b]=P.getFullYear().toString():e.currentYearElement.removeAttribute(b),e.currentYearElement.disabled=!!F&&P!==void 0&&F.getFullYear()===P.getFullYear())}}function _c(){var b=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],C=Ke(Ke({},JSON.parse(JSON.stringify(i.dataset||{}))),t),P={};e.config.parseDate=C.parseDate,e.config.formatDate=C.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(K){e.config._enable=Io(K)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(K){e.config._disable=Io(K)}});var F=C.mode==="time";if(!C.dateFormat&&(C.enableTime||F)){var $=Le.defaultConfig.dateFormat||Jt.dateFormat;P.dateFormat=C.noCalendar||F?"H:i"+(C.enableSeconds?":S":""):$+" H:i"+(C.enableSeconds?":S":"")}if(C.altInput&&(C.enableTime||F)&&!C.altFormat){var Y=Le.defaultConfig.altFormat||Jt.altFormat;P.altFormat=C.noCalendar||F?"h:i"+(C.enableSeconds?":S K":" K"):Y+(" h:i"+(C.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Mo("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Mo("max")});var ie=function(K){return function(ge){e.config[K==="min"?"_minTime":"_maxTime"]=e.parseDate(ge,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:ie("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:ie("max")}),C.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,P,C);for(var Q=0;Q<b.length;Q++)e.config[b[Q]]=e.config[b[Q]]===!0||e.config[b[Q]]==="true";ns.filter(function(K){return e.config[K]!==void 0}).forEach(function(K){e.config[K]=os(e.config[K]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Q=0;Q<e.config.plugins.length;Q++){var ne=e.config.plugins[Q](e)||{};for(var X in ne)ns.indexOf(X)>-1?e.config[X]=os(ne[X]).map(o).concat(e.config[X]):typeof C[X]>"u"&&(e.config[X]=ne[X])}C.altInputClass||(e.config.altInputClass=ko().className+" "+e.config.altInputClass),Se("onParseConfig")}function ko(){return e.config.wrap?i.querySelector("[data-input]"):i}function Eo(){typeof e.config.locale!="object"&&typeof Le.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=Ke(Ke({},Le.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Le.l10ns[e.config.locale]:void 0),Ot.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ot.l="("+e.l10n.weekdays.longhand.join("|")+")",Ot.M="("+e.l10n.months.shorthand.join("|")+")",Ot.F="("+e.l10n.months.longhand.join("|")+")",Ot.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var b=Ke(Ke({},t),JSON.parse(JSON.stringify(i.dataset||{})));b.time_24hr===void 0&&Le.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=ar(e),e.parseDate=as({config:e.config,l10n:e.l10n})}function An(b){if(typeof e.config.position=="function")return void e.config.position(e,b);if(e.calendarContainer!==void 0){Se("onPreCalendarPosition");var C=b||e._positionElement,P=Array.prototype.reduce.call(e.calendarContainer.children,function(Fc,Rc){return Fc+Rc.offsetHeight},0),F=e.calendarContainer.offsetWidth,$=e.config.position.split(" "),Y=$[0],ie=$.length>1?$[1]:null,Q=C.getBoundingClientRect(),ne=window.innerHeight-Q.bottom,X=Y==="above"||Y!=="below"&&ne<P&&Q.top>P,K=window.pageYOffset+Q.top+(X?-P-2:C.offsetHeight+2);if(Qe(e.calendarContainer,"arrowTop",!X),Qe(e.calendarContainer,"arrowBottom",X),!e.config.inline){var ge=window.pageXOffset+Q.left,vt=!1,at=!1;ie==="center"?(ge-=(F-Q.width)/2,vt=!0):ie==="right"&&(ge-=F-Q.width,at=!0),Qe(e.calendarContainer,"arrowLeft",!vt&&!at),Qe(e.calendarContainer,"arrowCenter",vt),Qe(e.calendarContainer,"arrowRight",at);var Ji=window.document.body.offsetWidth-(window.pageXOffset+Q.right),yi=ge+F>window.document.body.offsetWidth,Dc=Ji+F>window.document.body.offsetWidth;if(Qe(e.calendarContainer,"rightMost",yi),!e.config.static)if(e.calendarContainer.style.top=K+"px",!yi)e.calendarContainer.style.left=ge+"px",e.calendarContainer.style.right="auto";else if(!Dc)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Ji+"px";else{var tr=xc();if(tr===void 0)return;var Tc=window.document.body.offsetWidth,Ic=Math.max(0,Tc/2-F/2),Pc=".flatpickr-calendar.centerMost:before",Vc=".flatpickr-calendar.centerMost:after",Lc=tr.cssRules.length,Oc="{left:"+Q.left+"px;right:auto;}";Qe(e.calendarContainer,"rightMost",!1),Qe(e.calendarContainer,"centerMost",!0),tr.insertRule(Pc+","+Vc+Oc,Lc),e.calendarContainer.style.left=Ic+"px",e.calendarContainer.style.right="auto"}}}}function xc(){for(var b=null,C=0;C<document.styleSheets.length;C++){var P=document.styleSheets[C];if(P.cssRules){try{P.cssRules}catch{continue}b=P;break}}return b??vc()}function vc(){var b=document.createElement("style");return document.head.appendChild(b),b.sheet}function Ao(){e.config.noCalendar||e.isMobile||(we(),Tn(),te())}function Ks(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Do(b){b.preventDefault(),b.stopPropagation();var C=function(K){return K.classList&&K.classList.contains("flatpickr-day")&&!K.classList.contains("flatpickr-disabled")&&!K.classList.contains("notAllowed")},P=rr(it(b),C);if(P!==void 0){var F=P,$=e.latestSelectedDateObj=new Date(F.dateObj.getTime()),Y=($.getMonth()<e.currentMonth||$.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=F,e.config.mode==="single")e.selectedDates=[$];else if(e.config.mode==="multiple"){var ie=Zs($);ie?e.selectedDates.splice(parseInt(ie),1):e.selectedDates.push($)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=$,e.selectedDates.push($),nt($,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(K,ge){return K.getTime()-ge.getTime()}));if(f(),Y){var Q=e.currentYear!==$.getFullYear();e.currentYear=$.getFullYear(),e.currentMonth=$.getMonth(),Q&&(Se("onYearChange"),we()),Se("onMonthChange")}if(Tn(),te(),Pt(),!Y&&e.config.mode!=="range"&&e.config.showMonths===1?U(F):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var ne=e.config.mode==="single"&&!e.config.enableTime,X=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(ne||X)&&Ks()}E()}}var Dn={locale:[Eo,Fe],showMonths:[ue,l,et],minDate:[V],maxDate:[V],positionElement:[Po],clickOpens:[function(){e.config.clickOpens===!0?(w(e._input,"focus",e.open),w(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function bc(b,C){if(b!==null&&typeof b=="object"){Object.assign(e.config,b);for(var P in b)Dn[P]!==void 0&&Dn[P].forEach(function(F){return F()})}else e.config[b]=C,Dn[b]!==void 0?Dn[b].forEach(function(F){return F()}):ns.indexOf(b)>-1&&(e.config[b]=os(C));e.redraw(),Pt(!0)}function To(b,C){var P=[];if(b instanceof Array)P=b.map(function(F){return e.parseDate(F,C)});else if(b instanceof Date||typeof b=="number")P=[e.parseDate(b,C)];else if(typeof b=="string")switch(e.config.mode){case"single":case"time":P=[e.parseDate(b,C)];break;case"multiple":P=b.split(e.config.conjunction).map(function(F){return e.parseDate(F,C)});break;case"range":P=b.split(e.l10n.rangeSeparator).map(function(F){return e.parseDate(F,C)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(b)));e.selectedDates=e.config.allowInvalidPreload?P:P.filter(function(F){return F instanceof Date&&ui(F,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(F,$){return F.getTime()-$.getTime()})}function yc(b,C,P){if(C===void 0&&(C=!1),P===void 0&&(P=e.config.dateFormat),b!==0&&!b||b instanceof Array&&b.length===0)return e.clear(C);To(b,P),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),V(void 0,C),x(),e.selectedDates.length===0&&e.clear(!1),Pt(C),C&&Se("onChange")}function Io(b){return b.slice().map(function(C){return typeof C=="string"||typeof C=="number"||C instanceof Date?e.parseDate(C,void 0,!0):C&&typeof C=="object"&&C.from&&C.to?{from:e.parseDate(C.from,void 0),to:e.parseDate(C.to,void 0)}:C}).filter(function(C){return C})}function wc(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var b=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);b&&To(b,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Cc(){if(e.input=ko(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=de(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Po()}function Po(){e._positionElement=e.config.positionElement||e._input}function Sc(){var b=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=de("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=b,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=b==="datetime-local"?"Y-m-d\\TH:i:S":b==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}w(e.mobileInput,"change",function(C){e.setDate(it(C).value,!1,e.mobileFormatStr),Se("onChange"),Se("onClose")})}function Mc(b){if(e.isOpen===!0)return e.close();e.open(b)}function Se(b,C){if(e.config!==void 0){var P=e.config[b];if(P!==void 0&&P.length>0)for(var F=0;P[F]&&F<P.length;F++)P[F](e.selectedDates,e.input.value,e,C);b==="onChange"&&(e.input.dispatchEvent(Js("change")),e.input.dispatchEvent(Js("input")))}}function Js(b){var C=document.createEvent("Event");return C.initEvent(b,!0,!0),C}function Zs(b){for(var C=0;C<e.selectedDates.length;C++){var P=e.selectedDates[C];if(P instanceof Date&&nt(P,b)===0)return""+C}return!1}function kc(b){return e.config.mode!=="range"||e.selectedDates.length<2?!1:nt(b,e.selectedDates[0])>=0&&nt(b,e.selectedDates[1])<=0}function Tn(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(b,C){var P=new Date(e.currentYear,e.currentMonth,1);P.setMonth(e.currentMonth+C),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[C].textContent=nn(P.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=P.getMonth().toString(),b.value=P.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function er(b){var C=b||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(P){return e.formatDate(P,C)}).filter(function(P,F,$){return e.config.mode!=="range"||e.config.enableTime||$.indexOf(P)===F}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Pt(b){b===void 0&&(b=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=er(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=er(e.config.altFormat)),b!==!1&&Se("onValueUpdate")}function Ec(b){var C=it(b),P=e.prevMonthNav.contains(C),F=e.nextMonthNav.contains(C);P||F?Gt(P?-1:1):e.yearElements.indexOf(C)>=0?C.select():C.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):C.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Ac(b){b.preventDefault();var C=b.type==="keydown",P=it(b),F=P;e.amPM!==void 0&&P===e.amPM&&(e.amPM.textContent=e.l10n.amPM[tt(e.amPM.textContent===e.l10n.amPM[0])]);var $=parseFloat(F.getAttribute("min")),Y=parseFloat(F.getAttribute("max")),ie=parseFloat(F.getAttribute("step")),Q=parseInt(F.value,10),ne=b.delta||(C?b.which===38?1:-1:0),X=Q+ie*ne;if(typeof F.value<"u"&&F.value.length===2){var K=F===e.hourElement,ge=F===e.minuteElement;X<$?(X=Y+X+tt(!K)+(tt(K)&&tt(!e.amPM)),ge&&B(void 0,-1,e.hourElement)):X>Y&&(X=F===e.hourElement?X-Y-tt(!e.amPM):$,ge&&B(void 0,1,e.hourElement)),e.amPM&&K&&(ie===1?X+Q===23:Math.abs(X-Q)>ie)&&(e.amPM.textContent=e.l10n.amPM[tt(e.amPM.textContent===e.l10n.amPM[0])]),F.value=Xe(X)}}return s(),e}function Vi(i,t){for(var e=Array.prototype.slice.call(i).filter(function(o){return o instanceof HTMLElement}),n=[],s=0;s<e.length;s++){var r=e[s];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=i0(r,t||{}),n.push(r._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(i){return Vi(this,i)},HTMLElement.prototype.flatpickr=function(i){return Vi([this],i)});var Le=function(i,t){return typeof i=="string"?Vi(window.document.querySelectorAll(i),t):i instanceof Node?Vi([i],t):Vi(i,t)};Le.defaultConfig={};Le.l10ns={en:Ke({},rs),default:Ke({},rs)};Le.localize=function(i){Le.l10ns.default=Ke(Ke({},Le.l10ns.default),i)};Le.setDefaults=function(i){Le.defaultConfig=Ke(Ke({},Le.defaultConfig),i)};Le.parseDate=as({});Le.formatDate=ar({});Le.compareDates=nt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(i){return Vi(this,i)});Date.prototype.fp_incr=function(i){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof i=="string"?parseInt(i,10):i))};typeof window<"u"&&(window.flatpickr=Le);var Zt=Le;var n0=["fileInput"],s0=["dateInput"];function r0(i,t){i&1&&(a(0,"div",106)(1,"div",85),D(),a(2,"svg",19),y(3,"path",88),c(),T(),a(4,"div")(5,"p",107),m(6,"Duplicating Asset"),c(),a(7,"p",108),m(8,"Most fields have been pre-filled. Please enter a new serial number and review all information before saving."),c()()()())}function o0(i,t){if(i&1&&(a(0,"div",109),D(),a(1,"svg",110),y(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.nameError," ")}}function a0(i,t){i&1&&(a(0,"span",84),m(1,"Select parent asset"),c())}function l0(i,t){if(i&1&&(a(0,"span",112),m(1),c()),i&2){let e=_();p(),De(" ",e.getSelectedParent().name," (",e.getSelectedParent().asset_id,") ")}}function c0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return r.parent_id=s.id,k(r.showParentDropdown=!1)}),a(1,"div",28)(2,"div",118),D(),a(3,"svg",119),y(4,"path",54),c()(),T(),a(5,"div")(6,"div",120),m(7),c(),a(8,"div",121),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",n.parent_id===e.id),p(7),O(e.name),p(2),O(e.asset_id)}}function d0(i,t){if(i&1){let e=R();a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select parent asset"),c(),a(4,"button",116),A("click",function(){M(e);let s=_();return s.parent_id=null,k(s.showParentDropdown=!1)}),m(5," -- None -- "),c(),I(6,c0,10,4,"button",117),c()()}if(i&2){let e=_();p(4),z("bg-blue-50",!e.parent_id),p(2),v("ngForOf",e.possibleParents)}}function u0(i,t){i&1&&(a(0,"span",84),m(1,"Select asset type"),c())}function m0(i,t){if(i&1){let e=R();a(0,"img",125),A("error",function(s){M(e);let r=_(2);return k(r.onAssetTypeIconError(s,r.selectedAssetType))}),c()}if(i&2){let e=_(2);v("src",e.selectedAssetType.icon,Me)("alt",e.selectedAssetType.name||e.selectedAssetType.label)}}function p0(i,t){if(i&1&&(D(),a(0,"svg",126),y(1,"path",127),c()),i&2){let e=_(2);Ee("color",e.selectedAssetType.color)}}function h0(i,t){if(i&1&&(a(0,"div",28)(1,"div",122),I(2,m0,1,2,"img",123)(3,p0,2,2,"svg",124),c(),a(4,"span",112),m(5),c()()),i&2){let e=_();p(),Ee("background-color",e.selectedAssetType.color+"20"),p(),v("ngIf",e.selectedAssetType.icon&&!e.selectedAssetType.iconError),p(),v("ngIf",!e.selectedAssetType.icon||e.selectedAssetType.iconError),p(2),O(e.selectedAssetType.label)}}function f0(i,t){if(i&1){let e=R();a(0,"img",133),A("error",function(s){M(e);let r=_().$implicit,o=_(2);return k(o.onAssetTypeIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Me)("alt",e.name||e.label)}}function g0(i,t){i&1&&(D(),a(0,"svg",19),y(1,"path",127),c())}function _0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.selectAssetType(s))}),a(1,"div",28)(2,"div",129),I(3,f0,1,2,"img",130)(4,g0,2,0,"svg",131),c(),a(5,"div")(6,"div",120),m(7),c(),a(8,"div",132),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)("text-blue-700",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id),p(3),v("ngIf",e.icon&&!e.iconError),p(),v("ngIf",!e.icon||e.iconError),p(3),O(e.label||e.name),p(2),O(e.description)}}function x0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select asset type"),c(),I(4,_0,10,8,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.assetTypes)}}function v0(i,t){if(i&1&&(a(0,"div",109),D(),a(1,"svg",110),y(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.assetTypeError," ")}}function b0(i,t){i&1&&(a(0,"span",84),m(1,"Select category"),c())}function y0(i,t){if(i&1&&(a(0,"span",112),m(1),c()),i&2){let e=_();p(),O(e.selectedCategory.name)}}function w0(i,t){if(i&1){let e=R();a(0,"img",133),A("error",function(s){M(e);let r=_().$implicit,o=_(2);return k(o.onCategoryIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Me)("alt",e.name)}}function C0(i,t){i&1&&(D(),a(0,"svg",119),y(1,"path",54),c())}function S0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),O(e.description)}}function M0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.selectCategory(s))}),a(1,"div",28)(2,"div",118),I(3,w0,1,2,"img",130)(4,C0,2,0,"svg",134),c(),a(5,"div")(6,"div",120),m(7),c(),I(8,S0,2,1,"div",86),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)("text-blue-700",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(3),v("ngIf",e.icon),p(),v("ngIf",!e.icon||e.iconError),p(3),O(e.name),p(),v("ngIf",e.description)}}function k0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select category"),c(),I(4,M0,9,8,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.categories)}}function E0(i,t){if(i&1&&(a(0,"div",109),D(),a(1,"svg",110),y(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.categoryError," ")}}function A0(i,t){if(i&1&&(a(0,"div",109),D(),a(1,"svg",110),y(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.serialNumberError," ")}}function D0(i,t){i&1&&(a(0,"span",84),m(1,"Select location"),c())}function T0(i,t){if(i&1&&(a(0,"div",28)(1,"div",135),D(),a(2,"svg",136),y(3,"path",78)(4,"path",79),c()(),T(),a(5,"span",112),m(6),c()()),i&2){let e=_();p(6),O(e.selectedLocation.name)}}function I0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),O(e.type.name)}}function P0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.selectLocation(s))}),a(1,"div",28)(2,"div",137),D(),a(3,"svg",77),y(4,"path",78)(5,"path",79),c()(),T(),a(6,"div")(7,"div",120),m(8),c(),I(9,I0,2,1,"div",86),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id)("text-blue-700",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id),p(8),O(e.name),p(),v("ngIf",e.type)}}function V0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select location"),c(),I(4,P0,10,6,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.locations)}}function L0(i,t){i&1&&(a(0,"span",84),m(1,"Select department"),c())}function O0(i,t){if(i&1&&(a(0,"div",28)(1,"div",138),D(),a(2,"svg",139),y(3,"path",140),c()(),T(),a(4,"span",112),m(5),c()()),i&2){let e=_();p(5),O(e.selectedDepartment.name)}}function F0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),O(e.description)}}function R0(i,t){if(i&1&&(a(0,"div",143),m(1),c()),i&2){let e=_().$implicit;p(),W("Code: ",e.code,"")}}function H0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.selectDepartment(s))}),a(1,"div",28)(2,"div",141),D(),a(3,"svg",53),y(4,"path",140),c()(),T(),a(5,"div")(6,"div",120),m(7),c(),I(8,F0,2,1,"div",86)(9,R0,2,1,"div",142),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id)("text-blue-700",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id),p(7),O(e.name),p(),v("ngIf",e.description),p(),v("ngIf",e.code)}}function j0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select department"),c(),I(4,H0,10,7,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.departments)}}function N0(i,t){if(i&1&&(a(0,"div",28),y(1,"div",144),a(2,"span",112),m(3),c()()),i&2){let e=_();p(),Ee("background-color",e.selectedStatus.hexColor||"#6B7280"),p(2),O(e.selectedStatus.label)}}function B0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.selectStatus(s))}),a(1,"div",28)(2,"div"),y(3,"div",144),c(),a(4,"div")(5,"div",120),m(6),c(),a(7,"div",132),m(8),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value)("text-blue-700",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value),p(2),He("w-6 h-6 bg-"+e.color+"-100 rounded-lg flex items-center justify-center"),p(),Ee("background-color",e.hexColor||"#6B7280"),p(3),O(e.label),p(2),O(e.description)}}function z0(i,t){if(i&1&&(a(0,"div",145)(1,"div",114)(2,"div",115),m(3,"Select status"),c(),I(4,B0,9,10,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.statusOptions)}}function W0(i,t){if(i&1){let e=R();a(0,"span"),m(1),a(2,"button",149),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.removeTag(s))}),D(),a(3,"svg",150),y(4,"path",151),c()()()}if(i&2){let e=t.$implicit;He("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-"+e.color+"-100 text-"+e.color+"-800"),p(),W(" ",e.name," ")}}function G0(i,t){if(i&1&&(a(0,"div",146)(1,"div",147),I(2,W0,5,3,"span",148),c()()),i&2){let e=_();p(2),v("ngForOf",e.selectedTags)}}function $0(i,t){if(i&1&&(a(0,"span",132),m(1),c()),i&2){let e=_();p(),W(" ",e.selectedTags.length," selected ")}}function U0(i,t){i&1&&(a(0,"div",156),D(),a(1,"svg",126),y(2,"path",157),c()())}function Y0(i,t){if(i&1){let e=R();a(0,"button",116),A("click",function(){let s=M(e).$implicit,r=_(2);return k(r.toggleTag(s))}),a(1,"div",34)(2,"div",28)(3,"div"),y(4,"div"),c(),a(5,"span",120),m(6),c()(),I(7,U0,3,0,"div",155),c()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",n.isTagSelected(e)),p(3),He("w-6 h-6 bg-"+e.color+"-100 rounded-full flex items-center justify-center"),p(),He("w-3 h-3 rounded-full bg-"+e.color+"-500"),p(2),O(e.name),p(),v("ngIf",n.isTagSelected(e))}}function q0(i,t){if(i&1){let e=R();a(0,"div",113)(1,"div",114)(2,"div",152)(3,"div",67)(4,"input",153),ce("ngModelChange",function(s){M(e);let r=_();return le(r.newTagInput,s)||(r.newTagInput=s),k(s)}),A("keydown",function(s){M(e);let r=_();return k(r.onTagInputKeydown(s))})("click",function(s){return M(e),k(s.stopPropagation())}),c(),a(5,"div",154),m(6," Press Enter "),c()()(),a(7,"div",115),m(8,"Select tags"),c(),I(9,Y0,8,8,"button",117),c()()}if(i&2){let e=_();p(4),ae("ngModel",e.newTagInput),p(5),v("ngForOf",e.availableTags)}}function X0(i,t){if(i&1){let e=R();a(0,"button",177),A("click",function(){M(e);let s=_().index,r=_(2);return k(r.moveImageUp(s))}),D(),a(1,"svg",126),y(2,"path",178),c()()}}function Q0(i,t){if(i&1){let e=R();a(0,"button",177),A("click",function(){M(e);let s=_().index,r=_(2);return k(r.moveImageDown(s))}),D(),a(1,"svg",126),y(2,"path",38),c()()}}function K0(i,t){if(i&1){let e=R();a(0,"div",167)(1,"div",168)(2,"img",169),A("error",function(s){let r=M(e).index,o=_(2);return k(o.onImageError(s,r))})("load",function(s){let r=M(e).index,o=_(2);return k(o.onImageLoad(s,r))}),c(),a(3,"div",170)(4,"div",171),I(5,X0,3,0,"button",172)(6,Q0,3,0,"button",172),c()(),a(7,"button",173),A("click",function(){let s=M(e).index,r=_(2);return k(r.removeImage(s))}),D(),a(8,"svg",126),y(9,"path",151),c()(),T(),a(10,"div",174),m(11),c()(),a(12,"div",175)(13,"p",176),m(14),c(),a(15,"p",121),m(16),c()()()}if(i&2){let e,n=t.$implicit,s=t.index,r=_(2);p(2),v("src",n,Me)("alt","Asset Image "+(s+1)),p(3),v("ngIf",s>0),p(),v("ngIf",s<r.imagePreviewUrls.length-1),p(5),W(" ",s+1," "),p(3),O(r.images[s].name),p(2),W("",(((e=r.images[s].size)!==null&&e!==void 0?e:0)/1024/1024).toFixed(1)," MB")}}function J0(i,t){if(i&1){let e=R();a(0,"div",158)(1,"div",159)(2,"h4",160),m(3),c(),a(4,"button",161),A("click",function(){M(e);let s=_();return k(s.removeAllImages())}),m(5," Remove All "),c()(),a(6,"div",162),I(7,K0,17,7,"div",163),c(),a(8,"div",164)(9,"div",85),D(),a(10,"svg",165),y(11,"path",88),c(),T(),a(12,"p",166)(13,"strong"),m(14,"Gallery Tips:"),c(),m(15," Hover over images to reorder them. The first image will be the primary asset image. "),c()()()()}if(i&2){let e=_();p(3),W("Selected Images (",e.imagePreviewUrls.length,")"),p(4),v("ngForOf",e.imagePreviewUrls)}}function Z0(i,t){if(i&1&&(a(0,"div",179)(1,"div",85),D(),a(2,"svg",180),y(3,"path",111),c(),T(),a(4,"p",181),m(5),c()()()),i&2){let e=_();p(5),O(e.submitError)}}function eu(i,t){if(i&1&&(a(0,"div",182)(1,"div",85),D(),a(2,"svg",58),y(3,"path",157),c(),T(),a(4,"p",183),m(5),c()()()),i&2){let e=_();p(5),O(e.submitSuccess)}}function tu(i,t){i&1&&(a(0,"span",85),D(),a(1,"svg",184),y(2,"path",96),c(),T(),a(3,"span"),m(4,"Create Asset"),c()())}function iu(i,t){i&1&&(a(0,"span",85),D(),a(1,"svg",185),y(2,"circle",186)(3,"path",187),c(),T(),a(4,"span"),m(5,"Creating Asset..."),c()())}var ds=class i{constructor(t,e,n,s){this.assetService=t;this.router=e;this.route=n;this.http=s}dateInputs;fileInput;flatpickrInstances=[];name="";description="";serial_number="";model="";manufacturer="";purchase_date="";purchase_price=null;depreciation=null;depreciation_life=null;location_id=null;department_id=null;warranty="";insurance="";health_score=85;status=null;tags=[];images=[];imagePreviewUrls=[];meta={};isSubmitting=!1;isDragOver=!1;submitError="";submitSuccess="";submitFieldErrors={};locations=[];availableTags=[];departments=[];possibleParents=[];parent_id=null;showAssetTypeDropdown=!1;showCategoryDropdown=!1;showLocationDropdown=!1;showStatusDropdown=!1;showTagsDropdown=!1;showDepartmentDropdown=!1;showParentDropdown=!1;selectedAssetType=null;selectedCategory=null;selectedLocation=null;selectedStatus=null;selectedDepartment=null;selectedTags=[];newTagInput="";nameError="";assetTypeError="";categoryError="";serialNumberError="";address="";onFileChange(t){if(t.target.files&&t.target.files.length){let e=Array.from(t.target.files);this.processFiles(e),t.target.value=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=Array.from(e).filter(s=>s.type.startsWith("image/"));n.length>0&&this.processFiles(n)}}processFiles(t){let n=["image/jpeg","image/png","image/gif","image/webp"],s=[],r=[];for(let o of t){if(!n.includes(o.type)){console.warn("Invalid file type:",o.name);continue}if(o.size>10*1024*1024){console.warn("File too large:",o.name);continue}if(this.images.some(u=>u.name===o.name&&u.size===o.size)){console.warn("Duplicate file skipped:",o.name);continue}if(this.images.length+s.length>=10){console.warn("Max image count exceeded:",o.name);break}s.push(o);let d=new FileReader;d.onload=u=>{u.target?.result&&this.imagePreviewUrls.push(u.target.result)},d.onerror=u=>{console.error("Preview failed for:",o.name,u)},d.readAsDataURL(o)}this.images=[...this.images,...s]}onSubmit(){this.clearErrors(),this.validateForm()&&(this.isSubmitting=!0,this.submitError="",this.submitSuccess="",this.submitFieldErrors={},this.convertImagesToBase64().then(t=>{let e={name:this.name,description:this.description,category_id:this.category_id,type:this.assetType,serial_number:this.serial_number,model:this.model,manufacturer:this.manufacturer,purchase_date:this.purchase_date?this.convertDateToBackendFormat(this.purchase_date):null,purchase_price:this.purchase_price,depreciation:this.depreciation,depreciation_life:this.depreciation_life,location_id:this.location_id,department_id:this.department_id,parent_id:this.parent_id,warranty:this.warranty,insurance:this.insurance,health_score:this.health_score,status:this.status,tags:this.selectedTags.map(n=>n.name),meta:this.meta,images:t};this.assetService.createAsset(e).subscribe({next:n=>{this.isSubmitting=!1,n.success?(this.submitSuccess="Asset created successfully!",setTimeout(()=>{this.router.navigate(["/assets/list"])},2e3)):(this.submitError=n.message||"Failed to create asset.",this.handleFieldErrors(n.errors||{}))},error:n=>{this.isSubmitting=!1,this.submitError=n.error?.message||"Failed to create asset.",this.handleFieldErrors(n.error?.errors||n.errors||{})}})}).catch(t=>{this.isSubmitting=!1,this.submitError="Failed to process images. Please try again.",console.error("Image conversion error:",t)}))}healthScore=85;categories=[];category_id=null;assetTypes=[];assetType=null;assetTypesFromAPI=[];statusOptionsFromAPI=[];statusOptions=[{value:1,label:"Active",color:"green",description:"Asset is operational and in use",sort_order:1},{value:2,label:"Maintenance",color:"orange",description:"Asset is under maintenance or repair",sort_order:2},{value:3,label:"Inactive",color:"gray",description:"Asset is not currently in use",sort_order:3},{value:4,label:"Retired",color:"red",description:"Asset is retired and no longer in service",sort_order:4}];ngOnInit(){this.route.queryParams.subscribe(t=>{t.duplicate&&t.sourceId&&this.loadAssetForDuplication(t.sourceId)}),this.assetService.getAssetCategories().subscribe(t=>{t.success&&t.data?.categories&&(this.categories=t.data.categories)}),this.assetService.getAssetTypes().subscribe(t=>{t.success&&t.data&&(this.assetTypesFromAPI=t.data,this.assetTypes=this.assetTypesFromAPI.map(e=>({id:e.id,name:e.name,label:e.name,icon:e.icon,color:this.getColorForType(e.name),description:`${e.name} asset type`,iconError:!1})))}),this.assetService.getAssetStatuses().subscribe(t=>{t.success&&t.data&&(this.statusOptionsFromAPI=t.data,this.statusOptions=this.statusOptionsFromAPI.map(e=>({id:e.id,value:e.id,label:e.name,color:this.hexToTailwindColor(e.color),description:e.description||`Asset is ${e.name.toLowerCase()}`,hexColor:e.color,sort_order:e.sort_order})),this.statusOptions.sort((e,n)=>e.sort_order-n.sort_order),this.statusOptions.length>0&&(this.selectedStatus=this.statusOptions[0],this.status=this.selectedStatus.value))}),this.assetService.getLocations().subscribe(t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data)}),this.assetService.getDepartments().subscribe(t=>{t.success&&t.data&&(this.departments=t.data)}),this.assetService.getAssets({per_page:1e3}).subscribe(t=>{t.success&&t.data?.assets&&(this.possibleParents=t.data.assets)}),this.loadAvailableTags()}ngAfterViewInit(){setTimeout(()=>{this.initializeFlatpickr()},100)}ngOnDestroy(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()})}initializeFlatpickr(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs?(console.log("Found date inputs:",this.dateInputs.length),this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=t.nativeElement,s=n.getAttribute("name");if(console.log("Processing date input:",s),s==="purchase_date"){console.log("Initializing Flatpickr for purchase_date");let o=Zt(n,{dateFormat:"d M, Y",allowInput:!0,clickOpens:!0,maxDate:"today",onChange:(l,d)=>{console.log("Date selected:",d),this.purchase_date=d}});this.flatpickrInstances.push(o),console.log("Flatpickr initialized successfully for purchase_date")}}})):console.warn("No date inputs found")},50)}loadAvailableTags(){this.availableTags=[{id:1,name:"Critical",color:"red"},{id:2,name:"High Priority",color:"orange"},{id:3,name:"Equipment",color:"blue"},{id:4,name:"IT Hardware",color:"purple"},{id:5,name:"Furniture",color:"green"},{id:6,name:"Vehicle",color:"yellow"},{id:7,name:"Safety Equipment",color:"red"},{id:8,name:"Office Supplies",color:"gray"}]}loadAssetForDuplication(t){this.assetService.getAsset(t).subscribe({next:e=>{if(e.success){let n=e.data.asset||e.data;this.populateFormFromSource(n)}},error:e=>{console.error("Error loading source asset for duplication:",e)}})}populateFormFromSource(t){this.name=t.name?`${t.name} (Copy)`:"",this.description=t.description||"",this.model=t.model||"",this.manufacturer=t.manufacturer||"",this.purchase_date=t.purchase_date?this.convertBackendDateToDisplay(t.purchase_date):"",this.purchase_price=t.purchase_price||null,this.depreciation=t.depreciation||null,this.depreciation_life=t.depreciation_life||null,this.location_id=t.location_id||null,this.department_id=t.department_id||null,this.warranty=t.warranty?this.convertBackendDateToDisplay(t.warranty):"",this.insurance=t.insurance||"",this.health_score=t.health_score||85,this.status=t.status||"Active",setTimeout(()=>{t.type&&(this.selectedAssetType=this.assetTypes.find(e=>e.id==t.type||e.id===parseInt(t.type))||null,this.selectedAssetType&&(this.assetType=this.selectedAssetType.id)),t.category_id&&(this.selectedCategory=this.categories.find(e=>e.id===t.category_id)||null,this.category_id=t.category_id),t.location_id&&(this.selectedLocation=this.locations.find(e=>e.id===t.location_id)||null),t.department_id&&(this.selectedDepartment=this.departments.find(e=>e.id===t.department_id)||null),t.status&&(this.selectedStatus=this.statusOptions.find(e=>e.value===t.status||e.label===t.status||e.id===t.status)||null,this.selectedStatus&&(this.status=this.selectedStatus.value)),!this.selectedStatus&&this.statusOptions.length>0&&(this.selectedStatus=this.statusOptions[0],this.status=this.selectedStatus.value),t.tags&&Array.isArray(t.tags)&&(this.selectedTags=t.tags.map(e=>this.availableTags.find(n=>n.id===e.id)||e)),this.clearErrors()},500),this.serial_number="",t.images&&Array.isArray(t.images)&&t.images.length>0&&this.duplicateImages(t.images)}goBack(){this.router.navigate(["/assets/list"])}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showCategoryDropdown=!1,this.showLocationDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showAssetTypeDropdown=!1,this.showLocationDropdown=!1}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showStatusDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showTagsDropdown=!1}toggleTagsDropdown(){this.showTagsDropdown=!this.showTagsDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showDepartmentDropdown=!1}toggleDepartmentDropdown(){this.showDepartmentDropdown=!this.showDepartmentDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.assetType=t.id,this.showAssetTypeDropdown=!1,this.clearErrors()}selectCategory(t){this.selectedCategory=t,this.category_id=t.id,this.showCategoryDropdown=!1,this.clearErrors()}selectLocation(t){this.selectedLocation=t,this.location_id=t.id,this.showLocationDropdown=!1}selectStatus(t){this.selectedStatus=t,this.status=t.value,this.showStatusDropdown=!1}selectDepartment(t){this.selectedDepartment=t,this.department_id=t.id,this.showDepartmentDropdown=!1}toggleTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1?this.selectedTags.splice(e,1):this.selectedTags.push(t)}isTagSelected(t){return this.selectedTags.some(e=>e.id===t.id)}onTagInputKeydown(t){t.key==="Enter"&&(t.preventDefault(),this.createNewTag())}createNewTag(){let t=this.newTagInput.trim();if(t&&!this.selectedTags.some(e=>e.name.toLowerCase()===t.toLowerCase())){let e=["red","blue","green","yellow","purple","pink","indigo","gray"],n=e[Math.floor(Math.random()*e.length)],s={id:Date.now(),name:t,color:n,isNew:!0};this.selectedTags.push(s),this.newTagInput=""}}removeTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1&&this.selectedTags.splice(e,1)}onDocumentClick(t){this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}validateForm(){let t=!0;if(!this.name||this.name.trim().length===0?(this.nameError="Asset name is required",t=!1):this.name.trim().length>100&&(this.nameError="Asset name cannot exceed 100 characters",t=!1),this.description&&this.description.length>1e3&&(this.submitError="Description cannot exceed 1000 characters",t=!1),!this.serial_number||this.serial_number.trim().length===0?(this.serialNumberError="Serial number is required",t=!1):this.serial_number.length>100&&(this.serialNumberError="Serial number cannot exceed 100 characters",t=!1),this.model&&this.model.length>100&&(this.submitError="Model cannot exceed 100 characters",t=!1),this.manufacturer&&this.manufacturer.length>100&&(this.submitError="Manufacturer cannot exceed 100 characters",t=!1),this.warranty&&this.warranty.length>255&&(this.submitError="Warranty cannot exceed 255 characters",t=!1),this.insurance&&this.insurance.length>255&&(this.submitError="Insurance cannot exceed 255 characters",t=!1),this.purchase_price!==null&&this.purchase_price<0&&(this.submitError="Purchase price cannot be negative",t=!1),this.depreciation!==null&&(this.depreciation<0||this.depreciation>100)&&(this.submitError="Depreciation must be between 0 and 100",t=!1),this.depreciation_life!==null&&(this.depreciation_life<1||this.depreciation_life>100)&&(this.submitError="Depreciation life must be between 1 and 100 years",t=!1),this.purchase_date){let e=new Date;new Date(this.purchase_date)>e&&(this.submitError="Purchase date cannot be in the future",t=!1)}return(this.health_score<0||this.health_score>100)&&(this.submitError="Health score must be between 0 and 100",t=!1),this.category_id||(this.categoryError="Category is required",t=!1),this.assetType||(this.assetTypeError="Asset type is required",t=!1),t}clearErrors(){this.nameError="",this.assetTypeError="",this.categoryError="",this.serialNumberError="",this.submitError="",this.submitSuccess=""}handleFieldErrors(t){t.name&&(this.nameError=t.name[0]),t.type&&(this.assetTypeError=t.type[0]),t.category_id&&(this.categoryError=t.category_id[0]),t.serial_number&&(this.serialNumberError=t.serial_number[0])}isFormValid(){return!!(this.name&&this.name.trim().length>0&&this.name.trim().length<=100)}removeImage(t){this.images.splice(t,1),this.imagePreviewUrls.splice(t,1)}removeAllImages(){this.images=[],this.imagePreviewUrls=[]}moveImage(t,e){if(e>=0&&e<this.images.length){let n=this.images.splice(t,1)[0];this.images.splice(e,0,n);let s=this.imagePreviewUrls.splice(t,1)[0];this.imagePreviewUrls.splice(e,0,s)}}moveImageUp(t){t>0&&this.moveImage(t,t-1)}moveImageDown(t){t<this.images.length-1&&this.moveImage(t,t+1)}getTodayDate(){return new Date().toISOString().split("T")[0]}convertDateToBackendFormat(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${r}`}catch(e){return console.error("Date conversion error:",e),t}}convertBackendDateToDisplay(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("en-GB",n).replace(/,/g,",")}catch(e){return console.error("Date conversion error:",e),t}}getIconFromPath(t){return t&&(t.split("/").pop()||"").replace(".svg","")||"cube"}getColorForType(t){return{"Fixed Asset":"#2563eb","Semi-Fixed Asset":"#22c55e","Mobile Asset":"#f59e42","Fleet Asset":"#a855f7","IT Equipment":"#3b82f6",Furniture:"#10b981",Vehicle:"#f59e0b",Machinery:"#ef4444",Electronics:"#8b5cf6",Tools:"#f97316"}[t]||"#6b7280"}hexToTailwindColor(t){return{"#10B981":"green","#F59E0B":"orange","#9CA3AF":"gray","#EF4444":"red","#6B7280":"gray","#22C55E":"green","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange"}[t.toUpperCase()]||"gray"}onImageError(t,e){console.error("Image failed to load at index:",e),console.error("Image src:",t.target.src),console.error("Image file:",this.images[e]),t.target.style.display="none"}onImageLoad(t,e){console.log("Image loaded successfully at index:",e),console.log("Image dimensions:",t.target.naturalWidth,"x",t.target.naturalHeight)}convertImagesToBase64(){return Promise.all(this.images.map(t=>new Promise((e,n)=>{let s=new FileReader;s.onload=()=>{s.result?e(s.result):n(new Error("Failed to read file"))},s.onerror=()=>n(s.error),s.readAsDataURL(t)})))}onCategoryIconError(t,e){console.warn("Category icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}onAssetTypeIconError(t,e){console.warn("Asset type icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}triggerFileInput(){this.fileInput.nativeElement.click()}duplicateImages(t){t.forEach((e,n)=>{if(e.image_url){this.imagePreviewUrls.push(e.image_url);let s=`existing-image-${n+1}.jpg`,r=new File([""],s,{type:"image/jpeg"});this.images.push(r)}})}getSelectedParent(){return this.possibleParents.find(t=>t.id===this.parent_id)}static \u0275fac=function(e){return new(e||i)(he(dt),he(St),he(ki),he(jo))};static \u0275cmp=Te({type:i,selectors:[["app-asset-create"]],viewQuery:function(e,n){if(e&1&&(bt(n0,5),bt(s0,5)),e&2){let s;yt(s=wt())&&(n.fileInput=s.first),yt(s=wt())&&(n.dateInputs=s)}},hostBindings:function(e,n){e&1&&A("click",function(r){return n.onDocumentClick(r)},!1,Si)},decls:300,vars:118,consts:[["assetForm","ngForm"],["nameInput","ngModel"],["dateInput",""],["fileInput",""],[1,"min-h-screen","bg-gray-50","p-6"],[1,"asset-create-page"],[1,"mb-8"],[1,"flex","items-center","space-x-4","mb-4"],["type","button",1,"flex","items-center","space-x-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[3,"ngSubmit"],[1,"section-card"],[1,"flex","items-center","space-x-3","mb-6"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"section-title"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","placeholder","e.g., Main Server Room AC Unit","name","name","required","",1,"input",3,"ngModelChange","ngModel"],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","space-x-3"],["type","text","value","AST-012","readonly","",1,"input","flex-1"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"mb-6"],[1,"relative",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["rows","3","placeholder","Brief description of the asset and its purpose...","name","description","maxlength","500",1,"input","resize-none",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"relative","w-full","h-6","mb-3"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-2","bg-gray-200","rounded-lg"],[1,"absolute","top-1/2","transform","-translate-y-1/2","h-2","rounded-lg","transition-all","duration-300"],["type","range","min","0","max","100","name","health_score",1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-6","bg-transparent","appearance-none","cursor-pointer","slider-input",3,"ngModelChange","ngModel"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-4","h-4","rounded-full","border-2","border-white","shadow-md","pointer-events-none","transition-all","duration-300",2,"margin-left","-8px"],[1,"flex","justify-between","text-xs","text-gray-500","mt-2"],[1,"w-10","h-10","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","flex items-center space-x-3",4,"ngIf"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["type","text","placeholder","e.g., Dell, HP, Toyota","name","manufacturer","maxlength","100",1,"input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., PowerEdge R730","name","model","maxlength","100",1,"input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., SN123456789","name","serial_number","required","","maxlength","100",1,"input",3,"ngModelChange","ngModel"],[1,"w-10","h-10","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","placeholder","5,000.00","name","purchase_price","step","0.01","min","0",1,"input",2,"padding-left","24px",3,"ngModelChange","ngModel"],["type","text","name","purchase_date","placeholder","Select purchase date","readonly","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","depreciation","placeholder","e.g., 20","min","0","max","100","step","0.01",1,"input",3,"ngModelChange","ngModel"],["type","number","name","depreciation_life","placeholder","e.g., 5","min","1","max","100",1,"input",3,"ngModelChange","ngModel"],["type","text","name","warranty","placeholder","e.g., 2 years manufacturer warranty","maxlength","255",1,"input",3,"ngModelChange","ngModel"],["type","text","name","insurance","placeholder","e.g., Policy #12345, expires 2025-12-31","maxlength","255",1,"input",3,"ngModelChange","ngModel"],[1,"w-10","h-10","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"col-span-1","md:col-span-2"],["type","text","placeholder","Enter asset address","name","address","autocomplete","off",1,"input","w-full",3,"ngModelChange","ngModel"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["class","text-sm text-gray-500",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","bg-pink-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-pink-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mt-1","flex","justify-center","px-6","pt-8","pb-8","border-2","border-dashed","rounded-lg","transition-all","duration-200",3,"click","dragover","dragleave","drop"],[1,"space-y-1","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-lg","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","transition-colors"],["id","file-upload","name","file-upload","type","file","accept","image/*","multiple","",1,"sr-only",3,"change"],["class","mt-6",4,"ngIf"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-between","pt-6","border-t","border-gray-200"],["type","button",1,"px-6","py-3","border","border-gray-300","rounded-lg","text-gray-700","font-medium","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["type","submit",1,"px-8","py-3","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm",3,"disabled"],["class","flex items-center space-x-2",4,"ngIf"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-blue-800","font-medium"],[1,"text-blue-700","text-sm"],[1,"text-red-600","text-sm","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],[1,"px-3","py-2","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","bg-gray-50"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","bg-gray-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-6","h-6","rounded","flex","items-center","justify-center"],["class","w-4 h-4",3,"src","alt","error",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"color",4,"ngIf"],[1,"w-4","h-4",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","text-blue-700","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-blue-100"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"w-5","h-5",3,"error","src","alt"],["class","w-5 h-5 text-gray-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-6","h-6","bg-indigo-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-600"],[1,"w-8","h-8","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","bg-purple-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"w-8","h-8","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"mb-3"],[1,"flex","flex-wrap","gap-2"],[3,"class",4,"ngFor","ngForOf"],["type","button",1,"ml-2","inline-flex","items-center","justify-center","w-4","h-4","rounded-full","hover:bg-black","hover:bg-opacity-20","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-3","py-2","border-b","border-gray-100"],["type","text","name","newTagInput","placeholder","Type to create new tag...",1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","keydown","click","ngModel"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","text-xs","text-gray-400"],["class","text-blue-600",4,"ngIf"],[1,"text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-700"],["type","button",1,"text-red-600","hover:text-red-700","text-sm","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","relative group",4,"ngFor","ngForOf"],[1,"mt-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"text-blue-800","text-sm"],[1,"relative","group"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","border","border-gray-200","hover:border-blue-300","transition-colors"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","load","src","alt"],[1,"absolute","inset-0","bg-black","opacity-50","group-hover:bg-opacity-20","transition-all","duration-200","flex","items-center","justify-center"],[1,"opacity-0","group-hover:opacity-100","transition-opacity","duration-200","flex","items-center","space-x-2"],["type","button","class","w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm",3,"click",4,"ngIf"],["type","button",1,"absolute","top-2","right-2","w-6","h-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-sm",3,"click"],[1,"absolute","top-2","left-2","w-6","h-6","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-xs","font-medium"],[1,"mt-2","text-center"],[1,"text-xs","text-gray-600","truncate"],["type","button",1,"w-8","h-8","bg-white","bg-opacity-90","text-gray-700","rounded-full","flex","items-center","justify-center","hover:bg-opacity-100","transition-all","shadow-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],[1,"text-red-800","font-medium"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-green-800","font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){if(e&1){let s=R();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"button",8),A("click",function(){return M(s),k(n.goBack())}),D(),a(5,"svg",9),y(6,"path",10),c(),T(),a(7,"span",11),m(8,"Back to Assets"),c()()(),a(9,"h1",12),m(10),c(),a(11,"p",13),m(12),c(),I(13,r0,9,0,"div",14),c(),a(14,"form",15,0),A("ngSubmit",function(){return M(s),k(n.onSubmit())}),a(16,"div",16)(17,"div",17)(18,"div",18),D(),a(19,"svg",19),y(20,"path",20),c()(),T(),a(21,"h2",21),m(22,"Basic Information"),c()(),a(23,"div",22)(24,"div")(25,"label",23),m(26," Asset Name "),a(27,"span",24),m(28,"*"),c()(),a(29,"input",25,1),ce("ngModelChange",function(o){return M(s),le(n.name,o)||(n.name=o),k(o)}),c(),I(31,o0,4,1,"div",26),a(32,"div",27),m(33,"Maximum 100 characters"),c()(),a(34,"div")(35,"label",23),m(36,"Asset ID"),c(),a(37,"div",28),y(38,"input",29),a(39,"span",30),m(40," auto-generated "),c()(),a(41,"p",27),m(42,"Unique identifier automatically assigned"),c()()(),a(43,"div",31)(44,"label",23),m(45,"Parent Asset"),c(),a(46,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(47,"button",33),A("click",function(){return M(s),k(n.showParentDropdown=!n.showParentDropdown)}),a(48,"div",34),I(49,a0,2,0,"span",35)(50,l0,2,2,"span",36),D(),a(51,"svg",37),y(52,"path",38),c()()(),I(53,d0,7,3,"div",39),c(),T(),a(54,"div",27),m(55,"Optional: Select a parent asset if this asset is a child of another."),c()(),a(56,"div",31)(57,"label",23),m(58,"Description"),c(),a(59,"textarea",40),ce("ngModelChange",function(o){return M(s),le(n.description,o)||(n.description=o),k(o)}),c(),a(60,"div",27),m(61,"Maximum 500 characters"),c()(),a(62,"div")(63,"label",41),m(64,"Health Score"),c(),a(65,"div",42)(66,"div",43)(67,"span",44),m(68,"Current Score"),c(),a(69,"span",45),m(70),c()(),a(71,"div",46),y(72,"div",47)(73,"div",48),a(74,"input",49),ce("ngModelChange",function(o){return M(s),le(n.healthScore,o)||(n.healthScore=o),k(o)}),c(),y(75,"div",50),c(),a(76,"div",51)(77,"span"),m(78,"Poor (0%)"),c(),a(79,"span"),m(80,"Fair (25%)"),c(),a(81,"span"),m(82,"Good (50%)"),c(),a(83,"span"),m(84,"Very Good (75%)"),c(),a(85,"span"),m(86,"Excellent (100%)"),c()()()()(),a(87,"div",16)(88,"div",17)(89,"div",52),D(),a(90,"svg",53),y(91,"path",54),c()(),T(),a(92,"h2",21),m(93,"Asset Classification"),c()(),a(94,"div",55)(95,"div")(96,"label",23),m(97," Asset Type "),a(98,"span",24),m(99,"*"),c()(),a(100,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(101,"button",33),A("click",function(){return M(s),k(n.toggleAssetTypeDropdown())}),a(102,"div",34),I(103,u0,2,0,"span",35)(104,h0,6,5,"div",56),D(),a(105,"svg",37),y(106,"path",38),c()()(),I(107,x0,5,1,"div",39),c(),I(108,v0,4,1,"div",26),c(),T(),a(109,"div")(110,"label",23),m(111," Category "),a(112,"span",24),m(113,"*"),c()(),a(114,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(115,"button",33),A("click",function(){return M(s),k(n.toggleCategoryDropdown())}),a(116,"div",34),I(117,b0,2,0,"span",35)(118,y0,2,1,"span",36),D(),a(119,"svg",37),y(120,"path",38),c()()(),I(121,k0,5,1,"div",39),c(),I(122,E0,4,1,"div",26),c()()(),T(),a(123,"div",16)(124,"div",17)(125,"div",57),D(),a(126,"svg",58),y(127,"path",59),c()(),T(),a(128,"h2",21),m(129,"Technical Details"),c()(),a(130,"div",60)(131,"div")(132,"label",23),m(133,"Manufacturer"),c(),a(134,"input",61),ce("ngModelChange",function(o){return M(s),le(n.manufacturer,o)||(n.manufacturer=o),k(o)}),c(),a(135,"div",27),m(136,"Maximum 100 characters"),c()(),a(137,"div")(138,"label",23),m(139,"Model"),c(),a(140,"input",62),ce("ngModelChange",function(o){return M(s),le(n.model,o)||(n.model=o),k(o)}),c(),a(141,"div",27),m(142,"Maximum 100 characters"),c()(),a(143,"div")(144,"label",23),m(145," Serial Number "),a(146,"span",24),m(147,"*"),c()(),a(148,"input",63),ce("ngModelChange",function(o){return M(s),le(n.serial_number,o)||(n.serial_number=o),k(o)}),c(),I(149,A0,4,1,"div",26),a(150,"div",27),m(151,"Required, max 100 chars, must be unique within your company"),c()()()(),a(152,"div",16)(153,"div",17)(154,"div",64),D(),a(155,"svg",65),y(156,"path",66),c()(),T(),a(157,"h2",21),m(158,"Financial Information"),c()(),a(159,"div",22)(160,"div")(161,"label",23),m(162,"Purchase Value (USD)"),c(),a(163,"div",67)(164,"div",68)(165,"span",69),m(166,"$ "),c()(),a(167,"input",70),ce("ngModelChange",function(o){return M(s),le(n.purchase_price,o)||(n.purchase_price=o),k(o)}),c()(),a(168,"div",27),m(169,"Must be a non-negative number"),c()(),a(170,"div")(171,"label",23),m(172,"Purchase Date"),c(),a(173,"input",71,2),ce("ngModelChange",function(o){return M(s),le(n.purchase_date,o)||(n.purchase_date=o),k(o)}),c(),a(175,"div",27),m(176,"Cannot be in the future"),c()()(),a(177,"div",22)(178,"div")(179,"label",23),m(180,"Depreciation Rate (%)"),c(),a(181,"input",72),ce("ngModelChange",function(o){return M(s),le(n.depreciation,o)||(n.depreciation=o),k(o)}),c(),a(182,"div",27),m(183,"Annual depreciation rate (0-100%)"),c()(),a(184,"div")(185,"label",23),m(186,"Depreciation Life (Years)"),c(),a(187,"input",73),ce("ngModelChange",function(o){return M(s),le(n.depreciation_life,o)||(n.depreciation_life=o),k(o)}),c(),a(188,"div",27),m(189,"Useful life for depreciation calculation (1-100 years)"),c()()(),a(190,"div",22)(191,"div")(192,"label",23),m(193,"Warranty Information"),c(),a(194,"input",74),ce("ngModelChange",function(o){return M(s),le(n.warranty,o)||(n.warranty=o),k(o)}),c(),a(195,"div",27),m(196,"Warranty details (max 255 characters)"),c()(),a(197,"div")(198,"label",23),m(199,"Insurance Information"),c(),a(200,"input",75),ce("ngModelChange",function(o){return M(s),le(n.insurance,o)||(n.insurance=o),k(o)}),c(),a(201,"div",27),m(202,"Insurance details (max 255 characters)"),c()()()(),a(203,"div",16)(204,"div",17)(205,"div",76),D(),a(206,"svg",77),y(207,"path",78)(208,"path",79),c()(),T(),a(209,"h2",21),m(210,"Location & Assignment"),c()(),a(211,"div",55)(212,"div")(213,"label",23),m(214,"Location"),c(),a(215,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(216,"button",33),A("click",function(){return M(s),k(n.toggleLocationDropdown())}),a(217,"div",34),I(218,D0,2,0,"span",35)(219,T0,7,1,"div",56),D(),a(220,"svg",37),y(221,"path",38),c()()(),I(222,V0,5,1,"div",39),c()(),T(),a(223,"div",80)(224,"label",23),m(225,"Address"),c(),a(226,"input",81),ce("ngModelChange",function(o){return M(s),le(n.address,o)||(n.address=o),k(o)}),c(),a(227,"div",27),m(228,"Enter the physical address of the asset"),c()(),a(229,"div")(230,"label",23),m(231,"Department ID"),c(),a(232,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(233,"button",33),A("click",function(){return M(s),k(n.toggleDepartmentDropdown())}),a(234,"div",34),I(235,L0,2,0,"span",35)(236,O0,6,1,"div",56),D(),a(237,"svg",37),y(238,"path",38),c()()(),I(239,j0,5,1,"div",39),c(),T(),a(240,"div",27),m(241,"Optional department assignment"),c()(),a(242,"div")(243,"label",23),m(244,"Status"),c(),a(245,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(246,"button",33),A("click",function(){return M(s),k(n.toggleStatusDropdown())}),a(247,"div",34),I(248,N0,4,3,"div",56),D(),a(249,"svg",37),y(250,"path",38),c()()(),I(251,z0,5,1,"div",82),c(),T(),a(252,"div",27),m(253,"Current operational status of the asset"),c()(),a(254,"div")(255,"label",23),m(256,"Tags"),c(),I(257,G0,3,1,"div",83),a(258,"div",32),A("click",function(o){return M(s),k(o.stopPropagation())}),a(259,"button",33),A("click",function(){return M(s),k(n.toggleTagsDropdown())}),a(260,"div",34)(261,"span",84),m(262),c(),a(263,"div",85),I(264,$0,2,1,"span",86),D(),a(265,"svg",37),y(266,"path",38),c()()()(),I(267,q0,10,2,"div",39),c(),T(),a(268,"div",27),D(),a(269,"svg",87),y(270,"path",88),c(),m(271," Select existing tags or type to create new ones. Press Enter to add custom tags. "),c()()()(),T(),a(272,"div",16)(273,"div",17)(274,"div",89),D(),a(275,"svg",90),y(276,"path",91),c()(),T(),a(277,"h2",21),m(278,"Asset Image"),c()(),a(279,"div")(280,"label",23),m(281,"Upload Image"),c(),a(282,"div",92),A("click",function(){return M(s),k(n.triggerFileInput())})("dragover",function(o){return M(s),k(n.onDragOver(o))})("dragleave",function(o){return M(s),k(n.onDragLeave(o))})("drop",function(o){return M(s),k(n.onDrop(o))}),a(283,"div",93)(284,"div",94),D(),a(285,"svg",95),y(286,"path",96),c()(),T(),a(287,"p",97),m(288),c(),a(289,"input",98,3),A("change",function(o){return M(s),k(n.onFileChange(o))}),c()()(),I(291,J0,16,2,"div",99),c()(),I(292,Z0,6,1,"div",100)(293,eu,6,1,"div",101),a(294,"div",102)(295,"button",103),A("click",function(){return M(s),k(n.goBack())}),m(296," Cancel "),c(),a(297,"button",104),I(298,tu,5,0,"span",105)(299,iu,6,0,"span",105),c()()()()()}e&2&&(p(10),W(" ",n.route.snapshot.queryParams.duplicate?"Duplicate Asset":"Create New Asset"," "),p(2),W(" ",n.route.snapshot.queryParams.duplicate?"Creating a copy of an existing asset. Please review and update the information below.":"Add a new asset to your inventory with detailed information and specifications"," "),p(),v("ngIf",n.route.snapshot.queryParams.duplicate),p(16),z("border-red-300",n.nameError),ae("ngModel",n.name),p(2),v("ngIf",n.nameError),p(16),z("border-blue-500",n.showParentDropdown),p(2),v("ngIf",!n.parent_id),p(),v("ngIf",n.parent_id&&n.getSelectedParent()),p(),z("rotate-180",n.showParentDropdown),p(2),v("ngIf",n.showParentDropdown),p(6),ae("ngModel",n.description),p(10),z("text-red-600",n.healthScore<50)("text-green-600",n.healthScore>=50),p(),W("",n.healthScore,"%"),p(3),Ee("width",n.healthScore,"%"),z("bg-red-500",n.healthScore<50)("bg-green-500",n.healthScore>=50),p(),ae("ngModel",n.healthScore),p(),Ee("left",n.healthScore,"%"),z("bg-red-500",n.healthScore<50)("bg-green-500",n.healthScore>=50),p(26),z("border-red-300",n.assetTypeError)("border-blue-500",n.showAssetTypeDropdown),p(2),v("ngIf",!n.selectedAssetType),p(),v("ngIf",n.selectedAssetType),p(),z("rotate-180",n.showAssetTypeDropdown),p(2),v("ngIf",n.showAssetTypeDropdown),p(),v("ngIf",n.assetTypeError),p(7),z("border-red-300",n.categoryError)("border-blue-500",n.showCategoryDropdown),p(2),v("ngIf",!n.selectedCategory),p(),v("ngIf",n.selectedCategory),p(),z("rotate-180",n.showCategoryDropdown),p(2),v("ngIf",n.showCategoryDropdown),p(),v("ngIf",n.categoryError),p(12),ae("ngModel",n.manufacturer),p(6),ae("ngModel",n.model),p(8),z("border-red-300",n.serialNumberError),ae("ngModel",n.serial_number),p(),v("ngIf",n.serialNumberError),p(18),ae("ngModel",n.purchase_price),p(6),ae("ngModel",n.purchase_date),p(8),ae("ngModel",n.depreciation),p(6),ae("ngModel",n.depreciation_life),p(7),ae("ngModel",n.warranty),p(6),ae("ngModel",n.insurance),p(16),z("border-blue-500",n.showLocationDropdown),p(2),v("ngIf",!n.selectedLocation),p(),v("ngIf",n.selectedLocation),p(),z("rotate-180",n.showLocationDropdown),p(2),v("ngIf",n.showLocationDropdown),p(4),ae("ngModel",n.address),p(7),z("border-blue-500",n.showDepartmentDropdown),p(2),v("ngIf",!n.selectedDepartment),p(),v("ngIf",n.selectedDepartment),p(),z("rotate-180",n.showDepartmentDropdown),p(2),v("ngIf",n.showDepartmentDropdown),p(7),z("border-blue-500",n.showStatusDropdown),p(2),v("ngIf",n.selectedStatus),p(),z("rotate-180",n.showStatusDropdown),p(2),v("ngIf",n.showStatusDropdown),p(6),v("ngIf",n.selectedTags.length>0),p(2),z("border-blue-500",n.showTagsDropdown),p(3),W(" ",n.selectedTags.length===0?"Select tags":"Add more tags"," "),p(2),v("ngIf",n.selectedTags.length>0),p(),z("rotate-180",n.showTagsDropdown),p(2),v("ngIf",n.showTagsDropdown),p(15),z("border-gray-300",!n.isDragOver)("border-blue-500",n.isDragOver)("bg-blue-50",n.isDragOver)("hover:border-blue-400",!n.isDragOver),p(3),z("text-gray-400",!n.isDragOver)("text-blue-500",n.isDragOver),p(2),z("text-gray-500",!n.isDragOver)("text-blue-600",n.isDragOver),p(),W(" ",n.isDragOver?"Release to upload images":"PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here"," "),p(3),v("ngIf",n.imagePreviewUrls.length>0),p(),v("ngIf",n.submitError),p(),v("ngIf",n.submitSuccess),p(2),v("disabled",n.isSubmitting),p(2),v("disabled",n.isSubmitting||!n.isFormValid()),p(),v("ngIf",!n.isSubmitting),p(),v("ngIf",n.isSubmitting))},dependencies:[ze,Qt,Ne,Ei,Wn,Be,Xt,Ti,qn,Di,Ai,qe,zn,Ie,lt],styles:[".asset-create-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;border:1px solid #e5e7eb;padding:2rem;margin-bottom:1.5rem;transition:all .2s ease-in-out}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#1f2937}.input[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border:1px solid #d1d5db;padding:.75rem .875rem;font-size:1rem;background:#fff;transition:all .2s ease-in-out}.input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fff}.input.border-red-300[_ngcontent-%COMP%]{border-color:#fca5a5;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 768px){.asset-create-page[_ngcontent-%COMP%]{padding:1rem}.section-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.grid-cols-2[_ngcontent-%COMP%], .grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eff6ff}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;font-family:inherit}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6;font-weight:600}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}[_nghost-%COMP%]     .flatpickr-input{cursor:pointer}[_nghost-%COMP%]     .flatpickr-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.slider-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background:transparent;outline:none;z-index:20}.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;position:relative;z-index:30}.slider-input[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;box-shadow:none}.slider-input[_ngcontent-%COMP%]:focus{outline:none}"]})};var nu=["dateInput"];function su(i,t){i&1&&(a(0,"span",42),m(1,"No location assigned"),c())}function ru(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.getLocationNameById(e.transferData.new_location_id)," ")}}function ou(i,t){if(i&1){let e=R();a(0,"button",48),A("click",function(){let s=M(e).$implicit,r=_(3);return r.transferData.new_location_id=s.id,k(r.showLocationDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.new_location_id===e.id),v("disabled",e.id===(n.asset==null?null:n.asset.location_id)),p(),W(" ",e.name," ")}}function au(i,t){if(i&1){let e=R();a(0,"div",44)(1,"div",45)(2,"button",46),A("click",function(){M(e);let s=_(2);return s.transferData.new_location_id=null,k(s.showLocationDropdown=!1)}),m(3," No location assigned "),c(),I(4,ou,2,4,"button",47),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.new_location_id),p(2),v("ngForOf",e.locations)}}function lu(i,t){i&1&&(a(0,"span",42),m(1,"Select new department (optional)"),c())}function cu(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.getDepartmentNameById(e.transferData.new_department_id)," ")}}function du(i,t){if(i&1){let e=R();a(0,"button",46),A("click",function(){let s=M(e).$implicit,r=_(3);return r.transferData.new_department_id=s.id,k(r.showDepartmentDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.new_department_id===e.id),p(),W(" ",e.name," ")}}function uu(i,t){if(i&1){let e=R();a(0,"div",44)(1,"div",45)(2,"button",46),A("click",function(){M(e);let s=_(2);return s.transferData.new_department_id=null,k(s.showDepartmentDropdown=!1)}),m(3," Select new department (optional) "),c(),I(4,du,2,3,"button",49),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.new_department_id),p(2),v("ngForOf",e.departments)}}function mu(i,t){i&1&&(a(0,"span",42),m(1,"Select reason"),c())}function pu(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.transferData.transfer_reason," ")}}function hu(i,t){if(i&1){let e=R();a(0,"button",46),A("click",function(){let s=M(e).$implicit,r=_(3);return r.transferData.transfer_reason=s,k(r.showReasonDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.transfer_reason===e),p(),W(" ",e," ")}}function fu(i,t){if(i&1){let e=R();a(0,"div",44)(1,"div",45)(2,"button",46),A("click",function(){M(e);let s=_(2);return s.transferData.transfer_reason="",k(s.showReasonDropdown=!1)}),m(3," Select reason "),c(),I(4,hu,2,3,"button",49),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.transfer_reason),p(2),v("ngForOf",e.transferReasons)}}function gu(i,t){if(i&1&&(a(0,"div",50)(1,"div",51)(2,"div",52),D(),a(3,"svg",53),y(4,"path",54),c()(),T(),a(5,"div",55)(6,"p",56),m(7),c()()()()),i&2){let e=_(2);p(7),O(e.error)}}function _u(i,t){i&1&&(a(0,"span"),m(1,"Create Transfer"),c())}function xu(i,t){i&1&&(a(0,"span",57),D(),a(1,"svg",58),y(2,"circle",59)(3,"path",60),c(),m(4," Creating Transfer... "),c())}function vu(i,t){if(i&1){let e=R();a(0,"div",2),A("click",function(s){M(e);let r=_();return k(r.onModalClick(s))}),a(1,"div",3),y(2,"div",4),a(3,"div",5),A("click",function(s){return M(e),k(s.stopPropagation())}),a(4,"div",6)(5,"h3",7),m(6),c(),a(7,"button",8),A("click",function(){M(e);let s=_();return k(s.onCancel())}),D(),a(8,"svg",9),y(9,"path",10),c()()(),T(),a(10,"div",11)(11,"div")(12,"p",12),m(13,"Current Location"),c(),a(14,"p",13),m(15),c()(),a(16,"div")(17,"p",12),m(18,"Current Department"),c(),a(19,"p",13),m(20),c()()(),a(21,"div",14)(22,"div",15),D(),a(23,"svg",16),y(24,"path",17),c()()(),T(),a(25,"form",18),A("ngSubmit",function(){M(e);let s=_();return k(s.onTransfer())}),a(26,"div",19),A("click",function(s){return M(e),k(s.stopPropagation())}),a(27,"label",20),m(28,"New Location"),c(),a(29,"button",21),A("click",function(){M(e);let s=_();return k(s.showLocationDropdown=!s.showLocationDropdown)}),a(30,"div",22),I(31,su,2,0,"span",23)(32,ru,2,1,"span",24),D(),a(33,"svg",25),y(34,"path",26),c()()(),I(35,au,5,3,"div",27),c(),T(),a(36,"div",19),A("click",function(s){return M(e),k(s.stopPropagation())}),a(37,"label",20),m(38,"New Department"),c(),a(39,"button",21),A("click",function(){M(e);let s=_();return k(s.showDepartmentDropdown=!s.showDepartmentDropdown)}),a(40,"div",22),I(41,lu,2,0,"span",23)(42,cu,2,1,"span",24),D(),a(43,"svg",25),y(44,"path",26),c()()(),I(45,uu,5,3,"div",27),c(),T(),a(46,"div",19),A("click",function(s){return M(e),k(s.stopPropagation())}),a(47,"label",20),m(48,"Transfer Reason *"),c(),a(49,"button",21),A("click",function(){M(e);let s=_();return k(s.showReasonDropdown=!s.showReasonDropdown)}),a(50,"div",22),I(51,mu,2,0,"span",23)(52,pu,2,1,"span",24),D(),a(53,"svg",25),y(54,"path",26),c()()(),I(55,fu,5,3,"div",27),c(),T(),a(56,"div")(57,"label",28),m(58," Transfer Date * "),c(),a(59,"div",29)(60,"input",30,0),ce("ngModelChange",function(s){M(e);let r=_();return le(r.transferData.transfer_date,s)||(r.transferData.transfer_date=s),k(s)}),c(),a(62,"div",31),D(),a(63,"svg",32),y(64,"path",33),c()()()(),T(),a(65,"div")(66,"label",34),m(67," Additional Notes "),c(),a(68,"textarea",35),ce("ngModelChange",function(s){M(e);let r=_();return le(r.transferData.notes,s)||(r.transferData.notes=s),k(s)}),c()(),I(69,gu,8,1,"div",36),a(70,"div",37)(71,"button",38),A("click",function(){M(e);let s=_();return k(s.onCancel())}),m(72," Cancel "),c(),a(73,"button",39),I(74,_u,2,0,"span",40)(75,xu,5,0,"span",41),c()()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(3),v("@modalAnimation",void 0),p(3),W(" Transfer Asset: ",(e.asset==null?null:e.asset.name)||"Unknown Asset"," "),p(),v("disabled",e.loading),p(8),O(e.getCurrentLocationName()),p(5),O(e.getCurrentDepartmentName()),p(9),z("border-blue-500",e.showLocationDropdown),p(2),v("ngIf",!e.transferData.new_location_id),p(),v("ngIf",e.transferData.new_location_id),p(),z("rotate-180",e.showLocationDropdown),p(2),v("ngIf",e.showLocationDropdown),p(4),z("border-blue-500",e.showDepartmentDropdown),p(2),v("ngIf",!e.transferData.new_department_id),p(),v("ngIf",e.transferData.new_department_id),p(),z("rotate-180",e.showDepartmentDropdown),p(2),v("ngIf",e.showDepartmentDropdown),p(4),z("border-blue-500",e.showReasonDropdown),p(2),v("ngIf",!e.transferData.transfer_reason),p(),v("ngIf",e.transferData.transfer_reason),p(),z("rotate-180",e.showReasonDropdown),p(2),v("ngIf",e.showReasonDropdown),p(5),ae("ngModel",e.transferData.transfer_date),v("disabled",e.loading),p(8),ae("ngModel",e.transferData.notes),v("disabled",e.loading),p(),v("ngIf",e.error),p(2),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var Li=class i{constructor(t){this.assetService=t}isOpen=!1;asset=null;closeModal=new We;transferComplete=new We;dateInput;flatpickrInstance;showLocationDropdown=!1;showDepartmentDropdown=!1;showReasonDropdown=!1;loading=!1;error="";transferData={new_location_id:null,new_department_id:null,to_user_id:null,transfer_reason:"",transfer_date:new Date().toISOString().split("T")[0],notes:"",condition_report:""};locations=[];departments=[];users=[];transferReasons=["Relocation","Maintenance","Replacement","Department Transfer","User Assignment","Storage","Disposal","Other"];ngOnInit(){console.log("TransferAssetModalComponent initialized"),this.loadDropdownData()}ngOnChanges(){console.log("TransferAssetModalComponent changes:",{isOpen:this.isOpen,asset:this.asset}),this.isOpen&&setTimeout(()=>{this.initializeFlatpickr()},200)}ngAfterViewInit(){}ngOnDestroy(){this.destroyFlatpickr()}destroyFlatpickr(){if(this.flatpickrInstance)try{this.flatpickrInstance.destroy(),this.flatpickrInstance=null}catch(t){console.error("Error destroying flatpickr:",t)}}initializeFlatpickr(){try{this.destroyFlatpickr(),this.dateInput&&this.dateInput.nativeElement?(console.log("Initializing flatpickr on element:",this.dateInput.nativeElement),this.flatpickrInstance=Zt(this.dateInput.nativeElement,{dateFormat:"Y-m-d",defaultDate:new Date,allowInput:!1,clickOpens:!0,minDate:new Date,locale:{firstDayOfWeek:1},onChange:(t,e)=>{console.log("Date selected:",e),this.transferData.transfer_date=e},onOpen:()=>{console.log("Flatpickr opened")},onClose:()=>{console.log("Flatpickr closed")}}),console.log("Flatpickr initialized successfully")):console.warn("Date input element not found")}catch(t){console.error("Error initializing flatpickr:",t)}}loadDropdownData(){console.log("Loading dropdown data..."),console.log("Calling locations API with pagination..."),this.assetService.getLocations(1,1e3,"created","desc").subscribe({next:t=>{console.log("Locations API response:",t),console.log("Response type:",typeof t),console.log("Response keys:",Object.keys(t)),t&&t.data&&t.data.locations?(this.locations=t.data.locations,console.log("Using response.data.locations (paginated):",this.locations),console.log("Response pagination:",t.data.pagination)):t&&t.data&&Array.isArray(t.data)?(this.locations=t.data,console.log("Using response.data as array:",this.locations)):Array.isArray(t)?(this.locations=t,console.log("Using response as array:",this.locations)):(this.locations=[],console.warn("Unexpected response format:",t),console.log("Response structure:",t)),console.log("Final locations array:",this.locations),console.log("Locations count:",this.locations.length),this.locations.length===0&&console.warn("No locations found in response")},error:t=>{console.error("Error loading locations:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,url:t.url}),this.locations=[]}}),console.log("Calling departments API with pagination..."),this.assetService.getDepartments(1,1e3,"created","desc").subscribe({next:t=>{console.log("Departments API response:",t),t&&t.data&&t.data.departments?(this.departments=t.data.departments,console.log("Using response.data.departments (paginated):",this.departments),console.log("Response pagination:",t.data.pagination)):t&&t.data&&Array.isArray(t.data)?(this.departments=t.data,console.log("Using response.data as array:",this.departments)):Array.isArray(t)?this.departments=t:(this.departments=[],console.warn("Unexpected departments response format:",t),console.log("Response structure:",t)),console.log("Final departments array:",this.departments),console.log("Departments count:",this.departments.length),this.departments.length===0&&console.warn("No departments found")},error:t=>{console.error("Error loading departments:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,url:t.url}),this.departments=[]}})}reloadLocationData(){console.log("Manually reloading location data..."),this.loadDropdownData()}onTransfer(){this.validateForm()&&(this.loading=!0,this.error="",this.assetService.transferAsset(this.asset.id,this.transferData).subscribe({next:t=>{this.loading=!1,this.transferComplete.emit(t),this.resetForm(),this.closeModal.emit()},error:t=>{this.loading=!1,this.error=t.error?.message||"Transfer failed. Please try again.",console.error("Transfer error:",t)}}))}onCancel(){this.loading||(this.destroyFlatpickr(),this.resetForm(),this.closeModal.emit())}validateForm(){return this.transferData.new_location_id?this.transferData.transfer_reason?this.transferData.transfer_date?this.asset?.location_id===this.transferData.new_location_id?(this.error="Transfer location must be different from current location.",!1):(this.error="",!0):(this.error="Please select a transfer date.",!1):(this.error="Please select a transfer reason.",!1):(this.error="Please select a new location.",!1)}resetForm(){this.transferData={new_location_id:null,new_department_id:null,to_user_id:null,transfer_reason:"",transfer_date:new Date().toISOString().split("T")[0],notes:"",condition_report:""},this.error=""}getCurrentLocationName(){return this.asset?.location?.name||"No location assigned"}getCurrentDepartmentName(){return this.asset?.department?.name||"No department assigned"}getLocationNameById(t){if(!t)return"";let e=this.locations.find(n=>n.id===t);return e?e.name:""}getDepartmentNameById(t){if(!t)return"";let e=this.departments.find(n=>n.id===t);return e?e.name:""}getLocationsCount(){return this.locations.length}getDepartmentsCount(){return this.departments.length}getUsersCount(){return this.users.length}onModalClick(t){t.target===t.currentTarget&&(this.showLocationDropdown=!1,this.showDepartmentDropdown=!1,this.showReasonDropdown=!1)}static \u0275fac=function(e){return new(e||i)(he(dt))};static \u0275cmp=Te({type:i,selectors:[["app-transfer-asset-modal"]],viewQuery:function(e,n){if(e&1&&bt(nu,5),e&2){let s;yt(s=wt())&&(n.dateInput=s.first)}},inputs:{isOpen:"isOpen",asset:"asset"},outputs:{closeModal:"closeModal",transferComplete:"transferComplete"},features:[Pn],decls:1,vars:1,consts:[["dateInput",""],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","px-4","pt-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity","z-0","bg-[#00000085]"],[1,"inline-block","w-full","max-w-2xl","z-1","p-6","my-8","relative","overflow-hidden","text-left","align-middle","transition-all","transform","bg-white","shadow-xl","rounded-2xl",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","mb-6"],[1,"w-8","h-8","bg-blue-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"space-y-4",3,"ngSubmit"],[1,"relative",3,"click"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["for","transfer_date",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["type","text","id","transfer_date","name","transfer_date","placeholder","Select date","required","","readonly","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","bg-white","cursor-pointer",3,"ngModelChange","ngModel","disabled"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-4","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notes","name","notes","rows","3","placeholder","Enter any additional notes about this transfer...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","bg-white","resize-none",3,"ngModelChange","ngModel","disabled"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],[1,"flex","justify-end","space-x-3","pt-6"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click","disabled"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"text-gray-400"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","disabled","click",4,"ngFor","ngForOf"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click","disabled"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&I(0,vu,76,36,"div",1),e&2&&v("ngIf",n.isOpen)},dependencies:[je,lt,Ie,ze,Qt,Ne,Be,Xt,Ti,qe,zn],styles:[".transfer-asset-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{background-color:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;cursor:not-allowed}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-image:none!important;-webkit-appearance:none;-moz-appearance:none;appearance:none}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px;background-color:#fff;color:#374151}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{color:#9ca3af;background-color:#f9fafb}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 10px 25px #00000026;border:1px solid #e5e7eb}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]{border-radius:4px}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day.selected[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.transfer-asset-modal[_ngcontent-%COMP%]   .transfer-arrow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.transfer-asset-modal[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.transfer-asset-modal[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}}"],data:{animation:[ct("backdropAnimation",[Ve(":enter",[fe({opacity:0}),Pe("150ms ease-out",fe({opacity:1}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0}))])]),ct("modalAnimation",[Ve(":enter",[fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Pe("200ms ease-out",fe({opacity:1,transform:"scale(1) translateY(0)"}))]),Ve(":leave",[Pe("150ms ease-in",fe({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};var mc=Vo(zo());function on(i){return i+.5|0}var ei=(i,t,e)=>Math.max(Math.min(i,e),t);function sn(i){return ei(on(i*2.55),0,255)}function ti(i){return ei(on(i*255),0,255)}function Ft(i){return ei(on(i/2.55)/100,0,1)}function Jo(i){return ei(on(i*100),0,100)}var ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cr=[..."0123456789ABCDEF"],bu=i=>cr[i&15],yu=i=>cr[(i&240)>>4]+cr[i&15],us=i=>(i&240)>>4===(i&15),wu=i=>us(i.r)&&us(i.g)&&us(i.b)&&us(i.a);function Cu(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&ut[i[1]]*17,g:255&ut[i[2]]*17,b:255&ut[i[3]]*17,a:t===5?ut[i[4]]*17:255}:(t===7||t===9)&&(e={r:ut[i[1]]<<4|ut[i[2]],g:ut[i[3]]<<4|ut[i[4]],b:ut[i[5]]<<4|ut[i[6]],a:t===9?ut[i[7]]<<4|ut[i[8]]:255})),e}var Su=(i,t)=>i<255?t(i):"";function Mu(i){var t=wu(i)?bu:yu;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Su(i.a,t):void 0}var ku=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ia(i,t,e){let n=t*Math.min(e,1-e),s=(r,o=(r+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Eu(i,t,e){let n=(s,r=(s+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function Au(i,t,e){let n=ia(i,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function Du(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function dr(i){let e=i.r/255,n=i.g/255,s=i.b/255,r=Math.max(e,n,s),o=Math.min(e,n,s),l=(r+o)/2,d,u,h;return r!==o&&(h=r-o,u=l>.5?h/(2-r-o):h/(r+o),d=Du(e,n,s,h,r),d=d*60+.5),[d|0,u||0,l]}function ur(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(ti)}function mr(i,t,e){return ur(ia,i,t,e)}function Tu(i,t,e){return ur(Au,i,t,e)}function Iu(i,t,e){return ur(Eu,i,t,e)}function na(i){return(i%360+360)%360}function Pu(i){let t=ku.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?sn(+t[5]):ti(+t[5]));let s=na(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Tu(s,r,o):t[1]==="hsv"?n=Iu(s,r,o):n=mr(s,r,o),{r:n[0],g:n[1],b:n[2],a:e}}function Vu(i,t){var e=dr(i);e[0]=na(e[0]+t),e=mr(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Lu(i){if(!i)return;let t=dr(i),e=t[0],n=Jo(t[1]),s=Jo(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${Ft(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}var Zo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ea={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ou(){let i={},t=Object.keys(ea),e=Object.keys(Zo),n,s,r,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],s=0;s<e.length;s++)r=e[s],l=l.replace(r,Zo[r]);r=parseInt(ea[o],16),i[l]=[r>>16&255,r>>8&255,r&255]}return i}var ms;function Fu(i){ms||(ms=Ou(),ms.transparent=[0,0,0,0]);let t=ms[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Ru=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hu(i){let t=Ru.exec(i),e=255,n,s,r;if(t){if(t[7]!==n){let o=+t[7];e=t[8]?sn(o):ei(o*255,0,255)}return n=+t[1],s=+t[3],r=+t[5],n=255&(t[2]?sn(n):ei(n,0,255)),s=255&(t[4]?sn(s):ei(s,0,255)),r=255&(t[6]?sn(r):ei(r,0,255)),{r:n,g:s,b:r,a:e}}}function ju(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Ft(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var lr=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Oi=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Nu(i,t,e){let n=Oi(Ft(i.r)),s=Oi(Ft(i.g)),r=Oi(Ft(i.b));return{r:ti(lr(n+e*(Oi(Ft(t.r))-n))),g:ti(lr(s+e*(Oi(Ft(t.g))-s))),b:ti(lr(r+e*(Oi(Ft(t.b))-r))),a:i.a+e*(t.a-i.a)}}function ps(i,t,e){if(i){let n=dr(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=mr(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function sa(i,t){return i&&Object.assign(t||{},i)}function ta(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=ti(i[3]))):(t=sa(i,{r:0,g:0,b:0,a:1}),t.a=ti(t.a)),t}function Bu(i){return i.charAt(0)==="r"?Hu(i):Pu(i)}var rn=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=ta(t):e==="string"&&(n=Cu(t)||Fu(t)||Bu(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=sa(this._rgb);return t&&(t.a=Ft(t.a)),t}set rgb(t){this._rgb=ta(t)}rgbString(){return this._valid?ju(this._rgb):void 0}hexString(){return this._valid?Mu(this._rgb):void 0}hslString(){return this._valid?Lu(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,s=t.rgb,r,o=e===r?.5:e,l=2*o-1,d=n.a-s.a,u=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;r=1-u,n.r=255&u*n.r+r*s.r+.5,n.g=255&u*n.g+r*s.g+.5,n.b=255&u*n.b+r*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Nu(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=ti(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=on(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ps(this._rgb,2,t),this}darken(t){return ps(this._rgb,2,-t),this}saturate(t){return ps(this._rgb,1,t),this}desaturate(t){return ps(this._rgb,1,-t),this}rotate(t){return Vu(this._rgb,t),this}};function Et(){}var fa=(()=>{let i=0;return()=>i++})();function se(i){return i==null}function ve(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function re(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ke(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function st(i,t){return ke(i)?i:t}function Z(i,t){return typeof i>"u"?t:i}var ga=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,gr=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function _e(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function pe(i,t,e,n){let s,r,o;if(ve(i))if(r=i.length,n)for(s=r-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<r;s++)t.call(e,i[s],s);else if(re(i))for(o=Object.keys(i),r=o.length,s=0;s<r;s++)t.call(e,i[o[s]],o[s])}function cn(i,t){let e,n,s,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function xs(i){if(ve(i))return i.map(xs);if(re(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,s=0;for(;s<n;++s)t[e[s]]=xs(i[e[s]]);return t}return i}function _a(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function zu(i,t,e,n){if(!_a(i))return;let s=t[i],r=e[i];re(s)&&re(r)?Ri(s,r,n):t[i]=xs(r)}function Ri(i,t,e){let n=ve(t)?t:[t],s=n.length;if(!re(i))return i;e=e||{};let r=e.merger||zu,o;for(let l=0;l<s;++l){if(o=n[l],!re(o))continue;let d=Object.keys(o);for(let u=0,h=d.length;u<h;++u)r(d[u],i,o,e)}return i}function ji(i,t){return Ri(i,t,{merger:Wu})}function Wu(i,t,e){if(!_a(i))return;let n=t[i],s=e[i];re(n)&&re(s)?ji(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=xs(s))}var ra={"":i=>i,x:i=>i.x,y:i=>i.y};function Gu(i){let t=i.split("."),e=[],n="";for(let s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function $u(i){let t=Gu(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function jt(i,t){return(ra[t]||(ra[t]=$u(t)))(i)}function ws(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Ni=i=>typeof i<"u",Rt=i=>typeof i=="function",_r=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function xa(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var oe=Math.PI,be=2*oe,Uu=be+oe,vs=Number.POSITIVE_INFINITY,Yu=oe/180,Ae=oe/2,pi=oe/4,oa=oe*2/3,Ht=Math.log10,_t=Math.sign;function Bi(i,t,e){return Math.abs(i-t)<e}function xr(i){let t=Math.round(i);i=Bi(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Ht(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function va(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function qu(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function gi(i){return!qu(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function ba(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function vr(i,t,e){let n,s,r;for(n=0,s=i.length;n<s;n++)r=i[n][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function mt(i){return i*(oe/180)}function Cs(i){return i*(180/oe)}function br(i){if(!ke(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function yr(i,t){let e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n),r=Math.atan2(n,e);return r<-.5*oe&&(r+=be),{angle:r,distance:s}}function bs(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Xu(i,t){return(i-t+Uu)%be-oe}function $e(i){return(i%be+be)%be}function zi(i,t,e,n){let s=$e(i),r=$e(t),o=$e(e),l=$e(r-s),d=$e(o-s),u=$e(s-r),h=$e(s-o);return s===r||s===o||n&&r===o||l>d&&u<h}function Re(i,t,e){return Math.max(t,Math.min(e,i))}function ya(i){return Re(i,-32768,32767)}function At(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function Ss(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,s=0,r;for(;n-s>1;)r=s+n>>1,e(r)?s=r:n=r;return{lo:s,hi:n}}var Mt=(i,t,e,n)=>Ss(i,e,n?s=>{let r=i[s][t];return r<e||r===e&&i[s+1][t]===e}:s=>i[s][t]<e),wa=(i,t,e)=>Ss(i,e,n=>i[n][t]>=e);function Ca(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}var Sa=["push","pop","shift","splice","unshift"];function Ma(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Sa.forEach(e=>{let n="_onData"+ws(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let o=s.apply(this,r);return i._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),o}})})}function wr(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Sa.forEach(r=>{delete i[r]}),delete i._chartjs)}function Cr(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var Sr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Mr(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,Sr.call(window,()=>{n=!1,i.apply(t,e)}))}}function ka(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var Ms=i=>i==="start"?"left":i==="end"?"right":"center",Ue=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,Ea=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function kr(i,t,e){let n=t.length,s=0,r=n;if(i._sorted){let{iScale:o,vScale:l,_parsed:d}=i,u=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,h=o.axis,{min:f,max:x,minDefined:g,maxDefined:S}=o.getUserBounds();if(g){if(s=Math.min(Mt(d,h,f).lo,e?n:Mt(t,h,o.getPixelForValue(f)).lo),u){let w=d.slice(0,s+1).reverse().findIndex(E=>!se(E[l.axis]));s-=Math.max(0,w)}s=Re(s,0,n-1)}if(S){let w=Math.max(Mt(d,o.axis,x,!0).hi+1,e?0:Mt(t,h,o.getPixelForValue(x),!0).hi+1);if(u){let E=d.slice(w-1).findIndex(L=>!se(L[l.axis]));w+=Math.max(0,E)}r=Re(w,s,n)-s}else r=n-s}return{start:s,count:r}}function Er(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=s,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,s),r}var hs=i=>i===0||i===1,aa=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*be/e)),la=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*be/e)+1,Fi={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Ae)+1,easeOutSine:i=>Math.sin(i*Ae),easeInOutSine:i=>-.5*(Math.cos(oe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>hs(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>hs(i)?i:aa(i,.075,.3),easeOutElastic:i=>hs(i)?i:la(i,.075,.3),easeInOutElastic(i){return hs(i)?i:i<.5?.5*aa(i*2,.1125,.45):.5+.5*la(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Fi.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Fi.easeInBounce(i*2)*.5:Fi.easeOutBounce(i*2-1)*.5+.5};function Ar(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Dr(i){return Ar(i)?i:new rn(i)}function pr(i){return Ar(i)?i:new rn(i).saturate(.5).darken(.1).hexString()}var Qu=["x","y","borderWidth","radius","tension"],Ku=["color","borderColor","backgroundColor"];function Ju(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ku},numbers:{type:"number",properties:Qu}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Zu(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var ca=new Map;function em(i,t){t=t||{};let e=i+JSON.stringify(t),n=ca.get(e);return n||(n=new Intl.NumberFormat(i,t),ca.set(e,n)),n}function Wi(i,t,e){return em(t,e).format(i)}var Aa={values(i){return ve(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,s,r=i;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=tm(i,e)}let o=Ht(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Wi(i,n,d)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Ht(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Aa.numeric.call(this,i,t,e):""}};function tm(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var dn={formatters:Aa};function im(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var ni=Object.create(null),ks=Object.create(null);function an(i,t){if(!t)return i;let e=t.split(".");for(let n=0,s=e.length;n<s;++n){let r=e[n];i=i[r]||(i[r]=Object.create(null))}return i}function hr(i,t,e){return typeof t=="string"?Ri(an(i,t),e):Ri(an(i,""),t)}var fr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>pr(s.backgroundColor),this.hoverBorderColor=(n,s)=>pr(s.borderColor),this.hoverColor=(n,s)=>pr(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return hr(this,t,e)}get(t){return an(this,t)}describe(t,e){return hr(ks,t,e)}override(t,e){return hr(ni,t,e)}route(t,e,n,s){let r=an(this,t),o=an(this,n),l="_"+e;Object.defineProperties(r,{[l]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let d=this[l],u=o[s];return re(d)?Object.assign({},u,d):Z(d,u)},set(d){this[l]=d}}})}apply(t){t.forEach(e=>e(this))}},ye=new fr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ju,Zu,im]);function nm(i){return!i||se(i.size)||se(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ln(i,t,e,n,s){let r=t[s];return r||(r=t[s]=i.measureText(s).width,e.push(s)),r>n&&(n=r),n}function Da(i,t,e,n){n=n||{};let s=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},r=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,l=e.length,d,u,h,f,x;for(d=0;d<l;d++)if(f=e[d],f!=null&&!ve(f))o=ln(i,s,r,o,f);else if(ve(f))for(u=0,h=f.length;u<h;u++)x=f[u],x!=null&&!ve(x)&&(o=ln(i,s,r,o,x));i.restore();let g=r.length/2;if(g>e.length){for(d=0;d<g;d++)delete s[r[d]];r.splice(0,g)}return o}function si(i,t,e){let n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function Tr(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Es(i,t,e,n){Ir(i,t,e,n,null)}function Ir(i,t,e,n,s){let r,o,l,d,u,h,f,x,g=t.pointStyle,S=t.rotation,w=t.radius,E=(S||0)*Yu;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(E),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(w)||w<=0)){switch(i.beginPath(),g){default:s?i.ellipse(e,n,s/2,w,0,0,be):i.arc(e,n,w,0,be),i.closePath();break;case"triangle":h=s?s/2:w,i.moveTo(e+Math.sin(E)*h,n-Math.cos(E)*w),E+=oa,i.lineTo(e+Math.sin(E)*h,n-Math.cos(E)*w),E+=oa,i.lineTo(e+Math.sin(E)*h,n-Math.cos(E)*w),i.closePath();break;case"rectRounded":u=w*.516,d=w-u,o=Math.cos(E+pi)*d,f=Math.cos(E+pi)*(s?s/2-u:d),l=Math.sin(E+pi)*d,x=Math.sin(E+pi)*(s?s/2-u:d),i.arc(e-f,n-l,u,E-oe,E-Ae),i.arc(e+x,n-o,u,E-Ae,E),i.arc(e+f,n+l,u,E,E+Ae),i.arc(e-x,n+o,u,E+Ae,E+oe),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*w,h=s?s/2:d,i.rect(e-h,n-d,2*h,2*d);break}E+=pi;case"rectRot":f=Math.cos(E)*(s?s/2:w),o=Math.cos(E)*w,l=Math.sin(E)*w,x=Math.sin(E)*(s?s/2:w),i.moveTo(e-f,n-l),i.lineTo(e+x,n-o),i.lineTo(e+f,n+l),i.lineTo(e-x,n+o),i.closePath();break;case"crossRot":E+=pi;case"cross":f=Math.cos(E)*(s?s/2:w),o=Math.cos(E)*w,l=Math.sin(E)*w,x=Math.sin(E)*(s?s/2:w),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o);break;case"star":f=Math.cos(E)*(s?s/2:w),o=Math.cos(E)*w,l=Math.sin(E)*w,x=Math.sin(E)*(s?s/2:w),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o),E+=pi,f=Math.cos(E)*(s?s/2:w),o=Math.cos(E)*w,l=Math.sin(E)*w,x=Math.sin(E)*(s?s/2:w),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o);break;case"line":o=s?s/2:Math.cos(E)*w,l=Math.sin(E)*w,i.moveTo(e-o,n-l),i.lineTo(e+o,n+l);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(E)*(s?s/2:w),n+Math.sin(E)*w);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function kt(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function un(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function mn(i){i.restore()}function Ta(i,t,e,n,s){if(!t)return i.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else s==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Ia(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function sm(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),se(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function rm(i,t,e,n,s){if(s.strikethrough||s.underline){let r=i.measureText(n),o=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,d=e-r.actualBoundingBoxAscent,u=e+r.actualBoundingBoxDescent,h=s.strikethrough?(d+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(o,h),i.lineTo(l,h),i.stroke()}}function om(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ri(i,t,e,n,s,r={}){let o=ve(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="",d,u;for(i.save(),i.font=s.string,sm(i,r),d=0;d<o.length;++d)u=o[d],r.backdrop&&om(i,r.backdrop),l&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),se(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(u,e,n,r.maxWidth)),i.fillText(u,e,n,r.maxWidth),rm(i,e,n,u,r),n+=Number(s.lineHeight);i.restore()}function Gi(i,t){let{x:e,y:n,w:s,h:r,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*oe,oe,!0),i.lineTo(e,n+r-o.bottomLeft),i.arc(e+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,oe,Ae,!0),i.lineTo(e+s-o.bottomRight,n+r),i.arc(e+s-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Ae,0,!0),i.lineTo(e+s,n+o.topRight),i.arc(e+s-o.topRight,n+o.topRight,o.topRight,0,-Ae,!0),i.lineTo(e+o.topLeft,n)}var am=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lm=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cm(i,t){let e=(""+i).match(am);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var dm=i=>+i||0;function As(i,t){let e={},n=re(t),s=n?Object.keys(t):t,r=re(i)?n?o=>Z(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of s)e[o]=dm(r(o));return e}function Pr(i){return As(i,{top:"y",right:"x",bottom:"y",left:"x"})}function oi(i){return As(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Ye(i){let t=Pr(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Oe(i,t){i=i||{},t=t||ye.font;let e=Z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=Z(i.style,t.style);n&&!(""+n).match(lm)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:Z(i.family,t.family),lineHeight:cm(Z(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:Z(i.weight,t.weight),string:""};return s.string=nm(s),s}function $i(i,t,e,n){let s=!0,r,o,l;for(r=0,o=i.length;r<o;++r)if(l=i[r],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),s=!1),e!==void 0&&ve(l)&&(l=l[e%l.length],s=!1),l!==void 0))return n&&!s&&(n.cacheable=!1),l}function Pa(i,t,e){let{min:n,max:s}=i,r=gr(t,(s-n)/2),o=(l,d)=>e&&l===0?0:l+d;return{min:o(n,-Math.abs(r)),max:o(s,r)}}function Nt(i,t){return Object.assign(Object.create(i),t)}function Ds(i,t=[""],e,n,s=()=>i[0]){let r=e||i;typeof n>"u"&&(n=Oa("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:s,override:l=>Ds([l,...i],t,r,n)};return new Proxy(o,{deleteProperty(l,d){return delete l[d],delete l._keys,delete i[0][d],!0},get(l,d){return Va(l,d,()=>xm(d,t,i,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(l,d){return ua(l).includes(d)},ownKeys(l){return ua(l)},set(l,d,u){let h=l._storage||(l._storage=s());return l[d]=h[d]=u,delete l._keys,!0}})}function fi(i,t,e,n){let s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Vr(i,n),setContext:r=>fi(i,r,e,n),override:r=>fi(i.override(r),t,e,n)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete i[o],!0},get(r,o,l){return Va(r,o,()=>mm(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(r,o,l){return i[o]=l,delete r[o],!0}})}function Vr(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:Rt(e)?e:()=>e,isIndexable:Rt(n)?n:()=>n}}var um=(i,t)=>i?i+ws(t):t,Lr=(i,t)=>re(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Va(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function mm(i,t,e){let{_proxy:n,_context:s,_subProxy:r,_descriptors:o}=i,l=n[t];return Rt(l)&&o.isScriptable(t)&&(l=pm(t,l,i,e)),ve(l)&&l.length&&(l=hm(t,l,i,o.isIndexable)),Lr(t,l)&&(l=fi(l,s,r&&r[t],o)),l}function pm(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_stack:l}=e;if(l.has(i))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+i);l.add(i);let d=t(r,o||n);return l.delete(i),Lr(i,d)&&(d=Or(s._scopes,s,i,d)),d}function hm(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=e;if(typeof r.index<"u"&&n(i))return t[r.index%t.length];if(re(t[0])){let d=t,u=s._scopes.filter(h=>h!==d);t=[];for(let h of d){let f=Or(u,s,i,h);t.push(fi(f,r,o&&o[i],l))}}return t}function La(i,t,e){return Rt(i)?i(t,e):i}var fm=(i,t)=>i===!0?t:typeof i=="string"?jt(t,i):void 0;function gm(i,t,e,n,s){for(let r of t){let o=fm(e,r);if(o){i.add(o);let l=La(o._fallback,e,s);if(typeof l<"u"&&l!==e&&l!==n)return l}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function Or(i,t,e,n){let s=t._rootScopes,r=La(t._fallback,e,n),o=[...i,...s],l=new Set;l.add(n);let d=da(l,o,e,r||e,n);return d===null||typeof r<"u"&&r!==e&&(d=da(l,o,r,d,n),d===null)?!1:Ds(Array.from(l),[""],s,r,()=>_m(t,e,n))}function da(i,t,e,n,s){for(;e;)e=gm(i,t,e,n,s);return e}function _m(i,t,e){let n=i._getTarget();t in n||(n[t]={});let s=n[t];return ve(s)&&re(e)?e:s||{}}function xm(i,t,e,n){let s;for(let r of t)if(s=Oa(um(r,i),e),typeof s<"u")return Lr(i,s)?Or(e,n,i,s):s}function Oa(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function ua(i){let t=i._keys;return t||(t=i._keys=vm(i._scopes)),t}function vm(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function Fr(i,t,e,n){let{iScale:s}=i,{key:r="r"}=this._parsing,o=new Array(n),l,d,u,h;for(l=0,d=n;l<d;++l)u=l+e,h=t[u],o[l]={r:s.parse(jt(h,r),u)};return o}var bm=Number.EPSILON||1e-14,Hi=(i,t)=>t<i.length&&!i[t].skip&&i[t],Fa=i=>i==="x"?"y":"x";function ym(i,t,e,n){let s=i.skip?t:i,r=t,o=e.skip?t:e,l=bs(r,s),d=bs(o,r),u=l/(l+d),h=d/(l+d);u=isNaN(u)?0:u,h=isNaN(h)?0:h;let f=n*u,x=n*h;return{previous:{x:r.x-f*(o.x-s.x),y:r.y-f*(o.y-s.y)},next:{x:r.x+x*(o.x-s.x),y:r.y+x*(o.y-s.y)}}}function wm(i,t,e){let n=i.length,s,r,o,l,d,u=Hi(i,0);for(let h=0;h<n-1;++h)if(d=u,u=Hi(i,h+1),!(!d||!u)){if(Bi(t[h],0,bm)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),e[h]=s*o*t[h],e[h+1]=r*o*t[h])}}function Cm(i,t,e="x"){let n=Fa(e),s=i.length,r,o,l,d=Hi(i,0);for(let u=0;u<s;++u){if(o=l,l=d,d=Hi(i,u+1),!l)continue;let h=l[e],f=l[n];o&&(r=(h-o[e])/3,l[`cp1${e}`]=h-r,l[`cp1${n}`]=f-r*t[u]),d&&(r=(d[e]-h)/3,l[`cp2${e}`]=h+r,l[`cp2${n}`]=f+r*t[u])}}function Sm(i,t="x"){let e=Fa(t),n=i.length,s=Array(n).fill(0),r=Array(n),o,l,d,u=Hi(i,0);for(o=0;o<n;++o)if(l=d,d=u,u=Hi(i,o+1),!!d){if(u){let h=u[t]-d[t];s[o]=h!==0?(u[e]-d[e])/h:0}r[o]=l?u?_t(s[o-1])!==_t(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}wm(i,s,r),Cm(i,r,t)}function fs(i,t,e){return Math.max(Math.min(i,e),t)}function Mm(i,t){let e,n,s,r,o,l=kt(i[0],t);for(e=0,n=i.length;e<n;++e)o=r,r=l,l=e<n-1&&kt(i[e+1],t),r&&(s=i[e],o&&(s.cp1x=fs(s.cp1x,t.left,t.right),s.cp1y=fs(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=fs(s.cp2x,t.left,t.right),s.cp2y=fs(s.cp2y,t.top,t.bottom)))}function Ra(i,t,e,n,s){let r,o,l,d;if(t.spanGaps&&(i=i.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")Sm(i,s);else{let u=n?i[i.length-1]:i[0];for(r=0,o=i.length;r<o;++r)l=i[r],d=ym(u,l,i[Math.min(r+1,o-(n?0:1))%o],t.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,u=l}t.capBezierPoints&&Mm(i,e)}function Ts(){return typeof window<"u"&&typeof document<"u"}function Is(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ys(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var Ps=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function km(i,t){return Ps(i).getPropertyValue(t)}var Em=["top","right","bottom","left"];function hi(i,t,e){let n={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=Em[s];n[r]=parseFloat(i[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Am=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Dm(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:r}=n,o=!1,l,d;if(Am(s,r,i.target))l=s,d=r;else{let u=t.getBoundingClientRect();l=n.clientX-u.left,d=n.clientY-u.top,o=!0}return{x:l,y:d,box:o}}function ai(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,s=Ps(e),r=s.boxSizing==="border-box",o=hi(s,"padding"),l=hi(s,"border","width"),{x:d,y:u,box:h}=Dm(i,e),f=o.left+(h&&l.left),x=o.top+(h&&l.top),{width:g,height:S}=t;return r&&(g-=o.width+l.width,S-=o.height+l.height),{x:Math.round((d-f)/g*e.width/n),y:Math.round((u-x)/S*e.height/n)}}function Tm(i,t,e){let n,s;if(t===void 0||e===void 0){let r=i&&Is(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{let o=r.getBoundingClientRect(),l=Ps(r),d=hi(l,"border","width"),u=hi(l,"padding");t=o.width-u.width-d.width,e=o.height-u.height-d.height,n=ys(l.maxWidth,r,"clientWidth"),s=ys(l.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||vs,maxHeight:s||vs}}var gs=i=>Math.round(i*10)/10;function Ha(i,t,e,n){let s=Ps(i),r=hi(s,"margin"),o=ys(s.maxWidth,i,"clientWidth")||vs,l=ys(s.maxHeight,i,"clientHeight")||vs,d=Tm(i,t,e),{width:u,height:h}=d;if(s.boxSizing==="content-box"){let x=hi(s,"border","width"),g=hi(s,"padding");u-=g.width+x.width,h-=g.height+x.height}return u=Math.max(0,u-r.width),h=Math.max(0,n?u/n:h-r.height),u=gs(Math.min(u,o,d.maxWidth)),h=gs(Math.min(h,l,d.maxHeight)),u&&!h&&(h=gs(u/2)),(t!==void 0||e!==void 0)&&n&&d.height&&h>d.height&&(h=d.height,u=gs(Math.floor(h*n))),{width:u,height:h}}function Rr(i,t,e){let n=t||1,s=Math.floor(i.height*n),r=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==s||o.width!==r?(i.currentDevicePixelRatio=n,o.height=s,o.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var ja=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};Ts()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Hr(i,t){let e=km(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ii(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Na(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function Ba(i,t,e,n){let s={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},o=ii(i,s,e),l=ii(s,r,e),d=ii(r,t,e),u=ii(o,l,e),h=ii(l,d,e);return ii(u,h,e)}var Im=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Pm=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function _i(i,t,e){return i?Im(t,e):Pm()}function jr(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Nr(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function za(i){return i==="angle"?{between:zi,compare:Xu,normalize:$e}:{between:At,compare:(t,e)=>t-e,normalize:t=>t}}function ma({start:i,end:t,count:e,loop:n,style:s}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:s}}function Vm(i,t,e){let{property:n,start:s,end:r}=e,{between:o,normalize:l}=za(n),d=t.length,{start:u,end:h,loop:f}=i,x,g;if(f){for(u+=d,h+=d,x=0,g=d;x<g&&o(l(t[u%d][n]),s,r);++x)u--,h--;u%=d,h%=d}return h<u&&(h+=d),{start:u,end:h,loop:f,style:i.style}}function Br(i,t,e){if(!e)return[i];let{property:n,start:s,end:r}=e,o=t.length,{compare:l,between:d,normalize:u}=za(n),{start:h,end:f,loop:x,style:g}=Vm(i,t,e),S=[],w=!1,E=null,L,V,j,B=()=>d(s,j,L)&&l(s,j)!==0,H=()=>l(r,L)===0||d(r,j,L),N=()=>w||B(),U=()=>!w||H();for(let G=h,q=h;G<=f;++G)V=t[G%o],!V.skip&&(L=u(V[n]),L!==j&&(w=d(L,s,r),E===null&&N()&&(E=l(L,s)===0?G:q),E!==null&&U()&&(S.push(ma({start:E,end:G,loop:x,count:o,style:g})),E=null),q=G,j=L));return E!==null&&S.push(ma({start:E,end:f,loop:x,count:o,style:g})),S}function zr(i,t){let e=[],n=i.segments;for(let s=0;s<n.length;s++){let r=Br(n[s],i.points,t);r.length&&e.push(...r)}return e}function Lm(i,t,e,n){let s=0,r=t-1;if(e&&!n)for(;s<t&&!i[s].skip;)s++;for(;s<t&&i[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&i[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Om(i,t,e,n){let s=i.length,r=[],o=t,l=i[t],d;for(d=t+1;d<=e;++d){let u=i[d%s];u.skip||u.stop?l.skip||(n=!1,r.push({start:t%s,end:(d-1)%s,loop:n}),t=o=u.stop?d:null):(o=d,l.skip&&(t=d)),l=u}return o!==null&&r.push({start:t%s,end:o%s,loop:n}),r}function Wa(i,t){let e=i.points,n=i.options.spanGaps,s=e.length;if(!s)return[];let r=!!i._loop,{start:o,end:l}=Lm(e,s,r,n);if(n===!0)return pa(i,[{start:o,end:l,loop:r}],e,t);let d=l<o?l+s:l,u=!!i._fullLoop&&o===0&&l===s-1;return pa(i,Om(e,o,d,u),e,t)}function pa(i,t,e,n){return!n||!n.setContext||!e?t:Fm(i,t,e,n)}function Fm(i,t,e,n){let s=i._chart.getContext(),r=ha(i.options),{_datasetIndex:o,options:{spanGaps:l}}=i,d=e.length,u=[],h=r,f=t[0].start,x=f;function g(S,w,E,L){let V=l?-1:1;if(S!==w){for(S+=d;e[S%d].skip;)S-=V;for(;e[w%d].skip;)w+=V;S%d!==w%d&&(u.push({start:S%d,end:w%d,loop:E,style:L}),h=L,f=w%d)}}for(let S of t){f=l?f:S.start;let w=e[f%d],E;for(x=f+1;x<=S.end;x++){let L=e[x%d];E=ha(n.setContext(Nt(s,{type:"segment",p0:w,p1:L,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:o}))),Rm(E,h)&&g(f,x-1,S.loop,h),w=L,h=E}f<x-1&&g(f,x-1,S.loop,h)}return u}function ha(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Rm(i,t){if(!t)return!1;let e=[],n=function(s,r){return Ar(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function _s(i,t,e){return i.options.clip?i[e]:t[e]}function Hm(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:_s(e,t,"left"),right:_s(e,t,"right"),top:_s(n,t,"top"),bottom:_s(n,t,"bottom")}:t}function Wr(i,t){let e=t._clip;if(e.disabled)return!1;let n=Hm(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var to=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){let r=e.listeners[s],o=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Sr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let r=n.items,o=r.length-1,l=!1,d;for(;o>=0;--o)d=r[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(t),l=!0):(r[o]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,n,t,"progress")),r.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Bt=new to,Ga="transparent",jm={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=Dr(i||Ga),s=n.valid&&Dr(t||Ga);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},io=class{constructor(t,e,n,s){let r=e[n];s=$i([t.to,s,r,t.from]);let o=$i([t.from,r,s]);this._active=!0,this._fn=t.fn||jm[t.type||typeof o],this._easing=Fi[t.easing]||Fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let s=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=$i([t.to,e,s,t.from]),this._from=$i([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,s=this._prop,r=this._from,o=this._loop,l=this._to,d;if(this._active=r!==l&&(o||e<n),!this._active){this._target[s]=l,this._notify(!0);return}if(e<0){this._target[s]=r;return}d=e/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(r,l,d)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}},Bs=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!re(t))return;let e=Object.keys(ye.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let r=t[s];if(!re(r))return;let o={};for(let l of e)o[l]=r[l];(ve(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){let n=e.options,s=Bm(t,n);if(!s)return[];let r=this._createAnimations(s,n);return n.$shared&&Nm(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){let n=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now(),d;for(d=o.length-1;d>=0;--d){let u=o[d];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,e));continue}let h=e[u],f=r[u],x=n.get(u);if(f)if(x&&f.active()){f.update(x,h,l);continue}else f.cancel();if(!x||!x.duration){t[u]=h;continue}r[u]=f=new io(x,t,u,h),s.push(f)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Bt.add(this._chart,n),!0}};function Nm(i,t){let e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){let r=i[n[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Bm(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $a(i,t){let e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:s,end:n?s:r}}function zm(i,t,e){if(e===!1)return!1;let n=$a(i,e),s=$a(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function Wm(i){let t,e,n,s;return re(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function Gl(i,t){let e=[],n=i._getSortedDatasetMetas(t),s,r;for(s=0,r=n.length;s<r;++s)e.push(n[s].index);return e}function Ua(i,t,e,n={}){let s=i.keys,r=n.mode==="single",o,l,d,u;if(t===null)return;let h=!1;for(o=0,l=s.length;o<l;++o){if(d=+s[o],d===e){if(h=!0,n.all)continue;break}u=i.values[d],ke(u)&&(r||t===0||_t(t)===_t(u))&&(t+=u)}return!h&&!n.all?0:t}function Gm(i,t){let{iScale:e,vScale:n}=t,s=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(i),l=new Array(o.length),d,u,h;for(d=0,u=o.length;d<u;++d)h=o[d],l[d]={[s]:h,[r]:i[h]};return l}function Gr(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function $m(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Um(i){let{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Ym(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Ya(i,t,e,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let r=i[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function qa(i,t){let{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:l}=n,d=r.axis,u=o.axis,h=$m(r,o,n),f=t.length,x;for(let g=0;g<f;++g){let S=t[g],{[d]:w,[u]:E}=S,L=S._stacks||(S._stacks={});x=L[u]=Ym(s,h,w),x[l]=E,x._top=Ya(x,o,!0,n.type),x._bottom=Ya(x,o,!1,n.type);let V=x._visualValues||(x._visualValues={});V[l]=E}}function $r(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function qm(i,t){return Nt(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Xm(i,t,e){return Nt(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function pn(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let s of t){let r=s._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}var Ur=i=>i==="reset"||i==="none",Xa=(i,t)=>t?i:Object.assign({},i),Qm=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Gl(e,!0),values:null},ci=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pn(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(x,g,S,w)=>x==="x"?g:x==="r"?w:S,o=n.xAxisID=Z(s.xAxisID,$r(e,"x")),l=n.yAxisID=Z(s.yAxisID,$r(e,"y")),d=n.rAxisID=Z(s.rAxisID,$r(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,o,l,d),f=n.vAxisID=r(u,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&wr(this._data,this),e._stacked&&pn(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(re(n)){let r=this._cachedMeta;this._data=Gm(n,r)}else if(s!==n){if(s){wr(s,this);let r=this._cachedMeta;pn(r),r._parsed=[]}n&&Object.isExtensible(n)&&Ma(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,s=this.getDataset(),r=!1;this._dataCheck();let o=n._stacked;n._stacked=Gr(n.vScale,n),n.stack!==s.stack&&(r=!0,pn(n),n.stack=s.stack),this._resyncElements(e),(r||o!==n._stacked)&&(qa(this,n._parsed),n._stacked=Gr(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:l}=s,d=o.axis,u=e===0&&n===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],f,x,g;if(this._parsing===!1)s._parsed=r,s._sorted=!0,g=r;else{ve(r[e])?g=this.parseArrayData(s,r,e,n):re(r[e])?g=this.parseObjectData(s,r,e,n):g=this.parsePrimitiveData(s,r,e,n);let S=()=>x[d]===null||h&&x[d]<h[d];for(f=0;f<n;++f)s._parsed[f+e]=x=g[f],u&&(S()&&(u=!1),h=x);s._sorted=u}l&&qa(this,g)}parsePrimitiveData(e,n,s,r){let{iScale:o,vScale:l}=e,d=o.axis,u=l.axis,h=o.getLabels(),f=o===l,x=new Array(r),g,S,w;for(g=0,S=r;g<S;++g)w=g+s,x[g]={[d]:f||o.parse(h[w],w),[u]:l.parse(n[w],w)};return x}parseArrayData(e,n,s,r){let{xScale:o,yScale:l}=e,d=new Array(r),u,h,f,x;for(u=0,h=r;u<h;++u)f=u+s,x=n[f],d[u]={x:o.parse(x[0],f),y:l.parse(x[1],f)};return d}parseObjectData(e,n,s,r){let{xScale:o,yScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(r),f,x,g,S;for(f=0,x=r;f<x;++f)g=f+s,S=n[g],h[f]={x:o.parse(jt(S,d),g),y:l.parse(jt(S,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){let r=this.chart,o=this._cachedMeta,l=n[e.axis],d={keys:Gl(r,!0),values:n._stacks[e.axis]._visualValues};return Ua(d,l,o.index,{mode:s})}updateRangeFromParsed(e,n,s,r){let o=s[n.axis],l=o===null?NaN:o,d=r&&s._stacks[n.axis];r&&d&&(r.values=d,l=Ua(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){let s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,l=r.length,d=this._getOtherScale(e),u=Qm(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:x}=Um(d),g,S;function w(){S=r[g];let E=S[d.axis];return!ke(S[e.axis])||f>E||x<E}for(g=0;g<l&&!(!w()&&(this.updateRangeFromParsed(h,e,S,u),o));++g);if(o){for(g=l-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(h,e,S,u);break}}return h}getAllParsedValues(e){let n=this._cachedMeta._parsed,s=[],r,o,l;for(r=0,o=n.length;r<o;++r)l=n[r][e.axis],ke(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,s=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=Wm(Z(this.options.clip,zm(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||r.length-d,h=this.options.drawActiveElementsOnTop,f;for(s.dataset&&s.dataset.draw(e,o,d,u),f=d;f<d+u;++f){let x=r[f];x.hidden||(x.active&&h?l.push(x):x.draw(e,o))}for(f=0;f<l.length;++f)l[f].draw(e,o)}getStyle(e,n){let s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){let r=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let l=this._cachedMeta.data[e];o=l.$context||(l.$context=Xm(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=qm(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){let r=n==="active",o=this._cachedDataOpts,l=e+"-"+n,d=o[l],u=this.enableOptionSharing&&Ni(s);if(d)return Xa(d,u);let h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),S=Object.keys(ye.elements[e]),w=()=>this.getContext(s,r,n),E=h.resolveNamedOptions(g,S,w,x);return E.$shared&&(E.$shared=u,o[l]=Object.freeze(Xa(E,u))),E}_resolveAnimations(e,n,s){let r=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let u;if(r.options.animation!==!1){let f=this.chart.config,x=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),x);u=f.createResolver(g,this.getContext(e,s,n))}let h=new Bs(r,u&&u.animations);return u&&u._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ur(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(e,n,s,r){Ur(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Ur(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;let o=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,s=this._cachedMeta.data;for(let[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];let r=s.length,o=n.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,s=!0){let r=this._cachedMeta,o=r.data,l=e+n,d,u=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(u(o),d=e;d<l;++d)o[d]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){let s=this._cachedMeta;if(this._parsing){let r=s._parsed.splice(e,n);s._stacked&&pn(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Km(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let s=0,r=e.length;s<r;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=Cr(n.sort((s,r)=>s-r))}return i._cache.$bar}function Jm(i){let t=i.iScale,e=Km(t,i.type),n=t._length,s,r,o,l,d=()=>{o===32767||o===-32768||(Ni(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),d();for(l=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),d();return n}function Zm(i,t,e,n){let s=e.barThickness,r,o;return se(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[i]-r/2}}function ep(i,t,e,n){let s=t.pixels,r=s[i],o=i>0?s[i-1]:null,l=i<s.length-1?s[i+1]:null,d=e.categoryPercentage;o===null&&(o=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-o);let u=r-(r-Math.min(o,l))/2*d;return{chunk:Math.abs(l-o)/2*d/n,ratio:e.barPercentage,start:u}}function tp(i,t,e,n){let s=e.parse(i[0],n),r=e.parse(i[1],n),o=Math.min(s,r),l=Math.max(s,r),d=o,u=l;Math.abs(o)>Math.abs(l)&&(d=l,u=o),t[e.axis]=u,t._custom={barStart:d,barEnd:u,start:s,end:r,min:o,max:l}}function $l(i,t,e,n){return ve(i)?tp(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Qa(i,t,e,n){let s=i.iScale,r=i.vScale,o=s.getLabels(),l=s===r,d=[],u,h,f,x;for(u=e,h=e+n;u<h;++u)x=t[u],f={},f[s.axis]=l||s.parse(o[u],u),d.push($l(x,f,r,u));return d}function Yr(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function ip(i,t,e){return i!==0?_t(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function np(i){let t,e,n,s,r;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:n,reverse:t,top:s,bottom:r}}function sp(i,t,e,n){let s=t.borderSkipped,r={};if(!s){i.borderSkipped=r;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:l,reverse:d,top:u,bottom:h}=np(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=u:(e._bottom||0)===n?s=h:(r[Ka(h,o,l,d)]=!0,s=u)),r[Ka(s,o,l,d)]=!0,i.borderSkipped=r}function Ka(i,t,e,n){return n?(i=rp(i,t,e),i=Ja(i,e,t)):i=Ja(i,t,e),i}function rp(i,t,e){return i===t?e:i===e?t:i}function Ja(i,t,e){return i==="start"?t:i==="end"?e:i}function op(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var ap=(()=>{class i extends ci{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,r){return Qa(e,n,s,r)}parseArrayData(e,n,s,r){return Qa(e,n,s,r)}parseObjectData(e,n,s,r){let{iScale:o,vScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?d:u,f=l.axis==="x"?d:u,x=[],g,S,w,E;for(g=s,S=s+r;g<S;++g)E=n[g],w={},w[o.axis]=o.parse(jt(E,h),g),x.push($l(jt(E,f),w,l,g));return x}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);let o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:s,vScale:r}=n,o=this.getParsed(e),l=o._custom,d=Yr(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){let o=r==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),f=this._getRuler(),{sharedOptions:x,includeOptions:g}=this._getSharedOptions(n,r);for(let S=n;S<n+s;S++){let w=this.getParsed(S),E=o||se(w[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(S),L=this._calculateBarIndexPixels(S,f),V=(w._stacks||{})[d.axis],j={horizontal:h,base:E.base,enableBorderRadius:!V||Yr(w._custom)||l===V._top||l===V._bottom,x:h?E.head:L.center,y:h?L.center:E.head,height:h?L.size:Math.abs(E.size),width:h?Math.abs(E.size):L.size};g&&(j.options=x||this.resolveDataElementOptions(S,e[S].active?"active":r));let B=j.options||e[S].options;sp(j,B,V,l),op(j,B,f.ratio),this.updateElement(e[S],S,j,r)}}_getStacks(e,n){let{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),u=d&&d[s.axis],h=f=>{let x=f._parsed.find(S=>S[s.axis]===u),g=x&&x[f.vScale.axis];if(se(g)||isNaN(g))return!0};for(let f of r)if(!(n!==void 0&&h(f))&&((o===!1||l.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&l.push(f.stack),f.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let s of this.chart.data.datasets)e[Z(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){let r=this._getStacks(e,s),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){let e=this.options,n=this._cachedMeta,s=n.iScale,r=[],o,l;for(o=0,l=n.data.length;o<l;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));let d=e.barThickness;return{min:d||Jm(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:o,minBarLength:l}}=this,d=o||0,u=this.getParsed(e),h=u._custom,f=Yr(h),x=u[n.axis],g=0,S=s?this.applyStack(n,u,s):x,w,E;S!==x&&(g=S-x,S=x),f&&(x=h.barStart,S=h.barEnd-h.barStart,x!==0&&_t(x)!==_t(h.barEnd)&&(g=0),g+=x);let L=!se(o)&&!f?o:g,V=n.getPixelForValue(L);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(g+S):w=V,E=w-V,Math.abs(E)<l){E=ip(E,n,d)*l,x===d&&(V-=E/2);let j=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),H=Math.min(j,B),N=Math.max(j,B);V=Math.max(Math.min(V,N),H),w=V+E,s&&!f&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(w)-n.getValueForPixel(V))}if(V===n.getPixelForValue(d)){let j=_t(E)*n.getLineWidthForValue(d)/2;V+=j,E-=j}return{size:E,base:V,head:w,center:w+E/2}}_calculateBarIndexPixels(e,n){let s=n.scale,r=this.options,o=r.skipNull,l=Z(r.maxBarThickness,1/0),d,u,h=this._getAxisCount();if(n.grouped){let f=o?this._getStackCount(e):n.stackCount,x=r.barThickness==="flex"?ep(e,n,r,f*h):Zm(e,n,r,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Z(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+S;d=x.start+x.chunk*w+x.chunk/2,u=Math.min(l,x.chunk*x.ratio)}else d=s.getPixelForValue(this.getParsed(e)[s.axis],e),u=Math.min(l,n.min*n.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){let e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length,o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}return i})(),lp=(()=>{class i extends ci{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,r){let o=super.parsePrimitiveData(e,n,s,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+s).radius;return o}parseArrayData(e,n,s,r){let o=super.parseArrayData(e,n,s,r);for(let l=0;l<o.length;l++){let d=n[s+l];o[l]._custom=Z(d[2],this.resolveDataElementOptions(l+s).radius)}return o}parseObjectData(e,n,s,r){let o=super.parseObjectData(e,n,s,r);for(let l=0;l<o.length;l++){let d=n[s+l];o[l]._custom=Z(d&&d.r&&+d.r,this.resolveDataElementOptions(l+s).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=n,l=this.getParsed(e),d=r.getLabelForValue(l.x),u=o.getLabelForValue(l.y),h=l._custom;return{label:s[e]||"",value:"("+d+", "+u+(h?", "+h:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=l.axis,x=d.axis;for(let g=n;g<n+s;g++){let S=e[g],w=!o&&this.getParsed(g),E={},L=E[f]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[f]),V=E[x]=o?d.getBasePixel():d.getPixelForValue(w[x]);E.skip=isNaN(L)||isNaN(V),h&&(E.options=u||this.resolveDataElementOptions(g,S.active?"active":r),o&&(E.options.radius=0)),this.updateElement(S,g,E,r)}}resolveDataElementOptions(e,n){let s=this.getParsed(e),r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let o=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Z(s&&s._custom,o),r}}return i})();function cp(i,t,e){let n=1,s=1,r=0,o=0;if(t<be){let l=i,d=l+t,u=Math.cos(l),h=Math.sin(l),f=Math.cos(d),x=Math.sin(d),g=(j,B,H)=>zi(j,l,d,!0)?1:Math.max(B,B*e,H,H*e),S=(j,B,H)=>zi(j,l,d,!0)?-1:Math.min(B,B*e,H,H*e),w=g(0,u,f),E=g(Ae,h,x),L=S(oe,u,f),V=S(oe+Ae,h,x);n=(w-L)/2,s=(E-V)/2,r=-(w+L)/2,o=-(E+V)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:o}}var Co=(()=>{class i extends ci{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((o,l)=>{let u=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=u=>+s[u];if(re(s[e])){let{key:u="value"}=this._parsing;o=h=>+jt(s[h],u)}let l,d;for(l=e,d=e+n;l<d;++l)r._parsed[l]=o(l)}}_getRotation(){return mt(this.options.rotation-90)}_getCircumference(){return mt(this.options.circumference)}_getRotationExtents(){let e=be,n=-be;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),l=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:s}=n,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),u=Math.min(ga(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:f,rotation:x}=this._getRotationExtents(),{ratioX:g,ratioY:S,offsetX:w,offsetY:E}=cp(x,f,u),L=(s.width-l)/g,V=(s.height-l)/S,j=Math.max(Math.min(L,V)/2,0),B=gr(this.options.radius,j),H=Math.max(B*u,0),N=(B-H)/this._getVisibleDatasetWeightTotal();this.offsetX=w*B,this.offsetY=E*B,r.total=this.calculateTotal(),this.outerRadius=B-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){let s=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/be)}updateElements(e,n,s,r){let o=r==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,f=(d.left+d.right)/2,x=(d.top+d.bottom)/2,g=o&&h.animateScale,S=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:E,includeOptions:L}=this._getSharedOptions(n,r),V=this._getRotation(),j;for(j=0;j<n;++j)V+=this._circumference(j,o);for(j=n;j<n+s;++j){let B=this._circumference(j,o),H=e[j],N={x:f+this.offsetX,y:x+this.offsetY,startAngle:V,endAngle:V+B,circumference:B,outerRadius:w,innerRadius:S};L&&(N.options=E||this.resolveDataElementOptions(j,H.active?"active":r)),V+=B,this.updateElement(H,j,N,r)}}calculateTotal(){let e=this._cachedMeta,n=e.data,s=0,r;for(r=0;r<n.length;r++){let o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?be*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=Wi(n._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0,s=this.chart,r,o,l,d,u;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){l=s.getDatasetMeta(r),e=l.data,d=l.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)u=d.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){let o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),dp=(()=>{class i extends ci{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=n,l=this.chart._animationsDisabled,{start:d,count:u}=kr(n,r,l);this._drawStart=d,this._drawCount=u,Er(n)&&(d=0,u=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;let h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:h},e),this.updateElements(r,d,u,e)}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:x}=this._getSharedOptions(n,r),g=l.axis,S=d.axis,{spanGaps:w,segment:E}=this.options,L=gi(w)?w:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",j=n+s,B=e.length,H=n>0&&this.getParsed(n-1);for(let N=0;N<B;++N){let U=e[N],G=V?U:{};if(N<n||N>=j){G.skip=!0;continue}let q=this.getParsed(N),J=se(q[S]),ee=G[g]=l.getPixelForValue(q[g],N),te=G[S]=o||J?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,q,u):q[S],N);G.skip=isNaN(ee)||isNaN(te)||J,G.stop=N>0&&Math.abs(q[g]-H[g])>L,E&&(G.parsed=q,G.raw=h.data[N]),x&&(G.options=f||this.resolveDataElementOptions(N,U.active?"active":r)),V||this.updateElement(U,N,G,r),H=q}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,l)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),Ul=(()=>{class i extends ci{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((o,l)=>{let u=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=Wi(n._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,n,s,r){return Fr.bind(this)(e,n,s,r)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,r)=>{let o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,s=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),l=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),d=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,n,s,r){let o=r==="reset",l=this.chart,u=l.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,x=h.yCenter,g=h.getIndexAngle(0)-.5*oe,S=g,w,E=360/this.countVisibleElements();for(w=0;w<n;++w)S+=this._computeAngle(w,r,E);for(w=n;w<n+s;w++){let L=e[w],V=S,j=S+this._computeAngle(w,r,E),B=l.getDataVisibility(w)?h.getDistanceFromCenterForValue(this.getParsed(w).r):0;S=j,o&&(u.animateScale&&(B=0),u.animateRotate&&(V=j=g));let H={x:f,y:x,innerRadius:0,outerRadius:B,startAngle:V,endAngle:j,options:this.resolveDataElementOptions(w,L.active?"active":r)};this.updateElement(L,w,H,r)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?mt(this.resolveDataElementOptions(e,n).angle||s):0}}return i})(),up=(()=>{class i extends Co{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),mp=(()=>{class i extends ci{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,r){return Fr.bind(this)(e,n,s,r)}update(e){let n=this._cachedMeta,s=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(s.points=r,e!=="resize"){let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);let d={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(s,void 0,d,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,s,r){let o=this._cachedMeta.rScale,l=r==="reset";for(let d=n;d<n+s;d++){let u=e[d],h=this.resolveDataElementOptions(d,u.active?"active":r),f=o.getPointPositionForValue(d,this.getParsed(d).r),x=l?o.xCenter:f.x,g=l?o.yCenter:f.y,S={x,y:g,angle:f.angle,skip:isNaN(x)||isNaN(g),options:h};this.updateElement(u,d,S,r)}}}return i})(),pp=(()=>{class i extends ci{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=n,l=this.getParsed(e),d=r.getLabelForValue(l.x),u=o.getLabelForValue(l.y);return{label:s[e]||"",value:"("+d+", "+u+")"}}update(e){let n=this._cachedMeta,{data:s=[]}=n,r=this.chart._animationsDisabled,{start:o,count:l}=kr(n,s,r);if(this._drawStart=o,this._drawCount=l,Er(n)&&(o=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:d,_dataset:u}=n;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!u._decimated,d.points=s;let h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,l,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),x=this.getSharedOptions(f),g=this.includeOptions(r,x),S=l.axis,w=d.axis,{spanGaps:E,segment:L}=this.options,V=gi(E)?E:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||r==="none",B=n>0&&this.getParsed(n-1);for(let H=n;H<n+s;++H){let N=e[H],U=this.getParsed(H),G=j?N:{},q=se(U[w]),J=G[S]=l.getPixelForValue(U[S],H),ee=G[w]=o||q?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,U,u):U[w],H);G.skip=isNaN(J)||isNaN(ee)||q,G.stop=H>0&&Math.abs(U[S]-B[S])>V,L&&(G.parsed=U,G.raw=h.data[H]),g&&(G.options=x||this.resolveDataElementOptions(H,N.active?"active":r)),j||this.updateElement(N,H,G,r),B=U}this.updateSharedOptions(x,r,f)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let d=0;for(let u=n.length-1;u>=0;--u)d=Math.max(d,n[u].size(this.resolveDataElementOptions(u))/2);return d>0&&d}let s=e.dataset,r=s.options&&s.options.borderWidth||0;if(!n.length)return r;let o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,l)/2}}return i})(),hp=Object.freeze({__proto__:null,BarController:ap,BubbleController:lp,DoughnutController:Co,LineController:dp,PieController:up,PolarAreaController:Ul,RadarController:mp,ScatterController:pp});function xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var no=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return xi()}parse(){return xi()}format(){return xi()}add(){return xi()}diff(){return xi()}startOf(){return xi()}endOf(){return xi()}},fp={_date:no};function gp(i,t,e,n){let{controller:s,data:r,_sorted:o}=i,l=s._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&r.length){let u=l._reversePixels?wa:Mt;if(n){if(s._sharedOptions){let h=r[0],f=typeof h.getRange=="function"&&h.getRange(t);if(f){let x=u(r,t,e-f),g=u(r,t,e+f);return{lo:x.lo,hi:g.hi}}}}else{let h=u(r,t,e);if(d){let{vScale:f}=s._cachedMeta,{_parsed:x}=i,g=x.slice(0,h.lo+1).reverse().findIndex(w=>!se(w[f.axis]));h.lo-=Math.max(0,g);let S=x.slice(h.hi).findIndex(w=>!se(w[f.axis]));h.hi+=Math.max(0,S)}return h}}return{lo:0,hi:r.length-1}}function Cn(i,t,e,n,s){let r=i.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,d=r.length;l<d;++l){let{index:u,data:h}=r[l],{lo:f,hi:x}=gp(r[l],t,o,s);for(let g=f;g<=x;++g){let S=h[g];S.skip||n(S,u,g)}}}function _p(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){let r=t?Math.abs(n.x-s.x):0,o=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function qr(i,t,e,n,s){let r=[];return!s&&!i.isPointInArea(t)||Cn(i,e,t,function(l,d,u){!s&&!kt(l,i.chartArea,0)||l.inRange(t.x,t.y,n)&&r.push({element:l,datasetIndex:d,index:u})},!0),r}function xp(i,t,e,n){let s=[];function r(o,l,d){let{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:f}=yr(o,{x:t.x,y:t.y});zi(f,u,h)&&s.push({element:o,datasetIndex:l,index:d})}return Cn(i,e,t,r),s}function vp(i,t,e,n,s,r){let o=[],l=_p(e),d=Number.POSITIVE_INFINITY;function u(h,f,x){let g=h.inRange(t.x,t.y,s);if(n&&!g)return;let S=h.getCenterPoint(s);if(!(!!r||i.isPointInArea(S))&&!g)return;let E=l(t,S);E<d?(o=[{element:h,datasetIndex:f,index:x}],d=E):E===d&&o.push({element:h,datasetIndex:f,index:x})}return Cn(i,e,t,u),o}function Xr(i,t,e,n,s,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!n?xp(i,t,e,s):vp(i,t,e,n,s,r)}function Za(i,t,e,n,s){let r=[],o=e==="x"?"inXRange":"inYRange",l=!1;return Cn(i,e,t,(d,u,h)=>{d[o]&&d[o](t[e],s)&&(r.push({element:d,datasetIndex:u,index:h}),l=l||d.inRange(t.x,t.y,s))}),n&&!l?[]:r}var bp={evaluateInteractionItems:Cn,modes:{index(i,t,e,n){let s=ai(t,i),r=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?qr(i,s,r,n,o):Xr(i,s,r,!1,n,o),d=[];return l.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{let h=l[0].index,f=u.data[h];f&&!f.skip&&d.push({element:f,datasetIndex:u.index,index:h})}),d):[]},dataset(i,t,e,n){let s=ai(t,i),r=e.axis||"xy",o=e.includeInvisible||!1,l=e.intersect?qr(i,s,r,n,o):Xr(i,s,r,!1,n,o);if(l.length>0){let d=l[0].datasetIndex,u=i.getDatasetMeta(d).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:d,index:h})}return l},point(i,t,e,n){let s=ai(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return qr(i,s,r,n,o)},nearest(i,t,e,n){let s=ai(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return Xr(i,s,r,e.intersect,n,o)},x(i,t,e,n){let s=ai(t,i);return Za(i,s,"x",e.intersect,n)},y(i,t,e,n){let s=ai(t,i);return Za(i,s,"y",e.intersect,n)}}},Yl=["left","top","right","bottom"];function hn(i,t){return i.filter(e=>e.pos===t)}function el(i,t){return i.filter(e=>Yl.indexOf(e.pos)===-1&&e.box.axis===t)}function fn(i,t){return i.sort((e,n)=>{let s=t?n:e,r=t?e:n;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function yp(i){let t=[],e,n,s,r,o,l;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:r,options:{stack:o,stackWeight:l=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:l});return t}function wp(i){let t={};for(let e of i){let{stack:n,pos:s,stackWeight:r}=e;if(!n||!Yl.includes(s))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Cp(i,t){let e=wp(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t,r,o,l;for(r=0,o=i.length;r<o;++r){l=i[r];let{fullSize:d}=l.box,u=e[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*n:d&&t.availableWidth,l.height=s):(l.width=n,l.height=h?h*s:d&&t.availableHeight)}return e}function Sp(i){let t=yp(i),e=fn(t.filter(u=>u.box.fullSize),!0),n=fn(hn(t,"left"),!0),s=fn(hn(t,"right")),r=fn(hn(t,"top"),!0),o=fn(hn(t,"bottom")),l=el(t,"x"),d=el(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:s.concat(d).concat(o).concat(l),chartArea:hn(t,"chartArea"),vertical:n.concat(s).concat(d),horizontal:r.concat(o).concat(l)}}function tl(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function ql(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Mp(i,t,e,n){let{pos:s,box:r}=e,o=i.maxPadding;if(!re(s)){e.size&&(i[s]-=e.size);let f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,i[s]+=e.size}r.getPadding&&ql(o,r.getPadding());let l=Math.max(0,t.outerWidth-tl(o,i,"left","right")),d=Math.max(0,t.outerHeight-tl(o,i,"top","bottom")),u=l!==i.w,h=d!==i.h;return i.w=l,i.h=d,e.horizontal?{same:u,other:h}:{same:h,other:u}}function kp(i){let t=i.maxPadding;function e(n){let s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Ep(i,t){let e=t.maxPadding;function n(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return n(i?["left","right"]:["top","bottom"])}function xn(i,t,e,n){let s=[],r,o,l,d,u,h;for(r=0,o=i.length,u=0;r<o;++r){l=i[r],d=l.box,d.update(l.width||t.w,l.height||t.h,Ep(l.horizontal,t));let{same:f,other:x}=Mp(t,e,l,n);u|=f&&s.length,h=h||x,d.fullSize||s.push(l)}return u&&xn(s,t,e,n)||h}function Vs(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function il(i,t,e,n){let s=e.padding,{x:r,y:o}=t;for(let l of i){let d=l.box,u=n[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){let f=t.w*h,x=u.size||d.height;Ni(u.start)&&(o=u.start),d.fullSize?Vs(d,s.left,o,e.outerWidth-s.right-s.left,x):Vs(d,t.left+u.placed,o,f,x),u.start=o,u.placed+=f,o=d.bottom}else{let f=t.h*h,x=u.size||d.width;Ni(u.start)&&(r=u.start),d.fullSize?Vs(d,r,s.top,x,e.outerHeight-s.bottom-s.top):Vs(d,r,t.top+u.placed,x,f),u.start=r,u.placed+=f,r=d.right}}t.x=r,t.y=o}var Je={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let s=Ye(i.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),l=Sp(i.boxes),d=l.vertical,u=l.horizontal;pe(i.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let h=d.reduce((w,E)=>E.box.options&&E.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),x=Object.assign({},s);ql(x,Ye(n));let g=Object.assign({maxPadding:x,w:r,h:o,x:s.left,y:s.top},s),S=Cp(d.concat(u),f);xn(l.fullSize,g,f,S),xn(d,g,f,S),xn(u,g,f,S)&&xn(d,g,f,S),kp(g),il(l.leftAndTop,g,f,S),g.x+=g.w,g.y+=g.h,il(l.rightAndBottom,g,f,S),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},pe(l.chartArea,w=>{let E=w.box;Object.assign(E,i.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},zs=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}},so=class extends zs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},js="$chartjs",Ap={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nl=i=>i===null||i==="";function Dp(i,t){let e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[js]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",nl(s)){let r=Hr(i,"width");r!==void 0&&(i.width=r)}if(nl(n))if(i.style.height==="")i.height=i.width/(t||2);else{let r=Hr(i,"height");r!==void 0&&(i.height=r)}return i}var Xl=ja?{passive:!0}:!1;function Tp(i,t,e){i&&i.addEventListener(t,e,Xl)}function Ip(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,Xl)}function Pp(i,t){let e=Ap[i.type]||i.type,{x:n,y:s}=ai(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Ws(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Vp(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let l of r)o=o||Ws(l.addedNodes,n),o=o&&!Ws(l.removedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Lp(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let l of r)o=o||Ws(l.removedNodes,n),o=o&&!Ws(l.addedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var bn=new Map,sl=0;function Ql(){let i=window.devicePixelRatio;i!==sl&&(sl=i,bn.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Op(i,t){bn.size||window.addEventListener("resize",Ql),bn.set(i,t)}function Fp(i){bn.delete(i),bn.size||window.removeEventListener("resize",Ql)}function Rp(i,t,e){let n=i.canvas,s=n&&Is(n);if(!s)return;let r=Mr((l,d)=>{let u=s.clientWidth;e(l,d),u<s.clientWidth&&e()},window),o=new ResizeObserver(l=>{let d=l[0],u=d.contentRect.width,h=d.contentRect.height;u===0&&h===0||r(u,h)});return o.observe(s),Op(i,r),o}function Qr(i,t,e){e&&e.disconnect(),t==="resize"&&Fp(i)}function Hp(i,t,e){let n=i.canvas,s=Mr(r=>{i.ctx!==null&&e(Pp(r,i))},i);return Tp(n,t,s),s}var ro=class extends zs{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Dp(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[js])return!1;let n=e[js].initial;["height","width"].forEach(r=>{let o=n[r];se(o)?e.removeAttribute(r):e.setAttribute(r,o)});let s=n.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[js],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),o={attach:Vp,detach:Lp,resize:Rp}[e]||Hp;s[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Qr,detach:Qr,resize:Qr}[e]||Ip)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return Ha(t,e,n,s)}isAttached(t){let e=t&&Is(t);return!!(e&&e.isConnected)}};function jp(i){return!Ts()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?so:ro}var xt=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return gi(this.x)&&gi(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let s={};return t.forEach(r=>{s[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),s}};function Np(i,t){let e=i.options.ticks,n=Bp(i),s=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?Wp(t):[],o=r.length,l=r[0],d=r[o-1],u=[];if(o>s)return Gp(t,u,r,o/s),u;let h=zp(r,t,s);if(o>0){let f,x,g=o>1?Math.round((d-l)/(o-1)):null;for(Ls(t,u,h,se(g)?0:l-g,l),f=0,x=o-1;f<x;f++)Ls(t,u,h,r[f],r[f+1]);return Ls(t,u,h,d,se(g)?t.length:d+g),u}return Ls(t,u,h),u}function Bp(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function zp(i,t,e){let n=$p(i),s=t.length/e;if(!n)return Math.max(s,1);let r=va(n);for(let o=0,l=r.length-1;o<l;o++){let d=r[o];if(d>s)return d}return Math.max(s,1)}function Wp(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Gp(i,t,e,n){let s=0,r=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===r&&(t.push(i[o]),s++,r=e[s*n])}function Ls(i,t,e,n,s){let r=Z(n,0),o=Math.min(Z(s,i.length),i.length),l=0,d,u,h;for(e=Math.ceil(e),s&&(d=s-n,e=d/Math.floor(d/e)),h=r;h<0;)l++,h=Math.round(r+l*e);for(u=Math.max(r,0);u<o;u++)u===h&&(t.push(i[u]),l++,h=Math.round(r+l*e))}function $p(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Up=i=>i==="left"?"right":i==="right"?"left":i,rl=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,ol=(i,t)=>Math.min(t||i,i);function al(i,t){let e=[],n=i.length/t,s=i.length,r=0;for(;r<s;r+=n)e.push(i[Math.floor(r)]);return e}function Yp(i,t,e){let n=i.ticks.length,s=Math.min(t,n-1),r=i._startPixel,o=i._endPixel,l=1e-6,d=i.getPixelForTick(s),u;if(!(e&&(n===1?u=Math.max(d-r,o-d):t===0?u=(i.getPixelForTick(1)-d)/2:u=(d-i.getPixelForTick(s-1))/2,d+=s<t?u:-u,d<r-l||d>o+l)))return d}function qp(i,t){pe(i,e=>{let n=e.gc,s=n.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[n[r]];n.splice(0,s)}})}function gn(i){return i.drawTicks?i.tickLength:0}function ll(i,t){if(!i.display)return 0;let e=Oe(i.font,t),n=Ye(i.padding);return(ve(i.text)?i.text.length:1)*e.lineHeight+n.height}function Xp(i,t){return Nt(i,{scale:t,type:"scale"})}function Qp(i,t,e){return Nt(i,{tick:e,index:t,type:"tick"})}function Kp(i,t,e){let n=Ms(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Up(n)),n}function Jp(i,t,e,n){let{top:s,left:r,bottom:o,right:l,chart:d}=i,{chartArea:u,scales:h}=d,f=0,x,g,S,w=o-s,E=l-r;if(i.isHorizontal()){if(g=Ue(n,r,l),re(e)){let L=Object.keys(e)[0],V=e[L];S=h[L].getPixelForValue(V)+w-t}else e==="center"?S=(u.bottom+u.top)/2+w-t:S=rl(i,e,t);x=l-r}else{if(re(e)){let L=Object.keys(e)[0],V=e[L];g=h[L].getPixelForValue(V)-E+t}else e==="center"?g=(u.left+u.right)/2-E+t:g=rl(i,e,t);S=Ue(n,o,s),f=e==="left"?-Ae:Ae}return{titleX:g,titleY:S,maxWidth:x,rotation:f}}var bi=class i extends xt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=st(t,Number.POSITIVE_INFINITY),e=st(e,Number.NEGATIVE_INFINITY),n=st(n,Number.POSITIVE_INFINITY),s=st(s,Number.NEGATIVE_INFINITY),{min:st(t,n),max:st(e,s),minDefined:ke(t),maxDefined:ke(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:n};let l=this.getMatchingVisibleMetas();for(let d=0,u=l.length;d<u;++d)o=l[d].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(n=Math.max(n,o.max));return e=r&&e>n?n:e,n=s&&e>n?e:n,{min:st(e,st(n,e)),max:st(n,st(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_e(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:s,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pa(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let d=l<this.ticks.length;this._convertTicksToLabels(d?al(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Np(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_e(this.options.afterUpdate,[this])}beforeSetDimensions(){_e(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_e(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_e(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_e(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n],r.label=_e(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){_e(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_e(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=ol(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation,o=s,l,d,u;if(!this._isVisible()||!e.display||s>=r||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),f=h.widest.width,x=h.highest.height,g=Re(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/n:g/(n-1),f+6>l&&(l=g/(n-(t.offset?.5:1)),d=this.maxHeight-gn(t.grid)-e.padding-ll(t.title,this.chart.options.font),u=Math.sqrt(f*f+x*x),o=Cs(Math.min(Math.asin(Re((h.highest.height+6)/l,-1,1)),Math.asin(Re(d/u,-1,1))-Math.asin(Re(x/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){_e(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_e(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){let d=ll(s,e.options.font);if(l?(t.width=this.maxWidth,t.height=gn(r)+d):(t.height=this.maxHeight,t.width=gn(r)+d),n.display&&this.ticks.length){let{first:u,last:h,widest:f,highest:x}=this._getLabelSizes(),g=n.padding*2,S=mt(this.labelRotation),w=Math.cos(S),E=Math.sin(S);if(l){let L=n.mirror?0:E*f.width+w*x.height;t.height=Math.min(this.maxHeight,t.height+L+g)}else{let L=n.mirror?0:w*f.width+E*x.height;t.width=Math.min(this.maxWidth,t.width+L+g)}this._calculatePadding(u,h,E,w)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){let{ticks:{align:r,padding:o},position:l}=this.options,d=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),x=0,g=0;d?u?(x=s*t.width,g=n*e.height):(x=n*t.height,g=s*e.width):r==="start"?g=e.width:r==="end"?x=t.width:r!=="inner"&&(x=t.width/2,g=e.width/2),this.paddingLeft=Math.max((x-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let h=e.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=e.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_e(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)se(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=al(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:s,_longestTextCache:r}=this,o=[],l=[],d=Math.floor(e/ol(e,n)),u=0,h=0,f,x,g,S,w,E,L,V,j,B,H;for(f=0;f<e;f+=d){if(S=t[f].label,w=this._resolveTickFontOptions(f),s.font=E=w.string,L=r[E]=r[E]||{data:{},gc:[]},V=w.lineHeight,j=B=0,!se(S)&&!ve(S))j=ln(s,L.data,L.gc,j,S),B=V;else if(ve(S))for(x=0,g=S.length;x<g;++x)H=S[x],!se(H)&&!ve(H)&&(j=ln(s,L.data,L.gc,j,H),B+=V);o.push(j),l.push(B),u=Math.max(j,u),h=Math.max(B,h)}qp(r,e);let N=o.indexOf(u),U=l.indexOf(h),G=q=>({width:o[q]||0,height:l[q]||0});return{first:G(0),last:G(e-1),widest:G(N),highest:G(U),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return ya(this._alignToPixels?si(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=Qp(this.getContext(),t,n))}return this.$context||(this.$context=Xp(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=mt(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,l=r?r.widest.width+o:0,d=r?r.highest.height+o:0;return this.isHorizontal()?d*n>l*s?l/n:d/s:d*s<l*n?d/n:l/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,s=this.options,{grid:r,position:o,border:l}=s,d=r.offset,u=this.isHorizontal(),f=this.ticks.length+(d?1:0),x=gn(r),g=[],S=l.setContext(this.getContext()),w=S.display?S.width:0,E=w/2,L=function(xe){return si(n,xe,w)},V,j,B,H,N,U,G,q,J,ee,te,we;if(o==="top")V=L(this.bottom),U=this.bottom-x,q=V-E,ee=L(t.top)+E,we=t.bottom;else if(o==="bottom")V=L(this.top),ee=t.top,we=L(t.bottom)-E,U=V+E,q=this.top+x;else if(o==="left")V=L(this.right),N=this.right-x,G=V-E,J=L(t.left)+E,te=t.right;else if(o==="right")V=L(this.left),J=t.left,te=L(t.right)-E,N=V+E,G=this.left+x;else if(e==="x"){if(o==="center")V=L((t.top+t.bottom)/2+.5);else if(re(o)){let xe=Object.keys(o)[0],Ce=o[xe];V=L(this.chart.scales[xe].getPixelForValue(Ce))}ee=t.top,we=t.bottom,U=V+E,q=U+x}else if(e==="y"){if(o==="center")V=L((t.left+t.right)/2);else if(re(o)){let xe=Object.keys(o)[0],Ce=o[xe];V=L(this.chart.scales[xe].getPixelForValue(Ce))}N=V-E,G=N-x,J=t.left,te=t.right}let Ze=Z(s.ticks.maxTicksLimit,f),ue=Math.max(1,Math.ceil(f/Ze));for(j=0;j<f;j+=ue){let xe=this.getContext(j),Ce=r.setContext(xe),et=l.setContext(xe),Fe=Ce.lineWidth,Wt=Ce.color,Gt=et.dash||[],$t=et.dashOffset,di=Ce.tickWidth,It=Ce.tickColor,pt=Ce.tickBorderDash||[],ht=Ce.tickBorderDashOffset;B=Yp(this,j,d),B!==void 0&&(H=si(n,B,Fe),u?N=G=J=te=H:U=q=ee=we=H,g.push({tx1:N,ty1:U,tx2:G,ty2:q,x1:J,y1:ee,x2:te,y2:we,width:Fe,color:Wt,borderDash:Gt,borderDashOffset:$t,tickWidth:di,tickColor:It,tickBorderDash:pt,tickBorderDashOffset:ht}))}return this._ticksLength=f,this._borderValue=V,g}_computeLabelItems(t){let e=this.axis,n=this.options,{position:s,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:u,padding:h,mirror:f}=r,x=gn(n.grid),g=x+h,S=f?-h:g,w=-mt(this.labelRotation),E=[],L,V,j,B,H,N,U,G,q,J,ee,te,we="middle";if(s==="top")N=this.bottom-S,U=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+S,U=this._getXAxisLabelAlignment();else if(s==="left"){let ue=this._getYAxisLabelAlignment(x);U=ue.textAlign,H=ue.x}else if(s==="right"){let ue=this._getYAxisLabelAlignment(x);U=ue.textAlign,H=ue.x}else if(e==="x"){if(s==="center")N=(t.top+t.bottom)/2+g;else if(re(s)){let ue=Object.keys(s)[0],xe=s[ue];N=this.chart.scales[ue].getPixelForValue(xe)+g}U=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")H=(t.left+t.right)/2-g;else if(re(s)){let ue=Object.keys(s)[0],xe=s[ue];H=this.chart.scales[ue].getPixelForValue(xe)}U=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(d==="start"?we="top":d==="end"&&(we="bottom"));let Ze=this._getLabelSizes();for(L=0,V=l.length;L<V;++L){j=l[L],B=j.label;let ue=r.setContext(this.getContext(L));G=this.getPixelForTick(L)+r.labelOffset,q=this._resolveTickFontOptions(L),J=q.lineHeight,ee=ve(B)?B.length:1;let xe=ee/2,Ce=ue.color,et=ue.textStrokeColor,Fe=ue.textStrokeWidth,Wt=U;o?(H=G,U==="inner"&&(L===V-1?Wt=this.options.reverse?"left":"right":L===0?Wt=this.options.reverse?"right":"left":Wt="center"),s==="top"?u==="near"||w!==0?te=-ee*J+J/2:u==="center"?te=-Ze.highest.height/2-xe*J+J:te=-Ze.highest.height+J/2:u==="near"||w!==0?te=J/2:u==="center"?te=Ze.highest.height/2-xe*J:te=Ze.highest.height-ee*J,f&&(te*=-1),w!==0&&!ue.showLabelBackdrop&&(H+=J/2*Math.sin(w))):(N=G,te=(1-ee)*J/2);let Gt;if(ue.showLabelBackdrop){let $t=Ye(ue.backdropPadding),di=Ze.heights[L],It=Ze.widths[L],pt=te-$t.top,ht=0-$t.left;switch(we){case"middle":pt-=di/2;break;case"bottom":pt-=di;break}switch(U){case"center":ht-=It/2;break;case"right":ht-=It;break;case"inner":L===V-1?ht-=It:L>0&&(ht-=It/2);break}Gt={left:ht,top:pt,width:It+$t.width,height:di+$t.height,color:ue.backdropColor}}E.push({label:B,font:q,textOffset:te,options:{rotation:w,color:Ce,strokeColor:et,strokeWidth:Fe,textAlign:Wt,textBaseline:we,translation:[H,N],backdrop:Gt}})}return E}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-mt(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,d=o.widest.width,u,h;return e==="left"?s?(h=this.right+r,n==="near"?u="left":n==="center"?(u="center",h+=d/2):(u="right",h+=d)):(h=this.right-l,n==="near"?u="right":n==="center"?(u="center",h-=d/2):(u="left",h=this.left)):e==="right"?s?(h=this.left+r,n==="near"?u="right":n==="center"?(u="center",h-=d/2):(u="left",h-=d)):(h=this.left+l,n==="near"?u="left":n==="center"?(u="center",h+=d/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,r,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o,l=(d,u,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){let d=s[r];e.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:s}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;let l=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue,u,h,f,x;this.isHorizontal()?(u=si(t,this.left,o)-o/2,h=si(t,this.right,l)+l/2,f=x=d):(f=si(t,this.top,o)-o/2,x=si(t,this.bottom,l)+l/2,u=h=d),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,f),e.lineTo(h,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&un(n,s);let r=this.getLabelItems(t);for(let o of r){let l=o.options,d=o.font,u=o.label,h=o.textOffset;ri(n,u,0,h,d,l)}s&&mn(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;let r=Oe(n.font),o=Ye(n.padding),l=n.align,d=r.lineHeight/2;e==="bottom"||e==="center"||re(e)?(d+=o.bottom,ve(n.text)&&(d+=r.lineHeight*(n.text.length-1))):d+=o.top;let{titleX:u,titleY:h,maxWidth:f,rotation:x}=Jp(this,d,e,l);ri(t,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:x,textAlign:Kp(l,e,s),textBaseline:"middle",translation:[u,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=Z(t.grid&&t.grid.z,-1),s=Z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],r,o;for(r=0,o=e.length;r<o;++r){let l=e[r];l[n]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Oe(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Yi=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;th(e)&&(n=this.register(e));let s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,Zp(t,o,n),this.override&&ye.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in ye[s]&&(delete ye[s][n],this.override&&delete ni[n])}};function Zp(i,t,e){let n=Ri(Object.create(null),[e?ye.get(e):{},ye.get(t),i.defaults]);ye.set(t,n),i.defaultRoutes&&eh(t,i.defaultRoutes),i.descriptors&&ye.describe(t,i.descriptors)}function eh(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),s=n.pop(),r=[i].concat(n).join("."),o=t[e].split("."),l=o.pop(),d=o.join(".");ye.route(r,s,d,l)})}function th(i){return"id"in i&&"defaults"in i}var oo=class{constructor(){this.controllers=new Yi(ci,"datasets",!0),this.elements=new Yi(xt,"elements"),this.plugins=new Yi(Object,"plugins"),this.scales=new Yi(bi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{let r=n||this._getRegistryForType(s);n||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):pe(s,o=>{let l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){let s=ws(t);_e(n["before"+s],[],n),e[t](n),_e(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}},Tt=new oo,ao=class{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,s){s=s||{};for(let r of t){let o=r.plugin,l=o[n],d=[e,s,r.options];if(_e(l,d,o)===!1&&s.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,s=Z(n.options&&n.options.plugins,{}),r=ih(n);return s===!1&&!e?[]:sh(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,s=(r,o)=>r.filter(l=>!o.some(d=>l.plugin.id===d.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}};function ih(i){let t={},e=[],n=Object.keys(Tt.plugins.items);for(let r=0;r<n.length;r++)e.push(Tt.getPlugin(n[r]));let s=i.plugins||[];for(let r=0;r<s.length;r++){let o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function nh(i,t){return!t&&i===!1?null:i===!0?{}:i}function sh(i,{plugins:t,localIds:e},n,s){let r=[],o=i.getContext();for(let l of t){let d=l.id,u=nh(n[d],s);u!==null&&r.push({plugin:l,options:rh(i.config,{plugin:l,local:e[d]},u,o)})}return r}function rh(i,{plugin:t,local:e},n,s){let r=i.pluginScopeKeys(t),o=i.getOptionScopes(n,r);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lo(i,t){let e=ye.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function oh(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function ah(i,t){return i===t?"_index_":"_value_"}function cl(i){if(i==="x"||i==="y"||i==="r")return i}function lh(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function co(i,...t){if(cl(i))return i;for(let e of t){let n=e.axis||lh(e.position)||i.length>1&&cl(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function dl(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function ch(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return dl(i,"x",e[0])||dl(i,"y",e[0])}return{}}function dh(i,t){let e=ni[i.type]||{scales:{}},n=t.scales||{},s=lo(i.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{let l=n[o];if(!re(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let d=co(o,l,ch(o,i),ye.scales[l.type]),u=ah(d,s),h=e.scales||{};r[o]=ji(Object.create(null),[{axis:d},l,h[d],h[u]])}),i.data.datasets.forEach(o=>{let l=o.type||i.type,d=o.indexAxis||lo(l,t),h=(ni[l]||{}).scales||{};Object.keys(h).forEach(f=>{let x=oh(f,d),g=o[x+"AxisID"]||x;r[g]=r[g]||Object.create(null),ji(r[g],[{axis:x},n[g],h[f]])})}),Object.keys(r).forEach(o=>{let l=r[o];ji(l,[ye.scales[l.type],ye.scale])}),r}function Kl(i){let t=i.options||(i.options={});t.plugins=Z(t.plugins,{}),t.scales=dh(i,t)}function Jl(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function uh(i){return i=i||{},i.data=Jl(i.data),Kl(i),i}var ul=new Map,Zl=new Set;function Os(i,t){let e=ul.get(i);return e||(e=t(),ul.set(i,e),Zl.add(e)),e}var _n=(i,t,e)=>{let n=jt(t,e);n!==void 0&&i.add(n)},uo=class{constructor(t){this._config=uh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Jl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Kl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Os(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Os(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Os(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Os(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){let{options:s,type:r}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;let d=new Set;e.forEach(h=>{t&&(d.add(t),h.forEach(f=>_n(d,t,f))),h.forEach(f=>_n(d,s,f)),h.forEach(f=>_n(d,ni[r]||{},f)),h.forEach(f=>_n(d,ye,f)),h.forEach(f=>_n(d,ks,f))});let u=Array.from(d);return u.length===0&&u.push(Object.create(null)),Zl.has(e)&&o.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,ni[e]||{},ye.datasets[e]||{},{type:e},ye,ks]}resolveNamedOptions(t,e,n,s=[""]){let r={$shared:!0},{resolver:o,subPrefixes:l}=ml(this._resolverCache,t,s),d=o;if(ph(o,e)){r.$shared=!1,n=Rt(n)?n():n;let u=this.createResolver(t,n,l);d=fi(o,n,u)}for(let u of e)r[u]=d[u];return r}createResolver(t,e,n=[""],s){let{resolver:r}=ml(this._resolverCache,t,n);return re(e)?fi(r,e,void 0,s):r}};function ml(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let s=e.join(),r=n.get(s);return r||(r={resolver:Ds(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,r)),r}var mh=i=>re(i)&&Object.getOwnPropertyNames(i).some(t=>Rt(i[t]));function ph(i,t){let{isScriptable:e,isIndexable:n}=Vr(i);for(let s of t){let r=e(s),o=n(s),l=(o||r)&&i[s];if(r&&(Rt(l)||mh(l))||o&&ve(l))return!0}return!1}var hh="4.5.0",fh=["top","bottom","left","right","chartArea"];function pl(i,t){return i==="top"||i==="bottom"||fh.indexOf(i)===-1&&t==="x"}function hl(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function fl(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),_e(e&&e.onComplete,[i],t)}function gh(i){let t=i.chart,e=t.options.animation;_e(e&&e.onProgress,[i],t)}function ec(i){return Ts()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Ns={},gl=i=>{let t=ec(i);return Object.values(Ns).filter(e=>e.canvas===t).pop()};function _h(i,t,e){let n=Object.keys(i);for(let s of n){let r=+s;if(r>=t){let o=i[s];delete i[s],(e>0||r>t)&&(i[r+e]=o)}}}function xh(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var Sn=(()=>{class i{static defaults=ye;static instances=Ns;static overrides=ni;static registry=Tt;static version=hh;static getChart=gl;static register(...e){Tt.add(...e),_l()}static unregister(...e){Tt.remove(...e),_l()}constructor(e,n){let s=this.config=new uo(n),r=ec(e),o=gl(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||jp(r)),this.platform.updateConfig(s);let d=this.platform.acquireContext(r,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,f=u&&u.width;if(this.id=fa(),this.ctx=d,this.canvas=u,this.width=f,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ao,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ka(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Ns[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Bt.listen(this,"complete",fl),Bt.listen(this,"progress",gh),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:o}=this;return se(e)?n&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tr(this.canvas,this.ctx),this}stop(){return Bt.stop(this),this}resize(e,n){Bt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Rr(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),_e(s.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};pe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){let e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{}),o=[];n&&(o=o.concat(Object.keys(n).map(l=>{let d=n[l],u=co(l,d),h=u==="r",f=u==="x";return{options:d,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),pe(o,l=>{let d=l.options,u=d.id,h=co(u,d),f=Z(d.type,l.dtype);(d.position===void 0||pl(d.position,h)!==pl(l.dposition))&&(d.position=l.dposition),r[u]=!0;let x=null;if(u in s&&s[u].type===f)x=s[u];else{let g=Tt.getScale(f);x=new g({id:u,type:f,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(d,e)}),pe(r,(l,d)=>{l||delete s[d]}),pe(s,l=>{Je.configure(this,l,l.options),Je.addBox(this,l)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(hl("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){let o=n[s],l=this.getDatasetMeta(s),d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||lo(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{let u=Tt.getController(d),{datasetElementType:h,dataElementType:f}=ye.datasets[d];Object.assign(u,{dataElementType:Tt.getElement(f),datasetElementType:h&&Tt.getElement(h)}),l.controller=new u(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){pe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,f=this.data.datasets.length;h<f;h++){let{controller:x}=this.getDatasetMeta(h),g=!r&&o.indexOf(x)===-1;x.buildOrUpdateElements(g),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),r||pe(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hl("z","_idx"));let{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){pe(this.scales,e=>{Je.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!_r(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:s,start:r,count:o}of n){let l=s==="_removeElements"?-o:o;_h(e,r,l)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),r=s(0);for(let o=1;o<n;o++)if(!_r(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Je.update(this,this.width,this.height,e);let n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],pe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Rt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bt.has(this)?this.attached&&!Bt.running(this)&&Bt.start(this):(this.draw(),fl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,s=[],r,o;for(r=0,o=n.length;r<o;++r){let l=n[r];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Wr(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&un(n,r),e.controller.draw(),r&&mn(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return kt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){let o=bp.modes[n];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){let n=this.data.datasets[e],s=this._metasets,r=s.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Nt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){let s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){let r=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);Ni(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Tr(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ns[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},r=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};pe(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,s=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)},l,d=()=>{r("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){pe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},pe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){let r=s?"set":"remove",o,l,d,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,u=e.length;d<u;++d){l=e[d];let h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{let d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!cn(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){let r=this.options.hover,o=(u,h)=>u.filter(f=>!h.some(x=>f.datasetIndex===x.datasetIndex&&f.index===x.index)),l=o(n,e),d=s?e:o(e,n);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,n){let s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;let o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){let{_active:r=[],options:o}=this,l=n,d=this._getActiveElements(e,r,s,l),u=xa(e),h=xh(e,this._lastEvent,s,u);s&&(this._lastEvent=null,_e(o.onHover,[e,d,this],this),u&&_e(o.onClick,[e,d,this],this));let f=!cn(d,r);return(f||n)&&(this._active=d,this._updateHoverStyles(d,r,n)),this._lastEvent=h,f}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}return i})();function _l(){return pe(Sn.instances,i=>i._plugins.invalidate())}function vh(i,t,e){let{startAngle:n,x:s,y:r,outerRadius:o,innerRadius:l,options:d}=t,{borderWidth:u,borderJoinStyle:h}=d,f=Math.min(u/o,$e(n-e));if(i.beginPath(),i.arc(s,r,o-u/2,n+f/2,e-f/2),l>0){let x=Math.min(u/l,$e(n-e));i.arc(s,r,l+u/2,e-x/2,n+x/2,!0)}else{let x=Math.min(u/2,o*$e(n-e));if(h==="round")i.arc(s,r,x,e-oe/2,n+oe/2,!0);else if(h==="bevel"){let g=2*x*x,S=-g*Math.cos(e+oe/2)+s,w=-g*Math.sin(e+oe/2)+r,E=g*Math.cos(n+oe/2)+s,L=g*Math.sin(n+oe/2)+r;i.lineTo(S,w),i.lineTo(E,L)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function bh(i,t,e){let{startAngle:n,pixelMargin:s,x:r,y:o,outerRadius:l,innerRadius:d}=t,u=s/l;i.beginPath(),i.arc(r,o,l,n-u,e+u),d>s?(u=s/d,i.arc(r,o,d,e+u,n-u,!0)):i.arc(r,o,s,e+Ae,n-Ae),i.closePath(),i.clip()}function yh(i){return As(i,["outerStart","outerEnd","innerStart","innerEnd"])}function wh(i,t,e,n){let s=yh(i.options.borderRadius),r=(e-t)/2,o=Math.min(r,n*t/2),l=d=>{let u=(e-Math.min(r,d))*n/2;return Re(d,0,Math.min(r,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Re(s.innerStart,0,o),innerEnd:Re(s.innerEnd,0,o)}}function Ui(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Gs(i,t,e,n,s,r){let{x:o,y:l,startAngle:d,pixelMargin:u,innerRadius:h}=t,f=Math.max(t.outerRadius+n+e-u,0),x=h>0?h+n+e+u:0,g=0,S=s-d;if(n){let ue=h>0?h-n:0,xe=f>0?f-n:0,Ce=(ue+xe)/2,et=Ce!==0?S*Ce/(Ce+n):S;g=(S-et)/2}let w=Math.max(.001,S*f-e/oe)/f,E=(S-w)/2,L=d+E+g,V=s-E-g,{outerStart:j,outerEnd:B,innerStart:H,innerEnd:N}=wh(t,x,f,V-L),U=f-j,G=f-B,q=L+j/U,J=V-B/G,ee=x+H,te=x+N,we=L+H/ee,Ze=V-N/te;if(i.beginPath(),r){let ue=(q+J)/2;if(i.arc(o,l,f,q,ue),i.arc(o,l,f,ue,J),B>0){let Fe=Ui(G,J,o,l);i.arc(Fe.x,Fe.y,B,J,V+Ae)}let xe=Ui(te,V,o,l);if(i.lineTo(xe.x,xe.y),N>0){let Fe=Ui(te,Ze,o,l);i.arc(Fe.x,Fe.y,N,V+Ae,Ze+Math.PI)}let Ce=(V-N/x+(L+H/x))/2;if(i.arc(o,l,x,V-N/x,Ce,!0),i.arc(o,l,x,Ce,L+H/x,!0),H>0){let Fe=Ui(ee,we,o,l);i.arc(Fe.x,Fe.y,H,we+Math.PI,L-Ae)}let et=Ui(U,L,o,l);if(i.lineTo(et.x,et.y),j>0){let Fe=Ui(U,q,o,l);i.arc(Fe.x,Fe.y,j,L-Ae,q)}}else{i.moveTo(o,l);let ue=Math.cos(q)*f+o,xe=Math.sin(q)*f+l;i.lineTo(ue,xe);let Ce=Math.cos(J)*f+o,et=Math.sin(J)*f+l;i.lineTo(Ce,et)}i.closePath()}function Ch(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:l}=t,d=t.endAngle;if(r){Gs(i,t,e,n,d,s);for(let u=0;u<r;++u)i.fill();isNaN(l)||(d=o+(l%be||be))}return Gs(i,t,e,n,d,s),i.fill(),d}function Sh(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:l,options:d}=t,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:x,borderRadius:g}=d,S=d.borderAlign==="inner";if(!u)return;i.setLineDash(f||[]),i.lineDashOffset=x,S?(i.lineWidth=u*2,i.lineJoin=h||"round"):(i.lineWidth=u,i.lineJoin=h||"bevel");let w=t.endAngle;if(r){Gs(i,t,e,n,w,s);for(let E=0;E<r;++E)i.stroke();isNaN(l)||(w=o+(l%be||be))}S&&bh(i,t,w),d.selfJoin&&w-o>=oe&&g===0&&h!=="miter"&&vh(i,t,w),r||(Gs(i,t,e,n,w,s),i.stroke())}var mo=class extends xt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let s=this.getProps(["x","y"],n),{angle:r,distance:o}=yr(s,{x:t,y:e}),{startAngle:l,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),x=(this.options.spacing+this.options.borderWidth)/2,g=Z(f,d-l),S=zi(r,l,d)&&l!==d,w=g>=be||S,E=At(o,u+x,h+x);return w&&E}getCenterPoint(t){let{x:e,y:n,startAngle:s,endAngle:r,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:u}=this.options,h=(s+r)/2,f=(o+l+u+d)/2;return{x:e+Math.cos(h)*f,y:n+Math.sin(h)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>be?Math.floor(n/be):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);let d=1-Math.sin(Math.min(oe,n||0)),u=s*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Ch(t,this,u,r,o),Sh(t,this,u,r,o),t.restore()}};function tc(i,t,e=t){i.lineCap=Z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Z(e.borderDash,t.borderDash)),i.lineDashOffset=Z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Z(e.borderWidth,t.borderWidth),i.strokeStyle=Z(e.borderColor,t.borderColor)}function Mh(i,t,e){i.lineTo(e.x,e.y)}function kh(i){return i.stepped?Ta:i.tension||i.cubicInterpolationMode==="monotone"?Ia:Mh}function ic(i,t,e={}){let n=i.length,{start:s=0,end:r=n-1}=e,{start:o,end:l}=t,d=Math.max(s,o),u=Math.min(r,l),h=s<o&&r<o||s>l&&r>l;return{count:n,start:d,loop:t.loop,ilen:u<d&&!h?n+u-d:u-d}}function Eh(i,t,e,n){let{points:s,options:r}=t,{count:o,start:l,loop:d,ilen:u}=ic(s,e,n),h=kh(r),{move:f=!0,reverse:x}=n||{},g,S,w;for(g=0;g<=u;++g)S=s[(l+(x?u-g:g))%o],!S.skip&&(f?(i.moveTo(S.x,S.y),f=!1):h(i,w,S,x,r.stepped),w=S);return d&&(S=s[(l+(x?u:0))%o],h(i,w,S,x,r.stepped)),!!d}function Ah(i,t,e,n){let s=t.points,{count:r,start:o,ilen:l}=ic(s,e,n),{move:d=!0,reverse:u}=n||{},h=0,f=0,x,g,S,w,E,L,V=B=>(o+(u?l-B:B))%r,j=()=>{w!==E&&(i.lineTo(h,E),i.lineTo(h,w),i.lineTo(h,L))};for(d&&(g=s[V(0)],i.moveTo(g.x,g.y)),x=0;x<=l;++x){if(g=s[V(x)],g.skip)continue;let B=g.x,H=g.y,N=B|0;N===S?(H<w?w=H:H>E&&(E=H),h=(f*h+B)/++f):(j(),i.lineTo(B,H),S=N,f=0,w=E=H),L=H}j()}function po(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Ah:Eh}function Dh(i){return i.stepped?Na:i.tension||i.cubicInterpolationMode==="monotone"?Ba:ii}function Th(i,t,e,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,n)&&s.closePath()),tc(i,t.options),i.stroke(s)}function Ih(i,t,e,n){let{segments:s,options:r}=t,o=po(t);for(let l of s)tc(i,r,l.style),i.beginPath(),o(i,t,l,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var Ph=typeof Path2D=="function";function Vh(i,t,e,n){Ph&&!t.options.segment?Th(i,t,e,n):Ih(i,t,e,n)}var Ys=(()=>{class i extends xt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let r=s.spanGaps?this._loop:this._fullLoop;Ra(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wa(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){let s=this.options,r=e[n],o=this.points,l=zr(this,{property:n,start:r,end:r});if(!l.length)return;let d=[],u=Dh(s),h,f;for(h=0,f=l.length;h<f;++h){let{start:x,end:g}=l[h],S=o[x],w=o[g];if(S===w){d.push(S);continue}let E=Math.abs((r-S[n])/(w[n]-S[n])),L=u(S,w,E,s.stepped);L[n]=e[n],d.push(L)}return d.length===1?d[0]:d}pathSegment(e,n,s){return po(this)(e,this,n,s)}path(e,n,s){let r=this.segments,o=po(this),l=this._loop;n=n||0,s=s||this.points.length-n;for(let d of r)l&=o(e,this,d,{start:n,end:n+s-1});return!!l}draw(e,n,s,r){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Vh(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function xl(i,t,e,n){let s=i.options,{[e]:r}=i.getProps([e],n);return Math.abs(t-r)<s.radius+s.hitRadius}var Lh=(()=>{class i extends xt{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){let r=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return xl(this,e,"x",n)}inYRange(e,n){return xl(this,e,"y",n)}getCenterPoint(e){let{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){let s=this.options;this.skip||s.radius<.1||!kt(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Es(e,s,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function nc(i,t){let{x:e,y:n,base:s,width:r,height:o}=i.getProps(["x","y","base","width","height"],t),l,d,u,h,f;return i.horizontal?(f=o/2,l=Math.min(e,s),d=Math.max(e,s),u=n-f,h=n+f):(f=r/2,l=e-f,d=e+f,u=Math.min(n,s),h=Math.max(n,s)),{left:l,top:u,right:d,bottom:h}}function li(i,t,e,n){return i?0:Re(t,e,n)}function Oh(i,t,e){let n=i.options.borderWidth,s=i.borderSkipped,r=Pr(n);return{t:li(s.top,r.top,0,e),r:li(s.right,r.right,0,t),b:li(s.bottom,r.bottom,0,e),l:li(s.left,r.left,0,t)}}function Fh(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,r=oi(s),o=Math.min(t,e),l=i.borderSkipped,d=n||re(s);return{topLeft:li(!d||l.top||l.left,r.topLeft,0,o),topRight:li(!d||l.top||l.right,r.topRight,0,o),bottomLeft:li(!d||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:li(!d||l.bottom||l.right,r.bottomRight,0,o)}}function Rh(i){let t=nc(i),e=t.right-t.left,n=t.bottom-t.top,s=Oh(i,e/2,n/2),r=Fh(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Kr(i,t,e,n){let s=t===null,r=e===null,l=i&&!(s&&r)&&nc(i,n);return l&&(s||At(t,l.left,l.right))&&(r||At(e,l.top,l.bottom))}function Hh(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function jh(i,t){i.rect(t.x,t.y,t.w,t.h)}function Jr(i,t,e={}){let n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,r=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+r,h:i.h+o,radius:i.radius}}var ho=class extends xt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:r,outer:o}=Rh(this),l=Hh(o.radius)?Gi:jh;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),l(t,Jr(o,e,r)),t.clip(),l(t,Jr(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Jr(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return Kr(this,t,e,n)}inXRange(t,e){return Kr(this,t,null,e)}inYRange(t,e){return Kr(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Nh=Object.freeze({__proto__:null,ArcElement:mo,BarElement:ho,LineElement:Ys,PointElement:Lh}),fo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vl=fo.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function sc(i){return fo[i%fo.length]}function rc(i){return vl[i%vl.length]}function Bh(i,t){return i.borderColor=sc(t),i.backgroundColor=rc(t),++t}function zh(i,t){return i.backgroundColor=i.data.map(()=>sc(t++)),t}function Wh(i,t){return i.backgroundColor=i.data.map(()=>rc(t++)),t}function Gh(i){let t=0;return(e,n)=>{let s=i.getDatasetMeta(n).controller;s instanceof Co?t=zh(e,t):s instanceof Ul?t=Wh(e,t):s&&(t=Bh(e,t))}}function bl(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function $h(i){return i&&(i.borderColor||i.backgroundColor)}function Uh(){return ye.borderColor!=="rgba(0,0,0,0.1)"||ye.backgroundColor!=="rgba(0,0,0,0.1)"}var Yh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:s}=i.config,{elements:r}=s,o=bl(n)||$h(s)||r&&bl(r)||Uh();if(!e.forceOverride&&o)return;let l=Gh(i);n.forEach(l)}};function qh(i,t,e,n,s){let r=s.samples||n;if(r>=e)return i.slice(t,t+e);let o=[],l=(e-2)/(r-2),d=0,u=t+e-1,h=t,f,x,g,S,w;for(o[d++]=i[h],f=0;f<r-2;f++){let E=0,L=0,V,j=Math.floor((f+1)*l)+1+t,B=Math.min(Math.floor((f+2)*l)+1,e)+t,H=B-j;for(V=j;V<B;V++)E+=i[V].x,L+=i[V].y;E/=H,L/=H;let N=Math.floor(f*l)+1+t,U=Math.min(Math.floor((f+1)*l)+1,e)+t,{x:G,y:q}=i[h];for(g=S=-1,V=N;V<U;V++)S=.5*Math.abs((G-E)*(i[V].y-q)-(G-i[V].x)*(L-q)),S>g&&(g=S,x=i[V],w=V);o[d++]=x,h=w}return o[d++]=i[u],o}function Xh(i,t,e,n){let s=0,r=0,o,l,d,u,h,f,x,g,S,w,E=[],L=t+e-1,V=i[t].x,B=i[L].x-V;for(o=t;o<t+e;++o){l=i[o],d=(l.x-V)/B*n,u=l.y;let H=d|0;if(H===h)u<S?(S=u,f=o):u>w&&(w=u,x=o),s=(r*s+l.x)/++r;else{let N=o-1;if(!se(f)&&!se(x)){let U=Math.min(f,x),G=Math.max(f,x);U!==g&&U!==N&&E.push(Ci(wi({},i[U]),{x:s})),G!==g&&G!==N&&E.push(Ci(wi({},i[G]),{x:s}))}o>0&&N!==g&&E.push(i[N]),E.push(l),h=H,r=0,S=w=u,f=x=g=o}}return E}function oc(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function yl(i){i.data.datasets.forEach(t=>{oc(t)})}function Qh(i,t){let e=t.length,n=0,s,{iScale:r}=i,{min:o,max:l,minDefined:d,maxDefined:u}=r.getUserBounds();return d&&(n=Re(Mt(t,r.axis,o).lo,0,e-1)),u?s=Re(Mt(t,r.axis,l).hi+1,n,e)-n:s=e-n,{start:n,count:s}}var Kh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){yl(i);return}let n=i.width;i.data.datasets.forEach((s,r)=>{let{_data:o,indexAxis:l}=s,d=i.getDatasetMeta(r),u=o||s.data;if($i([l,i.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;let h=i.scales[d.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:f,count:x}=Qh(d,u),g=e.threshold||4*n;if(x<=g){oc(s);return}se(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let S;switch(e.algorithm){case"lttb":S=qh(u,f,x,n,e);break;case"min-max":S=Xh(u,f,x,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=S})},destroy(i){yl(i)}};function Jh(i,t,e){let n=i.segments,s=i.points,r=t.points,o=[];for(let l of n){let{start:d,end:u}=l;u=qs(d,u,s);let h=go(e,s[d],s[u],l.loop);if(!t.segments){o.push({source:l,target:h,start:s[d],end:s[u]});continue}let f=zr(t,h);for(let x of f){let g=go(e,r[x.start],r[x.end],x.loop),S=Br(l,s,g);for(let w of S)o.push({source:w,target:x,start:{[e]:wl(h,g,"start",Math.max)},end:{[e]:wl(h,g,"end",Math.min)}})}}return o}function go(i,t,e,n){if(n)return;let s=t[i],r=e[i];return i==="angle"&&(s=$e(s),r=$e(r)),{property:i,start:s,end:r}}function Zh(i,t){let{x:e=null,y:n=null}=i||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:l})=>{l=qs(o,l,s);let d=s[o],u=s[l];n!==null?(r.push({x:d.x,y:n}),r.push({x:u.x,y:n})):e!==null&&(r.push({x:e,y:d.y}),r.push({x:e,y:u.y}))}),r}function qs(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function wl(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function ac(i,t){let e=[],n=!1;return ve(i)?(n=!0,e=i):e=Zh(i,t),e.length?new Ys({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Cl(i){return i&&i.fill!==!1}function ef(i,t,e){let s=i[t].fill,r=[t],o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!ke(s))return s;if(o=i[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function tf(i,t,e){let n=of(i);if(re(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return ke(s)&&Math.floor(s)===s?nf(n[0],t,s,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function nf(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function sf(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:re(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function rf(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:re(i)?n=i.value:n=t.getBaseValue(),n}function of(i){let t=i.options,e=t.fill,n=Z(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function af(i){let{scale:t,index:e,line:n}=i,s=[],r=n.segments,o=n.points,l=lf(t,e);l.push(ac({x:null,y:t.bottom},n));for(let d=0;d<r.length;d++){let u=r[d];for(let h=u.start;h<=u.end;h++)cf(s,o[h],l)}return new Ys({points:s,options:{}})}function lf(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){let r=n[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function cf(i,t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],{first:o,last:l,point:d}=df(r,t,"x");if(!(!d||o&&l)){if(o)n.unshift(d);else if(i.push(d),!l)break}}i.push(...n)}function df(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let s=n[e],r=i.segments,o=i.points,l=!1,d=!1;for(let u=0;u<r.length;u++){let h=r[u],f=o[h.start][e],x=o[h.end][e];if(At(s,f,x)){l=s===f,d=s===x;break}}return{first:l,last:d,point:n}}var $s=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:s,y:r,radius:o}=this;return e=e||{start:0,end:be},t.arc(s,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:n+Math.sin(r)*s,angle:r}}};function uf(i){let{chart:t,fill:e,line:n}=i;if(ke(e))return mf(t,e);if(e==="stack")return af(i);if(e==="shape")return!0;let s=pf(i);return s instanceof $s?s:ac(s,n)}function mf(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function pf(i){return(i.scale||{}).getPointPositionForValue?ff(i):hf(i)}function hf(i){let{scale:t={},fill:e}=i,n=sf(e,t);if(ke(n)){let s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function ff(i){let{scale:t,fill:e}=i,n=t.options,s=t.getLabels().length,r=n.reverse?t.max:t.min,o=rf(e,t,r),l=[];if(n.grid.circular){let d=t.getPointPositionForValue(0,r);return new $s({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(o)})}for(let d=0;d<s;++d)l.push(t.getPointPositionForValue(d,o));return l}function Zr(i,t,e){let n=uf(t),{chart:s,index:r,line:o,scale:l,axis:d}=t,u=o.options,h=u.fill,f=u.backgroundColor,{above:x=f,below:g=f}=h||{},S=s.getDatasetMeta(r),w=Wr(s,S);n&&o.points.length&&(un(i,e),gf(i,{line:o,target:n,above:x,below:g,area:e,scale:l,axis:d,clip:w}),mn(i))}function gf(i,t){let{line:e,target:n,above:s,below:r,area:o,scale:l,clip:d}=t,u=e._loop?"angle":t.axis;i.save();let h=r;r!==s&&(u==="x"?(Sl(i,n,o.top),eo(i,{line:e,target:n,color:s,scale:l,property:u,clip:d}),i.restore(),i.save(),Sl(i,n,o.bottom)):u==="y"&&(Ml(i,n,o.left),eo(i,{line:e,target:n,color:r,scale:l,property:u,clip:d}),i.restore(),i.save(),Ml(i,n,o.right),h=s)),eo(i,{line:e,target:n,color:h,scale:l,property:u,clip:d}),i.restore()}function Sl(i,t,e){let{segments:n,points:s}=t,r=!0,o=!1;i.beginPath();for(let l of n){let{start:d,end:u}=l,h=s[d],f=s[qs(d,u,s)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,l,{move:o}),o?i.closePath():i.lineTo(f.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Ml(i,t,e){let{segments:n,points:s}=t,r=!0,o=!1;i.beginPath();for(let l of n){let{start:d,end:u}=l,h=s[d],f=s[qs(d,u,s)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(e,h.y),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,l,{move:o}),o?i.closePath():i.lineTo(e,f.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function eo(i,t){let{line:e,target:n,property:s,color:r,scale:o,clip:l}=t,d=Jh(e,n,s);for(let{source:u,target:h,start:f,end:x}of d){let{style:{backgroundColor:g=r}={}}=u,S=n!==!0;i.save(),i.fillStyle=g,_f(i,o,l,S&&go(s,f,x)),i.beginPath();let w=!!e.pathSegment(i,u),E;if(S){w?i.closePath():kl(i,n,x,s);let L=!!n.pathSegment(i,h,{move:w,reverse:!0});E=w&&L,E||kl(i,n,f,s)}i.closePath(),i.fill(E?"evenodd":"nonzero"),i.restore()}}function _f(i,t,e,n){let s=t.chart.chartArea,{property:r,start:o,end:l}=n||{};if(r==="x"||r==="y"){let d,u,h,f;r==="x"?(d=o,u=s.top,h=l,f=s.bottom):(d=s.left,u=o,h=s.right,f=l),i.beginPath(),e&&(d=Math.max(d,e.left),h=Math.min(h,e.right),u=Math.max(u,e.top),f=Math.min(f,e.bottom)),i.rect(d,u,h-d,f-u),i.clip()}}function kl(i,t,e,n){let s=t.interpolate(e,n);s&&i.lineTo(s.x,s.y)}var xf={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,s=[],r,o,l,d;for(o=0;o<n;++o)r=i.getDatasetMeta(o),l=r.dataset,d=null,l&&l.options&&l instanceof Ys&&(d={visible:i.isDatasetVisible(o),index:o,fill:tf(l,o,n),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=d,s.push(d);for(o=0;o<n;++o)d=s[o],!(!d||d.fill===!1)&&(d.fill=ef(s,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let o=s.length-1;o>=0;--o){let l=s[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&Zr(i.ctx,l,r))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){let r=n[s].$filler;Cl(r)&&Zr(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!Cl(n)||e.drawTime!=="beforeDatasetDraw"||Zr(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},El=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},vf=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,Us=class extends xt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=_e(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,s=Oe(n.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=El(n,r),u,h;e.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,r,l,d)+10):(h=this.maxHeight,u=this._fitCols(o,s,l,d)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){let{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+l,f=t;r.textAlign="left",r.textBaseline="middle";let x=-1,g=-h;return this.legendItems.forEach((S,w)=>{let E=n+e/2+r.measureText(S.text).width;(w===0||u[u.length-1]+E+2*l>o)&&(f+=h,u[u.length-(w>0?0:1)]=0,g+=h,x++),d[w]={left:0,top:g,row:x,width:E,height:s},u[u.length-1]+=E+l}),f}_fitCols(t,e,n,s){let{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-t,f=l,x=0,g=0,S=0,w=0;return this.legendItems.forEach((E,L)=>{let{itemWidth:V,itemHeight:j}=bf(n,e,r,E,s);L>0&&g+j+2*l>h&&(f+=x+l,u.push({width:x,height:g}),S+=x+l,w++,x=g=0),d[L]={left:S,top:g,col:w,width:V,height:j},x=Math.max(x,V),g+=j+l}),f+=x,u.push({width:x,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:r}}=this,o=_i(r,this.left,this.width);if(this.isHorizontal()){let l=0,d=Ue(n,this.left+s,this.right-this.lineWidths[l]);for(let u of e)l!==u.row&&(l=u.row,d=Ue(n,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(d),u.width),d+=u.width+s}else{let l=0,d=Ue(n,this.top+t+s,this.bottom-this.columnSizes[l].height);for(let u of e)u.col!==l&&(l=u.col,d=Ue(n,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=d,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),d+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;un(t,this),this._draw(),mn(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:r,labels:o}=t,l=ye.color,d=_i(t.rtl,this.left,this.width),u=Oe(o.font),{padding:h}=o,f=u.size,x=f/2,g;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;let{boxWidth:S,boxHeight:w,itemHeight:E}=El(o,f),L=function(N,U,G){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;s.save();let q=Z(G.lineWidth,1);if(s.fillStyle=Z(G.fillStyle,l),s.lineCap=Z(G.lineCap,"butt"),s.lineDashOffset=Z(G.lineDashOffset,0),s.lineJoin=Z(G.lineJoin,"miter"),s.lineWidth=q,s.strokeStyle=Z(G.strokeStyle,l),s.setLineDash(Z(G.lineDash,[])),o.usePointStyle){let J={radius:w*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:q},ee=d.xPlus(N,S/2),te=U+x;Ir(s,J,ee,te,o.pointStyleWidth&&S)}else{let J=U+Math.max((f-w)/2,0),ee=d.leftForLtr(N,S),te=oi(G.borderRadius);s.beginPath(),Object.values(te).some(we=>we!==0)?Gi(s,{x:ee,y:J,w:S,h:w,radius:te}):s.rect(ee,J,S,w),s.fill(),q!==0&&s.stroke()}s.restore()},V=function(N,U,G){ri(s,G.text,N,U+E/2,u,{strikethrough:G.hidden,textAlign:d.textAlign(G.textAlign)})},j=this.isHorizontal(),B=this._computeTitleHeight();j?g={x:Ue(r,this.left+h,this.right-n[0]),y:this.top+h+B,line:0}:g={x:this.left+h,y:Ue(r,this.top+B+h,this.bottom-e[0].height),line:0},jr(this.ctx,t.textDirection);let H=E+h;this.legendItems.forEach((N,U)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;let G=s.measureText(N.text).width,q=d.textAlign(N.textAlign||(N.textAlign=o.textAlign)),J=S+x+G,ee=g.x,te=g.y;d.setWidth(this.width),j?U>0&&ee+J+h>this.right&&(te=g.y+=H,g.line++,ee=g.x=Ue(r,this.left+h,this.right-n[g.line])):U>0&&te+H>this.bottom&&(ee=g.x=ee+e[g.line].width+h,g.line++,te=g.y=Ue(r,this.top+B+h,this.bottom-e[g.line].height));let we=d.x(ee);if(L(we,te,N),ee=Ea(q,ee+S+x,j?ee+J:this.right,t.rtl),V(d.x(ee),te,N),j)g.x+=J+h;else if(typeof N.text!="string"){let Ze=u.lineHeight;g.y+=lc(N,Ze)+h}else g.y+=H}),Nr(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=Oe(e.font),s=Ye(e.padding);if(!e.display)return;let r=_i(t.rtl,this.left,this.width),o=this.ctx,l=e.position,d=n.size/2,u=s.top+d,h,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),h=this.top+u,f=Ue(t.align,f,this.right-x);else{let S=this.columnSizes.reduce((w,E)=>Math.max(w,E.height),0);h=u+Ue(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}let g=Ue(l,f,f+x);o.textAlign=r.textAlign(Ms(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,ri(o,e.text,g,h,n)}_computeTitleHeight(){let t=this.options.title,e=Oe(t.font),n=Ye(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,r;if(At(t,this.left,this.right)&&At(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(s=r[n],At(t,s.left,s.left+s.width)&&At(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!Cf(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,r=vf(s,n);s&&!r&&_e(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!r&&_e(e.onHover,[t,n,this],this)}else n&&_e(e.onClick,[t,n,this],this)}};function bf(i,t,e,n,s){let r=yf(n,i,t,e),o=wf(s,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function yf(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+n.measureText(s).width}function wf(i,t,e){let n=i;return typeof t.text!="string"&&(n=lc(t,e)),n}function lc(i,t){let e=i.text?i.text.length:0;return t*e}function Cf(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Sf={id:"legend",_element:Us,start(i,t,e){let n=i.legend=new Us({ctx:i.ctx,options:e,chart:i});Je.configure(i,n,e),Je.addBox(i,n)},stop(i){Je.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Je.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{let u=d.controller.getStyle(e?0:void 0),h=Ye(u.borderWidth);return{text:t[d.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},yn=class extends xt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=ve(n.text)?n.text.length:1;this._padding=Ye(n.padding);let r=s*Oe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:s,right:r,options:o}=this,l=o.align,d=0,u,h,f;return this.isHorizontal()?(h=Ue(l,n,r),f=e+t,u=r-n):(o.position==="left"?(h=n+t,f=Ue(l,s,e),d=oe*-.5):(h=r-t,f=Ue(l,e,s),d=oe*.5),u=s-e),{titleX:h,titleY:f,maxWidth:u,rotation:d}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=Oe(e.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:d,rotation:u}=this._drawArgs(r);ri(t,e.text,0,0,n,{color:e.color,maxWidth:d,rotation:u,textAlign:Ms(e.align),textBaseline:"middle",translation:[o,l]})}};function Mf(i,t){let e=new yn({ctx:i.ctx,options:t,chart:i});Je.configure(i,e,t),Je.addBox(i,e),i.titleBlock=e}var kf={id:"title",_element:yn,start(i,t,e){Mf(i,e)},stop(i){let t=i.titleBlock;Je.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Je.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Fs=new WeakMap,Ef={id:"subtitle",start(i,t,e){let n=new yn({ctx:i.ctx,options:e,chart:i});Je.configure(i,n,e),Je.addBox(i,n),Fs.set(i,n)},stop(i){Je.removeBox(i,Fs.get(i)),Fs.delete(i)},beforeUpdate(i,t,e){let n=Fs.get(i);Je.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},vn={average(i){if(!i.length)return!1;let t,e,n=new Set,s=0,r=0;for(t=0,e=i.length;t<e;++t){let l=i[t].element;if(l&&l.hasValue()){let d=l.tooltipPosition();n.add(d.x),s+=d.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:s/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=i.length;r<o;++r){let d=i[r].element;if(d&&d.hasValue()){let u=d.getCenterPoint(),h=bs(t,u);h<s&&(s=h,l=d)}}if(l){let d=l.tooltipPosition();e=d.x,n=d.y}return{x:e,y:n}}};function Dt(i,t){return t&&(ve(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function zt(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Af(i,t){let{element:e,datasetIndex:n,index:s}=t,r=i.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(s);return{chart:i,label:o,parsed:r.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function Al(i,t){let e=i.chart.ctx,{body:n,footer:s,title:r}=i,{boxWidth:o,boxHeight:l}=t,d=Oe(t.bodyFont),u=Oe(t.titleFont),h=Oe(t.footerFont),f=r.length,x=s.length,g=n.length,S=Ye(t.padding),w=S.height,E=0,L=n.reduce((B,H)=>B+H.before.length+H.lines.length+H.after.length,0);if(L+=i.beforeBody.length+i.afterBody.length,f&&(w+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),L){let B=t.displayColors?Math.max(l,d.lineHeight):d.lineHeight;w+=g*B+(L-g)*d.lineHeight+(L-1)*t.bodySpacing}x&&(w+=t.footerMarginTop+x*h.lineHeight+(x-1)*t.footerSpacing);let V=0,j=function(B){E=Math.max(E,e.measureText(B).width+V)};return e.save(),e.font=u.string,pe(i.title,j),e.font=d.string,pe(i.beforeBody.concat(i.afterBody),j),V=t.displayColors?o+2+t.boxPadding:0,pe(n,B=>{pe(B.before,j),pe(B.lines,j),pe(B.after,j)}),V=0,e.font=h.string,pe(i.footer,j),e.restore(),E+=S.width,{width:E,height:w}}function Df(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function Tf(i,t,e,n){let{x:s,width:r}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&s+r+o>t.width||i==="right"&&s-r-o<0)return!0}function If(i,t,e,n){let{x:s,width:r}=e,{width:o,chartArea:{left:l,right:d}}=i,u="center";return n==="center"?u=s<=(l+d)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),Tf(u,i,t,e)&&(u="center"),u}function Dl(i,t,e){let n=e.yAlign||t.yAlign||Df(i,e);return{xAlign:e.xAlign||t.xAlign||If(i,t,e,n),yAlign:n}}function Pf(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Vf(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function Tl(i,t,e,n){let{caretSize:s,caretPadding:r,cornerRadius:o}=i,{xAlign:l,yAlign:d}=e,u=s+r,{topLeft:h,topRight:f,bottomLeft:x,bottomRight:g}=oi(o),S=Pf(t,l),w=Vf(t,d,u);return d==="center"?l==="left"?S+=u:l==="right"&&(S-=u):l==="left"?S-=Math.max(h,x)+s:l==="right"&&(S+=Math.max(f,g)+s),{x:Re(S,0,n.width-t.width),y:Re(w,0,n.height-t.height)}}function Rs(i,t,e){let n=Ye(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function Il(i){return Dt([],zt(i))}function Lf(i,t,e){return Nt(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Pl(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var cc={beforeTitle:Et,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:Et,beforeBody:Et,beforeLabel:Et,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return se(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Et,afterBody:Et,beforeFooter:Et,footer:Et,afterFooter:Et};function rt(i,t,e,n){let s=i[t].call(e,n);return typeof s>"u"?cc[t].call(e,n):s}var Vl=(()=>{class i extends xt{static positioners=vn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,o=new Bs(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Lf(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:s}=n,r=rt(s,"beforeTitle",this,e),o=rt(s,"title",this,e),l=rt(s,"afterTitle",this,e),d=[];return d=Dt(d,zt(r)),d=Dt(d,zt(o)),d=Dt(d,zt(l)),d}getBeforeBody(e,n){return Il(rt(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:s}=n,r=[];return pe(e,o=>{let l={before:[],lines:[],after:[]},d=Pl(s,o);Dt(l.before,zt(rt(d,"beforeLabel",this,o))),Dt(l.lines,rt(d,"label",this,o)),Dt(l.after,zt(rt(d,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,n){return Il(rt(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:s}=n,r=rt(s,"beforeFooter",this,e),o=rt(s,"footer",this,e),l=rt(s,"afterFooter",this,e),d=[];return d=Dt(d,zt(r)),d=Dt(d,zt(o)),d=Dt(d,zt(l)),d}_createItems(e){let n=this._active,s=this.chart.data,r=[],o=[],l=[],d=[],u,h;for(u=0,h=n.length;u<h;++u)d.push(Af(this.chart,n[u]));return e.filter&&(d=d.filter((f,x,g)=>e.filter(f,x,g,s))),e.itemSort&&(d=d.sort((f,x)=>e.itemSort(f,x,s))),pe(d,f=>{let x=Pl(e.callbacks,f);r.push(rt(x,"labelColor",this,f)),o.push(rt(x,"labelPointStyle",this,f)),l.push(rt(x,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(e,n){let s=this.options.setContext(this.getContext()),r=this._active,o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{let d=vn[s.position].call(this,r,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);let u=this._size=Al(this,s),h=Object.assign({},d,u),f=Dl(this.chart,s,h),x=Tl(s,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:x.x,y:x.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){let o=this.getCaretPosition(e,s,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){let{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:x}=oi(d),{x:g,y:S}=e,{width:w,height:E}=n,L,V,j,B,H,N;return o==="center"?(H=S+E/2,r==="left"?(L=g,V=L-l,B=H+l,N=H-l):(L=g+w,V=L+l,B=H-l,N=H+l),j=L):(r==="left"?V=g+Math.max(u,f)+l:r==="right"?V=g+w-Math.max(h,x)-l:V=this.caretX,o==="top"?(B=S,H=B-l,L=V-l,j=V+l):(B=S+E,H=B+l,L=V+l,j=V-l),N=B),{x1:L,x2:V,x3:j,y1:B,y2:H,y3:N}}drawTitle(e,n,s){let r=this.title,o=r.length,l,d,u;if(o){let h=_i(s.rtl,this.x,this.width);for(e.x=Rs(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=Oe(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,u=0;u<o;++u)n.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,u+1===o&&(e.y+=s.titleMarginBottom-d)}}_drawColorBox(e,n,s,r,o){let l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:u,boxWidth:h}=o,f=Oe(o.bodyFont),x=Rs(this,"left",o),g=r.x(x),S=u<f.lineHeight?(f.lineHeight-u)/2:0,w=n.y+S;if(o.usePointStyle){let E={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},L=r.leftForLtr(g,h)+h/2,V=w+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Es(e,E,L,V),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Es(e,E,L,V)}else{e.lineWidth=re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;let E=r.leftForLtr(g,h),L=r.leftForLtr(r.xPlus(g,1),h-2),V=oi(l.borderRadius);Object.values(V).some(j=>j!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Gi(e,{x:E,y:w,w:h,h:u,radius:V}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Gi(e,{x:L,y:w+1,w:h-2,h:u-2,radius:V}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,w,h,u),e.strokeRect(E,w,h,u),e.fillStyle=l.backgroundColor,e.fillRect(L,w+1,h-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){let{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:f}=s,x=Oe(s.bodyFont),g=x.lineHeight,S=0,w=_i(s.rtl,this.x,this.width),E=function(q){n.fillText(q,w.x(e.x+S),e.y+g/2),e.y+=g+o},L=w.textAlign(l),V,j,B,H,N,U,G;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=Rs(this,L,s),n.fillStyle=s.bodyColor,pe(this.beforeBody,E),S=d&&L!=="right"?l==="center"?h/2+f:h+2+f:0,H=0,U=r.length;H<U;++H){for(V=r[H],j=this.labelTextColors[H],n.fillStyle=j,pe(V.before,E),B=V.lines,d&&B.length&&(this._drawColorBox(n,e,H,w,s),g=Math.max(x.lineHeight,u)),N=0,G=B.length;N<G;++N)E(B[N]),g=x.lineHeight;pe(V.after,E)}S=0,g=x.lineHeight,pe(this.afterBody,E),e.y-=o}drawFooter(e,n,s){let r=this.footer,o=r.length,l,d;if(o){let u=_i(s.rtl,this.x,this.width);for(e.x=Rs(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=u.textAlign(s.footerAlign),n.textBaseline="middle",l=Oe(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(r[d],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){let{xAlign:o,yAlign:l}=this,{x:d,y:u}=e,{width:h,height:f}=s,{topLeft:x,topRight:g,bottomLeft:S,bottomRight:w}=oi(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(d+x,u),l==="top"&&this.drawCaret(e,n,s,r),n.lineTo(d+h-g,u),n.quadraticCurveTo(d+h,u,d+h,u+g),l==="center"&&o==="right"&&this.drawCaret(e,n,s,r),n.lineTo(d+h,u+f-w),n.quadraticCurveTo(d+h,u+f,d+h-w,u+f),l==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(d+S,u+f),n.quadraticCurveTo(d,u+f,d,u+f-S),l==="center"&&o==="left"&&this.drawCaret(e,n,s,r),n.lineTo(d,u+x),n.quadraticCurveTo(d,u,d+x,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){let l=vn[e.position].call(this,this._active,this._eventPosition);if(!l)return;let d=this._size=Al(this,e),u=Object.assign({},l,this._size),h=Dl(n,e,u),f=Tl(e,u,h,n);(r._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(n);let r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let l=Ye(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,n),jr(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Nr(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let s=this._active,r=e.map(({datasetIndex:d,index:u})=>{let h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),o=!cn(s,r),l=this._positionChanged(r,n);(o||l)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,s),d=this._positionChanged(l,e),u=n||!cn(l,o)||d;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,s,r){let o=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);let l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,n){let{caretX:s,caretY:r,options:o}=this,l=vn[o.position].call(this,e,n);return l!==!1&&(s!==l.x||r!==l.y)}}return i})(),Of={id:"tooltip",_element:Vl,positioners:vn,afterInit(i,t,e){e&&(i.tooltip=new Vl({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",Ci(wi({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ff=Object.freeze({__proto__:null,Colors:Yh,Decimation:Kh,Filler:xf,Legend:Sf,SubTitle:Ef,Title:kf,Tooltip:Of}),Rf=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Hf(i,t,e,n){let s=i.indexOf(t);if(s===-1)return Rf(i,t,e,n);let r=i.lastIndexOf(t);return s!==r?e:s}var jf=(i,t)=>i===null?null:Re(Math.round(i),0,t);function Ll(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var Nf=(()=>{class i extends bi{static id="category";static defaults={ticks:{callback:Ll}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let s=this.getLabels();for(let{index:r,label:o}of n)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;let s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Hf(s,e,Z(n,e),this._addedLabels),jf(n,s.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){let e=this.min,n=this.max,s=this.options.offset,r=[],o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=n;l++)r.push({value:l});return r}getLabelForValue(e){return Ll.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Bf(i,t){let e=[],{bounds:s,step:r,min:o,max:l,precision:d,count:u,maxTicks:h,maxDigits:f,includeBounds:x}=i,g=r||1,S=h-1,{min:w,max:E}=t,L=!se(o),V=!se(l),j=!se(u),B=(E-w)/(f+1),H=xr((E-w)/S/g)*g,N,U,G,q;if(H<1e-14&&!L&&!V)return[{value:w},{value:E}];q=Math.ceil(E/H)-Math.floor(w/H),q>S&&(H=xr(q*H/S/g)*g),se(d)||(N=Math.pow(10,d),H=Math.ceil(H*N)/N),s==="ticks"?(U=Math.floor(w/H)*H,G=Math.ceil(E/H)*H):(U=w,G=E),L&&V&&r&&ba((l-o)/r,H/1e3)?(q=Math.round(Math.min((l-o)/H,h)),H=(l-o)/q,U=o,G=l):j?(U=L?o:U,G=V?l:G,q=u-1,H=(G-U)/q):(q=(G-U)/H,Bi(q,Math.round(q),H/1e3)?q=Math.round(q):q=Math.ceil(q));let J=Math.max(br(H),br(U));N=Math.pow(10,se(d)?J:d),U=Math.round(U*N)/N,G=Math.round(G*N)/N;let ee=0;for(L&&(x&&U!==o?(e.push({value:o}),U<o&&ee++,Bi(Math.round((U+ee*H)*N)/N,o,Ol(o,B,i))&&ee++):U<o&&ee++);ee<q;++ee){let te=Math.round((U+ee*H)*N)/N;if(V&&te>l)break;e.push({value:te})}return V&&x&&G!==l?e.length&&Bi(e[e.length-1].value,l,Ol(l,B,i))?e[e.length-1].value=l:e.push({value:l}):(!V||G===l)&&e.push({value:G}),e}function Ol(i,t,{horizontal:e,minRotation:n}){let s=mt(n),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+i).length;return Math.min(t/r,o)}var qi=class extends bi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:r}=this,o=d=>s=e?s:d,l=d=>r=n?r:d;if(t){let d=_t(s),u=_t(r);d<0&&u<0?l(0):d>0&&u>0&&o(0)}if(s===r){let d=r===0?1:Math.abs(r*.05);l(r+d),t||o(s-d)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=Bf(s,r);return t.bounds==="ticks"&&vr(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Wi(t,this.chart.options.locale,this.options.ticks.format)}},_o=class extends qi{static id="linear";static defaults={ticks:{callback:dn.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ke(t)?t:0,this.max=ke(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=mt(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},wn=i=>Math.floor(Ht(i)),vi=(i,t)=>Math.pow(10,wn(i)+t);function Fl(i){return i/Math.pow(10,wn(i))===1}function Rl(i,t,e){let n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function zf(i,t){let e=t-i,n=wn(e);for(;Rl(i,t,n)>10;)n++;for(;Rl(i,t,n)<10;)n--;return Math.min(n,wn(i))}function Wf(i,{min:t,max:e}){t=st(i.min,t);let n=[],s=wn(t),r=zf(t,e),o=r<0?Math.pow(10,Math.abs(r)):1,l=Math.pow(10,r),d=s>r?Math.pow(10,s):0,u=Math.round((t-d)*o)/o,h=Math.floor((t-d)/l/10)*l*10,f=Math.floor((u-h)/Math.pow(10,r)),x=st(i.min,Math.round((d+h+f*Math.pow(10,r))*o)/o);for(;x<e;)n.push({value:x,major:Fl(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),x=Math.round((d+h+f*Math.pow(10,r))*o)/o;let g=st(i.max,x);return n.push({value:g,major:Fl(g),significand:f}),n}var xo=class extends bi{static id="logarithmic";static defaults={ticks:{callback:dn.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=qi.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return ke(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ke(t)?Math.max(0,t):null,this.max=ke(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ke(this._userMin)&&(this.min=t===vi(this.min,0)?vi(this.min,-1):vi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,s=this.max,r=l=>n=t?n:l,o=l=>s=e?s:l;n===s&&(n<=0?(r(1),o(10)):(r(vi(n,-1)),o(vi(s,1)))),n<=0&&r(vi(s,-1)),s<=0&&o(vi(n,1)),this.min=n,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Wf(e,this);return t.bounds==="ticks"&&vr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Wi(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ht(t),this._valueRange=Ht(this.max)-Ht(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ht(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function vo(i){let t=i.ticks;if(t.display&&i.display){let e=Ye(t.backdropPadding);return Z(t.font&&t.font.size,ye.font.size)+e.height}return 0}function Gf(i,t,e){return e=ve(e)?e:[e],{w:Da(i,t.string,e),h:e.length*t.lineHeight}}function Hl(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function $f(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],r=i._pointLabels.length,o=i.options.pointLabels,l=o.centerPointLabels?oe/r:0;for(let d=0;d<r;d++){let u=o.setContext(i.getPointLabelContext(d));s[d]=u.padding;let h=i.getPointPosition(d,i.drawingArea+s[d],l),f=Oe(u.font),x=Gf(i.ctx,f,i._pointLabels[d]);n[d]=x;let g=$e(i.getIndexAngle(d)+l),S=Math.round(Cs(g)),w=Hl(S,h.x,x.w,0,180),E=Hl(S,h.y,x.h,90,270);Uf(e,t,g,w,E)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=Xf(i,n,s)}function Uf(i,t,e,n,s){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),l=0,d=0;n.start<t.l?(l=(t.l-n.start)/r,i.l=Math.min(i.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/r,i.r=Math.max(i.r,t.r+l)),s.start<t.t?(d=(t.t-s.start)/o,i.t=Math.min(i.t,t.t-d)):s.end>t.b&&(d=(s.end-t.b)/o,i.b=Math.max(i.b,t.b+d))}function Yf(i,t,e){let n=i.drawingArea,{extra:s,additionalAngle:r,padding:o,size:l}=e,d=i.getPointPosition(t,n+s+o,r),u=Math.round(Cs($e(d.angle+Ae))),h=Jf(d.y,l.h,u),f=Qf(u),x=Kf(d.x,l.w,f);return{visible:!0,x:d.x,y:h,textAlign:f,left:x,top:h,right:x+l.w,bottom:h+l.h}}function qf(i,t){if(!t)return!0;let{left:e,top:n,right:s,bottom:r}=i;return!(kt({x:e,y:n},t)||kt({x:e,y:r},t)||kt({x:s,y:n},t)||kt({x:s,y:r},t))}function Xf(i,t,e){let n=[],s=i._pointLabels.length,r=i.options,{centerPointLabels:o,display:l}=r.pointLabels,d={extra:vo(r)/2,additionalAngle:o?oe/s:0},u;for(let h=0;h<s;h++){d.padding=e[h],d.size=t[h];let f=Yf(i,h,d);n.push(f),l==="auto"&&(f.visible=qf(f,u),f.visible&&(u=f))}return n}function Qf(i){return i===0||i===180?"center":i<180?"left":"right"}function Kf(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function Jf(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function Zf(i,t,e){let{left:n,top:s,right:r,bottom:o}=e,{backdropColor:l}=t;if(!se(l)){let d=oi(t.borderRadius),u=Ye(t.backdropPadding);i.fillStyle=l;let h=n-u.left,f=s-u.top,x=r-n+u.width,g=o-s+u.height;Object.values(d).some(S=>S!==0)?(i.beginPath(),Gi(i,{x:h,y:f,w:x,h:g,radius:d}),i.fill()):i.fillRect(h,f,x,g)}}function eg(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){let r=i._pointLabelItems[s];if(!r.visible)continue;let o=n.setContext(i.getPointLabelContext(s));Zf(e,o,r);let l=Oe(o.font),{x:d,y:u,textAlign:h}=r;ri(e,i._pointLabels[s],d,u+l.lineHeight/2,l,{color:o.color,textAlign:h,textBaseline:"middle"})}}function dc(i,t,e,n){let{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,be);else{let r=i.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<n;o++)r=i.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function tg(i,t,e,n,s){let r=i.ctx,o=t.circular,{color:l,lineWidth:d}=t;!o&&!n||!l||!d||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),dc(i,e,o,n),r.closePath(),r.stroke(),r.restore())}function ig(i,t,e){return Nt(i,{label:e,index:t,type:"pointLabel"})}var bo=class extends qi{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Ye(vo(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=ke(t)&&!isNaN(t)?t:0,this.max=ke(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vo(this.options))}generateTickLabels(t){qi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let s=_e(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?$f(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){let e=be/(this._pointLabels.length||1),n=this.options.startAngle||0;return $e(t*e+mt(n))}getDistanceFromCenterForValue(t){if(se(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(se(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return ig(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let s=this.getIndexAngle(t)-Ae+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),dc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:s,border:r}=e,o=this._pointLabels.length,l,d,u;if(e.pointLabels.display&&eg(this,o),s.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){d=this.getDistanceFromCenterForValue(h.value);let x=this.getContext(f),g=s.setContext(x),S=r.setContext(x);tg(this,g,d,o,S)}}),n.display){for(t.save(),l=o-1;l>=0;l--){let h=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:x}=h;!x||!f||(t.lineWidth=x,t.strokeStyle=f,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(l,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let s=this.getIndexAngle(0),r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;let u=n.setContext(this.getContext(d)),h=Oe(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),u.showLabelBackdrop){t.font=h.string,o=t.measureText(l.label).width,t.fillStyle=u.backdropColor;let f=Ye(u.backdropPadding);t.fillRect(-o/2-f.left,-r-h.size/2-f.top,o+f.width,h.size+f.height)}ri(t,l.label,0,-r,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}},Xs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ot=Object.keys(Xs);function jl(i,t){return i-t}function Nl(i,t){if(se(t))return null;let e=i._adapter,{parser:n,round:s,isoWeekday:r}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),ke(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(gi(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Bl(i,t,e,n){let s=ot.length;for(let r=ot.indexOf(i);r<s-1;++r){let o=Xs[ot[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return ot[r]}return ot[s-1]}function ng(i,t,e,n,s){for(let r=ot.length-1;r>=ot.indexOf(e);r--){let o=ot[r];if(Xs[o].common&&i._adapter.diff(s,n,o)>=t-1)return o}return ot[e?ot.indexOf(e):0]}function sg(i){for(let t=ot.indexOf(i)+1,e=ot.length;t<e;++t)if(Xs[ot[t]].common)return ot[t]}function zl(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:s}=Ss(e,t),r=e[n]>=t?e[n]:e[s];i[r]=!0}}function rg(i,t,e,n){let s=i._adapter,r=+s.startOf(t[0].value,n),o=t[t.length-1].value,l,d;for(l=r;l<=o;l=+s.add(l,1,n))d=e[l],d>=0&&(t[d].major=!0);return t}function Wl(i,t,e){let n=[],s={},r=t.length,o,l;for(o=0;o<r;++o)l=t[o],s[l]=o,n.push({value:l,major:!1});return r===0||!e?n:rg(i,n,s,e)}var yo=(()=>{class i extends bi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let s=e.time||(e.time={}),r=this._adapter=new fp._date(e.adapters.date);r.init(n),ji(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Nl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,s=e.time.unit||"day",{min:r,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=ke(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),o=ke(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){let e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let o=this.min,l=this.max,d=Ca(r,o,l);return this._unit=n.unit||(s.autoSkip?Bl(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):ng(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:sg(this._unit),this.initOffsets(r),e.reverse&&d.reverse(),Wl(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);let l=e.length<3?.5:.25;n=Re(n,0,l),s=Re(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let e=this._adapter,n=this.min,s=this.max,r=this.options,o=r.time,l=o.unit||Bl(o.minUnit,n,s,this._getLabelCapacity(n)),d=Z(r.ticks.stepSize,1),u=l==="week"?o.isoWeekday:!1,h=gi(u)||u===!0,f={},x=n,g,S;if(h&&(x=+e.startOf(x,"isoWeek",u)),x=+e.startOf(x,h?"day":l),e.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);let w=r.ticks.source==="data"&&this.getDataTimestamps();for(g=x,S=0;g<s;g=+e.add(g,d,l),S++)zl(f,g,w);return(g===s||r.bounds==="ticks"||S===1)&&zl(f,g,w),Object.keys(f).sort(jl).map(E=>+E)}getLabelForValue(e){let n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){let r=this.options.time.displayFormats,o=this._unit,l=n||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,s,r){let o=this.options,l=o.ticks.callback;if(l)return _e(l,[e,n,s],this);let d=o.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&d[u],x=h&&d[h],g=s[n],S=h&&x&&g&&g.major;return this._adapter.format(e,r||(S?x:f))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){let n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,s=this.ctx.measureText(e).width,r=mt(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),l=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(e){let n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Wl(this,[e],this._majorUnit),r),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,s;if(e.length)return e;let r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(Nl(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Cr(e.sort(jl))}}return i})();function Hs(i,t,e){let n=0,s=i.length-1,r,o,l,d;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=Mt(i,"pos",t)),{pos:r,time:l}=i[n],{pos:o,time:d}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=Mt(i,"time",t)),{time:r,pos:l}=i[n],{time:o,pos:d}=i[s]);let u=o-r;return u?l+(d-l)*(t-r)/u:l}var wo=class extends yo{static id="timeseries";static defaults=yo.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Hs(e,this.min),this._tableRange=Hs(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,s=[],r=[],o,l,d,u,h;for(o=0,l=t.length;o<l;++o)u=t[o],u>=e&&u<=n&&s.push(u);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=s.length;o<l;++o)h=s[o+1],d=s[o-1],u=s[o],Math.round((h+d)/2)!==u&&r.push({time:u,pos:o/(l-1)});return r}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Hs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Hs(this._table,n*this._tableRange+this._minPos,!0)}},og=Object.freeze({__proto__:null,CategoryScale:Nf,LinearScale:_o,LogarithmicScale:xo,RadialLinearScale:bo,TimeScale:yo,TimeSeriesScale:wo}),uc=[hp,Nh,Ff,og];var ag=["dateInput"],lg=i=>["/locations",i],cg=i=>["/assets/preview",i],dg=()=>["all","category","location","department","manufacturer","parent","children","siblings","similar"];function ug(i,t){if(i&1){let e=R();a(0,"div",28)(1,"button",29),A("click",function(){M(e);let s=_();return s.transferAsset(),k(s.showActionsDropdown=!1)}),D(),a(2,"svg",30),y(3,"path",31),c(),T(),a(4,"span",32),m(5,"Transfer Asset"),c()(),a(6,"button",29),A("click",function(){M(e);let s=_();return s.duplicateAsset(),k(s.showActionsDropdown=!1)}),D(),a(7,"svg",30),y(8,"path",33),c(),T(),a(9,"span",32),m(10,"Duplicate"),c()(),y(11,"div",34),a(12,"button",29),A("click",function(){M(e);let s=_();return s.printAsset(),k(s.showActionsDropdown=!1)}),D(),a(13,"svg",30),y(14,"path",35),c(),T(),a(15,"span",32),m(16,"Print"),c()(),a(17,"button",29),A("click",function(){M(e);let s=_();return s.exportAsset(),k(s.showActionsDropdown=!1)}),D(),a(18,"svg",30),y(19,"path",36),c(),T(),a(20,"span",32),m(21,"Export"),c()(),a(22,"button",29),A("click",function(){M(e);let s=_();return s.sharePublicUrl(),k(s.showActionsDropdown=!1)}),D(),a(23,"svg",30),y(24,"path",37),c(),T(),a(25,"span",32),m(26,"Share Public URL"),c()()()}}function mg(i,t){i&1&&(a(0,"div",38)(1,"div",39)(2,"div",40),D(),a(3,"svg",41),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"h3",44),m(7,"Loading Asset"),c(),a(8,"p",45),m(9,"Please wait while we fetch the asset details..."),c()()())}function pg(i,t){if(i&1){let e=R();a(0,"div",38)(1,"div",39)(2,"div",46),D(),a(3,"svg",47),y(4,"path",48),c()(),T(),a(5,"h3",44),m(6,"Error Loading Asset"),c(),a(7,"p",49),m(8),c(),a(9,"button",50),A("click",function(){M(e);let s=_();return k(s.goBack())}),m(10," Back to Assets "),c()()()}if(i&2){let e=_();p(8),O(e.error)}}function hg(i,t){if(i&1&&(a(0,"span",175),m(1),c()),i&2){let e=_(2);Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," ")}}function fg(i,t){if(i&1){let e=R();a(0,"div",7)(1,"span",45),m(2,"Serial:"),c(),a(3,"button",62),A("click",function(){M(e);let s=_(2);return k(s.copySerialNumber())}),a(4,"span"),m(5),c(),D(),a(6,"svg",63),y(7,"path",33),c()()()}if(i&2){let e=_(2);p(5),O(e.asset.serial_number)}}function gg(i,t){if(i&1){let e=R();a(0,"button",183),A("click",function(){M(e);let s=_(3);return k(s.previousImage())}),D(),a(1,"svg",18),y(2,"path",184),c()()}}function _g(i,t){if(i&1){let e=R();a(0,"button",185),A("click",function(){M(e);let s=_(3);return k(s.nextImage())}),D(),a(1,"svg",18),y(2,"path",10),c()()}}function xg(i,t){if(i&1){let e=R();a(0,"div",188),A("click",function(){let s=M(e).index,r=_(4);return k(r.selectImage(s))}),a(1,"img",189),A("error",function(s){M(e);let r=_(4);return k(r.onImageError(s))}),c()()}if(i&2){let e=t.$implicit,n=t.index,s=_(4);z("border-blue-500",n===s.currentImageIndex)("border-gray-200",n!==s.currentImageIndex),p(),v("src",e.image_url,Me)("alt","Asset image "+(n+1))}}function vg(i,t){if(i&1&&(a(0,"div",186),I(1,xg,2,6,"div",187),c()),i&2){let e=_(3);p(),v("ngForOf",e.asset.images)}}function bg(i,t){if(i&1){let e=R();a(0,"div")(1,"div",176)(2,"div",177)(3,"img",178),A("click",function(){M(e);let s=_(2);return k(s.viewFullImage(s.selectedImageUrl||s.asset.images[0].image_url))})("error",function(s){M(e);let r=_(2);return k(r.onImageError(s))}),c(),I(4,gg,3,0,"button",179)(5,_g,3,0,"button",180),a(6,"div",181),m(7),c()()(),I(8,vg,2,1,"div",182),c()}if(i&2){let e=_(2);p(3),v("src",e.selectedImageUrl||e.asset.images[0].image_url,Me)("alt",e.asset.name),p(),v("ngIf",e.asset.images.length>1),p(),v("ngIf",e.asset.images.length>1),p(2),De(" ",e.currentImageIndex+1," / ",e.asset.images.length," "),p(),v("ngIf",e.asset.images.length>1)}}function yg(i,t){i&1&&(a(0,"div",190),D(),a(1,"svg",191),y(2,"path",70),c(),T(),a(3,"h3",44),m(4,"No Images Available"),c(),a(5,"p",192),m(6,"No images have been uploaded for this asset."),c()())}function wg(i,t){if(i&1){let e=R();a(0,"button",193),A("click",function(){M(e);let s=_(2);return k(s.descriptionExpanded=!s.descriptionExpanded)}),m(1),c()}if(i&2){let e=_(2);p(),W(" ",e.descriptionExpanded?"Show Less":"Show More"," ")}}function Cg(i,t){if(i&1){let e=R();a(0,"img",194),A("error",function(s){M(e);let r=_(2);return k(r.onCategoryIconError(s,r.asset.category))}),c()}if(i&2){let e=_(2);v("src",e.asset.category.icon,Me)("alt",e.asset.category.name)}}function Sg(i,t){i&1&&(D(),a(0,"svg",159),y(1,"path",195),c())}function Mg(i,t){if(i&1&&(a(0,"div",7)(1,"span",196),m(2),c()()),i&2){let e=_(2);p(),Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," ")}}function kg(i,t){i&1&&(a(0,"span",90),m(1,"Not specified"),c())}function Eg(i,t){if(i&1&&(a(0,"a",197),m(1),c()),i&2){let e=_(2);v("routerLink",Yt(2,lg,e.asset.location.id)),p(),W(" ",e.asset.location.name," ")}}function Ag(i,t){if(i&1&&(a(0,"span",90),m(1),c()),i&2){let e=_(2);p(),O((e.asset==null||e.asset.location==null?null:e.asset.location.name)||"No location assigned")}}function Dg(i,t){if(i&1&&(a(0,"div")(1,"h4",76),m(2,"Parent Asset"),c(),a(3,"a",197),m(4),c()()),i&2){let e=_(2);p(3),v("routerLink",Yt(3,cg,e.asset.parent.id)),p(),De(" ",e.asset.parent.name," (",e.asset.parent.asset_id,") ")}}function Tg(i,t){if(i&1&&y(0,"img",198),i&2){let e=_(2);v("src",e.qrCodeDataUrl,Me)}}function Ig(i,t){if(i&1&&y(0,"img",198),i&2){let e=_(2);v("src",e.asset.qr_code_url,Me)}}function Pg(i,t){i&1&&(a(0,"div",199),y(1,"div",200),c())}function Vg(i,t){if(i&1&&(a(0,"div",39),D(),a(1,"svg",201),y(2,"path",202),c(),T(),a(3,"p",203),m(4),c()()),i&2){let e=_(2);p(4),O(e.asset.asset_id||e.asset.id)}}function Lg(i,t){i&1&&(a(0,"div",204),D(),a(1,"svg",205),y(2,"path",48),c(),T(),a(3,"p",206),m(4,"No Asset ID"),c()())}function Og(i,t){if(i&1){let e=R();a(0,"button",207),A("click",function(){M(e);let s=_(2);return k(s.downloadQRCode())}),m(1," Download "),c()}}function Fg(i,t){if(i&1){let e=R();a(0,"button",208),A("click",function(){M(e);let s=_(2);return k(s.copyPublicUrl())}),m(1," Copy URL "),c()}}function Rg(i,t){if(i&1&&y(0,"img",209),i&2){let e=_(2);v("src",e.asset.barcode_url,Me)}}function Hg(i,t){if(i&1&&y(0,"img",209),i&2){let e=_(2);v("src",e.barcodeDataUrl,Me)}}function jg(i,t){i&1&&(a(0,"div",210),y(1,"div",200),c())}function Ng(i,t){if(i&1&&(a(0,"div",211),D(),a(1,"svg",212),y(2,"path",74),c(),T(),a(3,"p",203),m(4),c()()),i&2){let e=_(2);p(4),O(e.asset.asset_id)}}function Bg(i,t){i&1&&(a(0,"div",213),D(),a(1,"svg",205),y(2,"path",48),c(),T(),a(3,"p",206),m(4,"No Asset ID"),c()())}function zg(i,t){if(i&1){let e=R();a(0,"button",207),A("click",function(){M(e);let s=_(2);return k(s.downloadBarcode())}),m(1," Download "),c()}}function Wg(i,t){if(i&1){let e=R();a(0,"button",208),A("click",function(){M(e);let s=_(2);return k(s.copyAssetId())}),m(1," Copy ID "),c()}}function Gg(i,t){if(i&1&&(a(0,"p",214),m(1),c()),i&2){let e=_(2);p(),O(e.asset.asset_id)}}function $g(i,t){if(i&1&&(a(0,"span",215),m(1),c()),i&2){let e=_(3);p(),W(" ",e.asset.asset_status.description," ")}}function Ug(i,t){if(i&1&&(a(0,"div",7)(1,"span",196),m(2),c(),I(3,$g,2,1,"span",174),c()),i&2){let e=_(2);p(),Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," "),p(),v("ngIf",e.asset.asset_status.description)}}function Yg(i,t){i&1&&(a(0,"span",90),m(1,"Not specified"),c())}function qg(i,t){if(i&1){let e=R();a(0,"div")(1,"h4",113),m(2,"Serial Number"),c(),a(3,"div",7)(4,"span",216),m(5),c(),a(6,"button",217),A("click",function(){M(e);let s=_(2);return k(s.copySerialNumber())}),D(),a(7,"svg",14),y(8,"path",33),c()()()()}if(i&2){let e=_(2);p(5),O(e.asset.serial_number)}}function Xg(i,t){if(i&1&&(a(0,"div",221)(1,"span",143),m(2),c(),a(3,"span",222),m(4),c()()),i&2){let e=t.$implicit;p(2),W("",e.key,":"),p(2),O(e.value)}}function Qg(i,t){if(i&1&&(a(0,"div",218)(1,"h4",168),m(2,"Additional Specifications"),c(),a(3,"div",219),I(4,Xg,5,2,"div",220),Ge(5,"keyvalue"),c()()),i&2){let e=_(2);p(4),v("ngForOf",Lo(5,1,e.asset.specifications))}}function Kg(i,t){if(i&1&&(a(0,"div",223)(1,"div",155)(2,"div",137),m(3,"Average Health Score"),c(),a(4,"div",224),m(5),c()(),a(6,"div",139)(7,"div",137),m(8,"Average Performance"),c(),a(9,"div",140),m(10),c()(),a(11,"div",172)(12,"div",137),m(13,"Total Maintenance"),c(),a(14,"div",225),m(15),c()()()),i&2){let e=_(2);p(5),W("",e.healthPerformanceChartData.chart_data.metrics.average_health_score,"%"),p(5),W("",e.healthPerformanceChartData.chart_data.metrics.average_performance_score,"%"),p(5),O(e.healthPerformanceChartData.chart_data.metrics.total_maintenance_count)}}function Jg(i,t){i&1&&(a(0,"div",226)(1,"div",39)(2,"div",227),D(),a(3,"svg",228),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"p",45),m(7,"Loading health & performance data..."),c()()())}function Zg(i,t){if(i&1){let e=R();a(0,"div",229)(1,"div",39)(2,"div",230),m(3),c(),a(4,"button",148),A("click",function(){M(e);let s=_(2);return k(s.loadHealthPerformanceChart())}),m(5," Try Again "),c()()()}if(i&2){let e=_(2);p(3),O(e.healthPerformanceChartError)}}function e1(i,t){i&1&&(a(0,"div",231),y(1,"canvas",232),c())}function t1(i,t){i&1&&(a(0,"div",233),m(1," Green: Health Score | Blue: Performance Score | Orange: Maintenance Count "),c())}function i1(i,t){if(i&1&&(a(0,"div",234)(1,"div",142)(2,"div",143),m(3,"Health Trend"),c(),a(4,"div",235),m(5),c()(),a(6,"div",142)(7,"div",143),m(8,"Performance Trend"),c(),a(9,"div",235),m(10),c()()()),i&2){let e=_(2);p(4),v("ngClass",e.healthPerformanceChartData.chart_data.metrics.health_trend>=0?"text-green-600":"text-red-600"),p(),De(" ",e.healthPerformanceChartData.chart_data.metrics.health_trend>=0?"+":"","",e.healthPerformanceChartData.chart_data.metrics.health_trend,"% "),p(4),v("ngClass",e.healthPerformanceChartData.chart_data.metrics.performance_trend>=0?"text-green-600":"text-red-600"),p(),De(" ",e.healthPerformanceChartData.chart_data.metrics.performance_trend>=0?"+":"","",e.healthPerformanceChartData.chart_data.metrics.performance_trend,"% ")}}function n1(i,t){i&1&&(a(0,"div",226)(1,"div",39)(2,"div",236),D(),a(3,"svg",237),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"p",45),m(7,"Loading chart data..."),c()()())}function s1(i,t){if(i&1){let e=R();a(0,"div",229)(1,"div",39)(2,"div",230),m(3),c(),a(4,"button",148),A("click",function(){M(e);let s=_(2);return k(s.loadDepreciationChart())}),m(5," Try Again "),c()()()}if(i&2){let e=_(2);p(3),O(e.depreciationChartError)}}function r1(i,t){i&1&&(a(0,"div",231),y(1,"canvas",238),c())}function o1(i,t){i&1&&(a(0,"div",233),m(1," Blue line: Asset Value | Red line: Accumulated Depreciation "),c())}function a1(i,t){i&1&&(a(0,"div",239)(1,"div",39)(2,"div",236),D(),a(3,"svg",237),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"p",45),m(7,"Loading activities..."),c()()())}function l1(i,t){if(i&1){let e=R();a(0,"div",240)(1,"div",230),m(2),c(),a(3,"button",148),A("click",function(){M(e);let s=_(2);return k(s.loadActivityHistory())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),O(e.activityError)}}function c1(i,t){if(i&1&&(a(0,"div",249),m(1),c()),i&2){let e=_().$implicit,n=_(3);p(),W(" ",n.formatActivityBeforeAfter(e.before,e.after)," ")}}function d1(i,t){if(i&1&&(a(0,"div",250)(1,"strong"),m(2,"By:"),c(),m(3),c()),i&2){let e=_().$implicit,n=_(3);p(3),W(" ",n.getUserDisplayName(e.user)," ")}}function u1(i,t){if(i&1&&(a(0,"div",242)(1,"div",243),D(),a(2,"svg",14),y(3,"path",56),c()(),T(),a(4,"div",244)(5,"div",245)(6,"h4",246),m(7),c(),a(8,"span",215),m(9),c()(),a(10,"p",137),m(11),c(),I(12,c1,2,1,"div",247)(13,d1,4,1,"div",248),c()()),i&2){let e=t.$implicit,n=_(3);p(),v("ngClass",n.getActivityColor(e.action)),p(2),Ln("d",n.getActivityIcon(e.action)),p(4),O(e.action),p(2),O(e.time_ago),p(2),O(e.comment||"No comment"),p(),v("ngIf",n.formatActivityBeforeAfter(e.before,e.after)),p(),v("ngIf",e.user)}}function m1(i,t){i&1&&(a(0,"div",240),D(),a(1,"svg",251),y(2,"path",92),c(),T(),a(3,"h3",44),m(4,"No Recent Activity"),c(),a(5,"p",192),m(6,"No activity has been recorded for this asset yet."),c()())}function p1(i,t){if(i&1&&(a(0,"div",112),I(1,u1,14,7,"div",241)(2,m1,7,0,"div",145),c()),i&2){let e=_(2);p(),v("ngForOf",e.activities),p(),v("ngIf",e.activities.length===0)}}function h1(i,t){if(i&1){let e=R();a(0,"button",253),A("click",function(){let s=M(e).$implicit,r=_(3);return r.onRelatedFilterChange(s),k(r.showRelatedFilterDropdown=!1)}),a(1,"span",254),m(2),c()()}if(i&2){let e=t.$implicit,n=_(3);z("text-blue-600",n.selectedRelatedFilter===e)("bg-blue-50",n.selectedRelatedFilter===e),p(2),O(n.getRelatedFilterDisplayName(e))}}function f1(i,t){i&1&&(a(0,"div",28),I(1,h1,3,5,"button",252),c()),i&2&&(p(),v("ngForOf",Rn(1,dg)))}function g1(i,t){i&1&&(a(0,"div",239)(1,"div",39)(2,"div",236),D(),a(3,"svg",237),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"p",45),m(7,"Loading related assets..."),c()()())}function _1(i,t){if(i&1){let e=R();a(0,"div",240)(1,"div",230),m(2),c(),a(3,"button",148),A("click",function(){M(e);let s=_(2);return k(s.loadRelatedAssets())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),O(e.relatedAssetsError)}}function x1(i,t){if(i&1){let e=R();a(0,"img",267),A("error",function(s){M(e);let r=_(4);return k(r.onImageError(s))}),c()}if(i&2){let e=_().$implicit;v("src",e.images[0].image_url,Me)("alt",e.name)}}function v1(i,t){i&1&&(D(),a(0,"svg",268),y(1,"path",269),c())}function b1(i,t){if(i&1&&(a(0,"span",215),m(1),c()),i&2){let e=_().$implicit;p(),W(" Health: ",e.health_score,"% ")}}function y1(i,t){if(i&1){let e=R();a(0,"div",257),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.navigateToRelatedAsset(s.id))}),a(1,"div",258),I(2,x1,1,2,"img",259)(3,v1,2,0,"svg",260),c(),a(4,"div",261)(5,"div",245)(6,"h4",262),m(7),c(),a(8,"span",215),m(9),c()(),a(10,"div",263)(11,"span",170),m(12),c(),a(13,"span",264),m(14,"\u2022"),c(),a(15,"span",170),m(16),c()(),a(17,"div",7)(18,"span",265),m(19),c(),I(20,b1,2,1,"span",174),c()(),D(),a(21,"svg",266),y(22,"path",10),c()()}if(i&2){let e=t.$implicit,n=_(3);p(2),v("ngIf",e.images&&e.images.length>0),p(),v("ngIf",!e.images||e.images.length===0),p(4),O(e.name),p(2),O(e.asset_id),p(3),O((e.category==null?null:e.category.name)||"General"),p(4),O((e.asset_type==null?null:e.asset_type.name)||e.type),p(2),v("ngClass",n.getRelatedAssetStatusColor(e.asset_status||e.status)),p(),W(" ",(e.asset_status==null?null:e.asset_status.name)||e.status," "),p(),v("ngIf",e.health_score)}}function w1(i,t){i&1&&(a(0,"div",240),D(),a(1,"svg",251),y(2,"path",269),c(),T(),a(3,"h3",44),m(4,"No Related Assets"),c(),a(5,"p",192),m(6,"No related assets found for this item."),c()())}function C1(i,t){if(i&1&&(a(0,"div",255),I(1,y1,23,9,"div",256)(2,w1,7,0,"div",145),c()),i&2){let e=_(2);p(),v("ngForOf",e.relatedAssets),p(),v("ngIf",e.relatedAssets.length===0)}}function S1(i,t){i&1&&(a(0,"div",270)(1,"div",271),D(),a(2,"svg",272),y(3,"circle",42)(4,"path",43),c()(),T(),a(5,"p",250),m(6,"Loading..."),c()())}function M1(i,t){if(i&1&&(a(0,"div",284),m(1),c()),i&2){let e=_().$implicit;p(),W(" ",e.notes," ")}}function k1(i,t){if(i&1){let e=R();a(0,"div",274)(1,"div",275)(2,"h4",276),m(3),c(),a(4,"div",277)(5,"span"),m(6),c(),a(7,"button",278),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.editMaintenanceSchedule(s))}),D(),a(8,"svg",63),y(9,"path",15),c()(),T(),a(10,"button",279),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.deleteMaintenanceSchedule(s))}),D(),a(11,"svg",63),y(12,"path",280),c()()()(),T(),a(13,"div",281)(14,"div")(15,"span",192),m(16,"Next Due:"),c(),a(17,"span",282),m(18),c()(),a(19,"div")(20,"span",192),m(21,"Frequency:"),c(),a(22,"span",282),m(23),c()()(),I(24,M1,2,1,"div",283),c()}if(i&2){let e=t.$implicit,n=_(3);p(3),O(e.schedule_type),p(2),He("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-"+n.getScheduleStatusColor(e.status)+"-100 text-"+n.getScheduleStatusColor(e.status)+"-800"),p(),W(" ",e.status," "),p(12),O(n.formatDate(e.next_due)),p(5),O(e.frequency||"Not specified"),p(),v("ngIf",e.notes)}}function E1(i,t){if(i&1&&(a(0,"div",255),I(1,k1,25,7,"div",273),c()),i&2){let e=_(2);p(),v("ngForOf",e.maintenanceSchedules)}}function A1(i,t){if(i&1){let e=R();a(0,"div",270),D(),a(1,"svg",285),y(2,"path",91),c(),T(),a(3,"h3",286),m(4,"No Maintenance Schedules"),c(),a(5,"p",287),m(6,"Create maintenance schedules to track asset upkeep."),c(),a(7,"button",288),A("click",function(){M(e);let s=_(2);return k(s.addMaintenanceSchedule())}),m(8," Add First Schedule "),c()()}}function D1(i,t){if(i&1&&(a(0,"span",215),m(1),Ge(2,"date"),c()),i&2){let e=_(2);p(),W(" (Expires: ",Ct(2,1,e.asset.warranty,"MMM d, y"),") ")}}function T1(i,t){if(i&1){let e=R();a(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",5)(4,"div",54),D(),a(5,"svg",55),y(6,"path",56),c()(),T(),a(7,"div")(8,"h1",57),m(9),c(),a(10,"div",5),I(11,hg,2,5,"span",58),a(12,"span",59),m(13),c(),a(14,"span",59),m(15,"\u2022"),c(),a(16,"span",59),m(17),c()()()(),a(18,"div",60)(19,"div",61)(20,"span",45),m(21,"Asset ID:"),c(),a(22,"button",62),A("click",function(){M(e);let s=_();return k(s.copyAssetId())}),a(23,"span"),m(24),c(),D(),a(25,"svg",63),y(26,"path",33),c()()(),I(27,fg,8,1,"div",64),c()()(),T(),a(28,"div",65)(29,"div",66)(30,"div",67)(31,"div",68),D(),a(32,"svg",69),y(33,"path",70),c(),T(),a(34,"h2",71),m(35,"Asset Images"),c()(),I(36,bg,9,7,"div",72)(37,yg,7,0,"ng-template",null,0,Oo),c(),a(39,"div",67)(40,"div",73),D(),a(41,"svg",69),y(42,"path",74),c(),T(),a(43,"h2",71),m(44,"Basic Information"),c()(),a(45,"div",65)(46,"div",75)(47,"div")(48,"h4",76),m(49,"Asset Name"),c(),a(50,"p",71),m(51),c()(),a(52,"div")(53,"h4",76),m(54,"Description"),c(),a(55,"div",77)(56,"p",78),m(57),c(),I(58,wg,2,1,"button",79),c()(),a(59,"div")(60,"h4",76),m(61,"Category"),c(),a(62,"div",12)(63,"div",80),I(64,Cg,1,2,"img",81)(65,Sg,2,0,"svg",82),c(),a(66,"span",11),m(67),c()()(),a(68,"div")(69,"h4",76),m(70,"Status"),c(),I(71,Mg,3,5,"div",64)(72,kg,2,0,"span",83),c()(),a(73,"div",75)(74,"div")(75,"h4",76),m(76,"Asset ID"),c(),a(77,"div",7)(78,"span",84),m(79),c(),a(80,"button",85),A("click",function(){M(e);let s=_();return k(s.copyAssetId())}),D(),a(81,"svg",14),y(82,"path",33),c()()()(),T(),a(83,"div")(84,"h4",76),m(85,"Location"),c(),a(86,"div",7),D(),a(87,"svg",86),y(88,"path",87)(89,"path",88),c(),I(90,Eg,2,4,"a",89)(91,Ag,2,1,"span",83),c()(),T(),a(92,"div")(93,"h4",76),m(94,"Department"),c(),a(95,"span",90),m(96),c()(),a(97,"div")(98,"h4",76),m(99,"Created"),c(),a(100,"div",7),D(),a(101,"svg",86),y(102,"path",91),c(),T(),a(103,"span",90),m(104),Ge(105,"date"),c()()(),a(106,"div")(107,"h4",76),m(108,"Last Modified"),c(),a(109,"div",7),D(),a(110,"svg",86),y(111,"path",92),c(),T(),a(112,"span",90),m(113),Ge(114,"date"),c()()(),I(115,Dg,5,5,"div",93),c(),a(116,"div",75)(117,"div")(118,"h4",76),m(119,"QR Code"),c(),a(120,"div",94)(121,"div",95),I(122,Tg,1,1,"img",96)(123,Ig,1,1,"img",96)(124,Pg,2,0,"div",97)(125,Vg,5,1,"div",98)(126,Lg,5,0,"div",99),c(),a(127,"div",100),I(128,Og,2,0,"button",101)(129,Fg,2,0,"button",102),c(),a(130,"div",103)(131,"p"),m(132,"Scan to access public page"),c()()()(),a(133,"div")(134,"h4",76),m(135,"Barcode"),c(),a(136,"div",94)(137,"div",104),I(138,Rg,1,1,"img",105)(139,Hg,1,1,"img",105)(140,jg,2,0,"div",106)(141,Ng,5,1,"div",107)(142,Bg,5,0,"div",108),c(),a(143,"div",100),I(144,zg,2,0,"button",101)(145,Wg,2,0,"button",102),c(),a(146,"div",103)(147,"p"),m(148,"Scan for asset identification"),c(),I(149,Gg,2,1,"p",109),c()()()()()(),a(150,"div",67)(151,"div",68),D(),a(152,"svg",69),y(153,"path",110),c(),T(),a(154,"h2",71),m(155,"Technical Specifications"),c()(),a(156,"div",111)(157,"div",112)(158,"div")(159,"h4",113),m(160,"Asset Status"),c(),I(161,Ug,4,6,"div",64)(162,Yg,2,0,"span",83),c(),a(163,"div")(164,"h4",113),m(165,"Manufacturer"),c(),a(166,"span",90),m(167),c()(),a(168,"div")(169,"h4",113),m(170,"Model"),c(),a(171,"span",90),m(172),c()(),I(173,qg,9,1,"div",93),a(174,"div")(175,"h4",113),m(176,"Brand"),c(),a(177,"span",90),m(178),c()(),a(179,"div")(180,"h4",113),m(181,"Capacity"),c(),a(182,"span",90),m(183),c()()(),a(184,"div",112)(185,"div")(186,"h4",113),m(187,"Dimensions"),c(),a(188,"span",90),m(189),c()(),a(190,"div")(191,"h4",113),m(192,"Weight"),c(),a(193,"span",90),m(194),c()(),a(195,"div")(196,"h4",113),m(197,"Power Requirements"),c(),a(198,"span",90),m(199),c()(),a(200,"div")(201,"h4",113),m(202,"Operating Conditions"),c(),a(203,"span",90),m(204),c()()()(),I(205,Qg,6,3,"div",114),c(),a(206,"div",67)(207,"div",115)(208,"div",7)(209,"div",116),D(),a(210,"svg",117),y(211,"path",118),c()(),T(),a(212,"h2",71),m(213,"Health & Performance"),c()(),a(214,"div",7)(215,"button",119),A("click",function(){M(e);let s=_();return k(s.refreshHealthPerformanceChart())}),D(),a(216,"svg",14),y(217,"path",120),c(),T(),a(218,"span"),m(219,"Refresh"),c()(),a(220,"button",121),A("click",function(){M(e);let s=_();return k(s.forceCreateHealthPerformanceChart())}),D(),a(221,"svg",14),y(222,"path",122),c(),T(),a(223,"span"),m(224,"Debug"),c()()()(),I(225,Kg,16,3,"div",123),a(226,"div",112)(227,"div",39)(228,"h3",124),m(229,"Health & Performance Timeline (Last 12 Months)"),c()(),I(230,Jg,8,0,"div",125)(231,Zg,6,1,"div",126)(232,e1,2,0,"div",127)(233,t1,2,0,"div",128)(234,i1,11,6,"div",129),c()(),a(235,"div",67)(236,"div",130)(237,"div",7)(238,"div",131),D(),a(239,"svg",132),y(240,"path",133),c()(),T(),a(241,"h2",71),m(242,"Asset Depreciation"),c()(),a(243,"div",7)(244,"button",134),A("click",function(){M(e);let s=_();return k(s.refreshDepreciationChart())}),D(),a(245,"svg",14),y(246,"path",120),c(),T(),a(247,"span"),m(248,"Refresh"),c()(),a(249,"button",121),A("click",function(){M(e);let s=_();return k(s.forceCreateChart())}),D(),a(250,"svg",14),y(251,"path",122),c(),T(),a(252,"span"),m(253,"Debug"),c()()()(),a(254,"div",135)(255,"div",136)(256,"div",137),m(257,"Original Value"),c(),a(258,"div",138),m(259),c()(),a(260,"div",139)(261,"div",137),m(262,"Current Value"),c(),a(263,"div",140),m(264),c()()(),a(265,"div",112)(266,"div",39)(267,"h3",124),m(268,"Depreciation Timeline (straight-line method)"),c()(),I(269,n1,8,0,"div",125)(270,s1,6,1,"div",126)(271,r1,2,0,"div",127)(272,o1,2,0,"div",128),a(273,"div",141)(274,"div",142)(275,"div",143),m(276,"Annual Depreciation"),c(),a(277,"div",71),m(278),c()(),a(279,"div",142)(280,"div",143),m(281,"Depreciation Rate"),c(),a(282,"div",71),m(283),c()(),a(284,"div",142)(285,"div",143),m(286,"Years Remaining"),c(),a(287,"div",71),m(288),c()()()()()(),a(289,"div",75)(290,"div",67)(291,"div",68),D(),a(292,"svg",69),y(293,"path",92),c(),T(),a(294,"h2",71),m(295,"Recent Activity"),c()(),I(296,a1,8,0,"div",144)(297,l1,5,1,"div",145)(298,p1,3,2,"div",146),a(299,"div",147)(300,"button",148),A("click",function(){M(e);let s=_();return k(s.showFullActivityHistory())}),m(301," View Full Activity History "),c()()(),a(302,"div",67)(303,"div",130)(304,"div",7),D(),a(305,"svg",69),y(306,"path",149),c(),T(),a(307,"h2",71),m(308,"Related Assets"),c()(),a(309,"div",77)(310,"button",150),A("click",function(){M(e);let s=_();return k(s.showRelatedFilterDropdown=!s.showRelatedFilterDropdown)}),a(311,"span"),m(312),c(),D(),a(313,"svg",14),y(314,"path",151),c()(),I(315,f1,2,2,"div",22),c()(),I(316,g1,8,0,"div",144)(317,_1,5,1,"div",145)(318,C1,3,2,"div",152),c(),T(),a(319,"div",67)(320,"div",130)(321,"div",7),D(),a(322,"svg",69),y(323,"path",91),c(),T(),a(324,"h2",71),m(325,"Maintenance Schedule"),c()(),a(326,"button",121),A("click",function(){M(e);let s=_();return k(s.addMaintenanceSchedule())}),D(),a(327,"svg",14),y(328,"path",153),c(),T(),a(329,"span"),m(330,"Add"),c()()(),a(331,"div",154)(332,"div",155)(333,"div",7),D(),a(334,"svg",156),y(335,"path",122),c(),T(),a(336,"div")(337,"div",157),m(338,"Last Maintenance"),c(),a(339,"div",158),m(340),c()()()(),a(341,"div",139)(342,"div",7),D(),a(343,"svg",159),y(344,"path",92),c(),T(),a(345,"div")(346,"div",160),m(347,"Next Due"),c(),a(348,"div",161),m(349),c()()()(),a(350,"div",162)(351,"div",7),D(),a(352,"svg",163),y(353,"path",120),c(),T(),a(354,"div")(355,"div",164),m(356,"Frequency"),c(),a(357,"div",165),m(358),c()()()()(),I(359,S1,7,0,"div",166)(360,E1,2,1,"div",152)(361,A1,9,0,"div",166),c(),a(362,"div",67)(363,"div",68),D(),a(364,"svg",69),y(365,"path",167),c(),T(),a(366,"h2",71),m(367,"Financial Information"),c()(),a(368,"div",112)(369,"div",136)(370,"h4",168),m(371,"Purchase Details"),c(),a(372,"div",169)(373,"div")(374,"span",170),m(375,"Purchase Price"),c(),a(376,"div",71),m(377),Ge(378,"currency"),c()(),a(379,"div")(380,"span",170),m(381,"Purchase Date"),c(),a(382,"div",171),m(383),Ge(384,"date"),c()()()(),a(385,"div",139)(386,"h4",168),m(387,"Current Value"),c(),a(388,"div",169)(389,"div")(390,"span",170),m(391,"Book Value"),c(),a(392,"div",71),m(393),Ge(394,"currency"),c()(),a(395,"div")(396,"span",170),m(397,"Market Value"),c(),a(398,"div",171),m(399),Ge(400,"currency"),c()()()(),a(401,"div",172)(402,"h4",168),m(403,"Depreciation"),c(),a(404,"div",169)(405,"div")(406,"span",170),m(407,"Method"),c(),a(408,"div",171),m(409),c()(),a(410,"div")(411,"span",170),m(412,"Useful Life"),c(),a(413,"div",171),m(414),c()(),a(415,"div")(416,"span",170),m(417,"Annual Rate"),c(),a(418,"div",171),m(419),c()()()(),a(420,"div",155)(421,"h4",168),m(422,"Performance"),c(),a(423,"div",169)(424,"div")(425,"span",170),m(426,"Total Cost of Ownership"),c(),a(427,"div",71),m(428),Ge(429,"currency"),c()(),a(430,"div")(431,"span",170),m(432,"ROI"),c(),a(433,"div",171),m(434),c()()()(),a(435,"div",162)(436,"h4",168),m(437,"Warranty & Insurance"),c(),a(438,"div",169)(439,"div")(440,"span",170),m(441,"Warranty Status"),c(),a(442,"div",173)(443,"span"),m(444),c(),I(445,D1,3,4,"span",174),c()(),a(446,"div")(447,"span",170),m(448,"Insurance Value"),c(),a(449,"div",171),m(450),c()()()()()()()()()}if(i&2){let e=On(38),n=_();p(6),Ln("d",n.getAssetTypeIcon()),p(3),O(n.asset.name),p(2),v("ngIf",n.asset.asset_status),p(2),O(n.getAssetTypeName(n.asset.type)),p(4),O((n.asset.category==null?null:n.asset.category.name)||"General"),p(7),O(n.asset.asset_id||n.asset.id),p(3),v("ngIf",n.asset.serial_number),p(9),v("ngIf",n.asset.images&&n.asset.images.length>0)("ngIfElse",e),p(15),O((n.asset==null?null:n.asset.name)||"Unnamed Asset"),p(5),z("line-clamp-3",!n.descriptionExpanded),p(),W(" ",(n.asset==null?null:n.asset.description)||"No description available"," "),p(),v("ngIf",(n.asset==null?null:n.asset.description)&&n.asset.description.length>150),p(6),v("ngIf",(n.asset==null||n.asset.category==null?null:n.asset.category.icon)&&!n.asset.category.iconError),p(),v("ngIf",!(!(n.asset==null||n.asset.category==null)&&n.asset.category.icon)||n.asset.category.iconError),p(2),O((n.asset==null||n.asset.category==null?null:n.asset.category.name)||"Uncategorized"),p(4),v("ngIf",n.asset.asset_status),p(),v("ngIf",!n.asset.asset_status),p(7),O((n.asset==null?null:n.asset.asset_id)||"N/A"),p(11),v("ngIf",n.asset==null||n.asset.location==null?null:n.asset.location.id),p(),v("ngIf",!(!(n.asset==null||n.asset.location==null)&&n.asset.location.id)),p(5),O((n.asset==null||n.asset.department==null?null:n.asset.department.name)||"Not assigned"),p(8),O(Ct(105,100,n.asset==null?null:n.asset.created_at,"MMM d, y")),p(9),O(Ct(114,103,n.asset==null?null:n.asset.updated_at,"MMM d, y")),p(2),v("ngIf",n.asset==null?null:n.asset.parent),p(7),v("ngIf",n.qrCodeDataUrl),p(),v("ngIf",!n.qrCodeDataUrl&&(n.asset==null?null:n.asset.qr_code_url)),p(),v("ngIf",n.qrCodeLoading),p(),v("ngIf",!n.qrCodeDataUrl&&!(n.asset!=null&&n.asset.qr_code_url)&&!n.qrCodeLoading&&(n.asset==null?null:n.asset.id)),p(),v("ngIf",!n.qrCodeDataUrl&&!(n.asset!=null&&n.asset.qr_code_url)&&!n.qrCodeLoading&&!(n.asset!=null&&n.asset.id)),p(2),v("ngIf",n.asset==null?null:n.asset.id),p(),v("ngIf",n.asset==null?null:n.asset.id),p(9),v("ngIf",n.asset==null?null:n.asset.barcode_url),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&n.barcodeDataUrl),p(),v("ngIf",n.barcodeLoading),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&!n.barcodeDataUrl&&!n.barcodeLoading&&(n.asset==null?null:n.asset.asset_id)),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&!n.barcodeDataUrl&&!n.barcodeLoading&&!(n.asset!=null&&n.asset.asset_id)),p(2),v("ngIf",n.asset==null?null:n.asset.asset_id),p(),v("ngIf",n.asset==null?null:n.asset.asset_id),p(4),v("ngIf",n.asset==null?null:n.asset.asset_id),p(12),v("ngIf",n.asset.asset_status),p(),v("ngIf",!n.asset.asset_status),p(5),O(n.asset.manufacturer||"Not specified"),p(5),O(n.asset.model||"Not specified"),p(),v("ngIf",n.asset.serial_number),p(5),O(n.asset.brand||"Not specified"),p(5),O(n.asset.capacity||"Not specified"),p(6),O(n.asset.dimensions||"Not specified"),p(5),O(n.asset.weight||"Not specified"),p(5),O(n.asset.power_requirements||"Not specified"),p(5),O(n.asset.operating_conditions||"Standard conditions"),p(),v("ngIf",n.asset.specifications),p(20),v("ngIf",n.healthPerformanceChartData==null||n.healthPerformanceChartData.chart_data==null?null:n.healthPerformanceChartData.chart_data.metrics),p(5),v("ngIf",n.healthPerformanceChartLoading),p(),v("ngIf",n.healthPerformanceChartError&&!n.healthPerformanceChartLoading),p(),v("ngIf",!n.healthPerformanceChartLoading&&!n.healthPerformanceChartError),p(),v("ngIf",!n.healthPerformanceChartLoading&&!n.healthPerformanceChartError),p(),v("ngIf",n.healthPerformanceChartData==null||n.healthPerformanceChartData.chart_data==null?null:n.healthPerformanceChartData.chart_data.metrics),p(25),W("$",n.formatCurrency((n.asset==null?null:n.asset.purchase_price)||0),""),p(5),W("$",n.formatCurrency(n.calculateCurrentValue()),""),p(5),v("ngIf",n.depreciationChartLoading),p(),v("ngIf",n.depreciationChartError&&!n.depreciationChartLoading),p(),v("ngIf",!n.depreciationChartLoading&&!n.depreciationChartError),p(),v("ngIf",!n.depreciationChartLoading&&!n.depreciationChartError),p(6),W("$",n.formatCurrency(n.calculateAnnualDepreciation()),""),p(5),W("",n.calculateDepreciationRate(),"%"),p(5),O(n.calculateRemainingYears()),p(8),v("ngIf",n.activityLoading),p(),v("ngIf",n.activityError&&!n.activityLoading),p(),v("ngIf",!n.activityLoading&&!n.activityError),p(14),O(n.getRelatedFilterDisplayName(n.selectedRelatedFilter)),p(3),v("ngIf",n.showRelatedFilterDropdown),p(),v("ngIf",n.relatedAssetsLoading),p(),v("ngIf",n.relatedAssetsError&&!n.relatedAssetsLoading),p(),v("ngIf",!n.relatedAssetsLoading&&!n.relatedAssetsError),p(22),O(n.mockMaintenanceData.lastMaintenance||"Not recorded"),p(9),O(n.mockMaintenanceData.nextMaintenance||"Not scheduled"),p(9),O(n.mockMaintenanceData.interval),p(),v("ngIf",n.maintenanceLoading),p(),v("ngIf",!n.maintenanceLoading&&n.maintenanceSchedules.length>0),p(),v("ngIf",!n.maintenanceLoading&&n.maintenanceSchedules.length===0),p(16),W(" ",qt(378,106,n.mockFinancialData.purchaseCost,"USD","symbol","1.2-2")," "),p(6),O(Ct(384,111,n.asset.purchase_date,"MMM d, y")),p(10),W(" ",qt(394,114,n.mockFinancialData.currentValue,"USD","symbol","1.2-2")," "),p(6),O(qt(400,119,n.mockFinancialData.currentValue*.95,"USD","symbol","1.2-2")),p(10),O(n.mockFinancialData.depreciationMethod),p(5),W("",n.mockFinancialData.usefulLife," years"),p(5),W("",n.calculateDepreciationRate(),"%"),p(9),W(" ",qt(429,124,n.calculateTotalCostOfOwnership(),"USD","symbol","1.2-2")," "),p(5),z("text-green-600",n.calculateROI()>0)("text-red-600",n.calculateROI()<0),p(),W(" ",n.calculateROI(),"% "),p(9),He(n.getWarrantyStatusClass(n.asset.warranty)),p(),W(" ",n.getWarrantyStatus(n.asset.warranty)," "),p(),v("ngIf",n.asset.warranty),p(5),O(n.asset.insurance_value||"Not specified")}}function I1(i,t){if(i&1){let e=R();a(0,"div",289)(1,"div",290)(2,"div",130)(3,"h3",71),m(4,"Add Maintenance Schedule"),c(),a(5,"button",291),A("click",function(){M(e);let s=_();return k(s.closeMaintenanceModals())}),D(),a(6,"svg",292),y(7,"path",293),c()()(),T(),a(8,"form",294),A("ngSubmit",function(){M(e);let s=_();return k(s.saveMaintenanceSchedule())}),a(9,"div",112)(10,"div")(11,"label",295),m(12,"Schedule Type"),c(),a(13,"select",296)(14,"option",297),m(15,"Select type"),c(),a(16,"option",298),m(17,"Preventive Maintenance"),c(),a(18,"option",299),m(19,"Inspection"),c(),a(20,"option",300),m(21,"Calibration"),c(),a(22,"option",301),m(23,"Cleaning"),c()()(),a(24,"div")(25,"label",295),m(26,"Next Due Date"),c(),y(27,"input",302,1),c(),a(29,"div")(30,"label",295),m(31,"Last Done Date"),c(),y(32,"input",303,1),c(),a(34,"div")(35,"label",295),m(36,"Frequency"),c(),a(37,"select",304)(38,"option",297),m(39,"Select frequency"),c(),a(40,"option",305),m(41,"Weekly"),c(),a(42,"option",306),m(43,"Monthly"),c(),a(44,"option",307),m(45,"Quarterly"),c(),a(46,"option",308),m(47,"Semi-Annual"),c(),a(48,"option",309),m(49,"Annual"),c()()(),a(50,"div")(51,"label",295),m(52,"Notes"),c(),y(53,"textarea",310),c()(),a(54,"div",311)(55,"button",312),A("click",function(){M(e);let s=_();return k(s.closeMaintenanceModals())}),m(56," Cancel "),c(),a(57,"button",313),m(58," Save Schedule "),c()()()()()}if(i&2){let e=_();p(8),v("formGroup",e.maintenanceForm),p(49),v("disabled",e.maintenanceForm.invalid)}}function P1(i,t){if(i&1){let e=R();a(0,"div",289)(1,"div",290)(2,"div",130)(3,"h3",71),m(4,"Edit Maintenance Schedule"),c(),a(5,"button",291),A("click",function(){M(e);let s=_();return k(s.closeMaintenanceModals())}),D(),a(6,"svg",292),y(7,"path",293),c()()(),T(),a(8,"form",294),A("ngSubmit",function(){M(e);let s=_();return k(s.saveMaintenanceSchedule())}),a(9,"div",112)(10,"div")(11,"label",295),m(12,"Schedule Type"),c(),a(13,"select",296)(14,"option",297),m(15,"Select type"),c(),a(16,"option",298),m(17,"Preventive Maintenance"),c(),a(18,"option",299),m(19,"Inspection"),c(),a(20,"option",300),m(21,"Calibration"),c(),a(22,"option",301),m(23,"Cleaning"),c()()(),a(24,"div")(25,"label",295),m(26,"Next Due Date"),c(),y(27,"input",302,1),c(),a(29,"div")(30,"label",295),m(31,"Last Done Date"),c(),y(32,"input",303,1),c(),a(34,"div")(35,"label",295),m(36,"Frequency"),c(),a(37,"select",304)(38,"option",297),m(39,"Select frequency"),c(),a(40,"option",305),m(41,"Weekly"),c(),a(42,"option",306),m(43,"Monthly"),c(),a(44,"option",307),m(45,"Quarterly"),c(),a(46,"option",308),m(47,"Semi-Annual"),c(),a(48,"option",309),m(49,"Annual"),c()()(),a(50,"div")(51,"label",295),m(52,"Status"),c(),a(53,"select",314)(54,"option",315),m(55,"Scheduled"),c(),a(56,"option",316),m(57,"In Progress"),c(),a(58,"option",317),m(59,"Completed"),c(),a(60,"option",318),m(61,"Overdue"),c()()(),a(62,"div")(63,"label",295),m(64,"Notes"),c(),y(65,"textarea",310),c()(),a(66,"div",311)(67,"button",312),A("click",function(){M(e);let s=_();return k(s.closeMaintenanceModals())}),m(68," Cancel "),c(),a(69,"button",313),m(70," Update Schedule "),c()()()()()}if(i&2){let e=_();p(8),v("formGroup",e.maintenanceForm),p(61),v("disabled",e.maintenanceForm.invalid)}}function V1(i,t){i&1&&(a(0,"div",347)(1,"div",39)(2,"div",348),D(),a(3,"svg",349),y(4,"circle",42)(5,"path",43),c()(),T(),a(6,"p",59),m(7,"Loading activity history..."),c()()())}function L1(i,t){if(i&1){let e=R();a(0,"div",350)(1,"div",351),m(2),c(),a(3,"button",50),A("click",function(){M(e);let s=_(2);return k(s.loadFullActivityHistory())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),O(e.activityHistoryError)}}function O1(i,t){if(i&1&&(a(0,"div",361)(1,"div",362),m(2,"Changes:"),c(),a(3,"div",192),m(4),c()()),i&2){let e=_().$implicit,n=_(3);p(4),W(" ",n.formatActivityBeforeAfter(e.before,e.after)," ")}}function F1(i,t){if(i&1&&(a(0,"div",363)(1,"strong"),m(2,"By:"),c(),m(3),c()),i&2){let e=_().$implicit,n=_(3);p(3),W(" ",n.getUserDisplayName(e.user)," ")}}function R1(i,t){if(i&1&&(a(0,"div",354)(1,"div",355),D(),a(2,"svg",18),y(3,"path",56),c()(),T(),a(4,"div",244)(5,"div",275)(6,"h4",356),m(7),c(),a(8,"span",357),m(9),c()(),a(10,"p",358),m(11),c(),I(12,O1,5,1,"div",359)(13,F1,4,1,"div",360),c()()),i&2){let e=t.$implicit,n=_(3);p(),v("ngClass",n.getActivityColor(e.action)),p(2),Ln("d",n.getActivityIcon(e.action)),p(4),O(e.action),p(2),O(e.time_ago),p(2),O(e.comment||"No comment"),p(),v("ngIf",n.formatActivityBeforeAfter(e.before,e.after)),p(),v("ngIf",e.user)}}function H1(i,t){i&1&&(a(0,"div",350),D(),a(1,"svg",191),y(2,"path",92),c(),T(),a(3,"h3",44),m(4,"No Activity Found"),c(),a(5,"p",192),m(6,"No activity matches your current filters."),c()())}function j1(i,t){if(i&1&&(a(0,"div",352),I(1,R1,14,7,"div",353)(2,H1,7,0,"div",342),c()),i&2){let e=_(2);p(),v("ngForOf",e.fullActivityHistory),p(),v("ngIf",e.fullActivityHistory.length===0)}}function N1(i,t){if(i&1){let e=R();a(0,"button",367),A("click",function(){M(e);let s=_(3);return k(s.onActivityHistoryPageChange(s.activityHistoryPagination.current_page-1))}),m(1," Previous "),c()}}function B1(i,t){if(i&1){let e=R();a(0,"button",367),A("click",function(){M(e);let s=_(3);return k(s.onActivityHistoryPageChange(s.activityHistoryPagination.current_page+1))}),m(1," Next "),c()}}function z1(i,t){if(i&1&&(a(0,"div",364)(1,"div",143),m(2),c(),a(3,"div",365),I(4,N1,2,0,"button",366)(5,B1,2,0,"button",366),c()()),i&2){let e=_(2);p(2),Fn(" Showing ",e.activityHistoryPagination.from||0," to ",e.activityHistoryPagination.to||0," of ",e.activityHistoryPagination.total||0," activities "),p(2),v("ngIf",e.activityHistoryPagination.prev_page_url),p(),v("ngIf",e.activityHistoryPagination.next_page_url)}}function W1(i,t){if(i&1){let e=R();a(0,"div",319)(1,"div",320)(2,"div",321)(3,"div",12),D(),a(4,"svg",322),y(5,"path",92),c(),T(),a(6,"h3",323),m(7,"Full Activity History"),c()(),a(8,"button",291),A("click",function(){M(e);let s=_();return k(s.closeActivityHistoryModal())}),D(),a(9,"svg",292),y(10,"path",293),c()()(),T(),a(11,"div",324)(12,"div",325)(13,"div",326)(14,"div",244)(15,"input",327),A("input",function(s){M(e);let r=_();return k(r.onActivityHistorySearch(s.target.value))}),c()(),a(16,"button",328),A("click",function(){M(e);let s=_();return k(s.clearActivityHistoryFilters())}),m(17," Clear Filters "),c()(),a(18,"div",329)(19,"div")(20,"label",330),m(21,"Action Type"),c(),a(22,"select",331),A("change",function(s){M(e);let r=_();return k(r.onActivityHistoryFilter("action",s.target.value))}),a(23,"option",297),m(24,"All Actions"),c(),a(25,"option",332),m(26,"Created"),c(),a(27,"option",333),m(28,"Updated"),c(),a(29,"option",334),m(30,"Deleted"),c(),a(31,"option",335),m(32,"Transferred"),c(),a(33,"option",336),m(34,"Maintenance"),c(),a(35,"option",337),m(36,"Imported"),c()()(),a(37,"div")(38,"label",330),m(39,"Date From"),c(),a(40,"input",338),A("change",function(s){M(e);let r=_();return k(r.onActivityHistoryFilter("date_from",s.target.value))}),c()(),a(41,"div")(42,"label",330),m(43,"Date To"),c(),a(44,"input",338),A("change",function(s){M(e);let r=_();return k(r.onActivityHistoryFilter("date_to",s.target.value))}),c()(),a(45,"div")(46,"label",330),m(47,"Sort By"),c(),a(48,"select",331),A("change",function(s){M(e);let r=_();return k(r.onActivityHistorySort("created_at",s.target.value))}),a(49,"option",339),m(50,"Newest First"),c(),a(51,"option",340),m(52,"Oldest First"),c()()()()(),I(53,V1,8,0,"div",341)(54,L1,5,1,"div",342)(55,j1,3,2,"div",343)(56,z1,6,5,"div",344),c(),a(57,"div",345)(58,"div",143),m(59),c(),a(60,"button",346),A("click",function(){M(e);let s=_();return k(s.closeActivityHistoryModal())}),m(61," Close "),c()()()()}if(i&2){let e=_();p(53),v("ngIf",e.activityHistoryLoading),p(),v("ngIf",e.activityHistoryError&&!e.activityHistoryLoading),p(),v("ngIf",!e.activityHistoryLoading&&!e.activityHistoryError),p(),v("ngIf",e.activityHistoryPagination&&e.fullActivityHistory.length>0),p(3),W(" Total Activities: ",(e.activityHistoryPagination==null?null:e.activityHistoryPagination.total)||e.fullActivityHistory.length," ")}}Sn.register(...uc);var Xi=class i{constructor(t,e,n,s,r,o,l){this.route=t;this.router=e;this.assetService=n;this.angularLocation=s;this.pdfExportService=r;this.fb=o;this.cdr=l;this.maintenanceForm=this.fb.group({schedule_type:["",ft.required],next_due:[""],last_done:[""],frequency:[""],notes:[""],status:["Scheduled"]}),this.activities=[],this.fullActivityHistory=[]}destroy$=new Ut;dateInputs;asset=null;loading=!0;error="";currentImageIndex=0;selectedImageUrl=null;descriptionExpanded=!1;showActionsDropdown=!1;showTransferModal=!1;showActivityHistoryModal=!1;maintenanceSchedules=[];maintenanceLoading=!1;showAddMaintenanceModal=!1;showEditMaintenanceModal=!1;selectedSchedule=null;maintenanceForm;flatpickrInstances=[];healthMetrics={lastUpdated:new Date,performanceTrend:[{month:"Jan",value:82},{month:"Feb",value:84},{month:"Mar",value:88},{month:"Apr",value:85}]};mockFinancialData={purchaseCost:0,currentValue:0,depreciationMethod:"Straight Line",usefulLife:10,originalValue:0};mockMaintenanceData={status:"Current",lastMaintenance:null,nextMaintenance:null,interval:"Every 6 months"};activities=[];fullActivityHistory=[];activityLoading=!1;activityHistoryLoading=!1;activityError="";activityHistoryError="";activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""};activityHistoryPagination=null;qrCodeDataUrl=null;qrCodeLoading=!1;barcodeDataUrl=null;barcodeLoading=!1;relatedAssets=[];relatedAssetsLoading=!1;relatedAssetsError="";selectedRelatedFilter="all";showRelatedFilterDropdown=!1;relatedAssetsParams={type:"all",limit:10};depreciationChart=null;depreciationChartLoading=!1;depreciationChartError="";depreciationChartData=null;healthPerformanceChart=null;healthPerformanceChartLoading=!1;healthPerformanceChartError="";healthPerformanceChartData=null;ngOnInit(){this.route.params.pipe(me(this.destroy$)).subscribe(t=>{let e=t.id;e&&this.loadAsset(e)})}ngAfterViewInit(){this.initializeDatePickers(),setTimeout(()=>{this.asset&&!this.depreciationChart&&this.createDepreciationChart()},500)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.depreciationChart&&this.depreciationChart.destroy(),this.healthPerformanceChart&&this.healthPerformanceChart.destroy()}loadAsset(t){this.loading=!0,this.error="",this.assetService.getAsset(t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success?(this.asset=e.data.asset||e.data,this.updateMockData(),this.loadMaintenanceSchedules(),this.loadActivityHistory(),this.generateQRCode(),!this.asset.barcode_url&&this.asset.asset_id&&this.generateBarcode(),this.loadRelatedAssets(),this.loadDepreciationChart(),this.loadHealthPerformanceChart()):this.error=e.message||"Failed to load asset",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading the asset",this.loading=!1}})}loadMaintenanceSchedules(){this.asset&&(this.maintenanceLoading=!0,this.assetService.listMaintenanceSchedules(this.asset.id).pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&(this.maintenanceSchedules=t.data||[]),this.maintenanceLoading=!1},error:t=>{console.error("Error loading maintenance schedules:",t),this.maintenanceLoading=!1}}))}updateMockData(){this.asset&&(this.mockFinancialData={purchaseCost:this.asset.purchase_price||0,currentValue:this.asset.current_value||this.asset.purchase_price||0,depreciationMethod:"Straight Line",usefulLife:this.asset.depreciation||10,originalValue:this.asset.purchase_price||0},this.healthMetrics.lastUpdated=new Date,this.mockMaintenanceData={status:this.asset.status||"Active",lastMaintenance:this.asset.last_maintenance_date||null,nextMaintenance:this.asset.next_maintenance_date||null,interval:this.asset.maintenance_interval||"Every 6 months"},this.asset.images&&this.asset.images.length>0&&(this.selectedImageUrl=this.asset.images[0].image_url,this.currentImageIndex=0))}goBack(){this.angularLocation.back()}editAsset(){this.asset&&this.router.navigate(["/assets",this.asset.id,"edit"])}exportAsset(){this.asset&&this.pdfExportService.exportSingleAssetToPdf(this.asset)}printAsset(){let t=window.open("","_blank");if(!t){alert("Please allow popups to print this asset");return}let e=this.generatePrintContent();t.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Asset Details - ${this.asset?.name||"Asset"}</title>
          <style>
            @media print {
              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
              .no-print { display: none !important; }
              .print-only { display: block !important; }
              .page-break { page-break-before: always; }
              .avoid-break { page-break-inside: avoid; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
              @page { margin: 1in; }
            }
            @media screen {
              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
              .no-print { display: none; }
              .print-only { display: block; }
              .page-break { border-top: 2px solid #333; margin-top: 30px; padding-top: 30px; }
              .avoid-break { }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
            }
          </style>
        </head>
        <body>
          ${e}
        </body>
      </html>
    `),t.document.close(),t.onload=()=>{t.print(),t.close()}}generatePrintContent(){if(!this.asset)return"<p>Asset not found</p>";let t=this.asset,e=new Date().toLocaleDateString();return`
      <div class="header">
        <h1>Asset Details Report</h1>
        <p>Generated on: ${e}</p>
      </div>

      <div class="section">
        <div class="section-title">Asset Overview</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Asset Name</div>
            <div class="info-value">${t.name||"N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset ID</div>
            <div class="info-value">${t.asset_id||t.id||"N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Category</div>
            <div class="info-value">${t.category?.name||"General"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value">
              <span class="status-badge" style="background-color: ${t.asset_status?.color||"#6B7280"}20; color: ${t.asset_status?.color||"#6B7280"}">
                ${t.asset_status?.name||"Not specified"}
              </span>
            </div>
          </div>
          <div class="info-item">
            <div class="info-label">Type</div>
            <div class="info-value">${this.getAssetTypeName(t.type)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Location</div>
            <div class="info-value">${t.location?.name||"No location assigned"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Description</div>
        <p>${t.description||"No description available"}</p>
      </div>

      <div class="section">
        <div class="section-title">Technical Specifications</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Manufacturer</div>
            <div class="info-value">${t.manufacturer||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Model</div>
            <div class="info-value">${t.model||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Serial Number</div>
            <div class="info-value">${t.serial_number||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Brand</div>
            <div class="info-value">${t.brand||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Dimensions</div>
            <div class="info-value">${t.dimensions||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Weight</div>
            <div class="info-value">${t.weight||"Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Financial Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Purchase Price</div>
            <div class="info-value">$${this.formatCurrency(t.purchase_price||0)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Current Value</div>
            <div class="info-value">$${this.formatCurrency(this.calculateCurrentValue())}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Purchase Date</div>
            <div class="info-value">${t.purchase_date?new Date(t.purchase_date).toLocaleDateString():"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Warranty Status</div>
            <div class="info-value">${this.getWarrantyStatus(t.warranty)}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Performance Metrics</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Health Score</div>
            <div class="info-value">${t.health_score||0}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Utilization Rate</div>
            <div class="info-value">${this.getUtilizationRate()}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset Age</div>
            <div class="info-value">${this.getAssetAge()}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Total Cost of Ownership</div>
            <div class="info-value">$${this.formatCurrency(this.calculateTotalCostOfOwnership())}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Timeline Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Created Date</div>
            <div class="info-value">${t.created_at?new Date(t.created_at).toLocaleDateString():"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Last Modified</div>
            <div class="info-value">${t.updated_at?new Date(t.updated_at).toLocaleDateString():"Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="qr-section">
        <div class="section-title">Asset Identification</div>
        <div class="qr-code">
          ${this.qrCodeDataUrl?`<img src="${this.qrCodeDataUrl}" alt="QR Code" style="max-width: 100%; height: auto;">`:"<p>QR Code not available</p>"}
        </div>
        <p><strong>Asset ID:</strong> ${t.asset_id||t.id||"N/A"}</p>
      </div>

      <div class="footer">
        <p>AssetGo - Asset Management System</p>
        <p>This report was generated automatically on ${e}</p>
      </div>
    `}getStatusColor(t){return{Active:"green",Maintenance:"orange",Inactive:"gray",Retired:"red"}[t]||"gray"}getAssetStatusColor(t){return!t||!t.color?"#6B7280":t.color}getAssetStatusBackgroundColor(t){return!t||!t.color?"#F3F4F6":t.color+"20"}getAssetTypeIcon(){if(!this.asset?.type)return"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4";let t={fixed:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4","semi-fixed":"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4a2 2 0 001-1.73z",mobile:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",fleet:"M3 13l2-5a2 2 0 012-2h10a2 2 0 012 2l2 5M5 13v6a2 2 0 002 2h10a2 2 0 002-2v-6M5 13h14"};return t[this.asset.type]||t.fixed}generateSmartDescription(){console.log("Generate smart description")}analyzeAssetImage(){console.log("Analyze asset image")}addMaintenanceSchedule(){this.showAddMaintenanceModal=!0,this.maintenanceForm.reset({schedule_type:"",next_due:"",last_done:"",frequency:"",notes:"",status:"Scheduled"}),setTimeout(()=>{this.initializeDatePickers()},100)}editMaintenanceSchedule(t){this.selectedSchedule=t,this.showEditMaintenanceModal=!0,this.maintenanceForm.patchValue({schedule_type:t.schedule_type,next_due:t.next_due,last_done:t.last_done,frequency:t.frequency,notes:t.notes,status:t.status}),setTimeout(()=>{this.initializeDatePickers()},100)}deleteMaintenanceSchedule(t){confirm("Are you sure you want to delete this maintenance schedule?")&&this.assetService.deleteMaintenanceSchedule(this.asset.id,t.id).pipe(me(this.destroy$)).subscribe({next:e=>{e.success&&this.loadMaintenanceSchedules()},error:e=>{console.error("Error deleting maintenance schedule:",e)}})}saveMaintenanceSchedule(){if(this.maintenanceForm.valid&&this.asset){let t=this.maintenanceForm.value;this.selectedSchedule?this.assetService.updateMaintenanceSchedule(this.asset.id,this.selectedSchedule.id,t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success&&(this.loadMaintenanceSchedules(),this.closeMaintenanceModals())},error:e=>{console.error("Error updating maintenance schedule:",e)}}):this.assetService.addMaintenanceSchedule(this.asset.id,t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success&&(this.loadMaintenanceSchedules(),this.closeMaintenanceModals())},error:e=>{console.error("Error adding maintenance schedule:",e)}})}}closeMaintenanceModals(){this.showAddMaintenanceModal=!1,this.showEditMaintenanceModal=!1,this.selectedSchedule=null,this.maintenanceForm.reset(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[]}initializeDatePickers(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs&&this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=Zt(t.nativeElement,{dateFormat:"Y-m-d",allowInput:!0,clickOpens:!0,onChange:(s,r)=>{let o=t.nativeElement.getAttribute("formControlName");o&&this.maintenanceForm.get(o)&&this.maintenanceForm.get(o).setValue(r)}});this.flatpickrInstances.push(n)}})},50)}getScheduleStatusColor(t){return{Scheduled:"blue",Overdue:"red",Completed:"green","In Progress":"yellow"}[t]||"gray"}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set"}getAssetTypeName(t){return t?{1:"Fixed Asset",2:"Semi-Fixed Asset",3:"Mobile Asset",4:"Fleet Asset",5:"IT Equipment"}[t.toString()]||`Type ${t}`:"Standard Asset"}navigateToPrevious(){console.log("Navigate to previous asset")}navigateToNext(){console.log("Navigate to next asset")}loadRelatedAssets(){this.asset?.id&&(this.relatedAssetsLoading=!0,this.relatedAssetsError="",this.assetService.getRelatedAssets(this.asset.id,this.relatedAssetsParams).pipe(me(this.destroy$)).subscribe({next:t=>{t.success?this.relatedAssets=t.data.related_assets||[]:this.relatedAssetsError=t.message||"Failed to load related assets",this.relatedAssetsLoading=!1},error:t=>{this.relatedAssetsError=t.error?.message||"An error occurred while loading related assets",this.relatedAssetsLoading=!1}}))}loadDepreciationChart(){this.asset?.id&&(this.depreciationChartLoading=!0,this.depreciationChartError="",console.log("Loading depreciation chart for asset:",this.asset.id),this.assetService.getAssetDepreciationChart(this.asset.id).pipe(me(this.destroy$)).subscribe({next:t=>{console.log("Chart API Response:",t),t.success?(this.depreciationChartData=t.data,console.log("Chart data set:",this.depreciationChartData),this.createDepreciationChart()):(this.depreciationChartError=t.message||"Failed to load depreciation chart data",console.log("API returned error, using mock data"),this.createDepreciationChartWithMockData()),this.depreciationChartLoading=!1},error:t=>{console.error("Chart API Error:",t),this.depreciationChartError=t.error?.message||"An error occurred while loading depreciation chart data",this.depreciationChartLoading=!1,this.createDepreciationChartWithMockData()}}))}createDepreciationChart(){console.log("Creating depreciation chart..."),this.depreciationChart&&(console.log("Destroying existing chart"),this.depreciationChart.destroy()),setTimeout(()=>{let t=document.getElementById("depreciationChart");if(console.log("Canvas element:",t),!t){console.error("Depreciation chart canvas not found");return}let e=this.processChartData(this.depreciationChartData)||this.generateMockDepreciationData();console.log("Chart data to use:",e);try{this.depreciationChart=new Sn(t,{type:"line",data:{labels:e.labels,datasets:[{label:"Asset Value",data:e.values,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Accumulated Depreciation",data:e.depreciation,borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!1,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Asset Depreciation Over Time",font:{size:16,weight:"bold"}},legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:n=>{let s=n.dataset.label||"",r=n.parsed.y;return`${s}: $${r.toLocaleString()}`}}}},scales:{x:{title:{display:!0,text:"Month"}},y:{title:{display:!0,text:"Value ($)"},beginAtZero:!0,ticks:{callback:n=>`$${Number(n).toLocaleString()}`}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}),console.log("Chart created successfully"),this.cdr.detectChanges()}catch(n){console.error("Error creating chart:",n)}},100)}processChartData(t){if(!t||!t.chart_data||!t.chart_data.has_data)return null;let e=t.chart_data,n=e.depreciation_months.map(l=>`Month ${l}`),s=e.depreciation_values.map(l=>parseFloat(l)),r=parseFloat(t.asset.purchase_price),o=s.map(l=>r-l);return{labels:n,values:s,depreciation:o}}createDepreciationChartWithMockData(){let t=this.generateMockDepreciationData();this.depreciationChartData=t,this.createDepreciationChart()}generateMockDepreciationData(){let t=parseFloat(this.asset?.purchase_price)||1e4,e=parseFloat(this.asset?.depreciation)||10,n=this.asset?.depreciation_life||10,s=[],r=[],o=[],l=n||e;for(let d=1;d<=l;d++){s.push(`Month ${d}`);let h=t/l*(d-1),f=Math.max(0,t-h);r.push(f),o.push(h)}return{labels:s,values:r,depreciation:o}}onRelatedFilterChange(t){this.selectedRelatedFilter=t,this.relatedAssetsParams.type=t,this.loadRelatedAssets()}getRelatedFilterDisplayName(t){return{all:"All Related",category:"Same Category",location:"Same Location",department:"Same Department",manufacturer:"Same Manufacturer",parent:"Same Parent",children:"Child Assets",siblings:"Sibling Assets",similar:"Similar Assets"}[t]||t}getRelatedAssetStatusColor(t){if(t?.color)return`bg-${this.getColorFromHex(t.color)}-100 text-${this.getColorFromHex(t.color)}-700`;let e=t?.name||t;return{Active:"bg-green-100 text-green-700",Inactive:"bg-gray-100 text-gray-700",Maintenance:"bg-orange-100 text-orange-700",Retired:"bg-red-100 text-red-700"}[e]||"bg-gray-100 text-gray-700"}getColorFromHex(t){return{"#10B981":"green","#EF4444":"red","#F59E0B":"yellow","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange","#6B7280":"gray"}[t]||"gray"}navigateToRelatedAsset(t){this.router.navigate(["/assets",t])}loadActivityHistory(){if(!this.asset?.id)return;this.activityLoading=!0,this.activityError="";let t={page:1,per_page:5,sort_by:"created_at",sort_dir:"desc"};this.assetService.getActivityHistory(this.asset.id,t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success?this.activities=e.data.data||[]:this.activityError=e.message||"Failed to load activity history",this.activityLoading=!1},error:e=>{this.activityError=e.error?.message||"An error occurred while loading activity history",this.activityLoading=!1}})}loadPerformanceMetrics(){console.log("Load performance metrics")}refreshHealthMetrics(){this.loadPerformanceMetrics(),console.log("Refreshing health metrics")}refreshDepreciationChart(){console.log("Refreshing depreciation chart..."),this.loadDepreciationChart()}forceCreateChart(){console.log("Force creating chart..."),this.createDepreciationChart()}loadHealthPerformanceChart(){if(!this.asset?.id){console.log("No asset ID available for health performance chart");return}this.healthPerformanceChartLoading=!0,this.healthPerformanceChartError="",console.log("Loading health performance chart for asset:",this.asset.id),this.assetService.getAssetHealthPerformanceChart(this.asset.id,{months:12}).pipe(me(this.destroy$)).subscribe({next:t=>{console.log("Health performance chart API response:",t),this.healthPerformanceChartLoading=!1,t.success&&t.data?(this.healthPerformanceChartData=t.data,setTimeout(()=>{this.createHealthPerformanceChart()},100)):(this.healthPerformanceChartError="Failed to load health performance data",console.error("Health performance chart API error:",t))},error:t=>{console.error("Health performance chart API error:",t),this.healthPerformanceChartLoading=!1,this.healthPerformanceChartError="Failed to load health performance data"}})}createHealthPerformanceChart(){console.log("Creating health performance chart..."),console.log("Health performance chart data:",this.healthPerformanceChartData),this.healthPerformanceChart&&(this.healthPerformanceChart.destroy(),this.healthPerformanceChart=null);let t=document.getElementById("healthPerformanceChart");if(console.log("Canvas element:",t),!t){console.error("Health performance chart canvas not found");return}setTimeout(()=>{try{console.log("Processing health performance data...");let e=this.processHealthPerformanceData(this.healthPerformanceChartData);console.log("Processed chart data:",e);let n={type:"line",data:{labels:e.labels,datasets:[{label:"Health Score",data:e.healthScores,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"Performance Score",data:e.performanceScores,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#3B82F6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"Maintenance Count",data:e.maintenanceCounts,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(s){let r=s.dataset.label||"",o=s.parsed.y;return r==="Maintenance Count"?`${r}: ${o} activities`:`${r}: ${o}%`}}}},scales:{x:{display:!0,title:{display:!0,text:"Month",font:{size:12,weight:"bold"}},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Score (%)",font:{size:12,weight:"bold"}},min:0,max:100,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Maintenance Count",font:{size:12,weight:"bold"}},min:0,grid:{drawOnChartArea:!1,color:"rgba(0, 0, 0, 0.1)"}}}}};this.healthPerformanceChart=new Sn(t,n),console.log("Health performance chart created successfully"),this.cdr.detectChanges()}catch(e){console.error("Error creating health performance chart:",e),setTimeout(()=>{console.log("Retrying health performance chart creation..."),this.createHealthPerformanceChart()},500)}},100)}processHealthPerformanceData(t){if(!t?.chart_data)return console.log("No chart data available, using mock data"),this.generateMockHealthPerformanceData();let e=t.chart_data;return console.log("Processing health performance data:",e),{labels:(e.dates||[]).map(s=>{if(s&&s.includes("-")){let[r,o]=s.split("-");return new Date(parseInt(r),parseInt(o)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})}return s}),healthScores:e.health_scores||[],performanceScores:e.performance_scores||[],maintenanceCounts:e.maintenance_counts||[],metrics:e.metrics||{}}}generateMockHealthPerformanceData(){let e=[],n=[],s=[],r=[];for(let o=0;o<12;o++){let l=new Date;l.setMonth(l.getMonth()-(11-o)),e.push(l.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));let d=85,u=o*2+Math.random()*5;n.push(Math.max(60,Math.round(d-u)));let h=90,f=(Math.random()-.5)*10;s.push(Math.max(75,Math.round(h+f))),r.push(Math.floor(Math.random()*5)+1)}return{labels:e,healthScores:n,performanceScores:s,maintenanceCounts:r,metrics:{average_health_score:Math.round(n.reduce((o,l)=>o+l,0)/n.length),average_performance_score:Math.round(s.reduce((o,l)=>o+l,0)/s.length),total_maintenance_count:r.reduce((o,l)=>o+l,0),health_trend:n[n.length-1]-n[0],performance_trend:s[s.length-1]-s[0]}}}refreshHealthPerformanceChart(){this.loadHealthPerformanceChart()}forceCreateHealthPerformanceChart(){if(console.log("Force creating health performance chart..."),console.log("Current health performance chart data:",this.healthPerformanceChartData),!this.healthPerformanceChartData){console.log("No data available, loading health performance chart..."),this.loadHealthPerformanceChart();return}this.createHealthPerformanceChart()}getHealthScoreColor(t){return t?t>=80?"text-green-600":t>=60?"text-yellow-600":t>=40?"text-orange-600":"text-red-600":"text-gray-400"}getHealthStatusColor(t){return t?t>=80?"text-green-600":t>=60?"text-yellow-600":t>=40?"text-orange-600":"text-red-600":"text-gray-600"}getHealthStatusText(t){return t?t>=80?"Excellent":t>=60?"Good":t>=40?"Fair":"Poor":"Unknown"}getAssetAge(){if(!this.asset?.purchase_date)return"Unknown";let t=new Date(this.asset.purchase_date),n=Math.abs(new Date().getTime()-t.getTime()),s=Math.ceil(n/(1e3*60*60*24));if(s<365)return`${Math.floor(s/30)} months`;{let r=Math.floor(s/365);return`${r} year${r>1?"s":""}`}}getUtilizationRate(){let t=this.asset?.health_score||0;return t>=80?95:t>=60?85:t>=40?70:50}getUptimePercentage(){let t=this.asset?.health_score||0;return t>=80?99.5:t>=60?98:t>=40?95:90}getMaintenanceFrequency(){let t=this.asset?.health_score||0;return t>=80?"Low":t>=60?"Medium":t>=40?"High":"Very High"}getMaintenanceFrequencyPercentage(){let t=this.asset?.health_score||0;return t>=80?20:t>=60?40:t>=40?60:80}getCostEfficiency(){let t=parseFloat(this.asset?.purchase_price)||0,e=this.calculateCurrentValue();if(t===0)return 85;let n=e/t*100;return Math.min(Math.max(n,0),100)}formatCurrency(t){return t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}calculateCurrentValue(){let t=parseFloat(this.asset?.purchase_price)||0,e=this.calculateDepreciation();return Math.round(Math.max(t-e,0)*100)/100}getROIColor(t){return t>=0?"text-green-600":"text-red-600"}getPerformanceTrend(){let t=this.asset?.health_score||0;return t>=80?"Improving":t>=60?"Stable":t>=40?"Declining":"Critical"}getCostEfficiencyTrend(){let t=this.getCostEfficiency();return t>=80?"Optimal":t>=60?"Good":t>=40?"Fair":"Poor"}getMaintenanceTrend(){let t=this.asset?.health_score||0;return t>=80?"Low":t>=60?"Stable":t>=40?"Increasing":"High"}getTrendColor(t){switch(t.toLowerCase()){case"improving":case"optimal":case"low":return"text-green-600";case"stable":case"good":return"text-blue-600";case"declining":case"fair":case"increasing":return"text-yellow-600";case"critical":case"poor":case"high":return"text-red-600";default:return"text-gray-600"}}getTrendIcon(t){switch(t.toLowerCase()){case"improving":case"optimal":return"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6";case"declining":case"critical":return"M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6";case"stable":case"good":case"fair":case"low":case"increasing":case"high":default:return"M20 12H4"}}getFinancialAlerts(){let t=[],e=this.asset?.health_score||0,n=this.calculateCurrentValue(),s=parseFloat(this.asset?.purchase_price)||0;return e<40&&t.push({message:"Asset health is critical - consider replacement",class:"bg-red-50 text-red-700"}),n<s*.3&&t.push({message:"Asset value has depreciated significantly",class:"bg-orange-50 text-orange-700"}),(this.asset?.warranty==="None"||!this.asset?.warranty)&&t.push({message:"No warranty coverage - maintenance costs may increase",class:"bg-yellow-50 text-yellow-700"}),t}getPredictiveAlerts(){let t=[],e=this.asset?.health_score||0,n=this.getAssetAge();return e<60&&t.push({title:"Maintenance Alert",message:"Schedule preventive maintenance within 30 days",class:"bg-orange-50 text-orange-700"}),e<40&&t.push({title:"Critical Alert",message:"Asset requires immediate attention",class:"bg-red-50 text-red-700"}),n.includes("year")&&parseInt(n)>5&&t.push({title:"Age Alert",message:"Asset is aging - consider replacement planning",class:"bg-blue-50 text-blue-700"}),t}uploadDocument(){console.log("Upload document")}downloadDocument(t){console.log("Download document:",t)}compareWithSimilar(){console.log("Compare with similar assets")}scrollToSection(t){let e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}exportFinancialData(){console.log("Export financial data")}exportMaintenanceHistory(){console.log("Export maintenance history")}generateMaintenanceRecommendations(){console.log("Generate maintenance recommendations")}addMaintenanceCost(){console.log("Add maintenance cost")}viewCostHistory(){console.log("View cost history")}getWarrantyStatus(t){if(!t)return"No warranty";let e=new Date,n=new Date(t);if(n<e)return"Expired";{let s=Math.ceil((n.getTime()-e.getTime())/864e5);return s<=30?`Expires in ${s} days`:"Active"}}getWarrantyStatusClass(t){let e=this.getWarrantyStatus(t);return e==="Expired"?"text-red-600 font-medium":e.includes("Expires in")?"text-orange-600 font-medium":e==="Active"?"text-green-600 font-medium":"text-gray-500"}selectImage(t){this.asset.images&&t>=0&&t<this.asset.images.length&&(this.currentImageIndex=t,this.selectedImageUrl=this.asset.images[t].image_url)}previousImage(){if(this.asset.images&&this.asset.images.length>1){let t=this.currentImageIndex>0?this.currentImageIndex-1:this.asset.images.length-1;this.selectImage(t)}}nextImage(){if(this.asset.images&&this.asset.images.length>1){let t=this.currentImageIndex<this.asset.images.length-1?this.currentImageIndex+1:0;this.selectImage(t)}}copyAssetId(){let t=this.asset?.asset_id||this.asset?.id;t&&navigator.clipboard.writeText(t.toString()).then(()=>{console.log("Asset ID copied to clipboard")}).catch(e=>{console.error("Failed to copy asset ID:",e)})}copySerialNumber(){this.asset?.serial_number&&navigator.clipboard.writeText(this.asset.serial_number).then(()=>{console.log("Serial number copied to clipboard")}).catch(t=>{console.error("Failed to copy serial number:",t)})}calculateDepreciation(){if(!this.asset?.purchase_price)return 0;let t=this.asset.current_value||this.asset.purchase_price;return Math.round((this.asset.purchase_price-t)*100)/100}calculateDepreciationRate(){let t=this.asset?.depreciation||10;return Math.round(1/t*100)}getMaxDepreciationValue(){return this.asset?.purchase_price||1e4}getDepreciationPath(){let t=this.getMaxDepreciationValue(),e=this.asset?.purchase_date?new Date(this.asset.purchase_date):new Date,n=new Date,s=10,r=new Date(e.getTime()+s*365.25*24*60*60*1e3),o=[],l=(r.getTime()-e.getTime())/(1e3*60*60*24);for(let d=0;d<=12;d++){let u=l*d/12,f=(new Date(e.getTime()+u*24*60*60*1e3).getTime()-e.getTime())/(1e3*60*60*24*365.25),x=t/s,g=Math.min(x*f,t),S=Math.max(0,t-g),w=d/12*100,E=100-S/t*100;o.push(`${w},${E}`)}return`M ${o.join(" L ")}`}getCurrentPeriodX(){if(!this.asset?.purchase_date)return 0;let t=new Date(this.asset.purchase_date),e=new Date,n=10,r=(new Date(t.getTime()+n*365.25*24*60*60*1e3).getTime()-t.getTime())/(1e3*60*60*24),o=(e.getTime()-t.getTime())/(1e3*60*60*24);return Math.min(100,Math.max(0,o/r*100))}getCurrentPeriodY(){let t=this.calculateCurrentValue(),e=this.getMaxDepreciationValue();return 100-t/e*100}getDepreciationDates(){let t=this.asset?.purchase_date?new Date(this.asset.purchase_date):new Date,e=10,n=new Date(t.getTime()+e*365.25*24*60*60*1e3),s=[];for(let r=0;r<=12;r++){let o=(n.getTime()-t.getTime())/864e5*r/12;s.push(new Date(t.getTime()+o*24*60*60*1e3))}return s}calculateAnnualDepreciation(){return this.getMaxDepreciationValue()/10}calculateRemainingYears(){if(!this.asset?.purchase_date)return 10;let t=new Date(this.asset.purchase_date),e=new Date,n=10,s=(e.getTime()-t.getTime())/(1e3*60*60*24*365.25);return Math.round(Math.max(0,n-s)*100)/100}calculateTotalCostOfOwnership(){let t=this.asset?.purchase_price||0,e=this.asset?.total_maintenance_cost||0,n=this.asset?.operating_cost||0;return t+e+n}calculateROI(){let t=this.calculateTotalCostOfOwnership(),e=this.asset?.current_value||this.asset?.purchase_price||0;return t===0?0:Math.round((e-t)/t*100)}createWorkOrder(){console.log("Create work order for asset:",this.asset?.id)}transferAsset(){this.showTransferModal=!0}onTransferComplete(t){console.log("Transfer completed:",t),this.asset?.id&&this.loadAsset(this.asset.id.toString())}onTransferModalClose(){this.showTransferModal=!1}duplicateAsset(){this.asset&&this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:this.asset.id}})}onImageError(t){console.warn("Asset image failed to load:",t.target.src),t.target.onerror=null,t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="}onCategoryIconError(t,e){e&&(e.iconError=!0)}downloadQRCode(){if(this.qrCodeDataUrl){let t=document.createElement("a");t.href=this.qrCodeDataUrl,t.download=`asset-${this.asset.id}-qr.png`,t.click()}else if(this.asset?.qr_code_url){let t=document.createElement("a");t.href=this.asset.qr_code_url,t.download=`asset-${this.asset.id}-qr.png`,t.click()}else this.generateQRCode()}downloadBarcode(){if(this.asset?.barcode_url){let t=document.createElement("a");t.href=this.asset.barcode_url,t.download=`asset-${this.asset.asset_id||this.asset.id}-barcode.png`,t.click()}else if(this.barcodeDataUrl){let t=document.createElement("a");t.href=this.barcodeDataUrl,t.download=`asset-${this.asset.asset_id||this.asset.id}-barcode.png`,t.click()}else this.generateBarcode()}generateQRCode(){if(!this.asset)return;this.qrCodeLoading=!0;let t=`${window.location.origin}/public/asset/${this.asset.id}`;mc.toDataURL(t,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{this.qrCodeDataUrl=e,this.qrCodeLoading=!1}).catch(e=>{console.error("Error generating QR code:",e),this.qrCodeLoading=!1})}generateBarcode(){if(!this.asset?.asset_id)return;this.barcodeLoading=!0;let t=this.asset.asset_id,e=`https://quickchart.io/barcode?c=${encodeURIComponent(t)}&chs=300x100&chld=L%7C0&choe=UTF-8`;fetch(e).then(n=>n.blob()).then(n=>{let s=new FileReader;s.onloadend=()=>{this.barcodeDataUrl=s.result,this.barcodeLoading=!1},s.readAsDataURL(n)}).catch(n=>{console.error("Error generating barcode:",n),this.barcodeLoading=!1})}copyQRCodeUrl(){this.asset?.qr_code_url&&navigator.clipboard.writeText(this.asset.qr_code_url).then(()=>{console.log("QR code URL copied to clipboard")})}copyPublicUrl(){let t=`${window.location.origin}/public/asset/${this.asset.id}`;navigator.clipboard.writeText(t).then(()=>{console.log("Public URL copied to clipboard")})}get windowLocation(){return window.location.origin}showFullActivityHistory(){this.loadFullActivityHistory(),this.showActivityHistoryModal=!0}closeActivityHistoryModal(){this.showActivityHistoryModal=!1,this.activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""},this.activityHistoryPagination=null}onActivityHistoryPageChange(t){this.activityHistoryParams.page=t,this.loadFullActivityHistory()}onActivityHistorySearch(t){this.activityHistoryParams.search=t,this.activityHistoryParams.page=1,this.loadFullActivityHistory()}onActivityHistoryFilter(t,e){this.activityHistoryParams[t]=e,this.activityHistoryParams.page=1,this.loadFullActivityHistory()}onActivityHistorySort(t,e){this.activityHistoryParams.sort_by=t,this.activityHistoryParams.sort_dir=e,this.loadFullActivityHistory()}clearActivityHistoryFilters(){this.activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""},this.loadFullActivityHistory()}loadFullActivityHistory(){this.asset?.id&&(this.activityHistoryLoading=!0,this.activityHistoryError="",this.assetService.getActivityHistory(this.asset.id,this.activityHistoryParams).pipe(me(this.destroy$)).subscribe({next:t=>{t.success?(this.fullActivityHistory=t.data.data||[],this.activityHistoryPagination=t.data):this.activityHistoryError=t.message||"Failed to load full activity history",this.activityHistoryLoading=!1},error:t=>{this.activityHistoryError=t.error?.message||"An error occurred while loading full activity history",this.activityHistoryLoading=!1}}))}viewFullImage(t){window.open(t,"_blank")}formatActivityBeforeAfter(t,e){if(!t&&!e)return"";let n=[];if(t&&e){let s=Object.keys(t),r=Object.keys(e);for(let o of r)if(t[o]!==e[o]){let l=this.getFieldDisplayName(o);l&&n.push(`${l}: ${this.formatFieldValue(t[o])} \u2192 ${this.formatFieldValue(e[o])}`)}}else if(e){let s=["name","type","status","location_id","department_id","purchase_price"];for(let r of s)if(e[r]!==void 0&&e[r]!==null){let o=this.getFieldDisplayName(r);o&&n.push(`${o}: ${this.formatFieldValue(e[r])}`)}}else if(t){let s=["name","type","status"];for(let r of s)if(t[r]!==void 0&&t[r]!==null){let o=this.getFieldDisplayName(r);o&&n.push(`${o}: ${this.formatFieldValue(t[r])} (deleted)`)}}return n.length>0?n.join(", "):""}getFieldDisplayName(t){return{name:"Asset Name",type:"Type",model:"Model",status:"Status",description:"Description",location_id:"Location",department_id:"Department",purchase_price:"Purchase Price",purchase_date:"Purchase Date",serial_number:"Serial Number",asset_id:"Asset ID",warranty:"Warranty",insurance:"Insurance",depreciation:"Depreciation",health_score:"Health Score",manufacturer:"Manufacturer",category_id:"Category"}[t]||t.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}formatFieldValue(t){return t==null?"N/A":typeof t=="boolean"?t?"Yes":"No":typeof t=="number"?t.toString().includes(".")?`$${t.toFixed(2)}`:t.toString():typeof t=="string"?t.match(/^\d{4}-\d{2}-\d{2}/)?new Date(t).toLocaleDateString():t:JSON.stringify(t)}getUserDisplayName(t){return t?t.name?t.name:t.email?t.email.split("@")[0]:"Unknown User":"System"}getActivityIcon(t){return{created:"M12 6v6m0 0v6m0-6h6m-6 0H6",updated:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",deleted:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",transferred:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",maintenance:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",imported:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"}[t]||"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}getActivityColor(t){return{created:"bg-green-100 text-green-600",updated:"bg-blue-100 text-blue-600",deleted:"bg-red-100 text-red-600",transferred:"bg-purple-100 text-purple-600",maintenance:"bg-orange-100 text-orange-600",imported:"bg-indigo-100 text-indigo-600"}[t]||"bg-gray-100 text-gray-600"}sharePublicUrl(){if(this.asset?.id){let t=`${window.location.origin}/public/asset/${this.asset.id}`;navigator.clipboard.writeText(t).then(()=>{console.log("Public URL copied to clipboard:",t),alert("Public URL copied to clipboard!")}).catch(e=>{console.error("Failed to copy URL:",e),alert("Failed to copy URL to clipboard")})}}static \u0275fac=function(e){return new(e||i)(he(ki),he(St),he(dt),he(Hn),he(Kn),he(Xn),he(Fo))};static \u0275cmp=Te({type:i,selectors:[["app-asset-view"]],viewQuery:function(e,n){if(e&1&&bt(ag,5),e&2){let s;yt(s=wt())&&(n.dateInputs=s)}},decls:34,vars:10,consts:[["noImages",""],["dateInput",""],[1,"min-h-screen","bg-gray-50","asset-view-container"],[1,"bg-white","border-b","border-gray-200","px-6","py-4","print-hide"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],["aria-label","Breadcrumb",1,"flex"],[1,"flex","items-center","space-x-2"],["routerLink","/assets/list",1,"text-gray-500","hover:text-gray-700","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","mx-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"text-gray-900","font-medium"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","space-x-2","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"relative",3,"click"],[1,"flex","items-center","justify-center","w-10","h-10","text-gray-600","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["cx","12","cy","5","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","19","r","2"],["class","absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",4,"ngIf"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","px-6 py-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[3,"closeModal","transferComplete","isOpen","asset"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-2","z-50"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],[1,"text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"border-t","border-gray-100","my-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"px-6","py-6"],[1,"bg-white","rounded-lg","p-6","mb-6","shadow-sm","border","border-gray-200"],[1,"flex","items-start","justify-between","mb-4"],[1,"w-16","h-16","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",3,"background-color","color",4,"ngIf"],[1,"text-gray-500"],[1,"text-right"],[1,"flex","items-center","space-x-2","mb-2"],[1,"flex","items-center","space-x-1","px-2","py-1","text-sm","font-mono","bg-gray-100","rounded","hover:bg-gray-200","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["class","flex items-center space-x-2",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","p-6","shadow-sm","border","border-gray-200"],[1,"flex","items-center","space-x-2","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-lg","font-semibold","text-gray-900"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","mb-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"space-y-6"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],[1,"text-gray-600","leading-relaxed"],["class","text-blue-600 hover:text-blue-700 text-sm font-medium mt-2",3,"click",4,"ngIf"],[1,"w-8","h-8","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","text-gray-900",4,"ngIf"],[1,"text-gray-900","font-mono","text-lg"],["title","Copy Asset ID",1,"p-1","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","text-blue-600 hover:underline cursor-pointer",3,"routerLink",4,"ngIf"],[1,"text-gray-900"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[4,"ngIf"],[1,"bg-gray-50","rounded-lg","p-4","flex","flex-col","items-center"],[1,"w-32","h-32","bg-white","rounded-lg","p-2","shadow-sm","border","border-gray-200","flex","items-center","justify-center"],["alt","QR Code","class","w-full h-full object-contain",3,"src",4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","text-center text-gray-400",4,"ngIf"],[1,"mt-3","flex","space-x-2"],["class","text-sm text-blue-600 hover:text-blue-700 font-medium",3,"click",4,"ngIf"],["class","text-sm text-green-600 hover:text-green-700 font-medium",3,"click",4,"ngIf"],[1,"mt-2","text-xs","text-gray-500","text-center"],[1,"w-full","bg-white","rounded-lg","p-2","shadow-sm","border","border-gray-200","flex","items-center","justify-center"],["alt","Barcode","class","w-full h-20 object-contain",3,"src",4,"ngIf"],["class","flex items-center justify-center py-4",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","text-center text-gray-400 py-4",4,"ngIf"],["class","mt-1 font-mono",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","mb-1"],["class","mt-6 pt-6 border-t border-gray-200",4,"ngIf"],[1,"flex","items-center","justify-between","mb-6"],[1,"w-8","h-8","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"flex","items-center","space-x-2","px-3","py-2","text-green-600","hover:bg-green-50","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"flex","items-center","space-x-2","px-3","py-2","text-blue-600","hover:bg-blue-50","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",4,"ngIf"],[1,"text-sm","font-medium","text-gray-700"],["class","flex items-center justify-center h-64 bg-gray-50 rounded-lg",4,"ngIf"],["class","flex items-center justify-center h-64 bg-red-50 rounded-lg",4,"ngIf"],["class","relative h-64 bg-white border border-gray-200 rounded-lg p-4",4,"ngIf"],["class","text-center text-xs text-gray-500",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",4,"ngIf"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-8","h-8","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"],[1,"flex","items-center","space-x-2","px-3","py-2","text-orange-600","hover:bg-orange-50","rounded-lg","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-2xl","font-bold","text-gray-900"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mt-4"],[1,"text-center","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","text-gray-600"],["class","flex items-center justify-center py-8",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-blue-600","hover:text-blue-700","text-sm","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"],[1,"flex","items-center","space-x-2","px-3","py-1","text-sm","text-gray-600","hover:text-gray-800","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","space-y-3",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","gap-4","mb-6"],[1,"bg-green-50","rounded-lg","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],[1,"text-sm","text-green-600"],[1,"font-semibold","text-green-800"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],[1,"text-sm","text-blue-600"],[1,"font-semibold","text-blue-800"],[1,"bg-purple-50","rounded-lg","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],[1,"text-sm","text-purple-600"],[1,"font-semibold","text-purple-800"],["class","text-center py-6",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-2"],[1,"text-xs","text-gray-600"],[1,"text-sm","text-gray-900"],[1,"bg-orange-50","rounded-lg","p-4"],[1,"flex","items-center","space-x-2","mt-1"],["class","text-xs text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"mb-4"],[1,"relative","bg-gray-100","rounded-lg","overflow-hidden",2,"height","400px"],[1,"w-full","h-full","object-contain","bg-white","cursor-pointer",3,"click","error","src","alt"],["class","absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",3,"click",4,"ngIf"],["class","absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",3,"click",4,"ngIf"],[1,"absolute","bottom-4","right-4","bg-black","bg-opacity-50","text-white","px-3","py-1","rounded-full","text-sm"],["class","grid grid-cols-6 gap-2",4,"ngIf"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","w-10","h-10","bg-black","bg-opacity-50","text-white","rounded-full","flex","items-center","justify-center","hover:bg-opacity-70","transition-all",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","w-10","h-10","bg-black","bg-opacity-50","text-white","rounded-full","flex","items-center","justify-center","hover:bg-opacity-70","transition-all",3,"click"],[1,"grid","grid-cols-6","gap-2"],["class","relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all",3,"border-blue-500","border-gray-200","click",4,"ngFor","ngForOf"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","cursor-pointer","border-2","transition-all",3,"click"],[1,"w-full","h-full","object-cover",3,"error","src","alt"],[1,"text-center","py-12","bg-gray-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],[1,"text-gray-600"],[1,"text-blue-600","hover:text-blue-700","text-sm","font-medium","mt-2",3,"click"],[1,"w-5","h-5",3,"error","src","alt"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-sm","font-medium"],[1,"text-blue-600","hover:underline","cursor-pointer",3,"routerLink"],["alt","QR Code",1,"w-full","h-full","object-contain",3,"src"],[1,"flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],["fill","currentColor","viewBox","0 0 24 24",1,"w-24","h-24","text-gray-400"],["d","M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"],[1,"text-xs","text-gray-500","mt-2","font-mono"],[1,"text-center","text-gray-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto"],[1,"text-xs","mt-2"],[1,"text-sm","text-blue-600","hover:text-blue-700","font-medium",3,"click"],[1,"text-sm","text-green-600","hover:text-green-700","font-medium",3,"click"],["alt","Barcode",1,"w-full","h-20","object-contain",3,"src"],[1,"flex","items-center","justify-center","py-4"],[1,"text-center","py-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto"],[1,"text-center","text-gray-400","py-4"],[1,"mt-1","font-mono"],[1,"text-xs","text-gray-500"],[1,"text-gray-900","font-mono"],[1,"p-1","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex justify-between",4,"ngFor","ngForOf"],[1,"flex","justify-between"],[1,"text-sm","text-gray-900","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-6"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-orange-600"],[1,"flex","items-center","justify-center","h-64","bg-gray-50","rounded-lg"],[1,"inline-flex","items-center","justify-center","w-8","h-8","bg-green-100","rounded-full","mb-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","text-green-600"],[1,"flex","items-center","justify-center","h-64","bg-red-50","rounded-lg"],[1,"text-red-600","text-sm","mb-2"],[1,"relative","h-64","bg-white","border","border-gray-200","rounded-lg","p-4"],["id","healthPerformanceChart","width","400","height","200"],[1,"text-center","text-xs","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mt-4"],[1,"text-lg","font-semibold",3,"ngClass"],[1,"inline-flex","items-center","justify-center","w-8","h-8","bg-blue-100","rounded-full","mb-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","text-blue-600"],["id","depreciationChart","width","400","height","200"],[1,"flex","items-center","justify-center","py-8"],[1,"text-center","py-8"],["class","flex items-start space-x-3",4,"ngFor","ngForOf"],[1,"flex","items-start","space-x-3"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"flex-1"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-medium","text-gray-900","capitalize"],["class","text-xs text-gray-500 bg-gray-50 p-2 rounded border",4,"ngIf"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","bg-gray-50","p-2","rounded","border"],[1,"text-xs","text-gray-500","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-400","mx-auto","mb-4"],["class","w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors",3,"text-blue-600","bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","px-4","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-sm"],[1,"space-y-3"],["class","flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-3","p-3","bg-gray-50","rounded-lg","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center","flex-shrink-0"],["class","w-full h-full object-cover rounded-lg",3,"src","alt","error",4,"ngIf"],["class","w-6 h-6 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2","mb-1"],[1,"text-gray-400"],[1,"text-xs","px-2","py-1","rounded-full","font-medium",3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","flex-shrink-0"],[1,"w-full","h-full","object-cover","rounded-lg",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-center","py-6"],[1,"inline-flex","items-center","justify-center","w-6","h-6","bg-blue-100","rounded-full"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-3","h-3","text-blue-600"],["class","border border-gray-200 rounded-lg p-3",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-3"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","text-sm"],[1,"flex","items-center","space-x-1"],[1,"p-1","text-gray-400","hover:text-blue-600","transition-colors",3,"click"],[1,"p-1","text-gray-400","hover:text-red-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"space-y-1","text-xs"],[1,"ml-1","text-gray-900"],["class","mt-2 text-xs text-gray-600",4,"ngIf"],[1,"mt-2","text-xs","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400","mx-auto","mb-2"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-xs","text-gray-600","mb-3"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","text-xs","hover:bg-blue-700","transition-colors",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","max-w-md","w-full","p-6"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","schedule_type",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value",""],["value","Preventive"],["value","Inspection"],["value","Calibration"],["value","Cleaning"],["type","text","formControlName","next_due","placeholder","Select date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","text","formControlName","last_done","placeholder","Select date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","frequency",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Weekly"],["value","Monthly"],["value","Quarterly"],["value","Semi-Annual"],["value","Annual"],["formControlName","notes","rows","3","placeholder","Additional notes...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"flex","items-center","justify-end","space-x-3","mt-6"],["type","button",1,"px-4","py-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:opacity-50","transition-colors",3,"disabled"],["formControlName","status",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Scheduled"],["value","In Progress"],["value","Completed"],["value","Overdue"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","max-w-4xl","w-full","max-h-[90vh]","flex","flex-col"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex-1","overflow-auto","p-6"],[1,"mb-6","space-y-4"],[1,"flex","space-x-4"],["type","text","placeholder","Search activities...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input"],[1,"px-4","py-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],["value","created"],["value","updated"],["value","deleted"],["value","transferred"],["value","maintenance"],["value","imported"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],["value","desc"],["value","asc"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","space-y-4 max-h-[60vh] overflow-y-auto",4,"ngIf"],["class","mt-6 flex items-center justify-between",4,"ngIf"],[1,"flex","items-center","justify-between","p-6","border-t","border-gray-200","bg-gray-50"],[1,"px-4","py-2","bg-gray-600","text-white","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"flex","items-center","justify-center","py-12"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-6","h-6","text-blue-600"],[1,"text-center","py-12"],[1,"text-red-600","mb-4"],[1,"space-y-4","max-h-[60vh]","overflow-y-auto"],["class","flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-start","space-x-4","p-4","bg-gray-50","rounded-lg"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"font-semibold","text-gray-900","capitalize"],[1,"text-xs","text-gray-500","bg-white","px-2","py-1","rounded-full"],[1,"text-sm","text-gray-600","mb-2"],["class","text-xs text-gray-500 bg-white p-3 rounded border",4,"ngIf"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],[1,"text-xs","text-gray-500","bg-white","p-3","rounded","border"],[1,"font-medium","mb-1"],[1,"text-xs","text-gray-500","mt-2"],[1,"mt-6","flex","items-center","justify-between"],[1,"flex","space-x-2"],["class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors",3,"click",4,"ngIf"],[1,"px-3","py-1","text-sm","border","border-gray-300","rounded","hover:bg-gray-50","transition-colors",3,"click"]],template:function(e,n){e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"nav",6)(5,"ol",7)(6,"li")(7,"a",8),m(8,"Assets"),c()(),a(9,"li"),D(),a(10,"svg",9),y(11,"path",10),c()(),T(),a(12,"li",11),m(13),c()()()(),a(14,"div",12)(15,"button",13),A("click",function(){return n.editAsset()}),D(),a(16,"svg",14),y(17,"path",15),c(),T(),a(18,"span"),m(19,"Edit Asset"),c()(),a(20,"div",16),A("click",function(r){return r.stopPropagation()}),a(21,"button",17),A("click",function(){return n.showActionsDropdown=!n.showActionsDropdown}),D(),a(22,"svg",18),y(23,"circle",19)(24,"circle",20)(25,"circle",21),c()(),I(26,ug,27,0,"div",22),c()()()(),I(27,mg,10,0,"div",23)(28,pg,11,1,"div",23)(29,T1,451,129,"div",24)(30,I1,59,2,"div",25)(31,P1,71,2,"div",25)(32,W1,62,5,"div",26),T(),a(33,"app-transfer-asset-modal",27),A("closeModal",function(){return n.onTransferModalClose()})("transferComplete",function(r){return n.onTransferComplete(r)}),c()()),e&2&&(p(13),O((n.asset==null?null:n.asset.name)||"Asset Details"),p(13),v("ngIf",n.showActionsDropdown),p(),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",n.asset&&!n.loading),p(),v("ngIf",n.showAddMaintenanceModal),p(),v("ngIf",n.showEditMaintenanceModal),p(),v("ngIf",n.showActivityHistoryModal),p(),v("isOpen",n.showTransferModal)("asset",n.asset))},dependencies:[je,jn,lt,Ie,Nn,Mi,Ro,Vt,Bn,Qn,Qt,Un,Yn,Ne,Bo,Be,Xt,Gn,$n,Li],styles:[".asset-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.asset-image-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border-radius:.5rem;min-height:16rem;display:flex;align-items:center;justify-content:center}.info-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.health-score-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669);transition:width .3s ease-in-out}.chart-placeholder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border:2px dashed #d1d5db;border-radius:.5rem}.chart-placeholder[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.ai-button[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.ai-button[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.ai-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.action-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.action-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-radius:.5rem;padding:.5rem 1rem;margin:-.5rem -1rem}.status-badge[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:.25rem .5rem;border-radius:9999px}.section-icon[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.section-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border:2px dashed #d1d5db;border-radius:1rem}.empty-state[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.lg\\:col-span-2[_ngcontent-%COMP%]{grid-column:span 1}.asset-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}@media print{.bg-white.border-b[_ngcontent-%COMP%], .flex.items-center.justify-between[_ngcontent-%COMP%], .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]:has(button), button[_ngcontent-%COMP%], .relative[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%], .fixed[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%], .actions-dropdown[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .print-hide[_ngcontent-%COMP%]{display:none!important}.bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]{border:1px solid #ddd!important;box-shadow:none!important;margin-bottom:20px!important;page-break-inside:avoid}.grid.grid-cols-1.lg\\\\[_ngcontent-%COMP%]:grid-cols-3{display:block!important}.lg\\\\[_ngcontent-%COMP%]:col-span-2{width:100%!important}body[_ngcontent-%COMP%]{margin:0!important;padding:20px!important;background:#fff!important}*[_ngcontent-%COMP%]{color:#000!important;background:#fff!important}.asset-image-container[_ngcontent-%COMP%]{border:1px solid #000!important;background:#fff!important;max-width:100%!important}.qr-section[_ngcontent-%COMP%], .barcode-section[_ngcontent-%COMP%]{text-align:center!important;page-break-inside:avoid}table[_ngcontent-%COMP%]{width:100%!important;border-collapse:collapse!important}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:8px!important}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#000!important;page-break-after:avoid}.status-badge[_ngcontent-%COMP%]{border:1px solid #000!important;background:#fff!important;color:#000!important}}button[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}*[_ngcontent-%COMP%]{transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.asset-view[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}.value-display[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}.section-header[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding-bottom:.75rem;margin-bottom:1rem}.info-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}@media (min-width: 768px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.ai-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border:1px solid #e9d5ff}.financial-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0}.technical-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:1px solid #bfdbfe}"]})};var G1=["fileInput"],$1=["dateInput"],U1=()=>({standalone:!0});function Y1(i,t){i&1&&(a(0,"div",14)(1,"div",15)(2,"div",16),D(),a(3,"svg",17),y(4,"circle",18)(5,"path",19),c()(),T(),a(6,"h3",20),m(7,"Loading Asset"),c(),a(8,"p",21),m(9,"Please wait while we fetch the asset details..."),c()()())}function q1(i,t){if(i&1){let e=R();a(0,"div",14)(1,"div",15)(2,"div",22),D(),a(3,"svg",23),y(4,"path",24),c()(),T(),a(5,"h3",20),m(6,"Error Loading Asset"),c(),a(7,"p",25),m(8),c(),a(9,"button",26),A("click",function(){M(e);let s=_();return k(s.goBack())}),m(10," Back to Assets "),c()()()}if(i&2){let e=_();p(8),O(e.error)}}function X1(i,t){if(i&1&&(a(0,"div",116),D(),a(1,"svg",117),y(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.nameError," ")}}function Q1(i,t){i&1&&(a(0,"span",94),m(1,"Select parent asset"),c())}function K1(i,t){if(i&1&&(a(0,"span",118),m(1),c()),i&2){let e=_(2);p(),De(" ",e.getSelectedParent().name," (",e.getSelectedParent().asset_id,") ")}}function J1(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s,r=M(e).$implicit,o=_(3);return(s=o.assetForm.get("parent_id"))==null||s.setValue(r.id),k(o.showParentDropdown=!1)}),a(1,"div",40)(2,"div",124),D(),a(3,"svg",125),y(4,"path",66),c()(),T(),a(5,"div")(6,"div",126),m(7),c(),a(8,"div",127),m(9),c()()()()}if(i&2){let e,n=t.$implicit,s=_(3);z("bg-blue-50",((e=s.assetForm.get("parent_id"))==null?null:e.value)===n.id),p(7),O(n.name),p(2),O(n.asset_id)}}function Z1(i,t){if(i&1){let e=R();a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select parent asset"),c(),a(4,"button",122),A("click",function(){let s;M(e);let r=_(2);return(s=r.assetForm.get("parent_id"))==null||s.setValue(null),k(r.showParentDropdown=!1)}),m(5," -- None -- "),c(),I(6,J1,10,4,"button",123),c()()}if(i&2){let e,n=_(2);p(4),z("bg-blue-50",!((e=n.assetForm.get("parent_id"))!=null&&e.value)),p(2),v("ngForOf",n.possibleParents)}}function e_(i,t){i&1&&(a(0,"span",94),m(1,"Select asset type"),c())}function t_(i,t){if(i&1){let e=R();a(0,"img",131),A("error",function(s){M(e);let r=_(3);return k(r.onAssetTypeIconError(s,r.selectedAssetType))}),c()}if(i&2){let e=_(3);v("src",e.selectedAssetType.icon,Me)("alt",e.selectedAssetType.name||e.selectedAssetType.label)}}function i_(i,t){if(i&1&&(D(),a(0,"svg",132),y(1,"path",133),c()),i&2){let e=_(3);Ee("color",e.selectedAssetType.color)}}function n_(i,t){if(i&1&&(a(0,"div",40)(1,"div",128),I(2,t_,1,2,"img",129)(3,i_,2,2,"svg",130),c(),a(4,"span",118),m(5),c()()),i&2){let e=_(2);p(),Ee("background-color",e.selectedAssetType.color+"20"),p(),v("ngIf",e.selectedAssetType.icon&&!e.selectedAssetType.iconError),p(),v("ngIf",!e.selectedAssetType.icon||e.selectedAssetType.iconError),p(2),O(e.selectedAssetType.label)}}function s_(i,t){if(i&1){let e=R();a(0,"img",138),A("error",function(s){M(e);let r=_().$implicit,o=_(3);return k(o.onAssetTypeIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Me)("alt",e.name||e.label)}}function r_(i,t){i&1&&(D(),a(0,"svg",31),y(1,"path",133),c())}function o_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.selectAssetType(s))}),a(1,"div",40)(2,"div",135),I(3,s_,1,2,"img",136)(4,r_,2,0,"svg",137),c(),a(5,"div")(6,"div",126),m(7),c(),a(8,"div",21),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)("text-blue-700",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id),p(3),v("ngIf",e.icon&&!e.iconError),p(),v("ngIf",!e.icon||e.iconError),p(3),O(e.label||e.name),p(2),O(e.description)}}function a_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select asset type"),c(),I(4,o_,10,8,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.assetTypes)}}function l_(i,t){if(i&1&&(a(0,"div",116),D(),a(1,"svg",117),y(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.assetTypeError," ")}}function c_(i,t){i&1&&(a(0,"span",94),m(1,"Select category"),c())}function d_(i,t){if(i&1&&(a(0,"span",118),m(1),c()),i&2){let e=_(2);p(),O(e.selectedCategory.name)}}function u_(i,t){if(i&1){let e=R();a(0,"img",138),A("error",function(s){M(e);let r=_().$implicit,o=_(3);return k(o.onCategoryIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Me)("alt",e.name)}}function m_(i,t){i&1&&(D(),a(0,"svg",125),y(1,"path",66),c())}function p_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),O(e.description)}}function h_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.selectCategory(s))}),a(1,"div",40)(2,"div",124),I(3,u_,1,2,"img",136)(4,m_,2,0,"svg",139),c(),a(5,"div")(6,"div",126),m(7),c(),I(8,p_,2,1,"div",96),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)("text-blue-700",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(3),v("ngIf",e.icon),p(),v("ngIf",!e.icon||e.iconError),p(3),O(e.name),p(),v("ngIf",e.description)}}function f_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select category"),c(),I(4,h_,9,8,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.categories)}}function g_(i,t){if(i&1&&(a(0,"div",116),D(),a(1,"svg",117),y(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.categoryError," ")}}function __(i,t){if(i&1&&(a(0,"div",116),D(),a(1,"svg",117),y(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.serialNumberError," ")}}function x_(i,t){i&1&&(a(0,"span",94),m(1,"Select location"),c())}function v_(i,t){if(i&1&&(a(0,"div",40)(1,"div",140),D(),a(2,"svg",141),y(3,"path",90)(4,"path",91),c()(),T(),a(5,"span",118),m(6),c()()),i&2){let e=_(2);p(6),O(e.selectedLocation.name)}}function b_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),O(e.type.name)}}function y_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.selectLocation(s))}),a(1,"div",40)(2,"div",142),D(),a(3,"svg",89),y(4,"path",90)(5,"path",91),c()(),T(),a(6,"div")(7,"div",126),m(8),c(),I(9,b_,2,1,"div",96),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id)("text-blue-700",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id),p(8),O(e.name),p(),v("ngIf",e.type)}}function w_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select location"),c(),I(4,y_,10,6,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.locations)}}function C_(i,t){i&1&&(a(0,"span",94),m(1,"Select department"),c())}function S_(i,t){if(i&1&&(a(0,"div",40)(1,"div",143),D(),a(2,"svg",144),y(3,"path",145),c()(),T(),a(4,"span",118),m(5),c()()),i&2){let e=_(2);p(5),O(e.selectedDepartment.name)}}function M_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),O(e.description)}}function k_(i,t){if(i&1&&(a(0,"div",148),m(1),c()),i&2){let e=_().$implicit;p(),W("Code: ",e.code,"")}}function E_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.selectDepartment(s))}),a(1,"div",40)(2,"div",146),D(),a(3,"svg",65),y(4,"path",145),c()(),T(),a(5,"div")(6,"div",126),m(7),c(),I(8,M_,2,1,"div",96)(9,k_,2,1,"div",147),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id)("text-blue-700",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id),p(7),O(e.name),p(),v("ngIf",e.description),p(),v("ngIf",e.code)}}function A_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select department"),c(),I(4,E_,10,7,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.departments)}}function D_(i,t){if(i&1&&(a(0,"div",40),y(1,"div",149),a(2,"span",118),m(3),c()()),i&2){let e=_(2);p(),Ee("background-color",e.selectedStatus.hexColor||"#6B7280"),p(2),O(e.selectedStatus.label)}}function T_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.selectStatus(s))}),a(1,"div",40)(2,"div"),y(3,"div",149),c(),a(4,"div")(5,"div",126),m(6),c(),a(7,"div",21),m(8),c()()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value)("text-blue-700",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value),p(2),He("w-6 h-6 bg-"+e.color+"-100 rounded-lg flex items-center justify-center"),p(),Ee("background-color",e.hexColor||"#6B7280"),p(3),O(e.label),p(2),O(e.description)}}function I_(i,t){if(i&1&&(a(0,"div",150)(1,"div",120)(2,"div",121),m(3,"Select status"),c(),I(4,T_,9,10,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.statusOptions)}}function P_(i,t){if(i&1){let e=R();a(0,"span"),m(1),a(2,"button",154),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.removeTag(s))}),D(),a(3,"svg",155),y(4,"path",156),c()()()}if(i&2){let e=t.$implicit;He("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-"+e.color+"-100 text-"+e.color+"-800"),p(),W(" ",e.name," ")}}function V_(i,t){if(i&1&&(a(0,"div",151)(1,"div",152),I(2,P_,5,3,"span",153),c()()),i&2){let e=_(2);p(2),v("ngForOf",e.selectedTags)}}function L_(i,t){if(i&1&&(a(0,"span",21),m(1),c()),i&2){let e=_(2);p(),W(" ",e.selectedTags.length," selected ")}}function O_(i,t){i&1&&(a(0,"div",161),D(),a(1,"svg",132),y(2,"path",162),c()())}function F_(i,t){if(i&1){let e=R();a(0,"button",122),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.toggleTag(s))}),a(1,"div",46)(2,"div",40)(3,"div"),y(4,"div"),c(),a(5,"span",126),m(6),c()(),I(7,O_,3,0,"div",160),c()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.isTagSelected(e)),p(3),He("w-6 h-6 bg-"+e.color+"-100 rounded-full flex items-center justify-center"),p(),He("w-3 h-3 rounded-full bg-"+e.color+"-500"),p(2),O(e.name),p(),v("ngIf",n.isTagSelected(e))}}function R_(i,t){if(i&1){let e=R();a(0,"div",119)(1,"div",120)(2,"div",157)(3,"div",79)(4,"input",158),ce("ngModelChange",function(s){M(e);let r=_(2);return le(r.newTagInput,s)||(r.newTagInput=s),k(s)}),A("keydown",function(s){M(e);let r=_(2);return k(r.onTagInputKeydown(s))})("click",function(s){return M(e),k(s.stopPropagation())}),c(),a(5,"div",159),m(6," Press Enter "),c()()(),a(7,"div",121),m(8,"Select tags"),c(),I(9,F_,8,8,"button",123),c()()}if(i&2){let e=_(2);p(4),ae("ngModel",e.newTagInput),v("ngModelOptions",Rn(3,U1)),p(5),v("ngForOf",e.availableTags)}}function H_(i,t){if(i&1){let e=R();a(0,"div",172)(1,"div",173)(2,"img",174),A("error",function(s){let r=M(e).index,o=_(3);return k(o.onImageError(s,r))}),c(),a(3,"div",175)(4,"div",176)(5,"button",177),A("click",function(){let s=M(e).$implicit,r=_(3);return k(r.viewFullImage(s.image_url))}),D(),a(6,"svg",132),y(7,"path",178)(8,"path",179),c()()()(),T(),a(9,"button",180),A("click",function(){let s=M(e).index,r=_(3);return k(r.removeExistingImage(s))}),D(),a(10,"svg",132),y(11,"path",156),c()(),T(),a(12,"div",181),m(13," Existing "),c()(),a(14,"div",182)(15,"p",183),m(16),c(),a(17,"p",127),m(18,"Existing Image"),c()()()}if(i&2){let e=t.$implicit,n=t.index;p(2),v("src",e.image_url,Me)("alt","Existing Asset Image "+(n+1)),p(14),O(e.image_path.split("/").pop())}}function j_(i,t){if(i&1){let e=R();a(0,"button",177),A("click",function(){M(e);let s=_().index,r=_(3);return k(r.moveImageUp(s))}),D(),a(1,"svg",132),y(2,"path",188),c()()}}function N_(i,t){if(i&1){let e=R();a(0,"button",177),A("click",function(){M(e);let s=_().index,r=_(3);return k(r.moveImageDown(s))}),D(),a(1,"svg",132),y(2,"path",50),c()()}}function B_(i,t){if(i&1){let e=R();a(0,"div",172)(1,"div",173)(2,"img",184),A("error",function(s){let r=M(e).index,o=_(3);return k(o.onImageError(s,o.existingImages.length+r))})("load",function(s){let r=M(e).index,o=_(3);return k(o.onImageLoad(s,o.existingImages.length+r))}),c(),a(3,"div",185)(4,"div",176),I(5,j_,3,0,"button",186)(6,N_,3,0,"button",186),c()(),a(7,"button",180),A("click",function(){let s=M(e).index,r=_(3);return k(r.removeImage(s))}),D(),a(8,"svg",132),y(9,"path",156),c()(),T(),a(10,"div",187),m(11," New "),c()(),a(12,"div",182)(13,"p",183),m(14),c(),a(15,"p",127),m(16),c()()()}if(i&2){let e,n=t.$implicit,s=t.index,r=_(3);p(2),v("src",n,Me)("alt","Asset Image "+(s+1)),p(3),v("ngIf",s>0),p(),v("ngIf",s<r.imagePreviewUrls.length-1),p(8),O(r.images[s]==null?null:r.images[s].name),p(2),W("",(((e=r.images[s]==null?null:r.images[s].size)!==null&&e!==void 0?e:0)/1024/1024).toFixed(1)," MB")}}function z_(i,t){if(i&1){let e=R();a(0,"div",163)(1,"div",164)(2,"h4",165),m(3),c(),a(4,"button",166),A("click",function(){M(e);let s=_(2);return s.removeAllImages(),k(s.removeAllExistingImages())}),m(5," Remove All "),c()(),a(6,"div",167),I(7,H_,19,3,"div",168)(8,B_,17,6,"div",168),c(),a(9,"div",169)(10,"div",95),D(),a(11,"svg",170),y(12,"path",98),c(),T(),a(13,"p",171)(14,"strong"),m(15,"Gallery Tips:"),c(),m(16," Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads. "),c()()()()}if(i&2){let e=_(2);p(3),W("Asset Images (",e.existingImages.length+e.imagePreviewUrls.length,")"),p(4),v("ngForOf",e.existingImages),p(),v("ngForOf",e.imagePreviewUrls)}}function W_(i,t){if(i&1&&(a(0,"div",189)(1,"div",95),D(),a(2,"svg",190),y(3,"path",24),c(),T(),a(4,"p",191),m(5),c()()()),i&2){let e=_(2);p(5),O(e.submitError)}}function G_(i,t){if(i&1&&(a(0,"div",192)(1,"div",95),D(),a(2,"svg",70),y(3,"path",162),c(),T(),a(4,"p",193),m(5),c()()()),i&2){let e=_(2);p(5),O(e.submitSuccess)}}function $_(i,t){i&1&&(a(0,"span",95),D(),a(1,"svg",194),y(2,"path",162),c(),T(),a(3,"span"),m(4,"Update Asset"),c()())}function U_(i,t){i&1&&(a(0,"span",95),D(),a(1,"svg",195),y(2,"circle",18)(3,"path",19),c(),T(),a(4,"span"),m(5,"Updating Asset..."),c()())}function Y_(i,t){if(i&1){let e=R();a(0,"div")(1,"form",27),A("ngSubmit",function(){M(e);let s=_();return k(s.onSubmit())}),a(2,"div",28)(3,"div",29)(4,"div",30),D(),a(5,"svg",31),y(6,"path",32),c()(),T(),a(7,"h2",33),m(8,"Basic Information"),c()(),a(9,"div",34)(10,"div")(11,"label",35),m(12," Asset Name "),a(13,"span",36),m(14,"*"),c()(),y(15,"input",37),I(16,X1,4,1,"div",38),a(17,"div",39),m(18,"Maximum 100 characters"),c()(),a(19,"div")(20,"label",35),m(21,"Asset ID"),c(),a(22,"div",40),y(23,"input",41),a(24,"span",42),m(25," auto-generated "),c()(),a(26,"p",39),m(27,"Unique identifier automatically assigned"),c()()(),a(28,"div",43)(29,"label",35),m(30,"Parent Asset"),c(),a(31,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(32,"button",45),A("click",function(){M(e);let s=_();return k(s.showParentDropdown=!s.showParentDropdown)}),a(33,"div",46),I(34,Q1,2,0,"span",47)(35,K1,2,2,"span",48),D(),a(36,"svg",49),y(37,"path",50),c()()(),I(38,Z1,7,3,"div",51),c(),T(),a(39,"div",39),m(40,"Optional: Select a parent asset if this asset is a child of another."),c()(),a(41,"div",43)(42,"label",35),m(43,"Description"),c(),y(44,"textarea",52),a(45,"div",39),m(46,"Maximum 500 characters"),c()(),a(47,"div")(48,"label",53),m(49,"Health Score"),c(),a(50,"div",54)(51,"div",55)(52,"span",56),m(53,"Current Score"),c(),a(54,"span",57),m(55),c()(),a(56,"div",58),y(57,"div",59)(58,"div",60)(59,"input",61)(60,"div",62),c(),a(61,"div",63)(62,"span"),m(63,"Poor (0%)"),c(),a(64,"span"),m(65,"Fair (25%)"),c(),a(66,"span"),m(67,"Good (50%)"),c(),a(68,"span"),m(69,"Very Good (75%)"),c(),a(70,"span"),m(71,"Excellent (100%)"),c()()()()(),a(72,"div",28)(73,"div",29)(74,"div",64),D(),a(75,"svg",65),y(76,"path",66),c()(),T(),a(77,"h2",33),m(78,"Asset Classification"),c()(),a(79,"div",67)(80,"div")(81,"label",35),m(82," Asset Type "),a(83,"span",36),m(84,"*"),c()(),a(85,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(86,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleAssetTypeDropdown())}),a(87,"div",46),I(88,e_,2,0,"span",47)(89,n_,6,5,"div",68),D(),a(90,"svg",49),y(91,"path",50),c()()(),I(92,a_,5,1,"div",51),c(),I(93,l_,4,1,"div",38),c(),T(),a(94,"div")(95,"label",35),m(96," Category "),a(97,"span",36),m(98,"*"),c()(),a(99,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(100,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleCategoryDropdown())}),a(101,"div",46),I(102,c_,2,0,"span",47)(103,d_,2,1,"span",48),D(),a(104,"svg",49),y(105,"path",50),c()()(),I(106,f_,5,1,"div",51),c(),I(107,g_,4,1,"div",38),c()()(),T(),a(108,"div",28)(109,"div",29)(110,"div",69),D(),a(111,"svg",70),y(112,"path",71),c()(),T(),a(113,"h2",33),m(114,"Technical Details"),c()(),a(115,"div",72)(116,"div")(117,"label",35),m(118,"Manufacturer"),c(),y(119,"input",73),a(120,"div",39),m(121,"Maximum 100 characters"),c()(),a(122,"div")(123,"label",35),m(124,"Model"),c(),y(125,"input",74),a(126,"div",39),m(127,"Maximum 100 characters"),c()(),a(128,"div")(129,"label",35),m(130," Serial Number "),a(131,"span",36),m(132,"*"),c()(),y(133,"input",75),I(134,__,4,1,"div",38),a(135,"div",39),m(136,"Required, max 100 chars, must be unique within your company"),c()()()(),a(137,"div",28)(138,"div",29)(139,"div",76),D(),a(140,"svg",77),y(141,"path",78),c()(),T(),a(142,"h2",33),m(143,"Financial Information"),c()(),a(144,"div",34)(145,"div")(146,"label",35),m(147,"Purchase Value (USD)"),c(),a(148,"div",79)(149,"div",80)(150,"span",81),m(151,"$ "),c()(),y(152,"input",82),c(),a(153,"div",39),m(154,"Must be a non-negative number"),c()(),a(155,"div")(156,"label",35),m(157,"Purchase Date"),c(),y(158,"input",83,0),a(160,"div",39),m(161,"Cannot be in the future"),c()()(),a(162,"div",34)(163,"div")(164,"label",35),m(165,"Depreciation Rate (%)"),c(),y(166,"input",84),a(167,"div",39),m(168,"Annual depreciation rate (0-100%)"),c()(),a(169,"div")(170,"label",35),m(171,"Depreciation Life (Years)"),c(),y(172,"input",85),a(173,"div",39),m(174,"Useful life for depreciation calculation (1-100 years)"),c()()(),a(175,"div",34)(176,"div")(177,"label",35),m(178,"Warranty Information"),c(),y(179,"input",86),a(180,"div",39),m(181,"Warranty details (max 255 characters)"),c()(),a(182,"div")(183,"label",35),m(184,"Insurance Information"),c(),y(185,"input",87),a(186,"div",39),m(187,"Insurance details (max 255 characters)"),c()()()(),a(188,"div",28)(189,"div",29)(190,"div",88),D(),a(191,"svg",89),y(192,"path",90)(193,"path",91),c()(),T(),a(194,"h2",33),m(195,"Location & Assignment"),c()(),a(196,"div",67)(197,"div")(198,"label",35),m(199,"Location"),c(),a(200,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(201,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleLocationDropdown())}),a(202,"div",46),I(203,x_,2,0,"span",47)(204,v_,7,1,"div",68),D(),a(205,"svg",49),y(206,"path",50),c()()(),I(207,w_,5,1,"div",51),c()(),T(),a(208,"div")(209,"label",35),m(210,"Department ID"),c(),a(211,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(212,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleDepartmentDropdown())}),a(213,"div",46),I(214,C_,2,0,"span",47)(215,S_,6,1,"div",68),D(),a(216,"svg",49),y(217,"path",50),c()()(),I(218,A_,5,1,"div",51),c(),T(),a(219,"div",39),m(220,"Optional department assignment"),c()(),a(221,"div")(222,"label",35),m(223,"Status"),c(),a(224,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(225,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleStatusDropdown())}),a(226,"div",46),I(227,D_,4,3,"div",68),D(),a(228,"svg",49),y(229,"path",50),c()()(),I(230,I_,5,1,"div",92),c(),T(),a(231,"div",39),m(232,"Current operational status of the asset"),c()(),a(233,"div")(234,"label",35),m(235,"Tags"),c(),I(236,V_,3,1,"div",93),a(237,"div",44),A("click",function(s){return M(e),k(s.stopPropagation())}),a(238,"button",45),A("click",function(){M(e);let s=_();return k(s.toggleTagsDropdown())}),a(239,"div",46)(240,"span",94),m(241),c(),a(242,"div",95),I(243,L_,2,1,"span",96),D(),a(244,"svg",49),y(245,"path",50),c()()()(),I(246,R_,10,4,"div",51),c(),T(),a(247,"div",39),D(),a(248,"svg",97),y(249,"path",98),c(),m(250," Select existing tags or type to create new ones. Press Enter to add custom tags. "),c()()()(),T(),a(251,"div",28)(252,"div",29)(253,"div",99),D(),a(254,"svg",100),y(255,"path",101),c()(),T(),a(256,"h2",33),m(257,"Asset Image"),c()(),a(258,"div")(259,"label",35),m(260,"Upload Image"),c(),a(261,"div",102),A("click",function(){M(e);let s=_();return k(s.triggerFileInput())})("dragover",function(s){M(e);let r=_();return k(r.onDragOver(s))})("dragleave",function(s){M(e);let r=_();return k(r.onDragLeave(s))})("drop",function(s){M(e);let r=_();return k(r.onDrop(s))}),a(262,"div",103)(263,"div",104),D(),a(264,"svg",105),y(265,"path",106),c()(),T(),a(266,"p",107),m(267),c(),a(268,"input",108,1),A("change",function(s){M(e);let r=_();return k(r.onFileChange(s))}),c()()(),I(270,z_,17,3,"div",109),c()(),I(271,W_,6,1,"div",110)(272,G_,6,1,"div",111),a(273,"div",112)(274,"button",113),A("click",function(){M(e);let s=_();return k(s.goBack())}),m(275," Cancel "),c(),a(276,"button",114),I(277,$_,5,0,"span",115)(278,U_,6,0,"span",115),c()()()()}if(i&2){let e,n,s,r,o,l,d,u,h,f,x,g=_();p(),v("formGroup",g.assetForm),p(14),z("border-red-300",g.nameError),p(),v("ngIf",g.nameError),p(7),v("value",(g.asset==null?null:g.asset.asset_id)||(g.asset==null?null:g.asset.id)),p(9),z("border-blue-500",g.showParentDropdown),p(2),v("ngIf",!((e=g.assetForm.get("parent_id"))!=null&&e.value)),p(),v("ngIf",((n=g.assetForm.get("parent_id"))==null?null:n.value)&&g.getSelectedParent()),p(),z("rotate-180",g.showParentDropdown),p(2),v("ngIf",g.showParentDropdown),p(16),z("text-red-600",(((s=g.assetForm.get("health_score"))==null?null:s.value)||85)<50)("text-green-600",(((r=g.assetForm.get("health_score"))==null?null:r.value)||85)>=50),p(),W("",((o=g.assetForm.get("health_score"))==null?null:o.value)||85,"%"),p(3),Ee("width",((l=g.assetForm.get("health_score"))==null?null:l.value)||85,"%"),z("bg-red-500",(((d=g.assetForm.get("health_score"))==null?null:d.value)||85)<50)("bg-green-500",(((u=g.assetForm.get("health_score"))==null?null:u.value)||85)>=50),p(2),Ee("left",((h=g.assetForm.get("health_score"))==null?null:h.value)||85,"%"),z("bg-red-500",(((f=g.assetForm.get("health_score"))==null?null:f.value)||85)<50)("bg-green-500",(((x=g.assetForm.get("health_score"))==null?null:x.value)||85)>=50),p(26),z("border-red-300",g.assetTypeError)("border-blue-500",g.showAssetTypeDropdown),p(2),v("ngIf",!g.selectedAssetType),p(),v("ngIf",g.selectedAssetType),p(),z("rotate-180",g.showAssetTypeDropdown),p(2),v("ngIf",g.showAssetTypeDropdown),p(),v("ngIf",g.assetTypeError),p(7),z("border-red-300",g.categoryError)("border-blue-500",g.showCategoryDropdown),p(2),v("ngIf",!g.selectedCategory),p(),v("ngIf",g.selectedCategory),p(),z("rotate-180",g.showCategoryDropdown),p(2),v("ngIf",g.showCategoryDropdown),p(),v("ngIf",g.categoryError),p(26),z("border-red-300",g.serialNumberError),p(),v("ngIf",g.serialNumberError),p(67),z("border-blue-500",g.showLocationDropdown),p(2),v("ngIf",!g.selectedLocation),p(),v("ngIf",g.selectedLocation),p(),z("rotate-180",g.showLocationDropdown),p(2),v("ngIf",g.showLocationDropdown),p(5),z("border-blue-500",g.showDepartmentDropdown),p(2),v("ngIf",!g.selectedDepartment),p(),v("ngIf",g.selectedDepartment),p(),z("rotate-180",g.showDepartmentDropdown),p(2),v("ngIf",g.showDepartmentDropdown),p(7),z("border-blue-500",g.showStatusDropdown),p(2),v("ngIf",g.selectedStatus),p(),z("rotate-180",g.showStatusDropdown),p(2),v("ngIf",g.showStatusDropdown),p(6),v("ngIf",g.selectedTags.length>0),p(2),z("border-blue-500",g.showTagsDropdown),p(3),W(" ",g.selectedTags.length===0?"Select tags":"Add more tags"," "),p(2),v("ngIf",g.selectedTags.length>0),p(),z("rotate-180",g.showTagsDropdown),p(2),v("ngIf",g.showTagsDropdown),p(15),z("border-gray-300",!g.isDragOver)("border-blue-500",g.isDragOver)("bg-blue-50",g.isDragOver)("hover:border-blue-400",!g.isDragOver),p(3),z("text-gray-400",!g.isDragOver)("text-blue-500",g.isDragOver),p(2),z("text-gray-500",!g.isDragOver)("text-blue-600",g.isDragOver),p(),W(" ",g.isDragOver?"Release to upload images":"PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here"," "),p(3),v("ngIf",g.existingImages.length>0||g.imagePreviewUrls.length>0),p(),v("ngIf",g.submitError),p(),v("ngIf",g.submitSuccess),p(2),v("disabled",g.saving),p(2),v("disabled",g.saving||!g.isFormValid()),p(),v("ngIf",!g.saving),p(),v("ngIf",g.saving)}}var Qi=class i{constructor(t,e,n,s,r){this.fb=t;this.route=e;this.router=n;this.assetService=s;this.angularLocation=r;this.assetForm=this.fb.group({name:["",[ft.required,ft.minLength(2)]],description:[""],serial_number:["",[ft.required,ft.minLength(3)]],model:[""],manufacturer:[""],purchase_date:[""],purchase_price:[null],depreciation:[null],depreciation_life:[null],location_id:[null],department_id:[null],parent_id:[null],warranty:[""],insurance:[""],health_score:[85,[ft.min(0),ft.max(100)]],status:[null],type:[null,ft.required],category_id:[null,ft.required],tags:[[]]})}destroy$=new Ut;dateInputs;fileInput;flatpickrInstances=[];asset=null;assetForm;loading=!0;saving=!1;error="";successMessage="";categories=[];locations=[];departments=[];availableTags=[];statusOptionsFromAPI=[];showAssetTypeDropdown=!1;showCategoryDropdown=!1;showLocationDropdown=!1;showStatusDropdown=!1;showTagsDropdown=!1;showDepartmentDropdown=!1;showParentDropdown=!1;selectedAssetType=null;selectedCategory=null;selectedLocation=null;selectedStatus=null;selectedDepartment=null;selectedTags=[];newTagInput="";assetTypes=[];assetTypesFromAPI=[];statusOptions=[{value:1,label:"Active",color:"green",description:"Asset is operational and in use",sort_order:1},{value:2,label:"Maintenance",color:"orange",description:"Asset is under maintenance or repair",sort_order:2},{value:3,label:"Inactive",color:"gray",description:"Asset is not currently in use",sort_order:3},{value:4,label:"Retired",color:"red",description:"Asset is retired and no longer in service",sort_order:4}];previewImage=null;selectedFile=null;images=[];imagePreviewUrls=[];existingImages=[];removedImageIds=[];isDragOver=!1;nameError="";assetTypeError="";categoryError="";serialNumberError="";submitError="";submitSuccess="";possibleParents=[];ngOnInit(){this.route.params.pipe(me(this.destroy$)).subscribe(t=>{let e=t.id;e&&(this.loadAsset(e),this.assetService.getPossibleParents(e).subscribe(n=>{n.success&&n.data?.possible_parents&&(this.possibleParents=n.data.possible_parents)}))}),this.loadAssetTypes(),this.loadCategories(),this.loadLocations(),this.loadDepartments(),this.loadAvailableTags(),this.loadAssetStatuses()}ngAfterViewInit(){setTimeout(()=>{this.initializeFlatpickr()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()})}initializeFlatpickr(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs&&this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=t.nativeElement,s=n.getAttribute("formControlName");if(console.log("Processing date input:",s),s==="purchase_date"){console.log("Initializing Flatpickr for purchase_date");let r={dateFormat:"d M, Y",allowInput:!0,clickOpens:!0,maxDate:"today",defaultDate:null,onChange:(d,u)=>{console.log("Date selected:",u),this.assetForm.get("purchase_date")?.setValue(u)}},o=this.assetForm.get("purchase_date")?.value;o&&(r.defaultDate=this.convertDisplayDateToDate(o));let l=Zt(n,r);this.flatpickrInstances.push(l),console.log("Flatpickr initialized successfully for purchase_date")}}})},50)}loadAsset(t){this.loading=!0,this.error="",this.assetService.getAsset(t).pipe(me(this.destroy$)).subscribe({next:e=>{e.success?(this.asset=e.data.asset||e.data,this.populateForm()):this.error=e.message||"Failed to load asset",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading the asset",this.loading=!1}})}populateForm(){if(this.asset){let t=this.asset.purchase_date?this.convertBackendDateToDisplay(this.asset.purchase_date):"",e=this.asset.warranty?this.convertBackendDateToDisplay(this.asset.warranty):"";this.assetForm.patchValue({name:this.asset.name||"",description:this.asset.description||"",serial_number:this.asset.serial_number||"",model:this.asset.model||"",manufacturer:this.asset.manufacturer||"",purchase_date:t,purchase_price:this.asset.purchase_price||null,depreciation:this.asset.depreciation||null,depreciation_life:this.asset.depreciation_life||null,location_id:this.asset.location_id||null,department_id:this.asset.department_id||null,warranty:e,insurance:this.asset.insurance||"",health_score:this.asset.health_score||85,status:this.asset.status||null,type:this.asset.type||"",category_id:this.asset.category_id||null,tags:this.asset.tags||[],parent_id:this.asset.parent_id||null}),this.asset.images&&Array.isArray(this.asset.images)&&(this.existingImages=this.asset.images),setTimeout(()=>{this.selectedAssetType=this.assetTypes.find(n=>n.id==this.asset.type)||null,this.selectedCategory=this.categories.find(n=>n.id===this.asset.category_id)||null,this.selectedLocation=this.locations.find(n=>n.id===this.asset.location_id)||null,this.selectedDepartment=this.departments.find(n=>n.id===this.asset.department_id)||null,this.selectedStatus=this.statusOptions.find(n=>n.value===this.asset.status||n.label===this.asset.status||n.id===this.asset.status)||null,this.selectedStatus&&this.assetForm.patchValue({status:this.selectedStatus.value}),this.asset.tags&&Array.isArray(this.asset.tags)&&(this.selectedTags=this.asset.tags.map(n=>this.availableTags.find(s=>s.id===n.id)||n)),this.assetForm.markAllAsTouched(),this.assetForm.updateValueAndValidity(),setTimeout(()=>{this.initializeFlatpickr()},100)},100)}}loadAssetTypes(){this.assetService.getAssetTypes().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.assetTypesFromAPI=t.data,this.assetTypes=this.assetTypesFromAPI.map(e=>({id:e.id,name:e.name,label:e.name,value:e.name,icon:e.icon,color:this.getColorForType(e.name),description:`${e.name} asset type`,iconError:!1})),this.asset&&this.populateForm())},error:t=>{console.error("Error loading asset types:",t)}})}loadCategories(){this.assetService.getAssetCategories().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&t.data?.categories&&(this.categories=t.data.categories,this.asset&&this.populateForm())},error:t=>{console.error("Error loading categories:",t)}})}loadLocations(){this.assetService.getLocations().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data,this.asset&&this.populateForm())},error:t=>{console.error("Error loading locations:",t)}})}loadDepartments(){this.assetService.getDepartments().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.departments=t.data,this.asset&&this.populateForm())},error:t=>{console.error("Error loading departments:",t)}})}loadAvailableTags(){this.availableTags=[{id:1,name:"Critical",color:"red"},{id:2,name:"High Priority",color:"orange"},{id:3,name:"Equipment",color:"blue"},{id:4,name:"IT Hardware",color:"purple"},{id:5,name:"Furniture",color:"green"},{id:6,name:"Vehicle",color:"yellow"},{id:7,name:"Safety Equipment",color:"red"},{id:8,name:"Office Supplies",color:"gray"}]}loadAssetStatuses(){this.assetService.getAssetStatuses().pipe(me(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.statusOptionsFromAPI=t.data,this.statusOptions=this.statusOptionsFromAPI.map(e=>({id:e.id,value:e.id,label:e.name,color:this.hexToTailwindColor(e.color),description:e.description||`Asset is ${e.name.toLowerCase()}`,hexColor:e.color,sort_order:e.sort_order})),this.statusOptions.sort((e,n)=>e.sort_order-n.sort_order),this.asset&&this.populateForm())},error:t=>{console.error("Error loading asset statuses:",t)}})}hexToTailwindColor(t){return{"#10B981":"green","#F59E0B":"orange","#9CA3AF":"gray","#EF4444":"red","#6B7280":"gray","#22C55E":"green","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange"}[t.toUpperCase()]||"gray"}getColorForType(t){return{"Fixed Asset":"#2563eb","Semi-Fixed Asset":"#22c55e","Mobile Asset":"#f59e42","Fleet Asset":"#a855f7","IT Equipment":"#3b82f6",Furniture:"#10b981",Vehicle:"#f59e0b",Machinery:"#ef4444",Electronics:"#8b5cf6",Tools:"#f97316"}[t]||"#6b7280"}onAssetTypeIconError(t,e){console.warn("Asset type icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showAssetTypeDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleTagsDropdown(){this.showTagsDropdown=!this.showTagsDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showDepartmentDropdown=!1}toggleDepartmentDropdown(){this.showDepartmentDropdown=!this.showDepartmentDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.assetForm.patchValue({type:t.id}),this.showAssetTypeDropdown=!1,this.clearErrors()}selectCategory(t){this.selectedCategory=t,this.assetForm.patchValue({category_id:t.id}),this.showCategoryDropdown=!1,this.clearErrors()}selectLocation(t){this.selectedLocation=t,this.assetForm.patchValue({location_id:t.id}),this.showLocationDropdown=!1}selectStatus(t){this.selectedStatus=t,this.assetForm.patchValue({status:t.value}),this.showStatusDropdown=!1}selectDepartment(t){this.selectedDepartment=t,this.assetForm.patchValue({department_id:t.id}),this.showDepartmentDropdown=!1}toggleTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1?this.selectedTags.splice(e,1):this.selectedTags.push(t)}isTagSelected(t){return this.selectedTags.some(e=>e.id===t.id)}onTagInputKeydown(t){t.key==="Enter"&&(t.preventDefault(),this.createNewTag())}createNewTag(){let t=this.newTagInput.trim();if(t&&!this.selectedTags.some(e=>e.name.toLowerCase()===t.toLowerCase())){let e=["red","blue","green","yellow","purple","pink","indigo","gray"],n=e[Math.floor(Math.random()*e.length)],s={id:Date.now(),name:t,color:n,isNew:!0};this.selectedTags.push(s),this.newTagInput=""}}removeTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1&&this.selectedTags.splice(e,1)}onFileChange(t){if(t.target.files&&t.target.files.length){let e=Array.from(t.target.files);this.processFiles(e),t.target.value=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=Array.from(e).filter(s=>s.type.startsWith("image/"));n.length>0&&this.processFiles(n)}}processFiles(t){let n=["image/jpeg","image/png","image/gif","image/webp"],s=[];for(let r of t){if(!n.includes(r.type)){console.warn("Invalid file type:",r.name);continue}if(r.size>10*1024*1024){console.warn("File too large:",r.name);continue}if(this.images.some(d=>d.name===r.name&&d.size===r.size)){console.warn("Duplicate file skipped:",r.name);continue}if(this.images.length+s.length>=10){console.warn("Max image count exceeded:",r.name);break}s.push(r);let l=new FileReader;l.onload=d=>{d.target?.result&&this.imagePreviewUrls.push(d.target.result)},l.onerror=d=>{console.error("Preview failed for:",r.name,d)},l.readAsDataURL(r)}this.images=[...this.images,...s]}removeImage(t){this.images.splice(t,1),this.imagePreviewUrls.splice(t,1)}removeAllImages(){this.images=[],this.imagePreviewUrls=[]}removeExistingImage(t){let e=this.existingImages[t];e&&e.id&&this.removedImageIds.push(e.id),this.existingImages.splice(t,1)}removeAllExistingImages(){this.existingImages.forEach(t=>{t&&t.id&&this.removedImageIds.push(t.id)}),this.existingImages=[]}moveImage(t,e){if(e>=0&&e<this.images.length){let n=this.images.splice(t,1)[0];this.images.splice(e,0,n);let s=this.imagePreviewUrls.splice(t,1)[0];this.imagePreviewUrls.splice(e,0,s)}}moveImageUp(t){t>0&&this.moveImage(t,t-1)}moveImageDown(t){t<this.images.length-1&&this.moveImage(t,t+1)}triggerFileInput(){this.fileInput.nativeElement.click()}onImageError(t,e){console.warn("Image failed to load at index:",e),t.target.onerror=null,t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="}onImageLoad(t,e){console.log("Image loaded successfully at index:",e)}viewFullImage(t){window.open(t,"_blank")}convertImagesToBase64(){return Promise.all(this.images.map(t=>new Promise((e,n)=>{let s=new FileReader;s.onload=()=>{s.result?e(s.result):n(new Error("Failed to read file"))},s.onerror=()=>n(s.error),s.readAsDataURL(t)})))}onCategoryIconError(t,e){console.warn("Category icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}validateForm(){let t=!0;this.clearErrors(),!this.assetForm.get("name")?.value||this.assetForm.get("name")?.value.trim().length===0?(this.nameError="Asset name is required",t=!1):this.assetForm.get("name")?.value.trim().length>100&&(this.nameError="Asset name cannot exceed 100 characters",t=!1),this.selectedAssetType||(this.assetTypeError="Asset type is required",t=!1),this.selectedCategory||(this.categoryError="Category is required",t=!1);let e=this.assetForm.get("serial_number")?.value;return e&&e.trim().length===0?(this.serialNumberError="Serial number cannot be empty if provided",t=!1):e&&e.length>255&&(this.serialNumberError="Serial number cannot exceed 255 characters",t=!1),t}clearErrors(){this.nameError="",this.assetTypeError="",this.categoryError="",this.serialNumberError="",this.submitError="",this.submitSuccess=""}onSubmit(){!this.validateForm()||this.saving||!this.asset||this.assetForm.valid&&!this.saving&&this.asset&&(this.saving=!0,this.error="",this.successMessage="",this.submitError="",this.submitSuccess="",this.convertImagesToBase64().then(t=>{let e=this.assetForm.value;e.tags=this.selectedTags.map(n=>n.name),e.purchase_date&&(e.purchase_date=this.convertDateToBackendFormat(e.purchase_date)),e.warranty&&(e.warranty=this.convertDateToBackendFormat(e.warranty)),e.images=t,e.existing_images=this.existingImages.map(n=>n.id||n.image_url),this.removedImageIds.length>0&&(e.remove_image_ids=this.removedImageIds),this.assetService.updateAsset(this.asset.id,e).pipe(me(this.destroy$)).subscribe({next:n=>{n.success?(this.submitSuccess="Asset updated successfully!",setTimeout(()=>{this.router.navigate(["/assets/preview",this.asset.id])},2e3)):this.submitError=n.message||"Failed to update asset",this.saving=!1},error:n=>{this.submitError=n.error?.message||"An error occurred while updating the asset",this.saving=!1}})}).catch(t=>{this.saving=!1,this.submitError="Failed to process images. Please try again.",console.error("Image conversion error:",t)}))}goBack(){this.angularLocation.back()}onDocumentClick(t){this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}isFormValid(){return this.assetForm.valid&&this.selectedAssetType!==null&&this.selectedCategory!==null&&!this.nameError&&!this.assetTypeError&&!this.categoryError&&!this.serialNumberError}getSelectedParent(){return this.possibleParents.find(t=>t.id===this.assetForm.get("parent_id")?.value)}convertDateToBackendFormat(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${r}`}catch(e){return console.error("Date conversion error:",e),t}}convertBackendDateToDisplay(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("en-GB",n).replace(/,/g,",")}catch(e){return console.error("Date conversion error:",e),t}}convertDisplayDateToDate(t){if(!t)return null;try{let e=new Date(t);return isNaN(e.getTime())?null:e}catch(e){return console.error("Date conversion error:",e),null}}static \u0275fac=function(e){return new(e||i)(he(Xn),he(ki),he(St),he(dt),he(Hn))};static \u0275cmp=Te({type:i,selectors:[["app-asset-edit"]],viewQuery:function(e,n){if(e&1&&(bt(G1,5),bt($1,5)),e&2){let s;yt(s=wt())&&(n.fileInput=s.first),yt(s=wt())&&(n.dateInputs=s)}},hostBindings:function(e,n){e&1&&A("click",function(r){return n.onDocumentClick(r)},!1,Si)},decls:16,vars:3,consts:[["dateInput",""],["fileInput",""],[1,"min-h-screen","bg-gray-50","p-6"],[1,"asset-edit-page"],[1,"mb-8"],[1,"flex","items-center","space-x-4","mb-4"],["type","button",1,"flex","items-center","space-x-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex items-center justify-center py-20",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[3,"ngSubmit","formGroup"],[1,"section-card"],[1,"flex","items-center","space-x-3","mb-6"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"section-title"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","placeholder","e.g., Main Server Room AC Unit","formControlName","name",1,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","space-x-3"],["type","text","readonly","",1,"input","flex-1",3,"value"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"mb-6"],[1,"relative",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["rows","3","placeholder","Brief description of the asset and its purpose...","formControlName","description","maxlength","500",1,"input","resize-none"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"relative","w-full","h-6","mb-3"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-2","bg-gray-200","rounded-lg"],[1,"absolute","top-1/2","transform","-translate-y-1/2","h-2","rounded-lg","transition-all","duration-300"],["type","range","min","0","max","100","formControlName","health_score",1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-6","bg-transparent","appearance-none","cursor-pointer","slider-input"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-4","h-4","rounded-full","border-2","border-white","shadow-md","pointer-events-none","transition-all","duration-300",2,"margin-left","-8px"],[1,"flex","justify-between","text-xs","text-gray-500","mt-2"],[1,"w-10","h-10","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","flex items-center space-x-3",4,"ngIf"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["type","text","placeholder","e.g., Dell, HP, Toyota","formControlName","manufacturer","maxlength","100",1,"input"],["type","text","placeholder","e.g., PowerEdge R730","formControlName","model","maxlength","100",1,"input"],["type","text","placeholder","e.g., SN123456789","formControlName","serial_number","required","","maxlength","100",1,"input"],[1,"w-10","h-10","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","placeholder","5,000.00","formControlName","purchase_price","step","0.01","min","0",1,"input",2,"padding-left","24px"],["type","text","formControlName","purchase_date","placeholder","Select purchase date","readonly","",1,"input"],["type","number","formControlName","depreciation","placeholder","e.g., 20","min","0","max","100","step","0.01",1,"input"],["type","number","formControlName","depreciation_life","placeholder","e.g., 5","min","1","max","100",1,"input"],["type","text","formControlName","warranty","placeholder","e.g., 2 years manufacturer warranty","maxlength","255",1,"input"],["type","text","formControlName","insurance","placeholder","e.g., Policy #12345, expires 2025-12-31","maxlength","255",1,"input"],[1,"w-10","h-10","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["class","text-sm text-gray-500",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","bg-pink-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-pink-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mt-1","flex","justify-center","px-6","pt-8","pb-8","border-2","border-dashed","rounded-lg","transition-all","duration-200",3,"click","dragover","dragleave","drop"],[1,"space-y-1","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-lg","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","transition-colors"],["id","file-upload","name","file-upload","type","file","accept","image/*","multiple","",1,"sr-only",3,"change"],["class","mt-6",4,"ngIf"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-between","pt-6","border-t","border-gray-200"],["type","button",1,"px-6","py-3","border","border-gray-300","rounded-lg","text-gray-700","font-medium","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["type","submit",1,"px-8","py-3","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm",3,"disabled"],["class","flex items-center space-x-2",4,"ngIf"],[1,"text-red-600","text-sm","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],[1,"px-3","py-2","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","bg-gray-50"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","bg-gray-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-6","h-6","rounded","flex","items-center","justify-center"],["class","w-4 h-4",3,"src","alt","error",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"color",4,"ngIf"],[1,"w-4","h-4",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","text-blue-700","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-blue-100"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-5","h-5",3,"error","src","alt"],["class","w-5 h-5 text-gray-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-6","h-6","bg-indigo-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-600"],[1,"w-8","h-8","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","bg-purple-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"w-8","h-8","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"mb-3"],[1,"flex","flex-wrap","gap-2"],[3,"class",4,"ngFor","ngForOf"],["type","button",1,"ml-2","inline-flex","items-center","justify-center","w-4","h-4","rounded-full","hover:bg-black","hover:bg-opacity-20","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-3","py-2","border-b","border-gray-100"],["type","text","placeholder","Type to create new tag...",1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","keydown","click","ngModel","ngModelOptions"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","text-xs","text-gray-400"],["class","text-blue-600",4,"ngIf"],[1,"text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-700"],["type","button",1,"text-red-600","hover:text-red-700","text-sm","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","relative group",4,"ngFor","ngForOf"],[1,"mt-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"text-blue-800","text-sm"],[1,"relative","group"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","border","border-gray-200","hover:border-blue-300","transition-colors"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","src","alt"],[1,"absolute","inset-0","bg-black","opacity-0","group-hover:opacity-50","transition-all","duration-200","flex","items-center","justify-center"],[1,"opacity-0","group-hover:opacity-100","transition-opacity","duration-200","flex","items-center","space-x-2"],["type","button",1,"w-8","h-8","bg-white","bg-opacity-90","text-gray-700","rounded-full","flex","items-center","justify-center","hover:bg-opacity-100","transition-all","shadow-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["type","button",1,"absolute","top-2","right-2","w-6","h-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-sm",3,"click"],[1,"absolute","top-2","left-2","px-2","py-1","bg-green-600","text-white","rounded","text-xs","font-medium"],[1,"mt-2","text-center"],[1,"text-xs","text-gray-600","truncate"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","load","src","alt"],[1,"absolute","inset-0","bg-black","opacity-50","group-hover:bg-opacity-20","transition-all","duration-200","flex","items-center","justify-center"],["type","button","class","w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm",3,"click",4,"ngIf"],[1,"absolute","top-2","left-2","px-2","py-1","bg-blue-600","text-white","rounded","text-xs","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],[1,"text-red-800","font-medium"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-green-800","font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"]],template:function(e,n){e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),A("click",function(){return n.goBack()}),D(),a(5,"svg",7),y(6,"path",8),c(),T(),a(7,"span",9),m(8,"Back to Assets"),c()()(),a(9,"h1",10),m(10,"Edit Asset"),c(),a(11,"p",11),m(12," Update asset information and specifications "),c()(),I(13,Y1,10,0,"div",12)(14,q1,11,1,"div",12)(15,Y_,279,104,"div",13),c()()),e&2&&(p(13),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",!n.loading&&!n.error))},dependencies:[je,lt,Ie,Qn,Qt,Ne,Ei,Wn,Be,Xt,Ti,qn,Di,Ai,Gn,$n,ze,qe,Vt],styles:[".asset-edit-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;border:1px solid #e5e7eb;padding:2rem;margin-bottom:1.5rem;transition:all .2s ease-in-out}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#1f2937}.input[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border:1px solid #d1d5db;padding:.75rem .875rem;font-size:1rem;background:#fff;transition:all .2s ease-in-out}.input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fff}.input.border-red-300[_ngcontent-%COMP%]{border-color:#fca5a5;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 768px){.asset-create-page[_ngcontent-%COMP%]{padding:1rem}.section-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.grid-cols-2[_ngcontent-%COMP%], .grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eff6ff}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;font-family:inherit}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6;font-weight:600}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}[_nghost-%COMP%]     .flatpickr-input{cursor:pointer}[_nghost-%COMP%]     .flatpickr-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.slider-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background:transparent;outline:none;z-index:20}.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;position:relative;z-index:30}.slider-input[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;box-shadow:none}.slider-input[_ngcontent-%COMP%]:focus{outline:none}"]})};function q_(i,t){if(i&1&&(a(0,"div",20)(1,"div",12),D(),a(2,"svg",21),y(3,"path",22),c(),T(),a(4,"span",23),m(5),c()()()),i&2){let e=_();p(5),O(e.errorMessage)}}function X_(i,t){if(i&1){let e=R();a(0,"div")(1,"p",35),m(2,"Choose Excel File"),c(),a(3,"p",36),m(4,"or drag and drop your file here"),c(),a(5,"button",37),A("click",function(){M(e);let s=On(8);return k(s.click())}),m(6," Browse Files "),c(),a(7,"input",38,0),A("change",function(s){M(e);let r=_(2);return k(r.parseFile(s))}),c()()}}function Q_(i,t){if(i&1&&(a(0,"div",32)(1,"div",39),D(),a(2,"svg",40),y(3,"path",41),c()(),T(),a(4,"p",42),m(5,"File Uploaded Successfully!"),c(),a(6,"p",43),m(7),c()()),i&2){let e=_(2);p(7),O(e.uploadedFile==null?null:e.uploadedFile.name)}}function K_(i,t){if(i&1&&(a(0,"div")(1,"div",24)(2,"div",25),D(),a(3,"svg",26),y(4,"path",27),c(),I(5,X_,9,0,"div",19)(6,Q_,8,1,"div",28),c()(),T(),a(7,"div",29)(8,"h3",30),m(9,"File Requirements:"),c(),a(10,"ul",31)(11,"li"),m(12,"\u2022 Excel files only (.xlsx, .xls)"),c(),a(13,"li"),m(14,"\u2022 First row should contain column headers"),c(),a(15,"li"),m(16,"\u2022 Maximum file size: 10MB"),c(),a(17,"li"),m(18,"\u2022 Required columns: Asset Name, Location, Category"),c()()(),a(19,"div",32)(20,"p",33),m(21," Need a template? Download our sample Excel file: "),c(),a(22,"a",34),m(23," Download Excel Template "),c()()()),i&2){let e=_();p(5),v("ngIf",!e.uploaded),p(),v("ngIf",e.uploaded)}}function J_(i,t){if(i&1&&(a(0,"div",51)(1,"span",52),m(2,"Modified:"),c(),a(3,"span",54),m(4),Ge(5,"date"),c()()),i&2){let e=_(2);p(4),O(Ct(5,1,e.uploadedFile==null?null:e.uploadedFile.lastModified,"medium"))}}function Z_(i,t){if(i&1&&(a(0,"div",61)(1,"h4",62),m(2,"File Analysis:"),c(),a(3,"div",63)(4,"div"),m(5),c(),a(6,"div"),m(7),c(),a(8,"div"),m(9),c()()()),i&2){let e=_(2);p(5),W("Total rows: ",e.importResults.file_stats.total_rows_processed,""),p(2),W("Valid assets: ",e.importResults.file_stats.valid_assets_found,""),p(2),W("Skipped rows: ",e.importResults.file_stats.skipped_rows,"")}}function e2(i,t){i&1&&(D(),a(0,"svg",64),y(1,"circle",65)(2,"path",66),c())}function t2(i,t){if(i&1){let e=R();a(0,"div")(1,"div",32)(2,"div",44),D(),a(3,"svg",45),y(4,"path",46),c()(),T(),a(5,"h2",47),m(6,"Ready to Import"),c(),a(7,"p",48),m(8,"Your file has been validated and is ready for import."),c(),a(9,"div",49)(10,"div",50)(11,"div",51)(12,"span",52),m(13,"File:"),c(),a(14,"span",53),m(15),c()(),a(16,"div",51)(17,"span",52),m(18,"Size:"),c(),a(19,"span",54),m(20),c()(),I(21,J_,6,4,"div",55),c(),I(22,Z_,10,3,"div",56),c(),a(23,"div",57)(24,"button",58),A("click",function(){M(e);let s=_();return k(s.resetImport())}),m(25," Choose Different File "),c(),a(26,"button",59),A("click",function(){M(e);let s=_();return k(s.startBulkImport())}),I(27,e2,3,0,"svg",60),m(28),c()()()()}if(i&2){let e=_();p(15),O(e.uploadedFile==null?null:e.uploadedFile.name),p(5),W("",e.uploadedFile!=null&&e.uploadedFile.size?(e.uploadedFile.size/1024/1024).toFixed(2):"0"," MB"),p(),v("ngIf",e.uploadedFile==null?null:e.uploadedFile.lastModified),p(),v("ngIf",e.importResults==null?null:e.importResults.file_stats),p(4),v("disabled",e.importLoading),p(),v("ngIf",e.importLoading),p(),W(" ",e.importLoading?"Starting Import...":"Start Import"," ")}}var Ki=class i{constructor(t,e,n){this.assetService=t;this.router=e;this.importProgressService=n}importComplete=new We;destroy$=new Ut;currentStep=1;totalSteps=2;uploadedFile=null;uploaded=!1;importLoading=!1;isImportComplete=!1;importedCount=0;importResults=null;showResults=!1;errorMessage="";showError=!1;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}parseFile(t){let e=t.target.files[0];if(this.clearError(),!e){this.errorMessage="No file selected",this.showError=!0;return}let n=e.name.split(".").pop()?.toLowerCase();if(!n||!["xlsx","xls"].includes(n)){this.errorMessage="Please upload a valid Excel file (.xlsx, .xls).",this.showError=!0;return}this.uploadedFile=e,this.uploaded=!0,this.currentStep=2}clearError(){this.errorMessage="",this.showError=!1}startBulkImport(){if(!this.uploadedFile){this.errorMessage="No file selected for import",this.showError=!0;return}this.importLoading=!0,this.clearError(),this.assetService.importBulkExcel(this.uploadedFile).subscribe({next:t=>{this.importLoading=!1,t&&t.success&&t.data?.job_id?this.importProgressService.startImport(t.data.job_id,t.data):(this.errorMessage=t.message||"Invalid response from server",this.showError=!0)},error:t=>{this.importLoading=!1,this.errorMessage=t.error?.message||"Error starting import process",this.showError=!0}})}resetImport(){this.currentStep=1,this.uploadedFile=null,this.uploaded=!1,this.importLoading=!1,this.clearError()}closeAllDropdowns(){}static \u0275fac=function(e){return new(e||i)(he(dt),he(St),he(Go))};static \u0275cmp=Te({type:i,selectors:[["app-smart-import"]],outputs:{importComplete:"importComplete"},decls:29,vars:17,consts:[["fileInput",""],[1,"min-h-screen","bg-gray-50","py-8"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-8","mb-8"],[1,"flex","justify-between","items-start","mb-6"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","text-base"],["routerLink","/assets/list",1,"bg-gray-100","hover:bg-gray-200","text-gray-700","font-semibold","px-4","py-2","rounded-lg","transition-colors","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","items-center","justify-center","mb-8"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-semibold"],[1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"w-16","h-1","bg-gray-300","rounded"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-semibold"],[1,"ml-2","text-sm","font-medium"],["class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6",4,"ngIf"],[4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-700","text-sm","font-medium"],[1,"border-2","border-dashed","border-gray-300","rounded-xl","p-12","text-center","hover:border-gray-400","transition-colors"],[1,"max-w-md","mx-auto"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["class","text-center",4,"ngIf"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],[1,"text-center"],[1,"text-gray-600","text-sm","mb-4"],["href","/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx","download","",1,"text-blue-600","hover:text-blue-700","font-medium","text-sm","underline"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["type","button",1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-6","py-3","rounded-lg","transition-colors",3,"click"],["type","file","accept",".xlsx,.xls",1,"hidden",3,"change"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-lg","font-medium","text-gray-900","mb-1"],[1,"text-gray-600","text-sm"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-gray-50","rounded-lg","p-6","mb-6","max-w-md","mx-auto"],[1,"text-left","space-y-3"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium","text-gray-900","truncate","ml-4"],[1,"font-medium","text-gray-900"],["class","flex justify-between",4,"ngIf"],["class","bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",4,"ngIf"],[1,"flex","justify-center","space-x-4"],[1,"px-6","py-3","bg-gray-100","hover:bg-gray-200","text-gray-700","font-semibold","rounded-lg","transition-colors",3,"click"],[1,"px-8","py-3","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","rounded-lg","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center",3,"click","disabled"],["class","animate-spin w-5 h-5 mr-2","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4","mt-4"],[1,"font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-800","space-y-1"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-5","h-5","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 004 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"h1",5),m(6,"Smart Asset Import"),c(),a(7,"p",6),m(8,"Import multiple assets efficiently with our guided wizard"),c()(),a(9,"button",7),D(),a(10,"svg",8),y(11,"path",9),c(),m(12," Back to Assets "),c()(),T(),a(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),m(17,"1"),c(),a(18,"span",14),m(19,"Upload File"),c()(),y(20,"div",15),a(21,"div",12)(22,"div",16),m(23,"2"),c(),a(24,"span",17),m(25,"Start Import"),c()()()(),I(26,q_,6,1,"div",18)(27,K_,24,2,"div",19)(28,t2,29,7,"div",19),c()()()),e&2&&(p(20),z("bg-blue-600",n.currentStep>=2),p(2),z("bg-blue-600",n.currentStep>=2)("text-white",n.currentStep>=2)("bg-gray-300",n.currentStep<2)("text-gray-600",n.currentStep<2),p(2),z("text-gray-900",n.currentStep>=2)("text-gray-500",n.currentStep<2),p(2),v("ngIf",n.showError),p(),v("ngIf",n.currentStep===1),p(),v("ngIf",n.currentStep===2))},dependencies:[je,Ie,Mi,ze],encapsulation:2})};var i2=[{path:"list",component:Ii},{path:"create",component:ds},{path:"import",component:Ki},{path:"preview/:id",component:Xi},{path:":id/edit",component:Qi}],Qs=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Vn({type:i});static \u0275inj=In({imports:[Vt.forChild(i2),Vt]})};var pc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Vn({type:i});static \u0275inj=In({imports:[je,Qs,Ii,Xi,Qi,Li,Ki,Wo]})};export{pc as AssetsModule};
