import{a as jo,b as zo}from"./chunk-7ZMCP2CW.js";import{a as Wo}from"./chunk-W3O72HQC.js";import{a as No,b as Yn,c as Bo}from"./chunk-F2B4NMWL.js";import"./chunk-FK6H3RFT.js";import{a as at}from"./chunk-2UNPP24U.js";import"./chunk-ICRAHNZP.js";import"./chunk-GGQ7LRWG.js";import{c as It,d as Ge,f as Ae,g as Ue}from"./chunk-C5P3YSZX.js";import{a as Oo,b as Qe,c as pt,d as Ke,e as Gt,f as Rn,g as ot,h as Ut,i as Hn,j as Nn,k as Bn,n as jn,o as Fo,p as Ro,q as Ho,r as zn,s as Wn,t as Si,u as $n,v as Gn,w as Je,x as Un}from"./chunk-NCT72HTT.js";import{c as Ci,e as yt,f as Fn,i as Tt}from"./chunk-CJRDFAIW.js";import"./chunk-JVPHCODG.js";import{b as Lo}from"./chunk-U3BZGTLI.js";import{$a as z,Ab as me,Bb as pe,Ca as Se,Cb as he,Ea as wi,Eb as In,Fa as p,Fb as ai,Hb as qe,Ib as To,Ja as ue,Jb as li,Kb as ci,Lb as Io,O as ce,Oa as Fe,Pa as An,Pb as Po,Sa as T,T as En,Ya as Dn,Za as v,_a as Ee,ab as $e,ba as Ao,ca as k,cc as Pn,da as E,ea as A,ec as Vn,f as $t,fa as I,fc as bt,gb as a,gc as He,hb as c,ib as w,ic as Ln,jb as Qs,jc as Vo,kb as Ks,la as mt,lb as H,lc as On,mb as D,mc as Xe,nb as _,rb as _t,sb as xt,tb as vt,ub as Tn,vb as m,wb as F,xb as W,yb as Re,zb as Do}from"./chunk-KOPF5GMC.js";import{a as bi,b as yi,e as Eo}from"./chunk-EQDQRRRY.js";function Rc(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_(2);p(),Re("Archive ",e.selectedCount," Asset",e.selectedCount!==1?"s":"","")}}function Hc(i,t){i&1&&(a(0,"span",28),A(),a(1,"svg",29),w(2,"circle",30)(3,"path",31),c(),I(),a(4,"span"),m(5,"Archiving..."),c()())}function Nc(i,t){if(i&1){let e=H();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),A(),a(5,"svg",6),w(6,"path",7),c()(),I(),a(7,"h2",8),m(8,"Archive Selected Assets"),c()(),a(9,"button",9),D("click",function(){k(e);let s=_();return E(s.onCancel())}),A(),a(10,"svg",10),w(11,"path",11),c()()(),I(),a(12,"div",12)(13,"div",13)(14,"label",14),m(15,"Archive Reason (Optional)"),c(),a(16,"textarea",15),he("ngModelChange",function(s){k(e);let r=_();return pe(r.archiveReason,s)||(r.archiveReason=s),E(s)}),c(),a(17,"p",16),m(18,"This will be recorded in the audit trail"),c()(),a(19,"div",17)(20,"div",18),A(),a(21,"svg",19),w(22,"path",7),c()()(),I(),a(23,"div",20)(24,"h3",21),m(25),c(),a(26,"p",22),m(27," This will change their status to inactive but keep all data intact. "),c()(),a(28,"div",23)(29,"button",24),D("click",function(){k(e);let s=_();return E(s.onCancel())}),m(30," Cancel "),c(),a(31,"button",25),D("click",function(){k(e);let s=_();return E(s.onConfirm())}),T(32,Rc,2,2,"span",26)(33,Hc,6,0,"span",27),c()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(),v("@modalAnimation",void 0),p(8),v("disabled",e.loading),p(7),me("ngModel",e.archiveReason),p(9),Re("Are you sure you want to archive ",e.selectedCount," asset",e.selectedCount!==1?"s":"","?"),p(4),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var qn=class i{isOpen=!1;selectedCount=0;closeModal=new mt;confirmArchive=new mt;loading=!1;archiveReason="";onConfirm(){this.loading=!0,this.confirmArchive.emit(this.archiveReason),setTimeout(()=>{this.loading=!1,this.archiveReason=""},2e3)}onCancel(){this.loading||(this.archiveReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Fe({type:i,selectors:[["app-archive-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount"},outputs:{closeModal:"closeModal",confirmArchive:"confirmArchive"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3","placeholder","Enter reason for archiving these assets...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-orange-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","justify-center","mb-4"],[1,"w-16","h-16","bg-orange-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-orange-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-orange-600","text-white","font-medium","rounded-lg","hover:bg-orange-700","focus:outline-none","focus:ring-2","focus:ring-orange-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&T(0,Nc,34,10,"div",0),e&2&&v("ngIf",n.isOpen)},dependencies:[Xe,He,Je,Qe,Ke,ot],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.warning-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[It("backdropAnimation",[Ue(":enter",[Ae({opacity:0}),Ge("150ms ease-out",Ae({opacity:1}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0}))])]),It("modalAnimation",[Ue(":enter",[Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Ge("200ms ease-out",Ae({opacity:1,transform:"scale(1) translateY(0)"}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};function Bc(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_(2);p(),Re(" Restore ",e.selectedCount," Asset",e.selectedCount!==1?"s":""," ")}}function jc(i,t){i&1&&(a(0,"span",24),A(),a(1,"svg",33),w(2,"circle",34)(3,"path",35),c(),I(),a(4,"span"),m(5,"Restoring..."),c()())}function zc(i,t){if(i&1){let e=H();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),A(),a(5,"svg",6),w(6,"path",7),c()(),I(),a(7,"h2",8),m(8),c()(),a(9,"button",9),D("click",function(){k(e);let s=_();return E(s.onCancel())}),A(),a(10,"svg",10),w(11,"path",11),c()()(),I(),a(12,"div",12)(13,"div",13)(14,"div",14),A(),a(15,"svg",15),w(16,"path",7),c()()(),I(),a(17,"div",16)(18,"h3",17),m(19),c(),a(20,"p",18),m(21),c()(),a(22,"div",19)(23,"label",20),m(24,"Restore Reason (Optional)"),c(),a(25,"textarea",21),he("ngModelChange",function(s){k(e);let r=_();return pe(r.restoreReason,s)||(r.restoreReason=s),E(s)}),c(),a(26,"p",22),m(27,"This will be recorded in the audit trail"),c()(),a(28,"div",23)(29,"div",24),A(),a(30,"svg",25),w(31,"path",26),c(),I(),a(32,"p",27),m(33," Assets will be restored to active status "),c()()(),a(34,"div",28)(35,"button",29),D("click",function(){k(e);let s=_();return E(s.onCancel())}),m(36," Cancel "),c(),a(37,"button",30),D("click",function(){k(e);let s=_();return E(s.onConfirm())}),T(38,Bc,2,2,"span",31)(39,jc,6,0,"span",32),c()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(),v("@modalAnimation",void 0),p(7),W(" ",e.selectedCount>1?"Restore Selected Assets":"Restore Asset"," "),p(),v("disabled",e.loading),p(10),W(" Are you sure you want to restore ",e.selectedCount>1?e.selectedCount+" assets":e.assetName||"1 asset","? "),p(2),W(" ",e.selectedCount>1?"These assets will be moved back to active status and become available in searches.":"This asset will be moved back to active status and become available in searches."," "),p(4),me("ngModel",e.restoreReason),v("placeholder","Enter reason for restoring "+(e.selectedCount>1?"these assets":"this asset")+"..."),p(10),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var Xn=class i{isOpen=!1;selectedCount=0;assetName="";closeModal=new mt;confirmRestore=new mt;loading=!1;restoreReason="";onConfirm(){this.loading=!0,this.confirmRestore.emit(this.restoreReason),setTimeout(()=>{this.loading=!1,this.restoreReason=""},2e3)}onCancel(){this.loading||(this.restoreReason="",this.closeModal.emit())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Fe({type:i,selectors:[["app-restore-confirmation-modal"]],inputs:{isOpen:"isOpen",selectedCount:"selectedCount",assetName:"assetName"},outputs:{closeModal:"closeModal",confirmRestore:"confirmRestore"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"flex","justify-center","mb-6"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],[1,"text-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","mb-4"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent","resize-none","placeholder-gray-400",3,"ngModelChange","ngModel","placeholder"],[1,"text-xs","text-gray-500","mt-1"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-3","mb-6"],[1,"flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-800","text-sm","font-medium"],[1,"flex","items-center","justify-end","space-x-3"],[1,"px-6","py-2","text-gray-600","hover:text-gray-800","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-green-600","text-white","font-medium","rounded-lg","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&T(0,zc,40,12,"div",0),e&2&&v("ngIf",n.isOpen)},dependencies:[Xe,He,Je,Qe,Ke,ot],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.success-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{margin:1rem;max-height:calc(100vh - 2rem)}}"],data:{animation:[It("backdropAnimation",[Ue(":enter",[Ae({opacity:0}),Ge("150ms ease-out",Ae({opacity:1}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0}))])]),It("modalAnimation",[Ue(":enter",[Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Ge("200ms ease-out",Ae({opacity:1,transform:"scale(1) translateY(0)"}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};var $o=Eo(No());var Go=i=>({"bg-blue-100":i}),$c=i=>({"bg-blue-100 font-semibold":i});function Gc(i,t){i&1&&(A(),w(0,"path",105))}function Uc(i,t){i&1&&(A(),w(0,"path",106))}function Yc(i,t){i&1&&(A(),a(0,"svg",87),w(1,"path",92),c())}function qc(i,t){i&1&&(A(),a(0,"svg",107),w(1,"circle",108)(2,"path",109),c())}function Xc(i,t){if(i&1){let e=H();a(0,"div",85)(1,"button",86),A(),a(2,"svg",87),w(3,"path",88),c(),I(),a(4,"span"),m(5,"Analytics"),c()(),a(6,"button",89),D("click",function(){k(e);let s=_();return E(s.toggleArchivedView())}),A(),a(7,"svg",87),T(8,Gc,1,0,"path",90)(9,Uc,1,0,"path",91),c(),I(),a(10,"span"),m(11),c()(),a(12,"button",89),D("click",function(){k(e);let s=_();return E(s.exportToPdf())}),A(),a(13,"svg",87),w(14,"path",92),c(),I(),a(15,"span"),m(16,"Export Assets to PDF"),c()(),a(17,"button",93),D("click",function(){k(e);let s=_();return E(s.exportToExcel())}),T(18,Yc,2,0,"svg",94)(19,qc,3,0,"svg",95),a(20,"span"),m(21),c()(),a(22,"button",96),A(),a(23,"svg",87),w(24,"path",97),c(),I(),a(25,"span"),m(26,"Smart Import"),c()(),w(27,"div",98),a(28,"button",99),A(),a(29,"svg",100),w(30,"path",101),c(),I(),a(31,"span"),m(32,"Archive Selected"),c()(),a(33,"button",102),A(),a(34,"svg",103),w(35,"path",104),c(),I(),a(36,"span"),m(37,"Delete Selected"),c()()()}if(i&2){let e=_();p(8),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(2),F(e.showingArchived?"View Active Assets":"View Archived Assets"),p(6),v("disabled",e.exportingExcel),p(),v("ngIf",!e.exportingExcel),p(),v("ngIf",e.exportingExcel),p(2),F(e.exportingExcel?"Exporting to Excel...":"Export Assets to Excel")}}function Qc(i,t){i&1&&(a(0,"span",110),m(1,"Select asset type"),c())}function Kc(i,t){if(i&1&&(Qs(0),w(1,"img",112),Ks()),i&2){let e=_(2);p(),v("src",e.selectedAssetType.icon,Se)}}function Jc(i,t){if(i&1&&(a(0,"div",111),T(1,Kc,2,1,"ng-container",60),a(2,"span"),m(3),c()()),i&2){let e=_();p(),v("ngIf",e.selectedAssetType.icon),p(2),F(e.selectedAssetType.label)}}function Zc(i,t){if(i&1&&(Qs(0),w(1,"img",117),Ks()),i&2){let e=_().$implicit;p(),v("src",e.icon,Se)}}function ed(i,t){if(i&1){let e=H();a(0,"div",116),D("click",function(){let s=k(e).$implicit,r=_(2);return r.selectAssetType(s),E(r.showAssetTypeDropdown=!1)}),T(1,Zc,2,1,"ng-container",60),a(2,"span"),m(3),c()()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",ai(3,Go,(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)),p(),v("ngIf",e.icon),p(2),F(e.label)}}function td(i,t){if(i&1&&(a(0,"div",113)(1,"div",114),m(2,"Select Asset Type"),c(),T(3,ed,4,5,"div",115),c()),i&2){let e=_();p(3),v("ngForOf",e.assetTypes)}}function id(i,t){i&1&&(a(0,"span",110),m(1,"Select asset status"),c())}function nd(i,t){if(i&1&&w(0,"span",119),i&2){let e=_(2);Ee("background",e.selectedAssetStatus.color)}}function sd(i,t){if(i&1&&(a(0,"div",111),T(1,nd,1,2,"span",118),a(2,"span"),m(3),c()()),i&2){let e=_();p(),v("ngIf",e.selectedAssetStatus.color),p(2),F(e.selectedAssetStatus.label)}}function rd(i,t){if(i&1&&w(0,"span",119),i&2){let e=_().$implicit;Ee("background",e.color)}}function od(i,t){if(i&1){let e=H();a(0,"div",116),D("click",function(){let s=k(e).$implicit,r=_(2);return r.selectAssetStatus(s),E(r.showAssetStatusDropdown=!1)}),T(1,rd,1,2,"span",118),a(2,"span"),m(3),c()()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",ai(3,Go,(n.selectedAssetStatus==null?null:n.selectedAssetStatus.id)===e.id)),p(),v("ngIf",e.color),p(2),F(e.label)}}function ad(i,t){if(i&1&&(a(0,"div",113)(1,"div",114),m(2,"Select Asset Status"),c(),T(3,od,4,5,"div",115),c()),i&2){let e=_();p(3),v("ngForOf",e.assetStatuses)}}function ld(i,t){i&1&&(a(0,"span",110),m(1,"Sort By"),c())}function cd(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_();p(),F(e.selectedSort.label)}}function dd(i,t){if(i&1){let e=H();a(0,"div",122),D("click",function(){let s=k(e).$implicit,r=_(2);return r.selectSort(s),E(r.showSortDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(2);v("ngClass",ai(2,$c,(n.selectedSort==null?null:n.selectedSort.value)===e.value)),p(),W(" ",e.label," ")}}function ud(i,t){if(i&1&&(a(0,"div",120)(1,"div",114),m(2,"Sort By"),c(),T(3,dd,2,4,"div",121),c()),i&2){let e=_();p(3),v("ngForOf",e.sortOptions)}}function md(i,t){i&1&&(A(),a(0,"svg",123),w(1,"path",124),c())}function pd(i,t){i&1&&(A(),a(0,"svg",123),w(1,"path",125),c())}function hd(i,t){i&1&&(a(0,"div",126)(1,"div",127)(2,"div",128),A(),a(3,"svg",129),w(4,"circle",108)(5,"path",109),c()(),I(),a(6,"h3",130),m(7,"Loading Assets"),c(),a(8,"p",131),m(9,"Please wait while we fetch your assets..."),c()()())}function fd(i,t){if(i&1){let e=H();a(0,"div",126)(1,"div",127)(2,"div",132),A(),a(3,"svg",133),w(4,"path",134),c()(),I(),a(5,"h3",130),m(6,"Error Loading Assets"),c(),a(7,"p",135),m(8),c(),a(9,"button",136),D("click",function(){k(e);let s=_();return E(s.loadAssets())}),m(10," Retry "),c()()()}if(i&2){let e=_();p(8),F(e.error)}}function gd(i,t){if(i&1){let e=H();a(0,"div",137)(1,"button",138),D("click",function(){k(e);let s=_();return E(s.toggleSelectAllAssets())}),w(2,"span",139),c(),a(3,"span",140),m(4),c()()}if(i&2){let e=_();p(4),W("Select all ",e.assetList.length," assets")}}function _d(i,t){if(i&1){let e=H();a(0,"button",156),D("click",function(){k(e);let s=_(2);return E(s.duplicateSelected())}),A(),a(1,"svg",146),w(2,"rect",157)(3,"rect",158),c(),m(4," Duplicate"),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function xd(i,t){if(i&1){let e=H();a(0,"button",159),D("click",function(){k(e);let s=_(2);return E(s.showArchiveModal())}),A(),a(1,"svg",146),w(2,"rect",160)(3,"path",161),c(),m(4," Archive "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function vd(i,t){if(i&1){let e=H();a(0,"button",162),D("click",function(){k(e);let s=_(2);return E(s.showDeleteModal())}),A(),a(1,"svg",146),w(2,"rect",160)(3,"path",163),c(),m(4," Delete "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function bd(i,t){if(i&1){let e=H();a(0,"button",164),D("click",function(){k(e);let s=_(2);return E(s.restoreSelected())}),A(),a(1,"svg",146),w(2,"path",165),c(),m(3," Restore "),c()}if(i&2){let e=_(2);v("disabled",e.selectedCount===0)}}function yd(i,t){if(i&1){let e=H();a(0,"div",141)(1,"div",142)(2,"button",138),D("click",function(){k(e);let s=_();return E(s.toggleSelectAllAssets())}),w(3,"span",143),c(),a(4,"span",144),m(5),c(),a(6,"span",145),A(),a(7,"svg",146),w(8,"path",147),c(),m(9," Selection Mode Active - Click cards to select "),c()(),I(),a(10,"div",111),T(11,_d,5,1,"button",148),a(12,"button",149),D("click",function(){k(e);let s=_();return E(s.generateQRCodeForSelectedAssets())}),A(),a(13,"svg",146),w(14,"path",150),c(),m(15," Generate QR Codes "),c(),T(16,xd,5,1,"button",151)(17,vd,5,1,"button",152)(18,bd,4,1,"button",153),I(),a(19,"button",154),D("click",function(){k(e);let s=_();return E(s.clearSelection())}),a(20,"span",155),m(21,"\xD7"),c(),m(22," Clear"),c()()()}if(i&2){let e=_();p(2),z("bg-blue-100",e.selectedCount===e.assetList.length),p(),z("bg-blue-400",e.selectedCount===e.assetList.length)("bg-white",e.selectedCount!==e.assetList.length),p(2),Re("",e.selectedCount," asset",e.selectedCount>1?"s":""," selected"),p(6),v("ngIf",!e.showingArchived),p(),v("disabled",e.selectedCount===0),p(4),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(),v("ngIf",e.showingArchived)}}function wd(i,t){if(i&1){let e=H();a(0,"div",166)(1,"div",167),A(),a(2,"svg",168),w(3,"path",21),c()(),I(),a(4,"h3",130),m(5,"No Assets Found"),c(),a(6,"p",169),m(7,"Get started by creating your first asset."),c(),a(8,"button",136),D("click",function(){k(e);let s=_();return E(s.goToCreateAsset())}),m(9," Add Asset "),c()()}}function Cd(i,t){i&1&&(a(0,"span",192),m(1,"Active"),c())}function Sd(i,t){if(i&1&&(a(0,"span"),m(1),c()),i&2){let e=_().$implicit,n=_(2);$e("bg-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-100 text-"+n.getStatusColor((e.asset_status==null?null:e.asset_status.name)||e.status||"Active")+"-700 text-xs font-semibold px-3 py-1 rounded-full"),p(),F((e.asset_status==null?null:e.asset_status.name)||e.status)}}function Md(i,t){if(i&1){let e=H();a(0,"button",206),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.viewAsset(s))}),A(),a(1,"svg",207),w(2,"path",208)(3,"path",209),c(),I(),a(4,"span",210),m(5,"View Details"),c()()}}function kd(i,t){if(i&1){let e=H();a(0,"button",206),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.editAsset(s))}),A(),a(1,"svg",207),w(2,"path",211),c(),I(),a(3,"span",210),m(4,"Edit Asset"),c()()}}function Ed(i,t){if(i&1){let e=H();a(0,"button",206),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.duplicateAsset(s))}),A(),a(1,"svg",207),w(2,"path",200),c(),I(),a(3,"span",210),m(4,"Duplicate"),c()()}}function Ad(i,t){if(i&1){let e=H();a(0,"button",212),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.archiveAsset(s))}),A(),a(1,"svg",213),w(2,"path",105),c(),I(),a(3,"span",214),m(4,"Archive"),c()()}}function Dd(i,t){if(i&1){let e=H();a(0,"button",215),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.restoreAsset(s))}),A(),a(1,"svg",216),w(2,"path",165),c(),I(),a(3,"span",217),m(4,"Restore"),c()()}}function Td(i,t){if(i&1){let e=H();a(0,"button",218),D("click",function(){k(e);let s=_(2).$implicit,r=_(2);return E(r.deleteAsset(s))}),A(),a(1,"svg",219),w(2,"path",220),c(),I(),a(3,"span",221),m(4,"Delete Permanently"),c()()}}function Id(i,t){if(i&1){let e=H();a(0,"div",193),T(1,Md,6,0,"button",194)(2,kd,5,0,"button",194)(3,Ed,5,0,"button",194),a(4,"button",195),D("click",function(){k(e);let s=_().$implicit,r=_(2);return E(r.generateQRCodeForAsset(s))}),A(),a(5,"svg",196),w(6,"path",150),c(),I(),a(7,"span",197),m(8,"Generate QR Code"),c()(),a(9,"button",198),D("click",function(){k(e);let s=_().$implicit,r=_(2);return E(r.copyPublicUrl(s))}),A(),a(10,"svg",199),w(11,"path",200),c(),I(),a(12,"span",201),m(13,"Copy Public URL"),c()(),w(14,"div",202),T(15,Ad,5,0,"button",203)(16,Dd,5,0,"button",204)(17,Td,5,0,"button",205),c()}if(i&2){let e=_(3);p(),v("ngIf",!e.showingArchived),p(),v("ngIf",!e.showingArchived),p(),v("ngIf",!e.showingArchived),p(12),v("ngIf",!e.showingArchived),p(),v("ngIf",e.showingArchived),p(),v("ngIf",e.showingArchived)}}function Pd(i,t){if(i&1&&(a(0,"div",222)(1,"span",223),m(2,"Category:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.category.name," ")}}function Vd(i,t){if(i&1&&(a(0,"div",222)(1,"span",223),m(2,"Type:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",(e.asset_type==null?null:e.asset_type.name)||e.type||"General"," ")}}function Ld(i,t){i&1&&(a(0,"span"),m(1," \u2192 "),c())}function Od(i,t){if(i&1&&(a(0,"span"),m(1),T(2,Ld,2,0,"span",60),c()),i&2){let e=t.$implicit,n=t.last;p(),W(" ",e.name,""),p(),v("ngIf",!n)}}function Fd(i,t){if(i&1&&(a(0,"div",224)(1,"span",223),m(2,"Location:"),c(),a(3,"div",225),T(4,Od,3,2,"span",226),c()()),i&2){let e=_().$implicit;p(4),v("ngForOf",e.location_hierarchy)}}function Rd(i,t){if(i&1&&(a(0,"div",224)(1,"span",223),m(2,"Description:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.description," ")}}function Hd(i,t){if(i&1&&(a(0,"div",222)(1,"span",223),m(2,"Manufacturer:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.manufacturer," ")}}function Nd(i,t){if(i&1&&(a(0,"div",222)(1,"span",223),m(2,"Model:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.model," ")}}function Bd(i,t){if(i&1&&(a(0,"div",222)(1,"span",223),m(2,"Capacity:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.capacity," ")}}function jd(i,t){if(i&1){let e=H();a(0,"div",172)(1,"div",173)(2,"div",174)(3,"input",175),he("ngModelChange",function(s){let r=k(e).$implicit;return pe(r.selected,s)||(r.selected=s),E(s)}),c()(),a(4,"div",176),T(5,Cd,2,0,"span",177)(6,Sd,2,3,"span",178),a(7,"div",8),D("click",function(s){return k(e),E(s.stopPropagation())}),a(8,"button",179),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.toggleAssetMenu(s.id))}),A(),a(9,"svg",180),w(10,"circle",181)(11,"circle",182)(12,"circle",183),c()(),T(13,Id,18,6,"div",184),c()(),a(14,"svg",185),w(15,"path",21),c()(),I(),a(16,"div",186)(17,"div")(18,"div",187)(19,"span",188),m(20,"ID:"),c(),m(21),c(),a(22,"div",189),D("click",function(){let s=k(e).$implicit,r=_(2);return E(!r.showingArchived&&r.viewAsset(s))}),m(23),c(),T(24,Pd,4,1,"div",190)(25,Vd,4,1,"div",190)(26,Fd,5,1,"div",191)(27,Rd,4,1,"div",191)(28,Hd,4,1,"div",190)(29,Nd,4,1,"div",190)(30,Bd,4,1,"div",190),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("border-blue-400",e.selected),p(3),me("ngModel",e.selected),p(2),v("ngIf",(e.asset_status==null?null:e.asset_status.name)==="Active"),p(),v("ngIf",(e.asset_status==null?null:e.asset_status.name)!=="Active"),p(7),v("ngIf",e.showMenu),p(8),W(" ",e.asset_id||e.id," "),p(),z("cursor-pointer",!n.showingArchived)("hover:text-blue-600",!n.showingArchived)("cursor-default",n.showingArchived),p(),W(" ",e.name||"Unnamed Asset"," "),p(),v("ngIf",e.category==null?null:e.category.name),p(),v("ngIf",e.type||(e.asset_type==null?null:e.asset_type.name)),p(),v("ngIf",e.location_hierarchy&&e.location_hierarchy.length>0),p(),v("ngIf",e.description),p(),v("ngIf",e.manufacturer),p(),v("ngIf",e.model),p(),v("ngIf",e.capacity)}}function zd(i,t){if(i&1&&(a(0,"div",170),T(1,jd,31,21,"div",171),c()),i&2){let e=_();p(),v("ngForOf",e.assetList)}}function Wd(i,t){i&1&&(a(0,"span"),m(1," \u2192 "),c())}function $d(i,t){if(i&1&&(a(0,"div"),m(1),T(2,Wd,2,0,"span",60),c()),i&2){let e=t.$implicit,n=t.last;p(),W(" ",e.name,""),p(),v("ngIf",!n)}}function Gd(i,t){if(i&1&&(a(0,"div",251),T(1,$d,3,2,"div",226),c()),i&2){let e=_().$implicit;p(),v("ngForOf",e.location_hierarchy)}}function Ud(i,t){i&1&&(a(0,"div",252),m(1," No location "),c())}function Yd(i,t){if(i&1&&(a(0,"div",243),m(1),c()),i&2){let e=_().$implicit;p(),W(" ",e.description," ")}}function qd(i,t){i&1&&(a(0,"div",252),m(1," No description "),c())}function Xd(i,t){if(i&1&&(a(0,"div",243)(1,"span",253),m(2,"MFG:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.manufacturer," ")}}function Qd(i,t){if(i&1&&(a(0,"div",131)(1,"span",253),m(2,"Model:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.model," ")}}function Kd(i,t){if(i&1&&(a(0,"div",131)(1,"span",253),m(2,"Capacity:"),c(),m(3),c()),i&2){let e=_().$implicit;p(3),W(" ",e.capacity," ")}}function Jd(i,t){i&1&&(a(0,"div",252),m(1," No details "),c())}function Zd(i,t){if(i&1){let e=H();a(0,"div",236)(1,"div",237)(2,"div",233)(3,"input",238),he("ngModelChange",function(s){let r=k(e).$implicit;return pe(r.selected,s)||(r.selected=s),E(s)}),c()(),a(4,"div",232)(5,"div",239)(6,"div",240),A(),a(7,"svg",241),w(8,"path",21),c()(),I(),a(9,"div")(10,"div",242),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.viewAsset(s))}),m(11),c(),a(12,"div",131),m(13),c()()()(),a(14,"div",232)(15,"div",243),m(16),c(),a(17,"div",131),m(18),c()(),a(19,"div",232),T(20,Gd,2,1,"div",244)(21,Ud,2,0,"div",245),c(),a(22,"div",232),T(23,Yd,2,1,"div",246)(24,qd,2,0,"div",245),c(),a(25,"div",232),T(26,Xd,4,1,"div",246)(27,Qd,4,1,"div",247)(28,Kd,4,1,"div",247)(29,Jd,2,0,"div",245),c(),a(30,"div",233)(31,"div",111)(32,"button",248),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.viewAsset(s))}),A(),a(33,"svg",123),w(34,"path",208)(35,"path",209),c()(),I(),a(36,"button",249),A(),a(37,"svg",123),w(38,"path",211),c()(),I(),a(39,"button",250),A(),a(40,"svg",123),w(41,"path",220),c()()()()()()}if(i&2){let e=t.$implicit;z("bg-blue-50",e.selected),p(3),me("ngModel",e.selected),p(8),W(" ",e.name||"Unnamed Asset"," "),p(2),F(e.asset_id||"AST-"+e.id),p(3),F((e.category==null?null:e.category.name)||"General"),p(2),F((e.asset_type==null?null:e.asset_type.name)||e.type||"Standard Asset"),p(2),v("ngIf",e.location_hierarchy&&e.location_hierarchy.length>0),p(),v("ngIf",!e.location_hierarchy||e.location_hierarchy.length===0),p(2),v("ngIf",e.description),p(),v("ngIf",!e.description),p(2),v("ngIf",e.manufacturer),p(),v("ngIf",e.model),p(),v("ngIf",e.capacity),p(),v("ngIf",!e.manufacturer&&!e.model&&!e.capacity)}}function e0(i,t){if(i&1){let e=H();a(0,"div",227)(1,"div",228)(2,"div",229)(3,"div",230)(4,"input",231),D("change",function(){k(e);let s=_();return E(s.toggleSelectAllAssets())}),c()(),a(5,"div",232),m(6,"Asset ID & Name"),c(),a(7,"div",232),m(8,"Category & Type"),c(),a(9,"div",232),m(10,"Location"),c(),a(11,"div",232),m(12,"Description"),c(),a(13,"div",232),m(14,"Manufacturer & Model"),c(),a(15,"div",233),m(16,"Actions"),c()()(),a(17,"div",234),T(18,Zd,42,15,"div",235),c()()}if(i&2){let e=_();p(4),v("checked",e.selectedCount===e.assetList.length&&e.assetList.length>0)("indeterminate",e.selectedCount>0&&e.selectedCount<e.assetList.length),p(14),v("ngForOf",e.assetList)}}function t0(i,t){if(i&1){let e=H();a(0,"app-pagination",254),D("pageChange",function(s){k(e);let r=_();return E(r.onPageChange(s))})("perPageChange",function(s){k(e);let r=_();return E(r.onPerPageChange(s))}),c()}if(i&2){let e=_();v("pagination",e.pagination)}}var ki=class i{constructor(t,e,n){this.router=t;this.assetService=e;this.pdfExportService=n}destroy$=new $t;summary={totalAssets:0,activeAssets:0,maintenance:0,totalValue:0,assetHealth:0};loading=!1;exportingExcel=!1;error="";showMenu=!1;showTypeDropdown=!1;showStatusDropdown=!1;showSortDropdown=!1;showSortDirDropdown=!1;showArchiveConfirmationModal=!1;showDeleteConfirmationModal=!1;showRestoreConfirmationModal=!1;selectedAssetForRestore=null;showingArchived=!1;typeOptions=[{value:"",label:"All Types"},{value:"fixed",label:"Fixed Asset"},{value:"semi-fixed",label:"Semi-Fixed Asset"},{value:"mobile",label:"Mobile Asset"},{value:"fleet",label:"Fleet Asset"}];statusOptions=[{value:"",label:"All Status"},{value:"Active",label:"Active"},{value:"Maintenance",label:"Maintenance"},{value:"Inactive",label:"Inactive"},{value:"Retired",label:"Retired"}];sortOptions=[{value:"name",label:"Name"},{value:"created_at",label:"Date Added"},{value:"status",label:"Status"},{value:"manufacturer",label:"Manufacturer"},{value:"purchase_price",label:"Cost"}];selectedType=this.typeOptions[0];selectedStatus=this.statusOptions[0];selectedSort=this.sortOptions[0];selectedSortDir="desc";viewType="grid";searchQuery="";currentFilters={search:"",type:"",status:"",category_id:"",location_id:"",sort_by:"name",sort_direction:"desc",page:1,per_page:20,archived:!1};assetList=[];categories=[];locations=[];assetTypes=[];showAssetTypeDropdown=!1;selectedAssetType=null;assetStatuses=[];showAssetStatusDropdown=!1;selectedAssetStatus=null;openAssetMenuId=null;pagination={current_page:1,last_page:1,per_page:20,total:0,from:0,to:0};selectAllAssets=!1;ngOnInit(){this.loadAssetStatistics(),this.loadAssets(),this.loadCategories(),this.loadLocations(),this.assetService.getAssetTypes().subscribe(t=>{t.success&&t.data&&(this.assetTypes=[{id:"",name:"All Types",label:"All Types",icon:null},...t.data.map(e=>({id:e.id,name:e.name,label:e.name,icon:e.icon||null}))],this.selectedAssetType=this.assetTypes[0])}),this.assetService.getAssetStatuses().subscribe(t=>{t.success&&t.data&&(this.assetStatuses=[{id:"",name:"All Statuses",label:"All Statuses",color:null},...t.data.map(e=>({id:e.id,name:e.name,label:e.name,color:e.color||null}))],this.selectedAssetStatus=this.assetStatuses[0])})}loadAssetStatistics(){this.assetService.getAssetStatistics().pipe(ce(this.destroy$)).subscribe({next:t=>{if(t.success&&t.data){let e=t.data;this.summary={totalAssets:e.total_assets||0,activeAssets:e.active_assets||0,maintenance:e.maintenance||0,totalValue:e.total_asset_value||0,assetHealth:e.total_asset_health&&e.total_assets?Math.round(e.total_asset_health/e.total_assets):100}}},error:t=>{console.error("Error loading asset statistics:",t)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAssets(){this.loading=!0,this.error="";let t={};this.currentFilters.search&&(t.search=this.currentFilters.search),this.currentFilters.type&&(t.type=this.currentFilters.type),this.currentFilters.status&&(t.status=this.currentFilters.status),this.currentFilters.category_id&&(t.category_id=this.currentFilters.category_id),this.currentFilters.location_id&&(t.location_id=this.currentFilters.location_id),this.currentFilters.sort_by&&(t.sort_by=this.currentFilters.sort_by),this.currentFilters.sort_direction&&(t.sort_direction=this.currentFilters.sort_direction),t.archived=this.currentFilters.archived,t.page=this.currentFilters.page,t.per_page=this.currentFilters.per_page,this.assetService.getAssets(t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success?(this.assetList=(e.data.assets||e.data).map(n=>yi(bi({},n),{selected:!1,showMenu:!1})),e.data.pagination&&(this.pagination=e.data.pagination)):this.error=e.message||"Failed to load assets",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading assets",this.loading=!1}})}loadCategories(){this.assetService.getAssetCategories().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&(this.categories=t.data.categories)},error:t=>{console.error("Error loading categories:",t)}})}loadLocations(){this.assetService.getLocations().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&(this.locations=t.data.locations||t.data)},error:t=>{console.error("Error loading locations:",t)}})}onSearch(){this.currentFilters.search=this.searchQuery,this.currentFilters.page=1,this.loadAssets()}applyFilters(){this.currentFilters.page=1,this.loadAssets()}get selectedCount(){return this.assetList.filter(t=>t.selected).length}toggleSelectAllAssets(){let t=this.selectedCount===this.assetList.length;this.assetList.forEach(e=>e.selected=!t),this.selectAllAssets=!t}selectType(t){let e=this.typeOptions.find(n=>n.value===t);e&&(this.selectedType=e,this.currentFilters.type=e.value),this.showTypeDropdown=!1,this.applyFilters()}selectStatus(t){let e=this.statusOptions.find(n=>n.value===t);e&&(this.selectedStatus=e,this.currentFilters.status=e.value),this.showStatusDropdown=!1,this.applyFilters()}selectSort(t){let e=this.sortOptions.find(n=>n.value===t);e&&(this.selectedSort=e,this.currentFilters.sort_by=e.value),this.showSortDropdown=!1,this.applyFilters()}selectSortDir(t){this.selectedSortDir=t,this.currentFilters.sort_direction=t,this.showSortDirDropdown=!1,this.applyFilters()}toggleSortDir(){this.selectedSortDir=this.selectedSortDir==="asc"?"desc":"asc",this.currentFilters.sort_direction=this.selectedSortDir,this.applyFilters()}duplicateSelected(){let t=this.assetList.filter(n=>n.selected);if(t.length===0)return;let e=t[0];this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:e.id}}),this.clearSelection()}generateSerialNumber(){let t=Date.now().toString(),e=Math.random().toString(36).substring(2,8).toUpperCase();return`SN${t.slice(-6)}${e}`}clearSelection(){this.assetList.forEach(t=>t.selected=!1),this.selectAllAssets=!1}showArchiveModal(){this.selectedCount>0&&(this.showArchiveConfirmationModal=!0)}closeArchiveModal(){this.showArchiveConfirmationModal=!1}showDeleteModal(){this.selectedCount>0&&(this.showDeleteConfirmationModal=!0)}closeDeleteModal(){this.showDeleteConfirmationModal=!1}closeRestoreModal(){this.showRestoreConfirmationModal=!1,this.selectedAssetForRestore=null}restoreSelectedAsset(t){if(this.assetList.filter(n=>n.selected).length>1)this.restoreBulkAssets(t);else if(this.selectedAssetForRestore){let n={};t&&t.trim()&&(n.restore_reason=t.trim()),this.assetService.restoreAsset(this.selectedAssetForRestore.id,n).pipe(ce(this.destroy$)).subscribe({next:s=>{s.success?(this.loadAssets(),this.loadAssetStatistics(),console.log("Asset restored successfully")):this.error=s.message||"Failed to restore asset",this.closeRestoreModal()},error:s=>{this.error=s.error?.message||"An error occurred while restoring the asset",this.closeRestoreModal()}})}else this.closeRestoreModal()}deleteSelected(t){let e=this.assetList.filter(r=>r.selected);if(e.length===0){this.closeDeleteModal();return}let s={asset_ids:e.map(r=>r.id)};t&&t.trim()&&(s.deletion_reason=t.trim()),this.assetService.bulkDeleteAssets(s).pipe(ce(this.destroy$)).subscribe({next:r=>{if(r.success){if(r.failed&&r.failed.length>0){let o=r.failed.length,l=r.deleted?r.deleted.length:0;this.error=`${l} assets deleted successfully, ${o} failed to delete`}else{let o=r.deleted?r.deleted.length:e.length;console.log(`${o} assets deleted successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=r.message||"Failed to delete assets";this.closeDeleteModal()},error:r=>{this.error=r.error?.message||"An error occurred while deleting assets",this.closeDeleteModal()}})}viewAsset(t){this.router.navigate(["/assets/preview",t.id])}archiveSelected(t){let e=this.assetList.filter(r=>r.selected);if(e.length===0){this.closeArchiveModal();return}let s={asset_ids:e.map(r=>r.id)};t&&t.trim()&&(s.archive_reason=t.trim()),this.assetService.bulkArchiveAssets(s).pipe(ce(this.destroy$)).subscribe({next:r=>{if(r.success){if(r.failed&&r.failed.length>0){let o=r.failed.length,l=r.archived?r.archived.length:0;this.error=`${l} assets archived successfully, ${o} failed to archive`}else{let o=r.archived?r.archived.length:e.length;console.log(`${o} assets archived successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=r.message||"Failed to archive assets";this.closeArchiveModal()},error:r=>{this.error=r.error?.message||"An error occurred while archiving assets",this.closeArchiveModal()}})}toggleTypeDropdown(){this.showTypeDropdown=!this.showTypeDropdown,this.showStatusDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showTypeDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}toggleSortDropdown(){this.showSortDropdown=!this.showSortDropdown,this.showTypeDropdown=!1,this.showStatusDropdown=!1,this.showSortDirDropdown=!1}toggleArchivedView(){this.showingArchived=!this.showingArchived,this.currentFilters.archived=this.showingArchived,this.currentFilters.page=1,this.clearSelection(),this.loadAssets(),this.showMenu=!1}goToCreateAsset(){this.router.navigate(["assets/create"])}exportToPdf(){if(this.assetList.length>0){let t=this.showingArchived?"Archived Assets Export Report":"Asset Export Report";this.pdfExportService.exportAssetsToPdf(this.assetList,t),this.showMenu=!1}else console.log("No assets to export")}exportToExcel(){this.assetList.length>0?(this.exportingExcel=!0,this.assetService.exportAssetsToExcel(this.showingArchived).subscribe({next:t=>{let e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e;let s=this.showingArchived?"archived-assets-export.xlsx":"assets-export.xlsx";n.download=s,n.click(),window.URL.revokeObjectURL(e),this.exportingExcel=!1,this.showMenu=!1},error:t=>{console.error("Error exporting to Excel:",t),this.exportingExcel=!1}})):console.log("No assets to export")}getStatusColor(t){return{Active:"green",Maintenance:"orange",Inactive:"gray",Retired:"red"}[t]||"gray"}toggleAssetMenu(t){this.assetList.forEach(n=>{n.id!==t&&(n.showMenu=!1)});let e=this.assetList.find(n=>n.id===t);e&&(e.showMenu=!e.showMenu)}editAsset(t){this.router.navigate(["/assets",t.id,"edit"]),t.showMenu=!1}duplicateAsset(t){this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:t.id}}),t.showMenu=!1}archiveAsset(t){this.assetList.forEach(e=>e.selected=!1),t.selected=!0,this.showArchiveConfirmationModal=!0,t.showMenu=!1}deleteAsset(t){this.assetList.forEach(e=>e.selected=!1),t.selected=!0,this.showDeleteConfirmationModal=!0,t.showMenu=!1}restoreSelected(){this.assetList.filter(e=>e.selected).length!==0&&(this.showRestoreConfirmationModal=!0)}restoreBulkAssets(t){let e=this.assetList.filter(s=>s.selected);if(e.length===0){this.closeRestoreModal();return}let n=e.map(s=>s.id);this.assetService.bulkRestoreAssets(n,t).pipe(ce(this.destroy$)).subscribe({next:s=>{if(s.success){if(s.failed&&s.failed.length>0){let r=s.failed.length,o=s.restored?s.restored.length:0;this.error=`${o} assets restored successfully, ${r} failed to restore`}else{let r=s.restored?s.restored.length:e.length;console.log(`${r} assets restored successfully`)}this.loadAssets(),this.loadAssetStatistics(),this.clearSelection()}else this.error=s.message||"Failed to restore assets";this.closeRestoreModal()},error:s=>{this.error=s.error?.message||"An error occurred while restoring assets",this.closeRestoreModal()}})}restoreAsset(t){this.selectedAssetForRestore=t,this.showRestoreConfirmationModal=!0,t.showMenu=!1}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showStatusDropdown=!1,this.showSortDropdown=!1,this.showSortDirDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.currentFilters.type=t.id,this.showAssetTypeDropdown=!1,this.applyFilters()}toggleAssetStatusDropdown(){this.showAssetStatusDropdown=!this.showAssetStatusDropdown}selectAssetStatus(t){this.selectedAssetStatus=t,this.currentFilters.status=t.id,this.showAssetStatusDropdown=!1,this.applyFilters()}onDocumentClick(t){t.target.closest(".menu-container")||(this.showMenu=!1)}generateQRCodeForAsset(t){let e=`${window.location.origin}/public/asset/${t.id}`;$o.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(n=>{let s=document.createElement("a");s.href=n,s.download=`asset-${t.id}-qr.png`,s.click()}).catch(n=>{console.error("Error generating QR code:",n)})}generateQRCodeForSelectedAssets(){let t=this.assetList.filter(e=>e.selected);if(t.length===0){console.log("No assets selected");return}t.forEach(e=>{this.generateQRCodeForAsset(e)})}copyPublicUrl(t){let e=`${window.location.origin}/public/asset/${t.id}`;navigator.clipboard.writeText(e).then(()=>{console.log("Public URL copied to clipboard")})}onPageChange(t){this.currentFilters.page=t,this.loadAssets()}onPerPageChange(t){this.currentFilters.per_page=t,this.currentFilters.page=1,this.loadAssets()}static \u0275fac=function(e){return new(e||i)(ue(yt),ue(at),ue(Yn))};static \u0275cmp=Fe({type:i,selectors:[["app-asset-list"]],hostBindings:function(e,n){e&1&&D("click",function(r){return n.onDocumentClick(r)},!1,wi)},decls:133,vars:61,consts:[[1,"asset-list-page","min-h-screen","bg-gray-50","p-6"],[1,"mb-6","flex","flex-col","md:flex-row","md:items-center","md:justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","text-base"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"relative",3,"click"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-lg","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],["cx","12","cy","5","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","19","r","2"],["class","absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-5","gap-4","mb-8"],[1,"rounded-xl","bg-blue-50","border","border-blue-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-base","font-medium","text-gray-700"],[1,"w-10","h-10","bg-blue-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-3xl","font-bold","text-gray-900"],["href","#",1,"text-sm","text-blue-600","font-medium","mt-1"],[1,"rounded-xl","bg-green-50","border","border-green-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-green-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-400"],["cx","12","cy","12","r","8","stroke","currentColor","stroke-width","2","fill","none"],["cx","12","cy","12","r","4","fill","currentColor",1,"text-green-400"],[1,"text-sm","text-green-600","font-medium","mt-1"],[1,"rounded-xl","bg-orange-50","border","border-orange-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-orange-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"],[1,"text-sm","text-orange-600","font-medium","mt-1"],[1,"rounded-xl","bg-purple-50","border","border-purple-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-purple-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"text-sm","text-purple-600","font-medium","mt-1"],[1,"rounded-xl","bg-cyan-50","border","border-cyan-100","p-6","flex","flex-col","justify-between","shadow-sm","transition-all","hover:shadow-md"],[1,"w-10","h-10","bg-cyan-100","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-cyan-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"],[1,"text-sm","text-cyan-600","font-medium","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-6"],[1,"flex-1","flex","flex-col","space-y-3","md:space-y-0","md:flex-row","md:items-center","md:space-x-3"],[1,"relative","w-full","md:w-80"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search assets by name, location, or ID...",1,"w-full","pl-10","pr-4","py-2","border-2","border-blue-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","placeholder-gray-400",3,"ngModelChange","input","ngModel"],["type","button",1,"w-full","px-4","py-2","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all","min-w-[220px]",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[220px] w-full",4,"ngIf"],[1,"relative","ml-2",3,"click"],["type","button",1,"w-full","px-4","py-2","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all","min-w-[180px]",3,"click"],[4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","transition-transform","ml-2"],["class","absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[180px] w-full",4,"ngIf"],[1,"relative"],[1,"px-4","py-2","bg-gray-100","rounded-lg","text-gray-700","flex","items-center","space-x-2","min-w-[70px]","cursor-pointer",3,"click"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex","items-center","space-x-2","mt-4","md:mt-0"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-lg","border","border-gray-200","hover:bg-blue-50","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["x","4","y","4","width","7","height","7","rx","2"],["x","13","y","4","width","7","height","7","rx","2"],["x","4","y","13","width","7","height","7","rx","2"],["x","13","y","13","width","7","height","7","rx","2"],["x","4","y","6","width","16","height","4","rx","2"],["x","4","y","14","width","16","height","4","rx","2"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center",4,"ngIf"],["class","w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between",4,"ngIf"],["class","text-center py-20",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",4,"ngIf"],[3,"pagination","pageChange","perPageChange",4,"ngIf"],[3,"closeModal","confirmArchive","isOpen","selectedCount"],[3,"closeModal","confirmDelete","isOpen","selectedCount"],[3,"closeModal","confirmRestore","isOpen","selectedCount","assetName"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-xl","shadow-lg","border","border-gray-200","py-2","z-50"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 text-gray-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","animate-spin w-5 h-5 text-gray-500","fill","none","viewBox","0 0 24 24",4,"ngIf"],["routerLink","/assets/import",1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-50","text-left","transition-colors","cursor-pointer"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"border-t","border-gray-100","my-2"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-orange-50","text-left","transition-colors","cursor-pointer","text-orange-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","hover:bg-red-50","text-left","transition-colors","cursor-pointer","text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-5","h-5","text-gray-500"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["alt","icon",1,"w-5","h-5",3,"src"],[1,"absolute","z-10","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-72","overflow-y-auto","min-w-[220px]","w-full"],[1,"px-4","py-2","text-xs","text-gray-400","font-semibold","uppercase","tracking-wider"],["class","flex items-center px-4 py-2 cursor-pointer hover:bg-blue-50",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","items-center","px-4","py-2","cursor-pointer","hover:bg-blue-50",3,"click","ngClass"],["alt","icon",1,"w-5","h-5","mr-2",3,"src"],["class","inline-block w-3 h-3 rounded-full mr-2",3,"background",4,"ngIf"],[1,"inline-block","w-3","h-3","rounded-full","mr-2"],[1,"absolute","z-10","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-72","overflow-y-auto","min-w-[180px]","w-full"],["class","px-4 py-2 cursor-pointer hover:bg-blue-50",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-2","cursor-pointer","hover:bg-blue-50",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 17l-4 4m0 0l-4-4m4 4V3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7l4-4m0 0l4 4m-4-4v18"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center"],["type","button",1,"focus:outline-none","inline-flex","items-center","justify-center","w-6","h-6","rounded-full","border-2","border-blue-400","mr-3","transition-colors",3,"click"],[1,"w-3","h-3","rounded-full","block","bg-white","transition-colors"],[1,"font-semibold","text-gray-900"],[1,"w-full","bg-white","rounded-xl","border","border-gray-200","px-6","py-3","mb-4","flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-3","h-3","rounded-full","block","transition-colors"],[1,"font-bold","text-gray-900"],[1,"bg-blue-50","text-blue-600","px-3","py-1","rounded-full","text-sm","flex","items-center","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7"],["class","bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"bg-purple-50","text-purple-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"],["class","bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],["class","bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],["class","bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"bg-transparent","text-gray-700","font-semibold","px-2","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer",3,"click"],[1,"text-xl"],[1,"bg-gray-50","text-gray-700","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","border","border-gray-200","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["x","8","y","8","width","8","height","8","rx","2","stroke-width","2"],["x","4","y","4","width","8","height","8","rx","2","stroke-width","2"],[1,"bg-orange-50","text-orange-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["x","4","y","4","width","16","height","16","rx","2","stroke-width","2"],["d","M8 12h8","stroke-width","2"],[1,"bg-red-50","text-red-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["d","M8 8l8 8M8 16l8-8","stroke-width","2"],[1,"bg-green-50","text-green-600","font-semibold","px-4","py-2","rounded-lg","flex","items-center","space-x-2","cursor-pointer","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","py-20"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-gray-600","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","mt-2"],["class","rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden",3,"border-blue-400",4,"ngFor","ngForOf"],[1,"rounded-2xl","border","border-blue-200","bg-white","shadow-sm","flex","flex-col","transition-all","hover:shadow-md","overflow-hidden"],[1,"relative","bg-[#e0edff]","h-32","flex","flex-col","items-center","justify-center"],[1,"absolute","left-4","top-4","flex","items-center"],["type","checkbox",1,"asset-card-checkbox",3,"ngModelChange","ngModel"],[1,"absolute","right-4","top-4","flex","items-center","space-x-2"],["class","bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",4,"ngIf"],[3,"class",4,"ngIf"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["cx","12","cy","6","r","1.5"],["cx","12","cy","12","r","1.5"],["cx","12","cy","18","r","1.5"],["class","absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-blue-400"],[1,"flex-1","flex","flex-col","justify-between","p-6","pt-4"],[1,"text-sm","text-gray-500","mb-2"],[1,"font-semibold","text-gray-700"],[1,"font-semibold","text-lg","text-gray-900","mb-2","cursor-pointer","hover:text-blue-600","transition-colors",3,"click"],["class","text-sm text-gray-700 mb-1",4,"ngIf"],["class","text-sm text-gray-700 mb-2",4,"ngIf"],[1,"bg-green-100","text-green-700","text-xs","font-semibold","px-3","py-1","rounded-full"],[1,"absolute","right-0","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-purple-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-500"],[1,"text-sm","text-purple-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-blue-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"text-sm","text-blue-600"],[1,"border-t","border-gray-100","my-1"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-orange-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-500"],[1,"text-sm","text-orange-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-green-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500"],[1,"text-sm","text-green-600"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-left","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-sm","text-red-600"],[1,"text-sm","text-gray-700","mb-1"],[1,"font-medium","text-gray-600"],[1,"text-sm","text-gray-700","mb-2"],[1,"text-xs","text-gray-500","mt-1"],[4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"grid","grid-cols-12","gap-4","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"col-span-1","flex","items-center"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked","indeterminate"],[1,"col-span-2"],[1,"col-span-1"],[1,"divide-y","divide-gray-200"],["class","px-6 py-4 hover:bg-gray-50 transition-colors",3,"bg-blue-50",4,"ngFor","ngForOf"],[1,"px-6","py-4","hover:bg-gray-50","transition-colors"],[1,"grid","grid-cols-12","gap-4","items-center"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],[1,"font-medium","text-gray-900","hover:text-blue-600","cursor-pointer","transition-colors",3,"click"],[1,"text-sm","text-gray-900"],["class","text-sm text-gray-600",4,"ngIf"],["class","text-sm text-gray-400",4,"ngIf"],["class","text-sm text-gray-900",4,"ngIf"],["class","text-sm text-gray-500",4,"ngIf"],[1,"p-1","text-gray-400","hover:text-blue-600","hover:bg-blue-50","rounded","transition-all",3,"click"],[1,"p-1","text-gray-400","hover:text-blue-600","hover:bg-blue-50","rounded","transition-all"],[1,"p-1","text-gray-400","hover:text-red-600","hover:bg-red-50","rounded","transition-all"],[1,"text-sm","text-gray-600"],[1,"text-sm","text-gray-400"],[1,"font-medium"],[3,"pageChange","perPageChange","pagination"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),m(4,"Asset Intelligence Hub"),c(),a(5,"p",3),m(6,"Advanced asset monitoring with AI-powered insights and real-time analytics"),c()(),a(7,"div",4)(8,"button",5),D("click",function(){return n.goToCreateAsset()}),A(),a(9,"svg",6),w(10,"path",7),c(),m(11," Add Asset "),c(),I(),a(12,"div",8),D("click",function(r){return r.stopPropagation()}),a(13,"button",9),D("click",function(){return n.showMenu=!n.showMenu}),A(),a(14,"svg",10),w(15,"circle",11)(16,"circle",12)(17,"circle",13),c()(),T(18,Xc,38,7,"div",14),c()()(),I(),a(19,"div",15)(20,"div",16)(21,"div",17)(22,"span",18),m(23,"Total Assets"),c(),a(24,"span",19),A(),a(25,"svg",20),w(26,"path",21),c()()(),I(),a(27,"div",22),m(28),c(),a(29,"a",23),m(30,"Assets in system"),c()(),a(31,"div",24)(32,"div",17)(33,"span",18),m(34,"Active"),c(),a(35,"span",25),A(),a(36,"svg",26),w(37,"circle",27)(38,"circle",28),c()()(),I(),a(39,"div",22),m(40),c(),a(41,"span",29),m(42,"Operational assets"),c()(),a(43,"div",30)(44,"div",17)(45,"span",18),m(46,"Maintenance"),c(),a(47,"span",31),A(),a(48,"svg",32),w(49,"path",33),c()()(),I(),a(50,"div",22),m(51),c(),a(52,"span",34),m(53,"Under maintenance"),c()(),a(54,"div",35)(55,"div",17)(56,"span",18),m(57,"Total Value"),c(),a(58,"span",36),A(),a(59,"svg",37),w(60,"path",38),c()()(),I(),a(61,"div",22),m(62),qe(63,"currency"),c(),a(64,"span",39),m(65,"Asset portfolio value"),c()(),a(66,"div",40)(67,"div",17)(68,"span",18),m(69,"Asset Health"),c(),a(70,"span",41),A(),a(71,"svg",42),w(72,"path",43),c()()(),I(),a(73,"div",22),m(74),c(),a(75,"span",44),m(76,"Excellent health"),c()()(),a(77,"div",45)(78,"div",46)(79,"div",47),A(),a(80,"svg",48),w(81,"path",49),c(),I(),a(82,"input",50),he("ngModelChange",function(r){return pe(n.searchQuery,r)||(n.searchQuery=r),r}),D("input",function(){return n.onSearch()}),c()(),a(83,"div",8),D("click",function(r){return r.stopPropagation()}),a(84,"button",51),D("click",function(){return n.toggleAssetTypeDropdown()}),a(85,"div",52),T(86,Qc,2,0,"span",53)(87,Jc,4,2,"div",54),A(),a(88,"svg",55),w(89,"path",56),c()()(),T(90,td,4,1,"div",57),c(),I(),a(91,"div",58),D("click",function(r){return r.stopPropagation()}),a(92,"button",51),D("click",function(){return n.toggleAssetStatusDropdown()}),a(93,"div",52),T(94,id,2,0,"span",53)(95,sd,4,2,"div",54),c()(),T(96,ad,4,1,"div",57),c(),a(97,"div",58),D("click",function(r){return r.stopPropagation()}),a(98,"button",59),D("click",function(){return n.toggleSortDropdown()}),a(99,"div",52),T(100,ld,2,0,"span",53)(101,cd,2,1,"span",60),A(),a(102,"svg",61),w(103,"path",56),c()()(),T(104,ud,4,1,"div",62),c(),I(),a(105,"div",63)(106,"button",64),D("click",function(){return n.toggleSortDir()}),T(107,md,2,0,"svg",65)(108,pd,2,0,"svg",65),a(109,"span"),m(110),c()()()(),a(111,"div",66)(112,"button",67),D("click",function(){return n.viewType="grid"}),A(),a(113,"svg",68),w(114,"rect",69)(115,"rect",70)(116,"rect",71)(117,"rect",72),c()(),I(),a(118,"button",67),D("click",function(){return n.viewType="list"}),A(),a(119,"svg",68),w(120,"rect",73)(121,"rect",74),c()()()(),T(122,hd,10,0,"div",75)(123,fd,11,1,"div",75)(124,gd,5,1,"div",76)(125,yd,23,13,"div",77)(126,wd,10,0,"div",78)(127,zd,2,1,"div",79)(128,e0,19,3,"div",80)(129,t0,1,1,"app-pagination",81),I(),a(130,"app-archive-confirmation-modal",82),D("closeModal",function(){return n.closeArchiveModal()})("confirmArchive",function(){return n.archiveSelected()}),c(),a(131,"app-delete-confirmation-modal",83),D("closeModal",function(){return n.closeDeleteModal()})("confirmDelete",function(r){return n.deleteSelected(r)}),c(),a(132,"app-restore-confirmation-modal",84),D("closeModal",function(){return n.closeRestoreModal()})("confirmRestore",function(r){return n.restoreSelectedAsset(r)}),c()()),e&2&&(p(18),v("ngIf",n.showMenu),p(10),F(n.summary.totalAssets),p(12),F(n.summary.activeAssets),p(11),F(n.summary.maintenance),p(11),F(ci(63,56,n.summary.totalValue,"USD","symbol","1.0-0")),p(12),W("",n.summary.assetHealth,"%"),p(8),me("ngModel",n.searchQuery),p(2),z("border-blue-500",n.showAssetTypeDropdown),p(2),v("ngIf",!n.selectedAssetType),p(),v("ngIf",n.selectedAssetType),p(),z("rotate-180",n.showAssetTypeDropdown),p(2),v("ngIf",n.showAssetTypeDropdown),p(2),z("border-blue-500",n.showAssetStatusDropdown),p(2),v("ngIf",!n.selectedAssetStatus),p(),v("ngIf",n.selectedAssetStatus),p(),v("ngIf",n.showAssetStatusDropdown),p(2),z("border-blue-500",n.showSortDropdown),p(2),v("ngIf",!n.selectedSort),p(),v("ngIf",n.selectedSort),p(),z("rotate-180",n.showSortDropdown),p(2),v("ngIf",n.showSortDropdown),p(2),z("bg-blue-100",n.selectedSortDir==="asc")("text-blue-700",n.selectedSortDir==="asc"),p(),v("ngIf",n.selectedSortDir==="desc"),p(),v("ngIf",n.selectedSortDir==="asc"),p(2),F(n.selectedSortDir==="asc"?"A-Z":"Z-A"),p(2),z("bg-blue-100",n.viewType==="grid")("text-blue-700",n.viewType==="grid"),p(6),z("bg-blue-100",n.viewType==="list")("text-blue-700",n.viewType==="list"),p(4),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",n.viewType==="grid"&&n.selectedCount===0&&!n.loading&&!n.error),p(),v("ngIf",n.viewType==="grid"&&n.selectedCount>0&&!n.loading&&!n.error),p(),v("ngIf",!n.loading&&!n.error&&n.assetList.length===0),p(),v("ngIf",n.viewType==="grid"&&!n.loading&&!n.error&&n.assetList.length>0),p(),v("ngIf",n.viewType==="list"&&!n.loading&&!n.error&&n.assetList.length>0),p(),v("ngIf",n.assetList.length>0||n.pagination.total>0),p(),v("isOpen",n.showArchiveConfirmationModal)("selectedCount",n.selectedCount),p(),v("isOpen",n.showDeleteConfirmationModal)("selectedCount",n.selectedCount),p(),v("isOpen",n.showRestoreConfirmationModal)("selectedCount",n.selectedCount>0?n.selectedCount:1)("assetName",(n.selectedAssetForRestore==null?null:n.selectedAssetForRestore.name)||""))},dependencies:[On,He,bt,Je,Qe,Oo,Ke,ot,qn,jo,Xn,Vn,Tt,Fn,zo],styles:['.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]{width:20px!important;height:20px!important;border-radius:50%!important;border-width:2px;border-color:#3b82f6;appearance:none;background-color:#fff;display:inline-block;vertical-align:middle;position:relative;transition:border-color .2s}.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked{background-color:#3b82f6;border-color:#2563eb}.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked:after{content:"";display:block;width:10px;height:10px;border-radius:50%;background:#fff;position:absolute;top:3px;left:3px}.asset-list-page[_ngcontent-%COMP%]   .asset-card-header[_ngcontent-%COMP%]{background:#e0edff;height:8rem;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;border-top-left-radius:1rem;border-top-right-radius:1rem;overflow:hidden}.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #101e3614;overflow:hidden;background:#fff;border:1px solid #bfdbfe;display:flex;flex-direction:column;transition:box-shadow .2s}.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;border-color:#e5e7eb}']})};var Kn=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Yt={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(i){return typeof console<"u"&&console.warn(i)},getWeek:function(i){var t=new Date(i.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var Jn={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(i){var t=i%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Zn=Jn;var Ne=function(i,t){return t===void 0&&(t=2),("000"+i).slice(t*-1)},Ze=function(i){return i===!0?1:0};function Js(i,t){var e;return function(){var n=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return i.apply(n,s)},t)}}var es=function(i){return i instanceof Array?i:[i]};function Be(i,t,e){if(e===!0)return i.classList.add(t);i.classList.remove(t)}function ae(i,t,e){var n=window.document.createElement(i);return t=t||"",e=e||"",n.className=t,e!==void 0&&(n.textContent=e),n}function Qi(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Zs(i,t){if(t(i))return i;if(i.parentNode)return Zs(i.parentNode,t)}function Ki(i,t){var e=ae("div","numInputWrapper"),n=ae("input","numInput "+i),s=ae("span","arrowUp"),r=ae("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),t!==void 0)for(var o in t)n.setAttribute(o,t[o]);return e.appendChild(n),e.appendChild(s),e.appendChild(r),e}function et(i){try{if(typeof i.composedPath=="function"){var t=i.composedPath();return t[0]}return i.target}catch{return i.target}}var er=function(){},Ji=function(i,t,e){return e.months[t?"shorthand":"longhand"][i]},Uo={D:er,F:function(i,t,e){i.setMonth(e.months.longhand.indexOf(t))},G:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},H:function(i,t){i.setHours(parseFloat(t))},J:function(i,t){i.setDate(parseFloat(t))},K:function(i,t,e){i.setHours(i.getHours()%12+12*Ze(new RegExp(e.amPM[1],"i").test(t)))},M:function(i,t,e){i.setMonth(e.months.shorthand.indexOf(t))},S:function(i,t){i.setSeconds(parseFloat(t))},U:function(i,t){return new Date(parseFloat(t)*1e3)},W:function(i,t,e){var n=parseInt(t),s=new Date(i.getFullYear(),0,2+(n-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(i,t){i.setFullYear(parseFloat(t))},Z:function(i,t){return new Date(t)},d:function(i,t){i.setDate(parseFloat(t))},h:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},i:function(i,t){i.setMinutes(parseFloat(t))},j:function(i,t){i.setDate(parseFloat(t))},l:er,m:function(i,t){i.setMonth(parseFloat(t)-1)},n:function(i,t){i.setMonth(parseFloat(t)-1)},s:function(i,t){i.setSeconds(parseFloat(t))},u:function(i,t){return new Date(parseFloat(t))},w:er,y:function(i,t){i.setFullYear(2e3+parseFloat(t))}},Vt={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ei={Z:function(i){return i.toISOString()},D:function(i,t,e){return t.weekdays.shorthand[Ei.w(i,t,e)]},F:function(i,t,e){return Ji(Ei.n(i,t,e)-1,!1,t)},G:function(i,t,e){return Ne(Ei.h(i,t,e))},H:function(i){return Ne(i.getHours())},J:function(i,t){return t.ordinal!==void 0?i.getDate()+t.ordinal(i.getDate()):i.getDate()},K:function(i,t){return t.amPM[Ze(i.getHours()>11)]},M:function(i,t){return Ji(i.getMonth(),!0,t)},S:function(i){return Ne(i.getSeconds())},U:function(i){return i.getTime()/1e3},W:function(i,t,e){return e.getWeek(i)},Y:function(i){return Ne(i.getFullYear(),4)},d:function(i){return Ne(i.getDate())},h:function(i){return i.getHours()%12?i.getHours()%12:12},i:function(i){return Ne(i.getMinutes())},j:function(i){return i.getDate()},l:function(i,t){return t.weekdays.longhand[i.getDay()]},m:function(i){return Ne(i.getMonth()+1)},n:function(i){return i.getMonth()+1},s:function(i){return i.getSeconds()},u:function(i){return i.getTime()},w:function(i){return i.getDay()},y:function(i){return String(i.getFullYear()).substring(2)}};var tr=function(i){var t=i.config,e=t===void 0?Yt:t,n=i.l10n,s=n===void 0?Jn:n,r=i.isMobile,o=r===void 0?!1:r;return function(l,d,u){var h=u||s;return e.formatDate!==void 0&&!o?e.formatDate(l,d,h):d.split("").map(function(f,x,g){return Ei[f]&&g[x-1]!=="\\"?Ei[f](l,h,e):f!=="\\"?f:""}).join("")}},ts=function(i){var t=i.config,e=t===void 0?Yt:t,n=i.l10n,s=n===void 0?Jn:n;return function(r,o,l,d){if(!(r!==0&&!r)){var u=d||s,h,f=r;if(r instanceof Date)h=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)h=new Date(r);else if(typeof r=="string"){var x=o||(e||Yt).dateFormat,g=String(r).trim();if(g==="today")h=new Date,l=!0;else if(e&&e.parseDate)h=e.parseDate(r,x);else if(/Z$/.test(g)||/GMT$/.test(g))h=new Date(r);else{for(var S=void 0,y=[],M=0,L=0,V="";M<x.length;M++){var N=x[M],j=N==="\\",R=x[M-1]==="\\"||j;if(Vt[N]&&!R){V+=Vt[N];var B=new RegExp(V).exec(r);B&&(S=!0)&&y[N!=="Y"?"push":"unshift"]({fn:Uo[N],val:B[++L]})}else j||(V+=".")}h=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),y.forEach(function(U){var $=U.fn,q=U.val;return h=$(h,q,u)||h}),h=S?h:void 0}}if(!(h instanceof Date&&!isNaN(h.getTime()))){e.errorHandler(new Error("Invalid date provided: "+f));return}return l===!0&&h.setHours(0,0,0,0),h}}};function tt(i,t,e){return e===void 0&&(e=!0),e!==!1?new Date(i.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):i.getTime()-t.getTime()}var Yo=function(i,t,e){return i>Math.min(t,e)&&i<Math.max(t,e)},is=function(i,t,e){return i*3600+t*60+e},qo=function(i){var t=Math.floor(i/3600),e=(i-t*3600)/60;return[t,e,i-t*3600-e*60]},Xo={DAY:864e5};function ns(i){var t=i.defaultHour,e=i.defaultMinute,n=i.defaultSeconds;if(i.minDate!==void 0){var s=i.minDate.getHours(),r=i.minDate.getMinutes(),o=i.minDate.getSeconds();t<s&&(t=s),t===s&&e<r&&(e=r),t===s&&e===r&&n<o&&(n=i.minDate.getSeconds())}if(i.maxDate!==void 0){var l=i.maxDate.getHours(),d=i.maxDate.getMinutes();t=Math.min(t,l),t===l&&(e=Math.min(d,e)),t===l&&e===d&&(n=i.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!i)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(d){return i[d]=l[d]})},s=0,r=t;s<r.length;s++){var o=r[s];n(o)}return i});var je=function(){return je=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},je.apply(this,arguments)},Qo=function(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;for(var n=Array(i),s=0,t=0;t<e;t++)for(var r=arguments[t],o=0,l=r.length;o<l;o++,s++)n[s]=r[o];return n},i0=300;function n0(i,t){var e={config:je(je({},Yt),De.defaultConfig),l10n:Zn};e.parseDate=ts({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=y,e._setHoursFromDate=x,e._positionCalendar=Sn,e.changeMonth=zt,e.changeYear=yn,e.clear=Wt,e.close=ri,e.onMouseOver=Cn,e._createElement=ae,e.createDay=B,e.destroy=At,e.isEnabled=oi,e.jumpToDate=V,e.updateValue=Dt,e.open=fc,e.redraw=wo,e.set=vc,e.setDate=bc,e.toggle=Sc;function n(){e.utils={getDaysInMonth:function(b,C){return b===void 0&&(b=e.currentMonth),C===void 0&&(C=e.currentYear),b===1&&(C%4===0&&C%100!==0||C%400===0)?29:e.l10n.daysInMonth[b]}}}function s(){e.element=e.input=i,e.isOpen=!1,gc(),yo(),wc(),yc(),n(),e.isMobile||R(),L(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&x(e.config.noCalendar?e.latestSelectedDateObj:void 0),Dt(!1)),l();var b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&b&&Sn(),Ce("onReady")}function r(){var b;return((b=e.calendarContainer)===null||b===void 0?void 0:b.getRootNode()).activeElement||document.activeElement}function o(b){return b.bind(e)}function l(){var b=e.config;b.weekNumbers===!1&&b.showMonths===1||b.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var C=(e.days.offsetWidth+1)*b.showMonths;e.daysContainer.style.width=C+"px",e.calendarContainer.style.width=C+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function d(b){if(e.selectedDates.length===0){var C=e.config.minDate===void 0||tt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),P=ns(e.config);C.setHours(P.hours,P.minutes,P.seconds,C.getMilliseconds()),e.selectedDates=[C],e.latestSelectedDateObj=C}b!==void 0&&b.type!=="blur"&&Ec(b);var O=e._input.value;f(),Dt(),e._input.value!==O&&e._debouncedChange()}function u(b,C){return b%12+12*Ze(C===e.l10n.amPM[1])}function h(b){switch(b%24){case 0:case 12:return 12;default:return b%12}}function f(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var b=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,C=(parseInt(e.minuteElement.value,10)||0)%60,P=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(b=u(b,e.amPM.textContent));var O=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&tt(e.latestSelectedDateObj,e.config.minDate,!0)===0,G=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&tt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var Y=is(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),ie=is(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Q=is(b,C,P);if(Q>ie&&Q<Y){var ne=qo(Y);b=ne[0],C=ne[1],P=ne[2]}}else{if(G){var X=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;b=Math.min(b,X.getHours()),b===X.getHours()&&(C=Math.min(C,X.getMinutes())),C===X.getMinutes()&&(P=Math.min(P,X.getSeconds()))}if(O){var K=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;b=Math.max(b,K.getHours()),b===K.getHours()&&C<K.getMinutes()&&(C=K.getMinutes()),C===K.getMinutes()&&(P=Math.max(P,K.getSeconds()))}}g(b,C,P)}}function x(b){var C=b||e.latestSelectedDateObj;C&&C instanceof Date&&g(C.getHours(),C.getMinutes(),C.getSeconds())}function g(b,C,P){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(b%24,C,P||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Ne(e.config.time_24hr?b:(12+b)%12+12*Ze(b%12===0)),e.minuteElement.value=Ne(C),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Ze(b>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Ne(P)))}function S(b){var C=et(b),P=parseInt(C.value)+(b.delta||0);(P/1e3>1||b.key==="Enter"&&!/[^\d]/.test(P.toString()))&&yn(P)}function y(b,C,P,O){if(C instanceof Array)return C.forEach(function(G){return y(b,G,P,O)});if(b instanceof Array)return b.forEach(function(G){return y(G,C,P,O)});b.addEventListener(C,P,O),e._handlers.push({remove:function(){return b.removeEventListener(C,P,O)}})}function M(){Ce("onChange")}function L(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(P){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+P+"]"),function(O){return y(O,"click",e[P])})}),e.isMobile){Cc();return}var b=Js(hc,50);if(e._debouncedChange=Js(M,i0),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&y(e.daysContainer,"mouseover",function(P){e.config.mode==="range"&&Cn(et(P))}),y(e._input,"keydown",xo),e.calendarContainer!==void 0&&y(e.calendarContainer,"keydown",xo),!e.config.inline&&!e.config.static&&y(window,"resize",b),window.ontouchstart!==void 0?y(window.document,"touchstart",ut):y(window.document,"mousedown",ut),y(window.document,"focus",ut,{capture:!0}),e.config.clickOpens===!0&&(y(e._input,"focus",e.open),y(e._input,"click",e.open)),e.daysContainer!==void 0&&(y(e.monthNav,"click",kc),y(e.monthNav,["keyup","increment"],S),y(e.daysContainer,"click",Co)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var C=function(P){return et(P).select()};y(e.timeContainer,["increment"],d),y(e.timeContainer,"blur",d,{capture:!0}),y(e.timeContainer,"click",N),y([e.hourElement,e.minuteElement],["focus","click"],C),e.secondElement!==void 0&&y(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&y(e.amPM,"click",function(P){d(P)})}e.config.allowInput&&y(e._input,"blur",pc)}function V(b,C){var P=b!==void 0?e.parseDate(b):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),O=e.currentYear,G=e.currentMonth;try{P!==void 0&&(e.currentYear=P.getFullYear(),e.currentMonth=P.getMonth())}catch(Y){Y.message="Invalid date supplied: "+P,e.config.errorHandler(Y)}C&&e.currentYear!==O&&(Ce("onYearChange"),ye()),C&&(e.currentYear!==O||e.currentMonth!==G)&&Ce("onMonthChange"),e.redraw()}function N(b){var C=et(b);~C.className.indexOf("arrow")&&j(b,C.classList.contains("arrowUp")?1:-1)}function j(b,C,P){var O=b&&et(b),G=P||O&&O.parentNode&&O.parentNode.firstChild,Y=Us("increment");Y.delta=C,G&&G.dispatchEvent(Y)}function R(){var b=window.document.createDocumentFragment();if(e.calendarContainer=ae("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(b.appendChild(_e()),e.innerContainer=ae("div","flatpickr-innerContainer"),e.config.weekNumbers){var C=jt(),P=C.weekWrapper,O=C.weekNumbers;e.innerContainer.appendChild(P),e.weekNumbers=O,e.weekWrapper=P}e.rContainer=ae("div","flatpickr-rContainer"),e.rContainer.appendChild(Ye()),e.daysContainer||(e.daysContainer=ae("div","flatpickr-days"),e.daysContainer.tabIndex=-1),te(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),b.appendChild(e.innerContainer)}e.config.enableTime&&b.appendChild(we()),Be(e.calendarContainer,"rangeMode",e.config.mode==="range"),Be(e.calendarContainer,"animate",e.config.animate===!0),Be(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(b);var G=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!G&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var Y=ae("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(Y,e.element),Y.appendChild(e.element),e.altInput&&Y.appendChild(e.altInput),Y.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function B(b,C,P,O){var G=oi(C,!0),Y=ae("span",b,C.getDate().toString());return Y.dateObj=C,Y.$i=O,Y.setAttribute("aria-label",e.formatDate(C,e.config.ariaDateFormat)),b.indexOf("hidden")===-1&&tt(C,e.now)===0&&(e.todayDateElem=Y,Y.classList.add("today"),Y.setAttribute("aria-current","date")),G?(Y.tabIndex=-1,Ys(C)&&(Y.classList.add("selected"),e.selectedDateElem=Y,e.config.mode==="range"&&(Be(Y,"startRange",e.selectedDates[0]&&tt(C,e.selectedDates[0],!0)===0),Be(Y,"endRange",e.selectedDates[1]&&tt(C,e.selectedDates[1],!0)===0),b==="nextMonthDay"&&Y.classList.add("inRange")))):Y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Mc(C)&&!Ys(C)&&Y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&b!=="prevMonthDay"&&O%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(C)+"</span>"),Ce("onDayCreate",Y),Y}function U(b){b.focus(),e.config.mode==="range"&&Cn(b)}function $(b){for(var C=b>0?0:e.config.showMonths-1,P=b>0?e.config.showMonths:-1,O=C;O!=P;O+=b)for(var G=e.daysContainer.children[O],Y=b>0?0:G.children.length-1,ie=b>0?G.children.length:-1,Q=Y;Q!=ie;Q+=b){var ne=G.children[Q];if(ne.className.indexOf("hidden")===-1&&oi(ne.dateObj))return ne}}function q(b,C){for(var P=b.className.indexOf("Month")===-1?b.dateObj.getMonth():e.currentMonth,O=C>0?e.config.showMonths:-1,G=C>0?1:-1,Y=P-e.currentMonth;Y!=O;Y+=G)for(var ie=e.daysContainer.children[Y],Q=P-e.currentMonth===Y?b.$i+C:C<0?ie.children.length-1:0,ne=ie.children.length,X=Q;X>=0&&X<ne&&X!=(C>0?ne:-1);X+=G){var K=ie.children[X];if(K.className.indexOf("hidden")===-1&&oi(K.dateObj)&&Math.abs(b.$i-X)>=Math.abs(C))return U(K)}e.changeMonth(G),J($(G),0)}function J(b,C){var P=r(),O=wn(P||document.body),G=b!==void 0?b:O?P:e.selectedDateElem!==void 0&&wn(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&wn(e.todayDateElem)?e.todayDateElem:$(C>0?1:-1);G===void 0?e._input.focus():O?q(G,C):U(G)}function ee(b,C){for(var P=(new Date(b,C,1).getDay()-e.l10n.firstDayOfWeek+7)%7,O=e.utils.getDaysInMonth((C-1+12)%12,b),G=e.utils.getDaysInMonth(C,b),Y=window.document.createDocumentFragment(),ie=e.config.showMonths>1,Q=ie?"prevMonthDay hidden":"prevMonthDay",ne=ie?"nextMonthDay hidden":"nextMonthDay",X=O+1-P,K=0;X<=O;X++,K++)Y.appendChild(B("flatpickr-day "+Q,new Date(b,C-1,X),X,K));for(X=1;X<=G;X++,K++)Y.appendChild(B("flatpickr-day",new Date(b,C,X),X,K));for(var fe=G+1;fe<=42-P&&(e.config.showMonths===1||K%7!==0);fe++,K++)Y.appendChild(B("flatpickr-day "+ne,new Date(b,C+1,fe%G),fe,K));var gt=ae("div","dayContainer");return gt.appendChild(Y),gt}function te(){if(e.daysContainer!==void 0){Qi(e.daysContainer),e.weekNumbers&&Qi(e.weekNumbers);for(var b=document.createDocumentFragment(),C=0;C<e.config.showMonths;C++){var P=new Date(e.currentYear,e.currentMonth,1);P.setMonth(e.currentMonth+C),b.appendChild(ee(P.getFullYear(),P.getMonth()))}e.daysContainer.appendChild(b),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Cn()}}function ye(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var b=function(O){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&O<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&O>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var C=0;C<12;C++)if(b(C)){var P=ae("option","flatpickr-monthDropdown-month");P.value=new Date(e.currentYear,C).getMonth().toString(),P.textContent=Ji(C,e.config.shorthandCurrentMonth,e.l10n),P.tabIndex=-1,e.currentMonth===C&&(P.selected=!0),e.monthsDropdownContainer.appendChild(P)}}}function We(){var b=ae("div","flatpickr-month"),C=window.document.createDocumentFragment(),P;e.config.showMonths>1||e.config.monthSelectorType==="static"?P=ae("span","cur-month"):(e.monthsDropdownContainer=ae("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),y(e.monthsDropdownContainer,"change",function(ie){var Q=et(ie),ne=parseInt(Q.value,10);e.changeMonth(ne-e.currentMonth),Ce("onMonthChange")}),ye(),P=e.monthsDropdownContainer);var O=Ki("cur-year",{tabindex:"-1"}),G=O.getElementsByTagName("input")[0];G.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&G.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(G.setAttribute("max",e.config.maxDate.getFullYear().toString()),G.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var Y=ae("div","flatpickr-current-month");return Y.appendChild(P),Y.appendChild(O),C.appendChild(Y),b.appendChild(C),{container:b,yearElement:G,monthElement:P}}function le(){Qi(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var b=e.config.showMonths;b--;){var C=We();e.yearElements.push(C.yearElement),e.monthElements.push(C.monthElement),e.monthNav.appendChild(C.container)}e.monthNav.appendChild(e.nextMonthNav)}function _e(){return e.monthNav=ae("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=ae("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=ae("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,le(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(b){e.__hidePrevMonthArrow!==b&&(Be(e.prevMonthNav,"flatpickr-disabled",b),e.__hidePrevMonthArrow=b)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(b){e.__hideNextMonthArrow!==b&&(Be(e.nextMonthNav,"flatpickr-disabled",b),e.__hideNextMonthArrow=b)}}),e.currentYearElement=e.yearElements[0],kn(),e.monthNav}function we(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var b=ns(e.config);e.timeContainer=ae("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var C=ae("span","flatpickr-time-separator",":"),P=Ki("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=P.getElementsByTagName("input")[0];var O=Ki("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=O.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?b.hours:h(b.hours)),e.minuteElement.value=Ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():b.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(P),e.timeContainer.appendChild(C),e.timeContainer.appendChild(O),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var G=Ki("flatpickr-second");e.secondElement=G.getElementsByTagName("input")[0],e.secondElement.value=Ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():b.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(ae("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(G)}return e.config.time_24hr||(e.amPM=ae("span","flatpickr-am-pm",e.l10n.amPM[Ze((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Ye(){e.weekdayContainer?Qi(e.weekdayContainer):e.weekdayContainer=ae("div","flatpickr-weekdays");for(var b=e.config.showMonths;b--;){var C=ae("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(C)}return Ie(),e.weekdayContainer}function Ie(){if(e.weekdayContainer){var b=e.l10n.firstDayOfWeek,C=Qo(e.l10n.weekdays.shorthand);b>0&&b<C.length&&(C=Qo(C.splice(b,C.length),C.splice(0,b)));for(var P=e.config.showMonths;P--;)e.weekdayContainer.children[P].innerHTML=`
      <span class='flatpickr-weekday'>
        `+C.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function jt(){e.calendarContainer.classList.add("hasWeeks");var b=ae("div","flatpickr-weekwrapper");b.appendChild(ae("span","flatpickr-weekday",e.l10n.weekAbbreviation));var C=ae("div","flatpickr-weeks");return b.appendChild(C),{weekWrapper:b,weekNumbers:C}}function zt(b,C){C===void 0&&(C=!0);var P=C?b:b-e.currentMonth;P<0&&e._hidePrevMonthArrow===!0||P>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=P,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ce("onYearChange"),ye()),te(),Ce("onMonthChange"),kn())}function Wt(b,C){if(b===void 0&&(b=!0),C===void 0&&(C=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,C===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var P=ns(e.config),O=P.hours,G=P.minutes,Y=P.seconds;g(O,G,Y)}e.redraw(),b&&Ce("onChange")}function ri(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ce("onClose")}function At(){e.config!==void 0&&Ce("onDestroy");for(var b=e._handlers.length;b--;)e._handlers[b].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var C=e.calendarContainer.parentNode;if(C.lastChild&&C.removeChild(C.lastChild),C.parentNode){for(;C.firstChild;)C.parentNode.insertBefore(C.firstChild,C);C.parentNode.removeChild(C)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(P){try{delete e[P]}catch{}})}function dt(b){return e.calendarContainer.contains(b)}function ut(b){if(e.isOpen&&!e.config.inline){var C=et(b),P=dt(C),O=C===e.input||C===e.altInput||e.element.contains(C)||b.path&&b.path.indexOf&&(~b.path.indexOf(e.input)||~b.path.indexOf(e.altInput)),G=!O&&!P&&!dt(b.relatedTarget),Y=!e.config.ignoredFocusElements.some(function(ie){return ie.contains(C)});G&&Y&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&d(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function yn(b){if(!(!b||e.config.minDate&&b<e.config.minDate.getFullYear()||e.config.maxDate&&b>e.config.maxDate.getFullYear())){var C=b,P=e.currentYear!==C;e.currentYear=C||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),P&&(e.redraw(),Ce("onYearChange"),ye())}}function oi(b,C){var P;C===void 0&&(C=!0);var O=e.parseDate(b,void 0,C);if(e.config.minDate&&O&&tt(O,e.config.minDate,C!==void 0?C:!e.minDateHasTime)<0||e.config.maxDate&&O&&tt(O,e.config.maxDate,C!==void 0?C:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(O===void 0)return!1;for(var G=!!e.config.enable,Y=(P=e.config.enable)!==null&&P!==void 0?P:e.config.disable,ie=0,Q=void 0;ie<Y.length;ie++){if(Q=Y[ie],typeof Q=="function"&&Q(O))return G;if(Q instanceof Date&&O!==void 0&&Q.getTime()===O.getTime())return G;if(typeof Q=="string"){var ne=e.parseDate(Q,void 0,!0);return ne&&ne.getTime()===O.getTime()?G:!G}else if(typeof Q=="object"&&O!==void 0&&Q.from&&Q.to&&O.getTime()>=Q.from.getTime()&&O.getTime()<=Q.to.getTime())return G}return!G}function wn(b){return e.daysContainer!==void 0?b.className.indexOf("hidden")===-1&&b.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(b):!1}function pc(b){var C=b.target===e._input,P=e._input.value.trimEnd()!==qs();C&&P&&!(b.relatedTarget&&dt(b.relatedTarget))&&e.setDate(e._input.value,!0,b.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function xo(b){var C=et(b),P=e.config.wrap?i.contains(C):C===e._input,O=e.config.allowInput,G=e.isOpen&&(!O||!P),Y=e.config.inline&&P&&!O;if(b.keyCode===13&&P){if(O)return e.setDate(e._input.value,!0,C===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),C.blur();e.open()}else if(dt(C)||G||Y){var ie=!!e.timeContainer&&e.timeContainer.contains(C);switch(b.keyCode){case 13:ie?(b.preventDefault(),d(),Gs()):Co(b);break;case 27:b.preventDefault(),Gs();break;case 8:case 46:P&&!e.config.allowInput&&(b.preventDefault(),e.clear());break;case 37:case 39:if(!ie&&!P){b.preventDefault();var Q=r();if(e.daysContainer!==void 0&&(O===!1||Q&&wn(Q))){var ne=b.keyCode===39?1:-1;b.ctrlKey?(b.stopPropagation(),zt(ne),J($(1),0)):J(void 0,ne)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:b.preventDefault();var X=b.keyCode===40?1:-1;e.daysContainer&&C.$i!==void 0||C===e.input||C===e.altInput?b.ctrlKey?(b.stopPropagation(),yn(e.currentYear-X),J($(1),0)):ie||J(void 0,X*7):C===e.currentYearElement?yn(e.currentYear-X):e.config.enableTime&&(!ie&&e.hourElement&&e.hourElement.focus(),d(b),e._debouncedChange());break;case 9:if(ie){var K=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(rt){return rt}),fe=K.indexOf(C);if(fe!==-1){var gt=K[fe+(b.shiftKey?-1:1)];b.preventDefault(),(gt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(C)&&b.shiftKey&&(b.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&C===e.amPM)switch(b.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],f(),Dt();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],f(),Dt();break}(P||dt(C))&&Ce("onKeyDown",b)}function Cn(b,C){if(C===void 0&&(C="flatpickr-day"),!(e.selectedDates.length!==1||b&&(!b.classList.contains(C)||b.classList.contains("flatpickr-disabled")))){for(var P=b?b.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),O=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),G=Math.min(P,e.selectedDates[0].getTime()),Y=Math.max(P,e.selectedDates[0].getTime()),ie=!1,Q=0,ne=0,X=G;X<Y;X+=Xo.DAY)oi(new Date(X),!0)||(ie=ie||X>G&&X<Y,X<O&&(!Q||X>Q)?Q=X:X>O&&(!ne||X<ne)&&(ne=X));var K=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+C));K.forEach(function(fe){var gt=fe.dateObj,rt=gt.getTime(),Yi=Q>0&&rt<Q||ne>0&&rt>ne;if(Yi){fe.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(vi){fe.classList.remove(vi)});return}else if(ie&&!Yi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(vi){fe.classList.remove(vi)}),b!==void 0&&(b.classList.add(P<=e.selectedDates[0].getTime()?"startRange":"endRange"),O<P&&rt===O?fe.classList.add("startRange"):O>P&&rt===O&&fe.classList.add("endRange"),rt>=Q&&(ne===0||rt<=ne)&&Yo(rt,O,P)&&fe.classList.add("inRange"))})}}function hc(){e.isOpen&&!e.config.static&&!e.config.inline&&Sn()}function fc(b,C){if(C===void 0&&(C=e._positionElement),e.isMobile===!0){if(b){b.preventDefault();var P=et(b);P&&P.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ce("onOpen");return}else if(e._input.disabled||e.config.inline)return;var O=e.isOpen;e.isOpen=!0,O||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ce("onOpen"),Sn(C)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(b===void 0||!e.timeContainer.contains(b.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function vo(b){return function(C){var P=e.config["_"+b+"Date"]=e.parseDate(C,e.config.dateFormat),O=e.config["_"+(b==="min"?"max":"min")+"Date"];P!==void 0&&(e[b==="min"?"minDateHasTime":"maxDateHasTime"]=P.getHours()>0||P.getMinutes()>0||P.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(G){return oi(G)}),!e.selectedDates.length&&b==="min"&&x(P),Dt()),e.daysContainer&&(wo(),P!==void 0?e.currentYearElement[b]=P.getFullYear().toString():e.currentYearElement.removeAttribute(b),e.currentYearElement.disabled=!!O&&P!==void 0&&O.getFullYear()===P.getFullYear())}}function gc(){var b=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],C=je(je({},JSON.parse(JSON.stringify(i.dataset||{}))),t),P={};e.config.parseDate=C.parseDate,e.config.formatDate=C.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(K){e.config._enable=Mo(K)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(K){e.config._disable=Mo(K)}});var O=C.mode==="time";if(!C.dateFormat&&(C.enableTime||O)){var G=De.defaultConfig.dateFormat||Yt.dateFormat;P.dateFormat=C.noCalendar||O?"H:i"+(C.enableSeconds?":S":""):G+" H:i"+(C.enableSeconds?":S":"")}if(C.altInput&&(C.enableTime||O)&&!C.altFormat){var Y=De.defaultConfig.altFormat||Yt.altFormat;P.altFormat=C.noCalendar||O?"h:i"+(C.enableSeconds?":S K":" K"):Y+(" h:i"+(C.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:vo("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:vo("max")});var ie=function(K){return function(fe){e.config[K==="min"?"_minTime":"_maxTime"]=e.parseDate(fe,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:ie("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:ie("max")}),C.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,P,C);for(var Q=0;Q<b.length;Q++)e.config[b[Q]]=e.config[b[Q]]===!0||e.config[b[Q]]==="true";Kn.filter(function(K){return e.config[K]!==void 0}).forEach(function(K){e.config[K]=es(e.config[K]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Q=0;Q<e.config.plugins.length;Q++){var ne=e.config.plugins[Q](e)||{};for(var X in ne)Kn.indexOf(X)>-1?e.config[X]=es(ne[X]).map(o).concat(e.config[X]):typeof C[X]>"u"&&(e.config[X]=ne[X])}C.altInputClass||(e.config.altInputClass=bo().className+" "+e.config.altInputClass),Ce("onParseConfig")}function bo(){return e.config.wrap?i.querySelector("[data-input]"):i}function yo(){typeof e.config.locale!="object"&&typeof De.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=je(je({},De.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?De.l10ns[e.config.locale]:void 0),Vt.D="("+e.l10n.weekdays.shorthand.join("|")+")",Vt.l="("+e.l10n.weekdays.longhand.join("|")+")",Vt.M="("+e.l10n.months.shorthand.join("|")+")",Vt.F="("+e.l10n.months.longhand.join("|")+")",Vt.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var b=je(je({},t),JSON.parse(JSON.stringify(i.dataset||{})));b.time_24hr===void 0&&De.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=tr(e),e.parseDate=ts({config:e.config,l10n:e.l10n})}function Sn(b){if(typeof e.config.position=="function")return void e.config.position(e,b);if(e.calendarContainer!==void 0){Ce("onPreCalendarPosition");var C=b||e._positionElement,P=Array.prototype.reduce.call(e.calendarContainer.children,function(Oc,Fc){return Oc+Fc.offsetHeight},0),O=e.calendarContainer.offsetWidth,G=e.config.position.split(" "),Y=G[0],ie=G.length>1?G[1]:null,Q=C.getBoundingClientRect(),ne=window.innerHeight-Q.bottom,X=Y==="above"||Y!=="below"&&ne<P&&Q.top>P,K=window.pageYOffset+Q.top+(X?-P-2:C.offsetHeight+2);if(Be(e.calendarContainer,"arrowTop",!X),Be(e.calendarContainer,"arrowBottom",X),!e.config.inline){var fe=window.pageXOffset+Q.left,gt=!1,rt=!1;ie==="center"?(fe-=(O-Q.width)/2,gt=!0):ie==="right"&&(fe-=O-Q.width,rt=!0),Be(e.calendarContainer,"arrowLeft",!gt&&!rt),Be(e.calendarContainer,"arrowCenter",gt),Be(e.calendarContainer,"arrowRight",rt);var Yi=window.document.body.offsetWidth-(window.pageXOffset+Q.right),vi=fe+O>window.document.body.offsetWidth,Ac=Yi+O>window.document.body.offsetWidth;if(Be(e.calendarContainer,"rightMost",vi),!e.config.static)if(e.calendarContainer.style.top=K+"px",!vi)e.calendarContainer.style.left=fe+"px",e.calendarContainer.style.right="auto";else if(!Ac)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Yi+"px";else{var Xs=_c();if(Xs===void 0)return;var Dc=window.document.body.offsetWidth,Tc=Math.max(0,Dc/2-O/2),Ic=".flatpickr-calendar.centerMost:before",Pc=".flatpickr-calendar.centerMost:after",Vc=Xs.cssRules.length,Lc="{left:"+Q.left+"px;right:auto;}";Be(e.calendarContainer,"rightMost",!1),Be(e.calendarContainer,"centerMost",!0),Xs.insertRule(Ic+","+Pc+Lc,Vc),e.calendarContainer.style.left=Tc+"px",e.calendarContainer.style.right="auto"}}}}function _c(){for(var b=null,C=0;C<document.styleSheets.length;C++){var P=document.styleSheets[C];if(P.cssRules){try{P.cssRules}catch{continue}b=P;break}}return b??xc()}function xc(){var b=document.createElement("style");return document.head.appendChild(b),b.sheet}function wo(){e.config.noCalendar||e.isMobile||(ye(),kn(),te())}function Gs(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Co(b){b.preventDefault(),b.stopPropagation();var C=function(K){return K.classList&&K.classList.contains("flatpickr-day")&&!K.classList.contains("flatpickr-disabled")&&!K.classList.contains("notAllowed")},P=Zs(et(b),C);if(P!==void 0){var O=P,G=e.latestSelectedDateObj=new Date(O.dateObj.getTime()),Y=(G.getMonth()<e.currentMonth||G.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=O,e.config.mode==="single")e.selectedDates=[G];else if(e.config.mode==="multiple"){var ie=Ys(G);ie?e.selectedDates.splice(parseInt(ie),1):e.selectedDates.push(G)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=G,e.selectedDates.push(G),tt(G,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(K,fe){return K.getTime()-fe.getTime()}));if(f(),Y){var Q=e.currentYear!==G.getFullYear();e.currentYear=G.getFullYear(),e.currentMonth=G.getMonth(),Q&&(Ce("onYearChange"),ye()),Ce("onMonthChange")}if(kn(),te(),Dt(),!Y&&e.config.mode!=="range"&&e.config.showMonths===1?U(O):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var ne=e.config.mode==="single"&&!e.config.enableTime,X=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(ne||X)&&Gs()}M()}}var Mn={locale:[yo,Ie],showMonths:[le,l,Ye],minDate:[V],maxDate:[V],positionElement:[ko],clickOpens:[function(){e.config.clickOpens===!0?(y(e._input,"focus",e.open),y(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function vc(b,C){if(b!==null&&typeof b=="object"){Object.assign(e.config,b);for(var P in b)Mn[P]!==void 0&&Mn[P].forEach(function(O){return O()})}else e.config[b]=C,Mn[b]!==void 0?Mn[b].forEach(function(O){return O()}):Kn.indexOf(b)>-1&&(e.config[b]=es(C));e.redraw(),Dt(!0)}function So(b,C){var P=[];if(b instanceof Array)P=b.map(function(O){return e.parseDate(O,C)});else if(b instanceof Date||typeof b=="number")P=[e.parseDate(b,C)];else if(typeof b=="string")switch(e.config.mode){case"single":case"time":P=[e.parseDate(b,C)];break;case"multiple":P=b.split(e.config.conjunction).map(function(O){return e.parseDate(O,C)});break;case"range":P=b.split(e.l10n.rangeSeparator).map(function(O){return e.parseDate(O,C)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(b)));e.selectedDates=e.config.allowInvalidPreload?P:P.filter(function(O){return O instanceof Date&&oi(O,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(O,G){return O.getTime()-G.getTime()})}function bc(b,C,P){if(C===void 0&&(C=!1),P===void 0&&(P=e.config.dateFormat),b!==0&&!b||b instanceof Array&&b.length===0)return e.clear(C);So(b,P),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),V(void 0,C),x(),e.selectedDates.length===0&&e.clear(!1),Dt(C),C&&Ce("onChange")}function Mo(b){return b.slice().map(function(C){return typeof C=="string"||typeof C=="number"||C instanceof Date?e.parseDate(C,void 0,!0):C&&typeof C=="object"&&C.from&&C.to?{from:e.parseDate(C.from,void 0),to:e.parseDate(C.to,void 0)}:C}).filter(function(C){return C})}function yc(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var b=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);b&&So(b,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function wc(){if(e.input=bo(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=ae(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ko()}function ko(){e._positionElement=e.config.positionElement||e._input}function Cc(){var b=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=ae("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=b,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=b==="datetime-local"?"Y-m-d\\TH:i:S":b==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}y(e.mobileInput,"change",function(C){e.setDate(et(C).value,!1,e.mobileFormatStr),Ce("onChange"),Ce("onClose")})}function Sc(b){if(e.isOpen===!0)return e.close();e.open(b)}function Ce(b,C){if(e.config!==void 0){var P=e.config[b];if(P!==void 0&&P.length>0)for(var O=0;P[O]&&O<P.length;O++)P[O](e.selectedDates,e.input.value,e,C);b==="onChange"&&(e.input.dispatchEvent(Us("change")),e.input.dispatchEvent(Us("input")))}}function Us(b){var C=document.createEvent("Event");return C.initEvent(b,!0,!0),C}function Ys(b){for(var C=0;C<e.selectedDates.length;C++){var P=e.selectedDates[C];if(P instanceof Date&&tt(P,b)===0)return""+C}return!1}function Mc(b){return e.config.mode!=="range"||e.selectedDates.length<2?!1:tt(b,e.selectedDates[0])>=0&&tt(b,e.selectedDates[1])<=0}function kn(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(b,C){var P=new Date(e.currentYear,e.currentMonth,1);P.setMonth(e.currentMonth+C),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[C].textContent=Ji(P.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=P.getMonth().toString(),b.value=P.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function qs(b){var C=b||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(P){return e.formatDate(P,C)}).filter(function(P,O,G){return e.config.mode!=="range"||e.config.enableTime||G.indexOf(P)===O}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Dt(b){b===void 0&&(b=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=qs(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=qs(e.config.altFormat)),b!==!1&&Ce("onValueUpdate")}function kc(b){var C=et(b),P=e.prevMonthNav.contains(C),O=e.nextMonthNav.contains(C);P||O?zt(P?-1:1):e.yearElements.indexOf(C)>=0?C.select():C.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):C.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Ec(b){b.preventDefault();var C=b.type==="keydown",P=et(b),O=P;e.amPM!==void 0&&P===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Ze(e.amPM.textContent===e.l10n.amPM[0])]);var G=parseFloat(O.getAttribute("min")),Y=parseFloat(O.getAttribute("max")),ie=parseFloat(O.getAttribute("step")),Q=parseInt(O.value,10),ne=b.delta||(C?b.which===38?1:-1:0),X=Q+ie*ne;if(typeof O.value<"u"&&O.value.length===2){var K=O===e.hourElement,fe=O===e.minuteElement;X<G?(X=Y+X+Ze(!K)+(Ze(K)&&Ze(!e.amPM)),fe&&j(void 0,-1,e.hourElement)):X>Y&&(X=O===e.hourElement?X-Y-Ze(!e.amPM):G,fe&&j(void 0,1,e.hourElement)),e.amPM&&K&&(ie===1?X+Q===23:Math.abs(X-Q)>ie)&&(e.amPM.textContent=e.l10n.amPM[Ze(e.amPM.textContent===e.l10n.amPM[0])]),O.value=Ne(X)}}return s(),e}function Ai(i,t){for(var e=Array.prototype.slice.call(i).filter(function(o){return o instanceof HTMLElement}),n=[],s=0;s<e.length;s++){var r=e[s];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=n0(r,t||{}),n.push(r._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(i){return Ai(this,i)},HTMLElement.prototype.flatpickr=function(i){return Ai([this],i)});var De=function(i,t){return typeof i=="string"?Ai(window.document.querySelectorAll(i),t):i instanceof Node?Ai([i],t):Ai(i,t)};De.defaultConfig={};De.l10ns={en:je({},Zn),default:je({},Zn)};De.localize=function(i){De.l10ns.default=je(je({},De.l10ns.default),i)};De.setDefaults=function(i){De.defaultConfig=je(je({},De.defaultConfig),i)};De.parseDate=ts({});De.formatDate=tr({});De.compareDates=tt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(i){return Ai(this,i)});Date.prototype.fp_incr=function(i){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof i=="string"?parseInt(i,10):i))};typeof window<"u"&&(window.flatpickr=De);var qt=De;var s0=["fileInput"],r0=["dateInput"];function o0(i,t){i&1&&(a(0,"div",106)(1,"div",85),A(),a(2,"svg",19),w(3,"path",88),c(),I(),a(4,"div")(5,"p",107),m(6,"Duplicating Asset"),c(),a(7,"p",108),m(8,"Most fields have been pre-filled. Please enter a new serial number and review all information before saving."),c()()()())}function a0(i,t){if(i&1&&(a(0,"div",109),A(),a(1,"svg",110),w(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.nameError," ")}}function l0(i,t){i&1&&(a(0,"span",84),m(1,"Select parent asset"),c())}function c0(i,t){if(i&1&&(a(0,"span",112),m(1),c()),i&2){let e=_();p(),Re(" ",e.getSelectedParent().name," (",e.getSelectedParent().asset_id,") ")}}function d0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return r.parent_id=s.id,E(r.showParentDropdown=!1)}),a(1,"div",28)(2,"div",118),A(),a(3,"svg",119),w(4,"path",54),c()(),I(),a(5,"div")(6,"div",120),m(7),c(),a(8,"div",121),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",n.parent_id===e.id),p(7),F(e.name),p(2),F(e.asset_id)}}function u0(i,t){if(i&1){let e=H();a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select parent asset"),c(),a(4,"button",116),D("click",function(){k(e);let s=_();return s.parent_id=null,E(s.showParentDropdown=!1)}),m(5," -- None -- "),c(),T(6,d0,10,4,"button",117),c()()}if(i&2){let e=_();p(4),z("bg-blue-50",!e.parent_id),p(2),v("ngForOf",e.possibleParents)}}function m0(i,t){i&1&&(a(0,"span",84),m(1,"Select asset type"),c())}function p0(i,t){if(i&1){let e=H();a(0,"img",125),D("error",function(s){k(e);let r=_(2);return E(r.onAssetTypeIconError(s,r.selectedAssetType))}),c()}if(i&2){let e=_(2);v("src",e.selectedAssetType.icon,Se)("alt",e.selectedAssetType.name||e.selectedAssetType.label)}}function h0(i,t){if(i&1&&(A(),a(0,"svg",126),w(1,"path",127),c()),i&2){let e=_(2);Ee("color",e.selectedAssetType.color)}}function f0(i,t){if(i&1&&(a(0,"div",28)(1,"div",122),T(2,p0,1,2,"img",123)(3,h0,2,2,"svg",124),c(),a(4,"span",112),m(5),c()()),i&2){let e=_();p(),Ee("background-color",e.selectedAssetType.color+"20"),p(),v("ngIf",e.selectedAssetType.icon&&!e.selectedAssetType.iconError),p(),v("ngIf",!e.selectedAssetType.icon||e.selectedAssetType.iconError),p(2),F(e.selectedAssetType.label)}}function g0(i,t){if(i&1){let e=H();a(0,"img",133),D("error",function(s){k(e);let r=_().$implicit,o=_(2);return E(o.onAssetTypeIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Se)("alt",e.name||e.label)}}function _0(i,t){i&1&&(A(),a(0,"svg",19),w(1,"path",127),c())}function x0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.selectAssetType(s))}),a(1,"div",28)(2,"div",129),T(3,g0,1,2,"img",130)(4,_0,2,0,"svg",131),c(),a(5,"div")(6,"div",120),m(7),c(),a(8,"div",132),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)("text-blue-700",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id),p(3),v("ngIf",e.icon&&!e.iconError),p(),v("ngIf",!e.icon||e.iconError),p(3),F(e.label||e.name),p(2),F(e.description)}}function v0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select asset type"),c(),T(4,x0,10,8,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.assetTypes)}}function b0(i,t){if(i&1&&(a(0,"div",109),A(),a(1,"svg",110),w(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.assetTypeError," ")}}function y0(i,t){i&1&&(a(0,"span",84),m(1,"Select category"),c())}function w0(i,t){if(i&1&&(a(0,"span",112),m(1),c()),i&2){let e=_();p(),F(e.selectedCategory.name)}}function C0(i,t){if(i&1){let e=H();a(0,"img",133),D("error",function(s){k(e);let r=_().$implicit,o=_(2);return E(o.onCategoryIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Se)("alt",e.name)}}function S0(i,t){i&1&&(A(),a(0,"svg",119),w(1,"path",54),c())}function M0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),F(e.description)}}function k0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.selectCategory(s))}),a(1,"div",28)(2,"div",118),T(3,C0,1,2,"img",130)(4,S0,2,0,"svg",134),c(),a(5,"div")(6,"div",120),m(7),c(),T(8,M0,2,1,"div",86),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)("text-blue-700",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(3),v("ngIf",e.icon),p(),v("ngIf",!e.icon||e.iconError),p(3),F(e.name),p(),v("ngIf",e.description)}}function E0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select category"),c(),T(4,k0,9,8,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.categories)}}function A0(i,t){if(i&1&&(a(0,"div",109),A(),a(1,"svg",110),w(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.categoryError," ")}}function D0(i,t){if(i&1&&(a(0,"div",109),A(),a(1,"svg",110),w(2,"path",111),c(),m(3),c()),i&2){let e=_();p(3),W(" ",e.serialNumberError," ")}}function T0(i,t){i&1&&(a(0,"span",84),m(1,"Select location"),c())}function I0(i,t){if(i&1&&(a(0,"div",28)(1,"div",135),A(),a(2,"svg",136),w(3,"path",78)(4,"path",79),c()(),I(),a(5,"span",112),m(6),c()()),i&2){let e=_();p(6),F(e.selectedLocation.name)}}function P0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),F(e.type.name)}}function V0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.selectLocation(s))}),a(1,"div",28)(2,"div",137),A(),a(3,"svg",77),w(4,"path",78)(5,"path",79),c()(),I(),a(6,"div")(7,"div",120),m(8),c(),T(9,P0,2,1,"div",86),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id)("text-blue-700",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id),p(8),F(e.name),p(),v("ngIf",e.type)}}function L0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select location"),c(),T(4,V0,10,6,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.locations)}}function O0(i,t){i&1&&(a(0,"span",84),m(1,"Select department"),c())}function F0(i,t){if(i&1&&(a(0,"div",28)(1,"div",138),A(),a(2,"svg",139),w(3,"path",140),c()(),I(),a(4,"span",112),m(5),c()()),i&2){let e=_();p(5),F(e.selectedDepartment.name)}}function R0(i,t){if(i&1&&(a(0,"div",132),m(1),c()),i&2){let e=_().$implicit;p(),F(e.description)}}function H0(i,t){if(i&1&&(a(0,"div",143),m(1),c()),i&2){let e=_().$implicit;p(),W("Code: ",e.code,"")}}function N0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.selectDepartment(s))}),a(1,"div",28)(2,"div",141),A(),a(3,"svg",53),w(4,"path",140),c()(),I(),a(5,"div")(6,"div",120),m(7),c(),T(8,R0,2,1,"div",86)(9,H0,2,1,"div",142),c()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id)("text-blue-700",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id),p(7),F(e.name),p(),v("ngIf",e.description),p(),v("ngIf",e.code)}}function B0(i,t){if(i&1&&(a(0,"div",113)(1,"div",114)(2,"div",115),m(3,"Select department"),c(),T(4,N0,10,7,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.departments)}}function j0(i,t){if(i&1&&(a(0,"div",28),w(1,"div",144),a(2,"span",112),m(3),c()()),i&2){let e=_();p(),Ee("background-color",e.selectedStatus.hexColor||"#6B7280"),p(2),F(e.selectedStatus.label)}}function z0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.selectStatus(s))}),a(1,"div",28)(2,"div"),w(3,"div",144),c(),a(4,"div")(5,"div",120),m(6),c(),a(7,"div",132),m(8),c()()()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value)("text-blue-700",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value),p(2),$e("w-6 h-6 bg-"+e.color+"-100 rounded-lg flex items-center justify-center"),p(),Ee("background-color",e.hexColor||"#6B7280"),p(3),F(e.label),p(2),F(e.description)}}function W0(i,t){if(i&1&&(a(0,"div",145)(1,"div",114)(2,"div",115),m(3,"Select status"),c(),T(4,z0,9,10,"button",128),c()()),i&2){let e=_();p(4),v("ngForOf",e.statusOptions)}}function $0(i,t){if(i&1){let e=H();a(0,"span"),m(1),a(2,"button",149),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.removeTag(s))}),A(),a(3,"svg",150),w(4,"path",151),c()()()}if(i&2){let e=t.$implicit;$e("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-"+e.color+"-100 text-"+e.color+"-800"),p(),W(" ",e.name," ")}}function G0(i,t){if(i&1&&(a(0,"div",146)(1,"div",147),T(2,$0,5,3,"span",148),c()()),i&2){let e=_();p(2),v("ngForOf",e.selectedTags)}}function U0(i,t){if(i&1&&(a(0,"span",132),m(1),c()),i&2){let e=_();p(),W(" ",e.selectedTags.length," selected ")}}function Y0(i,t){i&1&&(a(0,"div",156),A(),a(1,"svg",126),w(2,"path",157),c()())}function q0(i,t){if(i&1){let e=H();a(0,"button",116),D("click",function(){let s=k(e).$implicit,r=_(2);return E(r.toggleTag(s))}),a(1,"div",34)(2,"div",28)(3,"div"),w(4,"div"),c(),a(5,"span",120),m(6),c()(),T(7,Y0,3,0,"div",155),c()()}if(i&2){let e=t.$implicit,n=_(2);z("bg-blue-50",n.isTagSelected(e)),p(3),$e("w-6 h-6 bg-"+e.color+"-100 rounded-full flex items-center justify-center"),p(),$e("w-3 h-3 rounded-full bg-"+e.color+"-500"),p(2),F(e.name),p(),v("ngIf",n.isTagSelected(e))}}function X0(i,t){if(i&1){let e=H();a(0,"div",113)(1,"div",114)(2,"div",152)(3,"div",67)(4,"input",153),he("ngModelChange",function(s){k(e);let r=_();return pe(r.newTagInput,s)||(r.newTagInput=s),E(s)}),D("keydown",function(s){k(e);let r=_();return E(r.onTagInputKeydown(s))})("click",function(s){return k(e),E(s.stopPropagation())}),c(),a(5,"div",154),m(6," Press Enter "),c()()(),a(7,"div",115),m(8,"Select tags"),c(),T(9,q0,8,8,"button",117),c()()}if(i&2){let e=_();p(4),me("ngModel",e.newTagInput),p(5),v("ngForOf",e.availableTags)}}function Q0(i,t){if(i&1){let e=H();a(0,"button",177),D("click",function(){k(e);let s=_().index,r=_(2);return E(r.moveImageUp(s))}),A(),a(1,"svg",126),w(2,"path",178),c()()}}function K0(i,t){if(i&1){let e=H();a(0,"button",177),D("click",function(){k(e);let s=_().index,r=_(2);return E(r.moveImageDown(s))}),A(),a(1,"svg",126),w(2,"path",38),c()()}}function J0(i,t){if(i&1){let e=H();a(0,"div",167)(1,"div",168)(2,"img",169),D("error",function(s){let r=k(e).index,o=_(2);return E(o.onImageError(s,r))})("load",function(s){let r=k(e).index,o=_(2);return E(o.onImageLoad(s,r))}),c(),a(3,"div",170)(4,"div",171),T(5,Q0,3,0,"button",172)(6,K0,3,0,"button",172),c()(),a(7,"button",173),D("click",function(){let s=k(e).index,r=_(2);return E(r.removeImage(s))}),A(),a(8,"svg",126),w(9,"path",151),c()(),I(),a(10,"div",174),m(11),c()(),a(12,"div",175)(13,"p",176),m(14),c(),a(15,"p",121),m(16),c()()()}if(i&2){let e,n=t.$implicit,s=t.index,r=_(2);p(2),v("src",n,Se)("alt","Asset Image "+(s+1)),p(3),v("ngIf",s>0),p(),v("ngIf",s<r.imagePreviewUrls.length-1),p(5),W(" ",s+1," "),p(3),F(r.images[s].name),p(2),W("",(((e=r.images[s].size)!==null&&e!==void 0?e:0)/1024/1024).toFixed(1)," MB")}}function Z0(i,t){if(i&1){let e=H();a(0,"div",158)(1,"div",159)(2,"h4",160),m(3),c(),a(4,"button",161),D("click",function(){k(e);let s=_();return E(s.removeAllImages())}),m(5," Remove All "),c()(),a(6,"div",162),T(7,J0,17,7,"div",163),c(),a(8,"div",164)(9,"div",85),A(),a(10,"svg",165),w(11,"path",88),c(),I(),a(12,"p",166)(13,"strong"),m(14,"Gallery Tips:"),c(),m(15," Hover over images to reorder them. The first image will be the primary asset image. "),c()()()()}if(i&2){let e=_();p(3),W("Selected Images (",e.imagePreviewUrls.length,")"),p(4),v("ngForOf",e.imagePreviewUrls)}}function eu(i,t){if(i&1&&(a(0,"div",179)(1,"div",85),A(),a(2,"svg",180),w(3,"path",111),c(),I(),a(4,"p",181),m(5),c()()()),i&2){let e=_();p(5),F(e.submitError)}}function tu(i,t){if(i&1&&(a(0,"div",182)(1,"div",85),A(),a(2,"svg",58),w(3,"path",157),c(),I(),a(4,"p",183),m(5),c()()()),i&2){let e=_();p(5),F(e.submitSuccess)}}function iu(i,t){i&1&&(a(0,"span",85),A(),a(1,"svg",184),w(2,"path",96),c(),I(),a(3,"span"),m(4,"Create Asset"),c()())}function nu(i,t){i&1&&(a(0,"span",85),A(),a(1,"svg",185),w(2,"circle",186)(3,"path",187),c(),I(),a(4,"span"),m(5,"Creating Asset..."),c()())}var ss=class i{constructor(t,e,n,s){this.assetService=t;this.router=e;this.route=n;this.http=s}dateInputs;fileInput;flatpickrInstances=[];name="";description="";serial_number="";model="";manufacturer="";purchase_date="";purchase_price=null;depreciation=null;depreciation_life=null;location_id=null;department_id=null;warranty="";insurance="";health_score=85;status=null;tags=[];images=[];imagePreviewUrls=[];meta={};isSubmitting=!1;isDragOver=!1;submitError="";submitSuccess="";submitFieldErrors={};locations=[];availableTags=[];departments=[];possibleParents=[];parent_id=null;showAssetTypeDropdown=!1;showCategoryDropdown=!1;showLocationDropdown=!1;showStatusDropdown=!1;showTagsDropdown=!1;showDepartmentDropdown=!1;showParentDropdown=!1;selectedAssetType=null;selectedCategory=null;selectedLocation=null;selectedStatus=null;selectedDepartment=null;selectedTags=[];newTagInput="";nameError="";assetTypeError="";categoryError="";serialNumberError="";address="";onFileChange(t){if(t.target.files&&t.target.files.length){let e=Array.from(t.target.files);this.processFiles(e),t.target.value=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=Array.from(e).filter(s=>s.type.startsWith("image/"));n.length>0&&this.processFiles(n)}}processFiles(t){let n=["image/jpeg","image/png","image/gif","image/webp"],s=[],r=[];for(let o of t){if(!n.includes(o.type)){console.warn("Invalid file type:",o.name);continue}if(o.size>10*1024*1024){console.warn("File too large:",o.name);continue}if(this.images.some(u=>u.name===o.name&&u.size===o.size)){console.warn("Duplicate file skipped:",o.name);continue}if(this.images.length+s.length>=10){console.warn("Max image count exceeded:",o.name);break}s.push(o);let d=new FileReader;d.onload=u=>{u.target?.result&&this.imagePreviewUrls.push(u.target.result)},d.onerror=u=>{console.error("Preview failed for:",o.name,u)},d.readAsDataURL(o)}this.images=[...this.images,...s]}onSubmit(){this.clearErrors(),this.validateForm()&&(this.isSubmitting=!0,this.submitError="",this.submitSuccess="",this.submitFieldErrors={},this.convertImagesToBase64().then(t=>{let e={name:this.name,description:this.description,category_id:this.category_id,type:this.assetType,serial_number:this.serial_number,model:this.model,manufacturer:this.manufacturer,purchase_date:this.purchase_date?this.convertDateToBackendFormat(this.purchase_date):null,purchase_price:this.purchase_price,depreciation:this.depreciation,depreciation_life:this.depreciation_life,location_id:this.location_id,department_id:this.department_id,parent_id:this.parent_id,warranty:this.warranty,insurance:this.insurance,health_score:this.health_score,status:this.status,tags:this.selectedTags.map(n=>n.name),meta:this.meta,images:t};this.assetService.createAsset(e).subscribe({next:n=>{this.isSubmitting=!1,n.success?(this.submitSuccess="Asset created successfully!",setTimeout(()=>{this.router.navigate(["/assets/list"])},2e3)):(this.submitError=n.message||"Failed to create asset.",this.handleFieldErrors(n.errors||{}))},error:n=>{this.isSubmitting=!1,this.submitError=n.error?.message||"Failed to create asset.",this.handleFieldErrors(n.error?.errors||n.errors||{})}})}).catch(t=>{this.isSubmitting=!1,this.submitError="Failed to process images. Please try again.",console.error("Image conversion error:",t)}))}healthScore=85;categories=[];category_id=null;assetTypes=[];assetType=null;assetTypesFromAPI=[];statusOptionsFromAPI=[];statusOptions=[{value:1,label:"Active",color:"green",description:"Asset is operational and in use",sort_order:1},{value:2,label:"Maintenance",color:"orange",description:"Asset is under maintenance or repair",sort_order:2},{value:3,label:"Inactive",color:"gray",description:"Asset is not currently in use",sort_order:3},{value:4,label:"Retired",color:"red",description:"Asset is retired and no longer in service",sort_order:4}];ngOnInit(){this.route.queryParams.subscribe(t=>{t.duplicate&&t.sourceId&&this.loadAssetForDuplication(t.sourceId)}),this.assetService.getAssetCategories().subscribe(t=>{t.success&&t.data?.categories&&(this.categories=t.data.categories)}),this.assetService.getAssetTypes().subscribe(t=>{t.success&&t.data&&(this.assetTypesFromAPI=t.data,this.assetTypes=this.assetTypesFromAPI.map(e=>({id:e.id,name:e.name,label:e.name,icon:e.icon,color:this.getColorForType(e.name),description:`${e.name} asset type`,iconError:!1})))}),this.assetService.getAssetStatuses().subscribe(t=>{t.success&&t.data&&(this.statusOptionsFromAPI=t.data,this.statusOptions=this.statusOptionsFromAPI.map(e=>({id:e.id,value:e.id,label:e.name,color:this.hexToTailwindColor(e.color),description:e.description||`Asset is ${e.name.toLowerCase()}`,hexColor:e.color,sort_order:e.sort_order})),this.statusOptions.sort((e,n)=>e.sort_order-n.sort_order),this.statusOptions.length>0&&(this.selectedStatus=this.statusOptions[0],this.status=this.selectedStatus.value))}),this.assetService.getLocations().subscribe(t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data)}),this.assetService.getDepartments().subscribe(t=>{t.success&&t.data&&(this.departments=t.data)}),this.assetService.getAssets({per_page:1e3}).subscribe(t=>{t.success&&t.data?.assets&&(this.possibleParents=t.data.assets)}),this.loadAvailableTags()}ngAfterViewInit(){setTimeout(()=>{this.initializeFlatpickr()},100)}ngOnDestroy(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()})}initializeFlatpickr(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs?(console.log("Found date inputs:",this.dateInputs.length),this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=t.nativeElement,s=n.getAttribute("name");if(console.log("Processing date input:",s),s==="purchase_date"){console.log("Initializing Flatpickr for purchase_date");let o=qt(n,{dateFormat:"d M, Y",allowInput:!0,clickOpens:!0,maxDate:"today",onChange:(l,d)=>{console.log("Date selected:",d),this.purchase_date=d}});this.flatpickrInstances.push(o),console.log("Flatpickr initialized successfully for purchase_date")}}})):console.warn("No date inputs found")},50)}loadAvailableTags(){this.availableTags=[{id:1,name:"Critical",color:"red"},{id:2,name:"High Priority",color:"orange"},{id:3,name:"Equipment",color:"blue"},{id:4,name:"IT Hardware",color:"purple"},{id:5,name:"Furniture",color:"green"},{id:6,name:"Vehicle",color:"yellow"},{id:7,name:"Safety Equipment",color:"red"},{id:8,name:"Office Supplies",color:"gray"}]}loadAssetForDuplication(t){this.assetService.getAsset(t).subscribe({next:e=>{if(e.success){let n=e.data.asset||e.data;this.populateFormFromSource(n)}},error:e=>{console.error("Error loading source asset for duplication:",e)}})}populateFormFromSource(t){this.name=t.name?`${t.name} (Copy)`:"",this.description=t.description||"",this.model=t.model||"",this.manufacturer=t.manufacturer||"",this.purchase_date=t.purchase_date?this.convertBackendDateToDisplay(t.purchase_date):"",this.purchase_price=t.purchase_price||null,this.depreciation=t.depreciation||null,this.depreciation_life=t.depreciation_life||null,this.location_id=t.location_id||null,this.department_id=t.department_id||null,this.warranty=t.warranty?this.convertBackendDateToDisplay(t.warranty):"",this.insurance=t.insurance||"",this.health_score=t.health_score||85,this.status=t.status||"Active",setTimeout(()=>{t.type&&(this.selectedAssetType=this.assetTypes.find(e=>e.id==t.type||e.id===parseInt(t.type))||null,this.selectedAssetType&&(this.assetType=this.selectedAssetType.id)),t.category_id&&(this.selectedCategory=this.categories.find(e=>e.id===t.category_id)||null,this.category_id=t.category_id),t.location_id&&(this.selectedLocation=this.locations.find(e=>e.id===t.location_id)||null),t.department_id&&(this.selectedDepartment=this.departments.find(e=>e.id===t.department_id)||null),t.status&&(this.selectedStatus=this.statusOptions.find(e=>e.value===t.status||e.label===t.status||e.id===t.status)||null,this.selectedStatus&&(this.status=this.selectedStatus.value)),!this.selectedStatus&&this.statusOptions.length>0&&(this.selectedStatus=this.statusOptions[0],this.status=this.selectedStatus.value),t.tags&&Array.isArray(t.tags)&&(this.selectedTags=t.tags.map(e=>this.availableTags.find(n=>n.id===e.id)||e)),this.clearErrors()},500),this.serial_number="",t.images&&Array.isArray(t.images)&&t.images.length>0&&this.duplicateImages(t.images)}goBack(){this.router.navigate(["/assets/list"])}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showCategoryDropdown=!1,this.showLocationDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showAssetTypeDropdown=!1,this.showLocationDropdown=!1}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showStatusDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showTagsDropdown=!1}toggleTagsDropdown(){this.showTagsDropdown=!this.showTagsDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showDepartmentDropdown=!1}toggleDepartmentDropdown(){this.showDepartmentDropdown=!this.showDepartmentDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.assetType=t.id,this.showAssetTypeDropdown=!1,this.clearErrors()}selectCategory(t){this.selectedCategory=t,this.category_id=t.id,this.showCategoryDropdown=!1,this.clearErrors()}selectLocation(t){this.selectedLocation=t,this.location_id=t.id,this.showLocationDropdown=!1}selectStatus(t){this.selectedStatus=t,this.status=t.value,this.showStatusDropdown=!1}selectDepartment(t){this.selectedDepartment=t,this.department_id=t.id,this.showDepartmentDropdown=!1}toggleTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1?this.selectedTags.splice(e,1):this.selectedTags.push(t)}isTagSelected(t){return this.selectedTags.some(e=>e.id===t.id)}onTagInputKeydown(t){t.key==="Enter"&&(t.preventDefault(),this.createNewTag())}createNewTag(){let t=this.newTagInput.trim();if(t&&!this.selectedTags.some(e=>e.name.toLowerCase()===t.toLowerCase())){let e=["red","blue","green","yellow","purple","pink","indigo","gray"],n=e[Math.floor(Math.random()*e.length)],s={id:Date.now(),name:t,color:n,isNew:!0};this.selectedTags.push(s),this.newTagInput=""}}removeTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1&&this.selectedTags.splice(e,1)}onDocumentClick(t){this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}validateForm(){let t=!0;if(!this.name||this.name.trim().length===0?(this.nameError="Asset name is required",t=!1):this.name.trim().length>100&&(this.nameError="Asset name cannot exceed 100 characters",t=!1),this.description&&this.description.length>1e3&&(this.submitError="Description cannot exceed 1000 characters",t=!1),!this.serial_number||this.serial_number.trim().length===0?(this.serialNumberError="Serial number is required",t=!1):this.serial_number.length>100&&(this.serialNumberError="Serial number cannot exceed 100 characters",t=!1),this.model&&this.model.length>100&&(this.submitError="Model cannot exceed 100 characters",t=!1),this.manufacturer&&this.manufacturer.length>100&&(this.submitError="Manufacturer cannot exceed 100 characters",t=!1),this.warranty&&this.warranty.length>255&&(this.submitError="Warranty cannot exceed 255 characters",t=!1),this.insurance&&this.insurance.length>255&&(this.submitError="Insurance cannot exceed 255 characters",t=!1),this.purchase_price!==null&&this.purchase_price<0&&(this.submitError="Purchase price cannot be negative",t=!1),this.depreciation!==null&&(this.depreciation<0||this.depreciation>100)&&(this.submitError="Depreciation must be between 0 and 100",t=!1),this.depreciation_life!==null&&(this.depreciation_life<1||this.depreciation_life>100)&&(this.submitError="Depreciation life must be between 1 and 100 years",t=!1),this.purchase_date){let e=new Date;new Date(this.purchase_date)>e&&(this.submitError="Purchase date cannot be in the future",t=!1)}return(this.health_score<0||this.health_score>100)&&(this.submitError="Health score must be between 0 and 100",t=!1),this.category_id||(this.categoryError="Category is required",t=!1),this.assetType||(this.assetTypeError="Asset type is required",t=!1),t}clearErrors(){this.nameError="",this.assetTypeError="",this.categoryError="",this.serialNumberError="",this.submitError="",this.submitSuccess=""}handleFieldErrors(t){t.name&&(this.nameError=t.name[0]),t.type&&(this.assetTypeError=t.type[0]),t.category_id&&(this.categoryError=t.category_id[0]),t.serial_number&&(this.serialNumberError=t.serial_number[0])}isFormValid(){return!!(this.name&&this.name.trim().length>0&&this.name.trim().length<=100)}removeImage(t){this.images.splice(t,1),this.imagePreviewUrls.splice(t,1)}removeAllImages(){this.images=[],this.imagePreviewUrls=[]}moveImage(t,e){if(e>=0&&e<this.images.length){let n=this.images.splice(t,1)[0];this.images.splice(e,0,n);let s=this.imagePreviewUrls.splice(t,1)[0];this.imagePreviewUrls.splice(e,0,s)}}moveImageUp(t){t>0&&this.moveImage(t,t-1)}moveImageDown(t){t<this.images.length-1&&this.moveImage(t,t+1)}getTodayDate(){return new Date().toISOString().split("T")[0]}convertDateToBackendFormat(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${r}`}catch(e){return console.error("Date conversion error:",e),t}}convertBackendDateToDisplay(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("en-GB",n).replace(/,/g,",")}catch(e){return console.error("Date conversion error:",e),t}}getIconFromPath(t){return t&&(t.split("/").pop()||"").replace(".svg","")||"cube"}getColorForType(t){return{"Fixed Asset":"#2563eb","Semi-Fixed Asset":"#22c55e","Mobile Asset":"#f59e42","Fleet Asset":"#a855f7","IT Equipment":"#3b82f6",Furniture:"#10b981",Vehicle:"#f59e0b",Machinery:"#ef4444",Electronics:"#8b5cf6",Tools:"#f97316"}[t]||"#6b7280"}hexToTailwindColor(t){return{"#10B981":"green","#F59E0B":"orange","#9CA3AF":"gray","#EF4444":"red","#6B7280":"gray","#22C55E":"green","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange"}[t.toUpperCase()]||"gray"}onImageError(t,e){console.error("Image failed to load at index:",e),console.error("Image src:",t.target.src),console.error("Image file:",this.images[e]),t.target.style.display="none"}onImageLoad(t,e){console.log("Image loaded successfully at index:",e),console.log("Image dimensions:",t.target.naturalWidth,"x",t.target.naturalHeight)}convertImagesToBase64(){return Promise.all(this.images.map(t=>new Promise((e,n)=>{let s=new FileReader;s.onload=()=>{s.result?e(s.result):n(new Error("Failed to read file"))},s.onerror=()=>n(s.error),s.readAsDataURL(t)})))}onCategoryIconError(t,e){console.warn("Category icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}onAssetTypeIconError(t,e){console.warn("Asset type icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}triggerFileInput(){this.fileInput.nativeElement.click()}duplicateImages(t){t.forEach((e,n)=>{if(e.image_url){this.imagePreviewUrls.push(e.image_url);let s=`existing-image-${n+1}.jpg`,r=new File([""],s,{type:"image/jpeg"});this.images.push(r)}})}getSelectedParent(){return this.possibleParents.find(t=>t.id===this.parent_id)}static \u0275fac=function(e){return new(e||i)(ue(at),ue(yt),ue(Ci),ue(Lo))};static \u0275cmp=Fe({type:i,selectors:[["app-asset-create"]],viewQuery:function(e,n){if(e&1&&(_t(s0,5),_t(r0,5)),e&2){let s;xt(s=vt())&&(n.fileInput=s.first),xt(s=vt())&&(n.dateInputs=s)}},hostBindings:function(e,n){e&1&&D("click",function(r){return n.onDocumentClick(r)},!1,wi)},decls:300,vars:118,consts:[["assetForm","ngForm"],["nameInput","ngModel"],["dateInput",""],["fileInput",""],[1,"min-h-screen","bg-gray-50","p-6"],[1,"asset-create-page"],[1,"mb-8"],[1,"flex","items-center","space-x-4","mb-4"],["type","button",1,"flex","items-center","space-x-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[3,"ngSubmit"],[1,"section-card"],[1,"flex","items-center","space-x-3","mb-6"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"section-title"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","placeholder","e.g., Main Server Room AC Unit","name","name","required","",1,"input",3,"ngModelChange","ngModel"],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","space-x-3"],["type","text","value","AST-012","readonly","",1,"input","flex-1"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"mb-6"],[1,"relative",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["rows","3","placeholder","Brief description of the asset and its purpose...","name","description","maxlength","500",1,"input","resize-none",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"relative","w-full","h-6","mb-3"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-2","bg-gray-200","rounded-lg"],[1,"absolute","top-1/2","transform","-translate-y-1/2","h-2","rounded-lg","transition-all","duration-300"],["type","range","min","0","max","100","name","health_score",1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-6","bg-transparent","appearance-none","cursor-pointer","slider-input",3,"ngModelChange","ngModel"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-4","h-4","rounded-full","border-2","border-white","shadow-md","pointer-events-none","transition-all","duration-300",2,"margin-left","-8px"],[1,"flex","justify-between","text-xs","text-gray-500","mt-2"],[1,"w-10","h-10","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","flex items-center space-x-3",4,"ngIf"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["type","text","placeholder","e.g., Dell, HP, Toyota","name","manufacturer","maxlength","100",1,"input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., PowerEdge R730","name","model","maxlength","100",1,"input",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., SN123456789","name","serial_number","required","","maxlength","100",1,"input",3,"ngModelChange","ngModel"],[1,"w-10","h-10","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","placeholder","5,000.00","name","purchase_price","step","0.01","min","0",1,"input",2,"padding-left","24px",3,"ngModelChange","ngModel"],["type","text","name","purchase_date","placeholder","Select purchase date","readonly","",1,"input",3,"ngModelChange","ngModel"],["type","number","name","depreciation","placeholder","e.g., 20","min","0","max","100","step","0.01",1,"input",3,"ngModelChange","ngModel"],["type","number","name","depreciation_life","placeholder","e.g., 5","min","1","max","100",1,"input",3,"ngModelChange","ngModel"],["type","text","name","warranty","placeholder","e.g., 2 years manufacturer warranty","maxlength","255",1,"input",3,"ngModelChange","ngModel"],["type","text","name","insurance","placeholder","e.g., Policy #12345, expires 2025-12-31","maxlength","255",1,"input",3,"ngModelChange","ngModel"],[1,"w-10","h-10","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"col-span-1","md:col-span-2"],["type","text","placeholder","Enter asset address","name","address","autocomplete","off",1,"input","w-full",3,"ngModelChange","ngModel"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["class","text-sm text-gray-500",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","bg-pink-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-pink-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mt-1","flex","justify-center","px-6","pt-8","pb-8","border-2","border-dashed","rounded-lg","transition-all","duration-200",3,"click","dragover","dragleave","drop"],[1,"space-y-1","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-lg","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","transition-colors"],["id","file-upload","name","file-upload","type","file","accept","image/*","multiple","",1,"sr-only",3,"change"],["class","mt-6",4,"ngIf"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-between","pt-6","border-t","border-gray-200"],["type","button",1,"px-6","py-3","border","border-gray-300","rounded-lg","text-gray-700","font-medium","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["type","submit",1,"px-8","py-3","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm",3,"disabled"],["class","flex items-center space-x-2",4,"ngIf"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-blue-800","font-medium"],[1,"text-blue-700","text-sm"],[1,"text-red-600","text-sm","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],[1,"px-3","py-2","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","bg-gray-50"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","bg-gray-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-6","h-6","rounded","flex","items-center","justify-center"],["class","w-4 h-4",3,"src","alt","error",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"color",4,"ngIf"],[1,"w-4","h-4",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","text-blue-700","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-blue-100"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"w-5","h-5",3,"error","src","alt"],["class","w-5 h-5 text-gray-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-6","h-6","bg-indigo-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-600"],[1,"w-8","h-8","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","bg-purple-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"w-8","h-8","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"mb-3"],[1,"flex","flex-wrap","gap-2"],[3,"class",4,"ngFor","ngForOf"],["type","button",1,"ml-2","inline-flex","items-center","justify-center","w-4","h-4","rounded-full","hover:bg-black","hover:bg-opacity-20","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-3","py-2","border-b","border-gray-100"],["type","text","name","newTagInput","placeholder","Type to create new tag...",1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","keydown","click","ngModel"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","text-xs","text-gray-400"],["class","text-blue-600",4,"ngIf"],[1,"text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-700"],["type","button",1,"text-red-600","hover:text-red-700","text-sm","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","relative group",4,"ngFor","ngForOf"],[1,"mt-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"text-blue-800","text-sm"],[1,"relative","group"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","border","border-gray-200","hover:border-blue-300","transition-colors"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","load","src","alt"],[1,"absolute","inset-0","bg-black","opacity-50","group-hover:bg-opacity-20","transition-all","duration-200","flex","items-center","justify-center"],[1,"opacity-0","group-hover:opacity-100","transition-opacity","duration-200","flex","items-center","space-x-2"],["type","button","class","w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm",3,"click",4,"ngIf"],["type","button",1,"absolute","top-2","right-2","w-6","h-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-sm",3,"click"],[1,"absolute","top-2","left-2","w-6","h-6","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-xs","font-medium"],[1,"mt-2","text-center"],[1,"text-xs","text-gray-600","truncate"],["type","button",1,"w-8","h-8","bg-white","bg-opacity-90","text-gray-700","rounded-full","flex","items-center","justify-center","hover:bg-opacity-100","transition-all","shadow-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],[1,"text-red-800","font-medium"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-green-800","font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){if(e&1){let s=H();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"button",8),D("click",function(){return k(s),E(n.goBack())}),A(),a(5,"svg",9),w(6,"path",10),c(),I(),a(7,"span",11),m(8,"Back to Assets"),c()()(),a(9,"h1",12),m(10),c(),a(11,"p",13),m(12),c(),T(13,o0,9,0,"div",14),c(),a(14,"form",15,0),D("ngSubmit",function(){return k(s),E(n.onSubmit())}),a(16,"div",16)(17,"div",17)(18,"div",18),A(),a(19,"svg",19),w(20,"path",20),c()(),I(),a(21,"h2",21),m(22,"Basic Information"),c()(),a(23,"div",22)(24,"div")(25,"label",23),m(26," Asset Name "),a(27,"span",24),m(28,"*"),c()(),a(29,"input",25,1),he("ngModelChange",function(o){return k(s),pe(n.name,o)||(n.name=o),E(o)}),c(),T(31,a0,4,1,"div",26),a(32,"div",27),m(33,"Maximum 100 characters"),c()(),a(34,"div")(35,"label",23),m(36,"Asset ID"),c(),a(37,"div",28),w(38,"input",29),a(39,"span",30),m(40," auto-generated "),c()(),a(41,"p",27),m(42,"Unique identifier automatically assigned"),c()()(),a(43,"div",31)(44,"label",23),m(45,"Parent Asset"),c(),a(46,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(47,"button",33),D("click",function(){return k(s),E(n.showParentDropdown=!n.showParentDropdown)}),a(48,"div",34),T(49,l0,2,0,"span",35)(50,c0,2,2,"span",36),A(),a(51,"svg",37),w(52,"path",38),c()()(),T(53,u0,7,3,"div",39),c(),I(),a(54,"div",27),m(55,"Optional: Select a parent asset if this asset is a child of another."),c()(),a(56,"div",31)(57,"label",23),m(58,"Description"),c(),a(59,"textarea",40),he("ngModelChange",function(o){return k(s),pe(n.description,o)||(n.description=o),E(o)}),c(),a(60,"div",27),m(61,"Maximum 500 characters"),c()(),a(62,"div")(63,"label",41),m(64,"Health Score"),c(),a(65,"div",42)(66,"div",43)(67,"span",44),m(68,"Current Score"),c(),a(69,"span",45),m(70),c()(),a(71,"div",46),w(72,"div",47)(73,"div",48),a(74,"input",49),he("ngModelChange",function(o){return k(s),pe(n.healthScore,o)||(n.healthScore=o),E(o)}),c(),w(75,"div",50),c(),a(76,"div",51)(77,"span"),m(78,"Poor (0%)"),c(),a(79,"span"),m(80,"Fair (25%)"),c(),a(81,"span"),m(82,"Good (50%)"),c(),a(83,"span"),m(84,"Very Good (75%)"),c(),a(85,"span"),m(86,"Excellent (100%)"),c()()()()(),a(87,"div",16)(88,"div",17)(89,"div",52),A(),a(90,"svg",53),w(91,"path",54),c()(),I(),a(92,"h2",21),m(93,"Asset Classification"),c()(),a(94,"div",55)(95,"div")(96,"label",23),m(97," Asset Type "),a(98,"span",24),m(99,"*"),c()(),a(100,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(101,"button",33),D("click",function(){return k(s),E(n.toggleAssetTypeDropdown())}),a(102,"div",34),T(103,m0,2,0,"span",35)(104,f0,6,5,"div",56),A(),a(105,"svg",37),w(106,"path",38),c()()(),T(107,v0,5,1,"div",39),c(),T(108,b0,4,1,"div",26),c(),I(),a(109,"div")(110,"label",23),m(111," Category "),a(112,"span",24),m(113,"*"),c()(),a(114,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(115,"button",33),D("click",function(){return k(s),E(n.toggleCategoryDropdown())}),a(116,"div",34),T(117,y0,2,0,"span",35)(118,w0,2,1,"span",36),A(),a(119,"svg",37),w(120,"path",38),c()()(),T(121,E0,5,1,"div",39),c(),T(122,A0,4,1,"div",26),c()()(),I(),a(123,"div",16)(124,"div",17)(125,"div",57),A(),a(126,"svg",58),w(127,"path",59),c()(),I(),a(128,"h2",21),m(129,"Technical Details"),c()(),a(130,"div",60)(131,"div")(132,"label",23),m(133,"Manufacturer"),c(),a(134,"input",61),he("ngModelChange",function(o){return k(s),pe(n.manufacturer,o)||(n.manufacturer=o),E(o)}),c(),a(135,"div",27),m(136,"Maximum 100 characters"),c()(),a(137,"div")(138,"label",23),m(139,"Model"),c(),a(140,"input",62),he("ngModelChange",function(o){return k(s),pe(n.model,o)||(n.model=o),E(o)}),c(),a(141,"div",27),m(142,"Maximum 100 characters"),c()(),a(143,"div")(144,"label",23),m(145," Serial Number "),a(146,"span",24),m(147,"*"),c()(),a(148,"input",63),he("ngModelChange",function(o){return k(s),pe(n.serial_number,o)||(n.serial_number=o),E(o)}),c(),T(149,D0,4,1,"div",26),a(150,"div",27),m(151,"Required, max 100 chars, must be unique within your company"),c()()()(),a(152,"div",16)(153,"div",17)(154,"div",64),A(),a(155,"svg",65),w(156,"path",66),c()(),I(),a(157,"h2",21),m(158,"Financial Information"),c()(),a(159,"div",22)(160,"div")(161,"label",23),m(162,"Purchase Value (USD)"),c(),a(163,"div",67)(164,"div",68)(165,"span",69),m(166,"$ "),c()(),a(167,"input",70),he("ngModelChange",function(o){return k(s),pe(n.purchase_price,o)||(n.purchase_price=o),E(o)}),c()(),a(168,"div",27),m(169,"Must be a non-negative number"),c()(),a(170,"div")(171,"label",23),m(172,"Purchase Date"),c(),a(173,"input",71,2),he("ngModelChange",function(o){return k(s),pe(n.purchase_date,o)||(n.purchase_date=o),E(o)}),c(),a(175,"div",27),m(176,"Cannot be in the future"),c()()(),a(177,"div",22)(178,"div")(179,"label",23),m(180,"Depreciation Rate (%)"),c(),a(181,"input",72),he("ngModelChange",function(o){return k(s),pe(n.depreciation,o)||(n.depreciation=o),E(o)}),c(),a(182,"div",27),m(183,"Annual depreciation rate (0-100%)"),c()(),a(184,"div")(185,"label",23),m(186,"Depreciation Life (Years)"),c(),a(187,"input",73),he("ngModelChange",function(o){return k(s),pe(n.depreciation_life,o)||(n.depreciation_life=o),E(o)}),c(),a(188,"div",27),m(189,"Useful life for depreciation calculation (1-100 years)"),c()()(),a(190,"div",22)(191,"div")(192,"label",23),m(193,"Warranty Information"),c(),a(194,"input",74),he("ngModelChange",function(o){return k(s),pe(n.warranty,o)||(n.warranty=o),E(o)}),c(),a(195,"div",27),m(196,"Warranty details (max 255 characters)"),c()(),a(197,"div")(198,"label",23),m(199,"Insurance Information"),c(),a(200,"input",75),he("ngModelChange",function(o){return k(s),pe(n.insurance,o)||(n.insurance=o),E(o)}),c(),a(201,"div",27),m(202,"Insurance details (max 255 characters)"),c()()()(),a(203,"div",16)(204,"div",17)(205,"div",76),A(),a(206,"svg",77),w(207,"path",78)(208,"path",79),c()(),I(),a(209,"h2",21),m(210,"Location & Assignment"),c()(),a(211,"div",55)(212,"div")(213,"label",23),m(214,"Location"),c(),a(215,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(216,"button",33),D("click",function(){return k(s),E(n.toggleLocationDropdown())}),a(217,"div",34),T(218,T0,2,0,"span",35)(219,I0,7,1,"div",56),A(),a(220,"svg",37),w(221,"path",38),c()()(),T(222,L0,5,1,"div",39),c()(),I(),a(223,"div",80)(224,"label",23),m(225,"Address"),c(),a(226,"input",81),he("ngModelChange",function(o){return k(s),pe(n.address,o)||(n.address=o),E(o)}),c(),a(227,"div",27),m(228,"Enter the physical address of the asset"),c()(),a(229,"div")(230,"label",23),m(231,"Department ID"),c(),a(232,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(233,"button",33),D("click",function(){return k(s),E(n.toggleDepartmentDropdown())}),a(234,"div",34),T(235,O0,2,0,"span",35)(236,F0,6,1,"div",56),A(),a(237,"svg",37),w(238,"path",38),c()()(),T(239,B0,5,1,"div",39),c(),I(),a(240,"div",27),m(241,"Optional department assignment"),c()(),a(242,"div")(243,"label",23),m(244,"Status"),c(),a(245,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(246,"button",33),D("click",function(){return k(s),E(n.toggleStatusDropdown())}),a(247,"div",34),T(248,j0,4,3,"div",56),A(),a(249,"svg",37),w(250,"path",38),c()()(),T(251,W0,5,1,"div",82),c(),I(),a(252,"div",27),m(253,"Current operational status of the asset"),c()(),a(254,"div")(255,"label",23),m(256,"Tags"),c(),T(257,G0,3,1,"div",83),a(258,"div",32),D("click",function(o){return k(s),E(o.stopPropagation())}),a(259,"button",33),D("click",function(){return k(s),E(n.toggleTagsDropdown())}),a(260,"div",34)(261,"span",84),m(262),c(),a(263,"div",85),T(264,U0,2,1,"span",86),A(),a(265,"svg",37),w(266,"path",38),c()()()(),T(267,X0,10,2,"div",39),c(),I(),a(268,"div",27),A(),a(269,"svg",87),w(270,"path",88),c(),m(271," Select existing tags or type to create new ones. Press Enter to add custom tags. "),c()()()(),I(),a(272,"div",16)(273,"div",17)(274,"div",89),A(),a(275,"svg",90),w(276,"path",91),c()(),I(),a(277,"h2",21),m(278,"Asset Image"),c()(),a(279,"div")(280,"label",23),m(281,"Upload Image"),c(),a(282,"div",92),D("click",function(){return k(s),E(n.triggerFileInput())})("dragover",function(o){return k(s),E(n.onDragOver(o))})("dragleave",function(o){return k(s),E(n.onDragLeave(o))})("drop",function(o){return k(s),E(n.onDrop(o))}),a(283,"div",93)(284,"div",94),A(),a(285,"svg",95),w(286,"path",96),c()(),I(),a(287,"p",97),m(288),c(),a(289,"input",98,3),D("change",function(o){return k(s),E(n.onFileChange(o))}),c()()(),T(291,Z0,16,2,"div",99),c()(),T(292,eu,6,1,"div",100)(293,tu,6,1,"div",101),a(294,"div",102)(295,"button",103),D("click",function(){return k(s),E(n.goBack())}),m(296," Cancel "),c(),a(297,"button",104),T(298,iu,5,0,"span",105)(299,nu,6,0,"span",105),c()()()()()}e&2&&(p(10),W(" ",n.route.snapshot.queryParams.duplicate?"Duplicate Asset":"Create New Asset"," "),p(2),W(" ",n.route.snapshot.queryParams.duplicate?"Creating a copy of an existing asset. Please review and update the information below.":"Add a new asset to your inventory with detailed information and specifications"," "),p(),v("ngIf",n.route.snapshot.queryParams.duplicate),p(16),z("border-red-300",n.nameError),me("ngModel",n.name),p(2),v("ngIf",n.nameError),p(16),z("border-blue-500",n.showParentDropdown),p(2),v("ngIf",!n.parent_id),p(),v("ngIf",n.parent_id&&n.getSelectedParent()),p(),z("rotate-180",n.showParentDropdown),p(2),v("ngIf",n.showParentDropdown),p(6),me("ngModel",n.description),p(10),z("text-red-600",n.healthScore<50)("text-green-600",n.healthScore>=50),p(),W("",n.healthScore,"%"),p(3),Ee("width",n.healthScore,"%"),z("bg-red-500",n.healthScore<50)("bg-green-500",n.healthScore>=50),p(),me("ngModel",n.healthScore),p(),Ee("left",n.healthScore,"%"),z("bg-red-500",n.healthScore<50)("bg-green-500",n.healthScore>=50),p(26),z("border-red-300",n.assetTypeError)("border-blue-500",n.showAssetTypeDropdown),p(2),v("ngIf",!n.selectedAssetType),p(),v("ngIf",n.selectedAssetType),p(),z("rotate-180",n.showAssetTypeDropdown),p(2),v("ngIf",n.showAssetTypeDropdown),p(),v("ngIf",n.assetTypeError),p(7),z("border-red-300",n.categoryError)("border-blue-500",n.showCategoryDropdown),p(2),v("ngIf",!n.selectedCategory),p(),v("ngIf",n.selectedCategory),p(),z("rotate-180",n.showCategoryDropdown),p(2),v("ngIf",n.showCategoryDropdown),p(),v("ngIf",n.categoryError),p(12),me("ngModel",n.manufacturer),p(6),me("ngModel",n.model),p(8),z("border-red-300",n.serialNumberError),me("ngModel",n.serial_number),p(),v("ngIf",n.serialNumberError),p(18),me("ngModel",n.purchase_price),p(6),me("ngModel",n.purchase_date),p(8),me("ngModel",n.depreciation),p(6),me("ngModel",n.depreciation_life),p(7),me("ngModel",n.warranty),p(6),me("ngModel",n.insurance),p(16),z("border-blue-500",n.showLocationDropdown),p(2),v("ngIf",!n.selectedLocation),p(),v("ngIf",n.selectedLocation),p(),z("rotate-180",n.showLocationDropdown),p(2),v("ngIf",n.showLocationDropdown),p(4),me("ngModel",n.address),p(7),z("border-blue-500",n.showDepartmentDropdown),p(2),v("ngIf",!n.selectedDepartment),p(),v("ngIf",n.selectedDepartment),p(),z("rotate-180",n.showDepartmentDropdown),p(2),v("ngIf",n.showDepartmentDropdown),p(7),z("border-blue-500",n.showStatusDropdown),p(2),v("ngIf",n.selectedStatus),p(),z("rotate-180",n.showStatusDropdown),p(2),v("ngIf",n.showStatusDropdown),p(6),v("ngIf",n.selectedTags.length>0),p(2),z("border-blue-500",n.showTagsDropdown),p(3),W(" ",n.selectedTags.length===0?"Select tags":"Add more tags"," "),p(2),v("ngIf",n.selectedTags.length>0),p(),z("rotate-180",n.showTagsDropdown),p(2),v("ngIf",n.showTagsDropdown),p(15),z("border-gray-300",!n.isDragOver)("border-blue-500",n.isDragOver)("bg-blue-50",n.isDragOver)("hover:border-blue-400",!n.isDragOver),p(3),z("text-gray-400",!n.isDragOver)("text-blue-500",n.isDragOver),p(2),z("text-gray-500",!n.isDragOver)("text-blue-600",n.isDragOver),p(),W(" ",n.isDragOver?"Release to upload images":"PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here"," "),p(3),v("ngIf",n.imagePreviewUrls.length>0),p(),v("ngIf",n.submitError),p(),v("ngIf",n.submitSuccess),p(2),v("disabled",n.isSubmitting),p(2),v("disabled",n.isSubmitting||!n.isFormValid()),p(),v("ngIf",!n.isSubmitting),p(),v("ngIf",n.isSubmitting))},dependencies:[Je,Ut,Qe,Hn,Nn,Ke,Gt,Si,$n,Wn,zn,ot,Rn,He,bt],styles:[".asset-create-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;border:1px solid #e5e7eb;padding:2rem;margin-bottom:1.5rem;transition:all .2s ease-in-out}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#1f2937}.input[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border:1px solid #d1d5db;padding:.75rem .875rem;font-size:1rem;background:#fff;transition:all .2s ease-in-out}.input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fff}.input.border-red-300[_ngcontent-%COMP%]{border-color:#fca5a5;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 768px){.asset-create-page[_ngcontent-%COMP%]{padding:1rem}.section-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.grid-cols-2[_ngcontent-%COMP%], .grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eff6ff}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;font-family:inherit}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6;font-weight:600}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}[_nghost-%COMP%]     .flatpickr-input{cursor:pointer}[_nghost-%COMP%]     .flatpickr-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.slider-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background:transparent;outline:none;z-index:20}.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;position:relative;z-index:30}.slider-input[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;box-shadow:none}.slider-input[_ngcontent-%COMP%]:focus{outline:none}"]})};var su=["dateInput"];function ru(i,t){i&1&&(a(0,"span",42),m(1,"No location assigned"),c())}function ou(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.getLocationNameById(e.transferData.new_location_id)," ")}}function au(i,t){if(i&1){let e=H();a(0,"button",48),D("click",function(){let s=k(e).$implicit,r=_(3);return r.transferData.new_location_id=s.id,E(r.showLocationDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.new_location_id===e.id),v("disabled",e.id===(n.asset==null?null:n.asset.location_id)),p(),W(" ",e.name," ")}}function lu(i,t){if(i&1){let e=H();a(0,"div",44)(1,"div",45)(2,"button",46),D("click",function(){k(e);let s=_(2);return s.transferData.new_location_id=null,E(s.showLocationDropdown=!1)}),m(3," No location assigned "),c(),T(4,au,2,4,"button",47),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.new_location_id),p(2),v("ngForOf",e.locations)}}function cu(i,t){i&1&&(a(0,"span",42),m(1,"Select new department (optional)"),c())}function du(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.getDepartmentNameById(e.transferData.new_department_id)," ")}}function uu(i,t){if(i&1){let e=H();a(0,"button",46),D("click",function(){let s=k(e).$implicit,r=_(3);return r.transferData.new_department_id=s.id,E(r.showDepartmentDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.new_department_id===e.id),p(),W(" ",e.name," ")}}function mu(i,t){if(i&1){let e=H();a(0,"div",44)(1,"div",45)(2,"button",46),D("click",function(){k(e);let s=_(2);return s.transferData.new_department_id=null,E(s.showDepartmentDropdown=!1)}),m(3," Select new department (optional) "),c(),T(4,uu,2,3,"button",49),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.new_department_id),p(2),v("ngForOf",e.departments)}}function pu(i,t){i&1&&(a(0,"span",42),m(1,"Select reason"),c())}function hu(i,t){if(i&1&&(a(0,"span",43),m(1),c()),i&2){let e=_(2);p(),W(" ",e.transferData.transfer_reason," ")}}function fu(i,t){if(i&1){let e=H();a(0,"button",46),D("click",function(){let s=k(e).$implicit,r=_(3);return r.transferData.transfer_reason=s,E(r.showReasonDropdown=!1)}),m(1),c()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.transferData.transfer_reason===e),p(),W(" ",e," ")}}function gu(i,t){if(i&1){let e=H();a(0,"div",44)(1,"div",45)(2,"button",46),D("click",function(){k(e);let s=_(2);return s.transferData.transfer_reason="",E(s.showReasonDropdown=!1)}),m(3," Select reason "),c(),T(4,fu,2,3,"button",49),c()()}if(i&2){let e=_(2);p(2),z("bg-blue-50",!e.transferData.transfer_reason),p(2),v("ngForOf",e.transferReasons)}}function _u(i,t){if(i&1&&(a(0,"div",50)(1,"div",51)(2,"div",52),A(),a(3,"svg",53),w(4,"path",54),c()(),I(),a(5,"div",55)(6,"p",56),m(7),c()()()()),i&2){let e=_(2);p(7),F(e.error)}}function xu(i,t){i&1&&(a(0,"span"),m(1,"Create Transfer"),c())}function vu(i,t){i&1&&(a(0,"span",57),A(),a(1,"svg",58),w(2,"circle",59)(3,"path",60),c(),m(4," Creating Transfer... "),c())}function bu(i,t){if(i&1){let e=H();a(0,"div",2),D("click",function(s){k(e);let r=_();return E(r.onModalClick(s))}),a(1,"div",3),w(2,"div",4),a(3,"div",5),D("click",function(s){return k(e),E(s.stopPropagation())}),a(4,"div",6)(5,"h3",7),m(6),c(),a(7,"button",8),D("click",function(){k(e);let s=_();return E(s.onCancel())}),A(),a(8,"svg",9),w(9,"path",10),c()()(),I(),a(10,"div",11)(11,"div")(12,"p",12),m(13,"Current Location"),c(),a(14,"p",13),m(15),c()(),a(16,"div")(17,"p",12),m(18,"Current Department"),c(),a(19,"p",13),m(20),c()()(),a(21,"div",14)(22,"div",15),A(),a(23,"svg",16),w(24,"path",17),c()()(),I(),a(25,"form",18),D("ngSubmit",function(){k(e);let s=_();return E(s.onTransfer())}),a(26,"div",19),D("click",function(s){return k(e),E(s.stopPropagation())}),a(27,"label",20),m(28,"New Location"),c(),a(29,"button",21),D("click",function(){k(e);let s=_();return E(s.showLocationDropdown=!s.showLocationDropdown)}),a(30,"div",22),T(31,ru,2,0,"span",23)(32,ou,2,1,"span",24),A(),a(33,"svg",25),w(34,"path",26),c()()(),T(35,lu,5,3,"div",27),c(),I(),a(36,"div",19),D("click",function(s){return k(e),E(s.stopPropagation())}),a(37,"label",20),m(38,"New Department"),c(),a(39,"button",21),D("click",function(){k(e);let s=_();return E(s.showDepartmentDropdown=!s.showDepartmentDropdown)}),a(40,"div",22),T(41,cu,2,0,"span",23)(42,du,2,1,"span",24),A(),a(43,"svg",25),w(44,"path",26),c()()(),T(45,mu,5,3,"div",27),c(),I(),a(46,"div",19),D("click",function(s){return k(e),E(s.stopPropagation())}),a(47,"label",20),m(48,"Transfer Reason *"),c(),a(49,"button",21),D("click",function(){k(e);let s=_();return E(s.showReasonDropdown=!s.showReasonDropdown)}),a(50,"div",22),T(51,pu,2,0,"span",23)(52,hu,2,1,"span",24),A(),a(53,"svg",25),w(54,"path",26),c()()(),T(55,gu,5,3,"div",27),c(),I(),a(56,"div")(57,"label",28),m(58," Transfer Date * "),c(),a(59,"div",29)(60,"input",30,0),he("ngModelChange",function(s){k(e);let r=_();return pe(r.transferData.transfer_date,s)||(r.transferData.transfer_date=s),E(s)}),c(),a(62,"div",31),A(),a(63,"svg",32),w(64,"path",33),c()()()(),I(),a(65,"div")(66,"label",34),m(67," Additional Notes "),c(),a(68,"textarea",35),he("ngModelChange",function(s){k(e);let r=_();return pe(r.transferData.notes,s)||(r.transferData.notes=s),E(s)}),c()(),T(69,_u,8,1,"div",36),a(70,"div",37)(71,"button",38),D("click",function(){k(e);let s=_();return E(s.onCancel())}),m(72," Cancel "),c(),a(73,"button",39),T(74,xu,2,0,"span",40)(75,vu,5,0,"span",41),c()()()()()()}if(i&2){let e=_();v("@backdropAnimation",void 0),p(3),v("@modalAnimation",void 0),p(3),W(" Transfer Asset: ",(e.asset==null?null:e.asset.name)||"Unknown Asset"," "),p(),v("disabled",e.loading),p(8),F(e.getCurrentLocationName()),p(5),F(e.getCurrentDepartmentName()),p(9),z("border-blue-500",e.showLocationDropdown),p(2),v("ngIf",!e.transferData.new_location_id),p(),v("ngIf",e.transferData.new_location_id),p(),z("rotate-180",e.showLocationDropdown),p(2),v("ngIf",e.showLocationDropdown),p(4),z("border-blue-500",e.showDepartmentDropdown),p(2),v("ngIf",!e.transferData.new_department_id),p(),v("ngIf",e.transferData.new_department_id),p(),z("rotate-180",e.showDepartmentDropdown),p(2),v("ngIf",e.showDepartmentDropdown),p(4),z("border-blue-500",e.showReasonDropdown),p(2),v("ngIf",!e.transferData.transfer_reason),p(),v("ngIf",e.transferData.transfer_reason),p(),z("rotate-180",e.showReasonDropdown),p(2),v("ngIf",e.showReasonDropdown),p(5),me("ngModel",e.transferData.transfer_date),v("disabled",e.loading),p(8),me("ngModel",e.transferData.notes),v("disabled",e.loading),p(),v("ngIf",e.error),p(2),v("disabled",e.loading),p(2),v("disabled",e.loading),p(),v("ngIf",!e.loading),p(),v("ngIf",e.loading)}}var Di=class i{constructor(t){this.assetService=t}isOpen=!1;asset=null;closeModal=new mt;transferComplete=new mt;dateInput;flatpickrInstance;showLocationDropdown=!1;showDepartmentDropdown=!1;showReasonDropdown=!1;loading=!1;error="";transferData={new_location_id:null,new_department_id:null,to_user_id:null,transfer_reason:"",transfer_date:new Date().toISOString().split("T")[0],notes:"",condition_report:""};locations=[];departments=[];users=[];transferReasons=["Relocation","Maintenance","Replacement","Department Transfer","User Assignment","Storage","Disposal","Other"];ngOnInit(){console.log("TransferAssetModalComponent initialized"),this.loadDropdownData()}ngOnChanges(){console.log("TransferAssetModalComponent changes:",{isOpen:this.isOpen,asset:this.asset}),this.isOpen&&setTimeout(()=>{this.initializeFlatpickr()},200)}ngAfterViewInit(){}ngOnDestroy(){this.destroyFlatpickr()}destroyFlatpickr(){if(this.flatpickrInstance)try{this.flatpickrInstance.destroy(),this.flatpickrInstance=null}catch(t){console.error("Error destroying flatpickr:",t)}}initializeFlatpickr(){try{this.destroyFlatpickr(),this.dateInput&&this.dateInput.nativeElement?(console.log("Initializing flatpickr on element:",this.dateInput.nativeElement),this.flatpickrInstance=qt(this.dateInput.nativeElement,{dateFormat:"Y-m-d",defaultDate:new Date,allowInput:!1,clickOpens:!0,minDate:new Date,locale:{firstDayOfWeek:1},onChange:(t,e)=>{console.log("Date selected:",e),this.transferData.transfer_date=e},onOpen:()=>{console.log("Flatpickr opened")},onClose:()=>{console.log("Flatpickr closed")}}),console.log("Flatpickr initialized successfully")):console.warn("Date input element not found")}catch(t){console.error("Error initializing flatpickr:",t)}}loadDropdownData(){console.log("Loading dropdown data..."),console.log("Calling locations API with pagination..."),this.assetService.getLocations(1,1e3,"created","desc").subscribe({next:t=>{console.log("Locations API response:",t),console.log("Response type:",typeof t),console.log("Response keys:",Object.keys(t)),t&&t.data&&t.data.locations?(this.locations=t.data.locations,console.log("Using response.data.locations (paginated):",this.locations),console.log("Response pagination:",t.data.pagination)):t&&t.data&&Array.isArray(t.data)?(this.locations=t.data,console.log("Using response.data as array:",this.locations)):Array.isArray(t)?(this.locations=t,console.log("Using response as array:",this.locations)):(this.locations=[],console.warn("Unexpected response format:",t),console.log("Response structure:",t)),console.log("Final locations array:",this.locations),console.log("Locations count:",this.locations.length),this.locations.length===0&&console.warn("No locations found in response")},error:t=>{console.error("Error loading locations:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,url:t.url}),this.locations=[]}}),console.log("Calling departments API with pagination..."),this.assetService.getDepartments(1,1e3,"created","desc").subscribe({next:t=>{console.log("Departments API response:",t),t&&t.data&&t.data.departments?(this.departments=t.data.departments,console.log("Using response.data.departments (paginated):",this.departments),console.log("Response pagination:",t.data.pagination)):t&&t.data&&Array.isArray(t.data)?(this.departments=t.data,console.log("Using response.data as array:",this.departments)):Array.isArray(t)?this.departments=t:(this.departments=[],console.warn("Unexpected departments response format:",t),console.log("Response structure:",t)),console.log("Final departments array:",this.departments),console.log("Departments count:",this.departments.length),this.departments.length===0&&console.warn("No departments found")},error:t=>{console.error("Error loading departments:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,url:t.url}),this.departments=[]}})}reloadLocationData(){console.log("Manually reloading location data..."),this.loadDropdownData()}onTransfer(){this.validateForm()&&(this.loading=!0,this.error="",this.assetService.transferAsset(this.asset.id,this.transferData).subscribe({next:t=>{this.loading=!1,this.transferComplete.emit(t),this.resetForm(),this.closeModal.emit()},error:t=>{this.loading=!1,this.error=t.error?.message||"Transfer failed. Please try again.",console.error("Transfer error:",t)}}))}onCancel(){this.loading||(this.destroyFlatpickr(),this.resetForm(),this.closeModal.emit())}validateForm(){return this.transferData.new_location_id?this.transferData.transfer_reason?this.transferData.transfer_date?this.asset?.location_id===this.transferData.new_location_id?(this.error="Transfer location must be different from current location.",!1):(this.error="",!0):(this.error="Please select a transfer date.",!1):(this.error="Please select a transfer reason.",!1):(this.error="Please select a new location.",!1)}resetForm(){this.transferData={new_location_id:null,new_department_id:null,to_user_id:null,transfer_reason:"",transfer_date:new Date().toISOString().split("T")[0],notes:"",condition_report:""},this.error=""}getCurrentLocationName(){return this.asset?.location?.name||"No location assigned"}getCurrentDepartmentName(){return this.asset?.department?.name||"No department assigned"}getLocationNameById(t){if(!t)return"";let e=this.locations.find(n=>n.id===t);return e?e.name:""}getDepartmentNameById(t){if(!t)return"";let e=this.departments.find(n=>n.id===t);return e?e.name:""}getLocationsCount(){return this.locations.length}getDepartmentsCount(){return this.departments.length}getUsersCount(){return this.users.length}onModalClick(t){t.target===t.currentTarget&&(this.showLocationDropdown=!1,this.showDepartmentDropdown=!1,this.showReasonDropdown=!1)}static \u0275fac=function(e){return new(e||i)(ue(at))};static \u0275cmp=Fe({type:i,selectors:[["app-transfer-asset-modal"]],viewQuery:function(e,n){if(e&1&&_t(su,5),e&2){let s;xt(s=vt())&&(n.dateInput=s.first)}},inputs:{isOpen:"isOpen",asset:"asset"},outputs:{closeModal:"closeModal",transferComplete:"transferComplete"},features:[Ao],decls:1,vars:1,consts:[["dateInput",""],["class","fixed inset-0 z-50 overflow-y-auto",3,"click",4,"ngIf"],[1,"fixed","inset-0","z-50","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-center","min-h-screen","px-4","pt-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity","z-0","bg-[#00000085]"],[1,"inline-block","w-full","max-w-2xl","z-1","p-6","my-8","relative","overflow-hidden","text-left","align-middle","transition-all","transform","bg-white","shadow-xl","rounded-2xl",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","justify-center","mb-6"],[1,"w-8","h-8","bg-blue-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"space-y-4",3,"ngSubmit"],[1,"relative",3,"click"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["for","transfer_date",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["type","text","id","transfer_date","name","transfer_date","placeholder","Select date","required","","readonly","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","bg-white","cursor-pointer",3,"ngModelChange","ngModel","disabled"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-4","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","notes","name","notes","rows","3","placeholder","Enter any additional notes about this transfer...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","bg-white","resize-none",3,"ngModelChange","ngModel","disabled"],["class","bg-red-50 border border-red-200 rounded-md p-4",4,"ngIf"],[1,"flex","justify-end","space-x-3","pt-6"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click","disabled"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"text-gray-400"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","disabled","click",4,"ngFor","ngForOf"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click","disabled"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],[1,"flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&T(0,bu,76,36,"div",1),e&2&&v("ngIf",n.isOpen)},dependencies:[Xe,bt,He,Je,Ut,Qe,Ke,Gt,Si,ot,Rn],styles:[".transfer-asset-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{background-color:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, .transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;cursor:not-allowed}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-image:none!important;-webkit-appearance:none;-moz-appearance:none;appearance:none}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px;background-color:#fff;color:#374151}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{color:#9ca3af;background-color:#f9fafb}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 10px 25px #00000026;border:1px solid #e5e7eb}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]{border-radius:4px}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day.selected[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6}.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.transfer-asset-modal[_ngcontent-%COMP%]   .transfer-arrow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.transfer-asset-modal[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.transfer-asset-modal[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}}"],data:{animation:[It("backdropAnimation",[Ue(":enter",[Ae({opacity:0}),Ge("150ms ease-out",Ae({opacity:1}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0}))])]),It("modalAnimation",[Ue(":enter",[Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}),Ge("200ms ease-out",Ae({opacity:1,transform:"scale(1) translateY(0)"}))]),Ue(":leave",[Ge("150ms ease-in",Ae({opacity:0,transform:"scale(0.7) translateY(-50px)"}))])])]}})};var uc=Eo(No());function tn(i){return i+.5|0}var Xt=(i,t,e)=>Math.max(Math.min(i,e),t);function Zi(i){return Xt(tn(i*2.55),0,255)}function Qt(i){return Xt(tn(i*255),0,255)}function Lt(i){return Xt(tn(i/2.55)/100,0,1)}function Ko(i){return Xt(tn(i*100),0,100)}var lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nr=[..."0123456789ABCDEF"],yu=i=>nr[i&15],wu=i=>nr[(i&240)>>4]+nr[i&15],rs=i=>(i&240)>>4===(i&15),Cu=i=>rs(i.r)&&rs(i.g)&&rs(i.b)&&rs(i.a);function Su(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&lt[i[1]]*17,g:255&lt[i[2]]*17,b:255&lt[i[3]]*17,a:t===5?lt[i[4]]*17:255}:(t===7||t===9)&&(e={r:lt[i[1]]<<4|lt[i[2]],g:lt[i[3]]<<4|lt[i[4]],b:lt[i[5]]<<4|lt[i[6]],a:t===9?lt[i[7]]<<4|lt[i[8]]:255})),e}var Mu=(i,t)=>i<255?t(i):"";function ku(i){var t=Cu(i)?yu:wu;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Mu(i.a,t):void 0}var Eu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ta(i,t,e){let n=t*Math.min(e,1-e),s=(r,o=(r+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Au(i,t,e){let n=(s,r=(s+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function Du(i,t,e){let n=ta(i,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function Tu(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function sr(i){let e=i.r/255,n=i.g/255,s=i.b/255,r=Math.max(e,n,s),o=Math.min(e,n,s),l=(r+o)/2,d,u,h;return r!==o&&(h=r-o,u=l>.5?h/(2-r-o):h/(r+o),d=Tu(e,n,s,h,r),d=d*60+.5),[d|0,u||0,l]}function rr(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Qt)}function or(i,t,e){return rr(ta,i,t,e)}function Iu(i,t,e){return rr(Du,i,t,e)}function Pu(i,t,e){return rr(Au,i,t,e)}function ia(i){return(i%360+360)%360}function Vu(i){let t=Eu.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Zi(+t[5]):Qt(+t[5]));let s=ia(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Iu(s,r,o):t[1]==="hsv"?n=Pu(s,r,o):n=or(s,r,o),{r:n[0],g:n[1],b:n[2],a:e}}function Lu(i,t){var e=sr(i);e[0]=ia(e[0]+t),e=or(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Ou(i){if(!i)return;let t=sr(i),e=t[0],n=Ko(t[1]),s=Ko(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${Lt(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}var Jo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fu(){let i={},t=Object.keys(Zo),e=Object.keys(Jo),n,s,r,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],s=0;s<e.length;s++)r=e[s],l=l.replace(r,Jo[r]);r=parseInt(Zo[o],16),i[l]=[r>>16&255,r>>8&255,r&255]}return i}var os;function Ru(i){os||(os=Fu(),os.transparent=[0,0,0,0]);let t=os[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Hu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nu(i){let t=Hu.exec(i),e=255,n,s,r;if(t){if(t[7]!==n){let o=+t[7];e=t[8]?Zi(o):Xt(o*255,0,255)}return n=+t[1],s=+t[3],r=+t[5],n=255&(t[2]?Zi(n):Xt(n,0,255)),s=255&(t[4]?Zi(s):Xt(s,0,255)),r=255&(t[6]?Zi(r):Xt(r,0,255)),{r:n,g:s,b:r,a:e}}}function Bu(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Lt(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var ir=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Ti=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function ju(i,t,e){let n=Ti(Lt(i.r)),s=Ti(Lt(i.g)),r=Ti(Lt(i.b));return{r:Qt(ir(n+e*(Ti(Lt(t.r))-n))),g:Qt(ir(s+e*(Ti(Lt(t.g))-s))),b:Qt(ir(r+e*(Ti(Lt(t.b))-r))),a:i.a+e*(t.a-i.a)}}function as(i,t,e){if(i){let n=sr(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=or(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function na(i,t){return i&&Object.assign(t||{},i)}function ea(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Qt(i[3]))):(t=na(i,{r:0,g:0,b:0,a:1}),t.a=Qt(t.a)),t}function zu(i){return i.charAt(0)==="r"?Nu(i):Vu(i)}var en=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=ea(t):e==="string"&&(n=Su(t)||Ru(t)||zu(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=na(this._rgb);return t&&(t.a=Lt(t.a)),t}set rgb(t){this._rgb=ea(t)}rgbString(){return this._valid?Bu(this._rgb):void 0}hexString(){return this._valid?ku(this._rgb):void 0}hslString(){return this._valid?Ou(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,s=t.rgb,r,o=e===r?.5:e,l=2*o-1,d=n.a-s.a,u=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;r=1-u,n.r=255&u*n.r+r*s.r+.5,n.g=255&u*n.g+r*s.g+.5,n.b=255&u*n.b+r*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=ju(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Qt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=tn(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return as(this._rgb,2,t),this}darken(t){return as(this._rgb,2,-t),this}saturate(t){return as(this._rgb,1,t),this}desaturate(t){return as(this._rgb,1,-t),this}rotate(t){return Lu(this._rgb,t),this}};function St(){}var ha=(()=>{let i=0;return()=>i++})();function se(i){return i==null}function xe(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function re(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Me(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function it(i,t){return Me(i)?i:t}function Z(i,t){return typeof i>"u"?t:i}var fa=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,dr=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function ge(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function de(i,t,e,n){let s,r,o;if(xe(i))if(r=i.length,n)for(s=r-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<r;s++)t.call(e,i[s],s);else if(re(i))for(o=Object.keys(i),r=o.length,s=0;s<r;s++)t.call(e,i[o[s]],o[s])}function rn(i,t){let e,n,s,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function ms(i){if(xe(i))return i.map(ms);if(re(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,s=0;for(;s<n;++s)t[e[s]]=ms(i[e[s]]);return t}return i}function ga(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Wu(i,t,e,n){if(!ga(i))return;let s=t[i],r=e[i];re(s)&&re(r)?Pi(s,r,n):t[i]=ms(r)}function Pi(i,t,e){let n=xe(t)?t:[t],s=n.length;if(!re(i))return i;e=e||{};let r=e.merger||Wu,o;for(let l=0;l<s;++l){if(o=n[l],!re(o))continue;let d=Object.keys(o);for(let u=0,h=d.length;u<h;++u)r(d[u],i,o,e)}return i}function Li(i,t){return Pi(i,t,{merger:$u})}function $u(i,t,e){if(!ga(i))return;let n=t[i],s=e[i];re(n)&&re(s)?Li(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=ms(s))}var sa={"":i=>i,x:i=>i.x,y:i=>i.y};function Gu(i){let t=i.split("."),e=[],n="";for(let s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Uu(i){let t=Gu(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function Rt(i,t){return(sa[t]||(sa[t]=Uu(t)))(i)}function gs(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Oi=i=>typeof i<"u",Ot=i=>typeof i=="function",ur=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function _a(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var oe=Math.PI,ve=2*oe,Yu=ve+oe,ps=Number.POSITIVE_INFINITY,qu=oe/180,ke=oe/2,ui=oe/4,ra=oe*2/3,Ft=Math.log10,ht=Math.sign;function Fi(i,t,e){return Math.abs(i-t)<e}function mr(i){let t=Math.round(i);i=Fi(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Ft(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function xa(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function Xu(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function hi(i){return!Xu(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function va(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function pr(i,t,e){let n,s,r;for(n=0,s=i.length;n<s;n++)r=i[n][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ct(i){return i*(oe/180)}function _s(i){return i*(180/oe)}function hr(i){if(!Me(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function fr(i,t){let e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n),r=Math.atan2(n,e);return r<-.5*oe&&(r+=ve),{angle:r,distance:s}}function hs(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Qu(i,t){return(i-t+Yu)%ve-oe}function Ve(i){return(i%ve+ve)%ve}function Ri(i,t,e,n){let s=Ve(i),r=Ve(t),o=Ve(e),l=Ve(r-s),d=Ve(o-s),u=Ve(s-r),h=Ve(s-o);return s===r||s===o||n&&r===o||l>d&&u<h}function Pe(i,t,e){return Math.max(t,Math.min(e,i))}function ba(i){return Pe(i,-32768,32767)}function Mt(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function xs(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,s=0,r;for(;n-s>1;)r=s+n>>1,e(r)?s=r:n=r;return{lo:s,hi:n}}var wt=(i,t,e,n)=>xs(i,e,n?s=>{let r=i[s][t];return r<e||r===e&&i[s+1][t]===e}:s=>i[s][t]<e),ya=(i,t,e)=>xs(i,e,n=>i[n][t]>=e);function wa(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}var Ca=["push","pop","shift","splice","unshift"];function Sa(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ca.forEach(e=>{let n="_onData"+gs(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let o=s.apply(this,r);return i._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),o}})})}function gr(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Ca.forEach(r=>{delete i[r]}),delete i._chartjs)}function _r(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var xr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function vr(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,xr.call(window,()=>{n=!1,i.apply(t,e)}))}}function Ma(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var vs=i=>i==="start"?"left":i==="end"?"right":"center",Le=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,ka=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function br(i,t,e){let n=t.length,s=0,r=n;if(i._sorted){let{iScale:o,vScale:l,_parsed:d}=i,u=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,h=o.axis,{min:f,max:x,minDefined:g,maxDefined:S}=o.getUserBounds();if(g){if(s=Math.min(wt(d,h,f).lo,e?n:wt(t,h,o.getPixelForValue(f)).lo),u){let y=d.slice(0,s+1).reverse().findIndex(M=>!se(M[l.axis]));s-=Math.max(0,y)}s=Pe(s,0,n-1)}if(S){let y=Math.max(wt(d,o.axis,x,!0).hi+1,e?0:wt(t,h,o.getPixelForValue(x),!0).hi+1);if(u){let M=d.slice(y-1).findIndex(L=>!se(L[l.axis]));y+=Math.max(0,M)}r=Pe(y,s,n)-s}else r=n-s}return{start:s,count:r}}function yr(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=s,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,s),r}var ls=i=>i===0||i===1,oa=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*ve/e)),aa=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*ve/e)+1,Ii={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*ke)+1,easeOutSine:i=>Math.sin(i*ke),easeInOutSine:i=>-.5*(Math.cos(oe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ls(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ls(i)?i:oa(i,.075,.3),easeOutElastic:i=>ls(i)?i:aa(i,.075,.3),easeInOutElastic(i){return ls(i)?i:i<.5?.5*oa(i*2,.1125,.45):.5+.5*aa(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Ii.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Ii.easeInBounce(i*2)*.5:Ii.easeOutBounce(i*2-1)*.5+.5};function wr(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Cr(i){return wr(i)?i:new en(i)}function ar(i){return wr(i)?i:new en(i).saturate(.5).darken(.1).hexString()}var Ku=["x","y","borderWidth","radius","tension"],Ju=["color","borderColor","backgroundColor"];function Zu(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ju},numbers:{type:"number",properties:Ku}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function em(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var la=new Map;function tm(i,t){t=t||{};let e=i+JSON.stringify(t),n=la.get(e);return n||(n=new Intl.NumberFormat(i,t),la.set(e,n)),n}function Hi(i,t,e){return tm(t,e).format(i)}var Ea={values(i){return xe(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,s,r=i;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=im(i,e)}let o=Ft(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Hi(i,n,d)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Ft(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Ea.numeric.call(this,i,t,e):""}};function im(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var on={formatters:Ea};function nm(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:on.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Jt=Object.create(null),bs=Object.create(null);function nn(i,t){if(!t)return i;let e=t.split(".");for(let n=0,s=e.length;n<s;++n){let r=e[n];i=i[r]||(i[r]=Object.create(null))}return i}function lr(i,t,e){return typeof t=="string"?Pi(nn(i,t),e):Pi(nn(i,""),t)}var cr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>ar(s.backgroundColor),this.hoverBorderColor=(n,s)=>ar(s.borderColor),this.hoverColor=(n,s)=>ar(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return lr(this,t,e)}get(t){return nn(this,t)}describe(t,e){return lr(bs,t,e)}override(t,e){return lr(Jt,t,e)}route(t,e,n,s){let r=nn(this,t),o=nn(this,n),l="_"+e;Object.defineProperties(r,{[l]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let d=this[l],u=o[s];return re(d)?Object.assign({},u,d):Z(d,u)},set(d){this[l]=d}}})}apply(t){t.forEach(e=>e(this))}},be=new cr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Zu,em,nm]);function sm(i){return!i||se(i.size)||se(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function sn(i,t,e,n,s){let r=t[s];return r||(r=t[s]=i.measureText(s).width,e.push(s)),r>n&&(n=r),n}function Aa(i,t,e,n){n=n||{};let s=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},r=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,l=e.length,d,u,h,f,x;for(d=0;d<l;d++)if(f=e[d],f!=null&&!xe(f))o=sn(i,s,r,o,f);else if(xe(f))for(u=0,h=f.length;u<h;u++)x=f[u],x!=null&&!xe(x)&&(o=sn(i,s,r,o,x));i.restore();let g=r.length/2;if(g>e.length){for(d=0;d<g;d++)delete s[r[d]];r.splice(0,g)}return o}function Zt(i,t,e){let n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function Sr(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function ys(i,t,e,n){Mr(i,t,e,n,null)}function Mr(i,t,e,n,s){let r,o,l,d,u,h,f,x,g=t.pointStyle,S=t.rotation,y=t.radius,M=(S||0)*qu;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(M),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(y)||y<=0)){switch(i.beginPath(),g){default:s?i.ellipse(e,n,s/2,y,0,0,ve):i.arc(e,n,y,0,ve),i.closePath();break;case"triangle":h=s?s/2:y,i.moveTo(e+Math.sin(M)*h,n-Math.cos(M)*y),M+=ra,i.lineTo(e+Math.sin(M)*h,n-Math.cos(M)*y),M+=ra,i.lineTo(e+Math.sin(M)*h,n-Math.cos(M)*y),i.closePath();break;case"rectRounded":u=y*.516,d=y-u,o=Math.cos(M+ui)*d,f=Math.cos(M+ui)*(s?s/2-u:d),l=Math.sin(M+ui)*d,x=Math.sin(M+ui)*(s?s/2-u:d),i.arc(e-f,n-l,u,M-oe,M-ke),i.arc(e+x,n-o,u,M-ke,M),i.arc(e+f,n+l,u,M,M+ke),i.arc(e-x,n+o,u,M+ke,M+oe),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*y,h=s?s/2:d,i.rect(e-h,n-d,2*h,2*d);break}M+=ui;case"rectRot":f=Math.cos(M)*(s?s/2:y),o=Math.cos(M)*y,l=Math.sin(M)*y,x=Math.sin(M)*(s?s/2:y),i.moveTo(e-f,n-l),i.lineTo(e+x,n-o),i.lineTo(e+f,n+l),i.lineTo(e-x,n+o),i.closePath();break;case"crossRot":M+=ui;case"cross":f=Math.cos(M)*(s?s/2:y),o=Math.cos(M)*y,l=Math.sin(M)*y,x=Math.sin(M)*(s?s/2:y),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o);break;case"star":f=Math.cos(M)*(s?s/2:y),o=Math.cos(M)*y,l=Math.sin(M)*y,x=Math.sin(M)*(s?s/2:y),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o),M+=ui,f=Math.cos(M)*(s?s/2:y),o=Math.cos(M)*y,l=Math.sin(M)*y,x=Math.sin(M)*(s?s/2:y),i.moveTo(e-f,n-l),i.lineTo(e+f,n+l),i.moveTo(e+x,n-o),i.lineTo(e-x,n+o);break;case"line":o=s?s/2:Math.cos(M)*y,l=Math.sin(M)*y,i.moveTo(e-o,n-l),i.lineTo(e+o,n+l);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(M)*(s?s/2:y),n+Math.sin(M)*y);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Ct(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function an(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ln(i){i.restore()}function Da(i,t,e,n,s){if(!t)return i.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else s==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Ta(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function rm(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),se(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function om(i,t,e,n,s){if(s.strikethrough||s.underline){let r=i.measureText(n),o=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,d=e-r.actualBoundingBoxAscent,u=e+r.actualBoundingBoxDescent,h=s.strikethrough?(d+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(o,h),i.lineTo(l,h),i.stroke()}}function am(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ei(i,t,e,n,s,r={}){let o=xe(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="",d,u;for(i.save(),i.font=s.string,rm(i,r),d=0;d<o.length;++d)u=o[d],r.backdrop&&am(i,r.backdrop),l&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),se(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(u,e,n,r.maxWidth)),i.fillText(u,e,n,r.maxWidth),om(i,e,n,u,r),n+=Number(s.lineHeight);i.restore()}function Ni(i,t){let{x:e,y:n,w:s,h:r,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*oe,oe,!0),i.lineTo(e,n+r-o.bottomLeft),i.arc(e+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,oe,ke,!0),i.lineTo(e+s-o.bottomRight,n+r),i.arc(e+s-o.bottomRight,n+r-o.bottomRight,o.bottomRight,ke,0,!0),i.lineTo(e+s,n+o.topRight),i.arc(e+s-o.topRight,n+o.topRight,o.topRight,0,-ke,!0),i.lineTo(e+o.topLeft,n)}var lm=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cm=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dm(i,t){let e=(""+i).match(lm);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var um=i=>+i||0;function ws(i,t){let e={},n=re(t),s=n?Object.keys(t):t,r=re(i)?n?o=>Z(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of s)e[o]=um(r(o));return e}function kr(i){return ws(i,{top:"y",right:"x",bottom:"y",left:"x"})}function ti(i){return ws(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Oe(i){let t=kr(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Te(i,t){i=i||{},t=t||be.font;let e=Z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=Z(i.style,t.style);n&&!(""+n).match(cm)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:Z(i.family,t.family),lineHeight:dm(Z(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:Z(i.weight,t.weight),string:""};return s.string=sm(s),s}function Bi(i,t,e,n){let s=!0,r,o,l;for(r=0,o=i.length;r<o;++r)if(l=i[r],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),s=!1),e!==void 0&&xe(l)&&(l=l[e%l.length],s=!1),l!==void 0))return n&&!s&&(n.cacheable=!1),l}function Ia(i,t,e){let{min:n,max:s}=i,r=dr(t,(s-n)/2),o=(l,d)=>e&&l===0?0:l+d;return{min:o(n,-Math.abs(r)),max:o(s,r)}}function Ht(i,t){return Object.assign(Object.create(i),t)}function Cs(i,t=[""],e,n,s=()=>i[0]){let r=e||i;typeof n>"u"&&(n=La("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:s,override:l=>Cs([l,...i],t,r,n)};return new Proxy(o,{deleteProperty(l,d){return delete l[d],delete l._keys,delete i[0][d],!0},get(l,d){return Pa(l,d,()=>vm(d,t,i,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(l,d){return da(l).includes(d)},ownKeys(l){return da(l)},set(l,d,u){let h=l._storage||(l._storage=s());return l[d]=h[d]=u,delete l._keys,!0}})}function pi(i,t,e,n){let s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Er(i,n),setContext:r=>pi(i,r,e,n),override:r=>pi(i.override(r),t,e,n)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete i[o],!0},get(r,o,l){return Pa(r,o,()=>pm(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(r,o,l){return i[o]=l,delete r[o],!0}})}function Er(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:Ot(e)?e:()=>e,isIndexable:Ot(n)?n:()=>n}}var mm=(i,t)=>i?i+gs(t):t,Ar=(i,t)=>re(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Pa(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function pm(i,t,e){let{_proxy:n,_context:s,_subProxy:r,_descriptors:o}=i,l=n[t];return Ot(l)&&o.isScriptable(t)&&(l=hm(t,l,i,e)),xe(l)&&l.length&&(l=fm(t,l,i,o.isIndexable)),Ar(t,l)&&(l=pi(l,s,r&&r[t],o)),l}function hm(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_stack:l}=e;if(l.has(i))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+i);l.add(i);let d=t(r,o||n);return l.delete(i),Ar(i,d)&&(d=Dr(s._scopes,s,i,d)),d}function fm(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=e;if(typeof r.index<"u"&&n(i))return t[r.index%t.length];if(re(t[0])){let d=t,u=s._scopes.filter(h=>h!==d);t=[];for(let h of d){let f=Dr(u,s,i,h);t.push(pi(f,r,o&&o[i],l))}}return t}function Va(i,t,e){return Ot(i)?i(t,e):i}var gm=(i,t)=>i===!0?t:typeof i=="string"?Rt(t,i):void 0;function _m(i,t,e,n,s){for(let r of t){let o=gm(e,r);if(o){i.add(o);let l=Va(o._fallback,e,s);if(typeof l<"u"&&l!==e&&l!==n)return l}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function Dr(i,t,e,n){let s=t._rootScopes,r=Va(t._fallback,e,n),o=[...i,...s],l=new Set;l.add(n);let d=ca(l,o,e,r||e,n);return d===null||typeof r<"u"&&r!==e&&(d=ca(l,o,r,d,n),d===null)?!1:Cs(Array.from(l),[""],s,r,()=>xm(t,e,n))}function ca(i,t,e,n,s){for(;e;)e=_m(i,t,e,n,s);return e}function xm(i,t,e){let n=i._getTarget();t in n||(n[t]={});let s=n[t];return xe(s)&&re(e)?e:s||{}}function vm(i,t,e,n){let s;for(let r of t)if(s=La(mm(r,i),e),typeof s<"u")return Ar(i,s)?Dr(e,n,i,s):s}function La(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function da(i){let t=i._keys;return t||(t=i._keys=bm(i._scopes)),t}function bm(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function Tr(i,t,e,n){let{iScale:s}=i,{key:r="r"}=this._parsing,o=new Array(n),l,d,u,h;for(l=0,d=n;l<d;++l)u=l+e,h=t[u],o[l]={r:s.parse(Rt(h,r),u)};return o}var ym=Number.EPSILON||1e-14,Vi=(i,t)=>t<i.length&&!i[t].skip&&i[t],Oa=i=>i==="x"?"y":"x";function wm(i,t,e,n){let s=i.skip?t:i,r=t,o=e.skip?t:e,l=hs(r,s),d=hs(o,r),u=l/(l+d),h=d/(l+d);u=isNaN(u)?0:u,h=isNaN(h)?0:h;let f=n*u,x=n*h;return{previous:{x:r.x-f*(o.x-s.x),y:r.y-f*(o.y-s.y)},next:{x:r.x+x*(o.x-s.x),y:r.y+x*(o.y-s.y)}}}function Cm(i,t,e){let n=i.length,s,r,o,l,d,u=Vi(i,0);for(let h=0;h<n-1;++h)if(d=u,u=Vi(i,h+1),!(!d||!u)){if(Fi(t[h],0,ym)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),e[h]=s*o*t[h],e[h+1]=r*o*t[h])}}function Sm(i,t,e="x"){let n=Oa(e),s=i.length,r,o,l,d=Vi(i,0);for(let u=0;u<s;++u){if(o=l,l=d,d=Vi(i,u+1),!l)continue;let h=l[e],f=l[n];o&&(r=(h-o[e])/3,l[`cp1${e}`]=h-r,l[`cp1${n}`]=f-r*t[u]),d&&(r=(d[e]-h)/3,l[`cp2${e}`]=h+r,l[`cp2${n}`]=f+r*t[u])}}function Mm(i,t="x"){let e=Oa(t),n=i.length,s=Array(n).fill(0),r=Array(n),o,l,d,u=Vi(i,0);for(o=0;o<n;++o)if(l=d,d=u,u=Vi(i,o+1),!!d){if(u){let h=u[t]-d[t];s[o]=h!==0?(u[e]-d[e])/h:0}r[o]=l?u?ht(s[o-1])!==ht(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Cm(i,s,r),Sm(i,r,t)}function cs(i,t,e){return Math.max(Math.min(i,e),t)}function km(i,t){let e,n,s,r,o,l=Ct(i[0],t);for(e=0,n=i.length;e<n;++e)o=r,r=l,l=e<n-1&&Ct(i[e+1],t),r&&(s=i[e],o&&(s.cp1x=cs(s.cp1x,t.left,t.right),s.cp1y=cs(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=cs(s.cp2x,t.left,t.right),s.cp2y=cs(s.cp2y,t.top,t.bottom)))}function Fa(i,t,e,n,s){let r,o,l,d;if(t.spanGaps&&(i=i.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")Mm(i,s);else{let u=n?i[i.length-1]:i[0];for(r=0,o=i.length;r<o;++r)l=i[r],d=wm(u,l,i[Math.min(r+1,o-(n?0:1))%o],t.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,u=l}t.capBezierPoints&&km(i,e)}function Ss(){return typeof window<"u"&&typeof document<"u"}function Ms(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function fs(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var ks=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Em(i,t){return ks(i).getPropertyValue(t)}var Am=["top","right","bottom","left"];function mi(i,t,e){let n={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=Am[s];n[r]=parseFloat(i[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Dm=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Tm(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:r}=n,o=!1,l,d;if(Dm(s,r,i.target))l=s,d=r;else{let u=t.getBoundingClientRect();l=n.clientX-u.left,d=n.clientY-u.top,o=!0}return{x:l,y:d,box:o}}function ii(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,s=ks(e),r=s.boxSizing==="border-box",o=mi(s,"padding"),l=mi(s,"border","width"),{x:d,y:u,box:h}=Tm(i,e),f=o.left+(h&&l.left),x=o.top+(h&&l.top),{width:g,height:S}=t;return r&&(g-=o.width+l.width,S-=o.height+l.height),{x:Math.round((d-f)/g*e.width/n),y:Math.round((u-x)/S*e.height/n)}}function Im(i,t,e){let n,s;if(t===void 0||e===void 0){let r=i&&Ms(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{let o=r.getBoundingClientRect(),l=ks(r),d=mi(l,"border","width"),u=mi(l,"padding");t=o.width-u.width-d.width,e=o.height-u.height-d.height,n=fs(l.maxWidth,r,"clientWidth"),s=fs(l.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||ps,maxHeight:s||ps}}var ds=i=>Math.round(i*10)/10;function Ra(i,t,e,n){let s=ks(i),r=mi(s,"margin"),o=fs(s.maxWidth,i,"clientWidth")||ps,l=fs(s.maxHeight,i,"clientHeight")||ps,d=Im(i,t,e),{width:u,height:h}=d;if(s.boxSizing==="content-box"){let x=mi(s,"border","width"),g=mi(s,"padding");u-=g.width+x.width,h-=g.height+x.height}return u=Math.max(0,u-r.width),h=Math.max(0,n?u/n:h-r.height),u=ds(Math.min(u,o,d.maxWidth)),h=ds(Math.min(h,l,d.maxHeight)),u&&!h&&(h=ds(u/2)),(t!==void 0||e!==void 0)&&n&&d.height&&h>d.height&&(h=d.height,u=ds(Math.floor(h*n))),{width:u,height:h}}function Ir(i,t,e){let n=t||1,s=Math.floor(i.height*n),r=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==s||o.width!==r?(i.currentDevicePixelRatio=n,o.height=s,o.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Ha=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};Ss()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Pr(i,t){let e=Em(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Kt(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Na(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function Ba(i,t,e,n){let s={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},o=Kt(i,s,e),l=Kt(s,r,e),d=Kt(r,t,e),u=Kt(o,l,e),h=Kt(l,d,e);return Kt(u,h,e)}var Pm=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Vm=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function fi(i,t,e){return i?Pm(t,e):Vm()}function Vr(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Lr(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function ja(i){return i==="angle"?{between:Ri,compare:Qu,normalize:Ve}:{between:Mt,compare:(t,e)=>t-e,normalize:t=>t}}function ua({start:i,end:t,count:e,loop:n,style:s}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:s}}function Lm(i,t,e){let{property:n,start:s,end:r}=e,{between:o,normalize:l}=ja(n),d=t.length,{start:u,end:h,loop:f}=i,x,g;if(f){for(u+=d,h+=d,x=0,g=d;x<g&&o(l(t[u%d][n]),s,r);++x)u--,h--;u%=d,h%=d}return h<u&&(h+=d),{start:u,end:h,loop:f,style:i.style}}function Or(i,t,e){if(!e)return[i];let{property:n,start:s,end:r}=e,o=t.length,{compare:l,between:d,normalize:u}=ja(n),{start:h,end:f,loop:x,style:g}=Lm(i,t,e),S=[],y=!1,M=null,L,V,N,j=()=>d(s,N,L)&&l(s,N)!==0,R=()=>l(r,L)===0||d(r,N,L),B=()=>y||j(),U=()=>!y||R();for(let $=h,q=h;$<=f;++$)V=t[$%o],!V.skip&&(L=u(V[n]),L!==N&&(y=d(L,s,r),M===null&&B()&&(M=l(L,s)===0?$:q),M!==null&&U()&&(S.push(ua({start:M,end:$,loop:x,count:o,style:g})),M=null),q=$,N=L));return M!==null&&S.push(ua({start:M,end:f,loop:x,count:o,style:g})),S}function Fr(i,t){let e=[],n=i.segments;for(let s=0;s<n.length;s++){let r=Or(n[s],i.points,t);r.length&&e.push(...r)}return e}function Om(i,t,e,n){let s=0,r=t-1;if(e&&!n)for(;s<t&&!i[s].skip;)s++;for(;s<t&&i[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&i[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Fm(i,t,e,n){let s=i.length,r=[],o=t,l=i[t],d;for(d=t+1;d<=e;++d){let u=i[d%s];u.skip||u.stop?l.skip||(n=!1,r.push({start:t%s,end:(d-1)%s,loop:n}),t=o=u.stop?d:null):(o=d,l.skip&&(t=d)),l=u}return o!==null&&r.push({start:t%s,end:o%s,loop:n}),r}function za(i,t){let e=i.points,n=i.options.spanGaps,s=e.length;if(!s)return[];let r=!!i._loop,{start:o,end:l}=Om(e,s,r,n);if(n===!0)return ma(i,[{start:o,end:l,loop:r}],e,t);let d=l<o?l+s:l,u=!!i._fullLoop&&o===0&&l===s-1;return ma(i,Fm(e,o,d,u),e,t)}function ma(i,t,e,n){return!n||!n.setContext||!e?t:Rm(i,t,e,n)}function Rm(i,t,e,n){let s=i._chart.getContext(),r=pa(i.options),{_datasetIndex:o,options:{spanGaps:l}}=i,d=e.length,u=[],h=r,f=t[0].start,x=f;function g(S,y,M,L){let V=l?-1:1;if(S!==y){for(S+=d;e[S%d].skip;)S-=V;for(;e[y%d].skip;)y+=V;S%d!==y%d&&(u.push({start:S%d,end:y%d,loop:M,style:L}),h=L,f=y%d)}}for(let S of t){f=l?f:S.start;let y=e[f%d],M;for(x=f+1;x<=S.end;x++){let L=e[x%d];M=pa(n.setContext(Ht(s,{type:"segment",p0:y,p1:L,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:o}))),Hm(M,h)&&g(f,x-1,S.loop,h),y=L,h=M}f<x-1&&g(f,x-1,S.loop,h)}return u}function pa(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Hm(i,t){if(!t)return!1;let e=[],n=function(s,r){return wr(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function us(i,t,e){return i.options.clip?i[e]:t[e]}function Nm(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:us(e,t,"left"),right:us(e,t,"right"),top:us(n,t,"top"),bottom:us(n,t,"bottom")}:t}function Rr(i,t){let e=t._clip;if(e.disabled)return!1;let n=Nm(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var Xr=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){let r=e.listeners[s],o=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=xr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let r=n.items,o=r.length-1,l=!1,d;for(;o>=0;--o)d=r[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(t),l=!0):(r[o]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,n,t,"progress")),r.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Nt=new Xr,Wa="transparent",Bm={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=Cr(i||Wa),s=n.valid&&Cr(t||Wa);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Qr=class{constructor(t,e,n,s){let r=e[n];s=Bi([t.to,s,r,t.from]);let o=Bi([t.from,r,s]);this._active=!0,this._fn=t.fn||Bm[t.type||typeof o],this._easing=Ii[t.easing]||Ii.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let s=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Bi([t.to,e,s,t.from]),this._from=Bi([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,s=this._prop,r=this._from,o=this._loop,l=this._to,d;if(this._active=r!==l&&(o||e<n),!this._active){this._target[s]=l,this._notify(!0);return}if(e<0){this._target[s]=r;return}d=e/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(r,l,d)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}},Os=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!re(t))return;let e=Object.keys(be.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let r=t[s];if(!re(r))return;let o={};for(let l of e)o[l]=r[l];(xe(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){let n=e.options,s=zm(t,n);if(!s)return[];let r=this._createAnimations(s,n);return n.$shared&&jm(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){let n=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now(),d;for(d=o.length-1;d>=0;--d){let u=o[d];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,e));continue}let h=e[u],f=r[u],x=n.get(u);if(f)if(x&&f.active()){f.update(x,h,l);continue}else f.cancel();if(!x||!x.duration){t[u]=h;continue}r[u]=f=new Qr(x,t,u,h),s.push(f)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Nt.add(this._chart,n),!0}};function jm(i,t){let e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){let r=i[n[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function zm(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $a(i,t){let e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:s,end:n?s:r}}function Wm(i,t,e){if(e===!1)return!1;let n=$a(i,e),s=$a(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function $m(i){let t,e,n,s;return re(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function Wl(i,t){let e=[],n=i._getSortedDatasetMetas(t),s,r;for(s=0,r=n.length;s<r;++s)e.push(n[s].index);return e}function Ga(i,t,e,n={}){let s=i.keys,r=n.mode==="single",o,l,d,u;if(t===null)return;let h=!1;for(o=0,l=s.length;o<l;++o){if(d=+s[o],d===e){if(h=!0,n.all)continue;break}u=i.values[d],Me(u)&&(r||t===0||ht(t)===ht(u))&&(t+=u)}return!h&&!n.all?0:t}function Gm(i,t){let{iScale:e,vScale:n}=t,s=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(i),l=new Array(o.length),d,u,h;for(d=0,u=o.length;d<u;++d)h=o[d],l[d]={[s]:h,[r]:i[h]};return l}function Hr(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Um(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Ym(i){let{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function qm(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Ua(i,t,e,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let r=i[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function Ya(i,t){let{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:l}=n,d=r.axis,u=o.axis,h=Um(r,o,n),f=t.length,x;for(let g=0;g<f;++g){let S=t[g],{[d]:y,[u]:M}=S,L=S._stacks||(S._stacks={});x=L[u]=qm(s,h,y),x[l]=M,x._top=Ua(x,o,!0,n.type),x._bottom=Ua(x,o,!1,n.type);let V=x._visualValues||(x._visualValues={});V[l]=M}}function Nr(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Xm(i,t){return Ht(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Qm(i,t,e){return Ht(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function cn(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let s of t){let r=s._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}var Br=i=>i==="reset"||i==="none",qa=(i,t)=>t?i:Object.assign({},i),Km=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Wl(e,!0),values:null},si=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cn(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(x,g,S,y)=>x==="x"?g:x==="r"?y:S,o=n.xAxisID=Z(s.xAxisID,Nr(e,"x")),l=n.yAxisID=Z(s.yAxisID,Nr(e,"y")),d=n.rAxisID=Z(s.rAxisID,Nr(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,o,l,d),f=n.vAxisID=r(u,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&gr(this._data,this),e._stacked&&cn(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(re(n)){let r=this._cachedMeta;this._data=Gm(n,r)}else if(s!==n){if(s){gr(s,this);let r=this._cachedMeta;cn(r),r._parsed=[]}n&&Object.isExtensible(n)&&Sa(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,s=this.getDataset(),r=!1;this._dataCheck();let o=n._stacked;n._stacked=Hr(n.vScale,n),n.stack!==s.stack&&(r=!0,cn(n),n.stack=s.stack),this._resyncElements(e),(r||o!==n._stacked)&&(Ya(this,n._parsed),n._stacked=Hr(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:l}=s,d=o.axis,u=e===0&&n===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],f,x,g;if(this._parsing===!1)s._parsed=r,s._sorted=!0,g=r;else{xe(r[e])?g=this.parseArrayData(s,r,e,n):re(r[e])?g=this.parseObjectData(s,r,e,n):g=this.parsePrimitiveData(s,r,e,n);let S=()=>x[d]===null||h&&x[d]<h[d];for(f=0;f<n;++f)s._parsed[f+e]=x=g[f],u&&(S()&&(u=!1),h=x);s._sorted=u}l&&Ya(this,g)}parsePrimitiveData(e,n,s,r){let{iScale:o,vScale:l}=e,d=o.axis,u=l.axis,h=o.getLabels(),f=o===l,x=new Array(r),g,S,y;for(g=0,S=r;g<S;++g)y=g+s,x[g]={[d]:f||o.parse(h[y],y),[u]:l.parse(n[y],y)};return x}parseArrayData(e,n,s,r){let{xScale:o,yScale:l}=e,d=new Array(r),u,h,f,x;for(u=0,h=r;u<h;++u)f=u+s,x=n[f],d[u]={x:o.parse(x[0],f),y:l.parse(x[1],f)};return d}parseObjectData(e,n,s,r){let{xScale:o,yScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(r),f,x,g,S;for(f=0,x=r;f<x;++f)g=f+s,S=n[g],h[f]={x:o.parse(Rt(S,d),g),y:l.parse(Rt(S,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){let r=this.chart,o=this._cachedMeta,l=n[e.axis],d={keys:Wl(r,!0),values:n._stacks[e.axis]._visualValues};return Ga(d,l,o.index,{mode:s})}updateRangeFromParsed(e,n,s,r){let o=s[n.axis],l=o===null?NaN:o,d=r&&s._stacks[n.axis];r&&d&&(r.values=d,l=Ga(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){let s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,l=r.length,d=this._getOtherScale(e),u=Km(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:x}=Ym(d),g,S;function y(){S=r[g];let M=S[d.axis];return!Me(S[e.axis])||f>M||x<M}for(g=0;g<l&&!(!y()&&(this.updateRangeFromParsed(h,e,S,u),o));++g);if(o){for(g=l-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(h,e,S,u);break}}return h}getAllParsedValues(e){let n=this._cachedMeta._parsed,s=[],r,o,l;for(r=0,o=n.length;r<o;++r)l=n[r][e.axis],Me(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,s=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=$m(Z(this.options.clip,Wm(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],o=n.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||r.length-d,h=this.options.drawActiveElementsOnTop,f;for(s.dataset&&s.dataset.draw(e,o,d,u),f=d;f<d+u;++f){let x=r[f];x.hidden||(x.active&&h?l.push(x):x.draw(e,o))}for(f=0;f<l.length;++f)l[f].draw(e,o)}getStyle(e,n){let s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){let r=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let l=this._cachedMeta.data[e];o=l.$context||(l.$context=Qm(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Xm(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){let r=n==="active",o=this._cachedDataOpts,l=e+"-"+n,d=o[l],u=this.enableOptionSharing&&Oi(s);if(d)return qa(d,u);let h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),S=Object.keys(be.elements[e]),y=()=>this.getContext(s,r,n),M=h.resolveNamedOptions(g,S,y,x);return M.$shared&&(M.$shared=u,o[l]=Object.freeze(qa(M,u))),M}_resolveAnimations(e,n,s){let r=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let u;if(r.options.animation!==!1){let f=this.chart.config,x=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),x);u=f.createResolver(g,this.getContext(e,s,n))}let h=new Os(r,u&&u.animations);return u&&u._cacheable&&(o[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Br(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(e,n,s,r){Br(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Br(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;let o=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,s=this._cachedMeta.data;for(let[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];let r=s.length,o=n.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,s=!0){let r=this._cachedMeta,o=r.data,l=e+n,d,u=h=>{for(h.length+=n,d=h.length-1;d>=l;d--)h[d]=h[d-n]};for(u(o),d=e;d<l;++d)o[d]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){let s=this._cachedMeta;if(this._parsing){let r=s._parsed.splice(e,n);s._stacked&&cn(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Jm(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let s=0,r=e.length;s<r;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=_r(n.sort((s,r)=>s-r))}return i._cache.$bar}function Zm(i){let t=i.iScale,e=Jm(t,i.type),n=t._length,s,r,o,l,d=()=>{o===32767||o===-32768||(Oi(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),d();for(l=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),d();return n}function ep(i,t,e,n){let s=e.barThickness,r,o;return se(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[i]-r/2}}function tp(i,t,e,n){let s=t.pixels,r=s[i],o=i>0?s[i-1]:null,l=i<s.length-1?s[i+1]:null,d=e.categoryPercentage;o===null&&(o=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-o);let u=r-(r-Math.min(o,l))/2*d;return{chunk:Math.abs(l-o)/2*d/n,ratio:e.barPercentage,start:u}}function ip(i,t,e,n){let s=e.parse(i[0],n),r=e.parse(i[1],n),o=Math.min(s,r),l=Math.max(s,r),d=o,u=l;Math.abs(o)>Math.abs(l)&&(d=l,u=o),t[e.axis]=u,t._custom={barStart:d,barEnd:u,start:s,end:r,min:o,max:l}}function $l(i,t,e,n){return xe(i)?ip(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Xa(i,t,e,n){let s=i.iScale,r=i.vScale,o=s.getLabels(),l=s===r,d=[],u,h,f,x;for(u=e,h=e+n;u<h;++u)x=t[u],f={},f[s.axis]=l||s.parse(o[u],u),d.push($l(x,f,r,u));return d}function jr(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function np(i,t,e){return i!==0?ht(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function sp(i){let t,e,n,s,r;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:n,reverse:t,top:s,bottom:r}}function rp(i,t,e,n){let s=t.borderSkipped,r={};if(!s){i.borderSkipped=r;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:l,reverse:d,top:u,bottom:h}=sp(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=u:(e._bottom||0)===n?s=h:(r[Qa(h,o,l,d)]=!0,s=u)),r[Qa(s,o,l,d)]=!0,i.borderSkipped=r}function Qa(i,t,e,n){return n?(i=op(i,t,e),i=Ka(i,e,t)):i=Ka(i,t,e),i}function op(i,t,e){return i===t?e:i===e?t:i}function Ka(i,t,e){return i==="start"?t:i==="end"?e:i}function ap(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var lp=(()=>{class i extends si{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,r){return Xa(e,n,s,r)}parseArrayData(e,n,s,r){return Xa(e,n,s,r)}parseObjectData(e,n,s,r){let{iScale:o,vScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?d:u,f=l.axis==="x"?d:u,x=[],g,S,y,M;for(g=s,S=s+r;g<S;++g)M=n[g],y={},y[o.axis]=o.parse(Rt(M,h),g),x.push($l(Rt(M,f),y,l,g));return x}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);let o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:s,vScale:r}=n,o=this.getParsed(e),l=o._custom,d=jr(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){let o=r==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),f=this._getRuler(),{sharedOptions:x,includeOptions:g}=this._getSharedOptions(n,r);for(let S=n;S<n+s;S++){let y=this.getParsed(S),M=o||se(y[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(S),L=this._calculateBarIndexPixels(S,f),V=(y._stacks||{})[d.axis],N={horizontal:h,base:M.base,enableBorderRadius:!V||jr(y._custom)||l===V._top||l===V._bottom,x:h?M.head:L.center,y:h?L.center:M.head,height:h?L.size:Math.abs(M.size),width:h?Math.abs(M.size):L.size};g&&(N.options=x||this.resolveDataElementOptions(S,e[S].active?"active":r));let j=N.options||e[S].options;rp(N,j,V,l),ap(N,j,f.ratio),this.updateElement(e[S],S,N,r)}}_getStacks(e,n){let{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=s.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(n),u=d&&d[s.axis],h=f=>{let x=f._parsed.find(S=>S[s.axis]===u),g=x&&x[f.vScale.axis];if(se(g)||isNaN(g))return!0};for(let f of r)if(!(n!==void 0&&h(f))&&((o===!1||l.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&l.push(f.stack),f.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let s of this.chart.data.datasets)e[Z(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){let r=this._getStacks(e,s),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){let e=this.options,n=this._cachedMeta,s=n.iScale,r=[],o,l;for(o=0,l=n.data.length;o<l;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));let d=e.barThickness;return{min:d||Zm(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:o,minBarLength:l}}=this,d=o||0,u=this.getParsed(e),h=u._custom,f=jr(h),x=u[n.axis],g=0,S=s?this.applyStack(n,u,s):x,y,M;S!==x&&(g=S-x,S=x),f&&(x=h.barStart,S=h.barEnd-h.barStart,x!==0&&ht(x)!==ht(h.barEnd)&&(g=0),g+=x);let L=!se(o)&&!f?o:g,V=n.getPixelForValue(L);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(g+S):y=V,M=y-V,Math.abs(M)<l){M=np(M,n,d)*l,x===d&&(V-=M/2);let N=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),R=Math.min(N,j),B=Math.max(N,j);V=Math.max(Math.min(V,B),R),y=V+M,s&&!f&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(V))}if(V===n.getPixelForValue(d)){let N=ht(M)*n.getLineWidthForValue(d)/2;V+=N,M-=N}return{size:M,base:V,head:y,center:y+M/2}}_calculateBarIndexPixels(e,n){let s=n.scale,r=this.options,o=r.skipNull,l=Z(r.maxBarThickness,1/0),d,u,h=this._getAxisCount();if(n.grouped){let f=o?this._getStackCount(e):n.stackCount,x=r.barThickness==="flex"?tp(e,n,r,f*h):ep(e,n,r,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Z(g,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+S;d=x.start+x.chunk*y+x.chunk/2,u=Math.min(l,x.chunk*x.ratio)}else d=s.getPixelForValue(this.getParsed(e)[s.axis],e),u=Math.min(l,n.min*n.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){let e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length,o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}return i})(),cp=(()=>{class i extends si{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,r){let o=super.parsePrimitiveData(e,n,s,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+s).radius;return o}parseArrayData(e,n,s,r){let o=super.parseArrayData(e,n,s,r);for(let l=0;l<o.length;l++){let d=n[s+l];o[l]._custom=Z(d[2],this.resolveDataElementOptions(l+s).radius)}return o}parseObjectData(e,n,s,r){let o=super.parseObjectData(e,n,s,r);for(let l=0;l<o.length;l++){let d=n[s+l];o[l]._custom=Z(d&&d.r&&+d.r,this.resolveDataElementOptions(l+s).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=n,l=this.getParsed(e),d=r.getLabelForValue(l.x),u=o.getLabelForValue(l.y),h=l._custom;return{label:s[e]||"",value:"("+d+", "+u+(h?", "+h:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=l.axis,x=d.axis;for(let g=n;g<n+s;g++){let S=e[g],y=!o&&this.getParsed(g),M={},L=M[f]=o?l.getPixelForDecimal(.5):l.getPixelForValue(y[f]),V=M[x]=o?d.getBasePixel():d.getPixelForValue(y[x]);M.skip=isNaN(L)||isNaN(V),h&&(M.options=u||this.resolveDataElementOptions(g,S.active?"active":r),o&&(M.options.radius=0)),this.updateElement(S,g,M,r)}}resolveDataElementOptions(e,n){let s=this.getParsed(e),r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let o=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Z(s&&s._custom,o),r}}return i})();function dp(i,t,e){let n=1,s=1,r=0,o=0;if(t<ve){let l=i,d=l+t,u=Math.cos(l),h=Math.sin(l),f=Math.cos(d),x=Math.sin(d),g=(N,j,R)=>Ri(N,l,d,!0)?1:Math.max(j,j*e,R,R*e),S=(N,j,R)=>Ri(N,l,d,!0)?-1:Math.min(j,j*e,R,R*e),y=g(0,u,f),M=g(ke,h,x),L=S(oe,u,f),V=S(oe+ke,h,x);n=(y-L)/2,s=(M-V)/2,r=-(y+L)/2,o=-(M+V)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:o}}var _o=(()=>{class i extends si{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((o,l)=>{let u=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=u=>+s[u];if(re(s[e])){let{key:u="value"}=this._parsing;o=h=>+Rt(s[h],u)}let l,d;for(l=e,d=e+n;l<d;++l)r._parsed[l]=o(l)}}_getRotation(){return ct(this.options.rotation-90)}_getCircumference(){return ct(this.options.circumference)}_getRotationExtents(){let e=ve,n=-ve;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),l=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:s}=n,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-l)/2,0),u=Math.min(fa(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:f,rotation:x}=this._getRotationExtents(),{ratioX:g,ratioY:S,offsetX:y,offsetY:M}=dp(x,f,u),L=(s.width-l)/g,V=(s.height-l)/S,N=Math.max(Math.min(L,V)/2,0),j=dr(this.options.radius,N),R=Math.max(j*u,0),B=(j-R)/this._getVisibleDatasetWeightTotal();this.offsetX=y*j,this.offsetY=M*j,r.total=this.calculateTotal(),this.outerRadius=j-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){let s=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/ve)}updateElements(e,n,s,r){let o=r==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,f=(d.left+d.right)/2,x=(d.top+d.bottom)/2,g=o&&h.animateScale,S=g?0:this.innerRadius,y=g?0:this.outerRadius,{sharedOptions:M,includeOptions:L}=this._getSharedOptions(n,r),V=this._getRotation(),N;for(N=0;N<n;++N)V+=this._circumference(N,o);for(N=n;N<n+s;++N){let j=this._circumference(N,o),R=e[N],B={x:f+this.offsetX,y:x+this.offsetY,startAngle:V,endAngle:V+j,circumference:j,outerRadius:y,innerRadius:S};L&&(B.options=M||this.resolveDataElementOptions(N,R.active?"active":r)),V+=j,this.updateElement(R,N,B,r)}}calculateTotal(){let e=this._cachedMeta,n=e.data,s=0,r;for(r=0;r<n.length;r++){let o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?ve*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=Hi(n._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0,s=this.chart,r,o,l,d,u;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){l=s.getDatasetMeta(r),e=l.data,d=l.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)u=d.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){let o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),up=(()=>{class i extends si{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=n,l=this.chart._animationsDisabled,{start:d,count:u}=br(n,r,l);this._drawStart=d,this._drawCount=u,yr(n)&&(d=0,u=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;let h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:h},e),this.updateElements(r,d,u,e)}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:x}=this._getSharedOptions(n,r),g=l.axis,S=d.axis,{spanGaps:y,segment:M}=this.options,L=hi(y)?y:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",N=n+s,j=e.length,R=n>0&&this.getParsed(n-1);for(let B=0;B<j;++B){let U=e[B],$=V?U:{};if(B<n||B>=N){$.skip=!0;continue}let q=this.getParsed(B),J=se(q[S]),ee=$[g]=l.getPixelForValue(q[g],B),te=$[S]=o||J?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,q,u):q[S],B);$.skip=isNaN(ee)||isNaN(te)||J,$.stop=B>0&&Math.abs(q[g]-R[g])>L,M&&($.parsed=q,$.raw=h.data[B]),x&&($.options=f||this.resolveDataElementOptions(B,U.active?"active":r)),V||this.updateElement(U,B,$,r),R=q}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,l)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),Gl=(()=>{class i extends si{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((o,l)=>{let u=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=Hi(n._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,n,s,r){return Tr.bind(this)(e,n,s,r)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,r)=>{let o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,s=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),l=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),d=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,n,s,r){let o=r==="reset",l=this.chart,u=l.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,x=h.yCenter,g=h.getIndexAngle(0)-.5*oe,S=g,y,M=360/this.countVisibleElements();for(y=0;y<n;++y)S+=this._computeAngle(y,r,M);for(y=n;y<n+s;y++){let L=e[y],V=S,N=S+this._computeAngle(y,r,M),j=l.getDataVisibility(y)?h.getDistanceFromCenterForValue(this.getParsed(y).r):0;S=N,o&&(u.animateScale&&(j=0),u.animateRotate&&(V=N=g));let R={x:f,y:x,innerRadius:0,outerRadius:j,startAngle:V,endAngle:N,options:this.resolveDataElementOptions(y,L.active?"active":r)};this.updateElement(L,y,R,r)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?ct(this.resolveDataElementOptions(e,n).angle||s):0}}return i})(),mp=(()=>{class i extends _o{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),pp=(()=>{class i extends si{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,r){return Tr.bind(this)(e,n,s,r)}update(e){let n=this._cachedMeta,s=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(s.points=r,e!=="resize"){let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);let d={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(s,void 0,d,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,s,r){let o=this._cachedMeta.rScale,l=r==="reset";for(let d=n;d<n+s;d++){let u=e[d],h=this.resolveDataElementOptions(d,u.active?"active":r),f=o.getPointPositionForValue(d,this.getParsed(d).r),x=l?o.xCenter:f.x,g=l?o.yCenter:f.y,S={x,y:g,angle:f.angle,skip:isNaN(x)||isNaN(g),options:h};this.updateElement(u,d,S,r)}}}return i})(),hp=(()=>{class i extends si{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=n,l=this.getParsed(e),d=r.getLabelForValue(l.x),u=o.getLabelForValue(l.y);return{label:s[e]||"",value:"("+d+", "+u+")"}}update(e){let n=this._cachedMeta,{data:s=[]}=n,r=this.chart._animationsDisabled,{start:o,count:l}=br(n,s,r);if(this._drawStart=o,this._drawCount=l,yr(n)&&(o=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:d,_dataset:u}=n;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!u._decimated,d.points=s;let h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,l,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,r){let o=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),x=this.getSharedOptions(f),g=this.includeOptions(r,x),S=l.axis,y=d.axis,{spanGaps:M,segment:L}=this.options,V=hi(M)?M:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||r==="none",j=n>0&&this.getParsed(n-1);for(let R=n;R<n+s;++R){let B=e[R],U=this.getParsed(R),$=N?B:{},q=se(U[y]),J=$[S]=l.getPixelForValue(U[S],R),ee=$[y]=o||q?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,U,u):U[y],R);$.skip=isNaN(J)||isNaN(ee)||q,$.stop=R>0&&Math.abs(U[S]-j[S])>V,L&&($.parsed=U,$.raw=h.data[R]),g&&($.options=x||this.resolveDataElementOptions(R,B.active?"active":r)),N||this.updateElement(B,R,$,r),j=U}this.updateSharedOptions(x,r,f)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let d=0;for(let u=n.length-1;u>=0;--u)d=Math.max(d,n[u].size(this.resolveDataElementOptions(u))/2);return d>0&&d}let s=e.dataset,r=s.options&&s.options.borderWidth||0;if(!n.length)return r;let o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,l)/2}}return i})(),fp=Object.freeze({__proto__:null,BarController:lp,BubbleController:cp,DoughnutController:_o,LineController:up,PieController:mp,PolarAreaController:Gl,RadarController:pp,ScatterController:hp});function gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Kr=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return gi()}parse(){return gi()}format(){return gi()}add(){return gi()}diff(){return gi()}startOf(){return gi()}endOf(){return gi()}},gp={_date:Kr};function _p(i,t,e,n){let{controller:s,data:r,_sorted:o}=i,l=s._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&r.length){let u=l._reversePixels?ya:wt;if(n){if(s._sharedOptions){let h=r[0],f=typeof h.getRange=="function"&&h.getRange(t);if(f){let x=u(r,t,e-f),g=u(r,t,e+f);return{lo:x.lo,hi:g.hi}}}}else{let h=u(r,t,e);if(d){let{vScale:f}=s._cachedMeta,{_parsed:x}=i,g=x.slice(0,h.lo+1).reverse().findIndex(y=>!se(y[f.axis]));h.lo-=Math.max(0,g);let S=x.slice(h.hi).findIndex(y=>!se(y[f.axis]));h.hi+=Math.max(0,S)}return h}}return{lo:0,hi:r.length-1}}function vn(i,t,e,n,s){let r=i.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,d=r.length;l<d;++l){let{index:u,data:h}=r[l],{lo:f,hi:x}=_p(r[l],t,o,s);for(let g=f;g<=x;++g){let S=h[g];S.skip||n(S,u,g)}}}function xp(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){let r=t?Math.abs(n.x-s.x):0,o=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function zr(i,t,e,n,s){let r=[];return!s&&!i.isPointInArea(t)||vn(i,e,t,function(l,d,u){!s&&!Ct(l,i.chartArea,0)||l.inRange(t.x,t.y,n)&&r.push({element:l,datasetIndex:d,index:u})},!0),r}function vp(i,t,e,n){let s=[];function r(o,l,d){let{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:f}=fr(o,{x:t.x,y:t.y});Ri(f,u,h)&&s.push({element:o,datasetIndex:l,index:d})}return vn(i,e,t,r),s}function bp(i,t,e,n,s,r){let o=[],l=xp(e),d=Number.POSITIVE_INFINITY;function u(h,f,x){let g=h.inRange(t.x,t.y,s);if(n&&!g)return;let S=h.getCenterPoint(s);if(!(!!r||i.isPointInArea(S))&&!g)return;let M=l(t,S);M<d?(o=[{element:h,datasetIndex:f,index:x}],d=M):M===d&&o.push({element:h,datasetIndex:f,index:x})}return vn(i,e,t,u),o}function Wr(i,t,e,n,s,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!n?vp(i,t,e,s):bp(i,t,e,n,s,r)}function Ja(i,t,e,n,s){let r=[],o=e==="x"?"inXRange":"inYRange",l=!1;return vn(i,e,t,(d,u,h)=>{d[o]&&d[o](t[e],s)&&(r.push({element:d,datasetIndex:u,index:h}),l=l||d.inRange(t.x,t.y,s))}),n&&!l?[]:r}var yp={evaluateInteractionItems:vn,modes:{index(i,t,e,n){let s=ii(t,i),r=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?zr(i,s,r,n,o):Wr(i,s,r,!1,n,o),d=[];return l.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{let h=l[0].index,f=u.data[h];f&&!f.skip&&d.push({element:f,datasetIndex:u.index,index:h})}),d):[]},dataset(i,t,e,n){let s=ii(t,i),r=e.axis||"xy",o=e.includeInvisible||!1,l=e.intersect?zr(i,s,r,n,o):Wr(i,s,r,!1,n,o);if(l.length>0){let d=l[0].datasetIndex,u=i.getDatasetMeta(d).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:d,index:h})}return l},point(i,t,e,n){let s=ii(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return zr(i,s,r,n,o)},nearest(i,t,e,n){let s=ii(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return Wr(i,s,r,e.intersect,n,o)},x(i,t,e,n){let s=ii(t,i);return Ja(i,s,"x",e.intersect,n)},y(i,t,e,n){let s=ii(t,i);return Ja(i,s,"y",e.intersect,n)}}},Ul=["left","top","right","bottom"];function dn(i,t){return i.filter(e=>e.pos===t)}function Za(i,t){return i.filter(e=>Ul.indexOf(e.pos)===-1&&e.box.axis===t)}function un(i,t){return i.sort((e,n)=>{let s=t?n:e,r=t?e:n;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function wp(i){let t=[],e,n,s,r,o,l;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:r,options:{stack:o,stackWeight:l=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:l});return t}function Cp(i){let t={};for(let e of i){let{stack:n,pos:s,stackWeight:r}=e;if(!n||!Ul.includes(s))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Sp(i,t){let e=Cp(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t,r,o,l;for(r=0,o=i.length;r<o;++r){l=i[r];let{fullSize:d}=l.box,u=e[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*n:d&&t.availableWidth,l.height=s):(l.width=n,l.height=h?h*s:d&&t.availableHeight)}return e}function Mp(i){let t=wp(i),e=un(t.filter(u=>u.box.fullSize),!0),n=un(dn(t,"left"),!0),s=un(dn(t,"right")),r=un(dn(t,"top"),!0),o=un(dn(t,"bottom")),l=Za(t,"x"),d=Za(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:s.concat(d).concat(o).concat(l),chartArea:dn(t,"chartArea"),vertical:n.concat(s).concat(d),horizontal:r.concat(o).concat(l)}}function el(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function Yl(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function kp(i,t,e,n){let{pos:s,box:r}=e,o=i.maxPadding;if(!re(s)){e.size&&(i[s]-=e.size);let f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,i[s]+=e.size}r.getPadding&&Yl(o,r.getPadding());let l=Math.max(0,t.outerWidth-el(o,i,"left","right")),d=Math.max(0,t.outerHeight-el(o,i,"top","bottom")),u=l!==i.w,h=d!==i.h;return i.w=l,i.h=d,e.horizontal?{same:u,other:h}:{same:h,other:u}}function Ep(i){let t=i.maxPadding;function e(n){let s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Ap(i,t){let e=t.maxPadding;function n(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return n(i?["left","right"]:["top","bottom"])}function hn(i,t,e,n){let s=[],r,o,l,d,u,h;for(r=0,o=i.length,u=0;r<o;++r){l=i[r],d=l.box,d.update(l.width||t.w,l.height||t.h,Ap(l.horizontal,t));let{same:f,other:x}=kp(t,e,l,n);u|=f&&s.length,h=h||x,d.fullSize||s.push(l)}return u&&hn(s,t,e,n)||h}function Es(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function tl(i,t,e,n){let s=e.padding,{x:r,y:o}=t;for(let l of i){let d=l.box,u=n[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){let f=t.w*h,x=u.size||d.height;Oi(u.start)&&(o=u.start),d.fullSize?Es(d,s.left,o,e.outerWidth-s.right-s.left,x):Es(d,t.left+u.placed,o,f,x),u.start=o,u.placed+=f,o=d.bottom}else{let f=t.h*h,x=u.size||d.width;Oi(u.start)&&(r=u.start),d.fullSize?Es(d,r,s.top,x,e.outerHeight-s.bottom-s.top):Es(d,r,t.top+u.placed,x,f),u.start=r,u.placed+=f,r=d.right}}t.x=r,t.y=o}var ze={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let s=Oe(i.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),l=Mp(i.boxes),d=l.vertical,u=l.horizontal;de(i.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});let h=d.reduce((y,M)=>M.box.options&&M.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),x=Object.assign({},s);Yl(x,Oe(n));let g=Object.assign({maxPadding:x,w:r,h:o,x:s.left,y:s.top},s),S=Sp(d.concat(u),f);hn(l.fullSize,g,f,S),hn(d,g,f,S),hn(u,g,f,S)&&hn(d,g,f,S),Ep(g),tl(l.leftAndTop,g,f,S),g.x+=g.w,g.y+=g.h,tl(l.rightAndBottom,g,f,S),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},de(l.chartArea,y=>{let M=y.box;Object.assign(M,i.chartArea),M.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},Fs=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}},Jr=class extends Fs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Vs="$chartjs",Dp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},il=i=>i===null||i==="";function Tp(i,t){let e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[Vs]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",il(s)){let r=Pr(i,"width");r!==void 0&&(i.width=r)}if(il(n))if(i.style.height==="")i.height=i.width/(t||2);else{let r=Pr(i,"height");r!==void 0&&(i.height=r)}return i}var ql=Ha?{passive:!0}:!1;function Ip(i,t,e){i&&i.addEventListener(t,e,ql)}function Pp(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,ql)}function Vp(i,t){let e=Dp[i.type]||i.type,{x:n,y:s}=ii(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Rs(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Lp(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let l of r)o=o||Rs(l.addedNodes,n),o=o&&!Rs(l.removedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Op(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let l of r)o=o||Rs(l.removedNodes,n),o=o&&!Rs(l.addedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var gn=new Map,nl=0;function Xl(){let i=window.devicePixelRatio;i!==nl&&(nl=i,gn.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Fp(i,t){gn.size||window.addEventListener("resize",Xl),gn.set(i,t)}function Rp(i){gn.delete(i),gn.size||window.removeEventListener("resize",Xl)}function Hp(i,t,e){let n=i.canvas,s=n&&Ms(n);if(!s)return;let r=vr((l,d)=>{let u=s.clientWidth;e(l,d),u<s.clientWidth&&e()},window),o=new ResizeObserver(l=>{let d=l[0],u=d.contentRect.width,h=d.contentRect.height;u===0&&h===0||r(u,h)});return o.observe(s),Fp(i,r),o}function $r(i,t,e){e&&e.disconnect(),t==="resize"&&Rp(i)}function Np(i,t,e){let n=i.canvas,s=vr(r=>{i.ctx!==null&&e(Vp(r,i))},i);return Ip(n,t,s),s}var Zr=class extends Fs{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Tp(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[Vs])return!1;let n=e[Vs].initial;["height","width"].forEach(r=>{let o=n[r];se(o)?e.removeAttribute(r):e.setAttribute(r,o)});let s=n.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Vs],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),o={attach:Lp,detach:Op,resize:Hp}[e]||Np;s[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:$r,detach:$r,resize:$r}[e]||Pp)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return Ra(t,e,n,s)}isAttached(t){let e=t&&Ms(t);return!!(e&&e.isConnected)}};function Bp(i){return!Ss()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Jr:Zr}var ft=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return hi(this.x)&&hi(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let s={};return t.forEach(r=>{s[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),s}};function jp(i,t){let e=i.options.ticks,n=zp(i),s=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?$p(t):[],o=r.length,l=r[0],d=r[o-1],u=[];if(o>s)return Gp(t,u,r,o/s),u;let h=Wp(r,t,s);if(o>0){let f,x,g=o>1?Math.round((d-l)/(o-1)):null;for(As(t,u,h,se(g)?0:l-g,l),f=0,x=o-1;f<x;f++)As(t,u,h,r[f],r[f+1]);return As(t,u,h,d,se(g)?t.length:d+g),u}return As(t,u,h),u}function zp(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function Wp(i,t,e){let n=Up(i),s=t.length/e;if(!n)return Math.max(s,1);let r=xa(n);for(let o=0,l=r.length-1;o<l;o++){let d=r[o];if(d>s)return d}return Math.max(s,1)}function $p(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Gp(i,t,e,n){let s=0,r=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===r&&(t.push(i[o]),s++,r=e[s*n])}function As(i,t,e,n,s){let r=Z(n,0),o=Math.min(Z(s,i.length),i.length),l=0,d,u,h;for(e=Math.ceil(e),s&&(d=s-n,e=d/Math.floor(d/e)),h=r;h<0;)l++,h=Math.round(r+l*e);for(u=Math.max(r,0);u<o;u++)u===h&&(t.push(i[u]),l++,h=Math.round(r+l*e))}function Up(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Yp=i=>i==="left"?"right":i==="right"?"left":i,sl=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,rl=(i,t)=>Math.min(t||i,i);function ol(i,t){let e=[],n=i.length/t,s=i.length,r=0;for(;r<s;r+=n)e.push(i[Math.floor(r)]);return e}function qp(i,t,e){let n=i.ticks.length,s=Math.min(t,n-1),r=i._startPixel,o=i._endPixel,l=1e-6,d=i.getPixelForTick(s),u;if(!(e&&(n===1?u=Math.max(d-r,o-d):t===0?u=(i.getPixelForTick(1)-d)/2:u=(d-i.getPixelForTick(s-1))/2,d+=s<t?u:-u,d<r-l||d>o+l)))return d}function Xp(i,t){de(i,e=>{let n=e.gc,s=n.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[n[r]];n.splice(0,s)}})}function mn(i){return i.drawTicks?i.tickLength:0}function al(i,t){if(!i.display)return 0;let e=Te(i.font,t),n=Oe(i.padding);return(xe(i.text)?i.text.length:1)*e.lineHeight+n.height}function Qp(i,t){return Ht(i,{scale:t,type:"scale"})}function Kp(i,t,e){return Ht(i,{tick:e,index:t,type:"tick"})}function Jp(i,t,e){let n=vs(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Yp(n)),n}function Zp(i,t,e,n){let{top:s,left:r,bottom:o,right:l,chart:d}=i,{chartArea:u,scales:h}=d,f=0,x,g,S,y=o-s,M=l-r;if(i.isHorizontal()){if(g=Le(n,r,l),re(e)){let L=Object.keys(e)[0],V=e[L];S=h[L].getPixelForValue(V)+y-t}else e==="center"?S=(u.bottom+u.top)/2+y-t:S=sl(i,e,t);x=l-r}else{if(re(e)){let L=Object.keys(e)[0],V=e[L];g=h[L].getPixelForValue(V)-M+t}else e==="center"?g=(u.left+u.right)/2-M+t:g=sl(i,e,t);S=Le(n,o,s),f=e==="left"?-ke:ke}return{titleX:g,titleY:S,maxWidth:x,rotation:f}}var xi=class i extends ft{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=it(t,Number.POSITIVE_INFINITY),e=it(e,Number.NEGATIVE_INFINITY),n=it(n,Number.POSITIVE_INFINITY),s=it(s,Number.NEGATIVE_INFINITY),{min:it(t,n),max:it(e,s),minDefined:Me(t),maxDefined:Me(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:n};let l=this.getMatchingVisibleMetas();for(let d=0,u=l.length;d<u;++d)o=l[d].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(n=Math.max(n,o.max));return e=r&&e>n?n:e,n=s&&e>n?e:n,{min:it(e,it(n,e)),max:it(n,it(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:s,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ia(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let d=l<this.ticks.length;this._convertTicksToLabels(d?ol(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=jp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n],r.label=ge(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=rl(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation,o=s,l,d,u;if(!this._isVisible()||!e.display||s>=r||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),f=h.widest.width,x=h.highest.height,g=Pe(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/n:g/(n-1),f+6>l&&(l=g/(n-(t.offset?.5:1)),d=this.maxHeight-mn(t.grid)-e.padding-al(t.title,this.chart.options.font),u=Math.sqrt(f*f+x*x),o=_s(Math.min(Math.asin(Pe((h.highest.height+6)/l,-1,1)),Math.asin(Pe(d/u,-1,1))-Math.asin(Pe(x/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){let d=al(s,e.options.font);if(l?(t.width=this.maxWidth,t.height=mn(r)+d):(t.height=this.maxHeight,t.width=mn(r)+d),n.display&&this.ticks.length){let{first:u,last:h,widest:f,highest:x}=this._getLabelSizes(),g=n.padding*2,S=ct(this.labelRotation),y=Math.cos(S),M=Math.sin(S);if(l){let L=n.mirror?0:M*f.width+y*x.height;t.height=Math.min(this.maxHeight,t.height+L+g)}else{let L=n.mirror?0:y*f.width+M*x.height;t.width=Math.min(this.maxWidth,t.width+L+g)}this._calculatePadding(u,h,M,y)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){let{ticks:{align:r,padding:o},position:l}=this.options,d=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),x=0,g=0;d?u?(x=s*t.width,g=n*e.height):(x=n*t.height,g=s*e.width):r==="start"?g=e.width:r==="end"?x=t.width:r!=="inner"&&(x=t.width/2,g=e.width/2),this.paddingLeft=Math.max((x-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let h=e.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=e.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)se(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=ol(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:s,_longestTextCache:r}=this,o=[],l=[],d=Math.floor(e/rl(e,n)),u=0,h=0,f,x,g,S,y,M,L,V,N,j,R;for(f=0;f<e;f+=d){if(S=t[f].label,y=this._resolveTickFontOptions(f),s.font=M=y.string,L=r[M]=r[M]||{data:{},gc:[]},V=y.lineHeight,N=j=0,!se(S)&&!xe(S))N=sn(s,L.data,L.gc,N,S),j=V;else if(xe(S))for(x=0,g=S.length;x<g;++x)R=S[x],!se(R)&&!xe(R)&&(N=sn(s,L.data,L.gc,N,R),j+=V);o.push(N),l.push(j),u=Math.max(N,u),h=Math.max(j,h)}Xp(r,e);let B=o.indexOf(u),U=l.indexOf(h),$=q=>({width:o[q]||0,height:l[q]||0});return{first:$(0),last:$(e-1),widest:$(B),highest:$(U),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return ba(this._alignToPixels?Zt(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=Kp(this.getContext(),t,n))}return this.$context||(this.$context=Qp(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=ct(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,l=r?r.widest.width+o:0,d=r?r.highest.height+o:0;return this.isHorizontal()?d*n>l*s?l/n:d/s:d*s<l*n?d/n:l/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,s=this.options,{grid:r,position:o,border:l}=s,d=r.offset,u=this.isHorizontal(),f=this.ticks.length+(d?1:0),x=mn(r),g=[],S=l.setContext(this.getContext()),y=S.display?S.width:0,M=y/2,L=function(_e){return Zt(n,_e,y)},V,N,j,R,B,U,$,q,J,ee,te,ye;if(o==="top")V=L(this.bottom),U=this.bottom-x,q=V-M,ee=L(t.top)+M,ye=t.bottom;else if(o==="bottom")V=L(this.top),ee=t.top,ye=L(t.bottom)-M,U=V+M,q=this.top+x;else if(o==="left")V=L(this.right),B=this.right-x,$=V-M,J=L(t.left)+M,te=t.right;else if(o==="right")V=L(this.left),J=t.left,te=L(t.right)-M,B=V+M,$=this.left+x;else if(e==="x"){if(o==="center")V=L((t.top+t.bottom)/2+.5);else if(re(o)){let _e=Object.keys(o)[0],we=o[_e];V=L(this.chart.scales[_e].getPixelForValue(we))}ee=t.top,ye=t.bottom,U=V+M,q=U+x}else if(e==="y"){if(o==="center")V=L((t.left+t.right)/2);else if(re(o)){let _e=Object.keys(o)[0],we=o[_e];V=L(this.chart.scales[_e].getPixelForValue(we))}B=V-M,$=B-x,J=t.left,te=t.right}let We=Z(s.ticks.maxTicksLimit,f),le=Math.max(1,Math.ceil(f/We));for(N=0;N<f;N+=le){let _e=this.getContext(N),we=r.setContext(_e),Ye=l.setContext(_e),Ie=we.lineWidth,jt=we.color,zt=Ye.dash||[],Wt=Ye.dashOffset,ri=we.tickWidth,At=we.tickColor,dt=we.tickBorderDash||[],ut=we.tickBorderDashOffset;j=qp(this,N,d),j!==void 0&&(R=Zt(n,j,Ie),u?B=$=J=te=R:U=q=ee=ye=R,g.push({tx1:B,ty1:U,tx2:$,ty2:q,x1:J,y1:ee,x2:te,y2:ye,width:Ie,color:jt,borderDash:zt,borderDashOffset:Wt,tickWidth:ri,tickColor:At,tickBorderDash:dt,tickBorderDashOffset:ut}))}return this._ticksLength=f,this._borderValue=V,g}_computeLabelItems(t){let e=this.axis,n=this.options,{position:s,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:u,padding:h,mirror:f}=r,x=mn(n.grid),g=x+h,S=f?-h:g,y=-ct(this.labelRotation),M=[],L,V,N,j,R,B,U,$,q,J,ee,te,ye="middle";if(s==="top")B=this.bottom-S,U=this._getXAxisLabelAlignment();else if(s==="bottom")B=this.top+S,U=this._getXAxisLabelAlignment();else if(s==="left"){let le=this._getYAxisLabelAlignment(x);U=le.textAlign,R=le.x}else if(s==="right"){let le=this._getYAxisLabelAlignment(x);U=le.textAlign,R=le.x}else if(e==="x"){if(s==="center")B=(t.top+t.bottom)/2+g;else if(re(s)){let le=Object.keys(s)[0],_e=s[le];B=this.chart.scales[le].getPixelForValue(_e)+g}U=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")R=(t.left+t.right)/2-g;else if(re(s)){let le=Object.keys(s)[0],_e=s[le];R=this.chart.scales[le].getPixelForValue(_e)}U=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(d==="start"?ye="top":d==="end"&&(ye="bottom"));let We=this._getLabelSizes();for(L=0,V=l.length;L<V;++L){N=l[L],j=N.label;let le=r.setContext(this.getContext(L));$=this.getPixelForTick(L)+r.labelOffset,q=this._resolveTickFontOptions(L),J=q.lineHeight,ee=xe(j)?j.length:1;let _e=ee/2,we=le.color,Ye=le.textStrokeColor,Ie=le.textStrokeWidth,jt=U;o?(R=$,U==="inner"&&(L===V-1?jt=this.options.reverse?"left":"right":L===0?jt=this.options.reverse?"right":"left":jt="center"),s==="top"?u==="near"||y!==0?te=-ee*J+J/2:u==="center"?te=-We.highest.height/2-_e*J+J:te=-We.highest.height+J/2:u==="near"||y!==0?te=J/2:u==="center"?te=We.highest.height/2-_e*J:te=We.highest.height-ee*J,f&&(te*=-1),y!==0&&!le.showLabelBackdrop&&(R+=J/2*Math.sin(y))):(B=$,te=(1-ee)*J/2);let zt;if(le.showLabelBackdrop){let Wt=Oe(le.backdropPadding),ri=We.heights[L],At=We.widths[L],dt=te-Wt.top,ut=0-Wt.left;switch(ye){case"middle":dt-=ri/2;break;case"bottom":dt-=ri;break}switch(U){case"center":ut-=At/2;break;case"right":ut-=At;break;case"inner":L===V-1?ut-=At:L>0&&(ut-=At/2);break}zt={left:ut,top:dt,width:At+Wt.width,height:ri+Wt.height,color:le.backdropColor}}M.push({label:j,font:q,textOffset:te,options:{rotation:y,color:we,strokeColor:Ye,strokeWidth:Ie,textAlign:jt,textBaseline:ye,translation:[R,B],backdrop:zt}})}return M}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-ct(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,d=o.widest.width,u,h;return e==="left"?s?(h=this.right+r,n==="near"?u="left":n==="center"?(u="center",h+=d/2):(u="right",h+=d)):(h=this.right-l,n==="near"?u="right":n==="center"?(u="center",h-=d/2):(u="left",h=this.left)):e==="right"?s?(h=this.left+r,n==="near"?u="right":n==="center"?(u="center",h-=d/2):(u="left",h-=d)):(h=this.left+l,n==="near"?u="left":n==="center"?(u="center",h+=d/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,r,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o,l=(d,u,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){let d=s[r];e.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:s}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;let l=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue,u,h,f,x;this.isHorizontal()?(u=Zt(t,this.left,o)-o/2,h=Zt(t,this.right,l)+l/2,f=x=d):(f=Zt(t,this.top,o)-o/2,x=Zt(t,this.bottom,l)+l/2,u=h=d),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,f),e.lineTo(h,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&an(n,s);let r=this.getLabelItems(t);for(let o of r){let l=o.options,d=o.font,u=o.label,h=o.textOffset;ei(n,u,0,h,d,l)}s&&ln(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;let r=Te(n.font),o=Oe(n.padding),l=n.align,d=r.lineHeight/2;e==="bottom"||e==="center"||re(e)?(d+=o.bottom,xe(n.text)&&(d+=r.lineHeight*(n.text.length-1))):d+=o.top;let{titleX:u,titleY:h,maxWidth:f,rotation:x}=Zp(this,d,e,l);ei(t,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:x,textAlign:Jp(l,e,s),textBaseline:"middle",translation:[u,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=Z(t.grid&&t.grid.z,-1),s=Z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],r,o;for(r=0,o=e.length;r<o;++r){let l=e[r];l[n]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Te(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},zi=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;ih(e)&&(n=this.register(e));let s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,eh(t,o,n),this.override&&be.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in be[s]&&(delete be[s][n],this.override&&delete Jt[n])}};function eh(i,t,e){let n=Pi(Object.create(null),[e?be.get(e):{},be.get(t),i.defaults]);be.set(t,n),i.defaultRoutes&&th(t,i.defaultRoutes),i.descriptors&&be.describe(t,i.descriptors)}function th(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),s=n.pop(),r=[i].concat(n).join("."),o=t[e].split("."),l=o.pop(),d=o.join(".");be.route(r,s,d,l)})}function ih(i){return"id"in i&&"defaults"in i}var eo=class{constructor(){this.controllers=new zi(si,"datasets",!0),this.elements=new zi(ft,"elements"),this.plugins=new zi(Object,"plugins"),this.scales=new zi(xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{let r=n||this._getRegistryForType(s);n||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):de(s,o=>{let l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){let s=gs(t);ge(n["before"+s],[],n),e[t](n),ge(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}},Et=new eo,to=class{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,s){s=s||{};for(let r of t){let o=r.plugin,l=o[n],d=[e,s,r.options];if(ge(l,d,o)===!1&&s.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,s=Z(n.options&&n.options.plugins,{}),r=nh(n);return s===!1&&!e?[]:rh(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,s=(r,o)=>r.filter(l=>!o.some(d=>l.plugin.id===d.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}};function nh(i){let t={},e=[],n=Object.keys(Et.plugins.items);for(let r=0;r<n.length;r++)e.push(Et.getPlugin(n[r]));let s=i.plugins||[];for(let r=0;r<s.length;r++){let o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function sh(i,t){return!t&&i===!1?null:i===!0?{}:i}function rh(i,{plugins:t,localIds:e},n,s){let r=[],o=i.getContext();for(let l of t){let d=l.id,u=sh(n[d],s);u!==null&&r.push({plugin:l,options:oh(i.config,{plugin:l,local:e[d]},u,o)})}return r}function oh(i,{plugin:t,local:e},n,s){let r=i.pluginScopeKeys(t),o=i.getOptionScopes(n,r);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function io(i,t){let e=be.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function ah(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function lh(i,t){return i===t?"_index_":"_value_"}function ll(i){if(i==="x"||i==="y"||i==="r")return i}function ch(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function no(i,...t){if(ll(i))return i;for(let e of t){let n=e.axis||ch(e.position)||i.length>1&&ll(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function cl(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function dh(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return cl(i,"x",e[0])||cl(i,"y",e[0])}return{}}function uh(i,t){let e=Jt[i.type]||{scales:{}},n=t.scales||{},s=io(i.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{let l=n[o];if(!re(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let d=no(o,l,dh(o,i),be.scales[l.type]),u=lh(d,s),h=e.scales||{};r[o]=Li(Object.create(null),[{axis:d},l,h[d],h[u]])}),i.data.datasets.forEach(o=>{let l=o.type||i.type,d=o.indexAxis||io(l,t),h=(Jt[l]||{}).scales||{};Object.keys(h).forEach(f=>{let x=ah(f,d),g=o[x+"AxisID"]||x;r[g]=r[g]||Object.create(null),Li(r[g],[{axis:x},n[g],h[f]])})}),Object.keys(r).forEach(o=>{let l=r[o];Li(l,[be.scales[l.type],be.scale])}),r}function Ql(i){let t=i.options||(i.options={});t.plugins=Z(t.plugins,{}),t.scales=uh(i,t)}function Kl(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function mh(i){return i=i||{},i.data=Kl(i.data),Ql(i),i}var dl=new Map,Jl=new Set;function Ds(i,t){let e=dl.get(i);return e||(e=t(),dl.set(i,e),Jl.add(e)),e}var pn=(i,t,e)=>{let n=Rt(t,e);n!==void 0&&i.add(n)},so=class{constructor(t){this._config=mh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Ql(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ds(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ds(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ds(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Ds(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){let{options:s,type:r}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;let d=new Set;e.forEach(h=>{t&&(d.add(t),h.forEach(f=>pn(d,t,f))),h.forEach(f=>pn(d,s,f)),h.forEach(f=>pn(d,Jt[r]||{},f)),h.forEach(f=>pn(d,be,f)),h.forEach(f=>pn(d,bs,f))});let u=Array.from(d);return u.length===0&&u.push(Object.create(null)),Jl.has(e)&&o.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,Jt[e]||{},be.datasets[e]||{},{type:e},be,bs]}resolveNamedOptions(t,e,n,s=[""]){let r={$shared:!0},{resolver:o,subPrefixes:l}=ul(this._resolverCache,t,s),d=o;if(hh(o,e)){r.$shared=!1,n=Ot(n)?n():n;let u=this.createResolver(t,n,l);d=pi(o,n,u)}for(let u of e)r[u]=d[u];return r}createResolver(t,e,n=[""],s){let{resolver:r}=ul(this._resolverCache,t,n);return re(e)?pi(r,e,void 0,s):r}};function ul(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let s=e.join(),r=n.get(s);return r||(r={resolver:Cs(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,r)),r}var ph=i=>re(i)&&Object.getOwnPropertyNames(i).some(t=>Ot(i[t]));function hh(i,t){let{isScriptable:e,isIndexable:n}=Er(i);for(let s of t){let r=e(s),o=n(s),l=(o||r)&&i[s];if(r&&(Ot(l)||ph(l))||o&&xe(l))return!0}return!1}var fh="4.5.0",gh=["top","bottom","left","right","chartArea"];function ml(i,t){return i==="top"||i==="bottom"||gh.indexOf(i)===-1&&t==="x"}function pl(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function hl(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[i],t)}function _h(i){let t=i.chart,e=t.options.animation;ge(e&&e.onProgress,[i],t)}function Zl(i){return Ss()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Ls={},fl=i=>{let t=Zl(i);return Object.values(Ls).filter(e=>e.canvas===t).pop()};function xh(i,t,e){let n=Object.keys(i);for(let s of n){let r=+s;if(r>=t){let o=i[s];delete i[s],(e>0||r>t)&&(i[r+e]=o)}}}function vh(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var bn=(()=>{class i{static defaults=be;static instances=Ls;static overrides=Jt;static registry=Et;static version=fh;static getChart=fl;static register(...e){Et.add(...e),gl()}static unregister(...e){Et.remove(...e),gl()}constructor(e,n){let s=this.config=new so(n),r=Zl(e),o=fl(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Bp(r)),this.platform.updateConfig(s);let d=this.platform.acquireContext(r,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,f=u&&u.width;if(this.id=ha(),this.ctx=d,this.canvas=u,this.width=f,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new to,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ma(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Ls[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Nt.listen(this,"complete",hl),Nt.listen(this,"progress",_h),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:o}=this;return se(e)?n&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Et}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ir(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sr(this.canvas,this.ctx),this}stop(){return Nt.stop(this),this}resize(e,n){Nt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,n,o),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Ir(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),ge(s.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};de(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){let e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((l,d)=>(l[d]=!1,l),{}),o=[];n&&(o=o.concat(Object.keys(n).map(l=>{let d=n[l],u=no(l,d),h=u==="r",f=u==="x";return{options:d,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),de(o,l=>{let d=l.options,u=d.id,h=no(u,d),f=Z(d.type,l.dtype);(d.position===void 0||ml(d.position,h)!==ml(l.dposition))&&(d.position=l.dposition),r[u]=!0;let x=null;if(u in s&&s[u].type===f)x=s[u];else{let g=Et.getScale(f);x=new g({id:u,type:f,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(d,e)}),de(r,(l,d)=>{l||delete s[d]}),de(s,l=>{ze.configure(this,l,l.options),ze.addBox(this,l)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(pl("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){let o=n[s],l=this.getDatasetMeta(s),d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=d,l.indexAxis=o.indexAxis||io(d,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{let u=Et.getController(d),{datasetElementType:h,dataElementType:f}=be.datasets[d];Object.assign(u,{dataElementType:Et.getElement(f),datasetElementType:h&&Et.getElement(h)}),l.controller=new u(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){de(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,f=this.data.datasets.length;h<f;h++){let{controller:x}=this.getDatasetMeta(h),g=!r&&o.indexOf(x)===-1;x.buildOrUpdateElements(g),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),r||de(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pl("z","_idx"));let{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){de(this.scales,e=>{ze.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!ur(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:s,start:r,count:o}of n){let l=s==="_removeElements"?-o:o;xh(e,r,l)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),r=s(0);for(let o=1;o<n;o++)if(!ur(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ze.update(this,this.width,this.height,e);let n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],de(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ot(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nt.has(this)?this.attached&&!Nt.running(this)&&Nt.start(this):(this.draw(),hl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,s=[],r,o;for(r=0,o=n.length;r<o;++r){let l=n[r];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Rr(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&an(n,r),e.controller.draw(),r&&ln(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ct(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){let o=yp.modes[n];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){let n=this.data.datasets[e],s=this._metasets,r=s.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ht(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){let s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){let r=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);Oi(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Nt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sr(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ls[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},r=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};de(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,s=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)},l,d=()=>{r("attach",d),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){de(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},de(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){let r=s?"set":"remove",o,l,d,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,u=e.length;d<u;++d){l=e[d];let h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{let d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!rn(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){let r=this.options.hover,o=(u,h)=>u.filter(f=>!h.some(x=>f.datasetIndex===x.datasetIndex&&f.index===x.index)),l=o(n,e),d=s?e:o(e,n);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,n){let s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;let o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){let{_active:r=[],options:o}=this,l=n,d=this._getActiveElements(e,r,s,l),u=_a(e),h=vh(e,this._lastEvent,s,u);s&&(this._lastEvent=null,ge(o.onHover,[e,d,this],this),u&&ge(o.onClick,[e,d,this],this));let f=!rn(d,r);return(f||n)&&(this._active=d,this._updateHoverStyles(d,r,n)),this._lastEvent=h,f}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}return i})();function gl(){return de(bn.instances,i=>i._plugins.invalidate())}function bh(i,t,e){let{startAngle:n,x:s,y:r,outerRadius:o,innerRadius:l,options:d}=t,{borderWidth:u,borderJoinStyle:h}=d,f=Math.min(u/o,Ve(n-e));if(i.beginPath(),i.arc(s,r,o-u/2,n+f/2,e-f/2),l>0){let x=Math.min(u/l,Ve(n-e));i.arc(s,r,l+u/2,e-x/2,n+x/2,!0)}else{let x=Math.min(u/2,o*Ve(n-e));if(h==="round")i.arc(s,r,x,e-oe/2,n+oe/2,!0);else if(h==="bevel"){let g=2*x*x,S=-g*Math.cos(e+oe/2)+s,y=-g*Math.sin(e+oe/2)+r,M=g*Math.cos(n+oe/2)+s,L=g*Math.sin(n+oe/2)+r;i.lineTo(S,y),i.lineTo(M,L)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function yh(i,t,e){let{startAngle:n,pixelMargin:s,x:r,y:o,outerRadius:l,innerRadius:d}=t,u=s/l;i.beginPath(),i.arc(r,o,l,n-u,e+u),d>s?(u=s/d,i.arc(r,o,d,e+u,n-u,!0)):i.arc(r,o,s,e+ke,n-ke),i.closePath(),i.clip()}function wh(i){return ws(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Ch(i,t,e,n){let s=wh(i.options.borderRadius),r=(e-t)/2,o=Math.min(r,n*t/2),l=d=>{let u=(e-Math.min(r,d))*n/2;return Pe(d,0,Math.min(r,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Pe(s.innerStart,0,o),innerEnd:Pe(s.innerEnd,0,o)}}function ji(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Hs(i,t,e,n,s,r){let{x:o,y:l,startAngle:d,pixelMargin:u,innerRadius:h}=t,f=Math.max(t.outerRadius+n+e-u,0),x=h>0?h+n+e+u:0,g=0,S=s-d;if(n){let le=h>0?h-n:0,_e=f>0?f-n:0,we=(le+_e)/2,Ye=we!==0?S*we/(we+n):S;g=(S-Ye)/2}let y=Math.max(.001,S*f-e/oe)/f,M=(S-y)/2,L=d+M+g,V=s-M-g,{outerStart:N,outerEnd:j,innerStart:R,innerEnd:B}=Ch(t,x,f,V-L),U=f-N,$=f-j,q=L+N/U,J=V-j/$,ee=x+R,te=x+B,ye=L+R/ee,We=V-B/te;if(i.beginPath(),r){let le=(q+J)/2;if(i.arc(o,l,f,q,le),i.arc(o,l,f,le,J),j>0){let Ie=ji($,J,o,l);i.arc(Ie.x,Ie.y,j,J,V+ke)}let _e=ji(te,V,o,l);if(i.lineTo(_e.x,_e.y),B>0){let Ie=ji(te,We,o,l);i.arc(Ie.x,Ie.y,B,V+ke,We+Math.PI)}let we=(V-B/x+(L+R/x))/2;if(i.arc(o,l,x,V-B/x,we,!0),i.arc(o,l,x,we,L+R/x,!0),R>0){let Ie=ji(ee,ye,o,l);i.arc(Ie.x,Ie.y,R,ye+Math.PI,L-ke)}let Ye=ji(U,L,o,l);if(i.lineTo(Ye.x,Ye.y),N>0){let Ie=ji(U,q,o,l);i.arc(Ie.x,Ie.y,N,L-ke,q)}}else{i.moveTo(o,l);let le=Math.cos(q)*f+o,_e=Math.sin(q)*f+l;i.lineTo(le,_e);let we=Math.cos(J)*f+o,Ye=Math.sin(J)*f+l;i.lineTo(we,Ye)}i.closePath()}function Sh(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:l}=t,d=t.endAngle;if(r){Hs(i,t,e,n,d,s);for(let u=0;u<r;++u)i.fill();isNaN(l)||(d=o+(l%ve||ve))}return Hs(i,t,e,n,d,s),i.fill(),d}function Mh(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:l,options:d}=t,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:x,borderRadius:g}=d,S=d.borderAlign==="inner";if(!u)return;i.setLineDash(f||[]),i.lineDashOffset=x,S?(i.lineWidth=u*2,i.lineJoin=h||"round"):(i.lineWidth=u,i.lineJoin=h||"bevel");let y=t.endAngle;if(r){Hs(i,t,e,n,y,s);for(let M=0;M<r;++M)i.stroke();isNaN(l)||(y=o+(l%ve||ve))}S&&yh(i,t,y),d.selfJoin&&y-o>=oe&&g===0&&h!=="miter"&&bh(i,t,y),r||(Hs(i,t,e,n,y,s),i.stroke())}var ro=class extends ft{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let s=this.getProps(["x","y"],n),{angle:r,distance:o}=fr(s,{x:t,y:e}),{startAngle:l,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),x=(this.options.spacing+this.options.borderWidth)/2,g=Z(f,d-l),S=Ri(r,l,d)&&l!==d,y=g>=ve||S,M=Mt(o,u+x,h+x);return y&&M}getCenterPoint(t){let{x:e,y:n,startAngle:s,endAngle:r,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:u}=this.options,h=(s+r)/2,f=(o+l+u+d)/2;return{x:e+Math.cos(h)*f,y:n+Math.sin(h)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>ve?Math.floor(n/ve):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);let d=1-Math.sin(Math.min(oe,n||0)),u=s*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Sh(t,this,u,r,o),Mh(t,this,u,r,o),t.restore()}};function ec(i,t,e=t){i.lineCap=Z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Z(e.borderDash,t.borderDash)),i.lineDashOffset=Z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Z(e.borderWidth,t.borderWidth),i.strokeStyle=Z(e.borderColor,t.borderColor)}function kh(i,t,e){i.lineTo(e.x,e.y)}function Eh(i){return i.stepped?Da:i.tension||i.cubicInterpolationMode==="monotone"?Ta:kh}function tc(i,t,e={}){let n=i.length,{start:s=0,end:r=n-1}=e,{start:o,end:l}=t,d=Math.max(s,o),u=Math.min(r,l),h=s<o&&r<o||s>l&&r>l;return{count:n,start:d,loop:t.loop,ilen:u<d&&!h?n+u-d:u-d}}function Ah(i,t,e,n){let{points:s,options:r}=t,{count:o,start:l,loop:d,ilen:u}=tc(s,e,n),h=Eh(r),{move:f=!0,reverse:x}=n||{},g,S,y;for(g=0;g<=u;++g)S=s[(l+(x?u-g:g))%o],!S.skip&&(f?(i.moveTo(S.x,S.y),f=!1):h(i,y,S,x,r.stepped),y=S);return d&&(S=s[(l+(x?u:0))%o],h(i,y,S,x,r.stepped)),!!d}function Dh(i,t,e,n){let s=t.points,{count:r,start:o,ilen:l}=tc(s,e,n),{move:d=!0,reverse:u}=n||{},h=0,f=0,x,g,S,y,M,L,V=j=>(o+(u?l-j:j))%r,N=()=>{y!==M&&(i.lineTo(h,M),i.lineTo(h,y),i.lineTo(h,L))};for(d&&(g=s[V(0)],i.moveTo(g.x,g.y)),x=0;x<=l;++x){if(g=s[V(x)],g.skip)continue;let j=g.x,R=g.y,B=j|0;B===S?(R<y?y=R:R>M&&(M=R),h=(f*h+j)/++f):(N(),i.lineTo(j,R),S=B,f=0,y=M=R),L=R}N()}function oo(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Dh:Ah}function Th(i){return i.stepped?Na:i.tension||i.cubicInterpolationMode==="monotone"?Ba:Kt}function Ih(i,t,e,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,n)&&s.closePath()),ec(i,t.options),i.stroke(s)}function Ph(i,t,e,n){let{segments:s,options:r}=t,o=oo(t);for(let l of s)ec(i,r,l.style),i.beginPath(),o(i,t,l,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var Vh=typeof Path2D=="function";function Lh(i,t,e,n){Vh&&!t.options.segment?Ih(i,t,e,n):Ph(i,t,e,n)}var js=(()=>{class i extends ft{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let r=s.spanGaps?this._loop:this._fullLoop;Fa(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=za(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){let s=this.options,r=e[n],o=this.points,l=Fr(this,{property:n,start:r,end:r});if(!l.length)return;let d=[],u=Th(s),h,f;for(h=0,f=l.length;h<f;++h){let{start:x,end:g}=l[h],S=o[x],y=o[g];if(S===y){d.push(S);continue}let M=Math.abs((r-S[n])/(y[n]-S[n])),L=u(S,y,M,s.stepped);L[n]=e[n],d.push(L)}return d.length===1?d[0]:d}pathSegment(e,n,s){return oo(this)(e,this,n,s)}path(e,n,s){let r=this.segments,o=oo(this),l=this._loop;n=n||0,s=s||this.points.length-n;for(let d of r)l&=o(e,this,d,{start:n,end:n+s-1});return!!l}draw(e,n,s,r){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Lh(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function _l(i,t,e,n){let s=i.options,{[e]:r}=i.getProps([e],n);return Math.abs(t-r)<s.radius+s.hitRadius}var Oh=(()=>{class i extends ft{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){let r=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return _l(this,e,"x",n)}inYRange(e,n){return _l(this,e,"y",n)}getCenterPoint(e){let{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){let s=this.options;this.skip||s.radius<.1||!Ct(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ys(e,s,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function ic(i,t){let{x:e,y:n,base:s,width:r,height:o}=i.getProps(["x","y","base","width","height"],t),l,d,u,h,f;return i.horizontal?(f=o/2,l=Math.min(e,s),d=Math.max(e,s),u=n-f,h=n+f):(f=r/2,l=e-f,d=e+f,u=Math.min(n,s),h=Math.max(n,s)),{left:l,top:u,right:d,bottom:h}}function ni(i,t,e,n){return i?0:Pe(t,e,n)}function Fh(i,t,e){let n=i.options.borderWidth,s=i.borderSkipped,r=kr(n);return{t:ni(s.top,r.top,0,e),r:ni(s.right,r.right,0,t),b:ni(s.bottom,r.bottom,0,e),l:ni(s.left,r.left,0,t)}}function Rh(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,r=ti(s),o=Math.min(t,e),l=i.borderSkipped,d=n||re(s);return{topLeft:ni(!d||l.top||l.left,r.topLeft,0,o),topRight:ni(!d||l.top||l.right,r.topRight,0,o),bottomLeft:ni(!d||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:ni(!d||l.bottom||l.right,r.bottomRight,0,o)}}function Hh(i){let t=ic(i),e=t.right-t.left,n=t.bottom-t.top,s=Fh(i,e/2,n/2),r=Rh(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Gr(i,t,e,n){let s=t===null,r=e===null,l=i&&!(s&&r)&&ic(i,n);return l&&(s||Mt(t,l.left,l.right))&&(r||Mt(e,l.top,l.bottom))}function Nh(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function Bh(i,t){i.rect(t.x,t.y,t.w,t.h)}function Ur(i,t,e={}){let n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,r=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+r,h:i.h+o,radius:i.radius}}var ao=class extends ft{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:r,outer:o}=Hh(this),l=Nh(o.radius)?Ni:Bh;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),l(t,Ur(o,e,r)),t.clip(),l(t,Ur(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Ur(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return Gr(this,t,e,n)}inXRange(t,e){return Gr(this,t,null,e)}inYRange(t,e){return Gr(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},jh=Object.freeze({__proto__:null,ArcElement:ro,BarElement:ao,LineElement:js,PointElement:Oh}),lo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xl=lo.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function nc(i){return lo[i%lo.length]}function sc(i){return xl[i%xl.length]}function zh(i,t){return i.borderColor=nc(t),i.backgroundColor=sc(t),++t}function Wh(i,t){return i.backgroundColor=i.data.map(()=>nc(t++)),t}function $h(i,t){return i.backgroundColor=i.data.map(()=>sc(t++)),t}function Gh(i){let t=0;return(e,n)=>{let s=i.getDatasetMeta(n).controller;s instanceof _o?t=Wh(e,t):s instanceof Gl?t=$h(e,t):s&&(t=zh(e,t))}}function vl(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function Uh(i){return i&&(i.borderColor||i.backgroundColor)}function Yh(){return be.borderColor!=="rgba(0,0,0,0.1)"||be.backgroundColor!=="rgba(0,0,0,0.1)"}var qh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:s}=i.config,{elements:r}=s,o=vl(n)||Uh(s)||r&&vl(r)||Yh();if(!e.forceOverride&&o)return;let l=Gh(i);n.forEach(l)}};function Xh(i,t,e,n,s){let r=s.samples||n;if(r>=e)return i.slice(t,t+e);let o=[],l=(e-2)/(r-2),d=0,u=t+e-1,h=t,f,x,g,S,y;for(o[d++]=i[h],f=0;f<r-2;f++){let M=0,L=0,V,N=Math.floor((f+1)*l)+1+t,j=Math.min(Math.floor((f+2)*l)+1,e)+t,R=j-N;for(V=N;V<j;V++)M+=i[V].x,L+=i[V].y;M/=R,L/=R;let B=Math.floor(f*l)+1+t,U=Math.min(Math.floor((f+1)*l)+1,e)+t,{x:$,y:q}=i[h];for(g=S=-1,V=B;V<U;V++)S=.5*Math.abs(($-M)*(i[V].y-q)-($-i[V].x)*(L-q)),S>g&&(g=S,x=i[V],y=V);o[d++]=x,h=y}return o[d++]=i[u],o}function Qh(i,t,e,n){let s=0,r=0,o,l,d,u,h,f,x,g,S,y,M=[],L=t+e-1,V=i[t].x,j=i[L].x-V;for(o=t;o<t+e;++o){l=i[o],d=(l.x-V)/j*n,u=l.y;let R=d|0;if(R===h)u<S?(S=u,f=o):u>y&&(y=u,x=o),s=(r*s+l.x)/++r;else{let B=o-1;if(!se(f)&&!se(x)){let U=Math.min(f,x),$=Math.max(f,x);U!==g&&U!==B&&M.push(yi(bi({},i[U]),{x:s})),$!==g&&$!==B&&M.push(yi(bi({},i[$]),{x:s}))}o>0&&B!==g&&M.push(i[B]),M.push(l),h=R,r=0,S=y=u,f=x=g=o}}return M}function rc(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function bl(i){i.data.datasets.forEach(t=>{rc(t)})}function Kh(i,t){let e=t.length,n=0,s,{iScale:r}=i,{min:o,max:l,minDefined:d,maxDefined:u}=r.getUserBounds();return d&&(n=Pe(wt(t,r.axis,o).lo,0,e-1)),u?s=Pe(wt(t,r.axis,l).hi+1,n,e)-n:s=e-n,{start:n,count:s}}var Jh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){bl(i);return}let n=i.width;i.data.datasets.forEach((s,r)=>{let{_data:o,indexAxis:l}=s,d=i.getDatasetMeta(r),u=o||s.data;if(Bi([l,i.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;let h=i.scales[d.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:f,count:x}=Kh(d,u),g=e.threshold||4*n;if(x<=g){rc(s);return}se(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let S;switch(e.algorithm){case"lttb":S=Xh(u,f,x,n,e);break;case"min-max":S=Qh(u,f,x,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=S})},destroy(i){bl(i)}};function Zh(i,t,e){let n=i.segments,s=i.points,r=t.points,o=[];for(let l of n){let{start:d,end:u}=l;u=zs(d,u,s);let h=co(e,s[d],s[u],l.loop);if(!t.segments){o.push({source:l,target:h,start:s[d],end:s[u]});continue}let f=Fr(t,h);for(let x of f){let g=co(e,r[x.start],r[x.end],x.loop),S=Or(l,s,g);for(let y of S)o.push({source:y,target:x,start:{[e]:yl(h,g,"start",Math.max)},end:{[e]:yl(h,g,"end",Math.min)}})}}return o}function co(i,t,e,n){if(n)return;let s=t[i],r=e[i];return i==="angle"&&(s=Ve(s),r=Ve(r)),{property:i,start:s,end:r}}function ef(i,t){let{x:e=null,y:n=null}=i||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:l})=>{l=zs(o,l,s);let d=s[o],u=s[l];n!==null?(r.push({x:d.x,y:n}),r.push({x:u.x,y:n})):e!==null&&(r.push({x:e,y:d.y}),r.push({x:e,y:u.y}))}),r}function zs(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function yl(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function oc(i,t){let e=[],n=!1;return xe(i)?(n=!0,e=i):e=ef(i,t),e.length?new js({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function wl(i){return i&&i.fill!==!1}function tf(i,t,e){let s=i[t].fill,r=[t],o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Me(s))return s;if(o=i[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function nf(i,t,e){let n=af(i);if(re(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return Me(s)&&Math.floor(s)===s?sf(n[0],t,s,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function sf(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function rf(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:re(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function of(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:re(i)?n=i.value:n=t.getBaseValue(),n}function af(i){let t=i.options,e=t.fill,n=Z(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function lf(i){let{scale:t,index:e,line:n}=i,s=[],r=n.segments,o=n.points,l=cf(t,e);l.push(oc({x:null,y:t.bottom},n));for(let d=0;d<r.length;d++){let u=r[d];for(let h=u.start;h<=u.end;h++)df(s,o[h],l)}return new js({points:s,options:{}})}function cf(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){let r=n[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function df(i,t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],{first:o,last:l,point:d}=uf(r,t,"x");if(!(!d||o&&l)){if(o)n.unshift(d);else if(i.push(d),!l)break}}i.push(...n)}function uf(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let s=n[e],r=i.segments,o=i.points,l=!1,d=!1;for(let u=0;u<r.length;u++){let h=r[u],f=o[h.start][e],x=o[h.end][e];if(Mt(s,f,x)){l=s===f,d=s===x;break}}return{first:l,last:d,point:n}}var Ns=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:s,y:r,radius:o}=this;return e=e||{start:0,end:ve},t.arc(s,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:n+Math.sin(r)*s,angle:r}}};function mf(i){let{chart:t,fill:e,line:n}=i;if(Me(e))return pf(t,e);if(e==="stack")return lf(i);if(e==="shape")return!0;let s=hf(i);return s instanceof Ns?s:oc(s,n)}function pf(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function hf(i){return(i.scale||{}).getPointPositionForValue?gf(i):ff(i)}function ff(i){let{scale:t={},fill:e}=i,n=rf(e,t);if(Me(n)){let s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function gf(i){let{scale:t,fill:e}=i,n=t.options,s=t.getLabels().length,r=n.reverse?t.max:t.min,o=of(e,t,r),l=[];if(n.grid.circular){let d=t.getPointPositionForValue(0,r);return new Ns({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(o)})}for(let d=0;d<s;++d)l.push(t.getPointPositionForValue(d,o));return l}function Yr(i,t,e){let n=mf(t),{chart:s,index:r,line:o,scale:l,axis:d}=t,u=o.options,h=u.fill,f=u.backgroundColor,{above:x=f,below:g=f}=h||{},S=s.getDatasetMeta(r),y=Rr(s,S);n&&o.points.length&&(an(i,e),_f(i,{line:o,target:n,above:x,below:g,area:e,scale:l,axis:d,clip:y}),ln(i))}function _f(i,t){let{line:e,target:n,above:s,below:r,area:o,scale:l,clip:d}=t,u=e._loop?"angle":t.axis;i.save();let h=r;r!==s&&(u==="x"?(Cl(i,n,o.top),qr(i,{line:e,target:n,color:s,scale:l,property:u,clip:d}),i.restore(),i.save(),Cl(i,n,o.bottom)):u==="y"&&(Sl(i,n,o.left),qr(i,{line:e,target:n,color:r,scale:l,property:u,clip:d}),i.restore(),i.save(),Sl(i,n,o.right),h=s)),qr(i,{line:e,target:n,color:h,scale:l,property:u,clip:d}),i.restore()}function Cl(i,t,e){let{segments:n,points:s}=t,r=!0,o=!1;i.beginPath();for(let l of n){let{start:d,end:u}=l,h=s[d],f=s[zs(d,u,s)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,l,{move:o}),o?i.closePath():i.lineTo(f.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Sl(i,t,e){let{segments:n,points:s}=t,r=!0,o=!1;i.beginPath();for(let l of n){let{start:d,end:u}=l,h=s[d],f=s[zs(d,u,s)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(e,h.y),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,l,{move:o}),o?i.closePath():i.lineTo(e,f.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function qr(i,t){let{line:e,target:n,property:s,color:r,scale:o,clip:l}=t,d=Zh(e,n,s);for(let{source:u,target:h,start:f,end:x}of d){let{style:{backgroundColor:g=r}={}}=u,S=n!==!0;i.save(),i.fillStyle=g,xf(i,o,l,S&&co(s,f,x)),i.beginPath();let y=!!e.pathSegment(i,u),M;if(S){y?i.closePath():Ml(i,n,x,s);let L=!!n.pathSegment(i,h,{move:y,reverse:!0});M=y&&L,M||Ml(i,n,f,s)}i.closePath(),i.fill(M?"evenodd":"nonzero"),i.restore()}}function xf(i,t,e,n){let s=t.chart.chartArea,{property:r,start:o,end:l}=n||{};if(r==="x"||r==="y"){let d,u,h,f;r==="x"?(d=o,u=s.top,h=l,f=s.bottom):(d=s.left,u=o,h=s.right,f=l),i.beginPath(),e&&(d=Math.max(d,e.left),h=Math.min(h,e.right),u=Math.max(u,e.top),f=Math.min(f,e.bottom)),i.rect(d,u,h-d,f-u),i.clip()}}function Ml(i,t,e,n){let s=t.interpolate(e,n);s&&i.lineTo(s.x,s.y)}var vf={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,s=[],r,o,l,d;for(o=0;o<n;++o)r=i.getDatasetMeta(o),l=r.dataset,d=null,l&&l.options&&l instanceof js&&(d={visible:i.isDatasetVisible(o),index:o,fill:nf(l,o,n),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=d,s.push(d);for(o=0;o<n;++o)d=s[o],!(!d||d.fill===!1)&&(d.fill=tf(s,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let o=s.length-1;o>=0;--o){let l=s[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&Yr(i.ctx,l,r))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){let r=n[s].$filler;wl(r)&&Yr(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!wl(n)||e.drawTime!=="beforeDatasetDraw"||Yr(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},kl=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},bf=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,Bs=class extends ft{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,s=Te(n.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=kl(n,r),u,h;e.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,r,l,d)+10):(h=this.maxHeight,u=this._fitCols(o,s,l,d)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){let{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+l,f=t;r.textAlign="left",r.textBaseline="middle";let x=-1,g=-h;return this.legendItems.forEach((S,y)=>{let M=n+e/2+r.measureText(S.text).width;(y===0||u[u.length-1]+M+2*l>o)&&(f+=h,u[u.length-(y>0?0:1)]=0,g+=h,x++),d[y]={left:0,top:g,row:x,width:M,height:s},u[u.length-1]+=M+l}),f}_fitCols(t,e,n,s){let{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-t,f=l,x=0,g=0,S=0,y=0;return this.legendItems.forEach((M,L)=>{let{itemWidth:V,itemHeight:N}=yf(n,e,r,M,s);L>0&&g+N+2*l>h&&(f+=x+l,u.push({width:x,height:g}),S+=x+l,y++,x=g=0),d[L]={left:S,top:g,col:y,width:V,height:N},x=Math.max(x,V),g+=N+l}),f+=x,u.push({width:x,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:r}}=this,o=fi(r,this.left,this.width);if(this.isHorizontal()){let l=0,d=Le(n,this.left+s,this.right-this.lineWidths[l]);for(let u of e)l!==u.row&&(l=u.row,d=Le(n,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(d),u.width),d+=u.width+s}else{let l=0,d=Le(n,this.top+t+s,this.bottom-this.columnSizes[l].height);for(let u of e)u.col!==l&&(l=u.col,d=Le(n,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=d,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),d+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;an(t,this),this._draw(),ln(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:r,labels:o}=t,l=be.color,d=fi(t.rtl,this.left,this.width),u=Te(o.font),{padding:h}=o,f=u.size,x=f/2,g;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;let{boxWidth:S,boxHeight:y,itemHeight:M}=kl(o,f),L=function(B,U,$){if(isNaN(S)||S<=0||isNaN(y)||y<0)return;s.save();let q=Z($.lineWidth,1);if(s.fillStyle=Z($.fillStyle,l),s.lineCap=Z($.lineCap,"butt"),s.lineDashOffset=Z($.lineDashOffset,0),s.lineJoin=Z($.lineJoin,"miter"),s.lineWidth=q,s.strokeStyle=Z($.strokeStyle,l),s.setLineDash(Z($.lineDash,[])),o.usePointStyle){let J={radius:y*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:q},ee=d.xPlus(B,S/2),te=U+x;Mr(s,J,ee,te,o.pointStyleWidth&&S)}else{let J=U+Math.max((f-y)/2,0),ee=d.leftForLtr(B,S),te=ti($.borderRadius);s.beginPath(),Object.values(te).some(ye=>ye!==0)?Ni(s,{x:ee,y:J,w:S,h:y,radius:te}):s.rect(ee,J,S,y),s.fill(),q!==0&&s.stroke()}s.restore()},V=function(B,U,$){ei(s,$.text,B,U+M/2,u,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},N=this.isHorizontal(),j=this._computeTitleHeight();N?g={x:Le(r,this.left+h,this.right-n[0]),y:this.top+h+j,line:0}:g={x:this.left+h,y:Le(r,this.top+j+h,this.bottom-e[0].height),line:0},Vr(this.ctx,t.textDirection);let R=M+h;this.legendItems.forEach((B,U)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;let $=s.measureText(B.text).width,q=d.textAlign(B.textAlign||(B.textAlign=o.textAlign)),J=S+x+$,ee=g.x,te=g.y;d.setWidth(this.width),N?U>0&&ee+J+h>this.right&&(te=g.y+=R,g.line++,ee=g.x=Le(r,this.left+h,this.right-n[g.line])):U>0&&te+R>this.bottom&&(ee=g.x=ee+e[g.line].width+h,g.line++,te=g.y=Le(r,this.top+j+h,this.bottom-e[g.line].height));let ye=d.x(ee);if(L(ye,te,B),ee=ka(q,ee+S+x,N?ee+J:this.right,t.rtl),V(d.x(ee),te,B),N)g.x+=J+h;else if(typeof B.text!="string"){let We=u.lineHeight;g.y+=ac(B,We)+h}else g.y+=R}),Lr(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=Te(e.font),s=Oe(e.padding);if(!e.display)return;let r=fi(t.rtl,this.left,this.width),o=this.ctx,l=e.position,d=n.size/2,u=s.top+d,h,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),h=this.top+u,f=Le(t.align,f,this.right-x);else{let S=this.columnSizes.reduce((y,M)=>Math.max(y,M.height),0);h=u+Le(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}let g=Le(l,f,f+x);o.textAlign=r.textAlign(vs(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,ei(o,e.text,g,h,n)}_computeTitleHeight(){let t=this.options.title,e=Te(t.font),n=Oe(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,r;if(Mt(t,this.left,this.right)&&Mt(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(s=r[n],Mt(t,s.left,s.left+s.width)&&Mt(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!Sf(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,r=bf(s,n);s&&!r&&ge(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!r&&ge(e.onHover,[t,n,this],this)}else n&&ge(e.onClick,[t,n,this],this)}};function yf(i,t,e,n,s){let r=wf(n,i,t,e),o=Cf(s,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function wf(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+n.measureText(s).width}function Cf(i,t,e){let n=i;return typeof t.text!="string"&&(n=ac(t,e)),n}function ac(i,t){let e=i.text?i.text.length:0;return t*e}function Sf(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Mf={id:"legend",_element:Bs,start(i,t,e){let n=i.legend=new Bs({ctx:i.ctx,options:e,chart:i});ze.configure(i,n,e),ze.addBox(i,n)},stop(i){ze.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;ze.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{let u=d.controller.getStyle(e?0:void 0),h=Oe(u.borderWidth);return{text:t[d.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},_n=class extends ft{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=xe(n.text)?n.text.length:1;this._padding=Oe(n.padding);let r=s*Te(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:s,right:r,options:o}=this,l=o.align,d=0,u,h,f;return this.isHorizontal()?(h=Le(l,n,r),f=e+t,u=r-n):(o.position==="left"?(h=n+t,f=Le(l,s,e),d=oe*-.5):(h=r-t,f=Le(l,e,s),d=oe*.5),u=s-e),{titleX:h,titleY:f,maxWidth:u,rotation:d}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=Te(e.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:d,rotation:u}=this._drawArgs(r);ei(t,e.text,0,0,n,{color:e.color,maxWidth:d,rotation:u,textAlign:vs(e.align),textBaseline:"middle",translation:[o,l]})}};function kf(i,t){let e=new _n({ctx:i.ctx,options:t,chart:i});ze.configure(i,e,t),ze.addBox(i,e),i.titleBlock=e}var Ef={id:"title",_element:_n,start(i,t,e){kf(i,e)},stop(i){let t=i.titleBlock;ze.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;ze.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ts=new WeakMap,Af={id:"subtitle",start(i,t,e){let n=new _n({ctx:i.ctx,options:e,chart:i});ze.configure(i,n,e),ze.addBox(i,n),Ts.set(i,n)},stop(i){ze.removeBox(i,Ts.get(i)),Ts.delete(i)},beforeUpdate(i,t,e){let n=Ts.get(i);ze.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},fn={average(i){if(!i.length)return!1;let t,e,n=new Set,s=0,r=0;for(t=0,e=i.length;t<e;++t){let l=i[t].element;if(l&&l.hasValue()){let d=l.tooltipPosition();n.add(d.x),s+=d.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:s/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=i.length;r<o;++r){let d=i[r].element;if(d&&d.hasValue()){let u=d.getCenterPoint(),h=hs(t,u);h<s&&(s=h,l=d)}}if(l){let d=l.tooltipPosition();e=d.x,n=d.y}return{x:e,y:n}}};function kt(i,t){return t&&(xe(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Bt(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Df(i,t){let{element:e,datasetIndex:n,index:s}=t,r=i.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(s);return{chart:i,label:o,parsed:r.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function El(i,t){let e=i.chart.ctx,{body:n,footer:s,title:r}=i,{boxWidth:o,boxHeight:l}=t,d=Te(t.bodyFont),u=Te(t.titleFont),h=Te(t.footerFont),f=r.length,x=s.length,g=n.length,S=Oe(t.padding),y=S.height,M=0,L=n.reduce((j,R)=>j+R.before.length+R.lines.length+R.after.length,0);if(L+=i.beforeBody.length+i.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),L){let j=t.displayColors?Math.max(l,d.lineHeight):d.lineHeight;y+=g*j+(L-g)*d.lineHeight+(L-1)*t.bodySpacing}x&&(y+=t.footerMarginTop+x*h.lineHeight+(x-1)*t.footerSpacing);let V=0,N=function(j){M=Math.max(M,e.measureText(j).width+V)};return e.save(),e.font=u.string,de(i.title,N),e.font=d.string,de(i.beforeBody.concat(i.afterBody),N),V=t.displayColors?o+2+t.boxPadding:0,de(n,j=>{de(j.before,N),de(j.lines,N),de(j.after,N)}),V=0,e.font=h.string,de(i.footer,N),e.restore(),M+=S.width,{width:M,height:y}}function Tf(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function If(i,t,e,n){let{x:s,width:r}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&s+r+o>t.width||i==="right"&&s-r-o<0)return!0}function Pf(i,t,e,n){let{x:s,width:r}=e,{width:o,chartArea:{left:l,right:d}}=i,u="center";return n==="center"?u=s<=(l+d)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),If(u,i,t,e)&&(u="center"),u}function Al(i,t,e){let n=e.yAlign||t.yAlign||Tf(i,e);return{xAlign:e.xAlign||t.xAlign||Pf(i,t,e,n),yAlign:n}}function Vf(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Lf(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function Dl(i,t,e,n){let{caretSize:s,caretPadding:r,cornerRadius:o}=i,{xAlign:l,yAlign:d}=e,u=s+r,{topLeft:h,topRight:f,bottomLeft:x,bottomRight:g}=ti(o),S=Vf(t,l),y=Lf(t,d,u);return d==="center"?l==="left"?S+=u:l==="right"&&(S-=u):l==="left"?S-=Math.max(h,x)+s:l==="right"&&(S+=Math.max(f,g)+s),{x:Pe(S,0,n.width-t.width),y:Pe(y,0,n.height-t.height)}}function Is(i,t,e){let n=Oe(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function Tl(i){return kt([],Bt(i))}function Of(i,t,e){return Ht(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Il(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var lc={beforeTitle:St,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:St,beforeBody:St,beforeLabel:St,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return se(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:St,afterBody:St,beforeFooter:St,footer:St,afterFooter:St};function nt(i,t,e,n){let s=i[t].call(e,n);return typeof s>"u"?lc[t].call(e,n):s}var Pl=(()=>{class i extends ft{static positioners=fn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,o=new Os(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Of(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:s}=n,r=nt(s,"beforeTitle",this,e),o=nt(s,"title",this,e),l=nt(s,"afterTitle",this,e),d=[];return d=kt(d,Bt(r)),d=kt(d,Bt(o)),d=kt(d,Bt(l)),d}getBeforeBody(e,n){return Tl(nt(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:s}=n,r=[];return de(e,o=>{let l={before:[],lines:[],after:[]},d=Il(s,o);kt(l.before,Bt(nt(d,"beforeLabel",this,o))),kt(l.lines,nt(d,"label",this,o)),kt(l.after,Bt(nt(d,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,n){return Tl(nt(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:s}=n,r=nt(s,"beforeFooter",this,e),o=nt(s,"footer",this,e),l=nt(s,"afterFooter",this,e),d=[];return d=kt(d,Bt(r)),d=kt(d,Bt(o)),d=kt(d,Bt(l)),d}_createItems(e){let n=this._active,s=this.chart.data,r=[],o=[],l=[],d=[],u,h;for(u=0,h=n.length;u<h;++u)d.push(Df(this.chart,n[u]));return e.filter&&(d=d.filter((f,x,g)=>e.filter(f,x,g,s))),e.itemSort&&(d=d.sort((f,x)=>e.itemSort(f,x,s))),de(d,f=>{let x=Il(e.callbacks,f);r.push(nt(x,"labelColor",this,f)),o.push(nt(x,"labelPointStyle",this,f)),l.push(nt(x,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(e,n){let s=this.options.setContext(this.getContext()),r=this._active,o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{let d=fn[s.position].call(this,r,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);let u=this._size=El(this,s),h=Object.assign({},d,u),f=Al(this.chart,s,h),x=Dl(s,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:x.x,y:x.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){let o=this.getCaretPosition(e,s,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){let{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:d}=s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:x}=ti(d),{x:g,y:S}=e,{width:y,height:M}=n,L,V,N,j,R,B;return o==="center"?(R=S+M/2,r==="left"?(L=g,V=L-l,j=R+l,B=R-l):(L=g+y,V=L+l,j=R-l,B=R+l),N=L):(r==="left"?V=g+Math.max(u,f)+l:r==="right"?V=g+y-Math.max(h,x)-l:V=this.caretX,o==="top"?(j=S,R=j-l,L=V-l,N=V+l):(j=S+M,R=j+l,L=V+l,N=V-l),B=j),{x1:L,x2:V,x3:N,y1:j,y2:R,y3:B}}drawTitle(e,n,s){let r=this.title,o=r.length,l,d,u;if(o){let h=fi(s.rtl,this.x,this.width);for(e.x=Is(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=Te(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,u=0;u<o;++u)n.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,u+1===o&&(e.y+=s.titleMarginBottom-d)}}_drawColorBox(e,n,s,r,o){let l=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:u,boxWidth:h}=o,f=Te(o.bodyFont),x=Is(this,"left",o),g=r.x(x),S=u<f.lineHeight?(f.lineHeight-u)/2:0,y=n.y+S;if(o.usePointStyle){let M={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},L=r.leftForLtr(g,h)+h/2,V=y+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ys(e,M,L,V),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ys(e,M,L,V)}else{e.lineWidth=re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;let M=r.leftForLtr(g,h),L=r.leftForLtr(r.xPlus(g,1),h-2),V=ti(l.borderRadius);Object.values(V).some(N=>N!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ni(e,{x:M,y,w:h,h:u,radius:V}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Ni(e,{x:L,y:y+1,w:h-2,h:u-2,radius:V}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(M,y,h,u),e.strokeRect(M,y,h,u),e.fillStyle=l.backgroundColor,e.fillRect(L,y+1,h-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){let{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:f}=s,x=Te(s.bodyFont),g=x.lineHeight,S=0,y=fi(s.rtl,this.x,this.width),M=function(q){n.fillText(q,y.x(e.x+S),e.y+g/2),e.y+=g+o},L=y.textAlign(l),V,N,j,R,B,U,$;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=Is(this,L,s),n.fillStyle=s.bodyColor,de(this.beforeBody,M),S=d&&L!=="right"?l==="center"?h/2+f:h+2+f:0,R=0,U=r.length;R<U;++R){for(V=r[R],N=this.labelTextColors[R],n.fillStyle=N,de(V.before,M),j=V.lines,d&&j.length&&(this._drawColorBox(n,e,R,y,s),g=Math.max(x.lineHeight,u)),B=0,$=j.length;B<$;++B)M(j[B]),g=x.lineHeight;de(V.after,M)}S=0,g=x.lineHeight,de(this.afterBody,M),e.y-=o}drawFooter(e,n,s){let r=this.footer,o=r.length,l,d;if(o){let u=fi(s.rtl,this.x,this.width);for(e.x=Is(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=u.textAlign(s.footerAlign),n.textBaseline="middle",l=Te(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(r[d],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){let{xAlign:o,yAlign:l}=this,{x:d,y:u}=e,{width:h,height:f}=s,{topLeft:x,topRight:g,bottomLeft:S,bottomRight:y}=ti(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(d+x,u),l==="top"&&this.drawCaret(e,n,s,r),n.lineTo(d+h-g,u),n.quadraticCurveTo(d+h,u,d+h,u+g),l==="center"&&o==="right"&&this.drawCaret(e,n,s,r),n.lineTo(d+h,u+f-y),n.quadraticCurveTo(d+h,u+f,d+h-y,u+f),l==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(d+S,u+f),n.quadraticCurveTo(d,u+f,d,u+f-S),l==="center"&&o==="left"&&this.drawCaret(e,n,s,r),n.lineTo(d,u+x),n.quadraticCurveTo(d,u,d+x,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){let l=fn[e.position].call(this,this._active,this._eventPosition);if(!l)return;let d=this._size=El(this,e),u=Object.assign({},l,this._size),h=Al(n,e,u),f=Dl(e,u,h,n);(r._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(n);let r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let l=Oe(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,n),Vr(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Lr(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let s=this._active,r=e.map(({datasetIndex:d,index:u})=>{let h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),o=!rn(s,r),l=this._positionChanged(r,n);(o||l)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,s),d=this._positionChanged(l,e),u=n||!rn(l,o)||d;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,s,r){let o=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);let l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,n){let{caretX:s,caretY:r,options:o}=this,l=fn[o.position].call(this,e,n);return l!==!1&&(s!==l.x||r!==l.y)}}return i})(),Ff={id:"tooltip",_element:Pl,positioners:fn,afterInit(i,t,e){e&&(i.tooltip=new Pl({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",yi(bi({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rf=Object.freeze({__proto__:null,Colors:qh,Decimation:Jh,Filler:vf,Legend:Mf,SubTitle:Af,Title:Ef,Tooltip:Ff}),Hf=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Nf(i,t,e,n){let s=i.indexOf(t);if(s===-1)return Hf(i,t,e,n);let r=i.lastIndexOf(t);return s!==r?e:s}var Bf=(i,t)=>i===null?null:Pe(Math.round(i),0,t);function Vl(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var jf=(()=>{class i extends xi{static id="category";static defaults={ticks:{callback:Vl}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let s=this.getLabels();for(let{index:r,label:o}of n)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;let s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Nf(s,e,Z(n,e),this._addedLabels),Bf(n,s.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){let e=this.min,n=this.max,s=this.options.offset,r=[],o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=n;l++)r.push({value:l});return r}getLabelForValue(e){return Vl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function zf(i,t){let e=[],{bounds:s,step:r,min:o,max:l,precision:d,count:u,maxTicks:h,maxDigits:f,includeBounds:x}=i,g=r||1,S=h-1,{min:y,max:M}=t,L=!se(o),V=!se(l),N=!se(u),j=(M-y)/(f+1),R=mr((M-y)/S/g)*g,B,U,$,q;if(R<1e-14&&!L&&!V)return[{value:y},{value:M}];q=Math.ceil(M/R)-Math.floor(y/R),q>S&&(R=mr(q*R/S/g)*g),se(d)||(B=Math.pow(10,d),R=Math.ceil(R*B)/B),s==="ticks"?(U=Math.floor(y/R)*R,$=Math.ceil(M/R)*R):(U=y,$=M),L&&V&&r&&va((l-o)/r,R/1e3)?(q=Math.round(Math.min((l-o)/R,h)),R=(l-o)/q,U=o,$=l):N?(U=L?o:U,$=V?l:$,q=u-1,R=($-U)/q):(q=($-U)/R,Fi(q,Math.round(q),R/1e3)?q=Math.round(q):q=Math.ceil(q));let J=Math.max(hr(R),hr(U));B=Math.pow(10,se(d)?J:d),U=Math.round(U*B)/B,$=Math.round($*B)/B;let ee=0;for(L&&(x&&U!==o?(e.push({value:o}),U<o&&ee++,Fi(Math.round((U+ee*R)*B)/B,o,Ll(o,j,i))&&ee++):U<o&&ee++);ee<q;++ee){let te=Math.round((U+ee*R)*B)/B;if(V&&te>l)break;e.push({value:te})}return V&&x&&$!==l?e.length&&Fi(e[e.length-1].value,l,Ll(l,j,i))?e[e.length-1].value=l:e.push({value:l}):(!V||$===l)&&e.push({value:$}),e}function Ll(i,t,{horizontal:e,minRotation:n}){let s=ct(n),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+i).length;return Math.min(t/r,o)}var Wi=class extends xi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:r}=this,o=d=>s=e?s:d,l=d=>r=n?r:d;if(t){let d=ht(s),u=ht(r);d<0&&u<0?l(0):d>0&&u>0&&o(0)}if(s===r){let d=r===0?1:Math.abs(r*.05);l(r+d),t||o(s-d)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=zf(s,r);return t.bounds==="ticks"&&pr(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Hi(t,this.chart.options.locale,this.options.ticks.format)}},uo=class extends Wi{static id="linear";static defaults={ticks:{callback:on.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?t:0,this.max=Me(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=ct(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},xn=i=>Math.floor(Ft(i)),_i=(i,t)=>Math.pow(10,xn(i)+t);function Ol(i){return i/Math.pow(10,xn(i))===1}function Fl(i,t,e){let n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function Wf(i,t){let e=t-i,n=xn(e);for(;Fl(i,t,n)>10;)n++;for(;Fl(i,t,n)<10;)n--;return Math.min(n,xn(i))}function $f(i,{min:t,max:e}){t=it(i.min,t);let n=[],s=xn(t),r=Wf(t,e),o=r<0?Math.pow(10,Math.abs(r)):1,l=Math.pow(10,r),d=s>r?Math.pow(10,s):0,u=Math.round((t-d)*o)/o,h=Math.floor((t-d)/l/10)*l*10,f=Math.floor((u-h)/Math.pow(10,r)),x=it(i.min,Math.round((d+h+f*Math.pow(10,r))*o)/o);for(;x<e;)n.push({value:x,major:Ol(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),x=Math.round((d+h+f*Math.pow(10,r))*o)/o;let g=it(i.max,x);return n.push({value:g,major:Ol(g),significand:f}),n}var mo=class extends xi{static id="logarithmic";static defaults={ticks:{callback:on.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Wi.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return Me(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?Math.max(0,t):null,this.max=Me(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Me(this._userMin)&&(this.min=t===_i(this.min,0)?_i(this.min,-1):_i(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,s=this.max,r=l=>n=t?n:l,o=l=>s=e?s:l;n===s&&(n<=0?(r(1),o(10)):(r(_i(n,-1)),o(_i(s,1)))),n<=0&&r(_i(s,-1)),s<=0&&o(_i(n,1)),this.min=n,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=$f(e,this);return t.bounds==="ticks"&&pr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Hi(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ft(t),this._valueRange=Ft(this.max)-Ft(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ft(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function po(i){let t=i.ticks;if(t.display&&i.display){let e=Oe(t.backdropPadding);return Z(t.font&&t.font.size,be.font.size)+e.height}return 0}function Gf(i,t,e){return e=xe(e)?e:[e],{w:Aa(i,t.string,e),h:e.length*t.lineHeight}}function Rl(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function Uf(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],r=i._pointLabels.length,o=i.options.pointLabels,l=o.centerPointLabels?oe/r:0;for(let d=0;d<r;d++){let u=o.setContext(i.getPointLabelContext(d));s[d]=u.padding;let h=i.getPointPosition(d,i.drawingArea+s[d],l),f=Te(u.font),x=Gf(i.ctx,f,i._pointLabels[d]);n[d]=x;let g=Ve(i.getIndexAngle(d)+l),S=Math.round(_s(g)),y=Rl(S,h.x,x.w,0,180),M=Rl(S,h.y,x.h,90,270);Yf(e,t,g,y,M)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=Qf(i,n,s)}function Yf(i,t,e,n,s){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),l=0,d=0;n.start<t.l?(l=(t.l-n.start)/r,i.l=Math.min(i.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/r,i.r=Math.max(i.r,t.r+l)),s.start<t.t?(d=(t.t-s.start)/o,i.t=Math.min(i.t,t.t-d)):s.end>t.b&&(d=(s.end-t.b)/o,i.b=Math.max(i.b,t.b+d))}function qf(i,t,e){let n=i.drawingArea,{extra:s,additionalAngle:r,padding:o,size:l}=e,d=i.getPointPosition(t,n+s+o,r),u=Math.round(_s(Ve(d.angle+ke))),h=Zf(d.y,l.h,u),f=Kf(u),x=Jf(d.x,l.w,f);return{visible:!0,x:d.x,y:h,textAlign:f,left:x,top:h,right:x+l.w,bottom:h+l.h}}function Xf(i,t){if(!t)return!0;let{left:e,top:n,right:s,bottom:r}=i;return!(Ct({x:e,y:n},t)||Ct({x:e,y:r},t)||Ct({x:s,y:n},t)||Ct({x:s,y:r},t))}function Qf(i,t,e){let n=[],s=i._pointLabels.length,r=i.options,{centerPointLabels:o,display:l}=r.pointLabels,d={extra:po(r)/2,additionalAngle:o?oe/s:0},u;for(let h=0;h<s;h++){d.padding=e[h],d.size=t[h];let f=qf(i,h,d);n.push(f),l==="auto"&&(f.visible=Xf(f,u),f.visible&&(u=f))}return n}function Kf(i){return i===0||i===180?"center":i<180?"left":"right"}function Jf(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function Zf(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function eg(i,t,e){let{left:n,top:s,right:r,bottom:o}=e,{backdropColor:l}=t;if(!se(l)){let d=ti(t.borderRadius),u=Oe(t.backdropPadding);i.fillStyle=l;let h=n-u.left,f=s-u.top,x=r-n+u.width,g=o-s+u.height;Object.values(d).some(S=>S!==0)?(i.beginPath(),Ni(i,{x:h,y:f,w:x,h:g,radius:d}),i.fill()):i.fillRect(h,f,x,g)}}function tg(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){let r=i._pointLabelItems[s];if(!r.visible)continue;let o=n.setContext(i.getPointLabelContext(s));eg(e,o,r);let l=Te(o.font),{x:d,y:u,textAlign:h}=r;ei(e,i._pointLabels[s],d,u+l.lineHeight/2,l,{color:o.color,textAlign:h,textBaseline:"middle"})}}function cc(i,t,e,n){let{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,ve);else{let r=i.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<n;o++)r=i.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function ig(i,t,e,n,s){let r=i.ctx,o=t.circular,{color:l,lineWidth:d}=t;!o&&!n||!l||!d||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),cc(i,e,o,n),r.closePath(),r.stroke(),r.restore())}function ng(i,t,e){return Ht(i,{label:e,index:t,type:"pointLabel"})}var ho=class extends Wi{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:on.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Oe(po(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Me(t)&&!isNaN(t)?t:0,this.max=Me(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/po(this.options))}generateTickLabels(t){Wi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let s=ge(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Uf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){let e=ve/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ve(t*e+ct(n))}getDistanceFromCenterForValue(t){if(se(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(se(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return ng(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let s=this.getIndexAngle(t)-ke+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),cc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:s,border:r}=e,o=this._pointLabels.length,l,d,u;if(e.pointLabels.display&&tg(this,o),s.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){d=this.getDistanceFromCenterForValue(h.value);let x=this.getContext(f),g=s.setContext(x),S=r.setContext(x);ig(this,g,d,o,S)}}),n.display){for(t.save(),l=o-1;l>=0;l--){let h=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:x}=h;!x||!f||(t.lineWidth=x,t.strokeStyle=f,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(l,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let s=this.getIndexAngle(0),r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;let u=n.setContext(this.getContext(d)),h=Te(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),u.showLabelBackdrop){t.font=h.string,o=t.measureText(l.label).width,t.fillStyle=u.backdropColor;let f=Oe(u.backdropPadding);t.fillRect(-o/2-f.left,-r-h.size/2-f.top,o+f.width,h.size+f.height)}ei(t,l.label,0,-r,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}},Ws={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},st=Object.keys(Ws);function Hl(i,t){return i-t}function Nl(i,t){if(se(t))return null;let e=i._adapter,{parser:n,round:s,isoWeekday:r}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),Me(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(hi(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Bl(i,t,e,n){let s=st.length;for(let r=st.indexOf(i);r<s-1;++r){let o=Ws[st[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return st[r]}return st[s-1]}function sg(i,t,e,n,s){for(let r=st.length-1;r>=st.indexOf(e);r--){let o=st[r];if(Ws[o].common&&i._adapter.diff(s,n,o)>=t-1)return o}return st[e?st.indexOf(e):0]}function rg(i){for(let t=st.indexOf(i)+1,e=st.length;t<e;++t)if(Ws[st[t]].common)return st[t]}function jl(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:s}=xs(e,t),r=e[n]>=t?e[n]:e[s];i[r]=!0}}function og(i,t,e,n){let s=i._adapter,r=+s.startOf(t[0].value,n),o=t[t.length-1].value,l,d;for(l=r;l<=o;l=+s.add(l,1,n))d=e[l],d>=0&&(t[d].major=!0);return t}function zl(i,t,e){let n=[],s={},r=t.length,o,l;for(o=0;o<r;++o)l=t[o],s[l]=o,n.push({value:l,major:!1});return r===0||!e?n:og(i,n,s,e)}var fo=(()=>{class i extends xi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let s=e.time||(e.time={}),r=this._adapter=new gp._date(e.adapters.date);r.init(n),Li(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Nl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,s=e.time.unit||"day",{min:r,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!d&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Me(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),o=Me(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){let e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let o=this.min,l=this.max,d=wa(r,o,l);return this._unit=n.unit||(s.autoSkip?Bl(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):sg(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:rg(this._unit),this.initOffsets(r),e.reverse&&d.reverse(),zl(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);let l=e.length<3?.5:.25;n=Pe(n,0,l),s=Pe(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let e=this._adapter,n=this.min,s=this.max,r=this.options,o=r.time,l=o.unit||Bl(o.minUnit,n,s,this._getLabelCapacity(n)),d=Z(r.ticks.stepSize,1),u=l==="week"?o.isoWeekday:!1,h=hi(u)||u===!0,f={},x=n,g,S;if(h&&(x=+e.startOf(x,"isoWeek",u)),x=+e.startOf(x,h?"day":l),e.diff(s,n,l)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+l);let y=r.ticks.source==="data"&&this.getDataTimestamps();for(g=x,S=0;g<s;g=+e.add(g,d,l),S++)jl(f,g,y);return(g===s||r.bounds==="ticks"||S===1)&&jl(f,g,y),Object.keys(f).sort(Hl).map(M=>+M)}getLabelForValue(e){let n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){let r=this.options.time.displayFormats,o=this._unit,l=n||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,s,r){let o=this.options,l=o.ticks.callback;if(l)return ge(l,[e,n,s],this);let d=o.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&d[u],x=h&&d[h],g=s[n],S=h&&x&&g&&g.major;return this._adapter.format(e,r||(S?x:f))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){let n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,s=this.ctx.measureText(e).width,r=ct(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),l=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:s*o+d*l,h:s*l+d*o}}_getLabelCapacity(e){let n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,zl(this,[e],this._majorUnit),r),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,s;if(e.length)return e;let r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(Nl(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _r(e.sort(Hl))}}return i})();function Ps(i,t,e){let n=0,s=i.length-1,r,o,l,d;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=wt(i,"pos",t)),{pos:r,time:l}=i[n],{pos:o,time:d}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=wt(i,"time",t)),{time:r,pos:l}=i[n],{time:o,pos:d}=i[s]);let u=o-r;return u?l+(d-l)*(t-r)/u:l}var go=class extends fo{static id="timeseries";static defaults=fo.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ps(e,this.min),this._tableRange=Ps(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,s=[],r=[],o,l,d,u,h;for(o=0,l=t.length;o<l;++o)u=t[o],u>=e&&u<=n&&s.push(u);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=s.length;o<l;++o)h=s[o+1],d=s[o-1],u=s[o],Math.round((h+d)/2)!==u&&r.push({time:u,pos:o/(l-1)});return r}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ps(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Ps(this._table,n*this._tableRange+this._minPos,!0)}},ag=Object.freeze({__proto__:null,CategoryScale:jf,LinearScale:uo,LogarithmicScale:mo,RadialLinearScale:ho,TimeScale:fo,TimeSeriesScale:go}),dc=[fp,jh,Rf,ag];var lg=["dateInput"],cg=i=>["/locations",i],dg=i=>["/assets/preview",i],ug=()=>["all","category","location","department","manufacturer","parent","children","siblings","similar"];function mg(i,t){if(i&1){let e=H();a(0,"div",28)(1,"button",29),D("click",function(){k(e);let s=_();return s.transferAsset(),E(s.showActionsDropdown=!1)}),A(),a(2,"svg",30),w(3,"path",31),c(),I(),a(4,"span",32),m(5,"Transfer Asset"),c()(),a(6,"button",29),D("click",function(){k(e);let s=_();return s.duplicateAsset(),E(s.showActionsDropdown=!1)}),A(),a(7,"svg",30),w(8,"path",33),c(),I(),a(9,"span",32),m(10,"Duplicate"),c()(),w(11,"div",34),a(12,"button",29),D("click",function(){k(e);let s=_();return s.printAsset(),E(s.showActionsDropdown=!1)}),A(),a(13,"svg",30),w(14,"path",35),c(),I(),a(15,"span",32),m(16,"Print"),c()(),a(17,"button",29),D("click",function(){k(e);let s=_();return s.exportAsset(),E(s.showActionsDropdown=!1)}),A(),a(18,"svg",30),w(19,"path",36),c(),I(),a(20,"span",32),m(21,"Export"),c()(),a(22,"button",29),D("click",function(){k(e);let s=_();return s.sharePublicUrl(),E(s.showActionsDropdown=!1)}),A(),a(23,"svg",30),w(24,"path",37),c(),I(),a(25,"span",32),m(26,"Share Public URL"),c()()()}}function pg(i,t){i&1&&(a(0,"div",38)(1,"div",39)(2,"div",40),A(),a(3,"svg",41),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"h3",44),m(7,"Loading Asset"),c(),a(8,"p",45),m(9,"Please wait while we fetch the asset details..."),c()()())}function hg(i,t){if(i&1){let e=H();a(0,"div",38)(1,"div",39)(2,"div",46),A(),a(3,"svg",47),w(4,"path",48),c()(),I(),a(5,"h3",44),m(6,"Error Loading Asset"),c(),a(7,"p",49),m(8),c(),a(9,"button",50),D("click",function(){k(e);let s=_();return E(s.goBack())}),m(10," Back to Assets "),c()()()}if(i&2){let e=_();p(8),F(e.error)}}function fg(i,t){if(i&1&&(a(0,"span",175),m(1),c()),i&2){let e=_(2);Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," ")}}function gg(i,t){if(i&1){let e=H();a(0,"div",7)(1,"span",45),m(2,"Serial:"),c(),a(3,"button",62),D("click",function(){k(e);let s=_(2);return E(s.copySerialNumber())}),a(4,"span"),m(5),c(),A(),a(6,"svg",63),w(7,"path",33),c()()()}if(i&2){let e=_(2);p(5),F(e.asset.serial_number)}}function _g(i,t){if(i&1){let e=H();a(0,"button",183),D("click",function(){k(e);let s=_(3);return E(s.previousImage())}),A(),a(1,"svg",18),w(2,"path",184),c()()}}function xg(i,t){if(i&1){let e=H();a(0,"button",185),D("click",function(){k(e);let s=_(3);return E(s.nextImage())}),A(),a(1,"svg",18),w(2,"path",10),c()()}}function vg(i,t){if(i&1){let e=H();a(0,"div",188),D("click",function(){let s=k(e).index,r=_(4);return E(r.selectImage(s))}),a(1,"img",189),D("error",function(s){k(e);let r=_(4);return E(r.onImageError(s))}),c()()}if(i&2){let e=t.$implicit,n=t.index,s=_(4);z("border-blue-500",n===s.currentImageIndex)("border-gray-200",n!==s.currentImageIndex),p(),v("src",e.image_url,Se)("alt","Asset image "+(n+1))}}function bg(i,t){if(i&1&&(a(0,"div",186),T(1,vg,2,6,"div",187),c()),i&2){let e=_(3);p(),v("ngForOf",e.asset.images)}}function yg(i,t){if(i&1){let e=H();a(0,"div")(1,"div",176)(2,"div",177)(3,"img",178),D("click",function(){k(e);let s=_(2);return E(s.viewFullImage(s.selectedImageUrl||s.asset.images[0].image_url))})("error",function(s){k(e);let r=_(2);return E(r.onImageError(s))}),c(),T(4,_g,3,0,"button",179)(5,xg,3,0,"button",180),a(6,"div",181),m(7),c()()(),T(8,bg,2,1,"div",182),c()}if(i&2){let e=_(2);p(3),v("src",e.selectedImageUrl||e.asset.images[0].image_url,Se)("alt",e.asset.name),p(),v("ngIf",e.asset.images.length>1),p(),v("ngIf",e.asset.images.length>1),p(2),Re(" ",e.currentImageIndex+1," / ",e.asset.images.length," "),p(),v("ngIf",e.asset.images.length>1)}}function wg(i,t){i&1&&(a(0,"div",190),A(),a(1,"svg",191),w(2,"path",70),c(),I(),a(3,"h3",44),m(4,"No Images Available"),c(),a(5,"p",192),m(6,"No images have been uploaded for this asset."),c()())}function Cg(i,t){if(i&1){let e=H();a(0,"button",193),D("click",function(){k(e);let s=_(2);return E(s.descriptionExpanded=!s.descriptionExpanded)}),m(1),c()}if(i&2){let e=_(2);p(),W(" ",e.descriptionExpanded?"Show Less":"Show More"," ")}}function Sg(i,t){if(i&1){let e=H();a(0,"img",194),D("error",function(s){k(e);let r=_(2);return E(r.onCategoryIconError(s,r.asset.category))}),c()}if(i&2){let e=_(2);v("src",e.asset.category.icon,Se)("alt",e.asset.category.name)}}function Mg(i,t){i&1&&(A(),a(0,"svg",159),w(1,"path",195),c())}function kg(i,t){if(i&1&&(a(0,"div",7)(1,"span",196),m(2),c()()),i&2){let e=_(2);p(),Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," ")}}function Eg(i,t){i&1&&(a(0,"span",90),m(1,"Not specified"),c())}function Ag(i,t){if(i&1&&(a(0,"a",197),m(1),c()),i&2){let e=_(2);v("routerLink",ai(2,cg,e.asset.location.id)),p(),W(" ",e.asset.location.name," ")}}function Dg(i,t){if(i&1&&(a(0,"span",90),m(1),c()),i&2){let e=_(2);p(),F((e.asset==null||e.asset.location==null?null:e.asset.location.name)||"No location assigned")}}function Tg(i,t){if(i&1&&(a(0,"div")(1,"h4",76),m(2,"Parent Asset"),c(),a(3,"a",197),m(4),c()()),i&2){let e=_(2);p(3),v("routerLink",ai(3,dg,e.asset.parent.id)),p(),Re(" ",e.asset.parent.name," (",e.asset.parent.asset_id,") ")}}function Ig(i,t){if(i&1&&w(0,"img",198),i&2){let e=_(2);v("src",e.qrCodeDataUrl,Se)}}function Pg(i,t){if(i&1&&w(0,"img",198),i&2){let e=_(2);v("src",e.asset.qr_code_url,Se)}}function Vg(i,t){i&1&&(a(0,"div",199),w(1,"div",200),c())}function Lg(i,t){if(i&1&&(a(0,"div",39),A(),a(1,"svg",201),w(2,"path",202),c(),I(),a(3,"p",203),m(4),c()()),i&2){let e=_(2);p(4),F(e.asset.asset_id||e.asset.id)}}function Og(i,t){i&1&&(a(0,"div",204),A(),a(1,"svg",205),w(2,"path",48),c(),I(),a(3,"p",206),m(4,"No Asset ID"),c()())}function Fg(i,t){if(i&1){let e=H();a(0,"button",207),D("click",function(){k(e);let s=_(2);return E(s.downloadQRCode())}),m(1," Download "),c()}}function Rg(i,t){if(i&1){let e=H();a(0,"button",208),D("click",function(){k(e);let s=_(2);return E(s.copyPublicUrl())}),m(1," Copy URL "),c()}}function Hg(i,t){if(i&1&&w(0,"img",209),i&2){let e=_(2);v("src",e.asset.barcode_url,Se)}}function Ng(i,t){if(i&1&&w(0,"img",209),i&2){let e=_(2);v("src",e.barcodeDataUrl,Se)}}function Bg(i,t){i&1&&(a(0,"div",210),w(1,"div",200),c())}function jg(i,t){if(i&1&&(a(0,"div",211),A(),a(1,"svg",212),w(2,"path",74),c(),I(),a(3,"p",203),m(4),c()()),i&2){let e=_(2);p(4),F(e.asset.asset_id)}}function zg(i,t){i&1&&(a(0,"div",213),A(),a(1,"svg",205),w(2,"path",48),c(),I(),a(3,"p",206),m(4,"No Asset ID"),c()())}function Wg(i,t){if(i&1){let e=H();a(0,"button",207),D("click",function(){k(e);let s=_(2);return E(s.downloadBarcode())}),m(1," Download "),c()}}function $g(i,t){if(i&1){let e=H();a(0,"button",208),D("click",function(){k(e);let s=_(2);return E(s.copyAssetId())}),m(1," Copy ID "),c()}}function Gg(i,t){if(i&1&&(a(0,"p",214),m(1),c()),i&2){let e=_(2);p(),F(e.asset.asset_id)}}function Ug(i,t){if(i&1&&(a(0,"span",215),m(1),c()),i&2){let e=_(3);p(),W(" ",e.asset.asset_status.description," ")}}function Yg(i,t){if(i&1&&(a(0,"div",7)(1,"span",196),m(2),c(),T(3,Ug,2,1,"span",174),c()),i&2){let e=_(2);p(),Ee("background-color",e.asset.asset_status.color+"20")("color",e.asset.asset_status.color),p(),W(" ",e.asset.asset_status.name," "),p(),v("ngIf",e.asset.asset_status.description)}}function qg(i,t){i&1&&(a(0,"span",90),m(1,"Not specified"),c())}function Xg(i,t){if(i&1){let e=H();a(0,"div")(1,"h4",113),m(2,"Serial Number"),c(),a(3,"div",7)(4,"span",216),m(5),c(),a(6,"button",217),D("click",function(){k(e);let s=_(2);return E(s.copySerialNumber())}),A(),a(7,"svg",14),w(8,"path",33),c()()()()}if(i&2){let e=_(2);p(5),F(e.asset.serial_number)}}function Qg(i,t){if(i&1&&(a(0,"div",221)(1,"span",143),m(2),c(),a(3,"span",222),m(4),c()()),i&2){let e=t.$implicit;p(2),W("",e.key,":"),p(2),F(e.value)}}function Kg(i,t){if(i&1&&(a(0,"div",218)(1,"h4",168),m(2,"Additional Specifications"),c(),a(3,"div",219),T(4,Qg,5,2,"div",220),qe(5,"keyvalue"),c()()),i&2){let e=_(2);p(4),v("ngForOf",To(5,1,e.asset.specifications))}}function Jg(i,t){if(i&1&&(a(0,"div",223)(1,"div",155)(2,"div",137),m(3,"Average Health Score"),c(),a(4,"div",224),m(5),c()(),a(6,"div",139)(7,"div",137),m(8,"Average Performance"),c(),a(9,"div",140),m(10),c()(),a(11,"div",172)(12,"div",137),m(13,"Total Maintenance"),c(),a(14,"div",225),m(15),c()()()),i&2){let e=_(2);p(5),W("",e.healthPerformanceChartData.chart_data.metrics.average_health_score,"%"),p(5),W("",e.healthPerformanceChartData.chart_data.metrics.average_performance_score,"%"),p(5),F(e.healthPerformanceChartData.chart_data.metrics.total_maintenance_count)}}function Zg(i,t){i&1&&(a(0,"div",226)(1,"div",39)(2,"div",227),A(),a(3,"svg",228),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"p",45),m(7,"Loading health & performance data..."),c()()())}function e1(i,t){if(i&1){let e=H();a(0,"div",229)(1,"div",39)(2,"div",230),m(3),c(),a(4,"button",148),D("click",function(){k(e);let s=_(2);return E(s.loadHealthPerformanceChart())}),m(5," Try Again "),c()()()}if(i&2){let e=_(2);p(3),F(e.healthPerformanceChartError)}}function t1(i,t){i&1&&(a(0,"div",231),w(1,"canvas",232),c())}function i1(i,t){i&1&&(a(0,"div",233),m(1," Green: Health Score | Blue: Performance Score | Orange: Maintenance Count "),c())}function n1(i,t){if(i&1&&(a(0,"div",234)(1,"div",142)(2,"div",143),m(3,"Health Trend"),c(),a(4,"div",235),m(5),c()(),a(6,"div",142)(7,"div",143),m(8,"Performance Trend"),c(),a(9,"div",235),m(10),c()()()),i&2){let e=_(2);p(4),v("ngClass",e.healthPerformanceChartData.chart_data.metrics.health_trend>=0?"text-green-600":"text-red-600"),p(),Re(" ",e.healthPerformanceChartData.chart_data.metrics.health_trend>=0?"+":"","",e.healthPerformanceChartData.chart_data.metrics.health_trend,"% "),p(4),v("ngClass",e.healthPerformanceChartData.chart_data.metrics.performance_trend>=0?"text-green-600":"text-red-600"),p(),Re(" ",e.healthPerformanceChartData.chart_data.metrics.performance_trend>=0?"+":"","",e.healthPerformanceChartData.chart_data.metrics.performance_trend,"% ")}}function s1(i,t){i&1&&(a(0,"div",226)(1,"div",39)(2,"div",236),A(),a(3,"svg",237),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"p",45),m(7,"Loading chart data..."),c()()())}function r1(i,t){if(i&1){let e=H();a(0,"div",229)(1,"div",39)(2,"div",230),m(3),c(),a(4,"button",148),D("click",function(){k(e);let s=_(2);return E(s.loadDepreciationChart())}),m(5," Try Again "),c()()()}if(i&2){let e=_(2);p(3),F(e.depreciationChartError)}}function o1(i,t){i&1&&(a(0,"div",231),w(1,"canvas",238),c())}function a1(i,t){i&1&&(a(0,"div",233),m(1," Blue line: Asset Value | Red line: Accumulated Depreciation "),c())}function l1(i,t){i&1&&(a(0,"div",239)(1,"div",39)(2,"div",236),A(),a(3,"svg",237),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"p",45),m(7,"Loading activities..."),c()()())}function c1(i,t){if(i&1){let e=H();a(0,"div",240)(1,"div",230),m(2),c(),a(3,"button",148),D("click",function(){k(e);let s=_(2);return E(s.loadActivityHistory())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),F(e.activityError)}}function d1(i,t){if(i&1&&(a(0,"div",249),m(1),c()),i&2){let e=_().$implicit,n=_(3);p(),W(" ",n.formatActivityBeforeAfter(e.before,e.after)," ")}}function u1(i,t){if(i&1&&(a(0,"div",250)(1,"strong"),m(2,"By:"),c(),m(3),c()),i&2){let e=_().$implicit,n=_(3);p(3),W(" ",n.getUserDisplayName(e.user)," ")}}function m1(i,t){if(i&1&&(a(0,"div",242)(1,"div",243),A(),a(2,"svg",14),w(3,"path",56),c()(),I(),a(4,"div",244)(5,"div",245)(6,"h4",246),m(7),c(),a(8,"span",215),m(9),c()(),a(10,"p",137),m(11),c(),T(12,d1,2,1,"div",247)(13,u1,4,1,"div",248),c()()),i&2){let e=t.$implicit,n=_(3);p(),v("ngClass",n.getActivityColor(e.action)),p(2),Dn("d",n.getActivityIcon(e.action)),p(4),F(e.action),p(2),F(e.time_ago),p(2),F(e.comment||"No comment"),p(),v("ngIf",n.formatActivityBeforeAfter(e.before,e.after)),p(),v("ngIf",e.user)}}function p1(i,t){i&1&&(a(0,"div",240),A(),a(1,"svg",251),w(2,"path",92),c(),I(),a(3,"h3",44),m(4,"No Recent Activity"),c(),a(5,"p",192),m(6,"No activity has been recorded for this asset yet."),c()())}function h1(i,t){if(i&1&&(a(0,"div",112),T(1,m1,14,7,"div",241)(2,p1,7,0,"div",145),c()),i&2){let e=_(2);p(),v("ngForOf",e.activities),p(),v("ngIf",e.activities.length===0)}}function f1(i,t){if(i&1){let e=H();a(0,"button",253),D("click",function(){let s=k(e).$implicit,r=_(3);return r.onRelatedFilterChange(s),E(r.showRelatedFilterDropdown=!1)}),a(1,"span",254),m(2),c()()}if(i&2){let e=t.$implicit,n=_(3);z("text-blue-600",n.selectedRelatedFilter===e)("bg-blue-50",n.selectedRelatedFilter===e),p(2),F(n.getRelatedFilterDisplayName(e))}}function g1(i,t){i&1&&(a(0,"div",28),T(1,f1,3,5,"button",252),c()),i&2&&(p(),v("ngForOf",In(1,ug)))}function _1(i,t){i&1&&(a(0,"div",239)(1,"div",39)(2,"div",236),A(),a(3,"svg",237),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"p",45),m(7,"Loading related assets..."),c()()())}function x1(i,t){if(i&1){let e=H();a(0,"div",240)(1,"div",230),m(2),c(),a(3,"button",148),D("click",function(){k(e);let s=_(2);return E(s.loadRelatedAssets())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),F(e.relatedAssetsError)}}function v1(i,t){if(i&1){let e=H();a(0,"img",267),D("error",function(s){k(e);let r=_(4);return E(r.onImageError(s))}),c()}if(i&2){let e=_().$implicit;v("src",e.images[0].image_url,Se)("alt",e.name)}}function b1(i,t){i&1&&(A(),a(0,"svg",268),w(1,"path",269),c())}function y1(i,t){if(i&1&&(a(0,"span",215),m(1),c()),i&2){let e=_().$implicit;p(),W(" Health: ",e.health_score,"% ")}}function w1(i,t){if(i&1){let e=H();a(0,"div",257),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.navigateToRelatedAsset(s.id))}),a(1,"div",258),T(2,v1,1,2,"img",259)(3,b1,2,0,"svg",260),c(),a(4,"div",261)(5,"div",245)(6,"h4",262),m(7),c(),a(8,"span",215),m(9),c()(),a(10,"div",263)(11,"span",170),m(12),c(),a(13,"span",264),m(14,"\u2022"),c(),a(15,"span",170),m(16),c()(),a(17,"div",7)(18,"span",265),m(19),c(),T(20,y1,2,1,"span",174),c()(),A(),a(21,"svg",266),w(22,"path",10),c()()}if(i&2){let e=t.$implicit,n=_(3);p(2),v("ngIf",e.images&&e.images.length>0),p(),v("ngIf",!e.images||e.images.length===0),p(4),F(e.name),p(2),F(e.asset_id),p(3),F((e.category==null?null:e.category.name)||"General"),p(4),F((e.asset_type==null?null:e.asset_type.name)||e.type),p(2),v("ngClass",n.getRelatedAssetStatusColor(e.asset_status||e.status)),p(),W(" ",(e.asset_status==null?null:e.asset_status.name)||e.status," "),p(),v("ngIf",e.health_score)}}function C1(i,t){i&1&&(a(0,"div",240),A(),a(1,"svg",251),w(2,"path",269),c(),I(),a(3,"h3",44),m(4,"No Related Assets"),c(),a(5,"p",192),m(6,"No related assets found for this item."),c()())}function S1(i,t){if(i&1&&(a(0,"div",255),T(1,w1,23,9,"div",256)(2,C1,7,0,"div",145),c()),i&2){let e=_(2);p(),v("ngForOf",e.relatedAssets),p(),v("ngIf",e.relatedAssets.length===0)}}function M1(i,t){i&1&&(a(0,"div",270)(1,"div",271),A(),a(2,"svg",272),w(3,"circle",42)(4,"path",43),c()(),I(),a(5,"p",250),m(6,"Loading..."),c()())}function k1(i,t){if(i&1&&(a(0,"div",284),m(1),c()),i&2){let e=_().$implicit;p(),W(" ",e.notes," ")}}function E1(i,t){if(i&1){let e=H();a(0,"div",274)(1,"div",275)(2,"h4",276),m(3),c(),a(4,"div",277)(5,"span"),m(6),c(),a(7,"button",278),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.editMaintenanceSchedule(s))}),A(),a(8,"svg",63),w(9,"path",15),c()(),I(),a(10,"button",279),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.deleteMaintenanceSchedule(s))}),A(),a(11,"svg",63),w(12,"path",280),c()()()(),I(),a(13,"div",281)(14,"div")(15,"span",192),m(16,"Next Due:"),c(),a(17,"span",282),m(18),c()(),a(19,"div")(20,"span",192),m(21,"Frequency:"),c(),a(22,"span",282),m(23),c()()(),T(24,k1,2,1,"div",283),c()}if(i&2){let e=t.$implicit,n=_(3);p(3),F(e.schedule_type),p(2),$e("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-"+n.getScheduleStatusColor(e.status)+"-100 text-"+n.getScheduleStatusColor(e.status)+"-800"),p(),W(" ",e.status," "),p(12),F(n.formatDate(e.next_due)),p(5),F(e.frequency||"Not specified"),p(),v("ngIf",e.notes)}}function A1(i,t){if(i&1&&(a(0,"div",255),T(1,E1,25,7,"div",273),c()),i&2){let e=_(2);p(),v("ngForOf",e.maintenanceSchedules)}}function D1(i,t){if(i&1){let e=H();a(0,"div",270),A(),a(1,"svg",285),w(2,"path",91),c(),I(),a(3,"h3",286),m(4,"No Maintenance Schedules"),c(),a(5,"p",287),m(6,"Create maintenance schedules to track asset upkeep."),c(),a(7,"button",288),D("click",function(){k(e);let s=_(2);return E(s.addMaintenanceSchedule())}),m(8," Add First Schedule "),c()()}}function T1(i,t){if(i&1&&(a(0,"span",215),m(1),qe(2,"date"),c()),i&2){let e=_(2);p(),W(" (Expires: ",li(2,1,e.asset.warranty,"MMM d, y"),") ")}}function I1(i,t){if(i&1){let e=H();a(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",5)(4,"div",54),A(),a(5,"svg",55),w(6,"path",56),c()(),I(),a(7,"div")(8,"h1",57),m(9),c(),a(10,"div",5),T(11,fg,2,5,"span",58),a(12,"span",59),m(13),c(),a(14,"span",59),m(15,"\u2022"),c(),a(16,"span",59),m(17),c()()()(),a(18,"div",60)(19,"div",61)(20,"span",45),m(21,"Asset ID:"),c(),a(22,"button",62),D("click",function(){k(e);let s=_();return E(s.copyAssetId())}),a(23,"span"),m(24),c(),A(),a(25,"svg",63),w(26,"path",33),c()()(),T(27,gg,8,1,"div",64),c()()(),I(),a(28,"div",65)(29,"div",66)(30,"div",67)(31,"div",68),A(),a(32,"svg",69),w(33,"path",70),c(),I(),a(34,"h2",71),m(35,"Asset Images"),c()(),T(36,yg,9,7,"div",72)(37,wg,7,0,"ng-template",null,0,Io),c(),a(39,"div",67)(40,"div",73),A(),a(41,"svg",69),w(42,"path",74),c(),I(),a(43,"h2",71),m(44,"Basic Information"),c()(),a(45,"div",65)(46,"div",75)(47,"div")(48,"h4",76),m(49,"Asset Name"),c(),a(50,"p",71),m(51),c()(),a(52,"div")(53,"h4",76),m(54,"Description"),c(),a(55,"div",77)(56,"p",78),m(57),c(),T(58,Cg,2,1,"button",79),c()(),a(59,"div")(60,"h4",76),m(61,"Category"),c(),a(62,"div",12)(63,"div",80),T(64,Sg,1,2,"img",81)(65,Mg,2,0,"svg",82),c(),a(66,"span",11),m(67),c()()(),a(68,"div")(69,"h4",76),m(70,"Status"),c(),T(71,kg,3,5,"div",64)(72,Eg,2,0,"span",83),c()(),a(73,"div",75)(74,"div")(75,"h4",76),m(76,"Asset ID"),c(),a(77,"div",7)(78,"span",84),m(79),c(),a(80,"button",85),D("click",function(){k(e);let s=_();return E(s.copyAssetId())}),A(),a(81,"svg",14),w(82,"path",33),c()()()(),I(),a(83,"div")(84,"h4",76),m(85,"Location"),c(),a(86,"div",7),A(),a(87,"svg",86),w(88,"path",87)(89,"path",88),c(),T(90,Ag,2,4,"a",89)(91,Dg,2,1,"span",83),c()(),I(),a(92,"div")(93,"h4",76),m(94,"Department"),c(),a(95,"span",90),m(96),c()(),a(97,"div")(98,"h4",76),m(99,"Created"),c(),a(100,"div",7),A(),a(101,"svg",86),w(102,"path",91),c(),I(),a(103,"span",90),m(104),qe(105,"date"),c()()(),a(106,"div")(107,"h4",76),m(108,"Last Modified"),c(),a(109,"div",7),A(),a(110,"svg",86),w(111,"path",92),c(),I(),a(112,"span",90),m(113),qe(114,"date"),c()()(),T(115,Tg,5,5,"div",93),c(),a(116,"div",75)(117,"div")(118,"h4",76),m(119,"QR Code"),c(),a(120,"div",94)(121,"div",95),T(122,Ig,1,1,"img",96)(123,Pg,1,1,"img",96)(124,Vg,2,0,"div",97)(125,Lg,5,1,"div",98)(126,Og,5,0,"div",99),c(),a(127,"div",100),T(128,Fg,2,0,"button",101)(129,Rg,2,0,"button",102),c(),a(130,"div",103)(131,"p"),m(132,"Scan to access public page"),c()()()(),a(133,"div")(134,"h4",76),m(135,"Barcode"),c(),a(136,"div",94)(137,"div",104),T(138,Hg,1,1,"img",105)(139,Ng,1,1,"img",105)(140,Bg,2,0,"div",106)(141,jg,5,1,"div",107)(142,zg,5,0,"div",108),c(),a(143,"div",100),T(144,Wg,2,0,"button",101)(145,$g,2,0,"button",102),c(),a(146,"div",103)(147,"p"),m(148,"Scan for asset identification"),c(),T(149,Gg,2,1,"p",109),c()()()()()(),a(150,"div",67)(151,"div",68),A(),a(152,"svg",69),w(153,"path",110),c(),I(),a(154,"h2",71),m(155,"Technical Specifications"),c()(),a(156,"div",111)(157,"div",112)(158,"div")(159,"h4",113),m(160,"Asset Status"),c(),T(161,Yg,4,6,"div",64)(162,qg,2,0,"span",83),c(),a(163,"div")(164,"h4",113),m(165,"Manufacturer"),c(),a(166,"span",90),m(167),c()(),a(168,"div")(169,"h4",113),m(170,"Model"),c(),a(171,"span",90),m(172),c()(),T(173,Xg,9,1,"div",93),a(174,"div")(175,"h4",113),m(176,"Brand"),c(),a(177,"span",90),m(178),c()(),a(179,"div")(180,"h4",113),m(181,"Capacity"),c(),a(182,"span",90),m(183),c()()(),a(184,"div",112)(185,"div")(186,"h4",113),m(187,"Dimensions"),c(),a(188,"span",90),m(189),c()(),a(190,"div")(191,"h4",113),m(192,"Weight"),c(),a(193,"span",90),m(194),c()(),a(195,"div")(196,"h4",113),m(197,"Power Requirements"),c(),a(198,"span",90),m(199),c()(),a(200,"div")(201,"h4",113),m(202,"Operating Conditions"),c(),a(203,"span",90),m(204),c()()()(),T(205,Kg,6,3,"div",114),c(),a(206,"div",67)(207,"div",115)(208,"div",7)(209,"div",116),A(),a(210,"svg",117),w(211,"path",118),c()(),I(),a(212,"h2",71),m(213,"Health & Performance"),c()(),a(214,"div",7)(215,"button",119),D("click",function(){k(e);let s=_();return E(s.refreshHealthPerformanceChart())}),A(),a(216,"svg",14),w(217,"path",120),c(),I(),a(218,"span"),m(219,"Refresh"),c()(),a(220,"button",121),D("click",function(){k(e);let s=_();return E(s.forceCreateHealthPerformanceChart())}),A(),a(221,"svg",14),w(222,"path",122),c(),I(),a(223,"span"),m(224,"Debug"),c()()()(),T(225,Jg,16,3,"div",123),a(226,"div",112)(227,"div",39)(228,"h3",124),m(229,"Health & Performance Timeline (Last 12 Months)"),c()(),T(230,Zg,8,0,"div",125)(231,e1,6,1,"div",126)(232,t1,2,0,"div",127)(233,i1,2,0,"div",128)(234,n1,11,6,"div",129),c()(),a(235,"div",67)(236,"div",130)(237,"div",7)(238,"div",131),A(),a(239,"svg",132),w(240,"path",133),c()(),I(),a(241,"h2",71),m(242,"Asset Depreciation"),c()(),a(243,"div",7)(244,"button",134),D("click",function(){k(e);let s=_();return E(s.refreshDepreciationChart())}),A(),a(245,"svg",14),w(246,"path",120),c(),I(),a(247,"span"),m(248,"Refresh"),c()(),a(249,"button",121),D("click",function(){k(e);let s=_();return E(s.forceCreateChart())}),A(),a(250,"svg",14),w(251,"path",122),c(),I(),a(252,"span"),m(253,"Debug"),c()()()(),a(254,"div",135)(255,"div",136)(256,"div",137),m(257,"Original Value"),c(),a(258,"div",138),m(259),c()(),a(260,"div",139)(261,"div",137),m(262,"Current Value"),c(),a(263,"div",140),m(264),c()()(),a(265,"div",112)(266,"div",39)(267,"h3",124),m(268,"Depreciation Timeline (straight-line method)"),c()(),T(269,s1,8,0,"div",125)(270,r1,6,1,"div",126)(271,o1,2,0,"div",127)(272,a1,2,0,"div",128),a(273,"div",141)(274,"div",142)(275,"div",143),m(276,"Annual Depreciation"),c(),a(277,"div",71),m(278),c()(),a(279,"div",142)(280,"div",143),m(281,"Depreciation Rate"),c(),a(282,"div",71),m(283),c()(),a(284,"div",142)(285,"div",143),m(286,"Years Remaining"),c(),a(287,"div",71),m(288),c()()()()()(),a(289,"div",75)(290,"div",67)(291,"div",68),A(),a(292,"svg",69),w(293,"path",92),c(),I(),a(294,"h2",71),m(295,"Recent Activity"),c()(),T(296,l1,8,0,"div",144)(297,c1,5,1,"div",145)(298,h1,3,2,"div",146),a(299,"div",147)(300,"button",148),D("click",function(){k(e);let s=_();return E(s.showFullActivityHistory())}),m(301," View Full Activity History "),c()()(),a(302,"div",67)(303,"div",130)(304,"div",7),A(),a(305,"svg",69),w(306,"path",149),c(),I(),a(307,"h2",71),m(308,"Related Assets"),c()(),a(309,"div",77)(310,"button",150),D("click",function(){k(e);let s=_();return E(s.showRelatedFilterDropdown=!s.showRelatedFilterDropdown)}),a(311,"span"),m(312),c(),A(),a(313,"svg",14),w(314,"path",151),c()(),T(315,g1,2,2,"div",22),c()(),T(316,_1,8,0,"div",144)(317,x1,5,1,"div",145)(318,S1,3,2,"div",152),c(),I(),a(319,"div",67)(320,"div",130)(321,"div",7),A(),a(322,"svg",69),w(323,"path",91),c(),I(),a(324,"h2",71),m(325,"Maintenance Schedule"),c()(),a(326,"button",121),D("click",function(){k(e);let s=_();return E(s.addMaintenanceSchedule())}),A(),a(327,"svg",14),w(328,"path",153),c(),I(),a(329,"span"),m(330,"Add"),c()()(),a(331,"div",154)(332,"div",155)(333,"div",7),A(),a(334,"svg",156),w(335,"path",122),c(),I(),a(336,"div")(337,"div",157),m(338,"Last Maintenance"),c(),a(339,"div",158),m(340),c()()()(),a(341,"div",139)(342,"div",7),A(),a(343,"svg",159),w(344,"path",92),c(),I(),a(345,"div")(346,"div",160),m(347,"Next Due"),c(),a(348,"div",161),m(349),c()()()(),a(350,"div",162)(351,"div",7),A(),a(352,"svg",163),w(353,"path",120),c(),I(),a(354,"div")(355,"div",164),m(356,"Frequency"),c(),a(357,"div",165),m(358),c()()()()(),T(359,M1,7,0,"div",166)(360,A1,2,1,"div",152)(361,D1,9,0,"div",166),c(),a(362,"div",67)(363,"div",68),A(),a(364,"svg",69),w(365,"path",167),c(),I(),a(366,"h2",71),m(367,"Financial Information"),c()(),a(368,"div",112)(369,"div",136)(370,"h4",168),m(371,"Purchase Details"),c(),a(372,"div",169)(373,"div")(374,"span",170),m(375,"Purchase Price"),c(),a(376,"div",71),m(377),qe(378,"currency"),c()(),a(379,"div")(380,"span",170),m(381,"Purchase Date"),c(),a(382,"div",171),m(383),qe(384,"date"),c()()()(),a(385,"div",139)(386,"h4",168),m(387,"Current Value"),c(),a(388,"div",169)(389,"div")(390,"span",170),m(391,"Book Value"),c(),a(392,"div",71),m(393),qe(394,"currency"),c()(),a(395,"div")(396,"span",170),m(397,"Market Value"),c(),a(398,"div",171),m(399),qe(400,"currency"),c()()()(),a(401,"div",172)(402,"h4",168),m(403,"Depreciation"),c(),a(404,"div",169)(405,"div")(406,"span",170),m(407,"Method"),c(),a(408,"div",171),m(409),c()(),a(410,"div")(411,"span",170),m(412,"Useful Life"),c(),a(413,"div",171),m(414),c()(),a(415,"div")(416,"span",170),m(417,"Annual Rate"),c(),a(418,"div",171),m(419),c()()()(),a(420,"div",155)(421,"h4",168),m(422,"Performance"),c(),a(423,"div",169)(424,"div")(425,"span",170),m(426,"Total Cost of Ownership"),c(),a(427,"div",71),m(428),qe(429,"currency"),c()(),a(430,"div")(431,"span",170),m(432,"ROI"),c(),a(433,"div",171),m(434),c()()()(),a(435,"div",162)(436,"h4",168),m(437,"Warranty & Insurance"),c(),a(438,"div",169)(439,"div")(440,"span",170),m(441,"Warranty Status"),c(),a(442,"div",173)(443,"span"),m(444),c(),T(445,T1,3,4,"span",174),c()(),a(446,"div")(447,"span",170),m(448,"Insurance Value"),c(),a(449,"div",171),m(450),c()()()()()()()()()}if(i&2){let e=Tn(38),n=_();p(6),Dn("d",n.getAssetTypeIcon()),p(3),F(n.asset.name),p(2),v("ngIf",n.asset.asset_status),p(2),F(n.getAssetTypeName(n.asset.type)),p(4),F((n.asset.category==null?null:n.asset.category.name)||"General"),p(7),F(n.asset.asset_id||n.asset.id),p(3),v("ngIf",n.asset.serial_number),p(9),v("ngIf",n.asset.images&&n.asset.images.length>0)("ngIfElse",e),p(15),F((n.asset==null?null:n.asset.name)||"Unnamed Asset"),p(5),z("line-clamp-3",!n.descriptionExpanded),p(),W(" ",(n.asset==null?null:n.asset.description)||"No description available"," "),p(),v("ngIf",(n.asset==null?null:n.asset.description)&&n.asset.description.length>150),p(6),v("ngIf",(n.asset==null||n.asset.category==null?null:n.asset.category.icon)&&!n.asset.category.iconError),p(),v("ngIf",!(!(n.asset==null||n.asset.category==null)&&n.asset.category.icon)||n.asset.category.iconError),p(2),F((n.asset==null||n.asset.category==null?null:n.asset.category.name)||"Uncategorized"),p(4),v("ngIf",n.asset.asset_status),p(),v("ngIf",!n.asset.asset_status),p(7),F((n.asset==null?null:n.asset.asset_id)||"N/A"),p(11),v("ngIf",n.asset==null||n.asset.location==null?null:n.asset.location.id),p(),v("ngIf",!(!(n.asset==null||n.asset.location==null)&&n.asset.location.id)),p(5),F((n.asset==null||n.asset.department==null?null:n.asset.department.name)||"Not assigned"),p(8),F(li(105,100,n.asset==null?null:n.asset.created_at,"MMM d, y")),p(9),F(li(114,103,n.asset==null?null:n.asset.updated_at,"MMM d, y")),p(2),v("ngIf",n.asset==null?null:n.asset.parent),p(7),v("ngIf",n.qrCodeDataUrl),p(),v("ngIf",!n.qrCodeDataUrl&&(n.asset==null?null:n.asset.qr_code_url)),p(),v("ngIf",n.qrCodeLoading),p(),v("ngIf",!n.qrCodeDataUrl&&!(n.asset!=null&&n.asset.qr_code_url)&&!n.qrCodeLoading&&(n.asset==null?null:n.asset.id)),p(),v("ngIf",!n.qrCodeDataUrl&&!(n.asset!=null&&n.asset.qr_code_url)&&!n.qrCodeLoading&&!(n.asset!=null&&n.asset.id)),p(2),v("ngIf",n.asset==null?null:n.asset.id),p(),v("ngIf",n.asset==null?null:n.asset.id),p(9),v("ngIf",n.asset==null?null:n.asset.barcode_url),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&n.barcodeDataUrl),p(),v("ngIf",n.barcodeLoading),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&!n.barcodeDataUrl&&!n.barcodeLoading&&(n.asset==null?null:n.asset.asset_id)),p(),v("ngIf",!(n.asset!=null&&n.asset.barcode_url)&&!n.barcodeDataUrl&&!n.barcodeLoading&&!(n.asset!=null&&n.asset.asset_id)),p(2),v("ngIf",n.asset==null?null:n.asset.asset_id),p(),v("ngIf",n.asset==null?null:n.asset.asset_id),p(4),v("ngIf",n.asset==null?null:n.asset.asset_id),p(12),v("ngIf",n.asset.asset_status),p(),v("ngIf",!n.asset.asset_status),p(5),F(n.asset.manufacturer||"Not specified"),p(5),F(n.asset.model||"Not specified"),p(),v("ngIf",n.asset.serial_number),p(5),F(n.asset.brand||"Not specified"),p(5),F(n.asset.capacity||"Not specified"),p(6),F(n.asset.dimensions||"Not specified"),p(5),F(n.asset.weight||"Not specified"),p(5),F(n.asset.power_requirements||"Not specified"),p(5),F(n.asset.operating_conditions||"Standard conditions"),p(),v("ngIf",n.asset.specifications),p(20),v("ngIf",n.healthPerformanceChartData==null||n.healthPerformanceChartData.chart_data==null?null:n.healthPerformanceChartData.chart_data.metrics),p(5),v("ngIf",n.healthPerformanceChartLoading),p(),v("ngIf",n.healthPerformanceChartError&&!n.healthPerformanceChartLoading),p(),v("ngIf",!n.healthPerformanceChartLoading&&!n.healthPerformanceChartError),p(),v("ngIf",!n.healthPerformanceChartLoading&&!n.healthPerformanceChartError),p(),v("ngIf",n.healthPerformanceChartData==null||n.healthPerformanceChartData.chart_data==null?null:n.healthPerformanceChartData.chart_data.metrics),p(25),W("$",n.formatCurrency((n.asset==null?null:n.asset.purchase_price)||0),""),p(5),W("$",n.formatCurrency(n.calculateCurrentValue()),""),p(5),v("ngIf",n.depreciationChartLoading),p(),v("ngIf",n.depreciationChartError&&!n.depreciationChartLoading),p(),v("ngIf",!n.depreciationChartLoading&&!n.depreciationChartError),p(),v("ngIf",!n.depreciationChartLoading&&!n.depreciationChartError),p(6),W("$",n.formatCurrency(n.calculateAnnualDepreciation()),""),p(5),W("",n.calculateDepreciationRate(),"%"),p(5),F(n.calculateRemainingYears()),p(8),v("ngIf",n.activityLoading),p(),v("ngIf",n.activityError&&!n.activityLoading),p(),v("ngIf",!n.activityLoading&&!n.activityError),p(14),F(n.getRelatedFilterDisplayName(n.selectedRelatedFilter)),p(3),v("ngIf",n.showRelatedFilterDropdown),p(),v("ngIf",n.relatedAssetsLoading),p(),v("ngIf",n.relatedAssetsError&&!n.relatedAssetsLoading),p(),v("ngIf",!n.relatedAssetsLoading&&!n.relatedAssetsError),p(22),F(n.mockMaintenanceData.lastMaintenance||"Not recorded"),p(9),F(n.mockMaintenanceData.nextMaintenance||"Not scheduled"),p(9),F(n.mockMaintenanceData.interval),p(),v("ngIf",n.maintenanceLoading),p(),v("ngIf",!n.maintenanceLoading&&n.maintenanceSchedules.length>0),p(),v("ngIf",!n.maintenanceLoading&&n.maintenanceSchedules.length===0),p(16),W(" ",ci(378,106,n.mockFinancialData.purchaseCost,"USD","symbol","1.2-2")," "),p(6),F(li(384,111,n.asset.purchase_date,"MMM d, y")),p(10),W(" ",ci(394,114,n.mockFinancialData.currentValue,"USD","symbol","1.2-2")," "),p(6),F(ci(400,119,n.mockFinancialData.currentValue*.95,"USD","symbol","1.2-2")),p(10),F(n.mockFinancialData.depreciationMethod),p(5),W("",n.mockFinancialData.usefulLife," years"),p(5),W("",n.calculateDepreciationRate(),"%"),p(9),W(" ",ci(429,124,n.calculateTotalCostOfOwnership(),"USD","symbol","1.2-2")," "),p(5),z("text-green-600",n.calculateROI()>0)("text-red-600",n.calculateROI()<0),p(),W(" ",n.calculateROI(),"% "),p(9),$e(n.getWarrantyStatusClass(n.asset.warranty)),p(),W(" ",n.getWarrantyStatus(n.asset.warranty)," "),p(),v("ngIf",n.asset.warranty),p(5),F(n.asset.insurance_value||"Not specified")}}function P1(i,t){if(i&1){let e=H();a(0,"div",289)(1,"div",290)(2,"div",130)(3,"h3",71),m(4,"Add Maintenance Schedule"),c(),a(5,"button",291),D("click",function(){k(e);let s=_();return E(s.closeMaintenanceModals())}),A(),a(6,"svg",292),w(7,"path",293),c()()(),I(),a(8,"form",294),D("ngSubmit",function(){k(e);let s=_();return E(s.saveMaintenanceSchedule())}),a(9,"div",112)(10,"div")(11,"label",295),m(12,"Schedule Type"),c(),a(13,"select",296)(14,"option",297),m(15,"Select type"),c(),a(16,"option",298),m(17,"Preventive Maintenance"),c(),a(18,"option",299),m(19,"Inspection"),c(),a(20,"option",300),m(21,"Calibration"),c(),a(22,"option",301),m(23,"Cleaning"),c()()(),a(24,"div")(25,"label",295),m(26,"Next Due Date"),c(),w(27,"input",302,1),c(),a(29,"div")(30,"label",295),m(31,"Last Done Date"),c(),w(32,"input",303,1),c(),a(34,"div")(35,"label",295),m(36,"Frequency"),c(),a(37,"select",304)(38,"option",297),m(39,"Select frequency"),c(),a(40,"option",305),m(41,"Weekly"),c(),a(42,"option",306),m(43,"Monthly"),c(),a(44,"option",307),m(45,"Quarterly"),c(),a(46,"option",308),m(47,"Semi-Annual"),c(),a(48,"option",309),m(49,"Annual"),c()()(),a(50,"div")(51,"label",295),m(52,"Notes"),c(),w(53,"textarea",310),c()(),a(54,"div",311)(55,"button",312),D("click",function(){k(e);let s=_();return E(s.closeMaintenanceModals())}),m(56," Cancel "),c(),a(57,"button",313),m(58," Save Schedule "),c()()()()()}if(i&2){let e=_();p(8),v("formGroup",e.maintenanceForm),p(49),v("disabled",e.maintenanceForm.invalid)}}function V1(i,t){if(i&1){let e=H();a(0,"div",289)(1,"div",290)(2,"div",130)(3,"h3",71),m(4,"Edit Maintenance Schedule"),c(),a(5,"button",291),D("click",function(){k(e);let s=_();return E(s.closeMaintenanceModals())}),A(),a(6,"svg",292),w(7,"path",293),c()()(),I(),a(8,"form",294),D("ngSubmit",function(){k(e);let s=_();return E(s.saveMaintenanceSchedule())}),a(9,"div",112)(10,"div")(11,"label",295),m(12,"Schedule Type"),c(),a(13,"select",296)(14,"option",297),m(15,"Select type"),c(),a(16,"option",298),m(17,"Preventive Maintenance"),c(),a(18,"option",299),m(19,"Inspection"),c(),a(20,"option",300),m(21,"Calibration"),c(),a(22,"option",301),m(23,"Cleaning"),c()()(),a(24,"div")(25,"label",295),m(26,"Next Due Date"),c(),w(27,"input",302,1),c(),a(29,"div")(30,"label",295),m(31,"Last Done Date"),c(),w(32,"input",303,1),c(),a(34,"div")(35,"label",295),m(36,"Frequency"),c(),a(37,"select",304)(38,"option",297),m(39,"Select frequency"),c(),a(40,"option",305),m(41,"Weekly"),c(),a(42,"option",306),m(43,"Monthly"),c(),a(44,"option",307),m(45,"Quarterly"),c(),a(46,"option",308),m(47,"Semi-Annual"),c(),a(48,"option",309),m(49,"Annual"),c()()(),a(50,"div")(51,"label",295),m(52,"Status"),c(),a(53,"select",314)(54,"option",315),m(55,"Scheduled"),c(),a(56,"option",316),m(57,"In Progress"),c(),a(58,"option",317),m(59,"Completed"),c(),a(60,"option",318),m(61,"Overdue"),c()()(),a(62,"div")(63,"label",295),m(64,"Notes"),c(),w(65,"textarea",310),c()(),a(66,"div",311)(67,"button",312),D("click",function(){k(e);let s=_();return E(s.closeMaintenanceModals())}),m(68," Cancel "),c(),a(69,"button",313),m(70," Update Schedule "),c()()()()()}if(i&2){let e=_();p(8),v("formGroup",e.maintenanceForm),p(61),v("disabled",e.maintenanceForm.invalid)}}function L1(i,t){i&1&&(a(0,"div",347)(1,"div",39)(2,"div",348),A(),a(3,"svg",349),w(4,"circle",42)(5,"path",43),c()(),I(),a(6,"p",59),m(7,"Loading activity history..."),c()()())}function O1(i,t){if(i&1){let e=H();a(0,"div",350)(1,"div",351),m(2),c(),a(3,"button",50),D("click",function(){k(e);let s=_(2);return E(s.loadFullActivityHistory())}),m(4," Try Again "),c()()}if(i&2){let e=_(2);p(2),F(e.activityHistoryError)}}function F1(i,t){if(i&1&&(a(0,"div",361)(1,"div",362),m(2,"Changes:"),c(),a(3,"div",192),m(4),c()()),i&2){let e=_().$implicit,n=_(3);p(4),W(" ",n.formatActivityBeforeAfter(e.before,e.after)," ")}}function R1(i,t){if(i&1&&(a(0,"div",363)(1,"strong"),m(2,"By:"),c(),m(3),c()),i&2){let e=_().$implicit,n=_(3);p(3),W(" ",n.getUserDisplayName(e.user)," ")}}function H1(i,t){if(i&1&&(a(0,"div",354)(1,"div",355),A(),a(2,"svg",18),w(3,"path",56),c()(),I(),a(4,"div",244)(5,"div",275)(6,"h4",356),m(7),c(),a(8,"span",357),m(9),c()(),a(10,"p",358),m(11),c(),T(12,F1,5,1,"div",359)(13,R1,4,1,"div",360),c()()),i&2){let e=t.$implicit,n=_(3);p(),v("ngClass",n.getActivityColor(e.action)),p(2),Dn("d",n.getActivityIcon(e.action)),p(4),F(e.action),p(2),F(e.time_ago),p(2),F(e.comment||"No comment"),p(),v("ngIf",n.formatActivityBeforeAfter(e.before,e.after)),p(),v("ngIf",e.user)}}function N1(i,t){i&1&&(a(0,"div",350),A(),a(1,"svg",191),w(2,"path",92),c(),I(),a(3,"h3",44),m(4,"No Activity Found"),c(),a(5,"p",192),m(6,"No activity matches your current filters."),c()())}function B1(i,t){if(i&1&&(a(0,"div",352),T(1,H1,14,7,"div",353)(2,N1,7,0,"div",342),c()),i&2){let e=_(2);p(),v("ngForOf",e.fullActivityHistory),p(),v("ngIf",e.fullActivityHistory.length===0)}}function j1(i,t){if(i&1){let e=H();a(0,"button",367),D("click",function(){k(e);let s=_(3);return E(s.onActivityHistoryPageChange(s.activityHistoryPagination.current_page-1))}),m(1," Previous "),c()}}function z1(i,t){if(i&1){let e=H();a(0,"button",367),D("click",function(){k(e);let s=_(3);return E(s.onActivityHistoryPageChange(s.activityHistoryPagination.current_page+1))}),m(1," Next "),c()}}function W1(i,t){if(i&1&&(a(0,"div",364)(1,"div",143),m(2),c(),a(3,"div",365),T(4,j1,2,0,"button",366)(5,z1,2,0,"button",366),c()()),i&2){let e=_(2);p(2),Do(" Showing ",e.activityHistoryPagination.from||0," to ",e.activityHistoryPagination.to||0," of ",e.activityHistoryPagination.total||0," activities "),p(2),v("ngIf",e.activityHistoryPagination.prev_page_url),p(),v("ngIf",e.activityHistoryPagination.next_page_url)}}function $1(i,t){if(i&1){let e=H();a(0,"div",319)(1,"div",320)(2,"div",321)(3,"div",12),A(),a(4,"svg",322),w(5,"path",92),c(),I(),a(6,"h3",323),m(7,"Full Activity History"),c()(),a(8,"button",291),D("click",function(){k(e);let s=_();return E(s.closeActivityHistoryModal())}),A(),a(9,"svg",292),w(10,"path",293),c()()(),I(),a(11,"div",324)(12,"div",325)(13,"div",326)(14,"div",244)(15,"input",327),D("input",function(s){k(e);let r=_();return E(r.onActivityHistorySearch(s.target.value))}),c()(),a(16,"button",328),D("click",function(){k(e);let s=_();return E(s.clearActivityHistoryFilters())}),m(17," Clear Filters "),c()(),a(18,"div",329)(19,"div")(20,"label",330),m(21,"Action Type"),c(),a(22,"select",331),D("change",function(s){k(e);let r=_();return E(r.onActivityHistoryFilter("action",s.target.value))}),a(23,"option",297),m(24,"All Actions"),c(),a(25,"option",332),m(26,"Created"),c(),a(27,"option",333),m(28,"Updated"),c(),a(29,"option",334),m(30,"Deleted"),c(),a(31,"option",335),m(32,"Transferred"),c(),a(33,"option",336),m(34,"Maintenance"),c(),a(35,"option",337),m(36,"Imported"),c()()(),a(37,"div")(38,"label",330),m(39,"Date From"),c(),a(40,"input",338),D("change",function(s){k(e);let r=_();return E(r.onActivityHistoryFilter("date_from",s.target.value))}),c()(),a(41,"div")(42,"label",330),m(43,"Date To"),c(),a(44,"input",338),D("change",function(s){k(e);let r=_();return E(r.onActivityHistoryFilter("date_to",s.target.value))}),c()(),a(45,"div")(46,"label",330),m(47,"Sort By"),c(),a(48,"select",331),D("change",function(s){k(e);let r=_();return E(r.onActivityHistorySort("created_at",s.target.value))}),a(49,"option",339),m(50,"Newest First"),c(),a(51,"option",340),m(52,"Oldest First"),c()()()()(),T(53,L1,8,0,"div",341)(54,O1,5,1,"div",342)(55,B1,3,2,"div",343)(56,W1,6,5,"div",344),c(),a(57,"div",345)(58,"div",143),m(59),c(),a(60,"button",346),D("click",function(){k(e);let s=_();return E(s.closeActivityHistoryModal())}),m(61," Close "),c()()()()}if(i&2){let e=_();p(53),v("ngIf",e.activityHistoryLoading),p(),v("ngIf",e.activityHistoryError&&!e.activityHistoryLoading),p(),v("ngIf",!e.activityHistoryLoading&&!e.activityHistoryError),p(),v("ngIf",e.activityHistoryPagination&&e.fullActivityHistory.length>0),p(3),W(" Total Activities: ",(e.activityHistoryPagination==null?null:e.activityHistoryPagination.total)||e.fullActivityHistory.length," ")}}bn.register(...dc);var $i=class i{constructor(t,e,n,s,r,o,l){this.route=t;this.router=e;this.assetService=n;this.angularLocation=s;this.pdfExportService=r;this.fb=o;this.cdr=l;this.maintenanceForm=this.fb.group({schedule_type:["",pt.required],next_due:[""],last_done:[""],frequency:[""],notes:[""],status:["Scheduled"]}),this.activities=[],this.fullActivityHistory=[]}destroy$=new $t;dateInputs;asset=null;loading=!0;error="";currentImageIndex=0;selectedImageUrl=null;descriptionExpanded=!1;showActionsDropdown=!1;showTransferModal=!1;showActivityHistoryModal=!1;maintenanceSchedules=[];maintenanceLoading=!1;showAddMaintenanceModal=!1;showEditMaintenanceModal=!1;selectedSchedule=null;maintenanceForm;flatpickrInstances=[];healthMetrics={lastUpdated:new Date,performanceTrend:[{month:"Jan",value:82},{month:"Feb",value:84},{month:"Mar",value:88},{month:"Apr",value:85}]};mockFinancialData={purchaseCost:0,currentValue:0,depreciationMethod:"Straight Line",usefulLife:10,originalValue:0};mockMaintenanceData={status:"Current",lastMaintenance:null,nextMaintenance:null,interval:"Every 6 months"};activities=[];fullActivityHistory=[];activityLoading=!1;activityHistoryLoading=!1;activityError="";activityHistoryError="";activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""};activityHistoryPagination=null;qrCodeDataUrl=null;qrCodeLoading=!1;barcodeDataUrl=null;barcodeLoading=!1;relatedAssets=[];relatedAssetsLoading=!1;relatedAssetsError="";selectedRelatedFilter="all";showRelatedFilterDropdown=!1;relatedAssetsParams={type:"all",limit:10};depreciationChart=null;depreciationChartLoading=!1;depreciationChartError="";depreciationChartData=null;healthPerformanceChart=null;healthPerformanceChartLoading=!1;healthPerformanceChartError="";healthPerformanceChartData=null;ngOnInit(){this.route.params.pipe(ce(this.destroy$)).subscribe(t=>{let e=t.id;e&&this.loadAsset(e)})}ngAfterViewInit(){this.initializeDatePickers(),setTimeout(()=>{this.asset&&!this.depreciationChart&&this.createDepreciationChart()},500)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.depreciationChart&&this.depreciationChart.destroy(),this.healthPerformanceChart&&this.healthPerformanceChart.destroy()}loadAsset(t){this.loading=!0,this.error="",this.assetService.getAsset(t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success?(this.asset=e.data.asset||e.data,this.updateMockData(),this.loadMaintenanceSchedules(),this.loadActivityHistory(),this.generateQRCode(),!this.asset.barcode_url&&this.asset.asset_id&&this.generateBarcode(),this.loadRelatedAssets(),this.loadDepreciationChart(),this.loadHealthPerformanceChart()):this.error=e.message||"Failed to load asset",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading the asset",this.loading=!1}})}loadMaintenanceSchedules(){this.asset&&(this.maintenanceLoading=!0,this.assetService.listMaintenanceSchedules(this.asset.id).pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&(this.maintenanceSchedules=t.data||[]),this.maintenanceLoading=!1},error:t=>{console.error("Error loading maintenance schedules:",t),this.maintenanceLoading=!1}}))}updateMockData(){this.asset&&(this.mockFinancialData={purchaseCost:this.asset.purchase_price||0,currentValue:this.asset.current_value||this.asset.purchase_price||0,depreciationMethod:"Straight Line",usefulLife:this.asset.depreciation||10,originalValue:this.asset.purchase_price||0},this.healthMetrics.lastUpdated=new Date,this.mockMaintenanceData={status:this.asset.status||"Active",lastMaintenance:this.asset.last_maintenance_date||null,nextMaintenance:this.asset.next_maintenance_date||null,interval:this.asset.maintenance_interval||"Every 6 months"},this.asset.images&&this.asset.images.length>0&&(this.selectedImageUrl=this.asset.images[0].image_url,this.currentImageIndex=0))}goBack(){this.angularLocation.back()}editAsset(){this.asset&&this.router.navigate(["/assets",this.asset.id,"edit"])}exportAsset(){this.asset&&this.pdfExportService.exportSingleAssetToPdf(this.asset)}printAsset(){let t=window.open("","_blank");if(!t){alert("Please allow popups to print this asset");return}let e=this.generatePrintContent();t.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Asset Details - ${this.asset?.name||"Asset"}</title>
          <style>
            @media print {
              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
              .no-print { display: none !important; }
              .print-only { display: block !important; }
              .page-break { page-break-before: always; }
              .avoid-break { page-break-inside: avoid; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
              @page { margin: 1in; }
            }
            @media screen {
              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
              .no-print { display: none; }
              .print-only { display: block; }
              .page-break { border-top: 2px solid #333; margin-top: 30px; padding-top: 30px; }
              .avoid-break { }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
            }
          </style>
        </head>
        <body>
          ${e}
        </body>
      </html>
    `),t.document.close(),t.onload=()=>{t.print(),t.close()}}generatePrintContent(){if(!this.asset)return"<p>Asset not found</p>";let t=this.asset,e=new Date().toLocaleDateString();return`
      <div class="header">
        <h1>Asset Details Report</h1>
        <p>Generated on: ${e}</p>
      </div>

      <div class="section">
        <div class="section-title">Asset Overview</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Asset Name</div>
            <div class="info-value">${t.name||"N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset ID</div>
            <div class="info-value">${t.asset_id||t.id||"N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Category</div>
            <div class="info-value">${t.category?.name||"General"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value">
              <span class="status-badge" style="background-color: ${t.asset_status?.color||"#6B7280"}20; color: ${t.asset_status?.color||"#6B7280"}">
                ${t.asset_status?.name||"Not specified"}
              </span>
            </div>
          </div>
          <div class="info-item">
            <div class="info-label">Type</div>
            <div class="info-value">${this.getAssetTypeName(t.type)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Location</div>
            <div class="info-value">${t.location?.name||"No location assigned"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Description</div>
        <p>${t.description||"No description available"}</p>
      </div>

      <div class="section">
        <div class="section-title">Technical Specifications</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Manufacturer</div>
            <div class="info-value">${t.manufacturer||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Model</div>
            <div class="info-value">${t.model||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Serial Number</div>
            <div class="info-value">${t.serial_number||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Brand</div>
            <div class="info-value">${t.brand||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Dimensions</div>
            <div class="info-value">${t.dimensions||"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Weight</div>
            <div class="info-value">${t.weight||"Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Financial Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Purchase Price</div>
            <div class="info-value">$${this.formatCurrency(t.purchase_price||0)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Current Value</div>
            <div class="info-value">$${this.formatCurrency(this.calculateCurrentValue())}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Purchase Date</div>
            <div class="info-value">${t.purchase_date?new Date(t.purchase_date).toLocaleDateString():"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Warranty Status</div>
            <div class="info-value">${this.getWarrantyStatus(t.warranty)}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Performance Metrics</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Health Score</div>
            <div class="info-value">${t.health_score||0}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Utilization Rate</div>
            <div class="info-value">${this.getUtilizationRate()}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset Age</div>
            <div class="info-value">${this.getAssetAge()}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Total Cost of Ownership</div>
            <div class="info-value">$${this.formatCurrency(this.calculateTotalCostOfOwnership())}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Timeline Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Created Date</div>
            <div class="info-value">${t.created_at?new Date(t.created_at).toLocaleDateString():"Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Last Modified</div>
            <div class="info-value">${t.updated_at?new Date(t.updated_at).toLocaleDateString():"Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="qr-section">
        <div class="section-title">Asset Identification</div>
        <div class="qr-code">
          ${this.qrCodeDataUrl?`<img src="${this.qrCodeDataUrl}" alt="QR Code" style="max-width: 100%; height: auto;">`:"<p>QR Code not available</p>"}
        </div>
        <p><strong>Asset ID:</strong> ${t.asset_id||t.id||"N/A"}</p>
      </div>

      <div class="footer">
        <p>AssetGo - Asset Management System</p>
        <p>This report was generated automatically on ${e}</p>
      </div>
    `}getStatusColor(t){return{Active:"green",Maintenance:"orange",Inactive:"gray",Retired:"red"}[t]||"gray"}getAssetStatusColor(t){return!t||!t.color?"#6B7280":t.color}getAssetStatusBackgroundColor(t){return!t||!t.color?"#F3F4F6":t.color+"20"}getAssetTypeIcon(){if(!this.asset?.type)return"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4";let t={fixed:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4","semi-fixed":"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4a2 2 0 001-1.73z",mobile:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",fleet:"M3 13l2-5a2 2 0 012-2h10a2 2 0 012 2l2 5M5 13v6a2 2 0 002 2h10a2 2 0 002-2v-6M5 13h14"};return t[this.asset.type]||t.fixed}generateSmartDescription(){console.log("Generate smart description")}analyzeAssetImage(){console.log("Analyze asset image")}addMaintenanceSchedule(){this.showAddMaintenanceModal=!0,this.maintenanceForm.reset({schedule_type:"",next_due:"",last_done:"",frequency:"",notes:"",status:"Scheduled"}),setTimeout(()=>{this.initializeDatePickers()},100)}editMaintenanceSchedule(t){this.selectedSchedule=t,this.showEditMaintenanceModal=!0,this.maintenanceForm.patchValue({schedule_type:t.schedule_type,next_due:t.next_due,last_done:t.last_done,frequency:t.frequency,notes:t.notes,status:t.status}),setTimeout(()=>{this.initializeDatePickers()},100)}deleteMaintenanceSchedule(t){confirm("Are you sure you want to delete this maintenance schedule?")&&this.assetService.deleteMaintenanceSchedule(this.asset.id,t.id).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success&&this.loadMaintenanceSchedules()},error:e=>{console.error("Error deleting maintenance schedule:",e)}})}saveMaintenanceSchedule(){if(this.maintenanceForm.valid&&this.asset){let t=this.maintenanceForm.value;this.selectedSchedule?this.assetService.updateMaintenanceSchedule(this.asset.id,this.selectedSchedule.id,t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success&&(this.loadMaintenanceSchedules(),this.closeMaintenanceModals())},error:e=>{console.error("Error updating maintenance schedule:",e)}}):this.assetService.addMaintenanceSchedule(this.asset.id,t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success&&(this.loadMaintenanceSchedules(),this.closeMaintenanceModals())},error:e=>{console.error("Error adding maintenance schedule:",e)}})}}closeMaintenanceModals(){this.showAddMaintenanceModal=!1,this.showEditMaintenanceModal=!1,this.selectedSchedule=null,this.maintenanceForm.reset(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[]}initializeDatePickers(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs&&this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=qt(t.nativeElement,{dateFormat:"Y-m-d",allowInput:!0,clickOpens:!0,onChange:(s,r)=>{let o=t.nativeElement.getAttribute("formControlName");o&&this.maintenanceForm.get(o)&&this.maintenanceForm.get(o).setValue(r)}});this.flatpickrInstances.push(n)}})},50)}getScheduleStatusColor(t){return{Scheduled:"blue",Overdue:"red",Completed:"green","In Progress":"yellow"}[t]||"gray"}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set"}getAssetTypeName(t){return t?{1:"Fixed Asset",2:"Semi-Fixed Asset",3:"Mobile Asset",4:"Fleet Asset",5:"IT Equipment"}[t.toString()]||`Type ${t}`:"Standard Asset"}navigateToPrevious(){console.log("Navigate to previous asset")}navigateToNext(){console.log("Navigate to next asset")}loadRelatedAssets(){this.asset?.id&&(this.relatedAssetsLoading=!0,this.relatedAssetsError="",this.assetService.getRelatedAssets(this.asset.id,this.relatedAssetsParams).pipe(ce(this.destroy$)).subscribe({next:t=>{t.success?this.relatedAssets=t.data.related_assets||[]:this.relatedAssetsError=t.message||"Failed to load related assets",this.relatedAssetsLoading=!1},error:t=>{this.relatedAssetsError=t.error?.message||"An error occurred while loading related assets",this.relatedAssetsLoading=!1}}))}loadDepreciationChart(){this.asset?.id&&(this.depreciationChartLoading=!0,this.depreciationChartError="",console.log("Loading depreciation chart for asset:",this.asset.id),this.assetService.getAssetDepreciationChart(this.asset.id).pipe(ce(this.destroy$)).subscribe({next:t=>{console.log("Chart API Response:",t),t.success?(this.depreciationChartData=t.data,console.log("Chart data set:",this.depreciationChartData),this.createDepreciationChart()):(this.depreciationChartError=t.message||"Failed to load depreciation chart data",console.log("API returned error, using mock data"),this.createDepreciationChartWithMockData()),this.depreciationChartLoading=!1},error:t=>{console.error("Chart API Error:",t),this.depreciationChartError=t.error?.message||"An error occurred while loading depreciation chart data",this.depreciationChartLoading=!1,this.createDepreciationChartWithMockData()}}))}createDepreciationChart(){console.log("Creating depreciation chart..."),this.depreciationChart&&(console.log("Destroying existing chart"),this.depreciationChart.destroy()),setTimeout(()=>{let t=document.getElementById("depreciationChart");if(console.log("Canvas element:",t),!t){console.error("Depreciation chart canvas not found");return}let e=this.processChartData(this.depreciationChartData)||this.generateMockDepreciationData();console.log("Chart data to use:",e);try{this.depreciationChart=new bn(t,{type:"line",data:{labels:e.labels,datasets:[{label:"Asset Value",data:e.values,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Accumulated Depreciation",data:e.depreciation,borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!1,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Asset Depreciation Over Time",font:{size:16,weight:"bold"}},legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:n=>{let s=n.dataset.label||"",r=n.parsed.y;return`${s}: $${r.toLocaleString()}`}}}},scales:{x:{title:{display:!0,text:"Month"}},y:{title:{display:!0,text:"Value ($)"},beginAtZero:!0,ticks:{callback:n=>`$${Number(n).toLocaleString()}`}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}),console.log("Chart created successfully"),this.cdr.detectChanges()}catch(n){console.error("Error creating chart:",n)}},100)}processChartData(t){if(!t||!t.chart_data||!t.chart_data.has_data)return null;let e=t.chart_data,n=e.depreciation_months.map(l=>`Month ${l}`),s=e.depreciation_values.map(l=>parseFloat(l)),r=parseFloat(t.asset.purchase_price),o=s.map(l=>r-l);return{labels:n,values:s,depreciation:o}}createDepreciationChartWithMockData(){let t=this.generateMockDepreciationData();this.depreciationChartData=t,this.createDepreciationChart()}generateMockDepreciationData(){let t=parseFloat(this.asset?.purchase_price)||1e4,e=parseFloat(this.asset?.depreciation)||10,n=this.asset?.depreciation_life||10,s=[],r=[],o=[],l=n||e;for(let d=1;d<=l;d++){s.push(`Month ${d}`);let h=t/l*(d-1),f=Math.max(0,t-h);r.push(f),o.push(h)}return{labels:s,values:r,depreciation:o}}onRelatedFilterChange(t){this.selectedRelatedFilter=t,this.relatedAssetsParams.type=t,this.loadRelatedAssets()}getRelatedFilterDisplayName(t){return{all:"All Related",category:"Same Category",location:"Same Location",department:"Same Department",manufacturer:"Same Manufacturer",parent:"Same Parent",children:"Child Assets",siblings:"Sibling Assets",similar:"Similar Assets"}[t]||t}getRelatedAssetStatusColor(t){if(t?.color)return`bg-${this.getColorFromHex(t.color)}-100 text-${this.getColorFromHex(t.color)}-700`;let e=t?.name||t;return{Active:"bg-green-100 text-green-700",Inactive:"bg-gray-100 text-gray-700",Maintenance:"bg-orange-100 text-orange-700",Retired:"bg-red-100 text-red-700"}[e]||"bg-gray-100 text-gray-700"}getColorFromHex(t){return{"#10B981":"green","#EF4444":"red","#F59E0B":"yellow","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange","#6B7280":"gray"}[t]||"gray"}navigateToRelatedAsset(t){this.router.navigate(["/assets",t])}loadActivityHistory(){if(!this.asset?.id)return;this.activityLoading=!0,this.activityError="";let t={page:1,per_page:5,sort_by:"created_at",sort_dir:"desc"};this.assetService.getActivityHistory(this.asset.id,t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success?this.activities=e.data.data||[]:this.activityError=e.message||"Failed to load activity history",this.activityLoading=!1},error:e=>{this.activityError=e.error?.message||"An error occurred while loading activity history",this.activityLoading=!1}})}loadPerformanceMetrics(){console.log("Load performance metrics")}refreshHealthMetrics(){this.loadPerformanceMetrics(),console.log("Refreshing health metrics")}refreshDepreciationChart(){console.log("Refreshing depreciation chart..."),this.loadDepreciationChart()}forceCreateChart(){console.log("Force creating chart..."),this.createDepreciationChart()}loadHealthPerformanceChart(){if(!this.asset?.id){console.log("No asset ID available for health performance chart");return}this.healthPerformanceChartLoading=!0,this.healthPerformanceChartError="",console.log("Loading health performance chart for asset:",this.asset.id),this.assetService.getAssetHealthPerformanceChart(this.asset.id,{months:12}).pipe(ce(this.destroy$)).subscribe({next:t=>{console.log("Health performance chart API response:",t),this.healthPerformanceChartLoading=!1,t.success&&t.data?(this.healthPerformanceChartData=t.data,setTimeout(()=>{this.createHealthPerformanceChart()},100)):(this.healthPerformanceChartError="Failed to load health performance data",console.error("Health performance chart API error:",t))},error:t=>{console.error("Health performance chart API error:",t),this.healthPerformanceChartLoading=!1,this.healthPerformanceChartError="Failed to load health performance data"}})}createHealthPerformanceChart(){console.log("Creating health performance chart..."),console.log("Health performance chart data:",this.healthPerformanceChartData),this.healthPerformanceChart&&(this.healthPerformanceChart.destroy(),this.healthPerformanceChart=null);let t=document.getElementById("healthPerformanceChart");if(console.log("Canvas element:",t),!t){console.error("Health performance chart canvas not found");return}setTimeout(()=>{try{console.log("Processing health performance data...");let e=this.processHealthPerformanceData(this.healthPerformanceChartData);console.log("Processed chart data:",e);let n={type:"line",data:{labels:e.labels,datasets:[{label:"Health Score",data:e.healthScores,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"Performance Score",data:e.performanceScores,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#3B82F6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"Maintenance Count",data:e.maintenanceCounts,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(s){let r=s.dataset.label||"",o=s.parsed.y;return r==="Maintenance Count"?`${r}: ${o} activities`:`${r}: ${o}%`}}}},scales:{x:{display:!0,title:{display:!0,text:"Month",font:{size:12,weight:"bold"}},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Score (%)",font:{size:12,weight:"bold"}},min:0,max:100,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Maintenance Count",font:{size:12,weight:"bold"}},min:0,grid:{drawOnChartArea:!1,color:"rgba(0, 0, 0, 0.1)"}}}}};this.healthPerformanceChart=new bn(t,n),console.log("Health performance chart created successfully"),this.cdr.detectChanges()}catch(e){console.error("Error creating health performance chart:",e),setTimeout(()=>{console.log("Retrying health performance chart creation..."),this.createHealthPerformanceChart()},500)}},100)}processHealthPerformanceData(t){if(!t?.chart_data)return console.log("No chart data available, using mock data"),this.generateMockHealthPerformanceData();let e=t.chart_data;return console.log("Processing health performance data:",e),{labels:(e.dates||[]).map(s=>{if(s&&s.includes("-")){let[r,o]=s.split("-");return new Date(parseInt(r),parseInt(o)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})}return s}),healthScores:e.health_scores||[],performanceScores:e.performance_scores||[],maintenanceCounts:e.maintenance_counts||[],metrics:e.metrics||{}}}generateMockHealthPerformanceData(){let e=[],n=[],s=[],r=[];for(let o=0;o<12;o++){let l=new Date;l.setMonth(l.getMonth()-(11-o)),e.push(l.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));let d=85,u=o*2+Math.random()*5;n.push(Math.max(60,Math.round(d-u)));let h=90,f=(Math.random()-.5)*10;s.push(Math.max(75,Math.round(h+f))),r.push(Math.floor(Math.random()*5)+1)}return{labels:e,healthScores:n,performanceScores:s,maintenanceCounts:r,metrics:{average_health_score:Math.round(n.reduce((o,l)=>o+l,0)/n.length),average_performance_score:Math.round(s.reduce((o,l)=>o+l,0)/s.length),total_maintenance_count:r.reduce((o,l)=>o+l,0),health_trend:n[n.length-1]-n[0],performance_trend:s[s.length-1]-s[0]}}}refreshHealthPerformanceChart(){this.loadHealthPerformanceChart()}forceCreateHealthPerformanceChart(){if(console.log("Force creating health performance chart..."),console.log("Current health performance chart data:",this.healthPerformanceChartData),!this.healthPerformanceChartData){console.log("No data available, loading health performance chart..."),this.loadHealthPerformanceChart();return}this.createHealthPerformanceChart()}getHealthScoreColor(t){return t?t>=80?"text-green-600":t>=60?"text-yellow-600":t>=40?"text-orange-600":"text-red-600":"text-gray-400"}getHealthStatusColor(t){return t?t>=80?"text-green-600":t>=60?"text-yellow-600":t>=40?"text-orange-600":"text-red-600":"text-gray-600"}getHealthStatusText(t){return t?t>=80?"Excellent":t>=60?"Good":t>=40?"Fair":"Poor":"Unknown"}getAssetAge(){if(!this.asset?.purchase_date)return"Unknown";let t=new Date(this.asset.purchase_date),n=Math.abs(new Date().getTime()-t.getTime()),s=Math.ceil(n/(1e3*60*60*24));if(s<365)return`${Math.floor(s/30)} months`;{let r=Math.floor(s/365);return`${r} year${r>1?"s":""}`}}getUtilizationRate(){let t=this.asset?.health_score||0;return t>=80?95:t>=60?85:t>=40?70:50}getUptimePercentage(){let t=this.asset?.health_score||0;return t>=80?99.5:t>=60?98:t>=40?95:90}getMaintenanceFrequency(){let t=this.asset?.health_score||0;return t>=80?"Low":t>=60?"Medium":t>=40?"High":"Very High"}getMaintenanceFrequencyPercentage(){let t=this.asset?.health_score||0;return t>=80?20:t>=60?40:t>=40?60:80}getCostEfficiency(){let t=parseFloat(this.asset?.purchase_price)||0,e=this.calculateCurrentValue();if(t===0)return 85;let n=e/t*100;return Math.min(Math.max(n,0),100)}formatCurrency(t){return t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}calculateCurrentValue(){let t=parseFloat(this.asset?.purchase_price)||0,e=this.calculateDepreciation();return Math.round(Math.max(t-e,0)*100)/100}getROIColor(t){return t>=0?"text-green-600":"text-red-600"}getPerformanceTrend(){let t=this.asset?.health_score||0;return t>=80?"Improving":t>=60?"Stable":t>=40?"Declining":"Critical"}getCostEfficiencyTrend(){let t=this.getCostEfficiency();return t>=80?"Optimal":t>=60?"Good":t>=40?"Fair":"Poor"}getMaintenanceTrend(){let t=this.asset?.health_score||0;return t>=80?"Low":t>=60?"Stable":t>=40?"Increasing":"High"}getTrendColor(t){switch(t.toLowerCase()){case"improving":case"optimal":case"low":return"text-green-600";case"stable":case"good":return"text-blue-600";case"declining":case"fair":case"increasing":return"text-yellow-600";case"critical":case"poor":case"high":return"text-red-600";default:return"text-gray-600"}}getTrendIcon(t){switch(t.toLowerCase()){case"improving":case"optimal":return"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6";case"declining":case"critical":return"M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6";case"stable":case"good":case"fair":case"low":case"increasing":case"high":default:return"M20 12H4"}}getFinancialAlerts(){let t=[],e=this.asset?.health_score||0,n=this.calculateCurrentValue(),s=parseFloat(this.asset?.purchase_price)||0;return e<40&&t.push({message:"Asset health is critical - consider replacement",class:"bg-red-50 text-red-700"}),n<s*.3&&t.push({message:"Asset value has depreciated significantly",class:"bg-orange-50 text-orange-700"}),(this.asset?.warranty==="None"||!this.asset?.warranty)&&t.push({message:"No warranty coverage - maintenance costs may increase",class:"bg-yellow-50 text-yellow-700"}),t}getPredictiveAlerts(){let t=[],e=this.asset?.health_score||0,n=this.getAssetAge();return e<60&&t.push({title:"Maintenance Alert",message:"Schedule preventive maintenance within 30 days",class:"bg-orange-50 text-orange-700"}),e<40&&t.push({title:"Critical Alert",message:"Asset requires immediate attention",class:"bg-red-50 text-red-700"}),n.includes("year")&&parseInt(n)>5&&t.push({title:"Age Alert",message:"Asset is aging - consider replacement planning",class:"bg-blue-50 text-blue-700"}),t}uploadDocument(){console.log("Upload document")}downloadDocument(t){console.log("Download document:",t)}compareWithSimilar(){console.log("Compare with similar assets")}scrollToSection(t){let e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}exportFinancialData(){console.log("Export financial data")}exportMaintenanceHistory(){console.log("Export maintenance history")}generateMaintenanceRecommendations(){console.log("Generate maintenance recommendations")}addMaintenanceCost(){console.log("Add maintenance cost")}viewCostHistory(){console.log("View cost history")}getWarrantyStatus(t){if(!t)return"No warranty";let e=new Date,n=new Date(t);if(n<e)return"Expired";{let s=Math.ceil((n.getTime()-e.getTime())/864e5);return s<=30?`Expires in ${s} days`:"Active"}}getWarrantyStatusClass(t){let e=this.getWarrantyStatus(t);return e==="Expired"?"text-red-600 font-medium":e.includes("Expires in")?"text-orange-600 font-medium":e==="Active"?"text-green-600 font-medium":"text-gray-500"}selectImage(t){this.asset.images&&t>=0&&t<this.asset.images.length&&(this.currentImageIndex=t,this.selectedImageUrl=this.asset.images[t].image_url)}previousImage(){if(this.asset.images&&this.asset.images.length>1){let t=this.currentImageIndex>0?this.currentImageIndex-1:this.asset.images.length-1;this.selectImage(t)}}nextImage(){if(this.asset.images&&this.asset.images.length>1){let t=this.currentImageIndex<this.asset.images.length-1?this.currentImageIndex+1:0;this.selectImage(t)}}copyAssetId(){let t=this.asset?.asset_id||this.asset?.id;t&&navigator.clipboard.writeText(t.toString()).then(()=>{console.log("Asset ID copied to clipboard")}).catch(e=>{console.error("Failed to copy asset ID:",e)})}copySerialNumber(){this.asset?.serial_number&&navigator.clipboard.writeText(this.asset.serial_number).then(()=>{console.log("Serial number copied to clipboard")}).catch(t=>{console.error("Failed to copy serial number:",t)})}calculateDepreciation(){if(!this.asset?.purchase_price)return 0;let t=this.asset.current_value||this.asset.purchase_price;return Math.round((this.asset.purchase_price-t)*100)/100}calculateDepreciationRate(){let t=this.asset?.depreciation||10;return Math.round(1/t*100)}getMaxDepreciationValue(){return this.asset?.purchase_price||1e4}getDepreciationPath(){let t=this.getMaxDepreciationValue(),e=this.asset?.purchase_date?new Date(this.asset.purchase_date):new Date,n=new Date,s=10,r=new Date(e.getTime()+s*365.25*24*60*60*1e3),o=[],l=(r.getTime()-e.getTime())/(1e3*60*60*24);for(let d=0;d<=12;d++){let u=l*d/12,f=(new Date(e.getTime()+u*24*60*60*1e3).getTime()-e.getTime())/(1e3*60*60*24*365.25),x=t/s,g=Math.min(x*f,t),S=Math.max(0,t-g),y=d/12*100,M=100-S/t*100;o.push(`${y},${M}`)}return`M ${o.join(" L ")}`}getCurrentPeriodX(){if(!this.asset?.purchase_date)return 0;let t=new Date(this.asset.purchase_date),e=new Date,n=10,r=(new Date(t.getTime()+n*365.25*24*60*60*1e3).getTime()-t.getTime())/(1e3*60*60*24),o=(e.getTime()-t.getTime())/(1e3*60*60*24);return Math.min(100,Math.max(0,o/r*100))}getCurrentPeriodY(){let t=this.calculateCurrentValue(),e=this.getMaxDepreciationValue();return 100-t/e*100}getDepreciationDates(){let t=this.asset?.purchase_date?new Date(this.asset.purchase_date):new Date,e=10,n=new Date(t.getTime()+e*365.25*24*60*60*1e3),s=[];for(let r=0;r<=12;r++){let o=(n.getTime()-t.getTime())/864e5*r/12;s.push(new Date(t.getTime()+o*24*60*60*1e3))}return s}calculateAnnualDepreciation(){return this.getMaxDepreciationValue()/10}calculateRemainingYears(){if(!this.asset?.purchase_date)return 10;let t=new Date(this.asset.purchase_date),e=new Date,n=10,s=(e.getTime()-t.getTime())/(1e3*60*60*24*365.25);return Math.round(Math.max(0,n-s)*100)/100}calculateTotalCostOfOwnership(){let t=this.asset?.purchase_price||0,e=this.asset?.total_maintenance_cost||0,n=this.asset?.operating_cost||0;return t+e+n}calculateROI(){let t=this.calculateTotalCostOfOwnership(),e=this.asset?.current_value||this.asset?.purchase_price||0;return t===0?0:Math.round((e-t)/t*100)}createWorkOrder(){console.log("Create work order for asset:",this.asset?.id)}transferAsset(){this.showTransferModal=!0}onTransferComplete(t){console.log("Transfer completed:",t),this.asset?.id&&this.loadAsset(this.asset.id.toString())}onTransferModalClose(){this.showTransferModal=!1}duplicateAsset(){this.asset&&this.router.navigate(["/assets/create"],{queryParams:{duplicate:!0,sourceId:this.asset.id}})}onImageError(t){console.warn("Asset image failed to load:",t.target.src),t.target.onerror=null,t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="}onCategoryIconError(t,e){e&&(e.iconError=!0)}downloadQRCode(){if(this.qrCodeDataUrl){let t=document.createElement("a");t.href=this.qrCodeDataUrl,t.download=`asset-${this.asset.id}-qr.png`,t.click()}else if(this.asset?.qr_code_url){let t=document.createElement("a");t.href=this.asset.qr_code_url,t.download=`asset-${this.asset.id}-qr.png`,t.click()}else this.generateQRCode()}downloadBarcode(){if(this.asset?.barcode_url){let t=document.createElement("a");t.href=this.asset.barcode_url,t.download=`asset-${this.asset.asset_id||this.asset.id}-barcode.png`,t.click()}else if(this.barcodeDataUrl){let t=document.createElement("a");t.href=this.barcodeDataUrl,t.download=`asset-${this.asset.asset_id||this.asset.id}-barcode.png`,t.click()}else this.generateBarcode()}generateQRCode(){if(!this.asset)return;this.qrCodeLoading=!0;let t=`${window.location.origin}/public/asset/${this.asset.id}`;uc.toDataURL(t,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{this.qrCodeDataUrl=e,this.qrCodeLoading=!1}).catch(e=>{console.error("Error generating QR code:",e),this.qrCodeLoading=!1})}generateBarcode(){if(!this.asset?.asset_id)return;this.barcodeLoading=!0;let t=this.asset.asset_id,e=`https://quickchart.io/barcode?c=${encodeURIComponent(t)}&chs=300x100&chld=L%7C0&choe=UTF-8`;fetch(e).then(n=>n.blob()).then(n=>{let s=new FileReader;s.onloadend=()=>{this.barcodeDataUrl=s.result,this.barcodeLoading=!1},s.readAsDataURL(n)}).catch(n=>{console.error("Error generating barcode:",n),this.barcodeLoading=!1})}copyQRCodeUrl(){this.asset?.qr_code_url&&navigator.clipboard.writeText(this.asset.qr_code_url).then(()=>{console.log("QR code URL copied to clipboard")})}copyPublicUrl(){let t=`${window.location.origin}/public/asset/${this.asset.id}`;navigator.clipboard.writeText(t).then(()=>{console.log("Public URL copied to clipboard")})}get windowLocation(){return window.location.origin}showFullActivityHistory(){this.loadFullActivityHistory(),this.showActivityHistoryModal=!0}closeActivityHistoryModal(){this.showActivityHistoryModal=!1,this.activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""},this.activityHistoryPagination=null}onActivityHistoryPageChange(t){this.activityHistoryParams.page=t,this.loadFullActivityHistory()}onActivityHistorySearch(t){this.activityHistoryParams.search=t,this.activityHistoryParams.page=1,this.loadFullActivityHistory()}onActivityHistoryFilter(t,e){this.activityHistoryParams[t]=e,this.activityHistoryParams.page=1,this.loadFullActivityHistory()}onActivityHistorySort(t,e){this.activityHistoryParams.sort_by=t,this.activityHistoryParams.sort_dir=e,this.loadFullActivityHistory()}clearActivityHistoryFilters(){this.activityHistoryParams={page:1,per_page:15,sort_by:"created_at",sort_dir:"desc",search:"",action:"",user_id:"",date_from:"",date_to:""},this.loadFullActivityHistory()}loadFullActivityHistory(){this.asset?.id&&(this.activityHistoryLoading=!0,this.activityHistoryError="",this.assetService.getActivityHistory(this.asset.id,this.activityHistoryParams).pipe(ce(this.destroy$)).subscribe({next:t=>{t.success?(this.fullActivityHistory=t.data.data||[],this.activityHistoryPagination=t.data):this.activityHistoryError=t.message||"Failed to load full activity history",this.activityHistoryLoading=!1},error:t=>{this.activityHistoryError=t.error?.message||"An error occurred while loading full activity history",this.activityHistoryLoading=!1}}))}viewFullImage(t){window.open(t,"_blank")}formatActivityBeforeAfter(t,e){if(!t&&!e)return"";let n=[];if(t&&e){let s=Object.keys(t),r=Object.keys(e);for(let o of r)if(t[o]!==e[o]){let l=this.getFieldDisplayName(o);l&&n.push(`${l}: ${this.formatFieldValue(t[o])} \u2192 ${this.formatFieldValue(e[o])}`)}}else if(e){let s=["name","type","status","location_id","department_id","purchase_price"];for(let r of s)if(e[r]!==void 0&&e[r]!==null){let o=this.getFieldDisplayName(r);o&&n.push(`${o}: ${this.formatFieldValue(e[r])}`)}}else if(t){let s=["name","type","status"];for(let r of s)if(t[r]!==void 0&&t[r]!==null){let o=this.getFieldDisplayName(r);o&&n.push(`${o}: ${this.formatFieldValue(t[r])} (deleted)`)}}return n.length>0?n.join(", "):""}getFieldDisplayName(t){return{name:"Asset Name",type:"Type",model:"Model",status:"Status",description:"Description",location_id:"Location",department_id:"Department",purchase_price:"Purchase Price",purchase_date:"Purchase Date",serial_number:"Serial Number",asset_id:"Asset ID",warranty:"Warranty",insurance:"Insurance",depreciation:"Depreciation",health_score:"Health Score",manufacturer:"Manufacturer",category_id:"Category"}[t]||t.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}formatFieldValue(t){return t==null?"N/A":typeof t=="boolean"?t?"Yes":"No":typeof t=="number"?t.toString().includes(".")?`$${t.toFixed(2)}`:t.toString():typeof t=="string"?t.match(/^\d{4}-\d{2}-\d{2}/)?new Date(t).toLocaleDateString():t:JSON.stringify(t)}getUserDisplayName(t){return t?t.name?t.name:t.email?t.email.split("@")[0]:"Unknown User":"System"}getActivityIcon(t){return{created:"M12 6v6m0 0v6m0-6h6m-6 0H6",updated:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",deleted:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",transferred:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",maintenance:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",imported:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"}[t]||"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}getActivityColor(t){return{created:"bg-green-100 text-green-600",updated:"bg-blue-100 text-blue-600",deleted:"bg-red-100 text-red-600",transferred:"bg-purple-100 text-purple-600",maintenance:"bg-orange-100 text-orange-600",imported:"bg-indigo-100 text-indigo-600"}[t]||"bg-gray-100 text-gray-600"}sharePublicUrl(){if(this.asset?.id){let t=`${window.location.origin}/public/asset/${this.asset.id}`;navigator.clipboard.writeText(t).then(()=>{console.log("Public URL copied to clipboard:",t),alert("Public URL copied to clipboard!")}).catch(e=>{console.error("Failed to copy URL:",e),alert("Failed to copy URL to clipboard")})}}static \u0275fac=function(e){return new(e||i)(ue(Ci),ue(yt),ue(at),ue(Pn),ue(Yn),ue(Gn),ue(Po))};static \u0275cmp=Fe({type:i,selectors:[["app-asset-view"]],viewQuery:function(e,n){if(e&1&&_t(lg,5),e&2){let s;xt(s=vt())&&(n.dateInputs=s)}},decls:34,vars:10,consts:[["noImages",""],["dateInput",""],[1,"min-h-screen","bg-gray-50","asset-view-container"],[1,"bg-white","border-b","border-gray-200","px-6","py-4","print-hide"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],["aria-label","Breadcrumb",1,"flex"],[1,"flex","items-center","space-x-2"],["routerLink","/assets/list",1,"text-gray-500","hover:text-gray-700","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","mx-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"text-gray-900","font-medium"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","space-x-2","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"relative",3,"click"],[1,"flex","items-center","justify-center","w-10","h-10","text-gray-600","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["cx","12","cy","5","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","19","r","2"],["class","absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",4,"ngIf"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","px-6 py-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],["class","fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4",4,"ngIf"],[3,"closeModal","transferComplete","isOpen","asset"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-2","z-50"],[1,"w-full","flex","items-center","space-x-3","px-4","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],[1,"text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"border-t","border-gray-100","my-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"px-6","py-6"],[1,"bg-white","rounded-lg","p-6","mb-6","shadow-sm","border","border-gray-200"],[1,"flex","items-start","justify-between","mb-4"],[1,"w-16","h-16","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",3,"background-color","color",4,"ngIf"],[1,"text-gray-500"],[1,"text-right"],[1,"flex","items-center","space-x-2","mb-2"],[1,"flex","items-center","space-x-1","px-2","py-1","text-sm","font-mono","bg-gray-100","rounded","hover:bg-gray-200","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["class","flex items-center space-x-2",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","p-6","shadow-sm","border","border-gray-200"],[1,"flex","items-center","space-x-2","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-lg","font-semibold","text-gray-900"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","mb-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"space-y-6"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],[1,"text-gray-600","leading-relaxed"],["class","text-blue-600 hover:text-blue-700 text-sm font-medium mt-2",3,"click",4,"ngIf"],[1,"w-8","h-8","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","text-gray-900",4,"ngIf"],[1,"text-gray-900","font-mono","text-lg"],["title","Copy Asset ID",1,"p-1","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","text-blue-600 hover:underline cursor-pointer",3,"routerLink",4,"ngIf"],[1,"text-gray-900"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[4,"ngIf"],[1,"bg-gray-50","rounded-lg","p-4","flex","flex-col","items-center"],[1,"w-32","h-32","bg-white","rounded-lg","p-2","shadow-sm","border","border-gray-200","flex","items-center","justify-center"],["alt","QR Code","class","w-full h-full object-contain",3,"src",4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","text-center text-gray-400",4,"ngIf"],[1,"mt-3","flex","space-x-2"],["class","text-sm text-blue-600 hover:text-blue-700 font-medium",3,"click",4,"ngIf"],["class","text-sm text-green-600 hover:text-green-700 font-medium",3,"click",4,"ngIf"],[1,"mt-2","text-xs","text-gray-500","text-center"],[1,"w-full","bg-white","rounded-lg","p-2","shadow-sm","border","border-gray-200","flex","items-center","justify-center"],["alt","Barcode","class","w-full h-20 object-contain",3,"src",4,"ngIf"],["class","flex items-center justify-center py-4",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","text-center text-gray-400 py-4",4,"ngIf"],["class","mt-1 font-mono",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","mb-1"],["class","mt-6 pt-6 border-t border-gray-200",4,"ngIf"],[1,"flex","items-center","justify-between","mb-6"],[1,"w-8","h-8","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"flex","items-center","space-x-2","px-3","py-2","text-green-600","hover:bg-green-50","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"flex","items-center","space-x-2","px-3","py-2","text-blue-600","hover:bg-blue-50","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",4,"ngIf"],[1,"text-sm","font-medium","text-gray-700"],["class","flex items-center justify-center h-64 bg-gray-50 rounded-lg",4,"ngIf"],["class","flex items-center justify-center h-64 bg-red-50 rounded-lg",4,"ngIf"],["class","relative h-64 bg-white border border-gray-200 rounded-lg p-4",4,"ngIf"],["class","text-center text-xs text-gray-500",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",4,"ngIf"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-8","h-8","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"],[1,"flex","items-center","space-x-2","px-3","py-2","text-orange-600","hover:bg-orange-50","rounded-lg","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-2xl","font-bold","text-gray-900"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"text-2xl","font-bold","text-blue-600"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mt-4"],[1,"text-center","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","text-gray-600"],["class","flex items-center justify-center py-8",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-blue-600","hover:text-blue-700","text-sm","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"],[1,"flex","items-center","space-x-2","px-3","py-1","text-sm","text-gray-600","hover:text-gray-800","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","space-y-3",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","gap-4","mb-6"],[1,"bg-green-50","rounded-lg","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],[1,"text-sm","text-green-600"],[1,"font-semibold","text-green-800"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],[1,"text-sm","text-blue-600"],[1,"font-semibold","text-blue-800"],[1,"bg-purple-50","rounded-lg","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],[1,"text-sm","text-purple-600"],[1,"font-semibold","text-purple-800"],["class","text-center py-6",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-2"],[1,"text-xs","text-gray-600"],[1,"text-sm","text-gray-900"],[1,"bg-orange-50","rounded-lg","p-4"],[1,"flex","items-center","space-x-2","mt-1"],["class","text-xs text-gray-500",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"mb-4"],[1,"relative","bg-gray-100","rounded-lg","overflow-hidden",2,"height","400px"],[1,"w-full","h-full","object-contain","bg-white","cursor-pointer",3,"click","error","src","alt"],["class","absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",3,"click",4,"ngIf"],["class","absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",3,"click",4,"ngIf"],[1,"absolute","bottom-4","right-4","bg-black","bg-opacity-50","text-white","px-3","py-1","rounded-full","text-sm"],["class","grid grid-cols-6 gap-2",4,"ngIf"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","w-10","h-10","bg-black","bg-opacity-50","text-white","rounded-full","flex","items-center","justify-center","hover:bg-opacity-70","transition-all",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","w-10","h-10","bg-black","bg-opacity-50","text-white","rounded-full","flex","items-center","justify-center","hover:bg-opacity-70","transition-all",3,"click"],[1,"grid","grid-cols-6","gap-2"],["class","relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all",3,"border-blue-500","border-gray-200","click",4,"ngFor","ngForOf"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","cursor-pointer","border-2","transition-all",3,"click"],[1,"w-full","h-full","object-cover",3,"error","src","alt"],[1,"text-center","py-12","bg-gray-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],[1,"text-gray-600"],[1,"text-blue-600","hover:text-blue-700","text-sm","font-medium","mt-2",3,"click"],[1,"w-5","h-5",3,"error","src","alt"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-sm","font-medium"],[1,"text-blue-600","hover:underline","cursor-pointer",3,"routerLink"],["alt","QR Code",1,"w-full","h-full","object-contain",3,"src"],[1,"flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],["fill","currentColor","viewBox","0 0 24 24",1,"w-24","h-24","text-gray-400"],["d","M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"],[1,"text-xs","text-gray-500","mt-2","font-mono"],[1,"text-center","text-gray-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto"],[1,"text-xs","mt-2"],[1,"text-sm","text-blue-600","hover:text-blue-700","font-medium",3,"click"],[1,"text-sm","text-green-600","hover:text-green-700","font-medium",3,"click"],["alt","Barcode",1,"w-full","h-20","object-contain",3,"src"],[1,"flex","items-center","justify-center","py-4"],[1,"text-center","py-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto"],[1,"text-center","text-gray-400","py-4"],[1,"mt-1","font-mono"],[1,"text-xs","text-gray-500"],[1,"text-gray-900","font-mono"],[1,"p-1","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex justify-between",4,"ngFor","ngForOf"],[1,"flex","justify-between"],[1,"text-sm","text-gray-900","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-6"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-orange-600"],[1,"flex","items-center","justify-center","h-64","bg-gray-50","rounded-lg"],[1,"inline-flex","items-center","justify-center","w-8","h-8","bg-green-100","rounded-full","mb-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","text-green-600"],[1,"flex","items-center","justify-center","h-64","bg-red-50","rounded-lg"],[1,"text-red-600","text-sm","mb-2"],[1,"relative","h-64","bg-white","border","border-gray-200","rounded-lg","p-4"],["id","healthPerformanceChart","width","400","height","200"],[1,"text-center","text-xs","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mt-4"],[1,"text-lg","font-semibold",3,"ngClass"],[1,"inline-flex","items-center","justify-center","w-8","h-8","bg-blue-100","rounded-full","mb-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4","text-blue-600"],["id","depreciationChart","width","400","height","200"],[1,"flex","items-center","justify-center","py-8"],[1,"text-center","py-8"],["class","flex items-start space-x-3",4,"ngFor","ngForOf"],[1,"flex","items-start","space-x-3"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"flex-1"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-medium","text-gray-900","capitalize"],["class","text-xs text-gray-500 bg-gray-50 p-2 rounded border",4,"ngIf"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","bg-gray-50","p-2","rounded","border"],[1,"text-xs","text-gray-500","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-400","mx-auto","mb-4"],["class","w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors",3,"text-blue-600","bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","px-4","py-2","text-left","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-sm"],[1,"space-y-3"],["class","flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-3","p-3","bg-gray-50","rounded-lg","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center","flex-shrink-0"],["class","w-full h-full object-cover rounded-lg",3,"src","alt","error",4,"ngIf"],["class","w-6 h-6 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2","mb-1"],[1,"text-gray-400"],[1,"text-xs","px-2","py-1","rounded-full","font-medium",3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","flex-shrink-0"],[1,"w-full","h-full","object-cover","rounded-lg",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-center","py-6"],[1,"inline-flex","items-center","justify-center","w-6","h-6","bg-blue-100","rounded-full"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-3","h-3","text-blue-600"],["class","border border-gray-200 rounded-lg p-3",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-3"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","text-sm"],[1,"flex","items-center","space-x-1"],[1,"p-1","text-gray-400","hover:text-blue-600","transition-colors",3,"click"],[1,"p-1","text-gray-400","hover:text-red-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"space-y-1","text-xs"],[1,"ml-1","text-gray-900"],["class","mt-2 text-xs text-gray-600",4,"ngIf"],[1,"mt-2","text-xs","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400","mx-auto","mb-2"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-xs","text-gray-600","mb-3"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","text-xs","hover:bg-blue-700","transition-colors",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","max-w-md","w-full","p-6"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","schedule_type",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value",""],["value","Preventive"],["value","Inspection"],["value","Calibration"],["value","Cleaning"],["type","text","formControlName","next_due","placeholder","Select date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","text","formControlName","last_done","placeholder","Select date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","frequency",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Weekly"],["value","Monthly"],["value","Quarterly"],["value","Semi-Annual"],["value","Annual"],["formControlName","notes","rows","3","placeholder","Additional notes...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"flex","items-center","justify-end","space-x-3","mt-6"],["type","button",1,"px-4","py-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:opacity-50","transition-colors",3,"disabled"],["formControlName","status",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Scheduled"],["value","In Progress"],["value","Completed"],["value","Overdue"],[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","max-w-4xl","w-full","max-h-[90vh]","flex","flex-col"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex-1","overflow-auto","p-6"],[1,"mb-6","space-y-4"],[1,"flex","space-x-4"],["type","text","placeholder","Search activities...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input"],[1,"px-4","py-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],["value","created"],["value","updated"],["value","deleted"],["value","transferred"],["value","maintenance"],["value","imported"],["type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],["value","desc"],["value","asc"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","space-y-4 max-h-[60vh] overflow-y-auto",4,"ngIf"],["class","mt-6 flex items-center justify-between",4,"ngIf"],[1,"flex","items-center","justify-between","p-6","border-t","border-gray-200","bg-gray-50"],[1,"px-4","py-2","bg-gray-600","text-white","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"flex","items-center","justify-center","py-12"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-6","h-6","text-blue-600"],[1,"text-center","py-12"],[1,"text-red-600","mb-4"],[1,"space-y-4","max-h-[60vh]","overflow-y-auto"],["class","flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-start","space-x-4","p-4","bg-gray-50","rounded-lg"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"font-semibold","text-gray-900","capitalize"],[1,"text-xs","text-gray-500","bg-white","px-2","py-1","rounded-full"],[1,"text-sm","text-gray-600","mb-2"],["class","text-xs text-gray-500 bg-white p-3 rounded border",4,"ngIf"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],[1,"text-xs","text-gray-500","bg-white","p-3","rounded","border"],[1,"font-medium","mb-1"],[1,"text-xs","text-gray-500","mt-2"],[1,"mt-6","flex","items-center","justify-between"],[1,"flex","space-x-2"],["class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors",3,"click",4,"ngIf"],[1,"px-3","py-1","text-sm","border","border-gray-300","rounded","hover:bg-gray-50","transition-colors",3,"click"]],template:function(e,n){e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"nav",6)(5,"ol",7)(6,"li")(7,"a",8),m(8,"Assets"),c()(),a(9,"li"),A(),a(10,"svg",9),w(11,"path",10),c()(),I(),a(12,"li",11),m(13),c()()()(),a(14,"div",12)(15,"button",13),D("click",function(){return n.editAsset()}),A(),a(16,"svg",14),w(17,"path",15),c(),I(),a(18,"span"),m(19,"Edit Asset"),c()(),a(20,"div",16),D("click",function(r){return r.stopPropagation()}),a(21,"button",17),D("click",function(){return n.showActionsDropdown=!n.showActionsDropdown}),A(),a(22,"svg",18),w(23,"circle",19)(24,"circle",20)(25,"circle",21),c()(),T(26,mg,27,0,"div",22),c()()()(),T(27,pg,10,0,"div",23)(28,hg,11,1,"div",23)(29,I1,451,129,"div",24)(30,P1,59,2,"div",25)(31,V1,71,2,"div",25)(32,$1,62,5,"div",26),I(),a(33,"app-transfer-asset-modal",27),D("closeModal",function(){return n.onTransferModalClose()})("transferComplete",function(r){return n.onTransferComplete(r)}),c()()),e&2&&(p(13),F((n.asset==null?null:n.asset.name)||"Asset Details"),p(13),v("ngIf",n.showActionsDropdown),p(),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",n.asset&&!n.loading),p(),v("ngIf",n.showAddMaintenanceModal),p(),v("ngIf",n.showEditMaintenanceModal),p(),v("ngIf",n.showActivityHistoryModal),p(),v("isOpen",n.showTransferModal)("asset",n.asset))},dependencies:[Xe,Vn,bt,He,On,Ln,Vo,Tt,Fn,Un,Ut,Ro,Ho,Qe,Fo,Ke,Gt,Bn,jn,Di],styles:[".asset-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.asset-image-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border-radius:.5rem;min-height:16rem;display:flex;align-items:center;justify-content:center}.info-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.health-score-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669);transition:width .3s ease-in-out}.chart-placeholder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border:2px dashed #d1d5db;border-radius:.5rem}.chart-placeholder[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.ai-button[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.ai-button[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.ai-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.action-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.action-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-radius:.5rem;padding:.5rem 1rem;margin:-.5rem -1rem}.status-badge[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:.25rem .5rem;border-radius:9999px}.section-icon[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.section-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border:2px dashed #d1d5db;border-radius:1rem}.empty-state[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.lg\\:col-span-2[_ngcontent-%COMP%]{grid-column:span 1}.asset-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}@media print{.bg-white.border-b[_ngcontent-%COMP%], .flex.items-center.justify-between[_ngcontent-%COMP%], .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]:has(button), button[_ngcontent-%COMP%], .relative[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%], .fixed[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%], .actions-dropdown[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .print-hide[_ngcontent-%COMP%]{display:none!important}.bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]{border:1px solid #ddd!important;box-shadow:none!important;margin-bottom:20px!important;page-break-inside:avoid}.grid.grid-cols-1.lg\\\\[_ngcontent-%COMP%]:grid-cols-3{display:block!important}.lg\\\\[_ngcontent-%COMP%]:col-span-2{width:100%!important}body[_ngcontent-%COMP%]{margin:0!important;padding:20px!important;background:#fff!important}*[_ngcontent-%COMP%]{color:#000!important;background:#fff!important}.asset-image-container[_ngcontent-%COMP%]{border:1px solid #000!important;background:#fff!important;max-width:100%!important}.qr-section[_ngcontent-%COMP%], .barcode-section[_ngcontent-%COMP%]{text-align:center!important;page-break-inside:avoid}table[_ngcontent-%COMP%]{width:100%!important;border-collapse:collapse!important}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:8px!important}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#000!important;page-break-after:avoid}.status-badge[_ngcontent-%COMP%]{border:1px solid #000!important;background:#fff!important;color:#000!important}}button[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}*[_ngcontent-%COMP%]{transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.asset-view[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}.value-display[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}.section-header[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding-bottom:.75rem;margin-bottom:1rem}.info-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}@media (min-width: 768px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.ai-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border:1px solid #e9d5ff}.financial-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0}.technical-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:1px solid #bfdbfe}"]})};var G1=["fileInput"],U1=["dateInput"],Y1=()=>({standalone:!0});function q1(i,t){i&1&&(a(0,"div",14)(1,"div",15)(2,"div",16),A(),a(3,"svg",17),w(4,"circle",18)(5,"path",19),c()(),I(),a(6,"h3",20),m(7,"Loading Asset"),c(),a(8,"p",21),m(9,"Please wait while we fetch the asset details..."),c()()())}function X1(i,t){if(i&1){let e=H();a(0,"div",14)(1,"div",15)(2,"div",22),A(),a(3,"svg",23),w(4,"path",24),c()(),I(),a(5,"h3",20),m(6,"Error Loading Asset"),c(),a(7,"p",25),m(8),c(),a(9,"button",26),D("click",function(){k(e);let s=_();return E(s.goBack())}),m(10," Back to Assets "),c()()()}if(i&2){let e=_();p(8),F(e.error)}}function Q1(i,t){if(i&1&&(a(0,"div",116),A(),a(1,"svg",117),w(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.nameError," ")}}function K1(i,t){i&1&&(a(0,"span",94),m(1,"Select parent asset"),c())}function J1(i,t){if(i&1&&(a(0,"span",118),m(1),c()),i&2){let e=_(2);p(),Re(" ",e.getSelectedParent().name," (",e.getSelectedParent().asset_id,") ")}}function Z1(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s,r=k(e).$implicit,o=_(3);return(s=o.assetForm.get("parent_id"))==null||s.setValue(r.id),E(o.showParentDropdown=!1)}),a(1,"div",40)(2,"div",124),A(),a(3,"svg",125),w(4,"path",66),c()(),I(),a(5,"div")(6,"div",126),m(7),c(),a(8,"div",127),m(9),c()()()()}if(i&2){let e,n=t.$implicit,s=_(3);z("bg-blue-50",((e=s.assetForm.get("parent_id"))==null?null:e.value)===n.id),p(7),F(n.name),p(2),F(n.asset_id)}}function e_(i,t){if(i&1){let e=H();a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select parent asset"),c(),a(4,"button",122),D("click",function(){let s;k(e);let r=_(2);return(s=r.assetForm.get("parent_id"))==null||s.setValue(null),E(r.showParentDropdown=!1)}),m(5," -- None -- "),c(),T(6,Z1,10,4,"button",123),c()()}if(i&2){let e,n=_(2);p(4),z("bg-blue-50",!((e=n.assetForm.get("parent_id"))!=null&&e.value)),p(2),v("ngForOf",n.possibleParents)}}function t_(i,t){i&1&&(a(0,"span",94),m(1,"Select asset type"),c())}function i_(i,t){if(i&1){let e=H();a(0,"img",131),D("error",function(s){k(e);let r=_(3);return E(r.onAssetTypeIconError(s,r.selectedAssetType))}),c()}if(i&2){let e=_(3);v("src",e.selectedAssetType.icon,Se)("alt",e.selectedAssetType.name||e.selectedAssetType.label)}}function n_(i,t){if(i&1&&(A(),a(0,"svg",132),w(1,"path",133),c()),i&2){let e=_(3);Ee("color",e.selectedAssetType.color)}}function s_(i,t){if(i&1&&(a(0,"div",40)(1,"div",128),T(2,i_,1,2,"img",129)(3,n_,2,2,"svg",130),c(),a(4,"span",118),m(5),c()()),i&2){let e=_(2);p(),Ee("background-color",e.selectedAssetType.color+"20"),p(),v("ngIf",e.selectedAssetType.icon&&!e.selectedAssetType.iconError),p(),v("ngIf",!e.selectedAssetType.icon||e.selectedAssetType.iconError),p(2),F(e.selectedAssetType.label)}}function r_(i,t){if(i&1){let e=H();a(0,"img",138),D("error",function(s){k(e);let r=_().$implicit,o=_(3);return E(o.onAssetTypeIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Se)("alt",e.name||e.label)}}function o_(i,t){i&1&&(A(),a(0,"svg",31),w(1,"path",133),c())}function a_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.selectAssetType(s))}),a(1,"div",40)(2,"div",135),T(3,r_,1,2,"img",136)(4,o_,2,0,"svg",137),c(),a(5,"div")(6,"div",126),m(7),c(),a(8,"div",21),m(9),c()()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id)("text-blue-700",(n.selectedAssetType==null?null:n.selectedAssetType.id)===e.id),p(3),v("ngIf",e.icon&&!e.iconError),p(),v("ngIf",!e.icon||e.iconError),p(3),F(e.label||e.name),p(2),F(e.description)}}function l_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select asset type"),c(),T(4,a_,10,8,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.assetTypes)}}function c_(i,t){if(i&1&&(a(0,"div",116),A(),a(1,"svg",117),w(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.assetTypeError," ")}}function d_(i,t){i&1&&(a(0,"span",94),m(1,"Select category"),c())}function u_(i,t){if(i&1&&(a(0,"span",118),m(1),c()),i&2){let e=_(2);p(),F(e.selectedCategory.name)}}function m_(i,t){if(i&1){let e=H();a(0,"img",138),D("error",function(s){k(e);let r=_().$implicit,o=_(3);return E(o.onCategoryIconError(s,r))}),c()}if(i&2){let e=_().$implicit;v("src",e.icon,Se)("alt",e.name)}}function p_(i,t){i&1&&(A(),a(0,"svg",125),w(1,"path",66),c())}function h_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),F(e.description)}}function f_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.selectCategory(s))}),a(1,"div",40)(2,"div",124),T(3,m_,1,2,"img",136)(4,p_,2,0,"svg",139),c(),a(5,"div")(6,"div",126),m(7),c(),T(8,h_,2,1,"div",96),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)("text-blue-700",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(3),v("ngIf",e.icon),p(),v("ngIf",!e.icon||e.iconError),p(3),F(e.name),p(),v("ngIf",e.description)}}function g_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select category"),c(),T(4,f_,9,8,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.categories)}}function __(i,t){if(i&1&&(a(0,"div",116),A(),a(1,"svg",117),w(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.categoryError," ")}}function x_(i,t){if(i&1&&(a(0,"div",116),A(),a(1,"svg",117),w(2,"path",24),c(),m(3),c()),i&2){let e=_(2);p(3),W(" ",e.serialNumberError," ")}}function v_(i,t){i&1&&(a(0,"span",94),m(1,"Select location"),c())}function b_(i,t){if(i&1&&(a(0,"div",40)(1,"div",140),A(),a(2,"svg",141),w(3,"path",90)(4,"path",91),c()(),I(),a(5,"span",118),m(6),c()()),i&2){let e=_(2);p(6),F(e.selectedLocation.name)}}function y_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),F(e.type.name)}}function w_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.selectLocation(s))}),a(1,"div",40)(2,"div",142),A(),a(3,"svg",89),w(4,"path",90)(5,"path",91),c()(),I(),a(6,"div")(7,"div",126),m(8),c(),T(9,y_,2,1,"div",96),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id)("text-blue-700",(n.selectedLocation==null?null:n.selectedLocation.id)===e.id),p(8),F(e.name),p(),v("ngIf",e.type)}}function C_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select location"),c(),T(4,w_,10,6,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.locations)}}function S_(i,t){i&1&&(a(0,"span",94),m(1,"Select department"),c())}function M_(i,t){if(i&1&&(a(0,"div",40)(1,"div",143),A(),a(2,"svg",144),w(3,"path",145),c()(),I(),a(4,"span",118),m(5),c()()),i&2){let e=_(2);p(5),F(e.selectedDepartment.name)}}function k_(i,t){if(i&1&&(a(0,"div",21),m(1),c()),i&2){let e=_().$implicit;p(),F(e.description)}}function E_(i,t){if(i&1&&(a(0,"div",148),m(1),c()),i&2){let e=_().$implicit;p(),W("Code: ",e.code,"")}}function A_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.selectDepartment(s))}),a(1,"div",40)(2,"div",146),A(),a(3,"svg",65),w(4,"path",145),c()(),I(),a(5,"div")(6,"div",126),m(7),c(),T(8,k_,2,1,"div",96)(9,E_,2,1,"div",147),c()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id)("text-blue-700",(n.selectedDepartment==null?null:n.selectedDepartment.id)===e.id),p(7),F(e.name),p(),v("ngIf",e.description),p(),v("ngIf",e.code)}}function D_(i,t){if(i&1&&(a(0,"div",119)(1,"div",120)(2,"div",121),m(3,"Select department"),c(),T(4,A_,10,7,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.departments)}}function T_(i,t){if(i&1&&(a(0,"div",40),w(1,"div",149),a(2,"span",118),m(3),c()()),i&2){let e=_(2);p(),Ee("background-color",e.selectedStatus.hexColor||"#6B7280"),p(2),F(e.selectedStatus.label)}}function I_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.selectStatus(s))}),a(1,"div",40)(2,"div"),w(3,"div",149),c(),a(4,"div")(5,"div",126),m(6),c(),a(7,"div",21),m(8),c()()()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value)("text-blue-700",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value),p(2),$e("w-6 h-6 bg-"+e.color+"-100 rounded-lg flex items-center justify-center"),p(),Ee("background-color",e.hexColor||"#6B7280"),p(3),F(e.label),p(2),F(e.description)}}function P_(i,t){if(i&1&&(a(0,"div",150)(1,"div",120)(2,"div",121),m(3,"Select status"),c(),T(4,I_,9,10,"button",134),c()()),i&2){let e=_(2);p(4),v("ngForOf",e.statusOptions)}}function V_(i,t){if(i&1){let e=H();a(0,"span"),m(1),a(2,"button",154),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.removeTag(s))}),A(),a(3,"svg",155),w(4,"path",156),c()()()}if(i&2){let e=t.$implicit;$e("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-"+e.color+"-100 text-"+e.color+"-800"),p(),W(" ",e.name," ")}}function L_(i,t){if(i&1&&(a(0,"div",151)(1,"div",152),T(2,V_,5,3,"span",153),c()()),i&2){let e=_(2);p(2),v("ngForOf",e.selectedTags)}}function O_(i,t){if(i&1&&(a(0,"span",21),m(1),c()),i&2){let e=_(2);p(),W(" ",e.selectedTags.length," selected ")}}function F_(i,t){i&1&&(a(0,"div",161),A(),a(1,"svg",132),w(2,"path",162),c()())}function R_(i,t){if(i&1){let e=H();a(0,"button",122),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.toggleTag(s))}),a(1,"div",46)(2,"div",40)(3,"div"),w(4,"div"),c(),a(5,"span",126),m(6),c()(),T(7,F_,3,0,"div",160),c()()}if(i&2){let e=t.$implicit,n=_(3);z("bg-blue-50",n.isTagSelected(e)),p(3),$e("w-6 h-6 bg-"+e.color+"-100 rounded-full flex items-center justify-center"),p(),$e("w-3 h-3 rounded-full bg-"+e.color+"-500"),p(2),F(e.name),p(),v("ngIf",n.isTagSelected(e))}}function H_(i,t){if(i&1){let e=H();a(0,"div",119)(1,"div",120)(2,"div",157)(3,"div",79)(4,"input",158),he("ngModelChange",function(s){k(e);let r=_(2);return pe(r.newTagInput,s)||(r.newTagInput=s),E(s)}),D("keydown",function(s){k(e);let r=_(2);return E(r.onTagInputKeydown(s))})("click",function(s){return k(e),E(s.stopPropagation())}),c(),a(5,"div",159),m(6," Press Enter "),c()()(),a(7,"div",121),m(8,"Select tags"),c(),T(9,R_,8,8,"button",123),c()()}if(i&2){let e=_(2);p(4),me("ngModel",e.newTagInput),v("ngModelOptions",In(3,Y1)),p(5),v("ngForOf",e.availableTags)}}function N_(i,t){if(i&1){let e=H();a(0,"div",172)(1,"div",173)(2,"img",174),D("error",function(s){let r=k(e).index,o=_(3);return E(o.onImageError(s,r))}),c(),a(3,"div",175)(4,"div",176)(5,"button",177),D("click",function(){let s=k(e).$implicit,r=_(3);return E(r.viewFullImage(s.image_url))}),A(),a(6,"svg",132),w(7,"path",178)(8,"path",179),c()()()(),I(),a(9,"button",180),D("click",function(){let s=k(e).index,r=_(3);return E(r.removeExistingImage(s))}),A(),a(10,"svg",132),w(11,"path",156),c()(),I(),a(12,"div",181),m(13," Existing "),c()(),a(14,"div",182)(15,"p",183),m(16),c(),a(17,"p",127),m(18,"Existing Image"),c()()()}if(i&2){let e=t.$implicit,n=t.index;p(2),v("src",e.image_url,Se)("alt","Existing Asset Image "+(n+1)),p(14),F(e.image_path.split("/").pop())}}function B_(i,t){if(i&1){let e=H();a(0,"button",177),D("click",function(){k(e);let s=_().index,r=_(3);return E(r.moveImageUp(s))}),A(),a(1,"svg",132),w(2,"path",188),c()()}}function j_(i,t){if(i&1){let e=H();a(0,"button",177),D("click",function(){k(e);let s=_().index,r=_(3);return E(r.moveImageDown(s))}),A(),a(1,"svg",132),w(2,"path",50),c()()}}function z_(i,t){if(i&1){let e=H();a(0,"div",172)(1,"div",173)(2,"img",184),D("error",function(s){let r=k(e).index,o=_(3);return E(o.onImageError(s,o.existingImages.length+r))})("load",function(s){let r=k(e).index,o=_(3);return E(o.onImageLoad(s,o.existingImages.length+r))}),c(),a(3,"div",185)(4,"div",176),T(5,B_,3,0,"button",186)(6,j_,3,0,"button",186),c()(),a(7,"button",180),D("click",function(){let s=k(e).index,r=_(3);return E(r.removeImage(s))}),A(),a(8,"svg",132),w(9,"path",156),c()(),I(),a(10,"div",187),m(11," New "),c()(),a(12,"div",182)(13,"p",183),m(14),c(),a(15,"p",127),m(16),c()()()}if(i&2){let e,n=t.$implicit,s=t.index,r=_(3);p(2),v("src",n,Se)("alt","Asset Image "+(s+1)),p(3),v("ngIf",s>0),p(),v("ngIf",s<r.imagePreviewUrls.length-1),p(8),F(r.images[s]==null?null:r.images[s].name),p(2),W("",(((e=r.images[s]==null?null:r.images[s].size)!==null&&e!==void 0?e:0)/1024/1024).toFixed(1)," MB")}}function W_(i,t){if(i&1){let e=H();a(0,"div",163)(1,"div",164)(2,"h4",165),m(3),c(),a(4,"button",166),D("click",function(){k(e);let s=_(2);return s.removeAllImages(),E(s.removeAllExistingImages())}),m(5," Remove All "),c()(),a(6,"div",167),T(7,N_,19,3,"div",168)(8,z_,17,6,"div",168),c(),a(9,"div",169)(10,"div",95),A(),a(11,"svg",170),w(12,"path",98),c(),I(),a(13,"p",171)(14,"strong"),m(15,"Gallery Tips:"),c(),m(16," Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads. "),c()()()()}if(i&2){let e=_(2);p(3),W("Asset Images (",e.existingImages.length+e.imagePreviewUrls.length,")"),p(4),v("ngForOf",e.existingImages),p(),v("ngForOf",e.imagePreviewUrls)}}function $_(i,t){if(i&1&&(a(0,"div",189)(1,"div",95),A(),a(2,"svg",190),w(3,"path",24),c(),I(),a(4,"p",191),m(5),c()()()),i&2){let e=_(2);p(5),F(e.submitError)}}function G_(i,t){if(i&1&&(a(0,"div",192)(1,"div",95),A(),a(2,"svg",70),w(3,"path",162),c(),I(),a(4,"p",193),m(5),c()()()),i&2){let e=_(2);p(5),F(e.submitSuccess)}}function U_(i,t){i&1&&(a(0,"span",95),A(),a(1,"svg",194),w(2,"path",162),c(),I(),a(3,"span"),m(4,"Update Asset"),c()())}function Y_(i,t){i&1&&(a(0,"span",95),A(),a(1,"svg",195),w(2,"circle",18)(3,"path",19),c(),I(),a(4,"span"),m(5,"Updating Asset..."),c()())}function q_(i,t){if(i&1){let e=H();a(0,"div")(1,"form",27),D("ngSubmit",function(){k(e);let s=_();return E(s.onSubmit())}),a(2,"div",28)(3,"div",29)(4,"div",30),A(),a(5,"svg",31),w(6,"path",32),c()(),I(),a(7,"h2",33),m(8,"Basic Information"),c()(),a(9,"div",34)(10,"div")(11,"label",35),m(12," Asset Name "),a(13,"span",36),m(14,"*"),c()(),w(15,"input",37),T(16,Q1,4,1,"div",38),a(17,"div",39),m(18,"Maximum 100 characters"),c()(),a(19,"div")(20,"label",35),m(21,"Asset ID"),c(),a(22,"div",40),w(23,"input",41),a(24,"span",42),m(25," auto-generated "),c()(),a(26,"p",39),m(27,"Unique identifier automatically assigned"),c()()(),a(28,"div",43)(29,"label",35),m(30,"Parent Asset"),c(),a(31,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(32,"button",45),D("click",function(){k(e);let s=_();return E(s.showParentDropdown=!s.showParentDropdown)}),a(33,"div",46),T(34,K1,2,0,"span",47)(35,J1,2,2,"span",48),A(),a(36,"svg",49),w(37,"path",50),c()()(),T(38,e_,7,3,"div",51),c(),I(),a(39,"div",39),m(40,"Optional: Select a parent asset if this asset is a child of another."),c()(),a(41,"div",43)(42,"label",35),m(43,"Description"),c(),w(44,"textarea",52),a(45,"div",39),m(46,"Maximum 500 characters"),c()(),a(47,"div")(48,"label",53),m(49,"Health Score"),c(),a(50,"div",54)(51,"div",55)(52,"span",56),m(53,"Current Score"),c(),a(54,"span",57),m(55),c()(),a(56,"div",58),w(57,"div",59)(58,"div",60)(59,"input",61)(60,"div",62),c(),a(61,"div",63)(62,"span"),m(63,"Poor (0%)"),c(),a(64,"span"),m(65,"Fair (25%)"),c(),a(66,"span"),m(67,"Good (50%)"),c(),a(68,"span"),m(69,"Very Good (75%)"),c(),a(70,"span"),m(71,"Excellent (100%)"),c()()()()(),a(72,"div",28)(73,"div",29)(74,"div",64),A(),a(75,"svg",65),w(76,"path",66),c()(),I(),a(77,"h2",33),m(78,"Asset Classification"),c()(),a(79,"div",67)(80,"div")(81,"label",35),m(82," Asset Type "),a(83,"span",36),m(84,"*"),c()(),a(85,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(86,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleAssetTypeDropdown())}),a(87,"div",46),T(88,t_,2,0,"span",47)(89,s_,6,5,"div",68),A(),a(90,"svg",49),w(91,"path",50),c()()(),T(92,l_,5,1,"div",51),c(),T(93,c_,4,1,"div",38),c(),I(),a(94,"div")(95,"label",35),m(96," Category "),a(97,"span",36),m(98,"*"),c()(),a(99,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(100,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleCategoryDropdown())}),a(101,"div",46),T(102,d_,2,0,"span",47)(103,u_,2,1,"span",48),A(),a(104,"svg",49),w(105,"path",50),c()()(),T(106,g_,5,1,"div",51),c(),T(107,__,4,1,"div",38),c()()(),I(),a(108,"div",28)(109,"div",29)(110,"div",69),A(),a(111,"svg",70),w(112,"path",71),c()(),I(),a(113,"h2",33),m(114,"Technical Details"),c()(),a(115,"div",72)(116,"div")(117,"label",35),m(118,"Manufacturer"),c(),w(119,"input",73),a(120,"div",39),m(121,"Maximum 100 characters"),c()(),a(122,"div")(123,"label",35),m(124,"Model"),c(),w(125,"input",74),a(126,"div",39),m(127,"Maximum 100 characters"),c()(),a(128,"div")(129,"label",35),m(130," Serial Number "),a(131,"span",36),m(132,"*"),c()(),w(133,"input",75),T(134,x_,4,1,"div",38),a(135,"div",39),m(136,"Required, max 100 chars, must be unique within your company"),c()()()(),a(137,"div",28)(138,"div",29)(139,"div",76),A(),a(140,"svg",77),w(141,"path",78),c()(),I(),a(142,"h2",33),m(143,"Financial Information"),c()(),a(144,"div",34)(145,"div")(146,"label",35),m(147,"Purchase Value (USD)"),c(),a(148,"div",79)(149,"div",80)(150,"span",81),m(151,"$ "),c()(),w(152,"input",82),c(),a(153,"div",39),m(154,"Must be a non-negative number"),c()(),a(155,"div")(156,"label",35),m(157,"Purchase Date"),c(),w(158,"input",83,0),a(160,"div",39),m(161,"Cannot be in the future"),c()()(),a(162,"div",34)(163,"div")(164,"label",35),m(165,"Depreciation Rate (%)"),c(),w(166,"input",84),a(167,"div",39),m(168,"Annual depreciation rate (0-100%)"),c()(),a(169,"div")(170,"label",35),m(171,"Depreciation Life (Years)"),c(),w(172,"input",85),a(173,"div",39),m(174,"Useful life for depreciation calculation (1-100 years)"),c()()(),a(175,"div",34)(176,"div")(177,"label",35),m(178,"Warranty Information"),c(),w(179,"input",86),a(180,"div",39),m(181,"Warranty details (max 255 characters)"),c()(),a(182,"div")(183,"label",35),m(184,"Insurance Information"),c(),w(185,"input",87),a(186,"div",39),m(187,"Insurance details (max 255 characters)"),c()()()(),a(188,"div",28)(189,"div",29)(190,"div",88),A(),a(191,"svg",89),w(192,"path",90)(193,"path",91),c()(),I(),a(194,"h2",33),m(195,"Location & Assignment"),c()(),a(196,"div",67)(197,"div")(198,"label",35),m(199,"Location"),c(),a(200,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(201,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleLocationDropdown())}),a(202,"div",46),T(203,v_,2,0,"span",47)(204,b_,7,1,"div",68),A(),a(205,"svg",49),w(206,"path",50),c()()(),T(207,C_,5,1,"div",51),c()(),I(),a(208,"div")(209,"label",35),m(210,"Department ID"),c(),a(211,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(212,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleDepartmentDropdown())}),a(213,"div",46),T(214,S_,2,0,"span",47)(215,M_,6,1,"div",68),A(),a(216,"svg",49),w(217,"path",50),c()()(),T(218,D_,5,1,"div",51),c(),I(),a(219,"div",39),m(220,"Optional department assignment"),c()(),a(221,"div")(222,"label",35),m(223,"Status"),c(),a(224,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(225,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleStatusDropdown())}),a(226,"div",46),T(227,T_,4,3,"div",68),A(),a(228,"svg",49),w(229,"path",50),c()()(),T(230,P_,5,1,"div",92),c(),I(),a(231,"div",39),m(232,"Current operational status of the asset"),c()(),a(233,"div")(234,"label",35),m(235,"Tags"),c(),T(236,L_,3,1,"div",93),a(237,"div",44),D("click",function(s){return k(e),E(s.stopPropagation())}),a(238,"button",45),D("click",function(){k(e);let s=_();return E(s.toggleTagsDropdown())}),a(239,"div",46)(240,"span",94),m(241),c(),a(242,"div",95),T(243,O_,2,1,"span",96),A(),a(244,"svg",49),w(245,"path",50),c()()()(),T(246,H_,10,4,"div",51),c(),I(),a(247,"div",39),A(),a(248,"svg",97),w(249,"path",98),c(),m(250," Select existing tags or type to create new ones. Press Enter to add custom tags. "),c()()()(),I(),a(251,"div",28)(252,"div",29)(253,"div",99),A(),a(254,"svg",100),w(255,"path",101),c()(),I(),a(256,"h2",33),m(257,"Asset Image"),c()(),a(258,"div")(259,"label",35),m(260,"Upload Image"),c(),a(261,"div",102),D("click",function(){k(e);let s=_();return E(s.triggerFileInput())})("dragover",function(s){k(e);let r=_();return E(r.onDragOver(s))})("dragleave",function(s){k(e);let r=_();return E(r.onDragLeave(s))})("drop",function(s){k(e);let r=_();return E(r.onDrop(s))}),a(262,"div",103)(263,"div",104),A(),a(264,"svg",105),w(265,"path",106),c()(),I(),a(266,"p",107),m(267),c(),a(268,"input",108,1),D("change",function(s){k(e);let r=_();return E(r.onFileChange(s))}),c()()(),T(270,W_,17,3,"div",109),c()(),T(271,$_,6,1,"div",110)(272,G_,6,1,"div",111),a(273,"div",112)(274,"button",113),D("click",function(){k(e);let s=_();return E(s.goBack())}),m(275," Cancel "),c(),a(276,"button",114),T(277,U_,5,0,"span",115)(278,Y_,6,0,"span",115),c()()()()}if(i&2){let e,n,s,r,o,l,d,u,h,f,x,g=_();p(),v("formGroup",g.assetForm),p(14),z("border-red-300",g.nameError),p(),v("ngIf",g.nameError),p(7),v("value",(g.asset==null?null:g.asset.asset_id)||(g.asset==null?null:g.asset.id)),p(9),z("border-blue-500",g.showParentDropdown),p(2),v("ngIf",!((e=g.assetForm.get("parent_id"))!=null&&e.value)),p(),v("ngIf",((n=g.assetForm.get("parent_id"))==null?null:n.value)&&g.getSelectedParent()),p(),z("rotate-180",g.showParentDropdown),p(2),v("ngIf",g.showParentDropdown),p(16),z("text-red-600",(((s=g.assetForm.get("health_score"))==null?null:s.value)||85)<50)("text-green-600",(((r=g.assetForm.get("health_score"))==null?null:r.value)||85)>=50),p(),W("",((o=g.assetForm.get("health_score"))==null?null:o.value)||85,"%"),p(3),Ee("width",((l=g.assetForm.get("health_score"))==null?null:l.value)||85,"%"),z("bg-red-500",(((d=g.assetForm.get("health_score"))==null?null:d.value)||85)<50)("bg-green-500",(((u=g.assetForm.get("health_score"))==null?null:u.value)||85)>=50),p(2),Ee("left",((h=g.assetForm.get("health_score"))==null?null:h.value)||85,"%"),z("bg-red-500",(((f=g.assetForm.get("health_score"))==null?null:f.value)||85)<50)("bg-green-500",(((x=g.assetForm.get("health_score"))==null?null:x.value)||85)>=50),p(26),z("border-red-300",g.assetTypeError)("border-blue-500",g.showAssetTypeDropdown),p(2),v("ngIf",!g.selectedAssetType),p(),v("ngIf",g.selectedAssetType),p(),z("rotate-180",g.showAssetTypeDropdown),p(2),v("ngIf",g.showAssetTypeDropdown),p(),v("ngIf",g.assetTypeError),p(7),z("border-red-300",g.categoryError)("border-blue-500",g.showCategoryDropdown),p(2),v("ngIf",!g.selectedCategory),p(),v("ngIf",g.selectedCategory),p(),z("rotate-180",g.showCategoryDropdown),p(2),v("ngIf",g.showCategoryDropdown),p(),v("ngIf",g.categoryError),p(26),z("border-red-300",g.serialNumberError),p(),v("ngIf",g.serialNumberError),p(67),z("border-blue-500",g.showLocationDropdown),p(2),v("ngIf",!g.selectedLocation),p(),v("ngIf",g.selectedLocation),p(),z("rotate-180",g.showLocationDropdown),p(2),v("ngIf",g.showLocationDropdown),p(5),z("border-blue-500",g.showDepartmentDropdown),p(2),v("ngIf",!g.selectedDepartment),p(),v("ngIf",g.selectedDepartment),p(),z("rotate-180",g.showDepartmentDropdown),p(2),v("ngIf",g.showDepartmentDropdown),p(7),z("border-blue-500",g.showStatusDropdown),p(2),v("ngIf",g.selectedStatus),p(),z("rotate-180",g.showStatusDropdown),p(2),v("ngIf",g.showStatusDropdown),p(6),v("ngIf",g.selectedTags.length>0),p(2),z("border-blue-500",g.showTagsDropdown),p(3),W(" ",g.selectedTags.length===0?"Select tags":"Add more tags"," "),p(2),v("ngIf",g.selectedTags.length>0),p(),z("rotate-180",g.showTagsDropdown),p(2),v("ngIf",g.showTagsDropdown),p(15),z("border-gray-300",!g.isDragOver)("border-blue-500",g.isDragOver)("bg-blue-50",g.isDragOver)("hover:border-blue-400",!g.isDragOver),p(3),z("text-gray-400",!g.isDragOver)("text-blue-500",g.isDragOver),p(2),z("text-gray-500",!g.isDragOver)("text-blue-600",g.isDragOver),p(),W(" ",g.isDragOver?"Release to upload images":"PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here"," "),p(3),v("ngIf",g.existingImages.length>0||g.imagePreviewUrls.length>0),p(),v("ngIf",g.submitError),p(),v("ngIf",g.submitSuccess),p(2),v("disabled",g.saving),p(2),v("disabled",g.saving||!g.isFormValid()),p(),v("ngIf",!g.saving),p(),v("ngIf",g.saving)}}var Gi=class i{constructor(t,e,n,s,r){this.fb=t;this.route=e;this.router=n;this.assetService=s;this.angularLocation=r;this.assetForm=this.fb.group({name:["",[pt.required,pt.minLength(2)]],description:[""],serial_number:["",[pt.required,pt.minLength(3)]],model:[""],manufacturer:[""],purchase_date:[""],purchase_price:[null],depreciation:[null],depreciation_life:[null],location_id:[null],department_id:[null],parent_id:[null],warranty:[""],insurance:[""],health_score:[85,[pt.min(0),pt.max(100)]],status:[null],type:[null,pt.required],category_id:[null,pt.required],tags:[[]]})}destroy$=new $t;dateInputs;fileInput;flatpickrInstances=[];asset=null;assetForm;loading=!0;saving=!1;error="";successMessage="";categories=[];locations=[];departments=[];availableTags=[];statusOptionsFromAPI=[];showAssetTypeDropdown=!1;showCategoryDropdown=!1;showLocationDropdown=!1;showStatusDropdown=!1;showTagsDropdown=!1;showDepartmentDropdown=!1;showParentDropdown=!1;selectedAssetType=null;selectedCategory=null;selectedLocation=null;selectedStatus=null;selectedDepartment=null;selectedTags=[];newTagInput="";assetTypes=[];assetTypesFromAPI=[];statusOptions=[{value:1,label:"Active",color:"green",description:"Asset is operational and in use",sort_order:1},{value:2,label:"Maintenance",color:"orange",description:"Asset is under maintenance or repair",sort_order:2},{value:3,label:"Inactive",color:"gray",description:"Asset is not currently in use",sort_order:3},{value:4,label:"Retired",color:"red",description:"Asset is retired and no longer in service",sort_order:4}];previewImage=null;selectedFile=null;images=[];imagePreviewUrls=[];existingImages=[];removedImageIds=[];isDragOver=!1;nameError="";assetTypeError="";categoryError="";serialNumberError="";submitError="";submitSuccess="";possibleParents=[];ngOnInit(){this.route.params.pipe(ce(this.destroy$)).subscribe(t=>{let e=t.id;e&&(this.loadAsset(e),this.assetService.getPossibleParents(e).subscribe(n=>{n.success&&n.data?.possible_parents&&(this.possibleParents=n.data.possible_parents)}))}),this.loadAssetTypes(),this.loadCategories(),this.loadLocations(),this.loadDepartments(),this.loadAvailableTags(),this.loadAssetStatuses()}ngAfterViewInit(){setTimeout(()=>{this.initializeFlatpickr()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.flatpickrInstances.forEach(t=>{t&&t.destroy()})}initializeFlatpickr(){this.flatpickrInstances.forEach(t=>{t&&t.destroy()}),this.flatpickrInstances=[],setTimeout(()=>{this.dateInputs&&this.dateInputs.forEach((t,e)=>{if(t?.nativeElement){let n=t.nativeElement,s=n.getAttribute("formControlName");if(console.log("Processing date input:",s),s==="purchase_date"){console.log("Initializing Flatpickr for purchase_date");let r={dateFormat:"d M, Y",allowInput:!0,clickOpens:!0,maxDate:"today",defaultDate:null,onChange:(d,u)=>{console.log("Date selected:",u),this.assetForm.get("purchase_date")?.setValue(u)}},o=this.assetForm.get("purchase_date")?.value;o&&(r.defaultDate=this.convertDisplayDateToDate(o));let l=qt(n,r);this.flatpickrInstances.push(l),console.log("Flatpickr initialized successfully for purchase_date")}}})},50)}loadAsset(t){this.loading=!0,this.error="",this.assetService.getAsset(t).pipe(ce(this.destroy$)).subscribe({next:e=>{e.success?(this.asset=e.data.asset||e.data,this.populateForm()):this.error=e.message||"Failed to load asset",this.loading=!1},error:e=>{this.error=e.error?.message||"An error occurred while loading the asset",this.loading=!1}})}populateForm(){if(this.asset){let t=this.asset.purchase_date?this.convertBackendDateToDisplay(this.asset.purchase_date):"",e=this.asset.warranty?this.convertBackendDateToDisplay(this.asset.warranty):"";this.assetForm.patchValue({name:this.asset.name||"",description:this.asset.description||"",serial_number:this.asset.serial_number||"",model:this.asset.model||"",manufacturer:this.asset.manufacturer||"",purchase_date:t,purchase_price:this.asset.purchase_price||null,depreciation:this.asset.depreciation||null,depreciation_life:this.asset.depreciation_life||null,location_id:this.asset.location_id||null,department_id:this.asset.department_id||null,warranty:e,insurance:this.asset.insurance||"",health_score:this.asset.health_score||85,status:this.asset.status||null,type:this.asset.type||"",category_id:this.asset.category_id||null,tags:this.asset.tags||[],parent_id:this.asset.parent_id||null}),this.asset.images&&Array.isArray(this.asset.images)&&(this.existingImages=this.asset.images),setTimeout(()=>{this.selectedAssetType=this.assetTypes.find(n=>n.id==this.asset.type)||null,this.selectedCategory=this.categories.find(n=>n.id===this.asset.category_id)||null,this.selectedLocation=this.locations.find(n=>n.id===this.asset.location_id)||null,this.selectedDepartment=this.departments.find(n=>n.id===this.asset.department_id)||null,this.selectedStatus=this.statusOptions.find(n=>n.value===this.asset.status||n.label===this.asset.status||n.id===this.asset.status)||null,this.selectedStatus&&this.assetForm.patchValue({status:this.selectedStatus.value}),this.asset.tags&&Array.isArray(this.asset.tags)&&(this.selectedTags=this.asset.tags.map(n=>this.availableTags.find(s=>s.id===n.id)||n)),this.assetForm.markAllAsTouched(),this.assetForm.updateValueAndValidity(),setTimeout(()=>{this.initializeFlatpickr()},100)},100)}}loadAssetTypes(){this.assetService.getAssetTypes().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.assetTypesFromAPI=t.data,this.assetTypes=this.assetTypesFromAPI.map(e=>({id:e.id,name:e.name,label:e.name,value:e.name,icon:e.icon,color:this.getColorForType(e.name),description:`${e.name} asset type`,iconError:!1})),this.asset&&this.populateForm())},error:t=>{console.error("Error loading asset types:",t)}})}loadCategories(){this.assetService.getAssetCategories().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&t.data?.categories&&(this.categories=t.data.categories,this.asset&&this.populateForm())},error:t=>{console.error("Error loading categories:",t)}})}loadLocations(){this.assetService.getLocations().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data,this.asset&&this.populateForm())},error:t=>{console.error("Error loading locations:",t)}})}loadDepartments(){this.assetService.getDepartments().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.departments=t.data,this.asset&&this.populateForm())},error:t=>{console.error("Error loading departments:",t)}})}loadAvailableTags(){this.availableTags=[{id:1,name:"Critical",color:"red"},{id:2,name:"High Priority",color:"orange"},{id:3,name:"Equipment",color:"blue"},{id:4,name:"IT Hardware",color:"purple"},{id:5,name:"Furniture",color:"green"},{id:6,name:"Vehicle",color:"yellow"},{id:7,name:"Safety Equipment",color:"red"},{id:8,name:"Office Supplies",color:"gray"}]}loadAssetStatuses(){this.assetService.getAssetStatuses().pipe(ce(this.destroy$)).subscribe({next:t=>{t.success&&t.data&&(this.statusOptionsFromAPI=t.data,this.statusOptions=this.statusOptionsFromAPI.map(e=>({id:e.id,value:e.id,label:e.name,color:this.hexToTailwindColor(e.color),description:e.description||`Asset is ${e.name.toLowerCase()}`,hexColor:e.color,sort_order:e.sort_order})),this.statusOptions.sort((e,n)=>e.sort_order-n.sort_order),this.asset&&this.populateForm())},error:t=>{console.error("Error loading asset statuses:",t)}})}hexToTailwindColor(t){return{"#10B981":"green","#F59E0B":"orange","#9CA3AF":"gray","#EF4444":"red","#6B7280":"gray","#22C55E":"green","#3B82F6":"blue","#8B5CF6":"purple","#F97316":"orange"}[t.toUpperCase()]||"gray"}getColorForType(t){return{"Fixed Asset":"#2563eb","Semi-Fixed Asset":"#22c55e","Mobile Asset":"#f59e42","Fleet Asset":"#a855f7","IT Equipment":"#3b82f6",Furniture:"#10b981",Vehicle:"#f59e0b",Machinery:"#ef4444",Electronics:"#8b5cf6",Tools:"#f97316"}[t]||"#6b7280"}onAssetTypeIconError(t,e){console.warn("Asset type icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}toggleAssetTypeDropdown(){this.showAssetTypeDropdown=!this.showAssetTypeDropdown,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showAssetTypeDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}toggleTagsDropdown(){this.showTagsDropdown=!this.showTagsDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showDepartmentDropdown=!1}toggleDepartmentDropdown(){this.showDepartmentDropdown=!this.showDepartmentDropdown,this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1}selectAssetType(t){this.selectedAssetType=t,this.assetForm.patchValue({type:t.id}),this.showAssetTypeDropdown=!1,this.clearErrors()}selectCategory(t){this.selectedCategory=t,this.assetForm.patchValue({category_id:t.id}),this.showCategoryDropdown=!1,this.clearErrors()}selectLocation(t){this.selectedLocation=t,this.assetForm.patchValue({location_id:t.id}),this.showLocationDropdown=!1}selectStatus(t){this.selectedStatus=t,this.assetForm.patchValue({status:t.value}),this.showStatusDropdown=!1}selectDepartment(t){this.selectedDepartment=t,this.assetForm.patchValue({department_id:t.id}),this.showDepartmentDropdown=!1}toggleTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1?this.selectedTags.splice(e,1):this.selectedTags.push(t)}isTagSelected(t){return this.selectedTags.some(e=>e.id===t.id)}onTagInputKeydown(t){t.key==="Enter"&&(t.preventDefault(),this.createNewTag())}createNewTag(){let t=this.newTagInput.trim();if(t&&!this.selectedTags.some(e=>e.name.toLowerCase()===t.toLowerCase())){let e=["red","blue","green","yellow","purple","pink","indigo","gray"],n=e[Math.floor(Math.random()*e.length)],s={id:Date.now(),name:t,color:n,isNew:!0};this.selectedTags.push(s),this.newTagInput=""}}removeTag(t){let e=this.selectedTags.findIndex(n=>n.id===t.id);e>-1&&this.selectedTags.splice(e,1)}onFileChange(t){if(t.target.files&&t.target.files.length){let e=Array.from(t.target.files);this.processFiles(e),t.target.value=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=Array.from(e).filter(s=>s.type.startsWith("image/"));n.length>0&&this.processFiles(n)}}processFiles(t){let n=["image/jpeg","image/png","image/gif","image/webp"],s=[];for(let r of t){if(!n.includes(r.type)){console.warn("Invalid file type:",r.name);continue}if(r.size>10*1024*1024){console.warn("File too large:",r.name);continue}if(this.images.some(d=>d.name===r.name&&d.size===r.size)){console.warn("Duplicate file skipped:",r.name);continue}if(this.images.length+s.length>=10){console.warn("Max image count exceeded:",r.name);break}s.push(r);let l=new FileReader;l.onload=d=>{d.target?.result&&this.imagePreviewUrls.push(d.target.result)},l.onerror=d=>{console.error("Preview failed for:",r.name,d)},l.readAsDataURL(r)}this.images=[...this.images,...s]}removeImage(t){this.images.splice(t,1),this.imagePreviewUrls.splice(t,1)}removeAllImages(){this.images=[],this.imagePreviewUrls=[]}removeExistingImage(t){let e=this.existingImages[t];e&&e.id&&this.removedImageIds.push(e.id),this.existingImages.splice(t,1)}removeAllExistingImages(){this.existingImages.forEach(t=>{t&&t.id&&this.removedImageIds.push(t.id)}),this.existingImages=[]}moveImage(t,e){if(e>=0&&e<this.images.length){let n=this.images.splice(t,1)[0];this.images.splice(e,0,n);let s=this.imagePreviewUrls.splice(t,1)[0];this.imagePreviewUrls.splice(e,0,s)}}moveImageUp(t){t>0&&this.moveImage(t,t-1)}moveImageDown(t){t<this.images.length-1&&this.moveImage(t,t+1)}triggerFileInput(){this.fileInput.nativeElement.click()}onImageError(t,e){console.warn("Image failed to load at index:",e),t.target.onerror=null,t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="}onImageLoad(t,e){console.log("Image loaded successfully at index:",e)}viewFullImage(t){window.open(t,"_blank")}convertImagesToBase64(){return Promise.all(this.images.map(t=>new Promise((e,n)=>{let s=new FileReader;s.onload=()=>{s.result?e(s.result):n(new Error("Failed to read file"))},s.onerror=()=>n(s.error),s.readAsDataURL(t)})))}onCategoryIconError(t,e){console.warn("Category icon failed to load:",e.name,e.icon),e.iconError=!0,t.target.style.display="none"}validateForm(){let t=!0;this.clearErrors(),!this.assetForm.get("name")?.value||this.assetForm.get("name")?.value.trim().length===0?(this.nameError="Asset name is required",t=!1):this.assetForm.get("name")?.value.trim().length>100&&(this.nameError="Asset name cannot exceed 100 characters",t=!1),this.selectedAssetType||(this.assetTypeError="Asset type is required",t=!1),this.selectedCategory||(this.categoryError="Category is required",t=!1);let e=this.assetForm.get("serial_number")?.value;return e&&e.trim().length===0?(this.serialNumberError="Serial number cannot be empty if provided",t=!1):e&&e.length>255&&(this.serialNumberError="Serial number cannot exceed 255 characters",t=!1),t}clearErrors(){this.nameError="",this.assetTypeError="",this.categoryError="",this.serialNumberError="",this.submitError="",this.submitSuccess=""}onSubmit(){!this.validateForm()||this.saving||!this.asset||this.assetForm.valid&&!this.saving&&this.asset&&(this.saving=!0,this.error="",this.successMessage="",this.submitError="",this.submitSuccess="",this.convertImagesToBase64().then(t=>{let e=this.assetForm.value;e.tags=this.selectedTags.map(n=>n.name),e.purchase_date&&(e.purchase_date=this.convertDateToBackendFormat(e.purchase_date)),e.warranty&&(e.warranty=this.convertDateToBackendFormat(e.warranty)),e.images=t,e.existing_images=this.existingImages.map(n=>n.id||n.image_url),this.removedImageIds.length>0&&(e.remove_image_ids=this.removedImageIds),this.assetService.updateAsset(this.asset.id,e).pipe(ce(this.destroy$)).subscribe({next:n=>{n.success?(this.submitSuccess="Asset updated successfully!",setTimeout(()=>{this.router.navigate(["/assets/preview",this.asset.id])},2e3)):this.submitError=n.message||"Failed to update asset",this.saving=!1},error:n=>{this.submitError=n.error?.message||"An error occurred while updating the asset",this.saving=!1}})}).catch(t=>{this.saving=!1,this.submitError="Failed to process images. Please try again.",console.error("Image conversion error:",t)}))}goBack(){this.angularLocation.back()}onDocumentClick(t){this.showAssetTypeDropdown=!1,this.showCategoryDropdown=!1,this.showLocationDropdown=!1,this.showStatusDropdown=!1,this.showTagsDropdown=!1,this.showDepartmentDropdown=!1}isFormValid(){return this.assetForm.valid&&this.selectedAssetType!==null&&this.selectedCategory!==null&&!this.nameError&&!this.assetTypeError&&!this.categoryError&&!this.serialNumberError}getSelectedParent(){return this.possibleParents.find(t=>t.id===this.assetForm.get("parent_id")?.value)}convertDateToBackendFormat(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${r}`}catch(e){return console.error("Date conversion error:",e),t}}convertBackendDateToDisplay(t){if(!t)return"";try{let e=new Date(t);if(isNaN(e.getTime()))return t;let n={day:"2-digit",month:"short",year:"numeric"};return e.toLocaleDateString("en-GB",n).replace(/,/g,",")}catch(e){return console.error("Date conversion error:",e),t}}convertDisplayDateToDate(t){if(!t)return null;try{let e=new Date(t);return isNaN(e.getTime())?null:e}catch(e){return console.error("Date conversion error:",e),null}}static \u0275fac=function(e){return new(e||i)(ue(Gn),ue(Ci),ue(yt),ue(at),ue(Pn))};static \u0275cmp=Fe({type:i,selectors:[["app-asset-edit"]],viewQuery:function(e,n){if(e&1&&(_t(G1,5),_t(U1,5)),e&2){let s;xt(s=vt())&&(n.fileInput=s.first),xt(s=vt())&&(n.dateInputs=s)}},hostBindings:function(e,n){e&1&&D("click",function(r){return n.onDocumentClick(r)},!1,wi)},decls:16,vars:3,consts:[["dateInput",""],["fileInput",""],[1,"min-h-screen","bg-gray-50","p-6"],[1,"asset-edit-page"],[1,"mb-8"],[1,"flex","items-center","space-x-4","mb-4"],["type","button",1,"flex","items-center","space-x-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","flex items-center justify-center py-20",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","rounded-full","mb-4"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-8","h-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","text-gray-500","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[3,"ngSubmit","formGroup"],[1,"section-card"],[1,"flex","items-center","space-x-3","mb-6"],[1,"w-10","h-10","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"section-title"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","placeholder","e.g., Main Server Room AC Unit","formControlName","name",1,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","space-x-3"],["type","text","readonly","",1,"input","flex-1",3,"value"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"mb-6"],[1,"relative",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all",3,"click"],[1,"flex","items-center","justify-between"],["class","text-gray-400",4,"ngIf"],["class","text-gray-900",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["rows","3","placeholder","Brief description of the asset and its purpose...","formControlName","description","maxlength","500",1,"input","resize-none"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"relative","w-full","h-6","mb-3"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-2","bg-gray-200","rounded-lg"],[1,"absolute","top-1/2","transform","-translate-y-1/2","h-2","rounded-lg","transition-all","duration-300"],["type","range","min","0","max","100","formControlName","health_score",1,"absolute","top-1/2","transform","-translate-y-1/2","w-full","h-6","bg-transparent","appearance-none","cursor-pointer","slider-input"],[1,"absolute","top-1/2","transform","-translate-y-1/2","w-4","h-4","rounded-full","border-2","border-white","shadow-md","pointer-events-none","transition-all","duration-300",2,"margin-left","-8px"],[1,"flex","justify-between","text-xs","text-gray-500","mt-2"],[1,"w-10","h-10","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","flex items-center space-x-3",4,"ngIf"],[1,"w-10","h-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["type","text","placeholder","e.g., Dell, HP, Toyota","formControlName","manufacturer","maxlength","100",1,"input"],["type","text","placeholder","e.g., PowerEdge R730","formControlName","model","maxlength","100",1,"input"],["type","text","placeholder","e.g., SN123456789","formControlName","serial_number","required","","maxlength","100",1,"input"],[1,"w-10","h-10","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","placeholder","5,000.00","formControlName","purchase_price","step","0.01","min","0",1,"input",2,"padding-left","24px"],["type","text","formControlName","purchase_date","placeholder","Select purchase date","readonly","",1,"input"],["type","number","formControlName","depreciation","placeholder","e.g., 20","min","0","max","100","step","0.01",1,"input"],["type","number","formControlName","depreciation_life","placeholder","e.g., 5","min","1","max","100",1,"input"],["type","text","formControlName","warranty","placeholder","e.g., 2 years manufacturer warranty","maxlength","255",1,"input"],["type","text","formControlName","insurance","placeholder","e.g., Policy #12345, expires 2025-12-31","maxlength","255",1,"input"],[1,"w-10","h-10","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"text-gray-400"],[1,"flex","items-center","space-x-2"],["class","text-sm text-gray-500",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","bg-pink-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-pink-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mt-1","flex","justify-center","px-6","pt-8","pb-8","border-2","border-dashed","rounded-lg","transition-all","duration-200",3,"click","dragover","dragleave","drop"],[1,"space-y-1","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-lg","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","transition-colors"],["id","file-upload","name","file-upload","type","file","accept","image/*","multiple","",1,"sr-only",3,"change"],["class","mt-6",4,"ngIf"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],["class","mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[1,"flex","items-center","justify-between","pt-6","border-t","border-gray-200"],["type","button",1,"px-6","py-3","border","border-gray-300","rounded-lg","text-gray-700","font-medium","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["type","submit",1,"px-8","py-3","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm",3,"disabled"],["class","flex items-center space-x-2",4,"ngIf"],[1,"text-red-600","text-sm","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],[1,"text-gray-900"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","max-h-60","overflow-auto"],[1,"py-1"],[1,"px-3","py-2","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","bg-gray-50"],["type","button",1,"w-full","px-3","py-3","text-left","hover:bg-blue-50","focus:bg-blue-50","focus:outline-none","transition-colors",3,"click"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","bg-gray-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"w-6","h-6","rounded","flex","items-center","justify-center"],["class","w-4 h-4",3,"src","alt","error",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"color",4,"ngIf"],[1,"w-4","h-4",3,"error","src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["type","button","class","w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors",3,"bg-blue-50","text-blue-700","click",4,"ngFor","ngForOf"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-blue-100"],["class","w-5 h-5",3,"src","alt","error",4,"ngIf"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-5","h-5",3,"error","src","alt"],["class","w-5 h-5 text-gray-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"w-6","h-6","bg-indigo-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-600"],[1,"w-8","h-8","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],[1,"w-6","h-6","bg-purple-100","rounded","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"w-8","h-8","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-xs","text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"absolute","z-50","w-full","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg"],[1,"mb-3"],[1,"flex","flex-wrap","gap-2"],[3,"class",4,"ngFor","ngForOf"],["type","button",1,"ml-2","inline-flex","items-center","justify-center","w-4","h-4","rounded-full","hover:bg-black","hover:bg-opacity-20","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-3","py-2","border-b","border-gray-100"],["type","text","placeholder","Type to create new tag...",1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","keydown","click","ngModel","ngModelOptions"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","text-xs","text-gray-400"],["class","text-blue-600",4,"ngIf"],[1,"text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-700"],["type","button",1,"text-red-600","hover:text-red-700","text-sm","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],["class","relative group",4,"ngFor","ngForOf"],[1,"mt-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"text-blue-800","text-sm"],[1,"relative","group"],[1,"relative","aspect-square","bg-gray-100","rounded-lg","overflow-hidden","border","border-gray-200","hover:border-blue-300","transition-colors"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","src","alt"],[1,"absolute","inset-0","bg-black","opacity-0","group-hover:opacity-50","transition-all","duration-200","flex","items-center","justify-center"],[1,"opacity-0","group-hover:opacity-100","transition-opacity","duration-200","flex","items-center","space-x-2"],["type","button",1,"w-8","h-8","bg-white","bg-opacity-90","text-gray-700","rounded-full","flex","items-center","justify-center","hover:bg-opacity-100","transition-all","shadow-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["type","button",1,"absolute","top-2","right-2","w-6","h-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-sm",3,"click"],[1,"absolute","top-2","left-2","px-2","py-1","bg-green-600","text-white","rounded","text-xs","font-medium"],[1,"mt-2","text-center"],[1,"text-xs","text-gray-600","truncate"],["loading","lazy",1,"w-full","h-full","object-cover","bg-white",3,"error","load","src","alt"],[1,"absolute","inset-0","bg-black","opacity-50","group-hover:bg-opacity-20","transition-all","duration-200","flex","items-center","justify-center"],["type","button","class","w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm",3,"click",4,"ngIf"],[1,"absolute","top-2","left-2","px-2","py-1","bg-blue-600","text-white","rounded","text-xs","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600"],[1,"text-red-800","font-medium"],[1,"mb-6","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-green-800","font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"]],template:function(e,n){e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),D("click",function(){return n.goBack()}),A(),a(5,"svg",7),w(6,"path",8),c(),I(),a(7,"span",9),m(8,"Back to Assets"),c()()(),a(9,"h1",10),m(10,"Edit Asset"),c(),a(11,"p",11),m(12," Update asset information and specifications "),c()(),T(13,q1,10,0,"div",12)(14,X1,11,1,"div",12)(15,q_,279,104,"div",13),c()()),e&2&&(p(13),v("ngIf",n.loading),p(),v("ngIf",n.error&&!n.loading),p(),v("ngIf",!n.loading&&!n.error))},dependencies:[Xe,bt,He,Un,Ut,Qe,Hn,Nn,Ke,Gt,Si,$n,Wn,zn,Bn,jn,Je,ot,Tt],styles:[".asset-edit-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;border:1px solid #e5e7eb;padding:2rem;margin-bottom:1.5rem;transition:all .2s ease-in-out}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#1f2937}.input[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border:1px solid #d1d5db;padding:.75rem .875rem;font-size:1rem;background:#fff;transition:all .2s ease-in-out}.input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fff}.input.border-red-300[_ngcontent-%COMP%]{border-color:#fca5a5;box-shadow:0 0 0 3px #ef44441a}@media (max-width: 768px){.asset-create-page[_ngcontent-%COMP%]{padding:1rem}.section-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.grid-cols-2[_ngcontent-%COMP%], .grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#eff6ff}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}[_nghost-%COMP%]     .flatpickr-calendar{border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border:1px solid #e5e7eb;font-family:inherit}[_nghost-%COMP%]     .flatpickr-day{border-radius:.375rem}[_nghost-%COMP%]     .flatpickr-day:hover{background-color:#eff6ff;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.selected{background-color:#3b82f6;border-color:#3b82f6}[_nghost-%COMP%]     .flatpickr-day.today{border-color:#3b82f6;color:#3b82f6;font-weight:600}[_nghost-%COMP%]     .flatpickr-months{background-color:#f8fafc;border-radius:.5rem .5rem 0 0}[_nghost-%COMP%]     .flatpickr-current-month{color:#1f2937;font-weight:600}[_nghost-%COMP%]     .flatpickr-weekday{color:#6b7280;font-weight:500}[_nghost-%COMP%]     .flatpickr-input{cursor:pointer}[_nghost-%COMP%]     .flatpickr-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.slider-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background:transparent;outline:none;z-index:20}.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;position:relative;z-index:30}.slider-input[_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:transparent;border:2px solid transparent;cursor:pointer;box-shadow:none}.slider-input[_ngcontent-%COMP%]:focus{outline:none}"]})};function X_(i,t){if(i&1&&(a(0,"div",20)(1,"div",12),A(),a(2,"svg",21),w(3,"path",22),c(),I(),a(4,"span",23),m(5),c()()()),i&2){let e=_();p(5),F(e.errorMessage)}}function Q_(i,t){if(i&1){let e=H();a(0,"div")(1,"p",35),m(2,"Choose Excel File"),c(),a(3,"p",36),m(4,"or drag and drop your file here"),c(),a(5,"button",37),D("click",function(){k(e);let s=Tn(8);return E(s.click())}),m(6," Browse Files "),c(),a(7,"input",38,0),D("change",function(s){k(e);let r=_(2);return E(r.parseFile(s))}),c()()}}function K_(i,t){if(i&1&&(a(0,"div",32)(1,"div",39),A(),a(2,"svg",40),w(3,"path",41),c()(),I(),a(4,"p",42),m(5,"File Uploaded Successfully!"),c(),a(6,"p",43),m(7),c()()),i&2){let e=_(2);p(7),F(e.uploadedFile==null?null:e.uploadedFile.name)}}function J_(i,t){if(i&1&&(a(0,"div")(1,"div",24)(2,"div",25),A(),a(3,"svg",26),w(4,"path",27),c(),T(5,Q_,9,0,"div",19)(6,K_,8,1,"div",28),c()(),I(),a(7,"div",29)(8,"h3",30),m(9,"File Requirements:"),c(),a(10,"ul",31)(11,"li"),m(12,"\u2022 Excel files only (.xlsx, .xls)"),c(),a(13,"li"),m(14,"\u2022 First row should contain column headers"),c(),a(15,"li"),m(16,"\u2022 Maximum file size: 10MB"),c(),a(17,"li"),m(18,"\u2022 Required columns: Asset Name, Location, Category"),c()()(),a(19,"div",32)(20,"p",33),m(21," Need a template? Download our sample Excel file: "),c(),a(22,"a",34),m(23," Download Excel Template "),c()()()),i&2){let e=_();p(5),v("ngIf",!e.uploaded),p(),v("ngIf",e.uploaded)}}function Z_(i,t){if(i&1&&(a(0,"div",51)(1,"span",52),m(2,"Modified:"),c(),a(3,"span",54),m(4),qe(5,"date"),c()()),i&2){let e=_(2);p(4),F(li(5,1,e.uploadedFile==null?null:e.uploadedFile.lastModified,"medium"))}}function e2(i,t){if(i&1&&(a(0,"div",61)(1,"h4",62),m(2,"File Analysis:"),c(),a(3,"div",63)(4,"div"),m(5),c(),a(6,"div"),m(7),c(),a(8,"div"),m(9),c()()()),i&2){let e=_(2);p(5),W("Total rows: ",e.importResults.file_stats.total_rows_processed,""),p(2),W("Valid assets: ",e.importResults.file_stats.valid_assets_found,""),p(2),W("Skipped rows: ",e.importResults.file_stats.skipped_rows,"")}}function t2(i,t){i&1&&(A(),a(0,"svg",64),w(1,"circle",65)(2,"path",66),c())}function i2(i,t){if(i&1){let e=H();a(0,"div")(1,"div",32)(2,"div",44),A(),a(3,"svg",45),w(4,"path",46),c()(),I(),a(5,"h2",47),m(6,"Ready to Import"),c(),a(7,"p",48),m(8,"Your file has been validated and is ready for import."),c(),a(9,"div",49)(10,"div",50)(11,"div",51)(12,"span",52),m(13,"File:"),c(),a(14,"span",53),m(15),c()(),a(16,"div",51)(17,"span",52),m(18,"Size:"),c(),a(19,"span",54),m(20),c()(),T(21,Z_,6,4,"div",55),c(),T(22,e2,10,3,"div",56),c(),a(23,"div",57)(24,"button",58),D("click",function(){k(e);let s=_();return E(s.resetImport())}),m(25," Choose Different File "),c(),a(26,"button",59),D("click",function(){k(e);let s=_();return E(s.startBulkImport())}),T(27,t2,3,0,"svg",60),m(28),c()()()()}if(i&2){let e=_();p(15),F(e.uploadedFile==null?null:e.uploadedFile.name),p(5),W("",e.uploadedFile!=null&&e.uploadedFile.size?(e.uploadedFile.size/1024/1024).toFixed(2):"0"," MB"),p(),v("ngIf",e.uploadedFile==null?null:e.uploadedFile.lastModified),p(),v("ngIf",e.importResults==null?null:e.importResults.file_stats),p(4),v("disabled",e.importLoading),p(),v("ngIf",e.importLoading),p(),W(" ",e.importLoading?"Starting Import...":"Start Import"," ")}}var Ui=class i{constructor(t,e,n){this.assetService=t;this.router=e;this.importProgressService=n}importComplete=new mt;destroy$=new $t;currentStep=1;totalSteps=2;uploadedFile=null;uploaded=!1;importLoading=!1;isImportComplete=!1;importedCount=0;importResults=null;showResults=!1;errorMessage="";showError=!1;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}parseFile(t){let e=t.target.files[0];if(this.clearError(),!e){this.errorMessage="No file selected",this.showError=!0;return}let n=e.name.split(".").pop()?.toLowerCase();if(!n||!["xlsx","xls"].includes(n)){this.errorMessage="Please upload a valid Excel file (.xlsx, .xls).",this.showError=!0;return}this.uploadedFile=e,this.uploaded=!0,this.currentStep=2}clearError(){this.errorMessage="",this.showError=!1}startBulkImport(){if(!this.uploadedFile){this.errorMessage="No file selected for import",this.showError=!0;return}this.importLoading=!0,this.clearError(),this.assetService.importBulkExcel(this.uploadedFile).subscribe({next:t=>{this.importLoading=!1,t&&t.success&&t.data?.job_id?this.importProgressService.startImport(t.data.job_id,t.data):(this.errorMessage=t.message||"Invalid response from server",this.showError=!0)},error:t=>{this.importLoading=!1,this.errorMessage=t.error?.message||"Error starting import process",this.showError=!0}})}resetImport(){this.currentStep=1,this.uploadedFile=null,this.uploaded=!1,this.importLoading=!1,this.clearError()}closeAllDropdowns(){}static \u0275fac=function(e){return new(e||i)(ue(at),ue(yt),ue(Wo))};static \u0275cmp=Fe({type:i,selectors:[["app-smart-import"]],outputs:{importComplete:"importComplete"},decls:29,vars:17,consts:[["fileInput",""],[1,"min-h-screen","bg-gray-50","py-8"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-8","mb-8"],[1,"flex","justify-between","items-start","mb-6"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","text-base"],["routerLink","/assets/list",1,"bg-gray-100","hover:bg-gray-200","text-gray-700","font-semibold","px-4","py-2","rounded-lg","transition-colors","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","items-center","justify-center","mb-8"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-semibold"],[1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"w-16","h-1","bg-gray-300","rounded"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-semibold"],[1,"ml-2","text-sm","font-medium"],["class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6",4,"ngIf"],[4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-700","text-sm","font-medium"],[1,"border-2","border-dashed","border-gray-300","rounded-xl","p-12","text-center","hover:border-gray-400","transition-colors"],[1,"max-w-md","mx-auto"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["class","text-center",4,"ngIf"],[1,"mt-8","bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],[1,"text-center"],[1,"text-gray-600","text-sm","mb-4"],["href","/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx","download","",1,"text-blue-600","hover:text-blue-700","font-medium","text-sm","underline"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["type","button",1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-6","py-3","rounded-lg","transition-colors",3,"click"],["type","file","accept",".xlsx,.xls",1,"hidden",3,"change"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-lg","font-medium","text-gray-900","mb-1"],[1,"text-gray-600","text-sm"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6"],[1,"bg-gray-50","rounded-lg","p-6","mb-6","max-w-md","mx-auto"],[1,"text-left","space-y-3"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium","text-gray-900","truncate","ml-4"],[1,"font-medium","text-gray-900"],["class","flex justify-between",4,"ngIf"],["class","bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",4,"ngIf"],[1,"flex","justify-center","space-x-4"],[1,"px-6","py-3","bg-gray-100","hover:bg-gray-200","text-gray-700","font-semibold","rounded-lg","transition-colors",3,"click"],[1,"px-8","py-3","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","rounded-lg","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center",3,"click","disabled"],["class","animate-spin -ml-1 mr-3 h-4 w-4 text-blue","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4","mt-4"],[1,"font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-800","space-y-1"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-4","w-4","text-blue"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"h1",5),m(6,"Smart Asset Import"),c(),a(7,"p",6),m(8,"Import multiple assets efficiently with our guided wizard"),c()(),a(9,"button",7),A(),a(10,"svg",8),w(11,"path",9),c(),m(12," Back to Assets "),c()(),I(),a(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),m(17,"1"),c(),a(18,"span",14),m(19,"Upload File"),c()(),w(20,"div",15),a(21,"div",12)(22,"div",16),m(23,"2"),c(),a(24,"span",17),m(25,"Start Import"),c()()()(),T(26,X_,6,1,"div",18)(27,J_,24,2,"div",19)(28,i2,29,7,"div",19),c()()()),e&2&&(p(20),z("bg-blue-600",n.currentStep>=2),p(2),z("bg-blue-600",n.currentStep>=2)("text-white",n.currentStep>=2)("bg-gray-300",n.currentStep<2)("text-gray-600",n.currentStep<2),p(2),z("text-gray-900",n.currentStep>=2)("text-gray-500",n.currentStep<2),p(2),v("ngIf",n.showError),p(),v("ngIf",n.currentStep===1),p(),v("ngIf",n.currentStep===2))},dependencies:[Xe,He,Ln,Je],encapsulation:2})};var n2=[{path:"list",component:ki},{path:"create",component:ss},{path:"import",component:Ui},{path:"preview/:id",component:$i},{path:":id/edit",component:Gi}],$s=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=An({type:i});static \u0275inj=En({imports:[Tt.forChild(n2),Tt]})};var mc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=An({type:i});static \u0275inj=En({imports:[Xe,$s,ki,$i,Gi,Di,Ui,Bo]})};export{mc as AssetsModule};
