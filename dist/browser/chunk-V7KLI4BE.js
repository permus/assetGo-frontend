import{a}from"./chunk-JVPHCODG.js";import{a as o,b as u}from"./chunk-HDN3MHIN.js";import{S as p,X as c}from"./chunk-YKDNYCQF.js";import{a as s}from"./chunk-EQDQRRRY.js";var l=class i{constructor(e){this.http=e}apiUrl=`${a.apiUrl}/locations`;getAuthHeaders(){let e=localStorage.getItem("token");return{headers:s({"Content-Type":"application/json"},e?{Authorization:`Bearer ${e}`}:{})}}getLocations(e={}){let t=new o;return Object.keys(e).forEach(r=>{let n=e[r];n!=null&&n!==""&&(t=t.set(r,n.toString()))}),this.http.get(this.apiUrl,s({params:t},this.getAuthHeaders()))}getLocation(e){return this.http.get(`${this.apiUrl}/${e}`,this.getAuthHeaders())}createLocation(e){return this.http.post(this.apiUrl,e,this.getAuthHeaders())}updateLocation(e,t){return this.http.put(`${this.apiUrl}/${e}`,t,this.getAuthHeaders())}deleteLocation(e){return this.http.delete(`${this.apiUrl}/${e}`,this.getAuthHeaders())}bulkCreateLocations(e){return this.http.post(`${this.apiUrl}/bulk`,{locations:e},this.getAuthHeaders())}moveLocations(e,t){return this.http.post(`${this.apiUrl}/move`,{location_ids:e,new_parent_id:t},this.getAuthHeaders())}getQRCode(e,t="download",r="png"){let n=new o().set("action",t).set("format",r);return this.http.get(`${this.apiUrl}/${e}/qr`,s({params:n,responseType:"blob"},this.getAuthHeaders()))}getLocationTypes(e){let t=new o;return e!==void 0&&(t=t.set("hierarchy_level",e.toString())),this.http.get(`${a.apiUrl}/location-types`,s({params:t},this.getAuthHeaders()))}getHierarchy(){return this.http.get(`${a.apiUrl}/locations-hierarchy`,this.getAuthHeaders())}getPossibleParents(e,t){let r=new o().set("type_id",e.toString());t&&(r=r.set("location_id",t.toString()));let n=t?`${a.apiUrl}/locations/possible-parents/${t}`:`${a.apiUrl}/locations/possible-parents`;return this.http.get(n,s({params:r},this.getAuthHeaders()))}static \u0275fac=function(t){return new(t||i)(c(u))};static \u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
