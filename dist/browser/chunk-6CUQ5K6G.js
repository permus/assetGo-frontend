import{a as h}from"./chunk-MEXLA3FU.js";import{D as a,E as c}from"./chunk-EETQBYPR.js";import{X as r,aa as l}from"./chunk-PPNYJFN7.js";var o=class i{constructor(e){this.http=e}base=`${h.apiUrl}/maintenance`;listPlans(e){let s=new a;return e&&Object.keys(e).forEach(t=>{e[t]!==void 0&&e[t]!==null&&(s=s.set(t,String(e[t])))}),this.http.get(`${this.base}/plans`,{params:s})}getPlan(e){return this.http.get(`${this.base}/plans/${e}`)}createPlan(e){return this.http.post(`${this.base}/plans`,e)}updatePlan(e,s){return this.http.put(`${this.base}/plans/${e}`,s)}deletePlan(e){return this.http.delete(`${this.base}/plans/${e}`)}listSchedules(e){let s=new a;return e&&Object.keys(e).forEach(t=>{e[t]!==void 0&&e[t]!==null&&(s=s.set(t,String(e[t])))}),this.http.get(`${this.base}/schedules`,{params:s})}createSchedule(e){return this.http.post(`${this.base}/schedules`,e)}getSchedule(e){return this.http.get(`${this.base}/schedules/${e}`)}updateSchedule(e,s){return this.http.put(`${this.base}/schedules/${e}`,s)}deleteSchedule(e){return this.http.delete(`${this.base}/schedules/${e}`)}getPlanParts(e){return this.http.get(`${this.base}/plans/${e}/parts`)}addPartsToPlan(e,s){return this.http.post(`${this.base}/plans/${e}/parts`,{parts:s})}updatePlanPart(e,s,t){return this.http.put(`${this.base}/plans/${e}/parts/${s}`,t)}removePlanPart(e,s){return this.http.delete(`${this.base}/plans/${e}/parts/${s}`)}getAssetParts(e){let s=new a;return e.forEach(t=>{s=s.append("asset_ids[]",t.toString())}),this.http.get(`${this.base}/plans/asset-parts`,{params:s})}getHistoryStats(){return this.http.get(`${this.base}/stats/history`)}getAnalyticsStats(){return this.http.get(`${this.base}/stats/analytics`)}getMyAssignments(){return this.http.get(`${this.base}/my-assignments`)}getChecklistResponses(e){let s=new a().set("schedule_maintenance_assigned_id",e.toString());return this.http.get(`${this.base}/checklist-responses`,{params:s})}saveChecklistResponse(e){let s=new FormData;return s.append("schedule_maintenance_assigned_id",e.schedule_maintenance_assigned_id.toString()),s.append("checklist_item_id",e.checklist_item_id.toString()),s.append("response_type",e.response_type),s.append("response_value",JSON.stringify(e.response_value)),e.photo&&s.append("photo",e.photo),this.http.post(`${this.base}/checklist-responses`,s)}uploadChecklistPhoto(e,s,t){let n=new FormData;return n.append("schedule_maintenance_assigned_id",e.toString()),n.append("checklist_item_id",s.toString()),n.append("response_type","photo_capture"),n.append("response_value",JSON.stringify({})),n.append("photo",t),this.http.post(`${this.base}/checklist-responses`,n)}updateChecklistResponse(e,s){let t=new FormData;return s.response_value!==void 0&&t.append("response_value",JSON.stringify(s.response_value)),s.photo&&t.append("photo",s.photo),this.http.put(`${this.base}/checklist-responses/${e}`,t)}getAssignableUsers(e){let s=new a;return e&&(s=s.set("schedule_id",e.toString())),this.http.get(`${this.base}/assignable-users`,{params:s})}getScheduleAssignments(e){return this.http.get(`${this.base}/schedules/${e}/assignments`)}assignUserToSchedule(e,s){return this.http.post(`${this.base}/schedule-assignments`,{schedule_maintenance_id:e,team_id:s})}removeAssignment(e){return this.http.delete(`${this.base}/schedule-assignments/${e}`)}deleteChecklistResponse(e){return this.http.delete(`${this.base}/checklist-responses/${e}`)}static \u0275fac=function(s){return new(s||i)(l(c))};static \u0275prov=r({token:i,factory:i.\u0275fac,providedIn:"root"})};export{o as a};
