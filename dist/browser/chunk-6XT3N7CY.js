import {
  Chart,
  registerables
} from "./chunk-KMHW2AC2.js";
import {
  GlobalDropdownComponent
} from "./chunk-A4NIVATF.js";
import {
  PaginationComponent
} from "./chunk-SWZMKLCV.js";
import {
  DeleteConfirmationModalComponent
} from "./chunk-MPYEIXQM.js";
import {
  ImportProgressService
} from "./chunk-3DV6Y6FF.js";
import {
  PdfExportService,
  PublicAssetViewComponent,
  require_browser
} from "./chunk-B7ZPK3EK.js";
import "./chunk-7YWLATDR.js";
import {
  AssetService
} from "./chunk-DV6PQFY7.js";
import "./chunk-NM3PRJXP.js";
import "./chunk-O5ZMPHOU.js";
import {
  animate,
  style,
  transition,
  trigger
} from "./chunk-LZKWF3AL.js";
import {
  CheckboxControlValueAccessor,
  DefaultValueAccessor,
  FormBuilder,
  FormControlName,
  FormGroupDirective,
  FormsModule,
  MaxLengthValidator,
  MaxValidator,
  MinValidator,
  NgControlStatus,
  NgControlStatusGroup,
  NgForm,
  NgModel,
  NgSelectOption,
  NumberValueAccessor,
  RangeValueAccessor,
  ReactiveFormsModule,
  RequiredValidator,
  SelectControlValueAccessor,
  Validators,
  ɵNgNoValidate,
  ɵNgSelectMultipleOption
} from "./chunk-FSOYXA4J.js";
import {
  ActivatedRoute,
  Router,
  RouterLink,
  RouterModule
} from "./chunk-E2GGJA5S.js";
import "./chunk-B4WPIQPD.js";
import {
  CommonModule,
  CurrencyPipe,
  DatePipe,
  HttpClient,
  KeyValuePipe,
  Location,
  NgClass,
  NgForOf,
  NgIf
} from "./chunk-MMJF4Y5E.js";
import {
  ChangeDetectorRef,
  Component,
  EventEmitter,
  HostListener,
  Input,
  NgModule,
  Output,
  Subject,
  ViewChild,
  ViewChildren,
  setClassMetadata,
  takeUntil,
  ɵsetClassDebugInfo,
  ɵɵNgOnChangesFeature,
  ɵɵadvance,
  ɵɵattribute,
  ɵɵclassMap,
  ɵɵclassProp,
  ɵɵconditional,
  ɵɵdefineComponent,
  ɵɵdefineInjector,
  ɵɵdefineNgModule,
  ɵɵdirectiveInject,
  ɵɵelement,
  ɵɵelementContainerEnd,
  ɵɵelementContainerStart,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnamespaceHTML,
  ɵɵnamespaceSVG,
  ɵɵnextContext,
  ɵɵpipe,
  ɵɵpipeBind1,
  ɵɵpipeBind2,
  ɵɵpipeBind4,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵpureFunction1,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵresetView,
  ɵɵresolveDocument,
  ɵɵrestoreView,
  ɵɵsanitizeUrl,
  ɵɵstyleProp,
  ɵɵtemplate,
  ɵɵtemplateRefExtractor,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtextInterpolate2,
  ɵɵtextInterpolate3,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty,
  ɵɵviewQuery
} from "./chunk-YUR5IGOK.js";
import {
  __spreadProps,
  __spreadValues,
  __toESM
} from "./chunk-TXDUYLVM.js";

// src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.ts
function ArchiveConfirmationModalComponent_div_0_span_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2("Archive ", ctx_r1.selectedCount, " Asset", ctx_r1.selectedCount !== 1 ? "s" : "", "");
  }
}
function ArchiveConfirmationModalComponent_div_0_span_33_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 28);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 29);
    \u0275\u0275element(2, "circle", 30)(3, "path", 31);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Archiving...");
    \u0275\u0275elementEnd()();
  }
}
function ArchiveConfirmationModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 6);
    \u0275\u0275element(6, "path", 7);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 8);
    \u0275\u0275text(8, "Archive Selected Assets");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 9);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 10);
    \u0275\u0275element(11, "path", 11);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 12)(13, "div", 13)(14, "label", 14);
    \u0275\u0275text(15, "Archive Reason (Optional)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "textarea", 15);
    \u0275\u0275twoWayListener("ngModelChange", function ArchiveConfirmationModalComponent_div_0_Template_textarea_ngModelChange_16_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.archiveReason, $event) || (ctx_r1.archiveReason = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "p", 16);
    \u0275\u0275text(18, "This will be recorded in the audit trail");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 17)(20, "div", 18);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(21, "svg", 19);
    \u0275\u0275element(22, "path", 7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(23, "div", 20)(24, "h3", 21);
    \u0275\u0275text(25);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "p", 22);
    \u0275\u0275text(27, " This will change their status to inactive but keep all data intact. ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(28, "div", 23)(29, "button", 24);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_29_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(30, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "button", 25);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_31_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onConfirm());
    });
    \u0275\u0275template(32, ArchiveConfirmationModalComponent_div_0_span_32_Template, 2, 2, "span", 26)(33, ArchiveConfirmationModalComponent_div_0_span_33_Template, 6, 0, "span", 27);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance();
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(8);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(7);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.archiveReason);
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate2("Are you sure you want to archive ", ctx_r1.selectedCount, " asset", ctx_r1.selectedCount !== 1 ? "s" : "", "?");
    \u0275\u0275advance(4);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var ArchiveConfirmationModalComponent = class _ArchiveConfirmationModalComponent {
  isOpen = false;
  selectedCount = 0;
  closeModal = new EventEmitter();
  confirmArchive = new EventEmitter();
  loading = false;
  archiveReason = "";
  onConfirm() {
    this.loading = true;
    this.confirmArchive.emit(this.archiveReason);
    setTimeout(() => {
      this.loading = false;
      this.archiveReason = "";
    }, 2e3);
  }
  onCancel() {
    if (this.loading)
      return;
    this.archiveReason = "";
    this.closeModal.emit();
  }
  static \u0275fac = function ArchiveConfirmationModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _ArchiveConfirmationModalComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _ArchiveConfirmationModalComponent, selectors: [["app-archive-confirmation-modal"]], inputs: { isOpen: "isOpen", selectedCount: "selectedCount" }, outputs: { closeModal: "closeModal", confirmArchive: "confirmArchive" }, decls: 1, vars: 1, consts: [["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-2xl", "shadow-xl", "max-w-md", "w-full"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-orange-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-orange-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "p-6"], [1, "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["rows", "3", "placeholder", "Enter reason for archiving these assets...", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-orange-500", "focus:border-transparent", "resize-none", "placeholder-gray-400", 3, "ngModelChange", "ngModel"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "justify-center", "mb-4"], [1, "w-16", "h-16", "bg-orange-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-orange-600"], [1, "text-center", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900", "mb-2"], [1, "text-gray-600"], [1, "flex", "items-center", "justify-end", "space-x-3"], [1, "px-6", "py-2", "text-gray-600", "hover:text-gray-800", "font-medium", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], [1, "px-6", "py-2", "bg-orange-600", "text-white", "font-medium", "rounded-lg", "hover:bg-orange-700", "focus:outline-none", "focus:ring-2", "focus:ring-orange-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], [4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "flex", "items-center", "space-x-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-4", "w-4"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function ArchiveConfirmationModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, ArchiveConfirmationModalComponent_div_0_Template, 34, 10, "div", 0);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgIf, FormsModule, DefaultValueAccessor, NgControlStatus, NgModel], styles: ["\n\n.modal-backdrop[_ngcontent-%COMP%] {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_pulse 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=archive-confirmation-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(ArchiveConfirmationModalComponent, [{
    type: Component,
    args: [{ selector: "app-archive-confirmation-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<!-- Archive Confirmation Modal -->\r
<div *ngIf="isOpen"\r
     class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4"\r
     [@backdropAnimation]>\r
  <!-- Modal Container -->\r
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full"\r
       [@modalAnimation]>\r
    <!-- Modal Header -->\r
    <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
      <div class="flex items-center space-x-3">\r
        <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">\r
          <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
          </svg>\r
        </div>\r
        <h2 class="text-xl font-semibold text-gray-900">Archive Selected Assets</h2>\r
      </div>\r
      <button\r
        (click)="onCancel()"\r
        [disabled]="loading"\r
        class="p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50">\r
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
        </svg>\r
      </button>\r
    </div>\r
\r
    <!-- Modal Content -->\r
    <div class="p-6">\r
      <!-- Archive Reason Input -->\r
      <div class="mb-6">\r
        <label class="block text-sm font-medium text-gray-700 mb-2">Archive Reason (Optional)</label>\r
        <textarea\r
          [(ngModel)]="archiveReason"\r
          rows="3"\r
          placeholder="Enter reason for archiving these assets..."\r
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none placeholder-gray-400"></textarea>\r
        <p class="text-xs text-gray-500 mt-1">This will be recorded in the audit trail</p>\r
      </div>\r
\r
      <!-- Warning Icon -->\r
      <div class="flex justify-center mb-4">\r
        <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center">\r
          <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Confirmation Message -->\r
      <div class="text-center mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Are you sure you want to archive {{selectedCount}} asset{{selectedCount !== 1 ? 's' : ''}}?</h3>\r
        <p class="text-gray-600">\r
          This will change their status to inactive but keep all data intact.\r
        </p>\r
      </div>\r
\r
      <!-- Action Buttons -->\r
      <div class="flex items-center justify-end space-x-3">\r
        <button\r
          (click)="onCancel()"\r
          [disabled]="loading"\r
          class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50">\r
          Cancel\r
        </button>\r
\r
        <button\r
          (click)="onConfirm()"\r
          [disabled]="loading"\r
          class="px-6 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          <span *ngIf="!loading">Archive {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}</span>\r
          <span *ngIf="loading" class="flex items-center space-x-2">\r
            <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Archiving...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.scss */\n.modal-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon {\n  animation: pulse 2s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=archive-confirmation-modal.component.css.map */\n"] }]
  }], null, { isOpen: [{
    type: Input
  }], selectedCount: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], confirmArchive: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(ArchiveConfirmationModalComponent, { className: "ArchiveConfirmationModalComponent", filePath: "src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.ts", lineNumber: 42 });
})();

// src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.ts
function RestoreConfirmationModalComponent_div_0_span_38_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" Restore ", ctx_r1.selectedCount, " Asset", ctx_r1.selectedCount !== 1 ? "s" : "", " ");
  }
}
function RestoreConfirmationModalComponent_div_0_span_39_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 33);
    \u0275\u0275element(2, "circle", 34)(3, "path", 35);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Restoring...");
    \u0275\u0275elementEnd()();
  }
}
function RestoreConfirmationModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 6);
    \u0275\u0275element(6, "path", 7);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 8);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 9);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 10);
    \u0275\u0275element(11, "path", 11);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 12)(13, "div", 13)(14, "div", 14);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(15, "svg", 15);
    \u0275\u0275element(16, "path", 7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(17, "div", 16)(18, "h3", 17);
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "p", 18);
    \u0275\u0275text(21);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "div", 19)(23, "label", 20);
    \u0275\u0275text(24, "Restore Reason (Optional)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "textarea", 21);
    \u0275\u0275twoWayListener("ngModelChange", function RestoreConfirmationModalComponent_div_0_Template_textarea_ngModelChange_25_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.restoreReason, $event) || (ctx_r1.restoreReason = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "p", 22);
    \u0275\u0275text(27, "This will be recorded in the audit trail");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(28, "div", 23)(29, "div", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(30, "svg", 25);
    \u0275\u0275element(31, "path", 26);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(32, "p", 27);
    \u0275\u0275text(33, " Assets will be restored to active status ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(34, "div", 28)(35, "button", 29);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_35_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(36, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "button", 30);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_37_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onConfirm());
    });
    \u0275\u0275template(38, RestoreConfirmationModalComponent_div_0_span_38_Template, 2, 2, "span", 31)(39, RestoreConfirmationModalComponent_div_0_span_39_Template, 6, 0, "span", 32);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance();
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedCount > 1 ? "Restore Selected Assets" : "Restore Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate1(" Are you sure you want to restore ", ctx_r1.selectedCount > 1 ? ctx_r1.selectedCount + " assets" : ctx_r1.assetName || "1 asset", "? ");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedCount > 1 ? "These assets will be moved back to active status and become available in searches." : "This asset will be moved back to active status and become available in searches.", " ");
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.restoreReason);
    \u0275\u0275property("placeholder", "Enter reason for restoring " + (ctx_r1.selectedCount > 1 ? "these assets" : "this asset") + "...");
    \u0275\u0275advance(10);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var RestoreConfirmationModalComponent = class _RestoreConfirmationModalComponent {
  isOpen = false;
  selectedCount = 0;
  assetName = "";
  closeModal = new EventEmitter();
  confirmRestore = new EventEmitter();
  loading = false;
  restoreReason = "";
  onConfirm() {
    this.loading = true;
    this.confirmRestore.emit(this.restoreReason);
    setTimeout(() => {
      this.loading = false;
      this.restoreReason = "";
    }, 2e3);
  }
  onCancel() {
    if (this.loading)
      return;
    this.restoreReason = "";
    this.closeModal.emit();
  }
  static \u0275fac = function RestoreConfirmationModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _RestoreConfirmationModalComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _RestoreConfirmationModalComponent, selectors: [["app-restore-confirmation-modal"]], inputs: { isOpen: "isOpen", selectedCount: "selectedCount", assetName: "assetName" }, outputs: { closeModal: "closeModal", confirmRestore: "confirmRestore" }, decls: 1, vars: 1, consts: [["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-2xl", "shadow-xl", "max-w-md", "w-full"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "p-6"], [1, "flex", "justify-center", "mb-6"], [1, "w-16", "h-16", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-green-600"], [1, "text-center", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900", "mb-3"], [1, "text-gray-600", "mb-4"], [1, "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["rows", "3", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-green-500", "focus:border-transparent", "resize-none", "placeholder-gray-400", 3, "ngModelChange", "ngModel", "placeholder"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "bg-green-50", "border", "border-green-200", "rounded-lg", "p-3", "mb-6"], [1, "flex", "items-center", "space-x-2"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-green-800", "text-sm", "font-medium"], [1, "flex", "items-center", "justify-end", "space-x-3"], [1, "px-6", "py-2", "text-gray-600", "hover:text-gray-800", "font-medium", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], [1, "px-6", "py-2", "bg-green-600", "text-white", "font-medium", "rounded-lg", "hover:bg-green-700", "focus:outline-none", "focus:ring-2", "focus:ring-green-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], [4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-4", "w-4"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function RestoreConfirmationModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, RestoreConfirmationModalComponent_div_0_Template, 40, 12, "div", 0);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgIf, FormsModule, DefaultValueAccessor, NgControlStatus, NgModel], styles: ["\n\n.modal-backdrop[_ngcontent-%COMP%] {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.success-icon[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_pulse 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=restore-confirmation-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(RestoreConfirmationModalComponent, [{
    type: Component,
    args: [{ selector: "app-restore-confirmation-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<!-- Restore Confirmation Modal -->\r
<div *ngIf="isOpen"\r
     class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4"\r
     [@backdropAnimation]>\r
  <!-- Modal Container -->\r
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full"\r
       [@modalAnimation]>\r
    <!-- Modal Header -->\r
    <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
      <div class="flex items-center space-x-3">\r
        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
          <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
          </svg>\r
        </div>\r
        <h2 class="text-xl font-semibold text-gray-900">\r
          {{selectedCount > 1 ? 'Restore Selected Assets' : 'Restore Asset'}}\r
        </h2>\r
      </div>\r
      <button\r
        (click)="onCancel()"\r
        [disabled]="loading"\r
        class="p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50">\r
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
        </svg>\r
      </button>\r
    </div>\r
\r
    <!-- Modal Content -->\r
    <div class="p-6">\r
      <!-- Success Icon -->\r
      <div class="flex justify-center mb-6">\r
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">\r
          <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Confirmation Message -->\r
      <div class="text-center mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900 mb-3">\r
          Are you sure you want to restore {{selectedCount > 1 ? selectedCount + ' assets' : (assetName || '1 asset')}}?\r
        </h3>\r
        <p class="text-gray-600 mb-4">\r
          {{selectedCount > 1 ? \r
            'These assets will be moved back to active status and become available in searches.' : \r
            'This asset will be moved back to active status and become available in searches.'}}\r
        </p>\r
      </div>\r
\r
      <!-- Restore Reason Input -->\r
      <div class="mb-6">\r
        <label class="block text-sm font-medium text-gray-700 mb-2">Restore Reason (Optional)</label>\r
        <textarea\r
          [(ngModel)]="restoreReason"\r
          rows="3"\r
          [placeholder]="'Enter reason for restoring ' + (selectedCount > 1 ? 'these assets' : 'this asset') + '...'"\r
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none placeholder-gray-400"></textarea>\r
        <p class="text-xs text-gray-500 mt-1">This will be recorded in the audit trail</p>\r
      </div>\r
\r
      <!-- Info Box -->\r
      <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-6">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <p class="text-green-800 text-sm font-medium">\r
            Assets will be restored to active status\r
          </p>\r
        </div>\r
      </div>\r
\r
      <!-- Action Buttons -->\r
      <div class="flex items-center justify-end space-x-3">\r
        <button\r
          (click)="onCancel()"\r
          [disabled]="loading"\r
          class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50">\r
          Cancel\r
        </button>\r
\r
        <button\r
          (click)="onConfirm()"\r
          [disabled]="loading"\r
          class="px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          <span *ngIf="!loading">\r
            Restore {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}\r
          </span>\r
          <span *ngIf="loading" class="flex items-center space-x-2">\r
            <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Restoring...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.scss */\n.modal-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.success-icon {\n  animation: pulse 2s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=restore-confirmation-modal.component.css.map */\n"] }]
  }], null, { isOpen: [{
    type: Input
  }], selectedCount: [{
    type: Input
  }], assetName: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], confirmRestore: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(RestoreConfirmationModalComponent, { className: "RestoreConfirmationModalComponent", filePath: "src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.ts", lineNumber: 42 });
})();

// src/app/assets/asset-list/asset-list.component.ts
var QRCode = __toESM(require_browser());
function AssetListComponent_div_18__svg_path_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275element(0, "path", 98);
  }
}
function AssetListComponent_div_18__svg_path_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275element(0, "path", 99);
  }
}
function AssetListComponent_div_18__svg_svg_18_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 80);
    \u0275\u0275element(1, "path", 85);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_18__svg_svg_19_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 100);
    \u0275\u0275element(1, "circle", 101)(2, "path", 102);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 78)(1, "button", 79);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 80);
    \u0275\u0275element(3, "path", 81);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Analytics");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "button", 82);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleArchivedView());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 80);
    \u0275\u0275template(8, AssetListComponent_div_18__svg_path_8_Template, 1, 0, "path", 83)(9, AssetListComponent_div_18__svg_path_9_Template, 1, 0, "path", 84);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "span");
    \u0275\u0275text(11);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "button", 82);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.exportToPdf());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 80);
    \u0275\u0275element(14, "path", 85);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(15, "span");
    \u0275\u0275text(16, "Export Assets to PDF");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "button", 86);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_17_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.exportToExcel());
    });
    \u0275\u0275template(18, AssetListComponent_div_18__svg_svg_18_Template, 2, 0, "svg", 87)(19, AssetListComponent_div_18__svg_svg_19_Template, 3, 0, "svg", 88);
    \u0275\u0275elementStart(20, "span");
    \u0275\u0275text(21);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "button", 89);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 80);
    \u0275\u0275element(24, "path", 90);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "span");
    \u0275\u0275text(26, "Smart Import");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(27, "div", 91);
    \u0275\u0275elementStart(28, "button", 92);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(29, "svg", 93);
    \u0275\u0275element(30, "path", 94);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(31, "span");
    \u0275\u0275text(32, "Archive Selected");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(33, "button", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(34, "svg", 96);
    \u0275\u0275element(35, "path", 97);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(36, "span");
    \u0275\u0275text(37, "Delete Selected");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.showingArchived ? "View Active Assets" : "View Archived Assets");
    \u0275\u0275advance(6);
    \u0275\u0275property("disabled", ctx_r1.exportingExcel);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.exportingExcel);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.exportingExcel);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.exportingExcel ? "Exporting to Excel..." : "Export Assets to Excel");
  }
}
function AssetListComponent_ng_container_90_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275elementStart(1, "app-global-dropdown", 54);
    \u0275\u0275listener("selectionChange", function AssetListComponent_ng_container_90_Template_app_global_dropdown_selectionChange_1_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onSelectAssetStatus($event));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("placeholder", "Select asset status")("options", ctx_r1.assetStatusDropdownOptions)("selectedOption", ctx_r1.selectedAssetStatusOption)("minWidth", "280px");
  }
}
function AssetListComponent__svg_svg_94_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 103);
    \u0275\u0275element(1, "path", 104);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent__svg_svg_95_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 103);
    \u0275\u0275element(1, "path", 105);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_109_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 106)(1, "div", 107)(2, "div", 108);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 109);
    \u0275\u0275element(4, "circle", 101)(5, "path", 102);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 110);
    \u0275\u0275text(7, "Loading Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 111);
    \u0275\u0275text(9, "Please wait while we fetch your assets...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetListComponent_div_110_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 106)(1, "div", 107)(2, "div", 112);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 113);
    \u0275\u0275element(4, "path", 114);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 110);
    \u0275\u0275text(6, "Error Loading Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 115);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 116);
    \u0275\u0275listener("click", function AssetListComponent_div_110_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.loadAssets());
    });
    \u0275\u0275text(10, " Retry ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetListComponent_div_111_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 117)(1, "button", 118);
    \u0275\u0275listener("click", function AssetListComponent_div_111_Template_button_click_1_listener() {
      \u0275\u0275restoreView(_r5);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275element(2, "span", 119);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 120);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate1("Select all ", ctx_r1.assetList.length, " assets");
  }
}
function AssetListComponent_div_112_button_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 137);
    \u0275\u0275listener("click", function AssetListComponent_div_112_button_11_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.duplicateSelected());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "rect", 138)(3, "rect", 139);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Duplicate ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_112_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 140);
    \u0275\u0275listener("click", function AssetListComponent_div_112_button_16_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r8);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.showArchiveModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "rect", 141)(3, "path", 142);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Archive ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_112_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 143);
    \u0275\u0275listener("click", function AssetListComponent_div_112_button_17_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.showDeleteModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "rect", 141)(3, "path", 144);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Delete ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_112_button_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 145);
    \u0275\u0275listener("click", function AssetListComponent_div_112_button_18_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r10);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.restoreSelected());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 146);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3, " Restore ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_112_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 121)(1, "div", 122)(2, "button", 118);
    \u0275\u0275listener("click", function AssetListComponent_div_112_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275element(3, "span", 123);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 124);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "span", 125);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 126);
    \u0275\u0275element(8, "path", 127);
    \u0275\u0275elementEnd();
    \u0275\u0275text(9, " Selection Mode Active - Click cards to select ");
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 128);
    \u0275\u0275template(11, AssetListComponent_div_112_button_11_Template, 5, 1, "button", 129);
    \u0275\u0275elementStart(12, "button", 130);
    \u0275\u0275listener("click", function AssetListComponent_div_112_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.generateQRCodeForSelectedAssets());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 126);
    \u0275\u0275element(14, "path", 131);
    \u0275\u0275elementEnd();
    \u0275\u0275text(15, " Generate QR Codes ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(16, AssetListComponent_div_112_button_16_Template, 5, 1, "button", 132)(17, AssetListComponent_div_112_button_17_Template, 5, 1, "button", 133)(18, AssetListComponent_div_112_button_18_Template, 4, 1, "button", 134);
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(19, "button", 135);
    \u0275\u0275listener("click", function AssetListComponent_div_112_Template_button_click_19_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.clearSelection());
    });
    \u0275\u0275elementStart(20, "span", 136);
    \u0275\u0275text(21, "\xD7");
    \u0275\u0275elementEnd();
    \u0275\u0275text(22, " Clear ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-100", ctx_r1.selectedCount === ctx_r1.assetList.length);
    \u0275\u0275advance();
    \u0275\u0275classProp("bg-blue-400", ctx_r1.selectedCount === ctx_r1.assetList.length)("bg-white", ctx_r1.selectedCount !== ctx_r1.assetList.length);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate2("", ctx_r1.selectedCount, " asset", ctx_r1.selectedCount > 1 ? "s" : "", " selected");
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
  }
}
function AssetListComponent_div_113_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 147)(1, "div", 148);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 149);
    \u0275\u0275element(3, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "h3", 110);
    \u0275\u0275text(5, "No Assets Found");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "p", 150);
    \u0275\u0275text(7, "Get started by creating your first asset.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "button", 116);
    \u0275\u0275listener("click", function AssetListComponent_div_113_Template_button_click_8_listener() {
      \u0275\u0275restoreView(_r11);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goToCreateAsset());
    });
    \u0275\u0275text(9, " Add Asset ");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_span_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 171);
    \u0275\u0275text(1, "Active");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_114_div_1_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classMap("bg-" + ctx_r1.getStatusColor((asset_r13.asset_status == null ? null : asset_r13.asset_status.name) || asset_r13.status || "Active") + "-100 text-" + ctx_r1.getStatusColor((asset_r13.asset_status == null ? null : asset_r13.asset_status.name) || asset_r13.status || "Active") + "-700 text-xs font-semibold px-3 py-1 rounded-full");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate((asset_r13.asset_status == null ? null : asset_r13.asset_status.name) || asset_r13.status);
  }
}
function AssetListComponent_div_114_div_1_div_13_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_1_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r15);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 187)(3, "path", 188);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 189);
    \u0275\u0275text(5, "View Details");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_button_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_2_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r16);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.editAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 190);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 189);
    \u0275\u0275text(4, "Edit Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_button_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_3_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r17);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.duplicateAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 179);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 189);
    \u0275\u0275text(4, "Duplicate");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_button_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 191);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_15_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r18);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.archiveAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 192);
    \u0275\u0275element(2, "path", 98);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 193);
    \u0275\u0275text(4, "Archive");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 194);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_16_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r19);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.restoreAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 195);
    \u0275\u0275element(2, "path", 146);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 196);
    \u0275\u0275text(4, "Restore");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 197);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_button_17_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r20);
      const asset_r13 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.deleteAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 198);
    \u0275\u0275element(2, "path", 199);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 200);
    \u0275\u0275text(4, "Delete Permanently");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_114_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 172);
    \u0275\u0275template(1, AssetListComponent_div_114_div_1_div_13_button_1_Template, 6, 0, "button", 173)(2, AssetListComponent_div_114_div_1_div_13_button_2_Template, 5, 0, "button", 173)(3, AssetListComponent_div_114_div_1_div_13_button_3_Template, 5, 0, "button", 173);
    \u0275\u0275elementStart(4, "button", 174);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r14);
      const asset_r13 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.generateQRCodeForAsset(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 175);
    \u0275\u0275element(6, "path", 131);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "span", 176);
    \u0275\u0275text(8, "Generate QR Code");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 177);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_div_13_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r14);
      const asset_r13 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyPublicUrl(asset_r13));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 178);
    \u0275\u0275element(11, "path", 179);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "span", 180);
    \u0275\u0275text(13, "Copy Public URL");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(14, "div", 181);
    \u0275\u0275template(15, AssetListComponent_div_114_div_1_div_13_button_15_Template, 5, 0, "button", 182)(16, AssetListComponent_div_114_div_1_div_13_button_16_Template, 5, 0, "button", 183)(17, AssetListComponent_div_114_div_1_div_13_button_17_Template, 5, 0, "button", 184);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance(12);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
  }
}
function AssetListComponent_div_114_div_1_div_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 201)(1, "span", 202);
    \u0275\u0275text(2, "Category:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r13.category.name, " ");
  }
}
function AssetListComponent_div_114_div_1_div_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 201)(1, "span", 202);
    \u0275\u0275text(2, "Type:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", (asset_r13.asset_type == null ? null : asset_r13.asset_type.name) || asset_r13.type || "General", " ");
  }
}
function AssetListComponent_div_114_div_1_div_22_span_4_span_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, " \u2192 ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_114_div_1_div_22_span_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275template(2, AssetListComponent_div_114_div_1_div_22_span_4_span_2_Template, 2, 0, "span", 55);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r21 = ctx.$implicit;
    const last_r22 = ctx.last;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", loc_r21.name, "");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !last_r22);
  }
}
function AssetListComponent_div_114_div_1_div_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 203)(1, "span", 202);
    \u0275\u0275text(2, "Location:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 204);
    \u0275\u0275template(4, AssetListComponent_div_114_div_1_div_22_span_4_Template, 3, 2, "span", 205);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", asset_r13.location_hierarchy);
  }
}
function AssetListComponent_div_114_div_1_div_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 203)(1, "span", 202);
    \u0275\u0275text(2, "Description:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r13.description, " ");
  }
}
function AssetListComponent_div_114_div_1_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 201)(1, "span", 202);
    \u0275\u0275text(2, "Manufacturer:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r13.manufacturer, " ");
  }
}
function AssetListComponent_div_114_div_1_div_25_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 201)(1, "span", 202);
    \u0275\u0275text(2, "Model:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r13.model, " ");
  }
}
function AssetListComponent_div_114_div_1_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 201)(1, "span", 202);
    \u0275\u0275text(2, "Capacity:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r13.capacity, " ");
  }
}
function AssetListComponent_div_114_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 153)(1, "div", 154)(2, "div", 155)(3, "input", 156);
    \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_div_114_div_1_Template_input_ngModelChange_3_listener($event) {
      const asset_r13 = \u0275\u0275restoreView(_r12).$implicit;
      \u0275\u0275twoWayBindingSet(asset_r13.selected, $event) || (asset_r13.selected = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "div", 157);
    \u0275\u0275template(5, AssetListComponent_div_114_div_1_span_5_Template, 2, 0, "span", 158)(6, AssetListComponent_div_114_div_1_span_6_Template, 2, 3, "span", 159);
    \u0275\u0275elementStart(7, "div", 8);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_Template_div_click_7_listener($event) {
      \u0275\u0275restoreView(_r12);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(8, "button", 160);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_Template_button_click_8_listener() {
      const asset_r13 = \u0275\u0275restoreView(_r12).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleAssetMenu(asset_r13.id));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(9, "svg", 161);
    \u0275\u0275element(10, "circle", 162)(11, "circle", 163)(12, "circle", 164);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(13, AssetListComponent_div_114_div_1_div_13_Template, 18, 6, "div", 165);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(14, "svg", 166);
    \u0275\u0275element(15, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(16, "div", 167)(17, "div")(18, "div", 168);
    \u0275\u0275listener("click", function AssetListComponent_div_114_div_1_Template_div_click_18_listener() {
      const asset_r13 = \u0275\u0275restoreView(_r12).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(!ctx_r1.showingArchived && ctx_r1.viewAsset(asset_r13));
    });
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275template(20, AssetListComponent_div_114_div_1_div_20_Template, 4, 1, "div", 169)(21, AssetListComponent_div_114_div_1_div_21_Template, 4, 1, "div", 169)(22, AssetListComponent_div_114_div_1_div_22_Template, 5, 1, "div", 170)(23, AssetListComponent_div_114_div_1_div_23_Template, 4, 1, "div", 170)(24, AssetListComponent_div_114_div_1_div_24_Template, 4, 1, "div", 169)(25, AssetListComponent_div_114_div_1_div_25_Template, 4, 1, "div", 169)(26, AssetListComponent_div_114_div_1_div_26_Template, 4, 1, "div", 169);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const asset_r13 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("border-blue-400", asset_r13.selected);
    \u0275\u0275advance(3);
    \u0275\u0275twoWayProperty("ngModel", asset_r13.selected);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", (asset_r13.asset_status == null ? null : asset_r13.asset_status.name) === "Active");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (asset_r13.asset_status == null ? null : asset_r13.asset_status.name) !== "Active");
    \u0275\u0275advance(7);
    \u0275\u0275property("ngIf", asset_r13.showMenu);
    \u0275\u0275advance(5);
    \u0275\u0275classProp("cursor-pointer", !ctx_r1.showingArchived)("hover:text-blue-600", !ctx_r1.showingArchived)("cursor-default", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", asset_r13.name || "Unnamed Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.category == null ? null : asset_r13.category.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.type || (asset_r13.asset_type == null ? null : asset_r13.asset_type.name));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.location_hierarchy && asset_r13.location_hierarchy.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.manufacturer);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.model);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r13.capacity);
  }
}
function AssetListComponent_div_114_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 151);
    \u0275\u0275template(1, AssetListComponent_div_114_div_1_Template, 27, 20, "div", 152);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.assetList);
  }
}
function AssetListComponent_div_115_div_18_div_20_div_1_span_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, " \u2192 ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_115_div_18_div_20_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275template(2, AssetListComponent_div_115_div_18_div_20_div_1_span_2_Template, 2, 0, "span", 55);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r26 = ctx.$implicit;
    const last_r27 = ctx.last;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", loc_r26.name, "");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !last_r27);
  }
}
function AssetListComponent_div_115_div_18_div_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 226);
    \u0275\u0275template(1, AssetListComponent_div_115_div_18_div_20_div_1_Template, 3, 2, "div", 205);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r25 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", asset_r25.location_hierarchy);
  }
}
function AssetListComponent_div_115_div_18_div_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 227);
    \u0275\u0275text(1, " No location ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_115_div_18_div_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 221);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r25 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", asset_r25.description, " ");
  }
}
function AssetListComponent_div_115_div_18_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 227);
    \u0275\u0275text(1, " No description ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_115_div_18_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 221)(1, "span", 228);
    \u0275\u0275text(2, "MFG:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r25 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r25.manufacturer, " ");
  }
}
function AssetListComponent_div_115_div_18_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 111)(1, "span", 228);
    \u0275\u0275text(2, "Model:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r25 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r25.model, " ");
  }
}
function AssetListComponent_div_115_div_18_div_28_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 111)(1, "span", 228);
    \u0275\u0275text(2, "Capacity:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r25 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r25.capacity, " ");
  }
}
function AssetListComponent_div_115_div_18_div_29_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 227);
    \u0275\u0275text(1, " No details ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_1_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r29);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 187)(3, "path", 188);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 189);
    \u0275\u0275text(5, "View Details");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r30 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_2_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r30);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.editAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 190);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 189);
    \u0275\u0275text(4, "Edit Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r31 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_3_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r31);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.duplicateAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 186);
    \u0275\u0275element(2, "path", 179);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 189);
    \u0275\u0275text(4, "Duplicate");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 191);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_15_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r32);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.archiveAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 192);
    \u0275\u0275element(2, "path", 98);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 193);
    \u0275\u0275text(4, "Archive");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r33 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 194);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_16_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r33);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.restoreAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 195);
    \u0275\u0275element(2, "path", 146);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 196);
    \u0275\u0275text(4, "Restore");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r34 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 197);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_button_17_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r34);
      const asset_r25 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.deleteAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 198);
    \u0275\u0275element(2, "path", 199);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 200);
    \u0275\u0275text(4, "Delete Permanently");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_115_div_18_div_37_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 172);
    \u0275\u0275template(1, AssetListComponent_div_115_div_18_div_37_button_1_Template, 6, 0, "button", 173)(2, AssetListComponent_div_115_div_18_div_37_button_2_Template, 5, 0, "button", 173)(3, AssetListComponent_div_115_div_18_div_37_button_3_Template, 5, 0, "button", 173);
    \u0275\u0275elementStart(4, "button", 174);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r28);
      const asset_r25 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.generateQRCodeForAsset(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 175);
    \u0275\u0275element(6, "path", 229);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "span", 176);
    \u0275\u0275text(8, "Generate QR Code");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 177);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_div_37_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r28);
      const asset_r25 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyPublicUrl(asset_r25));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 178);
    \u0275\u0275element(11, "path", 179);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "span", 180);
    \u0275\u0275text(13, "Copy Public URL");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(14, "div", 181);
    \u0275\u0275template(15, AssetListComponent_div_115_div_18_div_37_button_15_Template, 5, 0, "button", 182)(16, AssetListComponent_div_115_div_18_div_37_button_16_Template, 5, 0, "button", 183)(17, AssetListComponent_div_115_div_18_div_37_button_17_Template, 5, 0, "button", 184);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance(12);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
  }
}
function AssetListComponent_div_115_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 215)(1, "div", 216)(2, "div", 212)(3, "input", 156);
    \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_div_115_div_18_Template_input_ngModelChange_3_listener($event) {
      const asset_r25 = \u0275\u0275restoreView(_r24).$implicit;
      \u0275\u0275twoWayBindingSet(asset_r25.selected, $event) || (asset_r25.selected = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "div", 211)(5, "div", 217)(6, "div", 218);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 219);
    \u0275\u0275element(8, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "div")(10, "div", 220);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_Template_div_click_10_listener() {
      const asset_r25 = \u0275\u0275restoreView(_r24).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r25));
    });
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(12, "div", 111);
    \u0275\u0275text(13);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(14, "div", 211)(15, "div", 221);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "div", 111);
    \u0275\u0275text(18);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 211);
    \u0275\u0275template(20, AssetListComponent_div_115_div_18_div_20_Template, 2, 1, "div", 222)(21, AssetListComponent_div_115_div_18_div_21_Template, 2, 0, "div", 223);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "div", 211);
    \u0275\u0275template(23, AssetListComponent_div_115_div_18_div_23_Template, 2, 1, "div", 224)(24, AssetListComponent_div_115_div_18_div_24_Template, 2, 0, "div", 223);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "div", 211);
    \u0275\u0275template(26, AssetListComponent_div_115_div_18_div_26_Template, 4, 1, "div", 224)(27, AssetListComponent_div_115_div_18_div_27_Template, 4, 1, "div", 225)(28, AssetListComponent_div_115_div_18_div_28_Template, 4, 1, "div", 225)(29, AssetListComponent_div_115_div_18_div_29_Template, 2, 0, "div", 223);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(30, "div", 212)(31, "div", 8);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_Template_div_click_31_listener($event) {
      \u0275\u0275restoreView(_r24);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(32, "button", 160);
    \u0275\u0275listener("click", function AssetListComponent_div_115_div_18_Template_button_click_32_listener() {
      const asset_r25 = \u0275\u0275restoreView(_r24).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleAssetMenu(asset_r25.id));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(33, "svg", 161);
    \u0275\u0275element(34, "circle", 162)(35, "circle", 163)(36, "circle", 164);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(37, AssetListComponent_div_115_div_18_div_37_Template, 18, 6, "div", 165);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const asset_r25 = ctx.$implicit;
    \u0275\u0275classProp("bg-blue-50", asset_r25.selected);
    \u0275\u0275advance(3);
    \u0275\u0275twoWayProperty("ngModel", asset_r25.selected);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate1(" ", asset_r25.name || "Unnamed Asset", " ");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(asset_r25.asset_id || "AST-" + asset_r25.id);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((asset_r25.category == null ? null : asset_r25.category.name) || "General");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate((asset_r25.asset_type == null ? null : asset_r25.asset_type.name) || asset_r25.type || "Standard Asset");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r25.location_hierarchy && asset_r25.location_hierarchy.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r25.location_hierarchy || asset_r25.location_hierarchy.length === 0);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r25.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r25.description);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r25.manufacturer);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r25.model);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r25.capacity);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r25.manufacturer && !asset_r25.model && !asset_r25.capacity);
    \u0275\u0275advance(8);
    \u0275\u0275property("ngIf", asset_r25.showMenu);
  }
}
function AssetListComponent_div_115_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 206)(1, "div", 207)(2, "div", 208)(3, "div", 209)(4, "input", 210);
    \u0275\u0275listener("change", function AssetListComponent_div_115_Template_input_change_4_listener() {
      \u0275\u0275restoreView(_r23);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(5, "div", 211);
    \u0275\u0275text(6, "Asset ID & Name");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 211);
    \u0275\u0275text(8, "Category & Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 211);
    \u0275\u0275text(10, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(11, "div", 211);
    \u0275\u0275text(12, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "div", 211);
    \u0275\u0275text(14, "Manufacturer & Model");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "div", 212);
    \u0275\u0275text(16, "Actions");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(17, "div", 213);
    \u0275\u0275template(18, AssetListComponent_div_115_div_18_Template, 38, 16, "div", 214);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("checked", ctx_r1.selectedCount === ctx_r1.assetList.length && ctx_r1.assetList.length > 0)("indeterminate", ctx_r1.selectedCount > 0 && ctx_r1.selectedCount < ctx_r1.assetList.length);
    \u0275\u0275advance(14);
    \u0275\u0275property("ngForOf", ctx_r1.assetList);
  }
}
function AssetListComponent_app_pagination_116_Template(rf, ctx) {
  if (rf & 1) {
    const _r35 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "app-pagination", 230);
    \u0275\u0275listener("pageChange", function AssetListComponent_app_pagination_116_Template_app_pagination_pageChange_0_listener($event) {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onPageChange($event));
    })("perPageChange", function AssetListComponent_app_pagination_116_Template_app_pagination_perPageChange_0_listener($event) {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onPerPageChange($event));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("pagination", ctx_r1.pagination);
  }
}
var AssetListComponent = class _AssetListComponent {
  router;
  assetService;
  pdfExportService;
  destroy$ = new Subject();
  constructor(router, assetService, pdfExportService) {
    this.router = router;
    this.assetService = assetService;
    this.pdfExportService = pdfExportService;
  }
  summary = {
    totalAssets: 0,
    activeAssets: 0,
    maintenance: 0,
    totalValue: 0,
    assetHealth: 0
  };
  // Loading states
  loading = false;
  exportingExcel = false;
  error = "";
  showMenu = false;
  // Filter dropdowns
  showTypeDropdown = false;
  showStatusDropdown = false;
  showSortDropdown = false;
  showSortDirDropdown = false;
  // Archive modal state
  showArchiveConfirmationModal = false;
  showDeleteConfirmationModal = false;
  showRestoreConfirmationModal = false;
  selectedAssetForRestore = null;
  // View state
  showingArchived = false;
  typeOptions = [
    { value: "", label: "All Types" },
    { value: "fixed", label: "Fixed Asset" },
    { value: "semi-fixed", label: "Semi-Fixed Asset" },
    { value: "mobile", label: "Mobile Asset" },
    { value: "fleet", label: "Fleet Asset" }
  ];
  statusOptions = [
    { value: "", label: "All Status" },
    { value: "Active", label: "Active" },
    { value: "Maintenance", label: "Maintenance" },
    { value: "Inactive", label: "Inactive" },
    { value: "Retired", label: "Retired" }
  ];
  sortOptions = [
    { value: "name", label: "Name" },
    { value: "created_at", label: "Date Added" },
    { value: "status", label: "Status" },
    { value: "manufacturer", label: "Manufacturer" },
    { value: "purchase_price", label: "Cost" }
  ];
  selectedType = this.typeOptions[0];
  selectedStatus = this.statusOptions[0];
  selectedSort = this.sortOptions[0];
  selectedSortDir = "desc";
  // Standard dropdown options (Rule 1)
  sortDropdownOptions = [];
  selectedSortOption = null;
  assetTypeDropdownOptions = [];
  selectedAssetTypeOption = null;
  assetStatusDropdownOptions = [];
  selectedAssetStatusOption = null;
  viewType = "grid";
  searchQuery = "";
  // Tabs: Active | Archive
  activeTab = "active";
  // Filter parameters
  currentFilters = {
    search: "",
    type: "",
    status: "",
    category_id: "",
    location_id: "",
    sort_by: "name",
    sort_direction: "desc",
    page: 1,
    per_page: 20,
    archived: false
  };
  assetList = [];
  categories = [];
  locations = [];
  assetTypes = [];
  showAssetTypeDropdown = false;
  selectedAssetType = null;
  assetStatuses = [];
  showAssetStatusDropdown = false;
  selectedAssetStatus = null;
  // Asset menu state
  openAssetMenuId = null;
  // Pagination
  pagination = {
    current_page: 1,
    last_page: 1,
    per_page: 20,
    total: 0,
    from: 0,
    to: 0
  };
  selectAllAssets = false;
  ngOnInit() {
    this.loadAssetStatistics();
    this.loadAssets();
    this.loadCategories();
    this.loadLocations();
    this.assetService.getAssetTypes().subscribe((res) => {
      if (res.success && res.data) {
        this.assetTypes = [{ id: "", name: "All Types", label: "All Types", icon: null }, ...res.data.map((type) => ({
          id: type.id,
          name: type.name,
          label: type.name,
          icon: type.icon || null
        }))];
        this.selectedAssetType = this.assetTypes[0];
        this.assetTypeDropdownOptions = this.assetTypes.map((t) => ({ id: t.id, name: t.label || t.name, icon: t.icon }));
        this.selectedAssetTypeOption = this.assetTypeDropdownOptions[0] || null;
      }
    });
    this.assetService.getAssetStatuses().subscribe((res) => {
      if (res.success && res.data) {
        this.assetStatuses = [{ id: "", name: "All Statuses", label: "All Statuses", color: null }, ...res.data.map((status) => ({
          id: status.id,
          name: status.name,
          label: status.name,
          color: status.color || null
        }))];
        this.selectedAssetStatus = this.assetStatuses[0];
        this.assetStatusDropdownOptions = this.assetStatuses.map((s) => ({ id: s.id, name: s.label || s.name }));
        this.selectedAssetStatusOption = this.assetStatusDropdownOptions[0] || null;
      }
    });
    this.sortDropdownOptions = this.sortOptions.map((o) => ({ id: o.value, name: o.label }));
    this.selectedSortOption = this.sortDropdownOptions.find((o) => o.id === this.selectedSort.value) || this.sortDropdownOptions[0];
  }
  loadAssetStatistics() {
    this.assetService.getAssetStatistics().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          const data = response.data;
          this.summary = {
            totalAssets: data.total_assets || 0,
            activeAssets: data.active_assets || 0,
            maintenance: data.maintenance || 0,
            totalValue: data.total_asset_value || 0,
            assetHealth: data.total_asset_health && data.total_assets ? Math.round(data.total_asset_health / data.total_assets) : 100
          };
        }
      },
      error: (error) => {
        console.error("Error loading asset statistics:", error);
      }
    });
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
  }
  // loadAssetStatistics() {
  //   this.assetService.getAssetStatistics()
  //     .pipe(takeUntil(this.destroy$))
  //     .subscribe({
  //       next: (response) => {
  //         if (response.success && response.data) {
  //           const data = response.data;
  //           this.summary = {
  //             totalAssets: data.total_assets || 0,
  //             activeAssets: data.active_assets || 0,
  //             maintenance: data.maintenance || 0,
  //             totalValue: data.total_asset_value || 0,
  //             assetHealth: data.total_asset_health ? Math.round(data.total_asset_health / (data.total_assets || 1)) : 100
  //           };
  //         }
  //       },
  //       error: (error) => {
  //         console.error('Error loading asset statistics:', error);
  //         // Keep default summary values on error
  //       }
  //     });
  // }
  loadAssets() {
    this.loading = true;
    this.error = "";
    const params = {};
    if (this.currentFilters.search) {
      params.search = this.currentFilters.search;
    }
    if (this.currentFilters.type) {
      params.type = this.currentFilters.type;
    }
    if (this.currentFilters.status) {
      params.status = this.currentFilters.status;
    }
    if (this.currentFilters.category_id) {
      params.category_id = this.currentFilters.category_id;
    }
    if (this.currentFilters.location_id) {
      params.location_id = this.currentFilters.location_id;
    }
    if (this.currentFilters.sort_by) {
      params.sort_by = this.currentFilters.sort_by;
    }
    if (this.currentFilters.sort_direction) {
      params.sort_direction = this.currentFilters.sort_direction;
    }
    params.archived = this.currentFilters.archived;
    params.page = this.currentFilters.page;
    params.per_page = this.currentFilters.per_page;
    this.assetService.getAssets(params).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.assetList = (response.data.assets || response.data).map((asset) => __spreadProps(__spreadValues({}, asset), {
            selected: false,
            showMenu: false
          }));
          if (response.data.pagination) {
            this.pagination = response.data.pagination;
          }
        } else {
          this.error = response.message || "Failed to load assets";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading assets";
        this.loading = false;
      }
    });
  }
  loadCategories() {
    this.assetService.getAssetCategories().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.categories = response.data.categories;
        }
      },
      error: (error) => {
        console.error("Error loading categories:", error);
      }
    });
  }
  loadLocations() {
    this.assetService.getLocations().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.locations = response.data.locations || response.data;
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
      }
    });
  }
  onSearch() {
    this.currentFilters.search = this.searchQuery;
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  applyFilters() {
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  get selectedCount() {
    return this.assetList.filter((asset) => asset.selected).length;
  }
  toggleSelectAllAssets() {
    const allSelected = this.selectedCount === this.assetList.length;
    this.assetList.forEach((asset) => asset.selected = !allSelected);
    this.selectAllAssets = !allSelected;
  }
  selectType(type) {
    const selectedOption = this.typeOptions.find((option) => option.value === type);
    if (selectedOption) {
      this.selectedType = selectedOption;
      this.currentFilters.type = selectedOption.value;
    }
    this.showTypeDropdown = false;
    this.applyFilters();
  }
  selectStatus(status) {
    const selectedOption = this.statusOptions.find((option) => option.value === status);
    if (selectedOption) {
      this.selectedStatus = selectedOption;
      this.currentFilters.status = selectedOption.value;
    }
    this.showStatusDropdown = false;
    this.applyFilters();
  }
  selectSort(sort) {
    const selectedOption = this.sortOptions.find((option) => option.value === sort);
    if (selectedOption) {
      this.selectedSort = selectedOption;
      this.currentFilters.sort_by = selectedOption.value;
    }
    this.showSortDropdown = false;
    this.applyFilters();
  }
  selectSortDir(dir) {
    this.selectedSortDir = dir;
    this.currentFilters.sort_direction = dir;
    this.showSortDirDropdown = false;
    this.applyFilters();
  }
  toggleSortDir() {
    this.selectedSortDir = this.selectedSortDir === "asc" ? "desc" : "asc";
    this.currentFilters.sort_direction = this.selectedSortDir;
    this.applyFilters();
  }
  duplicateSelected() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0)
      return;
    const assetToDuplicate = selectedAssets[0];
    this.router.navigate(["/assets/create"], {
      queryParams: {
        duplicate: true,
        sourceId: assetToDuplicate.id
      }
    });
    this.clearSelection();
  }
  generateSerialNumber() {
    const timestamp = Date.now().toString();
    const random = Math.random().toString(36).substring(2, 8).toUpperCase();
    return `SN${timestamp.slice(-6)}${random}`;
  }
  clearSelection() {
    this.assetList.forEach((asset) => asset.selected = false);
    this.selectAllAssets = false;
  }
  showArchiveModal() {
    if (this.selectedCount > 0) {
      this.showArchiveConfirmationModal = true;
    }
  }
  closeArchiveModal() {
    this.showArchiveConfirmationModal = false;
  }
  showDeleteModal() {
    if (this.selectedCount > 0) {
      this.showDeleteConfirmationModal = true;
    }
  }
  closeDeleteModal() {
    this.showDeleteConfirmationModal = false;
  }
  closeRestoreModal() {
    this.showRestoreConfirmationModal = false;
    this.selectedAssetForRestore = null;
  }
  restoreSelectedAsset(restoreReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length > 1) {
      this.restoreBulkAssets(restoreReason);
    } else if (this.selectedAssetForRestore) {
      const payload = {};
      if (restoreReason && restoreReason.trim()) {
        payload.restore_reason = restoreReason.trim();
      }
      this.assetService.restoreAsset(this.selectedAssetForRestore.id, payload).pipe(takeUntil(this.destroy$)).subscribe({
        next: (response) => {
          if (response.success) {
            this.loadAssets();
            this.loadAssetStatistics();
            console.log("Asset restored successfully");
          } else {
            this.error = response.message || "Failed to restore asset";
          }
          this.closeRestoreModal();
        },
        error: (error) => {
          this.error = error.error?.message || "An error occurred while restoring the asset";
          this.closeRestoreModal();
        }
      });
    } else {
      this.closeRestoreModal();
    }
  }
  deleteSelected(deletionReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeDeleteModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    const payload = { asset_ids: assetIds };
    if (deletionReason && deletionReason.trim()) {
      payload.deletion_reason = deletionReason.trim();
    }
    this.assetService.bulkDeleteAssets(payload).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.deleted ? response.deleted.length : 0;
            this.error = `${successCount} assets deleted successfully, ${failedCount} failed to delete`;
          } else {
            const deletedCount = response.deleted ? response.deleted.length : selectedAssets.length;
            console.log(`${deletedCount} assets deleted successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to delete assets";
        }
        this.closeDeleteModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while deleting assets";
        this.closeDeleteModal();
      }
    });
  }
  viewAsset(asset) {
    this.router.navigate(["/assets/preview", asset.id]);
  }
  archiveSelected(archiveReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeArchiveModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    const payload = { asset_ids: assetIds };
    if (archiveReason && archiveReason.trim()) {
      payload.archive_reason = archiveReason.trim();
    }
    this.assetService.bulkArchiveAssets(payload).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.archived ? response.archived.length : 0;
            this.error = `${successCount} assets archived successfully, ${failedCount} failed to archive`;
          } else {
            const archivedCount = response.archived ? response.archived.length : selectedAssets.length;
            console.log(`${archivedCount} assets archived successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to archive assets";
        }
        this.closeArchiveModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while archiving assets";
        this.closeArchiveModal();
      }
    });
  }
  toggleTypeDropdown() {
    this.showTypeDropdown = !this.showTypeDropdown;
    this.showStatusDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showTypeDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleSortDropdown() {
    this.showSortDropdown = !this.showSortDropdown;
    this.showTypeDropdown = false;
    this.showStatusDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleArchivedView() {
    this.setTab(this.showingArchived ? "active" : "archive");
    this.showMenu = false;
  }
  goToCreateAsset() {
    this.router.navigate(["assets/create"]);
  }
  exportToPdf() {
    if (this.assetList.length > 0) {
      const title = this.showingArchived ? "Archived Assets Export Report" : "Asset Export Report";
      this.pdfExportService.exportAssetsToPdf(this.assetList, title);
      this.showMenu = false;
    } else {
      console.log("No assets to export");
    }
  }
  exportToExcel() {
    if (this.assetList.length > 0) {
      this.exportingExcel = true;
      this.assetService.exportAssetsToExcel(this.showingArchived).subscribe({
        next: (blob) => {
          const url = window.URL.createObjectURL(blob);
          const link = document.createElement("a");
          link.href = url;
          const filename = this.showingArchived ? "archived-assets-export.xlsx" : "assets-export.xlsx";
          link.download = filename;
          link.click();
          window.URL.revokeObjectURL(url);
          this.exportingExcel = false;
          this.showMenu = false;
        },
        error: (error) => {
          console.error("Error exporting to Excel:", error);
          this.exportingExcel = false;
        }
      });
    } else {
      console.log("No assets to export");
    }
  }
  getStatusColor(status) {
    const colors = {
      "Active": "green",
      "Maintenance": "orange",
      "Inactive": "gray",
      "Retired": "red"
    };
    return colors[status] || "gray";
  }
  // Asset menu methods
  toggleAssetMenu(assetId) {
    this.assetList.forEach((asset2) => {
      if (asset2.id !== assetId) {
        asset2.showMenu = false;
      }
    });
    const asset = this.assetList.find((a) => a.id === assetId);
    if (asset) {
      asset.showMenu = !asset.showMenu;
    }
  }
  editAsset(asset) {
    this.router.navigate(["/assets", asset.id, "edit"]);
    asset.showMenu = false;
  }
  duplicateAsset(asset) {
    this.router.navigate(["/assets/create"], {
      queryParams: {
        duplicate: true,
        sourceId: asset.id
      }
    });
    asset.showMenu = false;
  }
  archiveAsset(asset) {
    this.assetList.forEach((a) => a.selected = false);
    asset.selected = true;
    this.showArchiveConfirmationModal = true;
    asset.showMenu = false;
  }
  deleteAsset(asset) {
    this.assetList.forEach((a) => a.selected = false);
    asset.selected = true;
    this.showDeleteConfirmationModal = true;
    asset.showMenu = false;
  }
  restoreSelected() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      return;
    }
    this.showRestoreConfirmationModal = true;
  }
  restoreBulkAssets(restoreReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeRestoreModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    this.assetService.bulkRestoreAssets(assetIds, restoreReason).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.restored ? response.restored.length : 0;
            this.error = `${successCount} assets restored successfully, ${failedCount} failed to restore`;
          } else {
            const restoredCount = response.restored ? response.restored.length : selectedAssets.length;
            console.log(`${restoredCount} assets restored successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to restore assets";
        }
        this.closeRestoreModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while restoring assets";
        this.closeRestoreModal();
      }
    });
  }
  restoreAsset(asset) {
    this.selectedAssetForRestore = asset;
    this.showRestoreConfirmationModal = true;
    asset.showMenu = false;
  }
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showStatusDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.currentFilters.type = type.id;
    this.showAssetTypeDropdown = false;
    this.applyFilters();
  }
  toggleAssetStatusDropdown() {
    this.showAssetStatusDropdown = !this.showAssetStatusDropdown;
  }
  selectAssetStatus(status) {
    this.selectedAssetStatus = status;
    this.currentFilters.status = status.id;
    this.showAssetStatusDropdown = false;
    this.applyFilters();
  }
  // Standard dropdown handlers (Rule 1)
  onSelectAssetType(option) {
    this.selectedAssetTypeOption = option;
    this.selectedAssetType = this.assetTypes.find((t) => t.id === (option?.id ?? "")) || null;
    this.currentFilters.type = option?.id || "";
    this.applyFilters();
  }
  onSelectAssetStatus(option) {
    this.selectedAssetStatusOption = option;
    this.selectedAssetStatus = this.assetStatuses.find((s) => s.id === (option?.id ?? "")) || null;
    this.currentFilters.status = option?.id || "";
    this.applyFilters();
  }
  onSelectSort(option) {
    this.selectedSortOption = option;
    const resolved = this.sortOptions.find((o) => o.value === (option?.id || "")) || this.sortOptions[0];
    this.selectedSort = resolved;
    this.currentFilters.sort_by = resolved.value;
    this.applyFilters();
  }
  onDocumentClick(event) {
    const target = event.target;
    if (!target.closest(".menu-container")) {
      this.showMenu = false;
    }
  }
  // QR Code functionality
  generateQRCodeForAsset(asset) {
    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;
    QRCode.toDataURL(publicUrl, {
      width: 300,
      margin: 2,
      color: {
        dark: "#000000",
        light: "#FFFFFF"
      }
    }).then((dataUrl) => {
      const link = document.createElement("a");
      link.href = dataUrl;
      link.download = `asset-${asset.id}-qr.png`;
      link.click();
    }).catch((error) => {
      console.error("Error generating QR code:", error);
    });
  }
  generateQRCodeForSelectedAssets() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      console.log("No assets selected");
      return;
    }
    selectedAssets.forEach((asset) => {
      this.generateQRCodeForAsset(asset);
    });
  }
  copyPublicUrl(asset) {
    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;
    navigator.clipboard.writeText(publicUrl).then(() => {
      console.log("Public URL copied to clipboard");
    });
  }
  /**
   * Handle pagination page change
   */
  onPageChange(page) {
    this.currentFilters.page = page;
    this.loadAssets();
  }
  /**
   * Handle pagination per page change
   */
  onPerPageChange(perPage) {
    this.currentFilters.per_page = perPage;
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  /**
   * Set current tab and apply archived filter accordingly
   */
  setTab(tab) {
    this.activeTab = tab;
    this.showingArchived = tab === "archive";
    this.currentFilters.archived = this.showingArchived;
    this.currentFilters.page = 1;
    this.clearSelection();
    this.loadAssets();
  }
  static \u0275fac = function AssetListComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetListComponent)(\u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(PdfExportService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetListComponent, selectors: [["app-asset-list"]], hostBindings: function AssetListComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetListComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 120, vars: 52, consts: [[1, "asset-list-page", "min-h-screen", "bg-gray-50", "p-6"], [1, "mb-6", "flex", "flex-col", "md:flex-row", "md:items-center", "md:justify-between"], [1, "text-2xl", "font-bold", "text-gray-900", "mb-1"], [1, "text-gray-600", "text-base"], [1, "flex", "items-center", "space-x-3", "mt-4", "md:mt-0"], [1, "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "px-5", "py-2", "rounded-lg", "shadow-sm", "transition-colors", "flex", "items-center", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "relative", 3, "click"], [1, "w-10", "h-10", "flex", "items-center", "justify-center", "rounded-lg", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-gray-600"], ["cx", "12", "cy", "5", "r", "2"], ["cx", "12", "cy", "12", "r", "2"], ["cx", "12", "cy", "19", "r", "2"], ["class", "absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50", 4, "ngIf"], [1, "grid", "grid-cols-1", "sm:grid-cols-2", "lg:grid-cols-5", "gap-4", "mb-8"], [1, "rounded-xl", "bg-blue-50", "border", "border-blue-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "flex", "items-center", "justify-between", "mb-2"], [1, "text-base", "font-medium", "text-gray-700"], [1, "w-10", "h-10", "bg-blue-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-blue-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], [1, "text-3xl", "font-bold", "text-gray-900"], ["href", "#", 1, "text-sm", "text-blue-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-green-50", "border", "border-green-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-green-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-green-400"], ["cx", "12", "cy", "12", "r", "8", "stroke", "currentColor", "stroke-width", "2", "fill", "none"], ["cx", "12", "cy", "12", "r", "4", "fill", "currentColor", 1, "text-green-400"], [1, "text-sm", "text-green-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-orange-50", "border", "border-orange-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-orange-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-orange-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"], [1, "text-sm", "text-orange-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-purple-50", "border", "border-purple-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-purple-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-purple-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"], [1, "text-sm", "text-purple-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-cyan-50", "border", "border-cyan-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-cyan-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-cyan-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"], [1, "text-sm", "text-cyan-600", "font-medium", "mt-1"], [1, "navigation-tabs", "mb-4"], [1, "tabs-nav"], [1, "tab-link", "block", "w-full", "text-center", 3, "click"], [1, "flex", "flex-col", "md:flex-row", "md:items-center", "md:justify-between", "mb-6"], [1, "flex-1", "flex", "flex-col", "space-y-3", "md:space-y-0", "md:flex-row", "md:items-center", "md:space-x-3"], [1, "relative", "w-full", "md:w-80"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "absolute", "left-3", "top-1/2", "transform", "-translate-y-1/2", "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"], ["type", "text", "placeholder", "Search assets by name, location, or ID...", 1, "w-full", "pl-10", "pr-3", "py-2", "border-2", "border-blue-300", "rounded-xl", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "placeholder-gray-400", 3, "ngModelChange", "input", "ngModel"], [3, "selectionChange", "placeholder", "options", "selectedOption", "minWidth"], [4, "ngIf"], [1, "relative"], [1, "px-4", "py-3", "bg-gray-100", "rounded-lg", "text-gray-700", "flex", "items-center", "space-x-2", "min-w-[70px]", "cursor-pointer", 3, "click"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "flex", "items-center", "space-x-2", "mt-4", "md:mt-0"], [1, "w-10", "h-10", "flex", "items-center", "justify-center", "rounded-lg", "border", "border-gray-200", "hover:bg-blue-50", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["x", "4", "y", "4", "width", "7", "height", "7", "rx", "2"], ["x", "13", "y", "4", "width", "7", "height", "7", "rx", "2"], ["x", "4", "y", "13", "width", "7", "height", "7", "rx", "2"], ["x", "13", "y", "13", "width", "7", "height", "7", "rx", "2"], ["x", "4", "y", "6", "width", "16", "height", "4", "rx", "2"], ["x", "4", "y", "14", "width", "16", "height", "4", "rx", "2"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], ["class", "w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center", 4, "ngIf"], ["class", "w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between", 4, "ngIf"], ["class", "text-center py-20", 4, "ngIf"], ["class", "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2 mb-6", 4, "ngIf"], ["class", "bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-6", 4, "ngIf"], [3, "pagination", "pageChange", "perPageChange", 4, "ngIf"], [3, "closeModal", "confirmArchive", "isOpen", "selectedCount"], [3, "closeModal", "confirmDelete", "isOpen", "selectedCount"], [3, "closeModal", "confirmRestore", "isOpen", "selectedCount", "assetName"], [1, "absolute", "right-0", "mt-2", "w-64", "bg-white", "rounded-xl", "shadow-lg", "border", "border-gray-200", "py-2", "z-50"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["class", "w-5 h-5 text-gray-500", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], ["class", "animate-spin w-5 h-5 text-gray-500", "fill", "none", "viewBox", "0 0 24 24", 4, "ngIf"], ["routerLink", "/assets/import", 1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"], [1, "border-t", "border-gray-100", "my-2"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-orange-50", "text-left", "transition-colors", "cursor-pointer", "text-orange-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-orange-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 12H4"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-red-50", "text-left", "transition-colors", "cursor-pointer", "text-red-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-5", "h-5", "text-gray-500"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M16 17l-4 4m0 0l-4-4m4 4V3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7l4-4m0 0l4 4m-4-4v18"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "w-full", "bg-white", "rounded-xl", "border", "border-gray-200", "px-6", "py-3", "mb-4", "flex", "items-center"], ["type", "button", 1, "focus:outline-none", "inline-flex", "items-center", "justify-center", "w-6", "h-6", "rounded-full", "border-2", "border-blue-400", "mr-3", "transition-colors", 3, "click"], [1, "w-3", "h-3", "rounded-full", "block", "bg-white", "transition-colors"], [1, "font-semibold", "text-gray-900"], [1, "w-full", "bg-white", "rounded-xl", "border", "border-gray-200", "px-6", "py-3", "mb-4", "flex", "items-center", "justify-between"], [1, "flex", "items-center", "space-x-4"], [1, "w-3", "h-3", "rounded-full", "block", "transition-colors"], [1, "font-bold", "text-gray-900"], [1, "bg-blue-50", "text-blue-600", "px-3", "py-1", "rounded-full", "text-sm", "flex", "items-center", "font-medium"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17 16l4-4m0 0l-4-4m4 4H7"], [1, "flex", "items-center", "space-x-2"], ["class", "bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], [1, "bg-purple-50", "text-purple-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"], ["class", "bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], ["class", "bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], ["class", "bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], [1, "bg-transparent", "text-gray-700", "font-semibold", "px-2", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", 3, "click"], [1, "text-xl"], [1, "bg-gray-50", "text-gray-700", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "border", "border-gray-200", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["x", "8", "y", "8", "width", "8", "height", "8", "rx", "2", "stroke-width", "2"], ["x", "4", "y", "4", "width", "8", "height", "8", "rx", "2", "stroke-width", "2"], [1, "bg-orange-50", "text-orange-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["x", "4", "y", "4", "width", "16", "height", "16", "rx", "2", "stroke-width", "2"], ["d", "M8 12h8", "stroke-width", "2"], [1, "bg-red-50", "text-red-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["d", "M8 8l8 8M8 16l8-8", "stroke-width", "2"], [1, "bg-green-50", "text-green-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "text-center", "py-20"], [1, "w-16", "h-16", "bg-gray-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-gray-400"], [1, "text-gray-600", "mb-4"], [1, "grid", "grid-cols-1", "sm:grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-6", "mt-2", "mb-6"], ["class", "rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden", 3, "border-blue-400", 4, "ngFor", "ngForOf"], [1, "rounded-2xl", "border", "border-blue-200", "bg-white", "shadow-sm", "flex", "flex-col", "transition-all", "hover:shadow-md", "overflow-hidden"], [1, "relative", "bg-[#e0edff]", "h-32", "flex", "flex-col", "items-center", "justify-center"], [1, "absolute", "left-4", "top-4", "flex", "items-center"], ["type", "checkbox", 1, "asset-card-checkbox", 3, "ngModelChange", "ngModel"], [1, "absolute", "right-4", "top-4", "flex", "items-center", "space-x-2"], ["class", "bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full", 4, "ngIf"], [3, "class", 4, "ngIf"], [1, "w-8", "h-8", "flex", "items-center", "justify-center", "rounded-full", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["cx", "12", "cy", "6", "r", "1.5"], ["cx", "12", "cy", "12", "r", "1.5"], ["cx", "12", "cy", "18", "r", "1.5"], ["class", "absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-blue-400"], [1, "flex-1", "flex", "flex-col", "justify-between", "p-6", "pt-4"], [1, "font-semibold", "text-lg", "text-gray-900", "mb-2", "cursor-pointer", "hover:text-blue-600", "transition-colors", 3, "click"], ["class", "text-sm text-gray-700 mb-1", 4, "ngIf"], ["class", "text-sm text-gray-700 mb-2", 4, "ngIf"], [1, "bg-green-100", "text-green-700", "text-xs", "font-semibold", "px-3", "py-1", "rounded-full"], [1, "absolute", "right-0", "top-full", "mt-1", "w-48", "bg-white", "rounded-lg", "shadow-lg", "border", "border-gray-200", "py-1", "z-50"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors", 3, "click", 4, "ngIf"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-purple-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-500"], [1, "text-sm", "text-purple-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-blue-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"], [1, "text-sm", "text-blue-600"], [1, "border-t", "border-gray-100", "my-1"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors", 3, "click", 4, "ngIf"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors", 3, "click", 4, "ngIf"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors", 3, "click", 4, "ngIf"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"], [1, "text-sm", "text-gray-700"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-orange-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-orange-500"], [1, "text-sm", "text-orange-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-green-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-500"], [1, "text-sm", "text-green-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-red-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-red-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"], [1, "text-sm", "text-red-600"], [1, "text-sm", "text-gray-700", "mb-1"], [1, "font-medium", "text-gray-600"], [1, "text-sm", "text-gray-700", "mb-2"], [1, "text-xs", "text-gray-500", "mt-1"], [4, "ngFor", "ngForOf"], [1, "bg-white", "rounded-lg", "shadow-sm", "border", "border-gray-200", "overflow-hidden", "mb-6"], [1, "px-6", "py-4", "border-b", "border-gray-200", "bg-gray-50"], [1, "grid", "grid-cols-12", "gap-4", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider"], [1, "col-span-1", "flex", "items-center"], ["type", "checkbox", 1, "asset-card-checkbox", 3, "change", "checked", "indeterminate"], [1, "col-span-2"], [1, "col-span-1"], [1, "divide-y", "divide-gray-200"], ["class", "px-6 py-4 hover:bg-gray-50 transition-colors", 3, "bg-blue-50", 4, "ngFor", "ngForOf"], [1, "px-6", "py-4", "hover:bg-gray-50", "transition-colors"], [1, "grid", "grid-cols-12", "gap-4", "items-center"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], [1, "font-medium", "text-gray-900", "hover:text-blue-600", "cursor-pointer", "transition-colors", 3, "click"], [1, "text-sm", "text-gray-900"], ["class", "text-sm text-gray-600", 4, "ngIf"], ["class", "text-sm text-gray-400", 4, "ngIf"], ["class", "text-sm text-gray-900", 4, "ngIf"], ["class", "text-sm text-gray-500", 4, "ngIf"], [1, "text-sm", "text-gray-600"], [1, "text-sm", "text-gray-400"], [1, "font-medium"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1z"], [3, "pageChange", "perPageChange", "pagination"]], template: function AssetListComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 0)(1, "div", 1)(2, "div")(3, "h1", 2);
      \u0275\u0275text(4, "Asset Intelligence Hub");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(5, "p", 3);
      \u0275\u0275text(6, "Advanced asset monitoring with AI-powered insights and real-time analytics");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(7, "div", 4)(8, "button", 5);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_8_listener() {
        return ctx.goToCreateAsset();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(9, "svg", 6);
      \u0275\u0275element(10, "path", 7);
      \u0275\u0275elementEnd();
      \u0275\u0275text(11, " Add Asset ");
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(12, "div", 8);
      \u0275\u0275listener("click", function AssetListComponent_Template_div_click_12_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(13, "button", 9);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_13_listener() {
        return ctx.showMenu = !ctx.showMenu;
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(14, "svg", 10);
      \u0275\u0275element(15, "circle", 11)(16, "circle", 12)(17, "circle", 13);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(18, AssetListComponent_div_18_Template, 38, 7, "div", 14);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(19, "div", 15)(20, "div", 16)(21, "div", 17)(22, "span", 18);
      \u0275\u0275text(23, "Total Assets");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(24, "span", 19);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(25, "svg", 20);
      \u0275\u0275element(26, "path", 21);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(27, "div", 22);
      \u0275\u0275text(28);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(29, "a", 23);
      \u0275\u0275text(30, "Assets in system");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(31, "div", 24)(32, "div", 17)(33, "span", 18);
      \u0275\u0275text(34, "Active");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(35, "span", 25);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(36, "svg", 26);
      \u0275\u0275element(37, "circle", 27)(38, "circle", 28);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(39, "div", 22);
      \u0275\u0275text(40);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(41, "span", 29);
      \u0275\u0275text(42, "Operational assets");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(43, "div", 30)(44, "div", 17)(45, "span", 18);
      \u0275\u0275text(46, "Maintenance");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(47, "span", 31);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(48, "svg", 32);
      \u0275\u0275element(49, "path", 33);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(50, "div", 22);
      \u0275\u0275text(51);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(52, "span", 34);
      \u0275\u0275text(53, "Under maintenance");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(54, "div", 35)(55, "div", 17)(56, "span", 18);
      \u0275\u0275text(57, "Total Value");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(58, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(59, "svg", 37);
      \u0275\u0275element(60, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(61, "div", 22);
      \u0275\u0275text(62);
      \u0275\u0275pipe(63, "currency");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(64, "span", 39);
      \u0275\u0275text(65, "Asset portfolio value");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(66, "div", 40)(67, "div", 17)(68, "span", 18);
      \u0275\u0275text(69, "Asset Health");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(70, "span", 41);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(71, "svg", 42);
      \u0275\u0275element(72, "path", 43);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(73, "div", 22);
      \u0275\u0275text(74);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(75, "span", 44);
      \u0275\u0275text(76, "Excellent health");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(77, "div", 45)(78, "nav", 46)(79, "a", 47);
      \u0275\u0275listener("click", function AssetListComponent_Template_a_click_79_listener() {
        return ctx.setTab("active");
      });
      \u0275\u0275text(80, "Active Assets");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(81, "a", 47);
      \u0275\u0275listener("click", function AssetListComponent_Template_a_click_81_listener() {
        return ctx.setTab("archive");
      });
      \u0275\u0275text(82, "Archived Assets");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(83, "div", 48)(84, "div", 49)(85, "div", 50);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(86, "svg", 51);
      \u0275\u0275element(87, "path", 52);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(88, "input", 53);
      \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_Template_input_ngModelChange_88_listener($event) {
        \u0275\u0275twoWayBindingSet(ctx.searchQuery, $event) || (ctx.searchQuery = $event);
        return $event;
      });
      \u0275\u0275listener("input", function AssetListComponent_Template_input_input_88_listener() {
        return ctx.onSearch();
      });
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(89, "app-global-dropdown", 54);
      \u0275\u0275listener("selectionChange", function AssetListComponent_Template_app_global_dropdown_selectionChange_89_listener($event) {
        return ctx.onSelectAssetType($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275template(90, AssetListComponent_ng_container_90_Template, 2, 4, "ng-container", 55);
      \u0275\u0275elementStart(91, "app-global-dropdown", 54);
      \u0275\u0275listener("selectionChange", function AssetListComponent_Template_app_global_dropdown_selectionChange_91_listener($event) {
        return ctx.onSelectSort($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(92, "div", 56)(93, "button", 57);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_93_listener() {
        return ctx.toggleSortDir();
      });
      \u0275\u0275template(94, AssetListComponent__svg_svg_94_Template, 2, 0, "svg", 58)(95, AssetListComponent__svg_svg_95_Template, 2, 0, "svg", 58);
      \u0275\u0275elementStart(96, "span");
      \u0275\u0275text(97);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(98, "div", 59)(99, "button", 60);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_99_listener() {
        return ctx.viewType = "grid";
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(100, "svg", 61);
      \u0275\u0275element(101, "rect", 62)(102, "rect", 63)(103, "rect", 64)(104, "rect", 65);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(105, "button", 60);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_105_listener() {
        return ctx.viewType = "list";
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(106, "svg", 61);
      \u0275\u0275element(107, "rect", 66)(108, "rect", 67);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(109, AssetListComponent_div_109_Template, 10, 0, "div", 68)(110, AssetListComponent_div_110_Template, 11, 1, "div", 68)(111, AssetListComponent_div_111_Template, 5, 1, "div", 69)(112, AssetListComponent_div_112_Template, 23, 13, "div", 70)(113, AssetListComponent_div_113_Template, 10, 0, "div", 71)(114, AssetListComponent_div_114_Template, 2, 1, "div", 72)(115, AssetListComponent_div_115_Template, 19, 3, "div", 73)(116, AssetListComponent_app_pagination_116_Template, 1, 1, "app-pagination", 74);
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(117, "app-archive-confirmation-modal", 75);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_archive_confirmation_modal_closeModal_117_listener() {
        return ctx.closeArchiveModal();
      })("confirmArchive", function AssetListComponent_Template_app_archive_confirmation_modal_confirmArchive_117_listener() {
        return ctx.archiveSelected();
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(118, "app-delete-confirmation-modal", 76);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_delete_confirmation_modal_closeModal_118_listener() {
        return ctx.closeDeleteModal();
      })("confirmDelete", function AssetListComponent_Template_app_delete_confirmation_modal_confirmDelete_118_listener($event) {
        return ctx.deleteSelected($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(119, "app-restore-confirmation-modal", 77);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_restore_confirmation_modal_closeModal_119_listener() {
        return ctx.closeRestoreModal();
      })("confirmRestore", function AssetListComponent_Template_app_restore_confirmation_modal_confirmRestore_119_listener($event) {
        return ctx.restoreSelectedAsset($event);
      });
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(18);
      \u0275\u0275property("ngIf", ctx.showMenu);
      \u0275\u0275advance(10);
      \u0275\u0275textInterpolate(ctx.summary.totalAssets);
      \u0275\u0275advance(12);
      \u0275\u0275textInterpolate(ctx.summary.activeAssets);
      \u0275\u0275advance(11);
      \u0275\u0275textInterpolate(ctx.summary.maintenance);
      \u0275\u0275advance(11);
      \u0275\u0275textInterpolate(\u0275\u0275pipeBind1(63, 50, ctx.summary.totalValue));
      \u0275\u0275advance(12);
      \u0275\u0275textInterpolate1("", ctx.summary.assetHealth, "%");
      \u0275\u0275advance(5);
      \u0275\u0275classProp("active", ctx.activeTab === "active");
      \u0275\u0275advance(2);
      \u0275\u0275classProp("active", ctx.activeTab === "archive");
      \u0275\u0275advance(7);
      \u0275\u0275twoWayProperty("ngModel", ctx.searchQuery);
      \u0275\u0275advance();
      \u0275\u0275property("placeholder", "Select asset type")("options", ctx.assetTypeDropdownOptions)("selectedOption", ctx.selectedAssetTypeOption)("minWidth", "280px");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.activeTab === "active");
      \u0275\u0275advance();
      \u0275\u0275property("placeholder", "Select sort field")("options", ctx.sortDropdownOptions)("selectedOption", ctx.selectedSortOption)("minWidth", "240px");
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-100", ctx.selectedSortDir === "asc")("text-blue-700", ctx.selectedSortDir === "asc");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedSortDir === "desc");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedSortDir === "asc");
      \u0275\u0275advance(2);
      \u0275\u0275textInterpolate(ctx.selectedSortDir === "asc" ? "A-Z" : "Z-A");
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-100", ctx.viewType === "grid")("text-blue-700", ctx.viewType === "grid");
      \u0275\u0275advance(6);
      \u0275\u0275classProp("bg-blue-100", ctx.viewType === "list")("text-blue-700", ctx.viewType === "list");
      \u0275\u0275advance(4);
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && ctx.selectedCount === 0 && !ctx.loading && !ctx.error);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && ctx.selectedCount > 0 && !ctx.loading && !ctx.error);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.loading && !ctx.error && ctx.assetList.length === 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && !ctx.loading && !ctx.error && ctx.assetList.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "list" && !ctx.loading && !ctx.error && ctx.assetList.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.assetList.length > 0 || ctx.pagination.total > 0);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showArchiveConfirmationModal)("selectedCount", ctx.selectedCount);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showDeleteConfirmationModal)("selectedCount", ctx.selectedCount);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showRestoreConfirmationModal)("selectedCount", ctx.selectedCount > 0 ? ctx.selectedCount : 1)("assetName", (ctx.selectedAssetForRestore == null ? null : ctx.selectedAssetForRestore.name) || "");
    }
  }, dependencies: [CurrencyPipe, NgIf, NgForOf, FormsModule, DefaultValueAccessor, CheckboxControlValueAccessor, NgControlStatus, NgModel, ArchiveConfirmationModalComponent, DeleteConfirmationModalComponent, RestoreConfirmationModalComponent, RouterModule, RouterLink, PaginationComponent, GlobalDropdownComponent], styles: ['\n\n.tabs[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  text-align: center;\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%] {\n  border-radius: 12px;\n  padding: 0.75rem 0;\n  font-weight: 500;\n  color: #64748b;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: #f3f4f6;\n}\n.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover {\n  background: #e5e7eb;\n}\n.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%] {\n  background: #2563eb;\n  color: #fff;\n  font-weight: 600;\n}\n.navigation-tabs[_ngcontent-%COMP%]   .tabs-nav[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 12px;\n}\n.navigation-tabs[_ngcontent-%COMP%]   .tab-link[_ngcontent-%COMP%] {\n  display: inline-block;\n  padding: 12px 16px;\n  border-radius: 12px;\n  background: #f3f4f6;\n  color: #64748b;\n  font-weight: 500;\n  cursor: pointer;\n  text-decoration: none;\n}\n.navigation-tabs[_ngcontent-%COMP%]   .tab-link.active[_ngcontent-%COMP%] {\n  background: #2563eb;\n  color: #fff;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%] {\n  width: 20px !important;\n  height: 20px !important;\n  border-radius: 50% !important;\n  border-width: 2px;\n  border-color: #3b82f6;\n  appearance: none;\n  background-color: #fff;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  transition: border-color 0.2s;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked {\n  background-color: #3b82f6;\n  border-color: #2563eb;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked::after {\n  content: "";\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  top: 3px;\n  left: 3px;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-header[_ngcontent-%COMP%] {\n  background: #e0edff;\n  height: 8rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n  overflow: hidden;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%] {\n  border-radius: 1rem;\n  box-shadow: 0 2px 8px 0 rgba(16, 30, 54, 0.08);\n  overflow: hidden;\n  background: #fff;\n  border: 1px solid #bfdbfe;\n  display: flex;\n  flex-direction: column;\n  transition: box-shadow 0.2s;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%] {\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  border-color: #e5e7eb;\n}\n/*# sourceMappingURL=asset-list.component.css.map */'] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetListComponent, [{
    type: Component,
    args: [{ selector: "app-asset-list", standalone: true, imports: [CurrencyPipe, NgIf, NgForOf, FormsModule, ArchiveConfirmationModalComponent, DeleteConfirmationModalComponent, RestoreConfirmationModalComponent, RouterModule, PaginationComponent, GlobalDropdownComponent], template: `<div class="asset-list-page min-h-screen bg-gray-50 p-6">\r
  <!-- Page Title and Subtitle + Actions -->\r
  <div class="mb-6 flex flex-col md:flex-row md:items-center md:justify-between">\r
    <div>\r
      <h1 class="text-2xl font-bold text-gray-900 mb-1">Asset Intelligence Hub</h1>\r
      <p class="text-gray-600 text-base">Advanced asset monitoring with AI-powered insights and real-time analytics</p>\r
    </div>\r
    <div class="flex items-center space-x-3 mt-4 md:mt-0">\r
      <button (click)="goToCreateAsset()"\r
              class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-lg shadow-sm transition-colors flex items-center cursor-pointer">\r
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
        </svg>\r
        Add Asset\r
      </button>\r
      <div class="relative" (click)="$event.stopPropagation()">\r
        <button (click)="showMenu = !showMenu"\r
                class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">\r
          <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <circle cx="12" cy="5" r="2"/>\r
            <circle cx="12" cy="12" r="2"/>\r
            <circle cx="12" cy="19" r="2"/>\r
          </svg>\r
        </button>\r
        <div *ngIf="showMenu"\r
             class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50">\r
          <button\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"></path>\r
            </svg>\r
            <span>Analytics</span>\r
          </button>\r
          <button\r
            (click)="toggleArchivedView()"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path *ngIf="!showingArchived" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
              <path *ngIf="showingArchived" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <span>{{ showingArchived ? 'View Active Assets' : 'View Archived Assets' }}</span>\r
          </button>\r
\r
          <button\r
            (click)="exportToPdf()"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
            </svg>\r
            <span>Export Assets to PDF</span>\r
          </button>\r
          <button\r
            (click)="exportToExcel()"\r
            [disabled]="exportingExcel"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
            <svg *ngIf="!exportingExcel" class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor"\r
                 viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
            </svg>\r
            <svg *ngIf="exportingExcel" class="animate-spin w-5 h-5 text-gray-500" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor"\r
                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>{{ exportingExcel ? 'Exporting to Excel...' : 'Export Assets to Excel' }}</span>\r
          </button>\r
          <button\r
            routerLink="/assets/import"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>\r
            </svg>\r
            <span>Smart Import</span>\r
          </button>\r
\r
          <div class="border-t border-gray-100 my-2"></div>\r
          <button\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-orange-50 text-left transition-colors cursor-pointer text-orange-600">\r
            <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>\r
            </svg>\r
            <span>Archive Selected</span>\r
          </button>\r
          <button\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-red-50 text-left transition-colors cursor-pointer text-red-600">\r
            <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
            </svg>\r
            <span>Delete Selected</span>\r
          </button>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Summary Cards -->\r
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">\r
    <!-- Total Assets -->\r
    <div\r
      class="rounded-xl bg-blue-50 border border-blue-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Total Assets</span>\r
        <span class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.totalAssets }}</div>\r
      <a href="#" class="text-sm text-blue-600 font-medium mt-1">Assets in system</a>\r
    </div>\r
    <!-- Active Assets -->\r
    <div\r
      class="rounded-xl bg-green-50 border border-green-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Active</span>\r
        <span class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2" fill="none"/>\r
            <circle cx="12" cy="12" r="4" fill="currentColor" class="text-green-400"/>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.activeAssets }}</div>\r
      <span class="text-sm text-green-600 font-medium mt-1">Operational assets</span>\r
    </div>\r
    <!-- Maintenance -->\r
    <div\r
      class="rounded-xl bg-orange-50 border border-orange-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Maintenance</span>\r
        <span class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"/>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.maintenance }}</div>\r
      <span class="text-sm text-orange-600 font-medium mt-1">Under maintenance</span>\r
    </div>\r
    <!-- Total Value -->\r
    <div\r
      class="rounded-xl bg-purple-50 border border-purple-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Total Value</span>\r
        <span class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.totalValue | currency }}</div>\r
      <span class="text-sm text-purple-600 font-medium mt-1">Asset portfolio value</span>\r
    </div>\r
    <!-- Asset Health -->\r
    <div\r
      class="rounded-xl bg-cyan-50 border border-cyan-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Asset Health</span>\r
        <span class="w-10 h-10 bg-cyan-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.assetHealth }}%</div>\r
      <span class="text-sm text-cyan-600 font-medium mt-1">Excellent health</span>\r
    </div>\r
  </div>\r
\r
  <!-- Tabs (Inventory-style) -->\r
  <div class="navigation-tabs mb-4">\r
    <nav class="tabs-nav">\r
      <a (click)="setTab('active')" class="tab-link block w-full text-center" [class.active]="activeTab === 'active'">Active\r
        Assets</a>\r
      <a (click)="setTab('archive')" class="tab-link block w-full text-center" [class.active]="activeTab === 'archive'">Archived\r
        Assets</a>\r
    </nav>\r
  </div>\r
\r
  <!-- Filters and View Type -->\r
  <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">\r
    <!-- Left: Search and Filters -->\r
    <div class="flex-1 flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center md:space-x-3">\r
      <!-- Search -->\r
      <div class="relative w-full md:w-80">\r
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none"\r
             stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\r
        </svg>\r
        <input\r
          type="text"\r
          placeholder="Search assets by name, location, or ID..."\r
          class="w-full pl-10 pr-3 py-2 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400"\r
          [(ngModel)]="searchQuery"\r
          (input)="onSearch()"/>\r
      </div>\r
      <!-- All Types Dropdown (Rule 1) -->\r
      <app-global-dropdown\r
        [placeholder]="'Select asset type'"\r
        [options]="assetTypeDropdownOptions"\r
        [selectedOption]="selectedAssetTypeOption"\r
        [minWidth]="'280px'"\r
        (selectionChange)="onSelectAssetType($event)">\r
      </app-global-dropdown>\r
      <ng-container *ngIf="activeTab === 'active'">\r
        <!-- All Statuses Dropdown (Rule 1) -->\r
        <app-global-dropdown\r
          [placeholder]="'Select asset status'"\r
          [options]="assetStatusDropdownOptions"\r
          [selectedOption]="selectedAssetStatusOption"\r
          [minWidth]="'280px'"\r
          (selectionChange)="onSelectAssetStatus($event)">\r
        </app-global-dropdown>\r
      </ng-container>\r
      <!-- Sort By Dropdown (Rule 1) -->\r
      <app-global-dropdown\r
        [placeholder]="'Select sort field'"\r
        [options]="sortDropdownOptions"\r
        [selectedOption]="selectedSortOption"\r
        [minWidth]="'240px'"\r
        (selectionChange)="onSelectSort($event)">\r
      </app-global-dropdown>\r
\r
\r
      <!-- Sort Direction Button (toggle) -->\r
      <div class="relative">\r
        <button (click)="toggleSortDir()"\r
                class="px-4 py-3 bg-gray-100 rounded-lg text-gray-700 flex items-center space-x-2 min-w-[70px] cursor-pointer"\r
                [class.bg-blue-100]="selectedSortDir === 'asc'" [class.text-blue-700]="selectedSortDir === 'asc'">\r
          <svg *ngIf="selectedSortDir === 'desc'" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 17l-4 4m0 0l-4-4m4 4V3"></path>\r
          </svg>\r
          <svg *ngIf="selectedSortDir === 'asc'" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7l4-4m0 0l4 4m-4-4v18"></path>\r
          </svg>\r
          <span>{{ selectedSortDir === 'asc' ? 'A-Z' : 'Z-A' }}</span>\r
        </button>\r
      </div>\r
    </div>\r
    <!-- Right: View Type Toggle -->\r
    <div class="flex items-center space-x-2 mt-4 md:mt-0">\r
      <button (click)="viewType = 'grid'" [class.bg-blue-100]="viewType === 'grid'"\r
              [class.text-blue-700]="viewType === 'grid'"\r
              class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer">\r
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="7" height="7" rx="2"/>\r
          <rect x="13" y="4" width="7" height="7" rx="2"/>\r
          <rect x="4" y="13" width="7" height="7" rx="2"/>\r
          <rect x="13" y="13" width="7" height="7" rx="2"/>\r
        </svg>\r
      </button>\r
      <button (click)="viewType = 'list'" [class.bg-blue-100]="viewType === 'list'"\r
              [class.text-blue-700]="viewType === 'list'"\r
              class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer">\r
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="6" width="16" height="4" rx="2"/>\r
          <rect x="4" y="14" width="16" height="4" rx="2"/>\r
        </svg>\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Loading State -->\r
  <div *ngIf="loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
        <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
          <path class="opacity-75" fill="currentColor"\r
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Assets</h3>\r
      <p class="text-sm text-gray-500">Please wait while we fetch your assets...</p>\r
    </div>\r
  </div>\r
\r
  <!-- Error State -->\r
  <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Assets</h3>\r
      <p class="text-sm text-gray-500 mb-4">{{ error }}</p>\r
      <button\r
        (click)="loadAssets()"\r
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
        Retry\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Selection Bar (when nothing is selected) -->\r
  <div class="w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center"\r
       *ngIf="viewType === 'grid' && selectedCount === 0 && !loading && !error">\r
    <button type="button" (click)="toggleSelectAllAssets()"\r
            class="focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors">\r
      <span class="w-3 h-3 rounded-full block bg-white transition-colors"></span>\r
    </button>\r
    <span class="font-semibold text-gray-900">Select all {{ assetList.length }} assets</span>\r
  </div>\r
  <!-- Grid View Cards -->\r
  <!-- Action Bar (Selection) -->\r
  <div class="w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between"\r
       *ngIf="viewType === 'grid' && selectedCount > 0 && !loading && !error">\r
    <div class="flex items-center space-x-4">\r
      <button type="button" (click)="toggleSelectAllAssets()"\r
              class="focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors"\r
              [class.bg-blue-100]="selectedCount === assetList.length">\r
        <span class="w-3 h-3 rounded-full block transition-colors"\r
              [class.bg-blue-400]="selectedCount === assetList.length"\r
              [class.bg-white]="selectedCount !== assetList.length"></span>\r
      </button>\r
      <span class="font-bold text-gray-900">{{ selectedCount }} asset{{ selectedCount > 1 ? 's' : '' }} selected</span>\r
      <span class="bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-sm flex items-center font-medium">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round"\r
                                                                                              stroke-linejoin="round"\r
                                                                                              stroke-width="2"\r
                                                                                              d="M17 16l4-4m0 0l-4-4m4 4H7"></path></svg>\r
        Selection Mode Active - Click cards to select\r
      </span>\r
    </div>\r
    <div class="flex items-center space-x-2">\r
\r
      <button *ngIf="!showingArchived" (click)="duplicateSelected()" [disabled]="selectedCount === 0"\r
              class="bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="8" y="8" width="8" height="8" rx="2" stroke-width="2"/>\r
          <rect x="4" y="4" width="8" height="8" rx="2" stroke-width="2"/>\r
        </svg>\r
        Duplicate\r
      </button>\r
      <button\r
        (click)="generateQRCodeForSelectedAssets()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-purple-50 text-purple-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"></path>\r
        </svg>\r
        Generate QR Codes\r
      </button>\r
      <button\r
        *ngIf="!showingArchived"\r
        (click)="showArchiveModal()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="2"/>\r
          <path d="M8 12h8" stroke-width="2"/>\r
        </svg>\r
        Archive\r
      </button>\r
      <button\r
        *ngIf="showingArchived"\r
        (click)="showDeleteModal()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="2"/>\r
          <path d="M8 8l8 8M8 16l8-8" stroke-width="2"/>\r
        </svg>\r
        Delete\r
      </button>\r
      <button\r
        *ngIf="showingArchived"\r
        (click)="restoreSelected()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
        </svg>\r
        Restore\r
      </button>\r
      <button (click)="clearSelection()"\r
              class="bg-transparent text-gray-700 font-semibold px-2 py-2 rounded-lg flex items-center space-x-2 cursor-pointer">\r
        <span class="text-xl">&times;</span> Clear\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Empty State -->\r
  <div *ngIf="!loading && !error && assetList.length === 0" class="text-center py-20">\r
    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">\r
      <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
      </svg>\r
    </div>\r
    <h3 class="text-lg font-medium text-gray-900 mb-2">No Assets Found</h3>\r
    <p class="text-gray-600 mb-4">Get started by creating your first asset.</p>\r
    <button\r
      (click)="goToCreateAsset()"\r
      class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
      Add Asset\r
    </button>\r
  </div>\r
\r
  <div *ngIf="viewType === 'grid' && !loading && !error && assetList.length > 0"\r
       class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2 mb-6">\r
    <div *ngFor="let asset of assetList"\r
         class="rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden"\r
         [class.border-blue-400]="asset.selected">\r
      <!-- Card Header -->\r
      <div class="relative bg-[#e0edff] h-32 flex flex-col items-center justify-center">\r
        <div class="absolute left-4 top-4 flex items-center">\r
          <input type="checkbox" class="asset-card-checkbox" [(ngModel)]="asset.selected"/>\r
        </div>\r
        <div class="absolute right-4 top-4 flex items-center space-x-2">\r
          <span *ngIf="asset.asset_status?.name === 'Active'"\r
                class="bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full">Active</span>\r
          <span *ngIf="asset.asset_status?.name !== 'Active'"\r
                [class]="'bg-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-100 text-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-700 text-xs font-semibold px-3 py-1 rounded-full'">{{ asset.asset_status?.name || asset.status }}</span>\r
          <div class="relative" (click)="$event.stopPropagation()">\r
            <button\r
              (click)="toggleAssetMenu(asset.id)"\r
              class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer">\r
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <circle cx="12" cy="6" r="1.5"/>\r
                <circle cx="12" cy="12" r="1.5"/>\r
                <circle cx="12" cy="18" r="1.5"/>\r
              </svg>\r
            </button>\r
\r
            <!-- Dropdown Menu -->\r
            <div *ngIf="asset.showMenu"\r
                 class="absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">\r
              <button\r
                *ngIf="!showingArchived"\r
                (click)="viewAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">View Details</span>\r
              </button>\r
\r
              <button\r
                *ngIf="!showingArchived"\r
                (click)="editAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">Edit Asset</span>\r
              </button>\r
\r
              <button\r
                *ngIf="!showingArchived"\r
                (click)="duplicateAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">Duplicate</span>\r
              </button>\r
\r
              <button\r
                (click)="generateQRCodeForAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-purple-50 transition-colors">\r
                <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"></path>\r
                </svg>\r
                <span class="text-sm text-purple-600">Generate QR Code</span>\r
              </button>\r
\r
              <button\r
                (click)="copyPublicUrl(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-blue-50 transition-colors">\r
                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                </svg>\r
                <span class="text-sm text-blue-600">Copy Public URL</span>\r
              </button>\r
\r
              <div class="border-t border-gray-100 my-1"></div>\r
\r
              <button\r
                *ngIf="!showingArchived"\r
                (click)="archiveAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors">\r
                <svg class="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
                </svg>\r
                <span class="text-sm text-orange-600">Archive</span>\r
              </button>\r
\r
              <button\r
                *ngIf="showingArchived"\r
                (click)="restoreAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors">\r
                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span class="text-sm text-green-600">Restore</span>\r
              </button>\r
\r
              <button\r
                *ngIf="showingArchived"\r
                (click)="deleteAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors">\r
                <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                </svg>\r
                <span class="text-sm text-red-600">Delete Permanently</span>\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
        <svg class="w-16 h-16 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
        </svg>\r
      </div>\r
      <!-- Card Body -->\r
      <div class="flex-1 flex flex-col justify-between p-6 pt-4">\r
        <div>\r
          <!-- Asset Name -->\r
          <div\r
            class="font-semibold text-lg text-gray-900 mb-2 cursor-pointer hover:text-blue-600 transition-colors"\r
            [class.cursor-pointer]="!showingArchived"\r
            [class.hover:text-blue-600]="!showingArchived"\r
            [class.cursor-default]="showingArchived"\r
            (click)="!showingArchived && viewAsset(asset)">\r
            {{ asset.name || 'Unnamed Asset' }}\r
          </div>\r
\r
          <!-- Asset Category Type -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.category?.name">\r
            <span class="font-medium text-gray-600">Category:</span> {{ asset.category.name }}\r
          </div>\r
\r
          <!-- Asset Type -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.type || asset.asset_type?.name">\r
            <span class="font-medium text-gray-600">Type:</span> {{ asset.asset_type?.name || asset.type || 'General' }}\r
          </div>\r
\r
          <!-- Location with Parents -->\r
          <div class="text-sm text-gray-700 mb-2"\r
               *ngIf="asset.location_hierarchy && asset.location_hierarchy.length > 0">\r
            <span class="font-medium text-gray-600">Location:</span>\r
            <div class="text-xs text-gray-500 mt-1">\r
              <span *ngFor="let loc of asset.location_hierarchy; let last = last">\r
                {{ loc.name }}<span *ngIf="!last"> \u2192 </span>\r
              </span>\r
            </div>\r
          </div>\r
\r
          <!-- Description -->\r
          <div class="text-sm text-gray-700 mb-2" *ngIf="asset.description">\r
            <span class="font-medium text-gray-600">Description:</span> {{ asset.description }}\r
          </div>\r
\r
          <!-- Manufacturer -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.manufacturer">\r
            <span class="font-medium text-gray-600">Manufacturer:</span> {{ asset.manufacturer }}\r
          </div>\r
\r
          <!-- Model -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.model">\r
            <span class="font-medium text-gray-600">Model:</span> {{ asset.model }}\r
          </div>\r
\r
          <!-- Capacity -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.capacity">\r
            <span class="font-medium text-gray-600">Capacity:</span> {{ asset.capacity }}\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- List View -->\r
  <div *ngIf="viewType === 'list' && !loading && !error && assetList.length > 0"\r
       class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-6">\r
    <!-- Table Header -->\r
    <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">\r
      <div class="grid grid-cols-12 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider">\r
        <div class="col-span-1 flex items-center">\r
          <input\r
            type="checkbox"\r
            [checked]="selectedCount === assetList.length && assetList.length > 0"\r
            [indeterminate]="selectedCount > 0 && selectedCount < assetList.length"\r
            (change)="toggleSelectAllAssets()"\r
            class="asset-card-checkbox">\r
        </div>\r
        <div class="col-span-2">Asset ID & Name</div>\r
        <div class="col-span-2">Category & Type</div>\r
        <div class="col-span-2">Location</div>\r
        <div class="col-span-2">Description</div>\r
        <div class="col-span-2">Manufacturer & Model</div>\r
        <div class="col-span-1">Actions</div>\r
      </div>\r
    </div>\r
\r
    <!-- Table Body -->\r
    <div class="divide-y divide-gray-200">\r
      <div *ngFor="let asset of assetList"\r
           class="px-6 py-4 hover:bg-gray-50 transition-colors"\r
           [class.bg-blue-50]="asset.selected">\r
        <div class="grid grid-cols-12 gap-4 items-center">\r
          <!-- Checkbox -->\r
          <div class="col-span-1">\r
            <input\r
              type="checkbox"\r
              [(ngModel)]="asset.selected"\r
              class="asset-card-checkbox">\r
          </div>\r
\r
          <!-- Asset ID & Name -->\r
          <div class="col-span-2">\r
            <div class="flex items-center space-x-3">\r
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                </svg>\r
              </div>\r
              <div>\r
                <div\r
                  class="font-medium text-gray-900 hover:text-blue-600 cursor-pointer transition-colors"\r
                  (click)="viewAsset(asset)">\r
                  {{ asset.name || 'Unnamed Asset' }}\r
                </div>\r
                <div class="text-sm text-gray-500">{{ asset.asset_id || 'AST-' + asset.id }}</div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Category & Type -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900">{{ asset.category?.name || 'General' }}</div>\r
            <div class="text-sm text-gray-500">{{ asset.asset_type?.name || asset.type || 'Standard Asset' }}</div>\r
          </div>\r
\r
          <!-- Location -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-600" *ngIf="asset.location_hierarchy && asset.location_hierarchy.length > 0">\r
              <div *ngFor="let loc of asset.location_hierarchy; let last = last">\r
                {{ loc.name }}<span *ngIf="!last"> \u2192 </span>\r
              </div>\r
            </div>\r
            <div class="text-sm text-gray-400"\r
                 *ngIf="!asset.location_hierarchy || asset.location_hierarchy.length === 0">\r
              No location\r
            </div>\r
          </div>\r
\r
          <!-- Description -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900" *ngIf="asset.description">\r
              {{ asset.description }}\r
            </div>\r
            <div class="text-sm text-gray-400" *ngIf="!asset.description">\r
              No description\r
            </div>\r
          </div>\r
\r
          <!-- Manufacturer & Model -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900" *ngIf="asset.manufacturer">\r
              <span class="font-medium">MFG:</span> {{ asset.manufacturer }}\r
            </div>\r
            <div class="text-sm text-gray-500" *ngIf="asset.model">\r
              <span class="font-medium">Model:</span> {{ asset.model }}\r
            </div>\r
            <div class="text-sm text-gray-500" *ngIf="asset.capacity">\r
              <span class="font-medium">Capacity:</span> {{ asset.capacity }}\r
            </div>\r
            <div class="text-sm text-gray-400" *ngIf="!asset.manufacturer && !asset.model && !asset.capacity">\r
              No details\r
            </div>\r
          </div>\r
\r
          <!-- Actions (3-dot menu like grid) -->\r
          <div class="col-span-1">\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button (click)="toggleAssetMenu(asset.id)"\r
                      class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer">\r
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <circle cx="12" cy="6" r="1.5"/>\r
                  <circle cx="12" cy="12" r="1.5"/>\r
                  <circle cx="12" cy="18" r="1.5"/>\r
                </svg>\r
              </button>\r
\r
              <div *ngIf="asset.showMenu"\r
                   class="absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">\r
                <button *ngIf="!showingArchived" (click)="viewAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                  <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                  </svg>\r
                  <span class="text-sm text-gray-700">View Details</span>\r
                </button>\r
                <button *ngIf="!showingArchived" (click)="editAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                  <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                  </svg>\r
                  <span class="text-sm text-gray-700">Edit Asset</span>\r
                </button>\r
                <button *ngIf="!showingArchived" (click)="duplicateAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                  <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                  </svg>\r
                  <span class="text-sm text-gray-700">Duplicate</span>\r
                </button>\r
                <button (click)="generateQRCodeForAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-purple-50 transition-colors">\r
                  <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1z"></path>\r
                  </svg>\r
                  <span class="text-sm text-purple-600">Generate QR Code</span>\r
                </button>\r
                <button (click)="copyPublicUrl(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-blue-50 transition-colors">\r
                  <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                  </svg>\r
                  <span class="text-sm text-blue-600">Copy Public URL</span>\r
                </button>\r
                <div class="border-t border-gray-100 my-1"></div>\r
                <button *ngIf="!showingArchived" (click)="archiveAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors">\r
                  <svg class="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
                  </svg>\r
                  <span class="text-sm text-orange-600">Archive</span>\r
                </button>\r
                <button *ngIf="showingArchived" (click)="restoreAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors">\r
                  <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                  </svg>\r
                  <span class="text-sm text-green-600">Restore</span>\r
                </button>\r
                <button *ngIf="showingArchived" (click)="deleteAsset(asset)"\r
                        class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors">\r
                  <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                  </svg>\r
                  <span class="text-sm text-red-600">Delete Permanently</span>\r
                </button>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Pagination -->\r
  <app-pagination\r
    *ngIf="assetList.length > 0 || pagination.total > 0"\r
    [pagination]="pagination"\r
    (pageChange)="onPageChange($event)"\r
    (perPageChange)="onPerPageChange($event)">\r
  </app-pagination>\r
\r
  <!-- Archive Confirmation Modal -->\r
  <app-archive-confirmation-modal\r
    [isOpen]="showArchiveConfirmationModal"\r
    [selectedCount]="selectedCount"\r
    (closeModal)="closeArchiveModal()"\r
    (confirmArchive)="archiveSelected()">\r
  </app-archive-confirmation-modal>\r
\r
  <!-- Delete Confirmation Modal -->\r
  <app-delete-confirmation-modal\r
    [isOpen]="showDeleteConfirmationModal"\r
    [selectedCount]="selectedCount"\r
    (closeModal)="closeDeleteModal()"\r
    (confirmDelete)="deleteSelected($event)">\r
  </app-delete-confirmation-modal>\r
\r
  <!-- Restore Confirmation Modal -->\r
  <app-restore-confirmation-modal\r
    [isOpen]="showRestoreConfirmationModal"\r
    [selectedCount]="selectedCount > 0 ? selectedCount : 1"\r
    [assetName]="selectedAssetForRestore?.name || ''"\r
    (closeModal)="closeRestoreModal()"\r
    (confirmRestore)="restoreSelectedAsset($event)">\r
  </app-restore-confirmation-modal>\r
\r
\r
</div>\r
`, styles: ['/* src/app/assets/asset-list/asset-list.component.scss */\n.tabs {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  text-align: center;\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.tabs .tab {\n  border-radius: 12px;\n  padding: 0.75rem 0;\n  font-weight: 500;\n  color: #64748b;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: #f3f4f6;\n}\n.tabs .tab:hover {\n  background: #e5e7eb;\n}\n.tabs .tab.active {\n  background: #2563eb;\n  color: #fff;\n  font-weight: 600;\n}\n.navigation-tabs .tabs-nav {\n  display: flex;\n  gap: 12px;\n}\n.navigation-tabs .tab-link {\n  display: inline-block;\n  padding: 12px 16px;\n  border-radius: 12px;\n  background: #f3f4f6;\n  color: #64748b;\n  font-weight: 500;\n  cursor: pointer;\n  text-decoration: none;\n}\n.navigation-tabs .tab-link.active {\n  background: #2563eb;\n  color: #fff;\n}\n.asset-list-page .asset-card-checkbox {\n  width: 20px !important;\n  height: 20px !important;\n  border-radius: 50% !important;\n  border-width: 2px;\n  border-color: #3b82f6;\n  appearance: none;\n  background-color: #fff;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  transition: border-color 0.2s;\n}\n.asset-list-page .asset-card-checkbox:checked {\n  background-color: #3b82f6;\n  border-color: #2563eb;\n}\n.asset-list-page .asset-card-checkbox:checked::after {\n  content: "";\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  top: 3px;\n  left: 3px;\n}\n.asset-list-page .asset-card-header {\n  background: #e0edff;\n  height: 8rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n  overflow: hidden;\n}\n.asset-list-page .asset-card {\n  border-radius: 1rem;\n  box-shadow: 0 2px 8px 0 rgba(16, 30, 54, 0.08);\n  overflow: hidden;\n  background: #fff;\n  border: 1px solid #bfdbfe;\n  display: flex;\n  flex-direction: column;\n  transition: box-shadow 0.2s;\n}\n.asset-list-page .asset-card hr {\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  border-color: #e5e7eb;\n}\n/*# sourceMappingURL=asset-list.component.css.map */\n'] }]
  }], () => [{ type: Router }, { type: AssetService }, { type: PdfExportService }], { onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetListComponent, { className: "AssetListComponent", filePath: "src/app/assets/asset-list/asset-list.component.ts", lineNumber: 24 });
})();

// node_modules/flatpickr/dist/esm/types/options.js
var HOOKS = ["onChange", "onClose", "onDayCreate", "onDestroy", "onKeyDown", "onMonthChange", "onOpen", "onParseConfig", "onReady", "onValueUpdate", "onYearChange", "onPreCalendarPosition"];
var defaults = {
  _disable: [],
  allowInput: false,
  allowInvalidPreload: false,
  altFormat: "F j, Y",
  altInput: false,
  altInputClass: "form-control input",
  animate: typeof window === "object" && window.navigator.userAgent.indexOf("MSIE") === -1,
  ariaDateFormat: "F j, Y",
  autoFillDefaultTime: true,
  clickOpens: true,
  closeOnSelect: true,
  conjunction: ", ",
  dateFormat: "Y-m-d",
  defaultHour: 12,
  defaultMinute: 0,
  defaultSeconds: 0,
  disable: [],
  disableMobile: false,
  enableSeconds: false,
  enableTime: false,
  errorHandler: function(err) {
    return typeof console !== "undefined" && console.warn(err);
  },
  getWeek: function(givenDate) {
    var date = new Date(givenDate.getTime());
    date.setHours(0, 0, 0, 0);
    date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
    var week1 = new Date(date.getFullYear(), 0, 4);
    return 1 + Math.round(((date.getTime() - week1.getTime()) / 864e5 - 3 + (week1.getDay() + 6) % 7) / 7);
  },
  hourIncrement: 1,
  ignoredFocusElements: [],
  inline: false,
  locale: "default",
  minuteIncrement: 5,
  mode: "single",
  monthSelectorType: "dropdown",
  nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
  noCalendar: false,
  now: /* @__PURE__ */ new Date(),
  onChange: [],
  onClose: [],
  onDayCreate: [],
  onDestroy: [],
  onKeyDown: [],
  onMonthChange: [],
  onOpen: [],
  onParseConfig: [],
  onReady: [],
  onValueUpdate: [],
  onYearChange: [],
  onPreCalendarPosition: [],
  plugins: [],
  position: "auto",
  positionElement: void 0,
  prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",
  shorthandCurrentMonth: false,
  showMonths: 1,
  static: false,
  time_24hr: false,
  weekNumbers: false,
  wrap: false
};

// node_modules/flatpickr/dist/esm/l10n/default.js
var english = {
  weekdays: {
    shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    longhand: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
  },
  months: {
    shorthand: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    longhand: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
  },
  daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
  firstDayOfWeek: 0,
  ordinal: function(nth) {
    var s = nth % 100;
    if (s > 3 && s < 21) return "th";
    switch (s % 10) {
      case 1:
        return "st";
      case 2:
        return "nd";
      case 3:
        return "rd";
      default:
        return "th";
    }
  },
  rangeSeparator: " to ",
  weekAbbreviation: "Wk",
  scrollTitle: "Scroll to increment",
  toggleTitle: "Click to toggle",
  amPM: ["AM", "PM"],
  yearAriaLabel: "Year",
  monthAriaLabel: "Month",
  hourAriaLabel: "Hour",
  minuteAriaLabel: "Minute",
  time_24hr: false
};
var default_default = english;

// node_modules/flatpickr/dist/esm/utils/index.js
var pad = function(number, length) {
  if (length === void 0) {
    length = 2;
  }
  return ("000" + number).slice(length * -1);
};
var int = function(bool) {
  return bool === true ? 1 : 0;
};
function debounce(fn, wait) {
  var t;
  return function() {
    var _this = this;
    var args = arguments;
    clearTimeout(t);
    t = setTimeout(function() {
      return fn.apply(_this, args);
    }, wait);
  };
}
var arrayify = function(obj) {
  return obj instanceof Array ? obj : [obj];
};

// node_modules/flatpickr/dist/esm/utils/dom.js
function toggleClass(elem, className, bool) {
  if (bool === true) return elem.classList.add(className);
  elem.classList.remove(className);
}
function createElement(tag, className, content) {
  var e = window.document.createElement(tag);
  className = className || "";
  content = content || "";
  e.className = className;
  if (content !== void 0) e.textContent = content;
  return e;
}
function clearNode(node) {
  while (node.firstChild) node.removeChild(node.firstChild);
}
function findParent(node, condition) {
  if (condition(node)) return node;
  else if (node.parentNode) return findParent(node.parentNode, condition);
  return void 0;
}
function createNumberInput(inputClassName, opts) {
  var wrapper = createElement("div", "numInputWrapper"), numInput = createElement("input", "numInput " + inputClassName), arrowUp = createElement("span", "arrowUp"), arrowDown = createElement("span", "arrowDown");
  if (navigator.userAgent.indexOf("MSIE 9.0") === -1) {
    numInput.type = "number";
  } else {
    numInput.type = "text";
    numInput.pattern = "\\d*";
  }
  if (opts !== void 0) for (var key in opts) numInput.setAttribute(key, opts[key]);
  wrapper.appendChild(numInput);
  wrapper.appendChild(arrowUp);
  wrapper.appendChild(arrowDown);
  return wrapper;
}
function getEventTarget(event) {
  try {
    if (typeof event.composedPath === "function") {
      var path = event.composedPath();
      return path[0];
    }
    return event.target;
  } catch (error) {
    return event.target;
  }
}

// node_modules/flatpickr/dist/esm/utils/formatting.js
var doNothing = function() {
  return void 0;
};
var monthToStr = function(monthNumber, shorthand, locale) {
  return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber];
};
var revFormat = {
  D: doNothing,
  F: function(dateObj, monthName, locale) {
    dateObj.setMonth(locale.months.longhand.indexOf(monthName));
  },
  G: function(dateObj, hour) {
    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
  },
  H: function(dateObj, hour) {
    dateObj.setHours(parseFloat(hour));
  },
  J: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  K: function(dateObj, amPM, locale) {
    dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], "i").test(amPM)));
  },
  M: function(dateObj, shortMonth, locale) {
    dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));
  },
  S: function(dateObj, seconds) {
    dateObj.setSeconds(parseFloat(seconds));
  },
  U: function(_, unixSeconds) {
    return new Date(parseFloat(unixSeconds) * 1e3);
  },
  W: function(dateObj, weekNum, locale) {
    var weekNumber = parseInt(weekNum);
    var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);
    date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);
    return date;
  },
  Y: function(dateObj, year) {
    dateObj.setFullYear(parseFloat(year));
  },
  Z: function(_, ISODate) {
    return new Date(ISODate);
  },
  d: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  h: function(dateObj, hour) {
    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
  },
  i: function(dateObj, minutes) {
    dateObj.setMinutes(parseFloat(minutes));
  },
  j: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  l: doNothing,
  m: function(dateObj, month) {
    dateObj.setMonth(parseFloat(month) - 1);
  },
  n: function(dateObj, month) {
    dateObj.setMonth(parseFloat(month) - 1);
  },
  s: function(dateObj, seconds) {
    dateObj.setSeconds(parseFloat(seconds));
  },
  u: function(_, unixMillSeconds) {
    return new Date(parseFloat(unixMillSeconds));
  },
  w: doNothing,
  y: function(dateObj, year) {
    dateObj.setFullYear(2e3 + parseFloat(year));
  }
};
var tokenRegex = {
  D: "",
  F: "",
  G: "(\\d\\d|\\d)",
  H: "(\\d\\d|\\d)",
  J: "(\\d\\d|\\d)\\w+",
  K: "",
  M: "",
  S: "(\\d\\d|\\d)",
  U: "(.+)",
  W: "(\\d\\d|\\d)",
  Y: "(\\d{4})",
  Z: "(.+)",
  d: "(\\d\\d|\\d)",
  h: "(\\d\\d|\\d)",
  i: "(\\d\\d|\\d)",
  j: "(\\d\\d|\\d)",
  l: "",
  m: "(\\d\\d|\\d)",
  n: "(\\d\\d|\\d)",
  s: "(\\d\\d|\\d)",
  u: "(.+)",
  w: "(\\d\\d|\\d)",
  y: "(\\d{2})"
};
var formats = {
  Z: function(date) {
    return date.toISOString();
  },
  D: function(date, locale, options) {
    return locale.weekdays.shorthand[formats.w(date, locale, options)];
  },
  F: function(date, locale, options) {
    return monthToStr(formats.n(date, locale, options) - 1, false, locale);
  },
  G: function(date, locale, options) {
    return pad(formats.h(date, locale, options));
  },
  H: function(date) {
    return pad(date.getHours());
  },
  J: function(date, locale) {
    return locale.ordinal !== void 0 ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();
  },
  K: function(date, locale) {
    return locale.amPM[int(date.getHours() > 11)];
  },
  M: function(date, locale) {
    return monthToStr(date.getMonth(), true, locale);
  },
  S: function(date) {
    return pad(date.getSeconds());
  },
  U: function(date) {
    return date.getTime() / 1e3;
  },
  W: function(date, _, options) {
    return options.getWeek(date);
  },
  Y: function(date) {
    return pad(date.getFullYear(), 4);
  },
  d: function(date) {
    return pad(date.getDate());
  },
  h: function(date) {
    return date.getHours() % 12 ? date.getHours() % 12 : 12;
  },
  i: function(date) {
    return pad(date.getMinutes());
  },
  j: function(date) {
    return date.getDate();
  },
  l: function(date, locale) {
    return locale.weekdays.longhand[date.getDay()];
  },
  m: function(date) {
    return pad(date.getMonth() + 1);
  },
  n: function(date) {
    return date.getMonth() + 1;
  },
  s: function(date) {
    return date.getSeconds();
  },
  u: function(date) {
    return date.getTime();
  },
  w: function(date) {
    return date.getDay();
  },
  y: function(date) {
    return String(date.getFullYear()).substring(2);
  }
};

// node_modules/flatpickr/dist/esm/utils/dates.js
var createDateFormatter = function(_a) {
  var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;
  return function(dateObj, frmt, overrideLocale) {
    var locale = overrideLocale || l10n;
    if (config.formatDate !== void 0 && !isMobile) {
      return config.formatDate(dateObj, frmt, locale);
    }
    return frmt.split("").map(function(c, i, arr) {
      return formats[c] && arr[i - 1] !== "\\" ? formats[c](dateObj, locale, config) : c !== "\\" ? c : "";
    }).join("");
  };
};
var createDateParser = function(_a) {
  var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;
  return function(date, givenFormat, timeless, customLocale) {
    if (date !== 0 && !date) return void 0;
    var locale = customLocale || l10n;
    var parsedDate;
    var dateOrig = date;
    if (date instanceof Date) parsedDate = new Date(date.getTime());
    else if (typeof date !== "string" && date.toFixed !== void 0) parsedDate = new Date(date);
    else if (typeof date === "string") {
      var format = givenFormat || (config || defaults).dateFormat;
      var datestr = String(date).trim();
      if (datestr === "today") {
        parsedDate = /* @__PURE__ */ new Date();
        timeless = true;
      } else if (config && config.parseDate) {
        parsedDate = config.parseDate(date, format);
      } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) {
        parsedDate = new Date(date);
      } else {
        var matched = void 0, ops = [];
        for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {
          var token = format[i];
          var isBackSlash = token === "\\";
          var escaped = format[i - 1] === "\\" || isBackSlash;
          if (tokenRegex[token] && !escaped) {
            regexStr += tokenRegex[token];
            var match = new RegExp(regexStr).exec(date);
            if (match && (matched = true)) {
              ops[token !== "Y" ? "push" : "unshift"]({
                fn: revFormat[token],
                val: match[++matchIndex]
              });
            }
          } else if (!isBackSlash) regexStr += ".";
        }
        parsedDate = !config || !config.noCalendar ? new Date((/* @__PURE__ */ new Date()).getFullYear(), 0, 1, 0, 0, 0, 0) : new Date((/* @__PURE__ */ new Date()).setHours(0, 0, 0, 0));
        ops.forEach(function(_a2) {
          var fn = _a2.fn, val = _a2.val;
          return parsedDate = fn(parsedDate, val, locale) || parsedDate;
        });
        parsedDate = matched ? parsedDate : void 0;
      }
    }
    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {
      config.errorHandler(new Error("Invalid date provided: " + dateOrig));
      return void 0;
    }
    if (timeless === true) parsedDate.setHours(0, 0, 0, 0);
    return parsedDate;
  };
};
function compareDates(date1, date2, timeless) {
  if (timeless === void 0) {
    timeless = true;
  }
  if (timeless !== false) {
    return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);
  }
  return date1.getTime() - date2.getTime();
}
var isBetween = function(ts, ts1, ts2) {
  return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);
};
var calculateSecondsSinceMidnight = function(hours, minutes, seconds) {
  return hours * 3600 + minutes * 60 + seconds;
};
var parseSeconds = function(secondsSinceMidnight) {
  var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;
  return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];
};
var duration = {
  DAY: 864e5
};
function getDefaultHours(config) {
  var hours = config.defaultHour;
  var minutes = config.defaultMinute;
  var seconds = config.defaultSeconds;
  if (config.minDate !== void 0) {
    var minHour = config.minDate.getHours();
    var minMinutes = config.minDate.getMinutes();
    var minSeconds = config.minDate.getSeconds();
    if (hours < minHour) {
      hours = minHour;
    }
    if (hours === minHour && minutes < minMinutes) {
      minutes = minMinutes;
    }
    if (hours === minHour && minutes === minMinutes && seconds < minSeconds) seconds = config.minDate.getSeconds();
  }
  if (config.maxDate !== void 0) {
    var maxHr = config.maxDate.getHours();
    var maxMinutes = config.maxDate.getMinutes();
    hours = Math.min(hours, maxHr);
    if (hours === maxHr) minutes = Math.min(maxMinutes, minutes);
    if (hours === maxHr && minutes === maxMinutes) seconds = config.maxDate.getSeconds();
  }
  return {
    hours,
    minutes,
    seconds
  };
}

// node_modules/flatpickr/dist/esm/utils/polyfills.js
if (typeof Object.assign !== "function") {
  Object.assign = function(target) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }
    if (!target) {
      throw TypeError("Cannot convert undefined or null to object");
    }
    var _loop_1 = function(source2) {
      if (source2) {
        Object.keys(source2).forEach(function(key) {
          return target[key] = source2[key];
        });
      }
    };
    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {
      var source = args_1[_a];
      _loop_1(source);
    }
    return target;
  };
}

// node_modules/flatpickr/dist/esm/index.js
var __assign = function() {
  __assign = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var __spreadArrays = function() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];
  return r;
};
var DEBOUNCED_CHANGE_MS = 300;
function FlatpickrInstance(element, instanceConfig) {
  var self = {
    config: __assign(__assign({}, defaults), flatpickr.defaultConfig),
    l10n: default_default
  };
  self.parseDate = createDateParser({
    config: self.config,
    l10n: self.l10n
  });
  self._handlers = [];
  self.pluginElements = [];
  self.loadedPlugins = [];
  self._bind = bind;
  self._setHoursFromDate = setHoursFromDate;
  self._positionCalendar = positionCalendar;
  self.changeMonth = changeMonth;
  self.changeYear = changeYear;
  self.clear = clear;
  self.close = close;
  self.onMouseOver = onMouseOver;
  self._createElement = createElement;
  self.createDay = createDay;
  self.destroy = destroy;
  self.isEnabled = isEnabled;
  self.jumpToDate = jumpToDate;
  self.updateValue = updateValue;
  self.open = open;
  self.redraw = redraw;
  self.set = set;
  self.setDate = setDate;
  self.toggle = toggle;
  function setupHelperFunctions() {
    self.utils = {
      getDaysInMonth: function(month, yr) {
        if (month === void 0) {
          month = self.currentMonth;
        }
        if (yr === void 0) {
          yr = self.currentYear;
        }
        if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;
        return self.l10n.daysInMonth[month];
      }
    };
  }
  function init() {
    self.element = self.input = element;
    self.isOpen = false;
    parseConfig();
    setupLocale();
    setupInputs();
    setupDates();
    setupHelperFunctions();
    if (!self.isMobile) build();
    bindEvents();
    if (self.selectedDates.length || self.config.noCalendar) {
      if (self.config.enableTime) {
        setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : void 0);
      }
      updateValue(false);
    }
    setCalendarWidth();
    var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
    if (!self.isMobile && isSafari) {
      positionCalendar();
    }
    triggerEvent("onReady");
  }
  function getClosestActiveElement() {
    var _a;
    return ((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode()).activeElement || document.activeElement;
  }
  function bindToInstance(fn) {
    return fn.bind(self);
  }
  function setCalendarWidth() {
    var config = self.config;
    if (config.weekNumbers === false && config.showMonths === 1) {
      return;
    } else if (config.noCalendar !== true) {
      window.requestAnimationFrame(function() {
        if (self.calendarContainer !== void 0) {
          self.calendarContainer.style.visibility = "hidden";
          self.calendarContainer.style.display = "block";
        }
        if (self.daysContainer !== void 0) {
          var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;
          self.daysContainer.style.width = daysWidth + "px";
          self.calendarContainer.style.width = daysWidth + (self.weekWrapper !== void 0 ? self.weekWrapper.offsetWidth : 0) + "px";
          self.calendarContainer.style.removeProperty("visibility");
          self.calendarContainer.style.removeProperty("display");
        }
      });
    }
  }
  function updateTime(e) {
    if (self.selectedDates.length === 0) {
      var defaultDate = self.config.minDate === void 0 || compareDates(/* @__PURE__ */ new Date(), self.config.minDate) >= 0 ? /* @__PURE__ */ new Date() : new Date(self.config.minDate.getTime());
      var defaults2 = getDefaultHours(self.config);
      defaultDate.setHours(defaults2.hours, defaults2.minutes, defaults2.seconds, defaultDate.getMilliseconds());
      self.selectedDates = [defaultDate];
      self.latestSelectedDateObj = defaultDate;
    }
    if (e !== void 0 && e.type !== "blur") {
      timeWrapper(e);
    }
    var prevValue = self._input.value;
    setHoursFromInputs();
    updateValue();
    if (self._input.value !== prevValue) {
      self._debouncedChange();
    }
  }
  function ampm2military(hour, amPM) {
    return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);
  }
  function military2ampm(hour) {
    switch (hour % 24) {
      case 0:
      case 12:
        return 12;
      default:
        return hour % 12;
    }
  }
  function setHoursFromInputs() {
    if (self.hourElement === void 0 || self.minuteElement === void 0) return;
    var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== void 0 ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;
    if (self.amPM !== void 0) {
      hours = ampm2military(hours, self.amPM.textContent);
    }
    var limitMinHours = self.config.minTime !== void 0 || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;
    var limitMaxHours = self.config.maxTime !== void 0 || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;
    if (self.config.maxTime !== void 0 && self.config.minTime !== void 0 && self.config.minTime > self.config.maxTime) {
      var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());
      var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());
      var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);
      if (currentTime > maxBound && currentTime < minBound) {
        var result = parseSeconds(minBound);
        hours = result[0];
        minutes = result[1];
        seconds = result[2];
      }
    } else {
      if (limitMaxHours) {
        var maxTime = self.config.maxTime !== void 0 ? self.config.maxTime : self.config.maxDate;
        hours = Math.min(hours, maxTime.getHours());
        if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());
        if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());
      }
      if (limitMinHours) {
        var minTime = self.config.minTime !== void 0 ? self.config.minTime : self.config.minDate;
        hours = Math.max(hours, minTime.getHours());
        if (hours === minTime.getHours() && minutes < minTime.getMinutes()) minutes = minTime.getMinutes();
        if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());
      }
    }
    setHours(hours, minutes, seconds);
  }
  function setHoursFromDate(dateObj) {
    var date = dateObj || self.latestSelectedDateObj;
    if (date && date instanceof Date) {
      setHours(date.getHours(), date.getMinutes(), date.getSeconds());
    }
  }
  function setHours(hours, minutes, seconds) {
    if (self.latestSelectedDateObj !== void 0) {
      self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);
    }
    if (!self.hourElement || !self.minuteElement || self.isMobile) return;
    self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);
    self.minuteElement.value = pad(minutes);
    if (self.amPM !== void 0) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];
    if (self.secondElement !== void 0) self.secondElement.value = pad(seconds);
  }
  function onYearInput(event) {
    var eventTarget = getEventTarget(event);
    var year = parseInt(eventTarget.value) + (event.delta || 0);
    if (year / 1e3 > 1 || event.key === "Enter" && !/[^\d]/.test(year.toString())) {
      changeYear(year);
    }
  }
  function bind(element2, event, handler, options) {
    if (event instanceof Array) return event.forEach(function(ev) {
      return bind(element2, ev, handler, options);
    });
    if (element2 instanceof Array) return element2.forEach(function(el) {
      return bind(el, event, handler, options);
    });
    element2.addEventListener(event, handler, options);
    self._handlers.push({
      remove: function() {
        return element2.removeEventListener(event, handler, options);
      }
    });
  }
  function triggerChange() {
    triggerEvent("onChange");
  }
  function bindEvents() {
    if (self.config.wrap) {
      ["open", "close", "toggle", "clear"].forEach(function(evt) {
        Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function(el) {
          return bind(el, "click", self[evt]);
        });
      });
    }
    if (self.isMobile) {
      setupMobile();
      return;
    }
    var debouncedResize = debounce(onResize, 50);
    self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);
    if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, "mouseover", function(e) {
      if (self.config.mode === "range") onMouseOver(getEventTarget(e));
    });
    bind(self._input, "keydown", onKeyDown);
    if (self.calendarContainer !== void 0) {
      bind(self.calendarContainer, "keydown", onKeyDown);
    }
    if (!self.config.inline && !self.config.static) bind(window, "resize", debouncedResize);
    if (window.ontouchstart !== void 0) bind(window.document, "touchstart", documentClick);
    else bind(window.document, "mousedown", documentClick);
    bind(window.document, "focus", documentClick, {
      capture: true
    });
    if (self.config.clickOpens === true) {
      bind(self._input, "focus", self.open);
      bind(self._input, "click", self.open);
    }
    if (self.daysContainer !== void 0) {
      bind(self.monthNav, "click", onMonthNavClick);
      bind(self.monthNav, ["keyup", "increment"], onYearInput);
      bind(self.daysContainer, "click", selectDate);
    }
    if (self.timeContainer !== void 0 && self.minuteElement !== void 0 && self.hourElement !== void 0) {
      var selText = function(e) {
        return getEventTarget(e).select();
      };
      bind(self.timeContainer, ["increment"], updateTime);
      bind(self.timeContainer, "blur", updateTime, {
        capture: true
      });
      bind(self.timeContainer, "click", timeIncrement);
      bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);
      if (self.secondElement !== void 0) bind(self.secondElement, "focus", function() {
        return self.secondElement && self.secondElement.select();
      });
      if (self.amPM !== void 0) {
        bind(self.amPM, "click", function(e) {
          updateTime(e);
        });
      }
    }
    if (self.config.allowInput) {
      bind(self._input, "blur", onBlur);
    }
  }
  function jumpToDate(jumpDate, triggerChange2) {
    var jumpTo = jumpDate !== void 0 ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);
    var oldYear = self.currentYear;
    var oldMonth = self.currentMonth;
    try {
      if (jumpTo !== void 0) {
        self.currentYear = jumpTo.getFullYear();
        self.currentMonth = jumpTo.getMonth();
      }
    } catch (e) {
      e.message = "Invalid date supplied: " + jumpTo;
      self.config.errorHandler(e);
    }
    if (triggerChange2 && self.currentYear !== oldYear) {
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
    if (triggerChange2 && (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {
      triggerEvent("onMonthChange");
    }
    self.redraw();
  }
  function timeIncrement(e) {
    var eventTarget = getEventTarget(e);
    if (~eventTarget.className.indexOf("arrow")) incrementNumInput(e, eventTarget.classList.contains("arrowUp") ? 1 : -1);
  }
  function incrementNumInput(e, delta, inputElem) {
    var target = e && getEventTarget(e);
    var input = inputElem || target && target.parentNode && target.parentNode.firstChild;
    var event = createEvent("increment");
    event.delta = delta;
    input && input.dispatchEvent(event);
  }
  function build() {
    var fragment = window.document.createDocumentFragment();
    self.calendarContainer = createElement("div", "flatpickr-calendar");
    self.calendarContainer.tabIndex = -1;
    if (!self.config.noCalendar) {
      fragment.appendChild(buildMonthNav());
      self.innerContainer = createElement("div", "flatpickr-innerContainer");
      if (self.config.weekNumbers) {
        var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;
        self.innerContainer.appendChild(weekWrapper);
        self.weekNumbers = weekNumbers;
        self.weekWrapper = weekWrapper;
      }
      self.rContainer = createElement("div", "flatpickr-rContainer");
      self.rContainer.appendChild(buildWeekdays());
      if (!self.daysContainer) {
        self.daysContainer = createElement("div", "flatpickr-days");
        self.daysContainer.tabIndex = -1;
      }
      buildDays();
      self.rContainer.appendChild(self.daysContainer);
      self.innerContainer.appendChild(self.rContainer);
      fragment.appendChild(self.innerContainer);
    }
    if (self.config.enableTime) {
      fragment.appendChild(buildTime());
    }
    toggleClass(self.calendarContainer, "rangeMode", self.config.mode === "range");
    toggleClass(self.calendarContainer, "animate", self.config.animate === true);
    toggleClass(self.calendarContainer, "multiMonth", self.config.showMonths > 1);
    self.calendarContainer.appendChild(fragment);
    var customAppend = self.config.appendTo !== void 0 && self.config.appendTo.nodeType !== void 0;
    if (self.config.inline || self.config.static) {
      self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");
      if (self.config.inline) {
        if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);
        else if (self.config.appendTo !== void 0) self.config.appendTo.appendChild(self.calendarContainer);
      }
      if (self.config.static) {
        var wrapper = createElement("div", "flatpickr-wrapper");
        if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);
        wrapper.appendChild(self.element);
        if (self.altInput) wrapper.appendChild(self.altInput);
        wrapper.appendChild(self.calendarContainer);
      }
    }
    if (!self.config.static && !self.config.inline) (self.config.appendTo !== void 0 ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);
  }
  function createDay(className, date, _dayNumber, i) {
    var dateIsEnabled = isEnabled(date, true), dayElement = createElement("span", className, date.getDate().toString());
    dayElement.dateObj = date;
    dayElement.$i = i;
    dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));
    if (className.indexOf("hidden") === -1 && compareDates(date, self.now) === 0) {
      self.todayDateElem = dayElement;
      dayElement.classList.add("today");
      dayElement.setAttribute("aria-current", "date");
    }
    if (dateIsEnabled) {
      dayElement.tabIndex = -1;
      if (isDateSelected(date)) {
        dayElement.classList.add("selected");
        self.selectedDateElem = dayElement;
        if (self.config.mode === "range") {
          toggleClass(dayElement, "startRange", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);
          toggleClass(dayElement, "endRange", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);
          if (className === "nextMonthDay") dayElement.classList.add("inRange");
        }
      }
    } else {
      dayElement.classList.add("flatpickr-disabled");
    }
    if (self.config.mode === "range") {
      if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add("inRange");
    }
    if (self.weekNumbers && self.config.showMonths === 1 && className !== "prevMonthDay" && i % 7 === 6) {
      self.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + self.config.getWeek(date) + "</span>");
    }
    triggerEvent("onDayCreate", dayElement);
    return dayElement;
  }
  function focusOnDayElem(targetNode) {
    targetNode.focus();
    if (self.config.mode === "range") onMouseOver(targetNode);
  }
  function getFirstAvailableDay(delta) {
    var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;
    var endMonth = delta > 0 ? self.config.showMonths : -1;
    for (var m = startMonth; m != endMonth; m += delta) {
      var month = self.daysContainer.children[m];
      var startIndex = delta > 0 ? 0 : month.children.length - 1;
      var endIndex = delta > 0 ? month.children.length : -1;
      for (var i = startIndex; i != endIndex; i += delta) {
        var c = month.children[i];
        if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj)) return c;
      }
    }
    return void 0;
  }
  function getNextAvailableDay(current, delta) {
    var givenMonth = current.className.indexOf("Month") === -1 ? current.dateObj.getMonth() : self.currentMonth;
    var endMonth = delta > 0 ? self.config.showMonths : -1;
    var loopDelta = delta > 0 ? 1 : -1;
    for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {
      var month = self.daysContainer.children[m];
      var startIndex = givenMonth - self.currentMonth === m ? current.$i + delta : delta < 0 ? month.children.length - 1 : 0;
      var numMonthDays = month.children.length;
      for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {
        var c = month.children[i];
        if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj) && Math.abs(current.$i - i) >= Math.abs(delta)) return focusOnDayElem(c);
      }
    }
    self.changeMonth(loopDelta);
    focusOnDay(getFirstAvailableDay(loopDelta), 0);
    return void 0;
  }
  function focusOnDay(current, offset) {
    var activeElement = getClosestActiveElement();
    var dayFocused = isInView(activeElement || document.body);
    var startElem = current !== void 0 ? current : dayFocused ? activeElement : self.selectedDateElem !== void 0 && isInView(self.selectedDateElem) ? self.selectedDateElem : self.todayDateElem !== void 0 && isInView(self.todayDateElem) ? self.todayDateElem : getFirstAvailableDay(offset > 0 ? 1 : -1);
    if (startElem === void 0) {
      self._input.focus();
    } else if (!dayFocused) {
      focusOnDayElem(startElem);
    } else {
      getNextAvailableDay(startElem, offset);
    }
  }
  function buildMonthDays(year, month) {
    var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;
    var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);
    var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? "prevMonthDay hidden" : "prevMonthDay", nextMonthDayClass = isMultiMonth ? "nextMonthDay hidden" : "nextMonthDay";
    var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;
    for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day " + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));
    }
    for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day", new Date(year, month, dayNumber), dayNumber, dayIndex));
    }
    for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day " + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));
    }
    var dayContainer = createElement("div", "dayContainer");
    dayContainer.appendChild(days);
    return dayContainer;
  }
  function buildDays() {
    if (self.daysContainer === void 0) {
      return;
    }
    clearNode(self.daysContainer);
    if (self.weekNumbers) clearNode(self.weekNumbers);
    var frag = document.createDocumentFragment();
    for (var i = 0; i < self.config.showMonths; i++) {
      var d = new Date(self.currentYear, self.currentMonth, 1);
      d.setMonth(self.currentMonth + i);
      frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));
    }
    self.daysContainer.appendChild(frag);
    self.days = self.daysContainer.firstChild;
    if (self.config.mode === "range" && self.selectedDates.length === 1) {
      onMouseOver();
    }
  }
  function buildMonthSwitch() {
    if (self.config.showMonths > 1 || self.config.monthSelectorType !== "dropdown") return;
    var shouldBuildMonth = function(month2) {
      if (self.config.minDate !== void 0 && self.currentYear === self.config.minDate.getFullYear() && month2 < self.config.minDate.getMonth()) {
        return false;
      }
      return !(self.config.maxDate !== void 0 && self.currentYear === self.config.maxDate.getFullYear() && month2 > self.config.maxDate.getMonth());
    };
    self.monthsDropdownContainer.tabIndex = -1;
    self.monthsDropdownContainer.innerHTML = "";
    for (var i = 0; i < 12; i++) {
      if (!shouldBuildMonth(i)) continue;
      var month = createElement("option", "flatpickr-monthDropdown-month");
      month.value = new Date(self.currentYear, i).getMonth().toString();
      month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);
      month.tabIndex = -1;
      if (self.currentMonth === i) {
        month.selected = true;
      }
      self.monthsDropdownContainer.appendChild(month);
    }
  }
  function buildMonth() {
    var container = createElement("div", "flatpickr-month");
    var monthNavFragment = window.document.createDocumentFragment();
    var monthElement;
    if (self.config.showMonths > 1 || self.config.monthSelectorType === "static") {
      monthElement = createElement("span", "cur-month");
    } else {
      self.monthsDropdownContainer = createElement("select", "flatpickr-monthDropdown-months");
      self.monthsDropdownContainer.setAttribute("aria-label", self.l10n.monthAriaLabel);
      bind(self.monthsDropdownContainer, "change", function(e) {
        var target = getEventTarget(e);
        var selectedMonth = parseInt(target.value, 10);
        self.changeMonth(selectedMonth - self.currentMonth);
        triggerEvent("onMonthChange");
      });
      buildMonthSwitch();
      monthElement = self.monthsDropdownContainer;
    }
    var yearInput = createNumberInput("cur-year", {
      tabindex: "-1"
    });
    var yearElement = yearInput.getElementsByTagName("input")[0];
    yearElement.setAttribute("aria-label", self.l10n.yearAriaLabel);
    if (self.config.minDate) {
      yearElement.setAttribute("min", self.config.minDate.getFullYear().toString());
    }
    if (self.config.maxDate) {
      yearElement.setAttribute("max", self.config.maxDate.getFullYear().toString());
      yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();
    }
    var currentMonth = createElement("div", "flatpickr-current-month");
    currentMonth.appendChild(monthElement);
    currentMonth.appendChild(yearInput);
    monthNavFragment.appendChild(currentMonth);
    container.appendChild(monthNavFragment);
    return {
      container,
      yearElement,
      monthElement
    };
  }
  function buildMonths() {
    clearNode(self.monthNav);
    self.monthNav.appendChild(self.prevMonthNav);
    if (self.config.showMonths) {
      self.yearElements = [];
      self.monthElements = [];
    }
    for (var m = self.config.showMonths; m--; ) {
      var month = buildMonth();
      self.yearElements.push(month.yearElement);
      self.monthElements.push(month.monthElement);
      self.monthNav.appendChild(month.container);
    }
    self.monthNav.appendChild(self.nextMonthNav);
  }
  function buildMonthNav() {
    self.monthNav = createElement("div", "flatpickr-months");
    self.yearElements = [];
    self.monthElements = [];
    self.prevMonthNav = createElement("span", "flatpickr-prev-month");
    self.prevMonthNav.innerHTML = self.config.prevArrow;
    self.nextMonthNav = createElement("span", "flatpickr-next-month");
    self.nextMonthNav.innerHTML = self.config.nextArrow;
    buildMonths();
    Object.defineProperty(self, "_hidePrevMonthArrow", {
      get: function() {
        return self.__hidePrevMonthArrow;
      },
      set: function(bool) {
        if (self.__hidePrevMonthArrow !== bool) {
          toggleClass(self.prevMonthNav, "flatpickr-disabled", bool);
          self.__hidePrevMonthArrow = bool;
        }
      }
    });
    Object.defineProperty(self, "_hideNextMonthArrow", {
      get: function() {
        return self.__hideNextMonthArrow;
      },
      set: function(bool) {
        if (self.__hideNextMonthArrow !== bool) {
          toggleClass(self.nextMonthNav, "flatpickr-disabled", bool);
          self.__hideNextMonthArrow = bool;
        }
      }
    });
    self.currentYearElement = self.yearElements[0];
    updateNavigationCurrentMonth();
    return self.monthNav;
  }
  function buildTime() {
    self.calendarContainer.classList.add("hasTime");
    if (self.config.noCalendar) self.calendarContainer.classList.add("noCalendar");
    var defaults2 = getDefaultHours(self.config);
    self.timeContainer = createElement("div", "flatpickr-time");
    self.timeContainer.tabIndex = -1;
    var separator = createElement("span", "flatpickr-time-separator", ":");
    var hourInput = createNumberInput("flatpickr-hour", {
      "aria-label": self.l10n.hourAriaLabel
    });
    self.hourElement = hourInput.getElementsByTagName("input")[0];
    var minuteInput = createNumberInput("flatpickr-minute", {
      "aria-label": self.l10n.minuteAriaLabel
    });
    self.minuteElement = minuteInput.getElementsByTagName("input")[0];
    self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;
    self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? defaults2.hours : military2ampm(defaults2.hours));
    self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : defaults2.minutes);
    self.hourElement.setAttribute("step", self.config.hourIncrement.toString());
    self.minuteElement.setAttribute("step", self.config.minuteIncrement.toString());
    self.hourElement.setAttribute("min", self.config.time_24hr ? "0" : "1");
    self.hourElement.setAttribute("max", self.config.time_24hr ? "23" : "12");
    self.hourElement.setAttribute("maxlength", "2");
    self.minuteElement.setAttribute("min", "0");
    self.minuteElement.setAttribute("max", "59");
    self.minuteElement.setAttribute("maxlength", "2");
    self.timeContainer.appendChild(hourInput);
    self.timeContainer.appendChild(separator);
    self.timeContainer.appendChild(minuteInput);
    if (self.config.time_24hr) self.timeContainer.classList.add("time24hr");
    if (self.config.enableSeconds) {
      self.timeContainer.classList.add("hasSeconds");
      var secondInput = createNumberInput("flatpickr-second");
      self.secondElement = secondInput.getElementsByTagName("input")[0];
      self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : defaults2.seconds);
      self.secondElement.setAttribute("step", self.minuteElement.getAttribute("step"));
      self.secondElement.setAttribute("min", "0");
      self.secondElement.setAttribute("max", "59");
      self.secondElement.setAttribute("maxlength", "2");
      self.timeContainer.appendChild(createElement("span", "flatpickr-time-separator", ":"));
      self.timeContainer.appendChild(secondInput);
    }
    if (!self.config.time_24hr) {
      self.amPM = createElement("span", "flatpickr-am-pm", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);
      self.amPM.title = self.l10n.toggleTitle;
      self.amPM.tabIndex = -1;
      self.timeContainer.appendChild(self.amPM);
    }
    return self.timeContainer;
  }
  function buildWeekdays() {
    if (!self.weekdayContainer) self.weekdayContainer = createElement("div", "flatpickr-weekdays");
    else clearNode(self.weekdayContainer);
    for (var i = self.config.showMonths; i--; ) {
      var container = createElement("div", "flatpickr-weekdaycontainer");
      self.weekdayContainer.appendChild(container);
    }
    updateWeekdays();
    return self.weekdayContainer;
  }
  function updateWeekdays() {
    if (!self.weekdayContainer) {
      return;
    }
    var firstDayOfWeek = self.l10n.firstDayOfWeek;
    var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);
    if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {
      weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));
    }
    for (var i = self.config.showMonths; i--; ) {
      self.weekdayContainer.children[i].innerHTML = "\n      <span class='flatpickr-weekday'>\n        " + weekdays.join("</span><span class='flatpickr-weekday'>") + "\n      </span>\n      ";
    }
  }
  function buildWeeks() {
    self.calendarContainer.classList.add("hasWeeks");
    var weekWrapper = createElement("div", "flatpickr-weekwrapper");
    weekWrapper.appendChild(createElement("span", "flatpickr-weekday", self.l10n.weekAbbreviation));
    var weekNumbers = createElement("div", "flatpickr-weeks");
    weekWrapper.appendChild(weekNumbers);
    return {
      weekWrapper,
      weekNumbers
    };
  }
  function changeMonth(value, isOffset) {
    if (isOffset === void 0) {
      isOffset = true;
    }
    var delta = isOffset ? value : value - self.currentMonth;
    if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;
    self.currentMonth += delta;
    if (self.currentMonth < 0 || self.currentMonth > 11) {
      self.currentYear += self.currentMonth > 11 ? 1 : -1;
      self.currentMonth = (self.currentMonth + 12) % 12;
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
    buildDays();
    triggerEvent("onMonthChange");
    updateNavigationCurrentMonth();
  }
  function clear(triggerChangeEvent, toInitial) {
    if (triggerChangeEvent === void 0) {
      triggerChangeEvent = true;
    }
    if (toInitial === void 0) {
      toInitial = true;
    }
    self.input.value = "";
    if (self.altInput !== void 0) self.altInput.value = "";
    if (self.mobileInput !== void 0) self.mobileInput.value = "";
    self.selectedDates = [];
    self.latestSelectedDateObj = void 0;
    if (toInitial === true) {
      self.currentYear = self._initialDate.getFullYear();
      self.currentMonth = self._initialDate.getMonth();
    }
    if (self.config.enableTime === true) {
      var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;
      setHours(hours, minutes, seconds);
    }
    self.redraw();
    if (triggerChangeEvent) triggerEvent("onChange");
  }
  function close() {
    self.isOpen = false;
    if (!self.isMobile) {
      if (self.calendarContainer !== void 0) {
        self.calendarContainer.classList.remove("open");
      }
      if (self._input !== void 0) {
        self._input.classList.remove("active");
      }
    }
    triggerEvent("onClose");
  }
  function destroy() {
    if (self.config !== void 0) triggerEvent("onDestroy");
    for (var i = self._handlers.length; i--; ) {
      self._handlers[i].remove();
    }
    self._handlers = [];
    if (self.mobileInput) {
      if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);
      self.mobileInput = void 0;
    } else if (self.calendarContainer && self.calendarContainer.parentNode) {
      if (self.config.static && self.calendarContainer.parentNode) {
        var wrapper = self.calendarContainer.parentNode;
        wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);
        if (wrapper.parentNode) {
          while (wrapper.firstChild) wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);
          wrapper.parentNode.removeChild(wrapper);
        }
      } else self.calendarContainer.parentNode.removeChild(self.calendarContainer);
    }
    if (self.altInput) {
      self.input.type = "text";
      if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);
      delete self.altInput;
    }
    if (self.input) {
      self.input.type = self.input._type;
      self.input.classList.remove("flatpickr-input");
      self.input.removeAttribute("readonly");
    }
    ["_showTimeInput", "latestSelectedDateObj", "_hideNextMonthArrow", "_hidePrevMonthArrow", "__hideNextMonthArrow", "__hidePrevMonthArrow", "isMobile", "isOpen", "selectedDateElem", "minDateHasTime", "maxDateHasTime", "days", "daysContainer", "_input", "_positionElement", "innerContainer", "rContainer", "monthNav", "todayDateElem", "calendarContainer", "weekdayContainer", "prevMonthNav", "nextMonthNav", "monthsDropdownContainer", "currentMonthElement", "currentYearElement", "navigationCurrentMonth", "selectedDateElem", "config"].forEach(function(k) {
      try {
        delete self[k];
      } catch (_) {
      }
    });
  }
  function isCalendarElem(elem) {
    return self.calendarContainer.contains(elem);
  }
  function documentClick(e) {
    if (self.isOpen && !self.config.inline) {
      var eventTarget_1 = getEventTarget(e);
      var isCalendarElement = isCalendarElem(eventTarget_1);
      var isInput = eventTarget_1 === self.input || eventTarget_1 === self.altInput || self.element.contains(eventTarget_1) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));
      var lostFocus = !isInput && !isCalendarElement && !isCalendarElem(e.relatedTarget);
      var isIgnored = !self.config.ignoredFocusElements.some(function(elem) {
        return elem.contains(eventTarget_1);
      });
      if (lostFocus && isIgnored) {
        if (self.config.allowInput) {
          self.setDate(self._input.value, false, self.config.altInput ? self.config.altFormat : self.config.dateFormat);
        }
        if (self.timeContainer !== void 0 && self.minuteElement !== void 0 && self.hourElement !== void 0 && self.input.value !== "" && self.input.value !== void 0) {
          updateTime();
        }
        self.close();
        if (self.config && self.config.mode === "range" && self.selectedDates.length === 1) self.clear(false);
      }
    }
  }
  function changeYear(newYear) {
    if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;
    var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;
    self.currentYear = newYearNum || self.currentYear;
    if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {
      self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);
    } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {
      self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);
    }
    if (isNewYear) {
      self.redraw();
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
  }
  function isEnabled(date, timeless) {
    var _a;
    if (timeless === void 0) {
      timeless = true;
    }
    var dateToCheck = self.parseDate(date, void 0, timeless);
    if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== void 0 ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== void 0 ? timeless : !self.maxDateHasTime) > 0) return false;
    if (!self.config.enable && self.config.disable.length === 0) return true;
    if (dateToCheck === void 0) return false;
    var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;
    for (var i = 0, d = void 0; i < array.length; i++) {
      d = array[i];
      if (typeof d === "function" && d(dateToCheck)) return bool;
      else if (d instanceof Date && dateToCheck !== void 0 && d.getTime() === dateToCheck.getTime()) return bool;
      else if (typeof d === "string") {
        var parsed = self.parseDate(d, void 0, true);
        return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;
      } else if (typeof d === "object" && dateToCheck !== void 0 && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;
    }
    return !bool;
  }
  function isInView(elem) {
    if (self.daysContainer !== void 0) return elem.className.indexOf("hidden") === -1 && elem.className.indexOf("flatpickr-disabled") === -1 && self.daysContainer.contains(elem);
    return false;
  }
  function onBlur(e) {
    var isInput = e.target === self._input;
    var valueChanged = self._input.value.trimEnd() !== getDateStr();
    if (isInput && valueChanged && !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {
      self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);
    }
  }
  function onKeyDown(e) {
    var eventTarget = getEventTarget(e);
    var isInput = self.config.wrap ? element.contains(eventTarget) : eventTarget === self._input;
    var allowInput = self.config.allowInput;
    var allowKeydown = self.isOpen && (!allowInput || !isInput);
    var allowInlineKeydown = self.config.inline && isInput && !allowInput;
    if (e.keyCode === 13 && isInput) {
      if (allowInput) {
        self.setDate(self._input.value, true, eventTarget === self.altInput ? self.config.altFormat : self.config.dateFormat);
        self.close();
        return eventTarget.blur();
      } else {
        self.open();
      }
    } else if (isCalendarElem(eventTarget) || allowKeydown || allowInlineKeydown) {
      var isTimeObj = !!self.timeContainer && self.timeContainer.contains(eventTarget);
      switch (e.keyCode) {
        case 13:
          if (isTimeObj) {
            e.preventDefault();
            updateTime();
            focusAndClose();
          } else selectDate(e);
          break;
        case 27:
          e.preventDefault();
          focusAndClose();
          break;
        case 8:
        case 46:
          if (isInput && !self.config.allowInput) {
            e.preventDefault();
            self.clear();
          }
          break;
        case 37:
        case 39:
          if (!isTimeObj && !isInput) {
            e.preventDefault();
            var activeElement = getClosestActiveElement();
            if (self.daysContainer !== void 0 && (allowInput === false || activeElement && isInView(activeElement))) {
              var delta_1 = e.keyCode === 39 ? 1 : -1;
              if (!e.ctrlKey) focusOnDay(void 0, delta_1);
              else {
                e.stopPropagation();
                changeMonth(delta_1);
                focusOnDay(getFirstAvailableDay(1), 0);
              }
            }
          } else if (self.hourElement) self.hourElement.focus();
          break;
        case 38:
        case 40:
          e.preventDefault();
          var delta = e.keyCode === 40 ? 1 : -1;
          if (self.daysContainer && eventTarget.$i !== void 0 || eventTarget === self.input || eventTarget === self.altInput) {
            if (e.ctrlKey) {
              e.stopPropagation();
              changeYear(self.currentYear - delta);
              focusOnDay(getFirstAvailableDay(1), 0);
            } else if (!isTimeObj) focusOnDay(void 0, delta * 7);
          } else if (eventTarget === self.currentYearElement) {
            changeYear(self.currentYear - delta);
          } else if (self.config.enableTime) {
            if (!isTimeObj && self.hourElement) self.hourElement.focus();
            updateTime(e);
            self._debouncedChange();
          }
          break;
        case 9:
          if (isTimeObj) {
            var elems = [self.hourElement, self.minuteElement, self.secondElement, self.amPM].concat(self.pluginElements).filter(function(x) {
              return x;
            });
            var i = elems.indexOf(eventTarget);
            if (i !== -1) {
              var target = elems[i + (e.shiftKey ? -1 : 1)];
              e.preventDefault();
              (target || self._input).focus();
            }
          } else if (!self.config.noCalendar && self.daysContainer && self.daysContainer.contains(eventTarget) && e.shiftKey) {
            e.preventDefault();
            self._input.focus();
          }
          break;
        default:
          break;
      }
    }
    if (self.amPM !== void 0 && eventTarget === self.amPM) {
      switch (e.key) {
        case self.l10n.amPM[0].charAt(0):
        case self.l10n.amPM[0].charAt(0).toLowerCase():
          self.amPM.textContent = self.l10n.amPM[0];
          setHoursFromInputs();
          updateValue();
          break;
        case self.l10n.amPM[1].charAt(0):
        case self.l10n.amPM[1].charAt(0).toLowerCase():
          self.amPM.textContent = self.l10n.amPM[1];
          setHoursFromInputs();
          updateValue();
          break;
      }
    }
    if (isInput || isCalendarElem(eventTarget)) {
      triggerEvent("onKeyDown", e);
    }
  }
  function onMouseOver(elem, cellClass) {
    if (cellClass === void 0) {
      cellClass = "flatpickr-day";
    }
    if (self.selectedDates.length !== 1 || elem && (!elem.classList.contains(cellClass) || elem.classList.contains("flatpickr-disabled"))) return;
    var hoverDate = elem ? elem.dateObj.getTime() : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], void 0, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());
    var containsDisabled = false;
    var minRange = 0, maxRange = 0;
    for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {
      if (!isEnabled(new Date(t), true)) {
        containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;
        if (t < initialDate && (!minRange || t > minRange)) minRange = t;
        else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;
      }
    }
    var hoverableCells = Array.from(self.rContainer.querySelectorAll("*:nth-child(-n+" + self.config.showMonths + ") > ." + cellClass));
    hoverableCells.forEach(function(dayElem) {
      var date = dayElem.dateObj;
      var timestamp = date.getTime();
      var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;
      if (outOfRange) {
        dayElem.classList.add("notAllowed");
        ["inRange", "startRange", "endRange"].forEach(function(c) {
          dayElem.classList.remove(c);
        });
        return;
      } else if (containsDisabled && !outOfRange) return;
      ["startRange", "inRange", "endRange", "notAllowed"].forEach(function(c) {
        dayElem.classList.remove(c);
      });
      if (elem !== void 0) {
        elem.classList.add(hoverDate <= self.selectedDates[0].getTime() ? "startRange" : "endRange");
        if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add("startRange");
        else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add("endRange");
        if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add("inRange");
      }
    });
  }
  function onResize() {
    if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();
  }
  function open(e, positionElement) {
    if (positionElement === void 0) {
      positionElement = self._positionElement;
    }
    if (self.isMobile === true) {
      if (e) {
        e.preventDefault();
        var eventTarget = getEventTarget(e);
        if (eventTarget) {
          eventTarget.blur();
        }
      }
      if (self.mobileInput !== void 0) {
        self.mobileInput.focus();
        self.mobileInput.click();
      }
      triggerEvent("onOpen");
      return;
    } else if (self._input.disabled || self.config.inline) {
      return;
    }
    var wasOpen = self.isOpen;
    self.isOpen = true;
    if (!wasOpen) {
      self.calendarContainer.classList.add("open");
      self._input.classList.add("active");
      triggerEvent("onOpen");
      positionCalendar(positionElement);
    }
    if (self.config.enableTime === true && self.config.noCalendar === true) {
      if (self.config.allowInput === false && (e === void 0 || !self.timeContainer.contains(e.relatedTarget))) {
        setTimeout(function() {
          return self.hourElement.select();
        }, 50);
      }
    }
  }
  function minMaxDateSetter(type) {
    return function(date) {
      var dateObj = self.config["_" + type + "Date"] = self.parseDate(date, self.config.dateFormat);
      var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];
      if (dateObj !== void 0) {
        self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;
      }
      if (self.selectedDates) {
        self.selectedDates = self.selectedDates.filter(function(d) {
          return isEnabled(d);
        });
        if (!self.selectedDates.length && type === "min") setHoursFromDate(dateObj);
        updateValue();
      }
      if (self.daysContainer) {
        redraw();
        if (dateObj !== void 0) self.currentYearElement[type] = dateObj.getFullYear().toString();
        else self.currentYearElement.removeAttribute(type);
        self.currentYearElement.disabled = !!inverseDateObj && dateObj !== void 0 && inverseDateObj.getFullYear() === dateObj.getFullYear();
      }
    };
  }
  function parseConfig() {
    var boolOpts = ["wrap", "weekNumbers", "allowInput", "allowInvalidPreload", "clickOpens", "time_24hr", "enableTime", "noCalendar", "altInput", "shorthandCurrentMonth", "inline", "static", "enableSeconds", "disableMobile"];
    var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);
    var formats2 = {};
    self.config.parseDate = userConfig.parseDate;
    self.config.formatDate = userConfig.formatDate;
    Object.defineProperty(self.config, "enable", {
      get: function() {
        return self.config._enable;
      },
      set: function(dates) {
        self.config._enable = parseDateRules(dates);
      }
    });
    Object.defineProperty(self.config, "disable", {
      get: function() {
        return self.config._disable;
      },
      set: function(dates) {
        self.config._disable = parseDateRules(dates);
      }
    });
    var timeMode = userConfig.mode === "time";
    if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {
      var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;
      formats2.dateFormat = userConfig.noCalendar || timeMode ? "H:i" + (userConfig.enableSeconds ? ":S" : "") : defaultDateFormat + " H:i" + (userConfig.enableSeconds ? ":S" : "");
    }
    if (userConfig.altInput && (userConfig.enableTime || timeMode) && !userConfig.altFormat) {
      var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;
      formats2.altFormat = userConfig.noCalendar || timeMode ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K") : defaultAltFormat + (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");
    }
    Object.defineProperty(self.config, "minDate", {
      get: function() {
        return self.config._minDate;
      },
      set: minMaxDateSetter("min")
    });
    Object.defineProperty(self.config, "maxDate", {
      get: function() {
        return self.config._maxDate;
      },
      set: minMaxDateSetter("max")
    });
    var minMaxTimeSetter = function(type) {
      return function(val) {
        self.config[type === "min" ? "_minTime" : "_maxTime"] = self.parseDate(val, "H:i:S");
      };
    };
    Object.defineProperty(self.config, "minTime", {
      get: function() {
        return self.config._minTime;
      },
      set: minMaxTimeSetter("min")
    });
    Object.defineProperty(self.config, "maxTime", {
      get: function() {
        return self.config._maxTime;
      },
      set: minMaxTimeSetter("max")
    });
    if (userConfig.mode === "time") {
      self.config.noCalendar = true;
      self.config.enableTime = true;
    }
    Object.assign(self.config, formats2, userConfig);
    for (var i = 0; i < boolOpts.length; i++) self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === "true";
    HOOKS.filter(function(hook) {
      return self.config[hook] !== void 0;
    }).forEach(function(hook) {
      self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);
    });
    self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === "single" && !self.config.disable.length && !self.config.enable && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    for (var i = 0; i < self.config.plugins.length; i++) {
      var pluginConf = self.config.plugins[i](self) || {};
      for (var key in pluginConf) {
        if (HOOKS.indexOf(key) > -1) {
          self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);
        } else if (typeof userConfig[key] === "undefined") self.config[key] = pluginConf[key];
      }
    }
    if (!userConfig.altInputClass) {
      self.config.altInputClass = getInputElem().className + " " + self.config.altInputClass;
    }
    triggerEvent("onParseConfig");
  }
  function getInputElem() {
    return self.config.wrap ? element.querySelector("[data-input]") : element;
  }
  function setupLocale() {
    if (typeof self.config.locale !== "object" && typeof flatpickr.l10ns[self.config.locale] === "undefined") self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));
    self.l10n = __assign(__assign({}, flatpickr.l10ns.default), typeof self.config.locale === "object" ? self.config.locale : self.config.locale !== "default" ? flatpickr.l10ns[self.config.locale] : void 0);
    tokenRegex.D = "(" + self.l10n.weekdays.shorthand.join("|") + ")";
    tokenRegex.l = "(" + self.l10n.weekdays.longhand.join("|") + ")";
    tokenRegex.M = "(" + self.l10n.months.shorthand.join("|") + ")";
    tokenRegex.F = "(" + self.l10n.months.longhand.join("|") + ")";
    tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";
    var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));
    if (userConfig.time_24hr === void 0 && flatpickr.defaultConfig.time_24hr === void 0) {
      self.config.time_24hr = self.l10n.time_24hr;
    }
    self.formatDate = createDateFormatter(self);
    self.parseDate = createDateParser({
      config: self.config,
      l10n: self.l10n
    });
  }
  function positionCalendar(customPositionElement) {
    if (typeof self.config.position === "function") {
      return void self.config.position(self, customPositionElement);
    }
    if (self.calendarContainer === void 0) return;
    triggerEvent("onPreCalendarPosition");
    var positionElement = customPositionElement || self._positionElement;
    var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function(acc, child) {
      return acc + child.offsetHeight;
    }, 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(" "), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === "above" || configPosVertical !== "below" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;
    var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);
    toggleClass(self.calendarContainer, "arrowTop", !showOnTop);
    toggleClass(self.calendarContainer, "arrowBottom", showOnTop);
    if (self.config.inline) return;
    var left = window.pageXOffset + inputBounds.left;
    var isCenter = false;
    var isRight = false;
    if (configPosHorizontal === "center") {
      left -= (calendarWidth - inputBounds.width) / 2;
      isCenter = true;
    } else if (configPosHorizontal === "right") {
      left -= calendarWidth - inputBounds.width;
      isRight = true;
    }
    toggleClass(self.calendarContainer, "arrowLeft", !isCenter && !isRight);
    toggleClass(self.calendarContainer, "arrowCenter", isCenter);
    toggleClass(self.calendarContainer, "arrowRight", isRight);
    var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);
    var rightMost = left + calendarWidth > window.document.body.offsetWidth;
    var centerMost = right + calendarWidth > window.document.body.offsetWidth;
    toggleClass(self.calendarContainer, "rightMost", rightMost);
    if (self.config.static) return;
    self.calendarContainer.style.top = top + "px";
    if (!rightMost) {
      self.calendarContainer.style.left = left + "px";
      self.calendarContainer.style.right = "auto";
    } else if (!centerMost) {
      self.calendarContainer.style.left = "auto";
      self.calendarContainer.style.right = right + "px";
    } else {
      var doc = getDocumentStyleSheet();
      if (doc === void 0) return;
      var bodyWidth = window.document.body.offsetWidth;
      var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);
      var centerBefore = ".flatpickr-calendar.centerMost:before";
      var centerAfter = ".flatpickr-calendar.centerMost:after";
      var centerIndex = doc.cssRules.length;
      var centerStyle = "{left:" + inputBounds.left + "px;right:auto;}";
      toggleClass(self.calendarContainer, "rightMost", false);
      toggleClass(self.calendarContainer, "centerMost", true);
      doc.insertRule(centerBefore + "," + centerAfter + centerStyle, centerIndex);
      self.calendarContainer.style.left = centerLeft + "px";
      self.calendarContainer.style.right = "auto";
    }
  }
  function getDocumentStyleSheet() {
    var editableSheet = null;
    for (var i = 0; i < document.styleSheets.length; i++) {
      var sheet = document.styleSheets[i];
      if (!sheet.cssRules) continue;
      try {
        sheet.cssRules;
      } catch (err) {
        continue;
      }
      editableSheet = sheet;
      break;
    }
    return editableSheet != null ? editableSheet : createStyleSheet();
  }
  function createStyleSheet() {
    var style2 = document.createElement("style");
    document.head.appendChild(style2);
    return style2.sheet;
  }
  function redraw() {
    if (self.config.noCalendar || self.isMobile) return;
    buildMonthSwitch();
    updateNavigationCurrentMonth();
    buildDays();
  }
  function focusAndClose() {
    self._input.focus();
    if (window.navigator.userAgent.indexOf("MSIE") !== -1 || navigator.msMaxTouchPoints !== void 0) {
      setTimeout(self.close, 0);
    } else {
      self.close();
    }
  }
  function selectDate(e) {
    e.preventDefault();
    e.stopPropagation();
    var isSelectable = function(day) {
      return day.classList && day.classList.contains("flatpickr-day") && !day.classList.contains("flatpickr-disabled") && !day.classList.contains("notAllowed");
    };
    var t = findParent(getEventTarget(e), isSelectable);
    if (t === void 0) return;
    var target = t;
    var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());
    var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== "range";
    self.selectedDateElem = target;
    if (self.config.mode === "single") self.selectedDates = [selectedDate];
    else if (self.config.mode === "multiple") {
      var selectedIndex = isDateSelected(selectedDate);
      if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);
      else self.selectedDates.push(selectedDate);
    } else if (self.config.mode === "range") {
      if (self.selectedDates.length === 2) {
        self.clear(false, false);
      }
      self.latestSelectedDateObj = selectedDate;
      self.selectedDates.push(selectedDate);
      if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function(a, b) {
        return a.getTime() - b.getTime();
      });
    }
    setHoursFromInputs();
    if (shouldChangeMonth) {
      var isNewYear = self.currentYear !== selectedDate.getFullYear();
      self.currentYear = selectedDate.getFullYear();
      self.currentMonth = selectedDate.getMonth();
      if (isNewYear) {
        triggerEvent("onYearChange");
        buildMonthSwitch();
      }
      triggerEvent("onMonthChange");
    }
    updateNavigationCurrentMonth();
    buildDays();
    updateValue();
    if (!shouldChangeMonth && self.config.mode !== "range" && self.config.showMonths === 1) focusOnDayElem(target);
    else if (self.selectedDateElem !== void 0 && self.hourElement === void 0) {
      self.selectedDateElem && self.selectedDateElem.focus();
    }
    if (self.hourElement !== void 0) self.hourElement !== void 0 && self.hourElement.focus();
    if (self.config.closeOnSelect) {
      var single = self.config.mode === "single" && !self.config.enableTime;
      var range = self.config.mode === "range" && self.selectedDates.length === 2 && !self.config.enableTime;
      if (single || range) {
        focusAndClose();
      }
    }
    triggerChange();
  }
  var CALLBACKS = {
    locale: [setupLocale, updateWeekdays],
    showMonths: [buildMonths, setCalendarWidth, buildWeekdays],
    minDate: [jumpToDate],
    maxDate: [jumpToDate],
    positionElement: [updatePositionElement],
    clickOpens: [function() {
      if (self.config.clickOpens === true) {
        bind(self._input, "focus", self.open);
        bind(self._input, "click", self.open);
      } else {
        self._input.removeEventListener("focus", self.open);
        self._input.removeEventListener("click", self.open);
      }
    }]
  };
  function set(option, value) {
    if (option !== null && typeof option === "object") {
      Object.assign(self.config, option);
      for (var key in option) {
        if (CALLBACKS[key] !== void 0) CALLBACKS[key].forEach(function(x) {
          return x();
        });
      }
    } else {
      self.config[option] = value;
      if (CALLBACKS[option] !== void 0) CALLBACKS[option].forEach(function(x) {
        return x();
      });
      else if (HOOKS.indexOf(option) > -1) self.config[option] = arrayify(value);
    }
    self.redraw();
    updateValue(true);
  }
  function setSelectedDate(inputDate, format) {
    var dates = [];
    if (inputDate instanceof Array) dates = inputDate.map(function(d) {
      return self.parseDate(d, format);
    });
    else if (inputDate instanceof Date || typeof inputDate === "number") dates = [self.parseDate(inputDate, format)];
    else if (typeof inputDate === "string") {
      switch (self.config.mode) {
        case "single":
        case "time":
          dates = [self.parseDate(inputDate, format)];
          break;
        case "multiple":
          dates = inputDate.split(self.config.conjunction).map(function(date) {
            return self.parseDate(date, format);
          });
          break;
        case "range":
          dates = inputDate.split(self.l10n.rangeSeparator).map(function(date) {
            return self.parseDate(date, format);
          });
          break;
        default:
          break;
      }
    } else self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));
    self.selectedDates = self.config.allowInvalidPreload ? dates : dates.filter(function(d) {
      return d instanceof Date && isEnabled(d, false);
    });
    if (self.config.mode === "range") self.selectedDates.sort(function(a, b) {
      return a.getTime() - b.getTime();
    });
  }
  function setDate(date, triggerChange2, format) {
    if (triggerChange2 === void 0) {
      triggerChange2 = false;
    }
    if (format === void 0) {
      format = self.config.dateFormat;
    }
    if (date !== 0 && !date || date instanceof Array && date.length === 0) return self.clear(triggerChange2);
    setSelectedDate(date, format);
    self.latestSelectedDateObj = self.selectedDates[self.selectedDates.length - 1];
    self.redraw();
    jumpToDate(void 0, triggerChange2);
    setHoursFromDate();
    if (self.selectedDates.length === 0) {
      self.clear(false);
    }
    updateValue(triggerChange2);
    if (triggerChange2) triggerEvent("onChange");
  }
  function parseDateRules(arr) {
    return arr.slice().map(function(rule) {
      if (typeof rule === "string" || typeof rule === "number" || rule instanceof Date) {
        return self.parseDate(rule, void 0, true);
      } else if (rule && typeof rule === "object" && rule.from && rule.to) return {
        from: self.parseDate(rule.from, void 0),
        to: self.parseDate(rule.to, void 0)
      };
      return rule;
    }).filter(function(x) {
      return x;
    });
  }
  function setupDates() {
    self.selectedDates = [];
    self.now = self.parseDate(self.config.now) || /* @__PURE__ */ new Date();
    var preloadedDate = self.config.defaultDate || ((self.input.nodeName === "INPUT" || self.input.nodeName === "TEXTAREA") && self.input.placeholder && self.input.value === self.input.placeholder ? null : self.input.value);
    if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);
    self._initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;
    self.currentYear = self._initialDate.getFullYear();
    self.currentMonth = self._initialDate.getMonth();
    if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];
    if (self.config.minTime !== void 0) self.config.minTime = self.parseDate(self.config.minTime, "H:i");
    if (self.config.maxTime !== void 0) self.config.maxTime = self.parseDate(self.config.maxTime, "H:i");
    self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);
    self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);
  }
  function setupInputs() {
    self.input = getInputElem();
    if (!self.input) {
      self.config.errorHandler(new Error("Invalid input element specified"));
      return;
    }
    self.input._type = self.input.type;
    self.input.type = "text";
    self.input.classList.add("flatpickr-input");
    self._input = self.input;
    if (self.config.altInput) {
      self.altInput = createElement(self.input.nodeName, self.config.altInputClass);
      self._input = self.altInput;
      self.altInput.placeholder = self.input.placeholder;
      self.altInput.disabled = self.input.disabled;
      self.altInput.required = self.input.required;
      self.altInput.tabIndex = self.input.tabIndex;
      self.altInput.type = "text";
      self.input.setAttribute("type", "hidden");
      if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);
    }
    if (!self.config.allowInput) self._input.setAttribute("readonly", "readonly");
    updatePositionElement();
  }
  function updatePositionElement() {
    self._positionElement = self.config.positionElement || self._input;
  }
  function setupMobile() {
    var inputType = self.config.enableTime ? self.config.noCalendar ? "time" : "datetime-local" : "date";
    self.mobileInput = createElement("input", self.input.className + " flatpickr-mobile");
    self.mobileInput.tabIndex = 1;
    self.mobileInput.type = inputType;
    self.mobileInput.disabled = self.input.disabled;
    self.mobileInput.required = self.input.required;
    self.mobileInput.placeholder = self.input.placeholder;
    self.mobileFormatStr = inputType === "datetime-local" ? "Y-m-d\\TH:i:S" : inputType === "date" ? "Y-m-d" : "H:i:S";
    if (self.selectedDates.length > 0) {
      self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);
    }
    if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");
    if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");
    if (self.input.getAttribute("step")) self.mobileInput.step = String(self.input.getAttribute("step"));
    self.input.type = "hidden";
    if (self.altInput !== void 0) self.altInput.type = "hidden";
    try {
      if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);
    } catch (_a) {
    }
    bind(self.mobileInput, "change", function(e) {
      self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);
      triggerEvent("onChange");
      triggerEvent("onClose");
    });
  }
  function toggle(e) {
    if (self.isOpen === true) return self.close();
    self.open(e);
  }
  function triggerEvent(event, data) {
    if (self.config === void 0) return;
    var hooks = self.config[event];
    if (hooks !== void 0 && hooks.length > 0) {
      for (var i = 0; hooks[i] && i < hooks.length; i++) hooks[i](self.selectedDates, self.input.value, self, data);
    }
    if (event === "onChange") {
      self.input.dispatchEvent(createEvent("change"));
      self.input.dispatchEvent(createEvent("input"));
    }
  }
  function createEvent(name) {
    var e = document.createEvent("Event");
    e.initEvent(name, true, true);
    return e;
  }
  function isDateSelected(date) {
    for (var i = 0; i < self.selectedDates.length; i++) {
      var selectedDate = self.selectedDates[i];
      if (selectedDate instanceof Date && compareDates(selectedDate, date) === 0) return "" + i;
    }
    return false;
  }
  function isDateInRange(date) {
    if (self.config.mode !== "range" || self.selectedDates.length < 2) return false;
    return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;
  }
  function updateNavigationCurrentMonth() {
    if (self.config.noCalendar || self.isMobile || !self.monthNav) return;
    self.yearElements.forEach(function(yearElement, i) {
      var d = new Date(self.currentYear, self.currentMonth, 1);
      d.setMonth(self.currentMonth + i);
      if (self.config.showMonths > 1 || self.config.monthSelectorType === "static") {
        self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + " ";
      } else {
        self.monthsDropdownContainer.value = d.getMonth().toString();
      }
      yearElement.value = d.getFullYear().toString();
    });
    self._hidePrevMonthArrow = self.config.minDate !== void 0 && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());
    self._hideNextMonthArrow = self.config.maxDate !== void 0 && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());
  }
  function getDateStr(specificFormat) {
    var format = specificFormat || (self.config.altInput ? self.config.altFormat : self.config.dateFormat);
    return self.selectedDates.map(function(dObj) {
      return self.formatDate(dObj, format);
    }).filter(function(d, i, arr) {
      return self.config.mode !== "range" || self.config.enableTime || arr.indexOf(d) === i;
    }).join(self.config.mode !== "range" ? self.config.conjunction : self.l10n.rangeSeparator);
  }
  function updateValue(triggerChange2) {
    if (triggerChange2 === void 0) {
      triggerChange2 = true;
    }
    if (self.mobileInput !== void 0 && self.mobileFormatStr) {
      self.mobileInput.value = self.latestSelectedDateObj !== void 0 ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : "";
    }
    self.input.value = getDateStr(self.config.dateFormat);
    if (self.altInput !== void 0) {
      self.altInput.value = getDateStr(self.config.altFormat);
    }
    if (triggerChange2 !== false) triggerEvent("onValueUpdate");
  }
  function onMonthNavClick(e) {
    var eventTarget = getEventTarget(e);
    var isPrevMonth = self.prevMonthNav.contains(eventTarget);
    var isNextMonth = self.nextMonthNav.contains(eventTarget);
    if (isPrevMonth || isNextMonth) {
      changeMonth(isPrevMonth ? -1 : 1);
    } else if (self.yearElements.indexOf(eventTarget) >= 0) {
      eventTarget.select();
    } else if (eventTarget.classList.contains("arrowUp")) {
      self.changeYear(self.currentYear + 1);
    } else if (eventTarget.classList.contains("arrowDown")) {
      self.changeYear(self.currentYear - 1);
    }
  }
  function timeWrapper(e) {
    e.preventDefault();
    var isKeyDown = e.type === "keydown", eventTarget = getEventTarget(e), input = eventTarget;
    if (self.amPM !== void 0 && eventTarget === self.amPM) {
      self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
    }
    var min = parseFloat(input.getAttribute("min")), max = parseFloat(input.getAttribute("max")), step = parseFloat(input.getAttribute("step")), curValue = parseInt(input.value, 10), delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);
    var newValue = curValue + step * delta;
    if (typeof input.value !== "undefined" && input.value.length === 2) {
      var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;
      if (newValue < min) {
        newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));
        if (isMinuteElem) incrementNumInput(void 0, -1, self.hourElement);
      } else if (newValue > max) {
        newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;
        if (isMinuteElem) incrementNumInput(void 0, 1, self.hourElement);
      }
      if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {
        self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
      }
      input.value = pad(newValue);
    }
  }
  init();
  return self;
}
function _flatpickr(nodeList, config) {
  var nodes = Array.prototype.slice.call(nodeList).filter(function(x) {
    return x instanceof HTMLElement;
  });
  var instances = [];
  for (var i = 0; i < nodes.length; i++) {
    var node = nodes[i];
    try {
      if (node.getAttribute("data-fp-omit") !== null) continue;
      if (node._flatpickr !== void 0) {
        node._flatpickr.destroy();
        node._flatpickr = void 0;
      }
      node._flatpickr = FlatpickrInstance(node, config || {});
      instances.push(node._flatpickr);
    } catch (e) {
      console.error(e);
    }
  }
  return instances.length === 1 ? instances[0] : instances;
}
if (typeof HTMLElement !== "undefined" && typeof HTMLCollection !== "undefined" && typeof NodeList !== "undefined") {
  HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function(config) {
    return _flatpickr(this, config);
  };
  HTMLElement.prototype.flatpickr = function(config) {
    return _flatpickr([this], config);
  };
}
var flatpickr = function(selector, config) {
  if (typeof selector === "string") {
    return _flatpickr(window.document.querySelectorAll(selector), config);
  } else if (selector instanceof Node) {
    return _flatpickr([selector], config);
  } else {
    return _flatpickr(selector, config);
  }
};
flatpickr.defaultConfig = {};
flatpickr.l10ns = {
  en: __assign({}, default_default),
  default: __assign({}, default_default)
};
flatpickr.localize = function(l10n) {
  flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);
};
flatpickr.setDefaults = function(config) {
  flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);
};
flatpickr.parseDate = createDateParser({});
flatpickr.formatDate = createDateFormatter({});
flatpickr.compareDates = compareDates;
if (typeof jQuery !== "undefined" && typeof jQuery.fn !== "undefined") {
  jQuery.fn.flatpickr = function(config) {
    return _flatpickr(this, config);
  };
}
Date.prototype.fp_incr = function(days) {
  return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));
};
if (typeof window !== "undefined") {
  window.flatpickr = flatpickr;
}
var esm_default = flatpickr;

// src/app/assets/asset-list/asset-create.component.ts
var _c0 = ["fileInput"];
var _c1 = ["dateInput"];
function AssetCreateComponent_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 106)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 19);
    \u0275\u0275element(3, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div")(5, "p", 107);
    \u0275\u0275text(6, "Duplicating Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 108);
    \u0275\u0275text(8, "Most fields have been pre-filled. Please enter a new serial number and review all information before saving.");
    \u0275\u0275elementEnd()()()();
  }
}
function AssetCreateComponent_div_31_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.nameError, " ");
  }
}
function AssetCreateComponent_span_49_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select parent asset");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_span_50_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 112);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.getSelectedParent().name, " (", ctx_r1.getSelectedParent().asset_id, ") ");
  }
}
function AssetCreateComponent_div_53_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_53_button_6_Template_button_click_0_listener() {
      const parent_r5 = \u0275\u0275restoreView(_r4).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.parent_id = parent_r5.id;
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 118);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 119);
    \u0275\u0275element(4, "path", 54);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 121);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const parent_r5 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.parent_id === parent_r5.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(parent_r5.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(parent_r5.asset_id);
  }
}
function AssetCreateComponent_div_53_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select parent asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_53_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.parent_id = null;
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275text(5, " -- None -- ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(6, AssetCreateComponent_div_53_button_6_Template, 10, 4, "button", 117);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.parent_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.possibleParents);
  }
}
function AssetCreateComponent_span_103_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select asset type");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_104_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 125);
    \u0275\u0275listener("error", function AssetCreateComponent_div_104_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, ctx_r1.selectedAssetType));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.selectedAssetType.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.selectedAssetType.name || ctx_r1.selectedAssetType.label);
  }
}
function AssetCreateComponent_div_104__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 126);
    \u0275\u0275element(1, "path", 127);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275styleProp("color", ctx_r1.selectedAssetType.color);
  }
}
function AssetCreateComponent_div_104_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 122);
    \u0275\u0275template(2, AssetCreateComponent_div_104_img_2_Template, 1, 2, "img", 123)(3, AssetCreateComponent_div_104__svg_svg_3_Template, 2, 2, "svg", 124);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 112);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedAssetType.color + "20");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType.icon && !ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType.icon || ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetType.label);
  }
}
function AssetCreateComponent_div_107_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 133);
    \u0275\u0275listener("error", function AssetCreateComponent_div_107_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r9);
      const type_r8 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, type_r8));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const type_r8 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", type_r8.icon, \u0275\u0275sanitizeUrl)("alt", type_r8.name || type_r8.label);
  }
}
function AssetCreateComponent_div_107_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 19);
    \u0275\u0275element(1, "path", 127);
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_107_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_107_button_4_Template_button_click_0_listener() {
      const type_r8 = \u0275\u0275restoreView(_r7).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectAssetType(type_r8));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 129);
    \u0275\u0275template(3, AssetCreateComponent_div_107_button_4_img_3_Template, 1, 2, "img", 130)(4, AssetCreateComponent_div_107_button_4__svg_svg_4_Template, 2, 0, "svg", 131);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 132);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const type_r8 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r8.id)("text-blue-700", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r8.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", type_r8.icon && !type_r8.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !type_r8.icon || type_r8.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(type_r8.label || type_r8.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(type_r8.description);
  }
}
function AssetCreateComponent_div_107_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select asset type");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_107_button_4_Template, 10, 8, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.assetTypes);
  }
}
function AssetCreateComponent_div_108_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.assetTypeError, " ");
  }
}
function AssetCreateComponent_span_117_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select category");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_span_118_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 112);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.selectedCategory.name);
  }
}
function AssetCreateComponent_div_121_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 133);
    \u0275\u0275listener("error", function AssetCreateComponent_div_121_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r12);
      const cat_r11 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, cat_r11));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r11 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", cat_r11.icon, \u0275\u0275sanitizeUrl)("alt", cat_r11.name);
  }
}
function AssetCreateComponent_div_121_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 119);
    \u0275\u0275element(1, "path", 54);
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_121_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r11 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(cat_r11.description);
  }
}
function AssetCreateComponent_div_121_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_121_button_4_Template_button_click_0_listener() {
      const cat_r11 = \u0275\u0275restoreView(_r10).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectCategory(cat_r11));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 118);
    \u0275\u0275template(3, AssetCreateComponent_div_121_button_4_img_3_Template, 1, 2, "img", 130)(4, AssetCreateComponent_div_121_button_4__svg_svg_4_Template, 2, 0, "svg", 134);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetCreateComponent_div_121_button_4_div_8_Template, 2, 1, "div", 86);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const cat_r11 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r11.id)("text-blue-700", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r11.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", cat_r11.icon);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !cat_r11.icon || cat_r11.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(cat_r11.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", cat_r11.description);
  }
}
function AssetCreateComponent_div_121_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select category");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_121_button_4_Template, 9, 8, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.categories);
  }
}
function AssetCreateComponent_div_122_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.categoryError, " ");
  }
}
function AssetCreateComponent_div_149_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.serialNumberError, " ");
  }
}
function AssetCreateComponent_span_218_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select location");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_219_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 135);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 136);
    \u0275\u0275element(3, "path", 78)(4, "path", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "span", 112);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.selectedLocation.label || ctx_r1.selectedLocation.name);
  }
}
function AssetCreateComponent_div_222_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r14 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(loc_r14.type.name);
  }
}
function AssetCreateComponent_div_222_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_222_button_4_Template_button_click_0_listener() {
      const loc_r14 = \u0275\u0275restoreView(_r13).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectLocation(loc_r14));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 137);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 77);
    \u0275\u0275element(4, "path", 78)(5, "path", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "div")(7, "div", 120);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetCreateComponent_div_222_button_4_div_9_Template, 2, 1, "div", 86);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const loc_r14 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r14.id)("text-blue-700", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r14.id);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.getLocationLabel(loc_r14));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", loc_r14.type);
  }
}
function AssetCreateComponent_div_222_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select location");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_222_button_4_Template, 10, 6, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function AssetCreateComponent_span_235_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select department");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_236_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 138);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 139);
    \u0275\u0275element(3, "path", 140);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 112);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.selectedDepartment.name);
  }
}
function AssetCreateComponent_div_239_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r16 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(dept_r16.description);
  }
}
function AssetCreateComponent_div_239_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 143);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r16 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("Code: ", dept_r16.code, "");
  }
}
function AssetCreateComponent_div_239_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_239_button_4_Template_button_click_0_listener() {
      const dept_r16 = \u0275\u0275restoreView(_r15).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectDepartment(dept_r16));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 141);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 53);
    \u0275\u0275element(4, "path", 140);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetCreateComponent_div_239_button_4_div_8_Template, 2, 1, "div", 86)(9, AssetCreateComponent_div_239_button_4_div_9_Template, 2, 1, "div", 142);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const dept_r16 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r16.id)("text-blue-700", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r16.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(dept_r16.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r16.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r16.code);
  }
}
function AssetCreateComponent_div_239_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select department");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_239_button_4_Template, 10, 7, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function AssetCreateComponent_div_248_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28);
    \u0275\u0275element(1, "div", 144);
    \u0275\u0275elementStart(2, "span", 112);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedStatus.hexColor || "#6B7280");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedStatus.label);
  }
}
function AssetCreateComponent_div_251_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_251_button_4_Template_button_click_0_listener() {
      const status_r18 = \u0275\u0275restoreView(_r17).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectStatus(status_r18));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div");
    \u0275\u0275element(3, "div", 144);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div")(5, "div", 120);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 132);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const status_r18 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r18.value)("text-blue-700", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r18.value);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("w-6 h-6 bg-" + status_r18.color + "-100 rounded-lg flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", status_r18.hexColor || "#6B7280");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(status_r18.label);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(status_r18.description);
  }
}
function AssetCreateComponent_div_251_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 145)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_251_button_4_Template, 9, 10, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.statusOptions);
  }
}
function AssetCreateComponent_div_257_span_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementStart(2, "button", 149);
    \u0275\u0275listener("click", function AssetCreateComponent_div_257_span_2_Template_button_click_2_listener() {
      const tag_r20 = \u0275\u0275restoreView(_r19).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.removeTag(tag_r20));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 150);
    \u0275\u0275element(4, "path", 151);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const tag_r20 = ctx.$implicit;
    \u0275\u0275classMap("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-" + tag_r20.color + "-100 text-" + tag_r20.color + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", tag_r20.name, " ");
  }
}
function AssetCreateComponent_div_257_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 146)(1, "div", 147);
    \u0275\u0275template(2, AssetCreateComponent_div_257_span_2_Template, 5, 3, "span", 148);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.selectedTags);
  }
}
function AssetCreateComponent_span_264_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length, " selected ");
  }
}
function AssetCreateComponent_div_267_button_9_div_7_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 156);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 157);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_267_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_267_button_9_Template_button_click_0_listener() {
      const tag_r23 = \u0275\u0275restoreView(_r22).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleTag(tag_r23));
    });
    \u0275\u0275elementStart(1, "div", 34)(2, "div", 28)(3, "div");
    \u0275\u0275element(4, "div");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span", 120);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(7, AssetCreateComponent_div_267_button_9_div_7_Template, 3, 0, "div", 155);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const tag_r23 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.isTagSelected(tag_r23));
    \u0275\u0275advance(3);
    \u0275\u0275classMap("w-6 h-6 bg-" + tag_r23.color + "-100 rounded-full flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275classMap("w-3 h-3 rounded-full bg-" + tag_r23.color + "-500");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(tag_r23.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isTagSelected(tag_r23));
  }
}
function AssetCreateComponent_div_267_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 152)(3, "div", 67)(4, "input", 153);
    \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_div_267_Template_input_ngModelChange_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.newTagInput, $event) || (ctx_r1.newTagInput = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("keydown", function AssetCreateComponent_div_267_Template_input_keydown_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onTagInputKeydown($event));
    })("click", function AssetCreateComponent_div_267_Template_input_click_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div", 154);
    \u0275\u0275text(6, " Press Enter ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(7, "div", 115);
    \u0275\u0275text(8, "Select tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetCreateComponent_div_267_button_9_Template, 8, 8, "button", 117);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.newTagInput);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngForOf", ctx_r1.availableTags);
  }
}
function AssetCreateComponent_div_291_div_7_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r27);
      const i_r26 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.moveImageUp(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 178);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_291_div_7_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_button_6_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r28);
      const i_r26 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.moveImageDown(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 38);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_291_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 167)(1, "div", 168)(2, "img", 169);
    \u0275\u0275listener("error", function AssetCreateComponent_div_291_div_7_Template_img_error_2_listener($event) {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, i_r26));
    })("load", function AssetCreateComponent_div_291_div_7_Template_img_load_2_listener($event) {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageLoad($event, i_r26));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 170)(4, "div", 171);
    \u0275\u0275template(5, AssetCreateComponent_div_291_div_7_button_5_Template, 3, 0, "button", 172)(6, AssetCreateComponent_div_291_div_7_button_6_Template, 3, 0, "button", 172);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 173);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_Template_button_click_7_listener() {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.removeImage(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 126);
    \u0275\u0275element(9, "path", 151);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 174);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "div", 175)(13, "p", 176);
    \u0275\u0275text(14);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "p", 121);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    let tmp_14_0;
    const previewUrl_r29 = ctx.$implicit;
    const i_r26 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275property("src", previewUrl_r29, \u0275\u0275sanitizeUrl)("alt", "Asset Image " + (i_r26 + 1));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", i_r26 > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", i_r26 < ctx_r1.imagePreviewUrls.length - 1);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1(" ", i_r26 + 1, " ");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.images[i_r26].name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", (((tmp_14_0 = ctx_r1.images[i_r26].size) !== null && tmp_14_0 !== void 0 ? tmp_14_0 : 0) / 1024 / 1024).toFixed(1), " MB");
  }
}
function AssetCreateComponent_div_291_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 158)(1, "div", 159)(2, "h4", 160);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 161);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r24);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.removeAllImages());
    });
    \u0275\u0275text(5, " Remove All ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 162);
    \u0275\u0275template(7, AssetCreateComponent_div_291_div_7_Template, 17, 7, "div", 163);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 164)(9, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 165);
    \u0275\u0275element(11, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "p", 166)(13, "strong");
    \u0275\u0275text(14, "Gallery Tips:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(15, " Hover over images to reorder them. The first image will be the primary asset image. ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1("Selected Images (", ctx_r1.imagePreviewUrls.length, ")");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.imagePreviewUrls);
  }
}
function AssetCreateComponent_div_292_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 179)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 180);
    \u0275\u0275element(3, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 181);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitError);
  }
}
function AssetCreateComponent_div_293_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 182)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 58);
    \u0275\u0275element(3, "path", 157);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 183);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitSuccess);
  }
}
function AssetCreateComponent_span_298_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 184);
    \u0275\u0275element(2, "path", 96);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4, "Create Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_span_299_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 185);
    \u0275\u0275element(2, "circle", 186)(3, "path", 187);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Creating Asset...");
    \u0275\u0275elementEnd()();
  }
}
var AssetCreateComponent = class _AssetCreateComponent {
  assetService;
  router;
  route;
  http;
  dateInputs;
  fileInput;
  // Flatpickr instances
  flatpickrInstances = [];
  // Asset form fields
  name = "";
  description = "";
  serial_number = "";
  model = "";
  manufacturer = "";
  purchase_date = "";
  purchase_price = null;
  depreciation = null;
  depreciation_life = null;
  location_id = null;
  department_id = null;
  warranty = "";
  insurance = "";
  health_score = 85;
  status = null;
  tags = [];
  images = [];
  imagePreviewUrls = [];
  meta = {};
  isSubmitting = false;
  isDragOver = false;
  submitError = "";
  submitSuccess = "";
  submitFieldErrors = {};
  locations = [];
  availableTags = [];
  departments = [];
  possibleParents = [];
  parent_id = null;
  // Duplication state
  isDuplicate = false;
  duplicateSourceId = null;
  // Dropdown state properties
  showAssetTypeDropdown = false;
  showCategoryDropdown = false;
  showLocationDropdown = false;
  showStatusDropdown = false;
  showTagsDropdown = false;
  showDepartmentDropdown = false;
  showParentDropdown = false;
  selectedAssetType = null;
  selectedCategory = null;
  selectedLocation = null;
  selectedStatus = null;
  selectedDepartment = null;
  selectedTags = [];
  newTagInput = "";
  // Validation error properties
  nameError = "";
  assetTypeError = "";
  categoryError = "";
  serialNumberError = "";
  // Address property
  address = "";
  onFileChange(event) {
    if (event.target.files && event.target.files.length) {
      const newFiles = Array.from(event.target.files);
      this.processFiles(newFiles);
      event.target.value = "";
    }
  }
  onDragOver(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = true;
  }
  onDragLeave(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
  }
  onDrop(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
    const files = event.dataTransfer?.files;
    if (files && files.length > 0) {
      const fileArray = Array.from(files).filter((file) => file.type.startsWith("image/"));
      if (fileArray.length > 0) {
        this.processFiles(fileArray);
      }
    }
  }
  processFiles(files) {
    const maxImages = 10;
    const allowedTypes = ["image/jpeg", "image/png", "image/gif", "image/webp"];
    const newImages = [];
    const newPreviews = [];
    for (const file of files) {
      if (!allowedTypes.includes(file.type)) {
        console.warn("Invalid file type:", file.name);
        continue;
      }
      if (file.size > 10 * 1024 * 1024) {
        console.warn("File too large:", file.name);
        continue;
      }
      const isDuplicate = this.images.some((existing) => existing.name === file.name && existing.size === file.size);
      if (isDuplicate) {
        console.warn("Duplicate file skipped:", file.name);
        continue;
      }
      if (this.images.length + newImages.length >= maxImages) {
        console.warn("Max image count exceeded:", file.name);
        break;
      }
      newImages.push(file);
      const reader = new FileReader();
      reader.onload = (e) => {
        if (e.target?.result) {
          this.imagePreviewUrls.push(e.target.result);
        }
      };
      reader.onerror = (error) => {
        console.error("Preview failed for:", file.name, error);
      };
      reader.readAsDataURL(file);
    }
    this.images = [...this.images, ...newImages];
  }
  onSubmit() {
    this.clearErrors();
    if (!this.validateForm()) {
      return;
    }
    this.isSubmitting = true;
    this.submitError = "";
    this.submitSuccess = "";
    this.submitFieldErrors = {};
    const submitCreate = (base64Images) => {
      const payload = {
        name: this.name,
        description: this.description,
        category_id: this.category_id,
        type: this.assetType,
        serial_number: this.serial_number,
        model: this.model,
        manufacturer: this.manufacturer,
        purchase_date: this.purchase_date ? this.convertDateToBackendFormat(this.purchase_date) : null,
        purchase_price: this.purchase_price,
        depreciation: this.depreciation,
        depreciation_life: this.depreciation_life,
        location_id: this.location_id,
        department_id: this.department_id,
        parent_id: this.parent_id,
        warranty: this.warranty,
        insurance: this.insurance,
        health_score: this.health_score,
        status: this.status,
        tags: this.selectedTags.map((tag) => tag.name),
        meta: this.meta
      };
      if (!this.isDuplicate) {
        payload.images = base64Images;
      }
      const request$ = this.isDuplicate && this.duplicateSourceId ? this.assetService.duplicateAsset(this.duplicateSourceId, payload) : this.assetService.createAsset(payload);
      request$.subscribe({
        next: (res) => {
          this.isSubmitting = false;
          if (res.success) {
            this.submitSuccess = this.isDuplicate ? "Asset duplicated successfully!" : "Asset created successfully!";
            setTimeout(() => {
              this.router.navigate(["/assets/list"]);
            }, 2e3);
          } else {
            this.submitError = res.message || "Failed to create asset.";
            this.handleFieldErrors(res.errors || {});
          }
        },
        error: (err) => {
          this.isSubmitting = false;
          this.submitError = err.error?.message || "Failed to create asset.";
          this.handleFieldErrors(err.error?.errors || err.errors || {});
        }
      });
    };
    if (this.isDuplicate) {
      if (this.images.length > 0) {
        this.convertImagesToBase64().then(submitCreate).catch((error) => {
          this.isSubmitting = false;
          this.submitError = "Failed to process images. Please try again.";
          console.error("Image conversion error:", error);
        });
      } else {
        submitCreate([]);
      }
    } else {
      this.convertImagesToBase64().then(submitCreate).catch((error) => {
        this.isSubmitting = false;
        this.submitError = "Failed to process images. Please try again.";
        console.error("Image conversion error:", error);
      });
    }
  }
  healthScore = 85;
  categories = [];
  category_id = null;
  assetTypes = [];
  assetType = null;
  // Asset types from API
  assetTypesFromAPI = [];
  // Status options from API
  statusOptionsFromAPI = [];
  // Status options with proper typing
  statusOptions = [
    { value: 1, label: "Active", color: "green", description: "Asset is operational and in use", sort_order: 1 },
    { value: 2, label: "Maintenance", color: "orange", description: "Asset is under maintenance or repair", sort_order: 2 },
    { value: 3, label: "Inactive", color: "gray", description: "Asset is not currently in use", sort_order: 3 },
    { value: 4, label: "Retired", color: "red", description: "Asset is retired and no longer in service", sort_order: 4 }
  ];
  constructor(assetService, router, route, http) {
    this.assetService = assetService;
    this.router = router;
    this.route = route;
    this.http = http;
  }
  ngOnInit() {
    this.route.queryParams.subscribe((params) => {
      if (params["duplicate"] && params["sourceId"]) {
        this.isDuplicate = true;
        this.duplicateSourceId = String(params["sourceId"]);
        this.loadAssetForDuplication(this.duplicateSourceId);
      }
    });
    this.assetService.getAssetCategories().subscribe((res) => {
      if (res.success && res.data?.categories) {
        this.categories = res.data.categories;
      }
    });
    this.assetService.getAssetTypes().subscribe((res) => {
      if (res.success && res.data) {
        this.assetTypesFromAPI = res.data;
        this.assetTypes = this.assetTypesFromAPI.map((type) => ({
          id: type.id,
          name: type.name,
          label: type.name,
          icon: type.icon,
          // Use the full icon URL from API
          color: this.getColorForType(type.name),
          description: `${type.name} asset type`,
          iconError: false
        }));
      }
    });
    this.assetService.getAssetStatuses().subscribe((res) => {
      if (res.success && res.data) {
        this.statusOptionsFromAPI = res.data;
        this.statusOptions = this.statusOptionsFromAPI.map((status) => ({
          id: status.id,
          value: status.id,
          // Use numerical ID instead of string name
          label: status.name,
          color: this.hexToTailwindColor(status.color),
          description: status.description || `Asset is ${status.name.toLowerCase()}`,
          hexColor: status.color,
          sort_order: status.sort_order
        }));
        this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);
        if (this.statusOptions.length > 0) {
          this.selectedStatus = this.statusOptions[0];
          this.status = this.selectedStatus.value;
        }
      }
    });
    this.assetService.getLocations().subscribe((res) => {
      if (res.success && res.data) {
        this.locations = res.data.locations || res.data;
        this.route.queryParams.subscribe((params) => {
          if (params["location_id"]) {
            this.location_id = Number(params["location_id"]);
            this.selectedLocation = this.locations.find((location) => location.id === this.location_id);
          }
        });
      }
    });
    this.assetService.getDepartments().subscribe((res) => {
      if (res.success && res.data) {
        this.departments = res.data;
      }
    });
    this.assetService.getAssets({ per_page: 1e3 }).subscribe((res) => {
      if (res.success && res.data?.assets) {
        this.possibleParents = res.data.assets;
      }
    });
    this.loadAvailableTags();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.initializeFlatpickr();
    }, 100);
  }
  ngOnDestroy() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
  }
  initializeFlatpickr() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        console.log("Found date inputs:", this.dateInputs.length);
        this.dateInputs.forEach((inputRef, index) => {
          if (inputRef?.nativeElement) {
            const inputElement = inputRef.nativeElement;
            const fieldName = inputElement.getAttribute("name");
            console.log("Processing date input:", fieldName);
            if (fieldName === "purchase_date") {
              console.log("Initializing Flatpickr for purchase_date");
              let config = {
                dateFormat: "d M, Y",
                allowInput: true,
                clickOpens: true,
                maxDate: "today",
                onChange: (selectedDates, dateStr) => {
                  console.log("Date selected:", dateStr);
                  this.purchase_date = dateStr;
                }
              };
              const instance = esm_default(inputElement, config);
              this.flatpickrInstances.push(instance);
              console.log("Flatpickr initialized successfully for purchase_date");
            }
          }
        });
      } else {
        console.warn("No date inputs found");
      }
    }, 50);
  }
  loadAvailableTags() {
    this.availableTags = [
      { id: 1, name: "Critical", color: "red" },
      { id: 2, name: "High Priority", color: "orange" },
      { id: 3, name: "Equipment", color: "blue" },
      { id: 4, name: "IT Hardware", color: "purple" },
      { id: 5, name: "Furniture", color: "green" },
      { id: 6, name: "Vehicle", color: "yellow" },
      { id: 7, name: "Safety Equipment", color: "red" },
      { id: 8, name: "Office Supplies", color: "gray" }
    ];
  }
  loadAssetForDuplication(sourceId) {
    this.assetService.getAsset(sourceId).subscribe({
      next: (response) => {
        if (response.success) {
          const sourceAsset = response.data.asset || response.data;
          this.populateFormFromSource(sourceAsset);
        }
      },
      error: (error) => {
        console.error("Error loading source asset for duplication:", error);
      }
    });
  }
  populateFormFromSource(sourceAsset) {
    this.name = sourceAsset.name ? `${sourceAsset.name} (Copy)` : "";
    this.description = sourceAsset.description || "";
    this.model = sourceAsset.model || "";
    this.manufacturer = sourceAsset.manufacturer || "";
    this.purchase_date = sourceAsset.purchase_date ? this.convertBackendDateToDisplay(sourceAsset.purchase_date) : "";
    this.purchase_price = sourceAsset.purchase_price || null;
    this.depreciation = sourceAsset.depreciation || null;
    this.depreciation_life = sourceAsset.depreciation_life || null;
    this.location_id = sourceAsset.location_id || null;
    this.department_id = sourceAsset.department_id || null;
    this.warranty = sourceAsset.warranty ? this.convertBackendDateToDisplay(sourceAsset.warranty) : "";
    this.insurance = sourceAsset.insurance || "";
    this.health_score = sourceAsset.health_score || 85;
    this.status = sourceAsset.status || "Active";
    setTimeout(() => {
      if (sourceAsset.type) {
        this.selectedAssetType = this.assetTypes.find((type) => type.id == sourceAsset.type || type.id === parseInt(sourceAsset.type)) || null;
        if (this.selectedAssetType) {
          this.assetType = this.selectedAssetType.id;
        }
      }
      if (sourceAsset.category_id) {
        this.selectedCategory = this.categories.find((cat) => cat.id === sourceAsset.category_id) || null;
        this.category_id = sourceAsset.category_id;
      }
      if (sourceAsset.location_id) {
        this.selectedLocation = this.locations.find((loc) => loc.id === sourceAsset.location_id) || null;
      }
      if (sourceAsset.department_id) {
        this.selectedDepartment = this.departments.find((dept) => dept.id === sourceAsset.department_id) || null;
      }
      if (sourceAsset.status) {
        this.selectedStatus = this.statusOptions.find((status) => status.value === sourceAsset.status || status.label === sourceAsset.status || status.id === sourceAsset.status) || null;
        if (this.selectedStatus) {
          this.status = this.selectedStatus.value;
        }
      }
      if (!this.selectedStatus && this.statusOptions.length > 0) {
        this.selectedStatus = this.statusOptions[0];
        this.status = this.selectedStatus.value;
      }
      if (sourceAsset.tags && Array.isArray(sourceAsset.tags)) {
        this.selectedTags = sourceAsset.tags.map((tag) => {
          return this.availableTags.find((t) => t.id === tag.id) || tag;
        });
      }
      this.clearErrors();
    }, 500);
    this.serial_number = "";
    if (sourceAsset.images && Array.isArray(sourceAsset.images) && sourceAsset.images.length > 0) {
      this.duplicateImages(sourceAsset.images);
    }
  }
  goBack() {
    this.router.navigate(["/assets/list"]);
  }
  // Dropdown toggle methods
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
  }
  toggleCategoryDropdown() {
    this.showCategoryDropdown = !this.showCategoryDropdown;
    this.showAssetTypeDropdown = false;
    this.showLocationDropdown = false;
  }
  toggleLocationDropdown() {
    this.showLocationDropdown = !this.showLocationDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showStatusDropdown = false;
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showTagsDropdown = false;
  }
  toggleTagsDropdown() {
    this.showTagsDropdown = !this.showTagsDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleDepartmentDropdown() {
    this.showDepartmentDropdown = !this.showDepartmentDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
  }
  // Selection methods
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.assetType = type.id;
    this.showAssetTypeDropdown = false;
    this.clearErrors();
  }
  selectCategory(category) {
    this.selectedCategory = category;
    this.category_id = category.id;
    this.showCategoryDropdown = false;
    this.clearErrors();
  }
  buildLocationLabel(loc) {
    if (!loc)
      return "";
    if (loc.full_path)
      return loc.full_path;
    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {
      return loc.complete_hierarchy.map((n) => n.name).join(" \u2192 ");
    }
    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {
      return loc.ancestors_with_details.map((n) => n.name).join(" \u2192 ") + " \u2192 " + (loc.name || "");
    }
    return loc.name || "";
  }
  getLocationLabel(loc) {
    return this.buildLocationLabel(loc);
  }
  selectLocation(location) {
    const label = this.buildLocationLabel(location);
    this.selectedLocation = __spreadProps(__spreadValues({}, location), { label });
    this.location_id = location.id;
    this.showLocationDropdown = false;
  }
  selectStatus(status) {
    this.selectedStatus = status;
    this.status = status.value;
    this.showStatusDropdown = false;
  }
  selectDepartment(department) {
    this.selectedDepartment = department;
    this.department_id = department.id;
    this.showDepartmentDropdown = false;
  }
  toggleTag(tag) {
    const index = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index > -1) {
      this.selectedTags.splice(index, 1);
    } else {
      this.selectedTags.push(tag);
    }
  }
  isTagSelected(tag) {
    return this.selectedTags.some((t) => t.id === tag.id);
  }
  onTagInputKeydown(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      this.createNewTag();
    }
  }
  createNewTag() {
    const tagName = this.newTagInput.trim();
    if (tagName && !this.selectedTags.some((t) => t.name.toLowerCase() === tagName.toLowerCase())) {
      const colors = ["red", "blue", "green", "yellow", "purple", "pink", "indigo", "gray"];
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      const newTag = {
        id: Date.now(),
        // Temporary ID until saved to backend
        name: tagName,
        color: randomColor,
        isNew: true
        // Flag to identify newly created tags
      };
      this.selectedTags.push(newTag);
      this.newTagInput = "";
    }
  }
  removeTag(tag) {
    const index = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index > -1) {
      this.selectedTags.splice(index, 1);
    }
  }
  // Close dropdowns when clicking outside
  onDocumentClick(event) {
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  // Validation methods
  validateForm() {
    let isValid = true;
    if (!this.name || this.name.trim().length === 0) {
      this.nameError = "Asset name is required";
      isValid = false;
    } else if (this.name.trim().length > 100) {
      this.nameError = "Asset name cannot exceed 100 characters";
      isValid = false;
    }
    if (this.description && this.description.length > 1e3) {
      this.submitError = "Description cannot exceed 1000 characters";
      isValid = false;
    }
    if (this.serial_number && this.serial_number.length > 100) {
      this.serialNumberError = "Serial number cannot exceed 100 characters";
      isValid = false;
    }
    if (this.model && this.model.length > 100) {
      this.submitError = "Model cannot exceed 100 characters";
      isValid = false;
    }
    if (this.manufacturer && this.manufacturer.length > 100) {
      this.submitError = "Manufacturer cannot exceed 100 characters";
      isValid = false;
    }
    if (this.warranty && this.warranty.length > 255) {
      this.submitError = "Warranty cannot exceed 255 characters";
      isValid = false;
    }
    if (this.insurance && this.insurance.length > 255) {
      this.submitError = "Insurance cannot exceed 255 characters";
      isValid = false;
    }
    if (this.purchase_price !== null && this.purchase_price < 0) {
      this.submitError = "Purchase price cannot be negative";
      isValid = false;
    }
    if (this.depreciation !== null && (this.depreciation < 0 || this.depreciation > 100)) {
      this.submitError = "Depreciation must be between 0 and 100";
      isValid = false;
    }
    if (this.depreciation_life !== null && (this.depreciation_life < 1 || this.depreciation_life > 100)) {
      this.submitError = "Depreciation life must be between 1 and 100 years";
      isValid = false;
    }
    if (this.purchase_date) {
      const today = /* @__PURE__ */ new Date();
      const purchaseDate = new Date(this.purchase_date);
      if (purchaseDate > today) {
        this.submitError = "Purchase date cannot be in the future";
        isValid = false;
      }
    }
    if (this.health_score < 0 || this.health_score > 100) {
      this.submitError = "Health score must be between 0 and 100";
      isValid = false;
    }
    if (!this.category_id) {
      this.categoryError = "Category is required";
      isValid = false;
    }
    if (!this.assetType) {
      this.assetTypeError = "Asset type is required";
      isValid = false;
    }
    return isValid;
  }
  clearErrors() {
    this.nameError = "";
    this.assetTypeError = "";
    this.categoryError = "";
    this.serialNumberError = "";
    this.submitError = "";
    this.submitSuccess = "";
  }
  handleFieldErrors(errors) {
    if (errors["name"]) {
      this.nameError = errors["name"][0];
    }
    if (errors["type"]) {
      this.assetTypeError = errors["type"][0];
    }
    if (errors["category_id"]) {
      this.categoryError = errors["category_id"][0];
    }
    if (errors["serial_number"]) {
      this.serialNumberError = errors["serial_number"][0];
    }
  }
  isFormValid() {
    return !!(this.name && this.name.trim().length > 0 && this.name.trim().length <= 100);
  }
  removeImage(index) {
    this.images.splice(index, 1);
    this.imagePreviewUrls.splice(index, 1);
  }
  removeAllImages() {
    this.images = [];
    this.imagePreviewUrls = [];
  }
  moveImage(fromIndex, toIndex) {
    if (toIndex >= 0 && toIndex < this.images.length) {
      const file = this.images.splice(fromIndex, 1)[0];
      this.images.splice(toIndex, 0, file);
      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];
      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);
    }
  }
  moveImageUp(index) {
    if (index > 0) {
      this.moveImage(index, index - 1);
    }
  }
  moveImageDown(index) {
    if (index < this.images.length - 1) {
      this.moveImage(index, index + 1);
    }
  }
  getTodayDate() {
    const today = /* @__PURE__ */ new Date();
    return today.toISOString().split("T")[0];
  }
  // Helper method to convert date from display format to backend format
  convertDateToBackendFormat(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, "0");
      const day = String(date.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert backend date format to display format
  convertBackendDateToDisplay(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const options = {
        day: "2-digit",
        month: "short",
        year: "numeric"
      };
      return date.toLocaleDateString("en-GB", options).replace(/,/g, ",");
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to extract icon name from path
  getIconFromPath(iconPath) {
    if (!iconPath)
      return "cube";
    const filename = iconPath.split("/").pop() || "";
    return filename.replace(".svg", "") || "cube";
  }
  // Helper method to assign colors to asset types
  getColorForType(typeName) {
    const colorMap = {
      "Fixed Asset": "#2563eb",
      "Semi-Fixed Asset": "#22c55e",
      "Mobile Asset": "#f59e42",
      "Fleet Asset": "#a855f7",
      "IT Equipment": "#3b82f6",
      "Furniture": "#10b981",
      "Vehicle": "#f59e0b",
      "Machinery": "#ef4444",
      "Electronics": "#8b5cf6",
      "Tools": "#f97316"
    };
    return colorMap[typeName] || "#6b7280";
  }
  // Helper method to convert hex colors to Tailwind color names
  hexToTailwindColor(hexColor) {
    const colorMap = {
      "#10B981": "green",
      // Active
      "#F59E0B": "orange",
      // Maintenance
      "#9CA3AF": "gray",
      // Inactive
      "#EF4444": "red",
      // Retired
      "#6B7280": "gray",
      // Archived
      "#22C55E": "green",
      // Alternative green
      "#3B82F6": "blue",
      // Alternative blue
      "#8B5CF6": "purple",
      // Alternative purple
      "#F97316": "orange"
      // Alternative orange
    };
    return colorMap[hexColor.toUpperCase()] || "gray";
  }
  onImageError(event, index) {
    console.error("Image failed to load at index:", index);
    console.error("Image src:", event.target.src);
    console.error("Image file:", this.images[index]);
    event.target.style.display = "none";
  }
  onImageLoad(event, index) {
    console.log("Image loaded successfully at index:", index);
    console.log("Image dimensions:", event.target.naturalWidth, "x", event.target.naturalHeight);
  }
  // Convert images to base64
  convertImagesToBase64() {
    return Promise.all(this.images.map((file) => {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => {
          if (reader.result) {
            resolve(reader.result);
          } else {
            reject(new Error("Failed to read file"));
          }
        };
        reader.onerror = () => reject(reader.error);
        reader.readAsDataURL(file);
      });
    }));
  }
  onCategoryIconError(event, category) {
    console.warn("Category icon failed to load:", category.name, category.icon);
    category.iconError = true;
    event.target.style.display = "none";
  }
  onAssetTypeIconError(event, assetType) {
    console.warn("Asset type icon failed to load:", assetType.name, assetType.icon);
    assetType.iconError = true;
    event.target.style.display = "none";
  }
  triggerFileInput() {
    this.fileInput.nativeElement.click();
  }
  // Method to duplicate images from source asset
  duplicateImages(sourceImages) {
    sourceImages.forEach((image, index) => {
      if (image.image_url) {
        this.imagePreviewUrls.push(image.image_url);
        const fileName = `existing-image-${index + 1}.jpg`;
        const placeholderFile = new File([""], fileName, { type: "image/jpeg" });
        this.images.push(placeholderFile);
      }
    });
  }
  getSelectedParent() {
    return this.possibleParents.find((p) => p.id === this.parent_id);
  }
  static \u0275fac = function AssetCreateComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetCreateComponent)(\u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(HttpClient));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetCreateComponent, selectors: [["app-asset-create"]], viewQuery: function AssetCreateComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c0, 5);
      \u0275\u0275viewQuery(_c1, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.fileInput = _t.first);
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, hostBindings: function AssetCreateComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetCreateComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 300, vars: 118, consts: [["assetForm", "ngForm"], ["nameInput", "ngModel"], ["dateInput", ""], ["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "p-6"], [1, "asset-create-page"], [1, "mb-8"], [1, "flex", "items-center", "space-x-4", "mb-4"], ["type", "button", 1, "flex", "items-center", "space-x-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "font-medium"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600"], ["class", "mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg", 4, "ngIf"], [3, "ngSubmit"], [1, "section-card"], [1, "flex", "items-center", "space-x-3", "mb-6"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "section-title"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6", "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "text-red-500"], ["type", "text", "placeholder", "e.g., Main Server Room AC Unit", "name", "name", "required", "", 1, "input", 3, "ngModelChange", "ngModel"], ["class", "text-red-600 text-sm mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "items-center", "space-x-3"], ["type", "text", "value", "AST-012", "readonly", "", 1, "input", "flex-1"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-xs", "font-medium", "bg-blue-100", "text-blue-800"], [1, "mb-6"], [1, "relative", 3, "click"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["rows", "3", "placeholder", "Brief description of the asset and its purpose...", "name", "description", "maxlength", "500", 1, "input", "resize-none", 3, "ngModelChange", "ngModel"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "justify-between", "mb-3"], [1, "text-sm", "text-gray-600"], [1, "text-2xl", "font-bold"], [1, "relative", "w-full", "h-6", "mb-3"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-2", "bg-gray-200", "rounded-lg"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "h-2", "rounded-lg", "transition-all", "duration-300"], ["type", "range", "min", "0", "max", "100", "name", "health_score", 1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-6", "bg-transparent", "appearance-none", "cursor-pointer", "slider-input", 3, "ngModelChange", "ngModel"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-4", "h-4", "rounded-full", "border-2", "border-white", "shadow-md", "pointer-events-none", "transition-all", "duration-300", 2, "margin-left", "-8px"], [1, "flex", "justify-between", "text-xs", "text-gray-500", "mt-2"], [1, "w-10", "h-10", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], ["class", "flex items-center space-x-3", 4, "ngIf"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-6"], ["type", "text", "placeholder", "e.g., Dell, HP, Toyota", "name", "manufacturer", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "placeholder", "e.g., PowerEdge R730", "name", "model", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "placeholder", "e.g., SN123456789", "name", "serial_number", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], [1, "w-10", "h-10", "bg-yellow-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-yellow-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "relative"], [1, "absolute", "inset-y-0", "left-0", "pl-3", "flex", "items-center", "pointer-events-none"], [1, "text-gray-500", "sm:text-sm"], ["type", "number", "placeholder", "5,000.00", "name", "purchase_price", "step", "0.01", "min", "0", 1, "input", 2, "padding-left", "24px", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "purchase_date", "placeholder", "Select purchase date", "readonly", "", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "number", "name", "depreciation", "placeholder", "e.g., 20", "min", "0", "max", "100", "step", "0.01", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "number", "name", "depreciation_life", "placeholder", "e.g., 5", "min", "1", "max", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "warranty", "placeholder", "e.g., 2 years manufacturer warranty", "maxlength", "255", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "insurance", "placeholder", "e.g., Policy #12345, expires 2025-12-31", "maxlength", "255", 1, "input", 3, "ngModelChange", "ngModel"], [1, "w-10", "h-10", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-indigo-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], [1, "col-span-1", "md:col-span-2"], ["type", "text", "placeholder", "Enter asset address", "name", "address", "autocomplete", "off", 1, "input", "w-full", 3, "ngModelChange", "ngModel"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg", 4, "ngIf"], ["class", "mb-3", 4, "ngIf"], [1, "text-gray-400"], [1, "flex", "items-center", "space-x-2"], ["class", "text-sm text-gray-500", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "w-10", "h-10", "bg-pink-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-pink-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "mt-1", "flex", "justify-center", "px-6", "pt-8", "pb-8", "border-2", "border-dashed", "rounded-lg", "transition-all", "duration-200", 3, "click", "dragover", "dragleave", "drop"], [1, "space-y-1", "text-center"], [1, "w-16", "h-16", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "transition-colors"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "text-sm", "transition-colors"], ["id", "file-upload", "name", "file-upload", "type", "file", "accept", "image/*", "multiple", "", 1, "sr-only", 3, "change"], ["class", "mt-6", 4, "ngIf"], ["class", "mb-6 p-4 bg-red-50 border border-red-200 rounded-lg", 4, "ngIf"], ["class", "mb-6 p-4 bg-green-50 border border-green-200 rounded-lg", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "pt-6", "border-t", "border-gray-200"], ["type", "button", 1, "px-6", "py-3", "border", "border-gray-300", "rounded-lg", "text-gray-700", "font-medium", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["type", "submit", 1, "px-8", "py-3", "bg-blue-600", "text-white", "font-medium", "rounded-lg", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", "shadow-sm", 3, "disabled"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "mt-4", "p-4", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], [1, "text-blue-800", "font-medium"], [1, "text-blue-700", "text-sm"], [1, "text-red-600", "text-sm", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], [1, "px-3", "py-2", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider", "bg-gray-50"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], [1, "font-medium", "text-gray-900"], [1, "text-xs", "text-gray-500"], [1, "w-6", "h-6", "rounded", "flex", "items-center", "justify-center"], ["class", "w-4 h-4", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 3, "color", 4, "ngIf"], [1, "w-4", "h-4", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "text-blue-700", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "rounded-lg", "flex", "items-center", "justify-center", "bg-blue-100"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "text-sm", "text-gray-500"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["class", "w-5 h-5 text-gray-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-6", "h-6", "bg-indigo-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-indigo-600"], [1, "w-8", "h-8", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], [1, "w-6", "h-6", "bg-purple-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"], [1, "w-8", "h-8", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "text-xs text-gray-400", 4, "ngIf"], [1, "text-xs", "text-gray-400"], [1, "w-3", "h-3", "rounded-full"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg"], [1, "mb-3"], [1, "flex", "flex-wrap", "gap-2"], [3, "class", 4, "ngFor", "ngForOf"], ["type", "button", 1, "ml-2", "inline-flex", "items-center", "justify-center", "w-4", "h-4", "rounded-full", "hover:bg-black", "hover:bg-opacity-20", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "px-3", "py-2", "border-b", "border-gray-100"], ["type", "text", "name", "newTagInput", "placeholder", "Type to create new tag...", 1, "w-full", "px-3", "py-2", "text-sm", "border", "border-gray-300", "rounded-md", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", 3, "ngModelChange", "keydown", "click", "ngModel"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "text-xs", "text-gray-400"], ["class", "text-blue-600", 4, "ngIf"], [1, "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "mt-6"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "text-sm", "font-medium", "text-gray-700"], ["type", "button", 1, "text-red-600", "hover:text-red-700", "text-sm", "font-medium", "transition-colors", 3, "click"], [1, "grid", "grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-4"], ["class", "relative group", 4, "ngFor", "ngForOf"], [1, "mt-4", "p-3", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], [1, "text-blue-800", "text-sm"], [1, "relative", "group"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "border", "border-gray-200", "hover:border-blue-300", "transition-colors"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "load", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-50", "group-hover:bg-opacity-20", "transition-all", "duration-200", "flex", "items-center", "justify-center"], [1, "opacity-0", "group-hover:opacity-100", "transition-opacity", "duration-200", "flex", "items-center", "space-x-2"], ["type", "button", "class", "w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm", 3, "click", 4, "ngIf"], ["type", "button", 1, "absolute", "top-2", "right-2", "w-6", "h-6", "bg-red-500", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-red-600", "transition-colors", "shadow-sm", 3, "click"], [1, "absolute", "top-2", "left-2", "w-6", "h-6", "bg-blue-600", "text-white", "rounded-full", "flex", "items-center", "justify-center", "text-xs", "font-medium"], [1, "mt-2", "text-center"], [1, "text-xs", "text-gray-600", "truncate"], ["type", "button", 1, "w-8", "h-8", "bg-white", "bg-opacity-90", "text-gray-700", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-100", "transition-all", "shadow-sm", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 15l7-7 7 7"], [1, "mb-6", "p-4", "bg-red-50", "border", "border-red-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-600"], [1, "text-red-800", "font-medium"], [1, "mb-6", "p-4", "bg-green-50", "border", "border-green-200", "rounded-lg"], [1, "text-green-800", "font-medium"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-5", "w-5"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function AssetCreateComponent_Template(rf, ctx) {
    if (rf & 1) {
      const _r1 = \u0275\u0275getCurrentView();
      \u0275\u0275elementStart(0, "div", 4)(1, "div", 5)(2, "div", 6)(3, "div", 7)(4, "button", 8);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_4_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.goBack());
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(5, "svg", 9);
      \u0275\u0275element(6, "path", 10);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(7, "span", 11);
      \u0275\u0275text(8, "Back to Assets");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(9, "h1", 12);
      \u0275\u0275text(10);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(11, "p", 13);
      \u0275\u0275text(12);
      \u0275\u0275elementEnd();
      \u0275\u0275template(13, AssetCreateComponent_div_13_Template, 9, 0, "div", 14);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(14, "form", 15, 0);
      \u0275\u0275listener("ngSubmit", function AssetCreateComponent_Template_form_ngSubmit_14_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onSubmit());
      });
      \u0275\u0275elementStart(16, "div", 16)(17, "div", 17)(18, "div", 18);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(19, "svg", 19);
      \u0275\u0275element(20, "path", 20);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(21, "h2", 21);
      \u0275\u0275text(22, "Basic Information");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(23, "div", 22)(24, "div")(25, "label", 23);
      \u0275\u0275text(26, " Asset Name ");
      \u0275\u0275elementStart(27, "span", 24);
      \u0275\u0275text(28, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(29, "input", 25, 1);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_29_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.name, $event) || (ctx.name = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275template(31, AssetCreateComponent_div_31_Template, 4, 1, "div", 26);
      \u0275\u0275elementStart(32, "div", 27);
      \u0275\u0275text(33, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(34, "div")(35, "label", 23);
      \u0275\u0275text(36, "Asset ID");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(37, "div", 28);
      \u0275\u0275element(38, "input", 29);
      \u0275\u0275elementStart(39, "span", 30);
      \u0275\u0275text(40, " auto-generated ");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(41, "p", 27);
      \u0275\u0275text(42, "Unique identifier automatically assigned");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(43, "div", 31)(44, "label", 23);
      \u0275\u0275text(45, "Parent Asset");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(46, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_46_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(47, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_47_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.showParentDropdown = !ctx.showParentDropdown);
      });
      \u0275\u0275elementStart(48, "div", 34);
      \u0275\u0275template(49, AssetCreateComponent_span_49_Template, 2, 0, "span", 35)(50, AssetCreateComponent_span_50_Template, 2, 2, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(51, "svg", 37);
      \u0275\u0275element(52, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(53, AssetCreateComponent_div_53_Template, 7, 3, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(54, "div", 27);
      \u0275\u0275text(55, "Optional: Select a parent asset if this asset is a child of another.");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(56, "div", 31)(57, "label", 23);
      \u0275\u0275text(58, "Description");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(59, "textarea", 40);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_textarea_ngModelChange_59_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.description, $event) || (ctx.description = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(60, "div", 27);
      \u0275\u0275text(61, "Maximum 500 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(62, "div")(63, "label", 41);
      \u0275\u0275text(64, "Health Score");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(65, "div", 42)(66, "div", 43)(67, "span", 44);
      \u0275\u0275text(68, "Current Score");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(69, "span", 45);
      \u0275\u0275text(70);
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(71, "div", 46);
      \u0275\u0275element(72, "div", 47)(73, "div", 48);
      \u0275\u0275elementStart(74, "input", 49);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_74_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.healthScore, $event) || (ctx.healthScore = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275element(75, "div", 50);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(76, "div", 51)(77, "span");
      \u0275\u0275text(78, "Poor (0%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(79, "span");
      \u0275\u0275text(80, "Fair (25%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(81, "span");
      \u0275\u0275text(82, "Good (50%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(83, "span");
      \u0275\u0275text(84, "Very Good (75%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(85, "span");
      \u0275\u0275text(86, "Excellent (100%)");
      \u0275\u0275elementEnd()()()()();
      \u0275\u0275elementStart(87, "div", 16)(88, "div", 17)(89, "div", 52);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(90, "svg", 53);
      \u0275\u0275element(91, "path", 54);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(92, "h2", 21);
      \u0275\u0275text(93, "Asset Classification");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(94, "div", 55)(95, "div")(96, "label", 23);
      \u0275\u0275text(97, " Asset Type ");
      \u0275\u0275elementStart(98, "span", 24);
      \u0275\u0275text(99, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(100, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_100_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(101, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_101_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleAssetTypeDropdown());
      });
      \u0275\u0275elementStart(102, "div", 34);
      \u0275\u0275template(103, AssetCreateComponent_span_103_Template, 2, 0, "span", 35)(104, AssetCreateComponent_div_104_Template, 6, 5, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(105, "svg", 37);
      \u0275\u0275element(106, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(107, AssetCreateComponent_div_107_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275template(108, AssetCreateComponent_div_108_Template, 4, 1, "div", 26);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(109, "div")(110, "label", 23);
      \u0275\u0275text(111, " Category ");
      \u0275\u0275elementStart(112, "span", 24);
      \u0275\u0275text(113, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(114, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_114_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(115, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_115_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleCategoryDropdown());
      });
      \u0275\u0275elementStart(116, "div", 34);
      \u0275\u0275template(117, AssetCreateComponent_span_117_Template, 2, 0, "span", 35)(118, AssetCreateComponent_span_118_Template, 2, 1, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(119, "svg", 37);
      \u0275\u0275element(120, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(121, AssetCreateComponent_div_121_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275template(122, AssetCreateComponent_div_122_Template, 4, 1, "div", 26);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(123, "div", 16)(124, "div", 17)(125, "div", 57);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(126, "svg", 58);
      \u0275\u0275element(127, "path", 59);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(128, "h2", 21);
      \u0275\u0275text(129, "Technical Details");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(130, "div", 60)(131, "div")(132, "label", 23);
      \u0275\u0275text(133, "Manufacturer");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(134, "input", 61);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_134_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.manufacturer, $event) || (ctx.manufacturer = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(135, "div", 27);
      \u0275\u0275text(136, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(137, "div")(138, "label", 23);
      \u0275\u0275text(139, "Model");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(140, "input", 62);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_140_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.model, $event) || (ctx.model = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(141, "div", 27);
      \u0275\u0275text(142, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(143, "div")(144, "label", 23);
      \u0275\u0275text(145, " Serial Number ");
      \u0275\u0275elementStart(146, "span", 24);
      \u0275\u0275text(147, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(148, "input", 63);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_148_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.serial_number, $event) || (ctx.serial_number = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275template(149, AssetCreateComponent_div_149_Template, 4, 1, "div", 26);
      \u0275\u0275elementStart(150, "div", 27);
      \u0275\u0275text(151, "Required, max 100 chars, must be unique within your company");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(152, "div", 16)(153, "div", 17)(154, "div", 64);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(155, "svg", 65);
      \u0275\u0275element(156, "path", 66);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(157, "h2", 21);
      \u0275\u0275text(158, "Financial Information");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(159, "div", 22)(160, "div")(161, "label", 23);
      \u0275\u0275text(162, "Purchase Value (USD)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(163, "div", 67)(164, "div", 68)(165, "span", 69);
      \u0275\u0275text(166, "$ ");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(167, "input", 70);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_167_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.purchase_price, $event) || (ctx.purchase_price = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(168, "div", 27);
      \u0275\u0275text(169, "Must be a non-negative number");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(170, "div")(171, "label", 23);
      \u0275\u0275text(172, "Purchase Date");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(173, "input", 71, 2);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_173_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.purchase_date, $event) || (ctx.purchase_date = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(175, "div", 27);
      \u0275\u0275text(176, "Cannot be in the future");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(177, "div", 22)(178, "div")(179, "label", 23);
      \u0275\u0275text(180, "Depreciation Rate (%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(181, "input", 72);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_181_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.depreciation, $event) || (ctx.depreciation = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(182, "div", 27);
      \u0275\u0275text(183, "Annual depreciation rate (0-100%)");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(184, "div")(185, "label", 23);
      \u0275\u0275text(186, "Depreciation Life (Years)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(187, "input", 73);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_187_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.depreciation_life, $event) || (ctx.depreciation_life = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(188, "div", 27);
      \u0275\u0275text(189, "Useful life for depreciation calculation (1-100 years)");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(190, "div", 22)(191, "div")(192, "label", 23);
      \u0275\u0275text(193, "Warranty Information");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(194, "input", 74);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_194_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.warranty, $event) || (ctx.warranty = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(195, "div", 27);
      \u0275\u0275text(196, "Warranty details (max 255 characters)");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(197, "div")(198, "label", 23);
      \u0275\u0275text(199, "Insurance Information");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(200, "input", 75);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_200_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.insurance, $event) || (ctx.insurance = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(201, "div", 27);
      \u0275\u0275text(202, "Insurance details (max 255 characters)");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(203, "div", 16)(204, "div", 17)(205, "div", 76);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(206, "svg", 77);
      \u0275\u0275element(207, "path", 78)(208, "path", 79);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(209, "h2", 21);
      \u0275\u0275text(210, "Location & Assignment");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(211, "div", 55)(212, "div")(213, "label", 23);
      \u0275\u0275text(214, "Location");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(215, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_215_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(216, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_216_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleLocationDropdown());
      });
      \u0275\u0275elementStart(217, "div", 34);
      \u0275\u0275template(218, AssetCreateComponent_span_218_Template, 2, 0, "span", 35)(219, AssetCreateComponent_div_219_Template, 7, 1, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(220, "svg", 37);
      \u0275\u0275element(221, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(222, AssetCreateComponent_div_222_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(223, "div", 80)(224, "label", 23);
      \u0275\u0275text(225, "Address");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(226, "input", 81);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_226_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.address, $event) || (ctx.address = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(227, "div", 27);
      \u0275\u0275text(228, "Enter the physical address of the asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(229, "div")(230, "label", 23);
      \u0275\u0275text(231, "Department ID");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(232, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_232_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(233, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_233_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleDepartmentDropdown());
      });
      \u0275\u0275elementStart(234, "div", 34);
      \u0275\u0275template(235, AssetCreateComponent_span_235_Template, 2, 0, "span", 35)(236, AssetCreateComponent_div_236_Template, 6, 1, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(237, "svg", 37);
      \u0275\u0275element(238, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(239, AssetCreateComponent_div_239_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(240, "div", 27);
      \u0275\u0275text(241, "Optional department assignment");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(242, "div")(243, "label", 23);
      \u0275\u0275text(244, "Status");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(245, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_245_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(246, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_246_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleStatusDropdown());
      });
      \u0275\u0275elementStart(247, "div", 34);
      \u0275\u0275template(248, AssetCreateComponent_div_248_Template, 4, 3, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(249, "svg", 37);
      \u0275\u0275element(250, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(251, AssetCreateComponent_div_251_Template, 5, 1, "div", 82);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(252, "div", 27);
      \u0275\u0275text(253, "Current operational status of the asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(254, "div")(255, "label", 23);
      \u0275\u0275text(256, "Tags");
      \u0275\u0275elementEnd();
      \u0275\u0275template(257, AssetCreateComponent_div_257_Template, 3, 1, "div", 83);
      \u0275\u0275elementStart(258, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_258_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(259, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_259_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleTagsDropdown());
      });
      \u0275\u0275elementStart(260, "div", 34)(261, "span", 84);
      \u0275\u0275text(262);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(263, "div", 85);
      \u0275\u0275template(264, AssetCreateComponent_span_264_Template, 2, 1, "span", 86);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(265, "svg", 37);
      \u0275\u0275element(266, "path", 38);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(267, AssetCreateComponent_div_267_Template, 10, 2, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(268, "div", 27);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(269, "svg", 87);
      \u0275\u0275element(270, "path", 88);
      \u0275\u0275elementEnd();
      \u0275\u0275text(271, " Select existing tags or type to create new ones. Press Enter to add custom tags. ");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(272, "div", 16)(273, "div", 17)(274, "div", 89);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(275, "svg", 90);
      \u0275\u0275element(276, "path", 91);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(277, "h2", 21);
      \u0275\u0275text(278, "Asset Image");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(279, "div")(280, "label", 23);
      \u0275\u0275text(281, "Upload Image");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(282, "div", 92);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_282_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.triggerFileInput());
      })("dragover", function AssetCreateComponent_Template_div_dragover_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDragOver($event));
      })("dragleave", function AssetCreateComponent_Template_div_dragleave_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDragLeave($event));
      })("drop", function AssetCreateComponent_Template_div_drop_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDrop($event));
      });
      \u0275\u0275elementStart(283, "div", 93)(284, "div", 94);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(285, "svg", 95);
      \u0275\u0275element(286, "path", 96);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(287, "p", 97);
      \u0275\u0275text(288);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(289, "input", 98, 3);
      \u0275\u0275listener("change", function AssetCreateComponent_Template_input_change_289_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onFileChange($event));
      });
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(291, AssetCreateComponent_div_291_Template, 16, 2, "div", 99);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(292, AssetCreateComponent_div_292_Template, 6, 1, "div", 100)(293, AssetCreateComponent_div_293_Template, 6, 1, "div", 101);
      \u0275\u0275elementStart(294, "div", 102)(295, "button", 103);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_295_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.goBack());
      });
      \u0275\u0275text(296, " Cancel ");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(297, "button", 104);
      \u0275\u0275template(298, AssetCreateComponent_span_298_Template, 5, 0, "span", 105)(299, AssetCreateComponent_span_299_Template, 6, 0, "span", 105);
      \u0275\u0275elementEnd()()()()();
    }
    if (rf & 2) {
      \u0275\u0275advance(10);
      \u0275\u0275textInterpolate1(" ", ctx.route.snapshot.queryParams["duplicate"] ? "Duplicate Asset" : "Create New Asset", " ");
      \u0275\u0275advance(2);
      \u0275\u0275textInterpolate1(" ", ctx.route.snapshot.queryParams["duplicate"] ? "Creating a copy of an existing asset. Please review and update the information below." : "Add a new asset to your inventory with detailed information and specifications", " ");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.route.snapshot.queryParams["duplicate"]);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-red-300", ctx.nameError);
      \u0275\u0275twoWayProperty("ngModel", ctx.name);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.nameError);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-blue-500", ctx.showParentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.parent_id);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.parent_id && ctx.getSelectedParent());
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showParentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showParentDropdown);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.description);
      \u0275\u0275advance(10);
      \u0275\u0275classProp("text-red-600", ctx.healthScore < 50)("text-green-600", ctx.healthScore >= 50);
      \u0275\u0275advance();
      \u0275\u0275textInterpolate1("", ctx.healthScore, "%");
      \u0275\u0275advance(3);
      \u0275\u0275styleProp("width", ctx.healthScore, "%");
      \u0275\u0275classProp("bg-red-500", ctx.healthScore < 50)("bg-green-500", ctx.healthScore >= 50);
      \u0275\u0275advance();
      \u0275\u0275twoWayProperty("ngModel", ctx.healthScore);
      \u0275\u0275advance();
      \u0275\u0275styleProp("left", ctx.healthScore, "%");
      \u0275\u0275classProp("bg-red-500", ctx.healthScore < 50)("bg-green-500", ctx.healthScore >= 50);
      \u0275\u0275advance(26);
      \u0275\u0275classProp("border-red-300", ctx.assetTypeError)("border-blue-500", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showAssetTypeDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.assetTypeError);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-red-300", ctx.categoryError)("border-blue-500", ctx.showCategoryDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedCategory);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedCategory);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showCategoryDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showCategoryDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.categoryError);
      \u0275\u0275advance(12);
      \u0275\u0275twoWayProperty("ngModel", ctx.manufacturer);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.model);
      \u0275\u0275advance(8);
      \u0275\u0275classProp("border-red-300", ctx.serialNumberError);
      \u0275\u0275twoWayProperty("ngModel", ctx.serial_number);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.serialNumberError);
      \u0275\u0275advance(18);
      \u0275\u0275twoWayProperty("ngModel", ctx.purchase_price);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.purchase_date);
      \u0275\u0275advance(8);
      \u0275\u0275twoWayProperty("ngModel", ctx.depreciation);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.depreciation_life);
      \u0275\u0275advance(7);
      \u0275\u0275twoWayProperty("ngModel", ctx.warranty);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.insurance);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-blue-500", ctx.showLocationDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedLocation);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedLocation);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showLocationDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showLocationDropdown);
      \u0275\u0275advance(4);
      \u0275\u0275twoWayProperty("ngModel", ctx.address);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-blue-500", ctx.showDepartmentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedDepartment);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedDepartment);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showDepartmentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showDepartmentDropdown);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-blue-500", ctx.showStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.selectedStatus);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showStatusDropdown);
      \u0275\u0275advance(6);
      \u0275\u0275property("ngIf", ctx.selectedTags.length > 0);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("border-blue-500", ctx.showTagsDropdown);
      \u0275\u0275advance(3);
      \u0275\u0275textInterpolate1(" ", ctx.selectedTags.length === 0 ? "Select tags" : "Add more tags", " ");
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.selectedTags.length > 0);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showTagsDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showTagsDropdown);
      \u0275\u0275advance(15);
      \u0275\u0275classProp("border-gray-300", !ctx.isDragOver)("border-blue-500", ctx.isDragOver)("bg-blue-50", ctx.isDragOver)("hover:border-blue-400", !ctx.isDragOver);
      \u0275\u0275advance(3);
      \u0275\u0275classProp("text-gray-400", !ctx.isDragOver)("text-blue-500", ctx.isDragOver);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("text-gray-500", !ctx.isDragOver)("text-blue-600", ctx.isDragOver);
      \u0275\u0275advance();
      \u0275\u0275textInterpolate1(" ", ctx.isDragOver ? "Release to upload images" : "PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here", " ");
      \u0275\u0275advance(3);
      \u0275\u0275property("ngIf", ctx.imagePreviewUrls.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.submitError);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.submitSuccess);
      \u0275\u0275advance(2);
      \u0275\u0275property("disabled", ctx.isSubmitting);
      \u0275\u0275advance(2);
      \u0275\u0275property("disabled", ctx.isSubmitting || !ctx.isFormValid());
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.isSubmitting);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.isSubmitting);
    }
  }, dependencies: [FormsModule, \u0275NgNoValidate, DefaultValueAccessor, NumberValueAccessor, RangeValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, MaxLengthValidator, MinValidator, MaxValidator, NgModel, NgForm, NgIf, NgForOf], styles: ["\n\n.asset-create-page[_ngcontent-%COMP%] {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card[_ngcontent-%COMP%] {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card[_ngcontent-%COMP%]:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title[_ngcontent-%COMP%] {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input[_ngcontent-%COMP%] {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input[_ngcontent-%COMP%]::placeholder {\n  color: #9ca3af;\n}\n.input[_ngcontent-%COMP%]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300[_ngcontent-%COMP%] {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page[_ngcontent-%COMP%] {\n    padding: 1rem;\n  }\n  .section-card[_ngcontent-%COMP%] {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2[_ngcontent-%COMP%], \n   .grid-cols-3[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideDown 0.2s ease-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover {\n  background-color: #eff6ff;\n}\n@keyframes _ngcontent-%COMP%_slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n.transition-transform[_ngcontent-%COMP%] {\n  transition: transform 0.2s ease-in-out;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n[_nghost-%COMP%]     .flatpickr-input {\n  cursor: pointer;\n}\n[_nghost-%COMP%]     .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input[_ngcontent-%COMP%]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-create.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetCreateComponent, [{
    type: Component,
    args: [{ selector: "app-asset-create", standalone: true, imports: [FormsModule, NgIf, NgForOf], template: `<div class="min-h-screen bg-gray-50 p-6">\r
  <div class="asset-create-page">\r
    <!-- Header -->\r
    <div class="mb-8">\r
      <div class="flex items-center space-x-4 mb-4">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          class="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors">\r
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
          </svg>\r
          <span class="font-medium">Back to Assets</span>\r
        </button>\r
      </div>\r
      <h1 class="text-3xl font-bold text-gray-900 mb-2">\r
        {{route.snapshot.queryParams['duplicate'] ? 'Duplicate Asset' : 'Create New Asset'}}\r
      </h1>\r
      <p class="text-gray-600">\r
        {{route.snapshot.queryParams['duplicate'] ?\r
          'Creating a copy of an existing asset. Please review and update the information below.' :\r
          'Add a new asset to your inventory with detailed information and specifications'}}\r
      </p>\r
\r
      <!-- Duplication Notice -->\r
      <div *ngIf="route.snapshot.queryParams['duplicate']" class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <div>\r
            <p class="text-blue-800 font-medium">Duplicating Asset</p>\r
            <p class="text-blue-700 text-sm">Most fields have been pre-filled. Please enter a new serial number and review all information before saving.</p>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
\r
    <form (ngSubmit)="onSubmit()" #assetForm="ngForm">\r
      <!-- Basic Information -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Basic Information</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Asset Name <span class="text-red-500">*</span>\r
            </label>\r
            <input\r
              type="text"\r
              class="input"\r
              [class.border-red-300]="nameError"\r
              placeholder="e.g., Main Server Room AC Unit"\r
              [(ngModel)]="name"\r
              name="name"\r
              required\r
              #nameInput="ngModel" />\r
            <div *ngIf="nameError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ nameError }}\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Asset ID</label>\r
            <div class="flex items-center space-x-3">\r
              <input type="text" class="input flex-1" value="AST-012" readonly />\r
              <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">\r
                auto-generated\r
              </span>\r
            </div>\r
            <p class="text-xs text-gray-500 mt-1">Unique identifier automatically assigned</p>\r
          </div>\r
        </div>\r
\r
        <div class="mb-6">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Parent Asset</label>\r
          <!-- Custom Parent Asset Dropdown -->\r
          <div class="relative" (click)="$event.stopPropagation()">\r
            <button\r
              type="button"\r
              (click)="showParentDropdown = !showParentDropdown"\r
              class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
              [class.border-blue-500]="showParentDropdown">\r
              <div class="flex items-center justify-between">\r
                <span *ngIf="!parent_id" class="text-gray-400">Select parent asset</span>\r
                <span *ngIf="parent_id && getSelectedParent()" class="text-gray-900">\r
                  {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r
                </span>\r
                <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showParentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                </svg>\r
              </div>\r
            </button>\r
            <!-- Dropdown Menu -->\r
            <div *ngIf="showParentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
              <div class="py-1">\r
                <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select parent asset</div>\r
                <button\r
                  type="button"\r
                  (click)="parent_id = null; showParentDropdown = false"\r
                  class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                  [class.bg-blue-50]="!parent_id">\r
                  -- None --\r
                </button>\r
                <button\r
                  *ngFor="let parent of possibleParents"\r
                  type="button"\r
                  (click)="parent_id = parent.id; showParentDropdown = false"\r
                  class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                  [class.bg-blue-50]="parent_id === parent.id">\r
                  <div class="flex items-center space-x-3">\r
                    <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                      <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                      </svg>\r
                    </div>\r
                    <div>\r
                      <div class="font-medium text-gray-900">{{parent.name}}</div>\r
                      <div class="text-xs text-gray-500">{{parent.asset_id}}</div>\r
                    </div>\r
                  </div>\r
                </button>\r
              </div>\r
            </div>\r
          </div>\r
          <div class="text-xs text-gray-500 mt-1">Optional: Select a parent asset if this asset is a child of another.</div>\r
        </div>\r
\r
        <div class="mb-6">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>\r
          <textarea\r
            class="input resize-none"\r
            rows="3"\r
            placeholder="Brief description of the asset and its purpose..."\r
            [(ngModel)]="description"\r
            name="description"\r
            maxlength="500"></textarea>\r
          <div class="text-xs text-gray-500 mt-1">Maximum 500 characters</div>\r
        </div>\r
\r
        <div>\r
          <label class="block text-sm font-medium text-gray-700 mb-3">Health Score</label>\r
          <div class="bg-gray-50 rounded-lg p-4">\r
            <div class="flex items-center justify-between mb-3">\r
              <span class="text-sm text-gray-600">Current Score</span>\r
              <span class="text-2xl font-bold" [class.text-red-600]="healthScore < 50" [class.text-green-600]="healthScore >= 50">{{ healthScore }}%</span>\r
            </div>\r
            <!-- Custom Health Score Bar with Working Slider -->\r
            <div class="relative w-full h-6 mb-3">\r
              <!-- Background Track -->\r
              <div class="absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg"></div>\r
              \r
              <!-- Progress Bar -->\r
              <div \r
                class="absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300"\r
                [class.bg-red-500]="healthScore < 50"\r
                [class.bg-green-500]="healthScore >= 50"\r
                [style.width.%]="healthScore"></div>\r
              \r
              <!-- Interactive Range Input -->\r
              <input\r
                type="range"\r
                min="0"\r
                max="100"\r
                [(ngModel)]="healthScore"\r
                name="health_score"\r
                class="absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input" />\r
              \r
              <!-- Custom Thumb -->\r
              <div \r
                class="absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300"\r
                [class.bg-red-500]="healthScore < 50"\r
                [class.bg-green-500]="healthScore >= 50"\r
                [style.left.%]="healthScore"\r
                style="margin-left: -8px;"></div>\r
            </div>\r
            \r
            <div class="flex justify-between text-xs text-gray-500 mt-2">\r
              <span>Poor (0%)</span>\r
              <span>Fair (25%)</span>\r
              <span>Good (50%)</span>\r
              <span>Very Good (75%)</span>\r
              <span>Excellent (100%)</span>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Asset Classification -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Asset Classification</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Asset Type <span class="text-red-500">*</span>\r
            </label>\r
            <!-- Custom Asset Type Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleAssetTypeDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-red-300]="assetTypeError"\r
                [class.border-blue-500]="showAssetTypeDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedAssetType" class="text-gray-400">Select asset type</span>\r
                  <div *ngIf="selectedAssetType" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 rounded flex items-center justify-center" [style.background-color]="selectedAssetType.color + '20'">\r
                      <img \r
                        *ngIf="selectedAssetType.icon && !selectedAssetType.iconError" \r
                        [src]="selectedAssetType.icon" \r
                        [alt]="selectedAssetType.name || selectedAssetType.label" \r
                        class="w-4 h-4"\r
                        (error)="onAssetTypeIconError($event, selectedAssetType)">\r
                      <svg \r
                        *ngIf="!selectedAssetType.icon || selectedAssetType.iconError" \r
                        class="w-4 h-4" \r
                        [style.color]="selectedAssetType.color" \r
                        fill="none" \r
                        stroke="currentColor" \r
                        viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedAssetType.label}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showAssetTypeDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showAssetTypeDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select asset type</div>\r
                  <button\r
                    *ngFor="let type of assetTypes"\r
                    type="button"\r
                    (click)="selectAssetType(type)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedAssetType?.id === type.id"\r
                    [class.text-blue-700]="selectedAssetType?.id === type.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100">\r
                        <img \r
                          *ngIf="type.icon && !type.iconError" \r
                          [src]="type.icon" \r
                          [alt]="type.name || type.label" \r
                          class="w-5 h-5"\r
                          (error)="onAssetTypeIconError($event, type)">\r
                        <svg \r
                          *ngIf="!type.icon || type.iconError" \r
                          class="w-5 h-5 text-blue-600" \r
                          fill="none" \r
                          stroke="currentColor" \r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{type.label || type.name}}</div>\r
                        <div class="text-sm text-gray-500">{{type.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div *ngIf="assetTypeError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ assetTypeError }}\r
            </div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Category <span class="text-red-500">*</span>\r
            </label>\r
            <!-- Custom Category Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleCategoryDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-red-300]="categoryError"\r
                [class.border-blue-500]="showCategoryDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedCategory" class="text-gray-400">Select category</span>\r
                  <span *ngIf="selectedCategory" class="text-gray-900">{{selectedCategory.name}}</span>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showCategoryDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showCategoryDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select category</div>\r
                  <button\r
                    *ngFor="let cat of categories"\r
                    type="button"\r
                    (click)="selectCategory(cat)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedCategory?.id === cat.id"\r
                    [class.text-blue-700]="selectedCategory?.id === cat.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                        <img \r
                          *ngIf="cat.icon" \r
                          [src]="cat.icon" \r
                          [alt]="cat.name" \r
                          class="w-5 h-5"\r
                          (error)="onCategoryIconError($event, cat)">\r
                        <svg \r
                          *ngIf="!cat.icon || cat.iconError" \r
                          class="w-5 h-5 text-gray-600" \r
                          fill="none" \r
                          stroke="currentColor" \r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{cat.name}}</div>\r
                        <div *ngIf="cat.description" class="text-sm text-gray-500">{{cat.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div *ngIf="categoryError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ categoryError }}\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Technical Details -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Technical Details</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Manufacturer</label>\r
            <input\r
              type="text"\r
              class="input"\r
              placeholder="e.g., Dell, HP, Toyota"\r
              [(ngModel)]="manufacturer"\r
              name="manufacturer"\r
              maxlength="100" />\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Model</label>\r
            <input\r
              type="text"\r
              class="input"\r
              placeholder="e.g., PowerEdge R730"\r
              [(ngModel)]="model"\r
              name="model"\r
              maxlength="100" />\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Serial Number <span class="text-red-500">*</span>\r
            </label>\r
            <input\r
              type="text"\r
              class="input"\r
              [class.border-red-300]="serialNumberError"\r
              placeholder="e.g., SN123456789"\r
              [(ngModel)]="serial_number"\r
              name="serial_number"\r
              maxlength="100" />\r
            <div *ngIf="serialNumberError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ serialNumberError }}\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Required, max 100 chars, must be unique within your company</div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Financial Information -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Financial Information</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Value (USD)</label>\r
            <div class="relative">\r
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\r
                <span class="text-gray-500 sm:text-sm">$ </span>\r
              </div>\r
              <input\r
                type="number"\r
                class="input"\r
                style="padding-left: 24px;"\r
                placeholder="5,000.00"\r
                [(ngModel)]="purchase_price"\r
                name="purchase_price"\r
                step="0.01"\r
                min="0" />\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Must be a non-negative number</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              class="input"\r
              name="purchase_date"\r
              placeholder="Select purchase date"\r
              [(ngModel)]="purchase_date"\r
              readonly />\r
            <div class="text-xs text-gray-500 mt-1">Cannot be in the future</div>\r
          </div>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Rate (%)</label>\r
            <input\r
              type="number"\r
              class="input"\r
              [(ngModel)]="depreciation"\r
              name="depreciation"\r
              placeholder="e.g., 20"\r
              min="0"\r
              max="100"\r
              step="0.01" />\r
            <div class="text-xs text-gray-500 mt-1">Annual depreciation rate (0-100%)</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Life (Years)</label>\r
            <input\r
              type="number"\r
              class="input"\r
              [(ngModel)]="depreciation_life"\r
              name="depreciation_life"\r
              placeholder="e.g., 5"\r
              min="1"\r
              max="100" />\r
            <div class="text-xs text-gray-500 mt-1">Useful life for depreciation calculation (1-100 years)</div>\r
          </div>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Warranty Information</label>\r
            <input\r
              type="text"\r
              class="input"\r
              [(ngModel)]="warranty"\r
              name="warranty"\r
              placeholder="e.g., 2 years manufacturer warranty"\r
              maxlength="255" />\r
            <div class="text-xs text-gray-500 mt-1">Warranty details (max 255 characters)</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Insurance Information</label>\r
            <input\r
              type="text"\r
              class="input"\r
              [(ngModel)]="insurance"\r
              name="insurance"\r
              placeholder="e.g., Policy #12345, expires 2025-12-31"\r
              maxlength="255" />\r
            <div class="text-xs text-gray-500 mt-1">Insurance details (max 255 characters)</div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Location & Assignment -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Location & Assignment</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>\r
            <!-- Custom Location Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleLocationDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showLocationDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedLocation" class="text-gray-400">Select location</span>\r
                  <div *ngIf="selectedLocation" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 bg-indigo-100 rounded flex items-center justify-center">\r
                      <svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedLocation.label || selectedLocation.name}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select location</div>\r
                  <button\r
                    *ngFor="let loc of locations"\r
                    type="button"\r
                    (click)="selectLocation(loc)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedLocation?.id === loc.id"\r
                    [class.text-blue-700]="selectedLocation?.id === loc.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{ getLocationLabel(loc) }}</div>\r
                        <div *ngIf="loc.type" class="text-sm text-gray-500">{{loc.type.name}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
          \r
          <!-- Address Field -->\r
          <div class="col-span-1 md:col-span-2">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>\r
            <input\r
              type="text"\r
              class="input w-full"\r
              placeholder="Enter asset address"\r
              [(ngModel)]="address"\r
              name="address"\r
              autocomplete="off"\r
            />\r
            <div class="text-xs text-gray-500 mt-1">Enter the physical address of the asset</div>\r
          </div>\r
          \r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Department ID</label>\r
            <!-- Custom Department Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleDepartmentDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showDepartmentDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedDepartment" class="text-gray-400">Select department</span>\r
                  <div *ngIf="selectedDepartment" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 bg-purple-100 rounded flex items-center justify-center">\r
                      <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedDepartment.name}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select department</div>\r
                  <button\r
                    *ngFor="let dept of departments"\r
                    type="button"\r
                    (click)="selectDepartment(dept)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedDepartment?.id === dept.id"\r
                    [class.text-blue-700]="selectedDepartment?.id === dept.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{dept.name}}</div>\r
                        <div *ngIf="dept.description" class="text-sm text-gray-500">{{dept.description}}</div>\r
                        <div *ngIf="dept.code" class="text-xs text-gray-400">Code: {{dept.code}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Optional department assignment</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
            <!-- Custom Status Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleStatusDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showStatusDropdown">\r
                <div class="flex items-center justify-between">\r
                  <div *ngIf="selectedStatus" class="flex items-center space-x-3">\r
                    <div class="w-3 h-3 rounded-full" [style.background-color]="selectedStatus.hexColor || '#6B7280'"></div>\r
                    <span class="text-gray-900">{{selectedStatus.label}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showStatusDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showStatusDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select status</div>\r
                  <button\r
                    *ngFor="let status of statusOptions"\r
                    type="button"\r
                    (click)="selectStatus(status)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedStatus?.value === status.value"\r
                    [class.text-blue-700]="selectedStatus?.value === status.value">\r
                    <div class="flex items-center space-x-3">\r
                      <div [class]="'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'">\r
                        <div class="w-3 h-3 rounded-full" [style.background-color]="status.hexColor || '#6B7280'"></div>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{status.label}}</div>\r
                        <div class="text-sm text-gray-500">{{status.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Current operational status of the asset</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>\r
            <!-- Selected Tags Display -->\r
            <div *ngIf="selectedTags.length > 0" class="mb-3">\r
              <div class="flex flex-wrap gap-2">\r
                <span *ngFor="let tag of selectedTags"\r
                      [class]="'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'">\r
                  {{tag.name}}\r
                  <button\r
                    type="button"\r
                    (click)="removeTag(tag)"\r
                    class="ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                    </svg>\r
                  </button>\r
                </span>\r
              </div>\r
            </div>\r
\r
            <!-- Tags Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleTagsDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showTagsDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span class="text-gray-400">\r
                    {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r
                  </span>\r
                  <div class="flex items-center space-x-2">\r
                    <span *ngIf="selectedTags.length > 0" class="text-sm text-gray-500">\r
                      {{selectedTags.length}} selected\r
                    </span>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showTagsDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showTagsDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <!-- Add New Tag Input -->\r
                  <div class="px-3 py-2 border-b border-gray-100">\r
                    <div class="relative">\r
                      <input\r
                        type="text"\r
                        [(ngModel)]="newTagInput"\r
                       name="newTagInput"\r
                        (keydown)="onTagInputKeydown($event)"\r
                        placeholder="Type to create new tag..."\r
                        class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"\r
                        (click)="$event.stopPropagation()">\r
                      <div class="absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400">\r
                        Press Enter\r
                      </div>\r
                    </div>\r
                  </div>\r
\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select tags</div>\r
                  <button\r
                    *ngFor="let tag of availableTags"\r
                    type="button"\r
                    (click)="toggleTag(tag)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="isTagSelected(tag)">\r
                    <div class="flex items-center justify-between">\r
                      <div class="flex items-center space-x-3">\r
                        <div [class]="'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'">\r
                          <div [class]="'w-3 h-3 rounded-full bg-' + tag.color + '-500'"></div>\r
                        </div>\r
                        <span class="font-medium text-gray-900">{{tag.name}}</span>\r
                      </div>\r
                      <div *ngIf="isTagSelected(tag)" class="text-blue-600">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                        </svg>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">\r
              <svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
              Select existing tags or type to create new ones. Press Enter to add custom tags.\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Asset Image -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Asset Image</h2>\r
        </div>\r
\r
        <div>\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Upload Image</label>\r
          <div\r
            (click)="triggerFileInput()"\r
            class="mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200"\r
            [class.border-gray-300]="!isDragOver"\r
            [class.border-blue-500]="isDragOver"\r
            [class.bg-blue-50]="isDragOver"\r
            [class.hover:border-blue-400]="!isDragOver"\r
            (dragover)="onDragOver($event)"\r
            (dragleave)="onDragLeave($event)"\r
            (drop)="onDrop($event)">\r
            <div class="space-y-1 text-center">\r
              <!-- Upload Icon -->\r
              <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4">\r
                <svg class="w-8 h-8 transition-colors"\r
                     [class.text-gray-400]="!isDragOver"\r
                     [class.text-blue-500]="isDragOver"\r
                     fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
                </svg>\r
              </div>\r
\r
              <p class="text-sm transition-colors"\r
                 [class.text-gray-500]="!isDragOver"\r
                 [class.text-blue-600]="isDragOver">\r
                {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r
              </p>\r
\r
              <!-- Hidden file input for drag and drop -->\r
              <input #fileInput id="file-upload" name="file-upload" type="file" class="sr-only" (change)="onFileChange($event)" accept="image/*" multiple>\r
            </div>\r
          </div>\r
\r
          <!-- Image Gallery -->\r
          <div *ngIf="imagePreviewUrls.length > 0" class="mt-6">\r
            <div class="flex items-center justify-between mb-4">\r
              <h4 class="text-sm font-medium text-gray-700">Selected Images ({{imagePreviewUrls.length}})</h4>\r
              <button\r
                type="button"\r
                (click)="removeAllImages()"\r
                class="text-red-600 hover:text-red-700 text-sm font-medium transition-colors">\r
                Remove All\r
              </button>\r
            </div>\r
\r
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">\r
              <div *ngFor="let previewUrl of imagePreviewUrls; let i = index" class="relative group">\r
                <!-- Image Preview -->\r
                <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                  <img\r
                    [src]="previewUrl"\r
                    [alt]="'Asset Image ' + (i + 1)"\r
                    class="w-full h-full object-cover bg-white"\r
                    (error)="onImageError($event, i)"\r
                    (load)="onImageLoad($event, i)"\r
                    loading="lazy" />\r
\r
                  <!-- Image Overlay -->\r
                  <div class="absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center">\r
                    <!-- Action Buttons -->\r
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                      <!-- Move Up -->\r
                      <button\r
                        *ngIf="i > 0"\r
                        type="button"\r
                        (click)="moveImageUp(i)"\r
                        class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>\r
                        </svg>\r
                      </button>\r
\r
                      <!-- Move Down -->\r
                      <button\r
                        *ngIf="i < imagePreviewUrls.length - 1"\r
                        type="button"\r
                        (click)="moveImageDown(i)"\r
                        class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                        </svg>\r
                      </button>\r
                    </div>\r
                  </div>\r
\r
                  <!-- Remove Button -->\r
                  <button\r
                    type="button"\r
                    (click)="removeImage(i)"\r
                    class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                    </svg>\r
                  </button>\r
\r
                  <!-- Image Number Badge -->\r
                  <div class="absolute top-2 left-2 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium">\r
                    {{i + 1}}\r
                  </div>\r
                </div>\r
\r
                <!-- Image Info -->\r
                <div class="mt-2 text-center">\r
                  <p class="text-xs text-gray-600 truncate">{{images[i].name}}</p>\r
                  <p class="text-xs text-gray-500">{{ ((images[i].size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Gallery Instructions -->\r
            <div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <p class="text-blue-800 text-sm">\r
                  <strong>Gallery Tips:</strong> Hover over images to reorder them. The first image will be the primary asset image.\r
                </p>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Global Error Message -->\r
      <div *ngIf="submitError" class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
          </svg>\r
          <p class="text-red-800 font-medium">{{ submitError }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Success Message -->\r
      <div *ngIf="submitSuccess" class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
          </svg>\r
          <p class="text-green-800 font-medium">{{ submitSuccess }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Actions -->\r
      <div class="flex items-center justify-between pt-6 border-t border-gray-200">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          [disabled]="isSubmitting"\r
          class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          Cancel\r
        </button>\r
\r
        <button\r
          type="submit"\r
          [disabled]="isSubmitting || !isFormValid()"\r
          class="px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm">\r
          <span *ngIf="!isSubmitting" class="flex items-center space-x-2">\r
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
            </svg>\r
            <span>Create Asset</span>\r
          </span>\r
          <span *ngIf="isSubmitting" class="flex items-center space-x-2">\r
            <svg xmlns="http://www.w3.org/2000/svg" class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Creating Asset...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </form>\r
  </div>\r
</div>\r
`, styles: ["/* src/app/assets/asset-list/asset-create.component.scss */\n.asset-create-page {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input::placeholder {\n  color: #9ca3af;\n}\n.input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300 {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page {\n    padding: 1rem;\n  }\n  .section-card {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2,\n  .grid-cols-3 {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown .dropdown-button {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown .dropdown-button:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown .dropdown-button:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown .dropdown-menu {\n  animation: slideDown 0.2s ease-out;\n}\n.custom-dropdown .dropdown-item {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown .dropdown-item:hover {\n  background-color: #eff6ff;\n}\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180 {\n  transform: rotate(180deg);\n}\n.transition-transform {\n  transition: transform 0.2s ease-in-out;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n:host ::ng-deep .flatpickr-input {\n  cursor: pointer;\n}\n:host ::ng-deep .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-create.component.css.map */\n"] }]
  }], () => [{ type: AssetService }, { type: Router }, { type: ActivatedRoute }, { type: HttpClient }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }], fileInput: [{
    type: ViewChild,
    args: ["fileInput", { static: false }]
  }], onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetCreateComponent, { className: "AssetCreateComponent", filePath: "src/app/assets/asset-list/asset-create.component.ts", lineNumber: 18 });
})();

// src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.ts
var _c02 = ["dateInput"];
function TransferAssetModalComponent_div_0_span_31_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "No location assigned");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getLocationNameById(ctx_r1.transferData.new_location_id), " ");
  }
}
function TransferAssetModalComponent_div_0_div_35_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 48);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_35_button_4_Template_button_click_0_listener() {
      const location_r5 = \u0275\u0275restoreView(_r4).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.new_location_id = location_r5.id;
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const location_r5 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.new_location_id === location_r5.id);
    \u0275\u0275property("disabled", location_r5.id === (ctx_r1.asset == null ? null : ctx_r1.asset.location_id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getLocationLabel(location_r5), " ");
  }
}
function TransferAssetModalComponent_div_0_div_35_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_35_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.new_location_id = null;
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = false);
    });
    \u0275\u0275text(3, " No location assigned ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_35_button_4_Template, 2, 4, "button", 47);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.new_location_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function TransferAssetModalComponent_div_0_span_41_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "Select new department (optional)");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_42_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getDepartmentNameById(ctx_r1.transferData.new_department_id), " ");
  }
}
function TransferAssetModalComponent_div_0_div_45_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_45_button_4_Template_button_click_0_listener() {
      const department_r8 = \u0275\u0275restoreView(_r7).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.new_department_id = department_r8.id;
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const department_r8 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.new_department_id === department_r8.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", department_r8.name, " ");
  }
}
function TransferAssetModalComponent_div_0_div_45_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_45_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.new_department_id = null;
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = false);
    });
    \u0275\u0275text(3, " Select new department (optional) ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_45_button_4_Template, 2, 3, "button", 49);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.new_department_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function TransferAssetModalComponent_div_0_span_51_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "Select reason");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_52_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.transferData.transfer_reason, " ");
  }
}
function TransferAssetModalComponent_div_0_div_55_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_55_button_4_Template_button_click_0_listener() {
      const reason_r11 = \u0275\u0275restoreView(_r10).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.transfer_reason = reason_r11;
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const reason_r11 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.transfer_reason === reason_r11);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", reason_r11, " ");
  }
}
function TransferAssetModalComponent_div_0_div_55_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_55_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.transfer_reason = "";
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = false);
    });
    \u0275\u0275text(3, " Select reason ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_55_button_4_Template, 2, 3, "button", 49);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.transferReasons);
  }
}
function TransferAssetModalComponent_div_0_div_69_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 50)(1, "div", 51)(2, "div", 52);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 53);
    \u0275\u0275element(4, "path", 54);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div", 55)(6, "p", 56);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function TransferAssetModalComponent_div_0_span_74_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, "Create Transfer");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_75_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 57);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 58);
    \u0275\u0275element(2, "circle", 59)(3, "path", 60);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Creating Transfer... ");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 2);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_0_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onModalClick($event));
    });
    \u0275\u0275elementStart(1, "div", 3);
    \u0275\u0275element(2, "div", 4);
    \u0275\u0275elementStart(3, "div", 5);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_3_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(4, "div", 6)(5, "h3", 7);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 8);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 9);
    \u0275\u0275element(9, "path", 10);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 11)(11, "div")(12, "p", 12);
    \u0275\u0275text(13, "Current Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "p", 13);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "div")(17, "p", 12);
    \u0275\u0275text(18, "Current Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(19, "p", 13);
    \u0275\u0275text(20);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(21, "div", 14)(22, "div", 15);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 16);
    \u0275\u0275element(24, "path", 17);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "form", 18);
    \u0275\u0275listener("ngSubmit", function TransferAssetModalComponent_div_0_Template_form_ngSubmit_25_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onTransfer());
    });
    \u0275\u0275elementStart(26, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_26_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(27, "label", 20);
    \u0275\u0275text(28, "New Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_29_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = !ctx_r1.showLocationDropdown);
    });
    \u0275\u0275elementStart(30, "div", 22);
    \u0275\u0275template(31, TransferAssetModalComponent_div_0_span_31_Template, 2, 0, "span", 23)(32, TransferAssetModalComponent_div_0_span_32_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(33, "svg", 25);
    \u0275\u0275element(34, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(35, TransferAssetModalComponent_div_0_div_35_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(36, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_36_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(37, "label", 20);
    \u0275\u0275text(38, "New Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(39, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_39_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = !ctx_r1.showDepartmentDropdown);
    });
    \u0275\u0275elementStart(40, "div", 22);
    \u0275\u0275template(41, TransferAssetModalComponent_div_0_span_41_Template, 2, 0, "span", 23)(42, TransferAssetModalComponent_div_0_span_42_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(43, "svg", 25);
    \u0275\u0275element(44, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(45, TransferAssetModalComponent_div_0_div_45_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(46, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_46_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(47, "label", 20);
    \u0275\u0275text(48, "Transfer Reason *");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(49, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_49_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = !ctx_r1.showReasonDropdown);
    });
    \u0275\u0275elementStart(50, "div", 22);
    \u0275\u0275template(51, TransferAssetModalComponent_div_0_span_51_Template, 2, 0, "span", 23)(52, TransferAssetModalComponent_div_0_span_52_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(53, "svg", 25);
    \u0275\u0275element(54, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(55, TransferAssetModalComponent_div_0_div_55_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(56, "div")(57, "label", 28);
    \u0275\u0275text(58, " Transfer Date * ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(59, "div", 29)(60, "input", 30, 0);
    \u0275\u0275twoWayListener("ngModelChange", function TransferAssetModalComponent_div_0_Template_input_ngModelChange_60_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.transferData.transfer_date, $event) || (ctx_r1.transferData.transfer_date = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(62, "div", 31);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(63, "svg", 32);
    \u0275\u0275element(64, "path", 33);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(65, "div")(66, "label", 34);
    \u0275\u0275text(67, " Additional Notes ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(68, "textarea", 35);
    \u0275\u0275twoWayListener("ngModelChange", function TransferAssetModalComponent_div_0_Template_textarea_ngModelChange_68_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.transferData.notes, $event) || (ctx_r1.transferData.notes = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275template(69, TransferAssetModalComponent_div_0_div_69_Template, 8, 1, "div", 36);
    \u0275\u0275elementStart(70, "div", 37)(71, "button", 38);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_71_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(72, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(73, "button", 39);
    \u0275\u0275template(74, TransferAssetModalComponent_div_0_span_74_Template, 2, 0, "span", 40)(75, TransferAssetModalComponent_div_0_span_75_Template, 5, 0, "span", 41);
    \u0275\u0275elementEnd()()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance(3);
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" Transfer Asset: ", (ctx_r1.asset == null ? null : ctx_r1.asset.name) || "Unknown Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.getCurrentLocationName());
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.getCurrentDepartmentName());
    \u0275\u0275advance(9);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.new_location_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.new_location_id);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.new_department_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.new_department_id);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(5);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.transferData.transfer_date);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(8);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.transferData.notes);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.error);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var TransferAssetModalComponent = class _TransferAssetModalComponent {
  assetService;
  isOpen = false;
  asset = null;
  closeModal = new EventEmitter();
  transferComplete = new EventEmitter();
  dateInput;
  flatpickrInstance;
  // Dropdown toggles
  showLocationDropdown = false;
  showDepartmentDropdown = false;
  showReasonDropdown = false;
  loading = false;
  error = "";
  // Form data
  transferData = {
    new_location_id: null,
    new_department_id: null,
    to_user_id: null,
    transfer_reason: "",
    transfer_date: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
    notes: "",
    condition_report: ""
  };
  // Dropdown options
  locations = [];
  departments = [];
  users = [];
  transferReasons = [
    "Relocation",
    "Maintenance",
    "Replacement",
    "Department Transfer",
    "User Assignment",
    "Storage",
    "Disposal",
    "Other"
  ];
  constructor(assetService) {
    this.assetService = assetService;
  }
  ngOnInit() {
    console.log("TransferAssetModalComponent initialized");
    this.loadDropdownData();
  }
  ngOnChanges() {
    console.log("TransferAssetModalComponent changes:", {
      isOpen: this.isOpen,
      asset: this.asset
    });
    if (this.isOpen) {
      setTimeout(() => {
        this.initializeFlatpickr();
      }, 200);
    }
  }
  ngAfterViewInit() {
  }
  ngOnDestroy() {
    this.destroyFlatpickr();
  }
  destroyFlatpickr() {
    if (this.flatpickrInstance) {
      try {
        this.flatpickrInstance.destroy();
        this.flatpickrInstance = null;
      } catch (error) {
        console.error("Error destroying flatpickr:", error);
      }
    }
  }
  initializeFlatpickr() {
    try {
      this.destroyFlatpickr();
      if (this.dateInput && this.dateInput.nativeElement) {
        console.log("Initializing flatpickr on element:", this.dateInput.nativeElement);
        this.flatpickrInstance = esm_default(this.dateInput.nativeElement, {
          dateFormat: "Y-m-d",
          defaultDate: /* @__PURE__ */ new Date(),
          allowInput: false,
          clickOpens: true,
          minDate: /* @__PURE__ */ new Date(),
          locale: {
            firstDayOfWeek: 1
          },
          onChange: (selectedDates, dateStr) => {
            console.log("Date selected:", dateStr);
            this.transferData.transfer_date = dateStr;
          },
          onOpen: () => {
            console.log("Flatpickr opened");
          },
          onClose: () => {
            console.log("Flatpickr closed");
          }
        });
        console.log("Flatpickr initialized successfully");
      } else {
        console.warn("Date input element not found");
      }
    } catch (error) {
      console.error("Error initializing flatpickr:", error);
    }
  }
  loadDropdownData() {
    console.log("Loading dropdown data...");
    console.log("Calling locations API with pagination...");
    this.assetService.getLocations(1, 1e3, "created", "desc").subscribe({
      next: (response) => {
        console.log("Locations API response:", response);
        console.log("Response type:", typeof response);
        console.log("Response keys:", Object.keys(response));
        if (response && response.data && response.data.locations) {
          this.locations = response.data.locations;
          console.log("Using response.data.locations (paginated):", this.locations);
          console.log("Response pagination:", response.data.pagination);
        } else if (response && response.data && Array.isArray(response.data)) {
          this.locations = response.data;
          console.log("Using response.data as array:", this.locations);
        } else if (Array.isArray(response)) {
          this.locations = response;
          console.log("Using response as array:", this.locations);
        } else {
          this.locations = [];
          console.warn("Unexpected response format:", response);
          console.log("Response structure:", response);
        }
        console.log("Final locations array:", this.locations);
        console.log("Locations count:", this.locations.length);
        if (this.locations.length === 0) {
          console.warn("No locations found in response");
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
        console.error("Error details:", {
          status: error.status,
          statusText: error.statusText,
          message: error.message,
          url: error.url
        });
        this.locations = [];
      }
    });
    console.log("Calling departments API with pagination...");
    this.assetService.getDepartments(1, 1e3, "created", "desc").subscribe({
      next: (response) => {
        console.log("Departments API response:", response);
        if (response && response.data && response.data.departments) {
          this.departments = response.data.departments;
          console.log("Using response.data.departments (paginated):", this.departments);
          console.log("Response pagination:", response.data.pagination);
        } else if (response && response.data && Array.isArray(response.data)) {
          this.departments = response.data;
          console.log("Using response.data as array:", this.departments);
        } else if (Array.isArray(response)) {
          this.departments = response;
        } else {
          this.departments = [];
          console.warn("Unexpected departments response format:", response);
          console.log("Response structure:", response);
        }
        console.log("Final departments array:", this.departments);
        console.log("Departments count:", this.departments.length);
        if (this.departments.length === 0) {
          console.warn("No departments found");
        }
      },
      error: (error) => {
        console.error("Error loading departments:", error);
        console.error("Error details:", {
          status: error.status,
          statusText: error.statusText,
          message: error.message,
          url: error.url
        });
        this.departments = [];
      }
    });
  }
  // Manual method to reload location data
  reloadLocationData() {
    console.log("Manually reloading location data...");
    this.loadDropdownData();
  }
  onTransfer() {
    if (!this.validateForm()) {
      return;
    }
    this.loading = true;
    this.error = "";
    this.assetService.transferAsset(this.asset.id, this.transferData).subscribe({
      next: (response) => {
        this.loading = false;
        this.transferComplete.emit(response);
        this.resetForm();
        this.closeModal.emit();
      },
      error: (error) => {
        this.loading = false;
        this.error = error.error?.message || "Transfer failed. Please try again.";
        console.error("Transfer error:", error);
      }
    });
  }
  onCancel() {
    if (this.loading)
      return;
    this.destroyFlatpickr();
    this.resetForm();
    this.closeModal.emit();
  }
  validateForm() {
    if (!this.transferData.new_location_id) {
      this.error = "Please select a new location.";
      return false;
    }
    if (!this.transferData.transfer_reason) {
      this.error = "Please select a transfer reason.";
      return false;
    }
    if (!this.transferData.transfer_date) {
      this.error = "Please select a transfer date.";
      return false;
    }
    if (this.asset?.location_id === this.transferData.new_location_id) {
      this.error = "Transfer location must be different from current location.";
      return false;
    }
    this.error = "";
    return true;
  }
  resetForm() {
    this.transferData = {
      new_location_id: null,
      new_department_id: null,
      to_user_id: null,
      transfer_reason: "",
      transfer_date: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
      notes: "",
      condition_report: ""
    };
    this.error = "";
  }
  getCurrentLocationName() {
    return this.asset?.location?.name || "No location assigned";
  }
  getCurrentDepartmentName() {
    return this.asset?.department?.name || "No department assigned";
  }
  getLocationNameById(id) {
    if (!id)
      return "";
    const loc = this.locations.find((l) => l.id === id);
    if (!loc)
      return "";
    if (loc.full_path)
      return loc.full_path;
    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {
      return loc.complete_hierarchy.map((n) => n.name).join(" \u2192 ");
    }
    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {
      return loc.ancestors_with_details.map((n) => n.name).join(" \u2192 ") + " \u2192 " + (loc.name || "");
    }
    return loc.name || "";
  }
  getLocationLabel(location) {
    if (!location)
      return "";
    if (location.full_path)
      return location.full_path;
    if (Array.isArray(location.complete_hierarchy) && location.complete_hierarchy.length > 0) {
      return location.complete_hierarchy.map((n) => n.name).join(" \u2192 ");
    }
    if (Array.isArray(location.ancestors_with_details) && location.ancestors_with_details.length > 0) {
      return location.ancestors_with_details.map((n) => n.name).join(" \u2192 ") + " \u2192 " + (location.name || "");
    }
    return location.name || "";
  }
  getDepartmentNameById(id) {
    if (!id)
      return "";
    const dept = this.departments.find((d) => d.id === id);
    return dept ? dept.name : "";
  }
  // Debug methods to check dropdown data
  getLocationsCount() {
    return this.locations.length;
  }
  getDepartmentsCount() {
    return this.departments.length;
  }
  getUsersCount() {
    return this.users.length;
  }
  // Close all dropdowns when clicking outside
  onModalClick(event) {
    if (event.target === event.currentTarget) {
      this.showLocationDropdown = false;
      this.showDepartmentDropdown = false;
      this.showReasonDropdown = false;
    }
  }
  static \u0275fac = function TransferAssetModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _TransferAssetModalComponent)(\u0275\u0275directiveInject(AssetService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _TransferAssetModalComponent, selectors: [["app-transfer-asset-modal"]], viewQuery: function TransferAssetModalComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c02, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInput = _t.first);
    }
  }, inputs: { isOpen: "isOpen", asset: "asset" }, outputs: { closeModal: "closeModal", transferComplete: "transferComplete" }, features: [\u0275\u0275NgOnChangesFeature], decls: 1, vars: 1, consts: [["dateInput", ""], ["class", "fixed inset-0 z-50 overflow-y-auto", 3, "click", 4, "ngIf"], [1, "fixed", "inset-0", "z-50", "overflow-y-auto", 3, "click"], [1, "flex", "items-center", "justify-center", "min-h-screen", "px-4", "pt-4", "pb-20", "text-center", "sm:block", "sm:p-0"], [1, "fixed", "inset-0", "transition-opacity", "z-0", "bg-[#00000085]"], [1, "inline-block", "w-full", "max-w-2xl", "z-1", "p-6", "my-8", "relative", "overflow-hidden", "text-left", "align-middle", "transition-all", "transform", "bg-white", "shadow-xl", "rounded-2xl", 3, "click"], [1, "flex", "items-center", "justify-between", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900"], [1, "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "flex", "justify-between", "items-center", "mb-6"], [1, "text-sm", "text-gray-500"], [1, "text-sm", "font-medium", "text-gray-900"], [1, "flex", "justify-center", "mb-6"], [1, "w-8", "h-8", "bg-blue-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 14l-7 7m0 0l-7-7m7 7V3"], [1, "space-y-4", 3, "ngSubmit"], [1, "relative", 3, "click"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["for", "transfer_date", 1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "relative"], ["type", "text", "id", "transfer_date", "name", "transfer_date", "placeholder", "Select date", "required", "", "readonly", "", 1, "w-full", "px-4", "py-3", "border", "border-gray-300", "rounded-lg", "shadow-sm", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", "bg-white", "cursor-pointer", 3, "ngModelChange", "ngModel", "disabled"], [1, "absolute", "inset-y-0", "right-0", "flex", "items-center", "pr-4", "pointer-events-none"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"], ["for", "notes", 1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["id", "notes", "name", "notes", "rows", "3", "placeholder", "Enter any additional notes about this transfer...", 1, "w-full", "px-4", "py-3", "border", "border-gray-300", "rounded-lg", "shadow-sm", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", "bg-white", "resize-none", 3, "ngModelChange", "ngModel", "disabled"], ["class", "bg-red-50 border border-red-200 rounded-md p-4", 4, "ngIf"], [1, "flex", "justify-end", "space-x-3", "pt-6"], ["type", "button", 1, "px-4", "py-2", "text-sm", "font-medium", "text-gray-700", "bg-white", "border", "border-gray-300", "rounded-md", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-offset-2", "focus:ring-blue-500", 3, "click", "disabled"], ["type", "submit", 1, "px-4", "py-2", "text-sm", "font-medium", "text-white", "bg-blue-600", "border", "border-transparent", "rounded-md", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-offset-2", "focus:ring-blue-500", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "disabled"], [4, "ngIf"], ["class", "flex items-center", 4, "ngIf"], [1, "text-gray-400"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "disabled", "click", 4, "ngFor", "ngForOf"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click", "disabled"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "bg-red-50", "border", "border-red-200", "rounded-md", "p-4"], [1, "flex"], [1, "flex-shrink-0"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "ml-3"], [1, "text-sm", "text-red-700"], [1, "flex", "items-center"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "-ml-1", "mr-2", "h-4", "w-4", "text-white"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function TransferAssetModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, TransferAssetModalComponent_div_0_Template, 76, 36, "div", 1);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgForOf, NgIf, FormsModule, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, NgModel, NgForm], styles: ["\n\n.transfer-asset-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%] {\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%] {\n  max-height: 90vh;\n  overflow-y: auto;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:disabled {\n  background-color: #f9fafb;\n  cursor: not-allowed;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\n  background-image: none !important;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand {\n  display: none;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%] {\n  padding: 8px 12px;\n  background-color: white;\n  color: #374151;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled {\n  color: #9ca3af;\n  background-color: #f9fafb;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%] {\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  border: 1px solid #e5e7eb;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%] {\n  border-radius: 4px;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day.selected[_ngcontent-%COMP%] {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .transfer-arrow[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_bounce 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideIn 0.3s ease-out;\n}\n@keyframes _ngcontent-%COMP%_slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@media (max-width: 640px) {\n  .transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-width: calc(100vw - 2rem);\n  }\n}\n/*# sourceMappingURL=transfer-asset-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(TransferAssetModalComponent, [{
    type: Component,
    args: [{ selector: "app-transfer-asset-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<div\r
  *ngIf="isOpen"\r
  class="fixed inset-0 z-50 overflow-y-auto"\r
  (click)="onModalClick($event)"\r
  [@backdropAnimation]\r
>\r
  <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">\r
    <div class="fixed inset-0 transition-opacity z-0  bg-[#00000085]"></div>\r
\r
    <!-- Modal panel -->\r
    <div\r
      class="inline-block w-full max-w-2xl z-1 p-6 my-8 relative overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"\r
      (click)="$event.stopPropagation()"\r
      [@modalAnimation]\r
    >\r
      <!-- Header -->\r
      <div class="flex items-center justify-between mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900">\r
          Transfer Asset: {{ asset?.name || 'Unknown Asset' }}\r
        </h3>\r
        <button\r
          (click)="onCancel()"\r
          class="text-gray-400 hover:text-gray-600 transition-colors"\r
          [disabled]="loading"\r
        >\r
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <!-- Current Asset Information -->\r
      <div class="flex justify-between items-center mb-6">\r
        <div>\r
          <p class="text-sm text-gray-500">Current Location</p>\r
          <p class="text-sm font-medium text-gray-900">{{ getCurrentLocationName() }}</p>\r
        </div>\r
        <div>\r
          <p class="text-sm text-gray-500">Current Department</p>\r
          <p class="text-sm font-medium text-gray-900">{{ getCurrentDepartmentName() }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Transfer Arrow -->\r
      <div class="flex justify-center mb-6">\r
        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">\r
          <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Transfer Form -->\r
      <form (ngSubmit)="onTransfer()" class="space-y-4">\r
        <!-- New Location Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">New Location</label>\r
          <button\r
            type="button"\r
            (click)="showLocationDropdown = !showLocationDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showLocationDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.new_location_id" class="text-gray-400">No location assigned</span>\r
              <span *ngIf="transferData.new_location_id" class="text-gray-900">\r
                {{ getLocationNameById(transferData.new_location_id) }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.new_location_id = null; showLocationDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.new_location_id">\r
                No location assigned\r
              </button>\r
              <button\r
                *ngFor="let location of locations"\r
                type="button"\r
                (click)="transferData.new_location_id = location.id; showLocationDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.new_location_id === location.id"\r
                [disabled]="location.id === asset?.location_id">\r
                {{ getLocationLabel(location) }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- New Department Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">New Department</label>\r
          <button\r
            type="button"\r
            (click)="showDepartmentDropdown = !showDepartmentDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showDepartmentDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.new_department_id" class="text-gray-400">Select new department (optional)</span>\r
              <span *ngIf="transferData.new_department_id" class="text-gray-900">\r
                {{ getDepartmentNameById(transferData.new_department_id) }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.new_department_id = null; showDepartmentDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.new_department_id">\r
                Select new department (optional)\r
              </button>\r
              <button\r
                *ngFor="let department of departments"\r
                type="button"\r
                (click)="transferData.new_department_id = department.id; showDepartmentDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.new_department_id === department.id">\r
                {{ department.name }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Transfer Reason Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Transfer Reason *</label>\r
          <button\r
            type="button"\r
            (click)="showReasonDropdown = !showReasonDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showReasonDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.transfer_reason" class="text-gray-400">Select reason</span>\r
              <span *ngIf="transferData.transfer_reason" class="text-gray-900">\r
                {{ transferData.transfer_reason }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showReasonDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showReasonDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.transfer_reason = ''; showReasonDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.transfer_reason">\r
                Select reason\r
              </button>\r
              <button\r
                *ngFor="let reason of transferReasons"\r
                type="button"\r
                (click)="transferData.transfer_reason = reason; showReasonDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.transfer_reason === reason">\r
                {{ reason }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Transfer Date -->\r
        <div>\r
          <label for="transfer_date" class="block text-sm font-medium text-gray-700 mb-2">\r
            Transfer Date *\r
          </label>\r
          <div class="relative">\r
            <input\r
              #dateInput\r
              type="text"\r
              id="transfer_date"\r
              [(ngModel)]="transferData.transfer_date"\r
              name="transfer_date"\r
              class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white cursor-pointer"\r
              placeholder="Select date"\r
              [disabled]="loading"\r
              required\r
              readonly\r
            />\r
            <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none">\r
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Additional Notes -->\r
        <div>\r
          <label for="notes" class="block text-sm font-medium text-gray-700 mb-2">\r
            Additional Notes\r
          </label>\r
          <textarea\r
            id="notes"\r
            [(ngModel)]="transferData.notes"\r
            name="notes"\r
            rows="3"\r
            class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white resize-none"\r
            placeholder="Enter any additional notes about this transfer..."\r
            [disabled]="loading"\r
          ></textarea>\r
        </div>\r
\r
        <!-- Error Message -->\r
        <div *ngIf="error" class="bg-red-50 border border-red-200 rounded-md p-4">\r
          <div class="flex">\r
            <div class="flex-shrink-0">\r
              <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
            </div>\r
            <div class="ml-3">\r
              <p class="text-sm text-red-700">{{ error }}</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Action Buttons -->\r
        <div class="flex justify-end space-x-3 pt-6">\r
          <button\r
            type="button"\r
            (click)="onCancel()"\r
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"\r
            [disabled]="loading"\r
          >\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"\r
            [disabled]="loading"\r
          >\r
            <span *ngIf="!loading">Create Transfer</span>\r
            <span *ngIf="loading" class="flex items-center">\r
              <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
              Creating Transfer...\r
            </span>\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
</div>\r
`, styles: ["/* src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.scss */\n.transfer-asset-modal .modal-backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.transfer-asset-modal .modal-content {\n  max-height: 90vh;\n  overflow-y: auto;\n}\n.transfer-asset-modal .form-select,\n.transfer-asset-modal .form-input,\n.transfer-asset-modal .form-textarea {\n  transition: all 0.2s ease-in-out;\n}\n.transfer-asset-modal .form-select:focus,\n.transfer-asset-modal .form-input:focus,\n.transfer-asset-modal .form-textarea:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.transfer-asset-modal .form-select:disabled,\n.transfer-asset-modal .form-input:disabled,\n.transfer-asset-modal .form-textarea:disabled {\n  background-color: #f9fafb;\n  cursor: not-allowed;\n}\n.transfer-asset-modal select {\n  background-image: none !important;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.transfer-asset-modal select::-ms-expand {\n  display: none;\n}\n.transfer-asset-modal select option {\n  padding: 8px 12px;\n  background-color: white;\n  color: #374151;\n}\n.transfer-asset-modal select option:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal select option:disabled {\n  color: #9ca3af;\n  background-color: #f9fafb;\n}\n.transfer-asset-modal .flatpickr-calendar {\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  border: 1px solid #e5e7eb;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day {\n  border-radius: 4px;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal .transfer-arrow {\n  animation: bounce 2s infinite;\n}\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n.transfer-asset-modal .loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.transfer-asset-modal .error-message {\n  animation: slideIn 0.3s ease-out;\n}\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@media (max-width: 640px) {\n  .transfer-asset-modal .modal-content {\n    margin: 1rem;\n    max-width: calc(100vw - 2rem);\n  }\n}\n/*# sourceMappingURL=transfer-asset-modal.component.css.map */\n"] }]
  }], () => [{ type: AssetService }], { isOpen: [{
    type: Input
  }], asset: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], transferComplete: [{
    type: Output
  }], dateInput: [{
    type: ViewChild,
    args: ["dateInput", { static: false }]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(TransferAssetModalComponent, { className: "TransferAssetModalComponent", filePath: "src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.ts", lineNumber: 54 });
})();

// src/app/assets/components/asset-view/asset-view.component.ts
var QRCode2 = __toESM(require_browser());
var _c03 = ["dateInput"];
var _c12 = (a0) => ["/locations", a0];
var _c2 = (a0) => ["/assets/preview", a0];
var _c3 = () => ["all", "category", "location", "department", "manufacturer", "parent", "children", "siblings", "similar"];
function AssetViewComponent_div_26_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 28)(1, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_1_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.transferAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 30);
    \u0275\u0275element(3, "path", 31);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 32);
    \u0275\u0275text(5, "Transfer Asset");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.duplicateAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 30);
    \u0275\u0275element(8, "path", 33);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "span", 32);
    \u0275\u0275text(10, "Duplicate");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(11, "div", 34);
    \u0275\u0275elementStart(12, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.printAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 30);
    \u0275\u0275element(14, "path", 35);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(15, "span", 32);
    \u0275\u0275text(16, "Print");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_17_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.exportAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(18, "svg", 30);
    \u0275\u0275element(19, "path", 36);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(20, "span", 32);
    \u0275\u0275text(21, "Export");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_22_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.sharePublicUrl();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 30);
    \u0275\u0275element(24, "path", 37);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "span", 32);
    \u0275\u0275text(26, "Share Public URL");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 38)(1, "div", 39)(2, "div", 40);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 41);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 44);
    \u0275\u0275text(7, "Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 45);
    \u0275\u0275text(9, "Please wait while we fetch the asset details...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_28_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 38)(1, "div", 39)(2, "div", 46);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 47);
    \u0275\u0275element(4, "path", 48);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 44);
    \u0275\u0275text(6, "Error Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 49);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 50);
    \u0275\u0275listener("click", function AssetViewComponent_div_28_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(10, " Back to Assets ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetViewComponent_div_29_span_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 175);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
  }
}
function AssetViewComponent_div_29_div_27_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 45);
    \u0275\u0275text(2, "Serial:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 62);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_27_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r5);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copySerialNumber());
    });
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 63);
    \u0275\u0275element(7, "path", 33);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.serial_number);
  }
}
function AssetViewComponent_div_29_div_36_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 183);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_button_4_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.previousImage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 18);
    \u0275\u0275element(2, "path", 184);
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_36_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r8);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.nextImage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 18);
    \u0275\u0275element(2, "path", 10);
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_36_div_8_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 188);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_div_8_div_1_Template_div_click_0_listener() {
      const i_r10 = \u0275\u0275restoreView(_r9).index;
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.selectImage(i_r10));
    });
    \u0275\u0275elementStart(1, "img", 189);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_div_36_div_8_div_1_Template_img_error_1_listener($event) {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const image_r11 = ctx.$implicit;
    const i_r10 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(4);
    \u0275\u0275classProp("border-blue-500", i_r10 === ctx_r1.currentImageIndex)("border-gray-200", i_r10 !== ctx_r1.currentImageIndex);
    \u0275\u0275advance();
    \u0275\u0275property("src", image_r11.image_url, \u0275\u0275sanitizeUrl)("alt", "Asset image " + (i_r10 + 1));
  }
}
function AssetViewComponent_div_29_div_36_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 186);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_36_div_8_div_1_Template, 2, 6, "div", 187);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.asset.images);
  }
}
function AssetViewComponent_div_29_div_36_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "div", 176)(2, "div", 177)(3, "img", 178);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_Template_img_click_3_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewFullImage(ctx_r1.selectedImageUrl || ctx_r1.asset.images[0].image_url));
    })("error", function AssetViewComponent_div_29_div_36_Template_img_error_3_listener($event) {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetViewComponent_div_29_div_36_button_4_Template, 3, 0, "button", 179)(5, AssetViewComponent_div_29_div_36_button_5_Template, 3, 0, "button", 180);
    \u0275\u0275elementStart(6, "div", 181);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(8, AssetViewComponent_div_29_div_36_div_8_Template, 2, 1, "div", 182);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275property("src", ctx_r1.selectedImageUrl || ctx_r1.asset.images[0].image_url, \u0275\u0275sanitizeUrl)("alt", ctx_r1.asset.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate2(" ", ctx_r1.currentImageIndex + 1, " / ", ctx_r1.asset.images.length, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
  }
}
function AssetViewComponent_div_29_ng_template_37_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 190);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 191);
    \u0275\u0275element(2, "path", 70);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Images Available");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No images have been uploaded for this asset.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_58_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 193);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_58_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r12);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.descriptionExpanded = !ctx_r1.descriptionExpanded);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.descriptionExpanded ? "Show Less" : "Show More", " ");
  }
}
function AssetViewComponent_div_29_img_64_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 194);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_img_64_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r13);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, ctx_r1.asset.category));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.category.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.asset.category.name);
  }
}
function AssetViewComponent_div_29__svg_svg_65_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 159);
    \u0275\u0275element(1, "path", 195);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_71_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 196);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
  }
}
function AssetViewComponent_div_29_span_72_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1, "Not specified");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_a_90_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "a", 197);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(2, _c12, ctx_r1.asset.location.id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.location.name, " ");
  }
}
function AssetViewComponent_div_29_span_91_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.name) || "No location assigned");
  }
}
function AssetViewComponent_div_29_div_115_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div")(1, "h4", 76);
    \u0275\u0275text(2, "Parent Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "a", 197);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(3, _c2, ctx_r1.asset.parent.id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.asset.parent.name, " (", ctx_r1.asset.parent.asset_id, ") ");
  }
}
function AssetViewComponent_div_29_img_122_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 198);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.qrCodeDataUrl, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_img_123_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 198);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.qr_code_url, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_div_124_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 199);
    \u0275\u0275element(1, "div", 200);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_125_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 39);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 201);
    \u0275\u0275element(2, "path", 202);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 203);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id || ctx_r1.asset.id);
  }
}
function AssetViewComponent_div_29_div_126_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 204);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 205);
    \u0275\u0275element(2, "path", 48);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 206);
    \u0275\u0275text(4, "No Asset ID");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_128_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 207);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_128_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r14);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.downloadQRCode());
    });
    \u0275\u0275text(1, " Download ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_button_129_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 208);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_129_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r15);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyPublicUrl());
    });
    \u0275\u0275text(1, " Copy URL ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_img_138_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 209);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.barcode_url, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_img_139_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 209);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.barcodeDataUrl, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_div_140_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 210);
    \u0275\u0275element(1, "div", 200);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_141_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 211);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 212);
    \u0275\u0275element(2, "path", 74);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 203);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id);
  }
}
function AssetViewComponent_div_29_div_142_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 213);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 205);
    \u0275\u0275element(2, "path", 48);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 206);
    \u0275\u0275text(4, "No Asset ID");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_144_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 207);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_144_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r16);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.downloadBarcode());
    });
    \u0275\u0275text(1, " Download ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_button_145_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 208);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_145_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r17);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275text(1, " Copy ID ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_p_149_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "p", 214);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id);
  }
}
function AssetViewComponent_div_29_div_161_span_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.description, " ");
  }
}
function AssetViewComponent_div_29_div_161_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 196);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, AssetViewComponent_div_29_div_161_span_3_Template, 2, 1, "span", 174);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status.description);
  }
}
function AssetViewComponent_div_29_span_162_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1, "Not specified");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_173_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "h4", 113);
    \u0275\u0275text(2, "Serial Number");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 7)(4, "span", 216);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "button", 217);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_173_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r18);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copySerialNumber());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 14);
    \u0275\u0275element(8, "path", 33);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.serial_number);
  }
}
function AssetViewComponent_div_29_div_205_div_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 221)(1, "span", 143);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 222);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const spec_r19 = ctx.$implicit;
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", spec_r19.key, ":");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(spec_r19.value);
  }
}
function AssetViewComponent_div_29_div_205_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 218)(1, "h4", 168);
    \u0275\u0275text(2, "Additional Specifications");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 219);
    \u0275\u0275template(4, AssetViewComponent_div_29_div_205_div_4_Template, 5, 2, "div", 220);
    \u0275\u0275pipe(5, "keyvalue");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", \u0275\u0275pipeBind1(5, 1, ctx_r1.asset.specifications));
  }
}
function AssetViewComponent_div_29_div_225_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 223)(1, "div", 155)(2, "div", 137);
    \u0275\u0275text(3, "Average Health Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 224);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 139)(7, "div", 137);
    \u0275\u0275text(8, "Average Performance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 140);
    \u0275\u0275text(10);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(11, "div", 172)(12, "div", 137);
    \u0275\u0275text(13, "Total Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "div", 225);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.healthPerformanceChartData.chart_data.metrics.average_health_score, " % ");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.healthPerformanceChartData.chart_data.metrics.average_performance_score, " % ");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.healthPerformanceChartData.chart_data.metrics.total_maintenance_count, " ");
  }
}
function AssetViewComponent_div_29_div_230_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 226)(1, "div", 39)(2, "div", 227);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 228);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading health & performance data...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_231_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 229)(1, "div", 39)(2, "div", 230);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_231_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r20);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadHealthPerformanceChart());
    });
    \u0275\u0275text(5, " Try Again ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.healthPerformanceChartError);
  }
}
function AssetViewComponent_div_29_div_232_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 231);
    \u0275\u0275element(1, "canvas", 232);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_233_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 233);
    \u0275\u0275text(1, " Green: Health Score | Blue: Performance Score | Orange: Maintenance Count ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_234_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 234)(1, "div", 142)(2, "div", 143);
    \u0275\u0275text(3, "Health Trend");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 235);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 142)(7, "div", 143);
    \u0275\u0275text(8, "Performance Trend");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 235);
    \u0275\u0275text(10);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngClass", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? "text-green-600" : "text-red-600");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? "+" : "", "", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend, " % ");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngClass", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? "text-green-600" : "text-red-600");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? "+" : "", "", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend, " % ");
  }
}
function AssetViewComponent_div_29_div_269_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 226)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading chart data...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_270_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 229)(1, "div", 39)(2, "div", 230);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_270_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadDepreciationChart());
    });
    \u0275\u0275text(5, " Try Again ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.depreciationChartError);
  }
}
function AssetViewComponent_div_29_div_271_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 231);
    \u0275\u0275element(1, "canvas", 238);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_272_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 233);
    \u0275\u0275text(1, " Blue line: Asset Value | Red line: Accumulated Depreciation ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_296_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 239)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading activities...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_297_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 240)(1, "div", 230);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_297_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadActivityHistory());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.activityError);
  }
}
function AssetViewComponent_div_29_div_298_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 249);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r23 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.formatActivityBeforeAfter(activity_r23.before, activity_r23.after), " ");
  }
}
function AssetViewComponent_div_29_div_298_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 250)(1, "strong");
    \u0275\u0275text(2, "By:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r23 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.getUserDisplayName(activity_r23.user), " ");
  }
}
function AssetViewComponent_div_29_div_298_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 242)(1, "div", 243);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 14);
    \u0275\u0275element(3, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div", 244)(5, "div", 245)(6, "h4", 246);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 215);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "p", 137);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275template(12, AssetViewComponent_div_29_div_298_div_1_div_12_Template, 2, 1, "div", 247)(13, AssetViewComponent_div_29_div_298_div_1_div_13_Template, 4, 1, "div", 248);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r23 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r1.getActivityColor(activity_r23.action));
    \u0275\u0275advance(2);
    \u0275\u0275attribute("d", ctx_r1.getActivityIcon(activity_r23.action));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(activity_r23.action);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r23.time_ago);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r23.comment || "No comment");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.formatActivityBeforeAfter(activity_r23.before, activity_r23.after));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", activity_r23.user);
  }
}
function AssetViewComponent_div_29_div_298_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 240);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 251);
    \u0275\u0275element(2, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Recent Activity");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No activity has been recorded for this asset yet.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_298_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 112);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_298_div_1_Template, 14, 7, "div", 241)(2, AssetViewComponent_div_29_div_298_div_2_Template, 7, 0, "div", 145);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.activities);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activities.length === 0);
  }
}
function AssetViewComponent_div_29_div_315_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 253);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_315_button_1_Template_button_click_0_listener() {
      const filter_r25 = \u0275\u0275restoreView(_r24).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.onRelatedFilterChange(filter_r25);
      return \u0275\u0275resetView(ctx_r1.showRelatedFilterDropdown = false);
    });
    \u0275\u0275elementStart(1, "span", 254);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const filter_r25 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("text-blue-600", ctx_r1.selectedRelatedFilter === filter_r25)("bg-blue-50", ctx_r1.selectedRelatedFilter === filter_r25);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.getRelatedFilterDisplayName(filter_r25));
  }
}
function AssetViewComponent_div_29_div_315_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_315_button_1_Template, 3, 5, "button", 252);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", \u0275\u0275pureFunction0(1, _c3));
  }
}
function AssetViewComponent_div_29_div_316_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 239)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading related assets...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_317_Template(rf, ctx) {
  if (rf & 1) {
    const _r26 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 240)(1, "div", 230);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_317_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r26);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadRelatedAssets());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.relatedAssetsError);
  }
}
function AssetViewComponent_div_29_div_318_div_1_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 267);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_div_318_div_1_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r29);
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const relatedAsset_r28 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", relatedAsset_r28.images[0].image_url, \u0275\u0275sanitizeUrl)("alt", relatedAsset_r28.name);
  }
}
function AssetViewComponent_div_29_div_318_div_1__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 268);
    \u0275\u0275element(1, "path", 269);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_318_div_1_span_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const relatedAsset_r28 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" Health: ", relatedAsset_r28.health_score, "% ");
  }
}
function AssetViewComponent_div_29_div_318_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 257);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_318_div_1_Template_div_click_0_listener() {
      const relatedAsset_r28 = \u0275\u0275restoreView(_r27).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.navigateToRelatedAsset(relatedAsset_r28.id));
    });
    \u0275\u0275elementStart(1, "div", 258);
    \u0275\u0275template(2, AssetViewComponent_div_29_div_318_div_1_img_2_Template, 1, 2, "img", 259)(3, AssetViewComponent_div_29_div_318_div_1__svg_svg_3_Template, 2, 0, "svg", 260);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 261)(5, "div", 245)(6, "h4", 262);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 215);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "div", 263)(11, "span", 170);
    \u0275\u0275text(12);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "span", 264);
    \u0275\u0275text(14, "\u2022");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "span", 170);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "div", 7)(18, "span", 265);
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275template(20, AssetViewComponent_div_29_div_318_div_1_span_20_Template, 2, 1, "span", 174);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(21, "svg", 266);
    \u0275\u0275element(22, "path", 10);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const relatedAsset_r28 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", relatedAsset_r28.images && relatedAsset_r28.images.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !relatedAsset_r28.images || relatedAsset_r28.images.length === 0);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(relatedAsset_r28.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(relatedAsset_r28.asset_id);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((relatedAsset_r28.category == null ? null : relatedAsset_r28.category.name) || "General");
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate((relatedAsset_r28.asset_type == null ? null : relatedAsset_r28.asset_type.name) || relatedAsset_r28.type);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngClass", ctx_r1.getRelatedAssetStatusColor(relatedAsset_r28.asset_status || relatedAsset_r28.status));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", (relatedAsset_r28.asset_status == null ? null : relatedAsset_r28.asset_status.name) || relatedAsset_r28.status, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", relatedAsset_r28.health_score);
  }
}
function AssetViewComponent_div_29_div_318_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 240);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 251);
    \u0275\u0275element(2, "path", 269);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Related Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No related assets found for this item.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_318_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 255);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_318_div_1_Template, 23, 9, "div", 256)(2, AssetViewComponent_div_29_div_318_div_2_Template, 7, 0, "div", 145);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.relatedAssets);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssets.length === 0);
  }
}
function AssetViewComponent_div_29_div_359_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 270)(1, "div", 271);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 272);
    \u0275\u0275element(3, "circle", 42)(4, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "p", 250);
    \u0275\u0275text(6, "Loading...");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_360_div_1_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 284);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const schedule_r31 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", schedule_r31.notes, " ");
  }
}
function AssetViewComponent_div_29_div_360_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r30 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 274)(1, "div", 275)(2, "h4", 276);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 277)(5, "span");
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 278);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_360_div_1_Template_button_click_7_listener() {
      const schedule_r31 = \u0275\u0275restoreView(_r30).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.editMaintenanceSchedule(schedule_r31));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 63);
    \u0275\u0275element(9, "path", 15);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "button", 279);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_360_div_1_Template_button_click_10_listener() {
      const schedule_r31 = \u0275\u0275restoreView(_r30).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.deleteMaintenanceSchedule(schedule_r31));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(11, "svg", 63);
    \u0275\u0275element(12, "path", 280);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(13, "div", 281)(14, "div")(15, "span", 192);
    \u0275\u0275text(16, "Next Due:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "span", 282);
    \u0275\u0275text(18);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div")(20, "span", 192);
    \u0275\u0275text(21, "Frequency:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "span", 282);
    \u0275\u0275text(23);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(24, AssetViewComponent_div_29_div_360_div_1_div_24_Template, 2, 1, "div", 283);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const schedule_r31 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(schedule_r31.schedule_type);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-" + ctx_r1.getScheduleStatusColor(schedule_r31.status) + "-100 text-" + ctx_r1.getScheduleStatusColor(schedule_r31.status) + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", schedule_r31.status, " ");
    \u0275\u0275advance(12);
    \u0275\u0275textInterpolate(ctx_r1.formatDate(schedule_r31.next_due));
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(schedule_r31.frequency || "Not specified");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", schedule_r31.notes);
  }
}
function AssetViewComponent_div_29_div_360_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 255);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_360_div_1_Template, 25, 7, "div", 273);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.maintenanceSchedules);
  }
}
function AssetViewComponent_div_29_div_361_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 270);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 285);
    \u0275\u0275element(2, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 286);
    \u0275\u0275text(4, "No Maintenance Schedules");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 287);
    \u0275\u0275text(6, "Create maintenance schedules to track asset upkeep.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 288);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_361_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r32);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.addMaintenanceSchedule());
    });
    \u0275\u0275text(8, " Add First Schedule ");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_span_445_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "date");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" (Expires: ", \u0275\u0275pipeBind2(2, 1, ctx_r1.asset.warranty, "MMM d, y"), ") ");
  }
}
function AssetViewComponent_div_29_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 51)(1, "div", 52)(2, "div", 53)(3, "div", 5)(4, "div", 54);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 55);
    \u0275\u0275element(6, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "div")(8, "h1", 57);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "div", 5);
    \u0275\u0275template(11, AssetViewComponent_div_29_span_11_Template, 2, 5, "span", 58);
    \u0275\u0275elementStart(12, "span", 59);
    \u0275\u0275text(13);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "span", 59);
    \u0275\u0275text(15, "\u2022");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "span", 59);
    \u0275\u0275text(17);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(18, "div", 60)(19, "div", 61)(20, "span", 45);
    \u0275\u0275text(21, "Asset ID:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "button", 62);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_22_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275elementStart(23, "span");
    \u0275\u0275text(24);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(25, "svg", 63);
    \u0275\u0275element(26, "path", 33);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(27, AssetViewComponent_div_29_div_27_Template, 8, 1, "div", 64);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(28, "div", 65)(29, "div", 66)(30, "div", 67)(31, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(32, "svg", 69);
    \u0275\u0275element(33, "path", 70);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(34, "h2", 71);
    \u0275\u0275text(35, "Asset Images");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(36, AssetViewComponent_div_29_div_36_Template, 9, 7, "div", 72)(37, AssetViewComponent_div_29_ng_template_37_Template, 7, 0, "ng-template", null, 0, \u0275\u0275templateRefExtractor);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(39, "div", 67)(40, "div", 73);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(41, "svg", 69);
    \u0275\u0275element(42, "path", 74);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(43, "h2", 71);
    \u0275\u0275text(44, "Basic Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(45, "div", 65)(46, "div", 75)(47, "div")(48, "h4", 76);
    \u0275\u0275text(49, "Asset Name");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(50, "p", 71);
    \u0275\u0275text(51);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(52, "div")(53, "h4", 76);
    \u0275\u0275text(54, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(55, "div", 77)(56, "p", 78);
    \u0275\u0275text(57);
    \u0275\u0275elementEnd();
    \u0275\u0275template(58, AssetViewComponent_div_29_button_58_Template, 2, 1, "button", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(59, "div")(60, "h4", 76);
    \u0275\u0275text(61, "Category");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(62, "div", 12)(63, "div", 80);
    \u0275\u0275template(64, AssetViewComponent_div_29_img_64_Template, 1, 2, "img", 81)(65, AssetViewComponent_div_29__svg_svg_65_Template, 2, 0, "svg", 82);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(66, "span", 11);
    \u0275\u0275text(67);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(68, "div")(69, "h4", 76);
    \u0275\u0275text(70, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(71, AssetViewComponent_div_29_div_71_Template, 3, 5, "div", 64)(72, AssetViewComponent_div_29_span_72_Template, 2, 0, "span", 83);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(73, "div", 75)(74, "div")(75, "h4", 76);
    \u0275\u0275text(76, "Asset ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(77, "div", 7)(78, "span", 84);
    \u0275\u0275text(79);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(80, "button", 85);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_80_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(81, "svg", 14);
    \u0275\u0275element(82, "path", 33);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(83, "div")(84, "h4", 76);
    \u0275\u0275text(85, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(86, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(87, "svg", 86);
    \u0275\u0275element(88, "path", 87)(89, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275template(90, AssetViewComponent_div_29_a_90_Template, 2, 4, "a", 89)(91, AssetViewComponent_div_29_span_91_Template, 2, 1, "span", 83);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(92, "div")(93, "h4", 76);
    \u0275\u0275text(94, "Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(95, "span", 90);
    \u0275\u0275text(96);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(97, "div")(98, "h4", 76);
    \u0275\u0275text(99, "Created");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(100, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(101, "svg", 86);
    \u0275\u0275element(102, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(103, "span", 90);
    \u0275\u0275text(104);
    \u0275\u0275pipe(105, "date");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(106, "div")(107, "h4", 76);
    \u0275\u0275text(108, "Last Modified");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(109, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(110, "svg", 86);
    \u0275\u0275element(111, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(112, "span", 90);
    \u0275\u0275text(113);
    \u0275\u0275pipe(114, "date");
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(115, AssetViewComponent_div_29_div_115_Template, 5, 5, "div", 93);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(116, "div", 75)(117, "div")(118, "h4", 76);
    \u0275\u0275text(119, "QR Code");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(120, "div", 94)(121, "div", 95);
    \u0275\u0275template(122, AssetViewComponent_div_29_img_122_Template, 1, 1, "img", 96)(123, AssetViewComponent_div_29_img_123_Template, 1, 1, "img", 96)(124, AssetViewComponent_div_29_div_124_Template, 2, 0, "div", 97)(125, AssetViewComponent_div_29_div_125_Template, 5, 1, "div", 98)(126, AssetViewComponent_div_29_div_126_Template, 5, 0, "div", 99);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(127, "div", 100);
    \u0275\u0275template(128, AssetViewComponent_div_29_button_128_Template, 2, 0, "button", 101)(129, AssetViewComponent_div_29_button_129_Template, 2, 0, "button", 102);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(130, "div", 103)(131, "p");
    \u0275\u0275text(132, "Scan to access public page");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(133, "div")(134, "h4", 76);
    \u0275\u0275text(135, "Barcode");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(136, "div", 94)(137, "div", 104);
    \u0275\u0275template(138, AssetViewComponent_div_29_img_138_Template, 1, 1, "img", 105)(139, AssetViewComponent_div_29_img_139_Template, 1, 1, "img", 105)(140, AssetViewComponent_div_29_div_140_Template, 2, 0, "div", 106)(141, AssetViewComponent_div_29_div_141_Template, 5, 1, "div", 107)(142, AssetViewComponent_div_29_div_142_Template, 5, 0, "div", 108);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(143, "div", 100);
    \u0275\u0275template(144, AssetViewComponent_div_29_button_144_Template, 2, 0, "button", 101)(145, AssetViewComponent_div_29_button_145_Template, 2, 0, "button", 102);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(146, "div", 103)(147, "p");
    \u0275\u0275text(148, "Scan for asset identification");
    \u0275\u0275elementEnd();
    \u0275\u0275template(149, AssetViewComponent_div_29_p_149_Template, 2, 1, "p", 109);
    \u0275\u0275elementEnd()()()()()();
    \u0275\u0275elementStart(150, "div", 67)(151, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(152, "svg", 69);
    \u0275\u0275element(153, "path", 110);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(154, "h2", 71);
    \u0275\u0275text(155, "Technical Specifications");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(156, "div", 111)(157, "div", 112)(158, "div")(159, "h4", 113);
    \u0275\u0275text(160, "Asset Status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(161, AssetViewComponent_div_29_div_161_Template, 4, 6, "div", 64)(162, AssetViewComponent_div_29_span_162_Template, 2, 0, "span", 83);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(163, "div")(164, "h4", 113);
    \u0275\u0275text(165, "Manufacturer");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(166, "span", 90);
    \u0275\u0275text(167);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(168, "div")(169, "h4", 113);
    \u0275\u0275text(170, "Model");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(171, "span", 90);
    \u0275\u0275text(172);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(173, AssetViewComponent_div_29_div_173_Template, 9, 1, "div", 93);
    \u0275\u0275elementStart(174, "div")(175, "h4", 113);
    \u0275\u0275text(176, "Brand");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(177, "span", 90);
    \u0275\u0275text(178);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(179, "div")(180, "h4", 113);
    \u0275\u0275text(181, "Capacity");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(182, "span", 90);
    \u0275\u0275text(183);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(184, "div", 112)(185, "div")(186, "h4", 113);
    \u0275\u0275text(187, "Dimensions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(188, "span", 90);
    \u0275\u0275text(189);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(190, "div")(191, "h4", 113);
    \u0275\u0275text(192, "Weight");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(193, "span", 90);
    \u0275\u0275text(194);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(195, "div")(196, "h4", 113);
    \u0275\u0275text(197, "Power Requirements");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(198, "span", 90);
    \u0275\u0275text(199);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(200, "div")(201, "h4", 113);
    \u0275\u0275text(202, "Operating Conditions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(203, "span", 90);
    \u0275\u0275text(204);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(205, AssetViewComponent_div_29_div_205_Template, 6, 3, "div", 114);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(206, "div", 67)(207, "div", 115)(208, "div", 7)(209, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(210, "svg", 117);
    \u0275\u0275element(211, "path", 118);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(212, "h2", 71);
    \u0275\u0275text(213, "Health & Performance");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(214, "div", 7)(215, "button", 119);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_215_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.refreshHealthPerformanceChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(216, "svg", 14);
    \u0275\u0275element(217, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(218, "span");
    \u0275\u0275text(219, "Refresh");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(220, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_220_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.forceCreateHealthPerformanceChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(221, "svg", 14);
    \u0275\u0275element(222, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(223, "span");
    \u0275\u0275text(224, "Debug");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(225, AssetViewComponent_div_29_div_225_Template, 16, 3, "div", 123);
    \u0275\u0275elementStart(226, "div", 112)(227, "div", 39)(228, "h3", 124);
    \u0275\u0275text(229, "Health & Performance Timeline (Last 12 Months)");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(230, AssetViewComponent_div_29_div_230_Template, 8, 0, "div", 125)(231, AssetViewComponent_div_29_div_231_Template, 6, 1, "div", 126)(232, AssetViewComponent_div_29_div_232_Template, 2, 0, "div", 127)(233, AssetViewComponent_div_29_div_233_Template, 2, 0, "div", 128)(234, AssetViewComponent_div_29_div_234_Template, 11, 6, "div", 129);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(235, "div", 67)(236, "div", 130)(237, "div", 7)(238, "div", 131);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(239, "svg", 132);
    \u0275\u0275element(240, "path", 133);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(241, "h2", 71);
    \u0275\u0275text(242, "Asset Depreciation");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(243, "div", 7)(244, "button", 134);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_244_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.refreshDepreciationChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(245, "svg", 14);
    \u0275\u0275element(246, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(247, "span");
    \u0275\u0275text(248, "Refresh");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(249, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_249_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.forceCreateChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(250, "svg", 14);
    \u0275\u0275element(251, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(252, "span");
    \u0275\u0275text(253, "Debug");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(254, "div", 135)(255, "div", 136)(256, "div", 137);
    \u0275\u0275text(257, "Original Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(258, "div", 138);
    \u0275\u0275text(259);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(260, "div", 139)(261, "div", 137);
    \u0275\u0275text(262, "Current Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(263, "div", 140);
    \u0275\u0275text(264);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(265, "div", 112)(266, "div", 39)(267, "h3", 124);
    \u0275\u0275text(268, "Depreciation Timeline (straight-line method)");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(269, AssetViewComponent_div_29_div_269_Template, 8, 0, "div", 125)(270, AssetViewComponent_div_29_div_270_Template, 6, 1, "div", 126)(271, AssetViewComponent_div_29_div_271_Template, 2, 0, "div", 127)(272, AssetViewComponent_div_29_div_272_Template, 2, 0, "div", 128);
    \u0275\u0275elementStart(273, "div", 141)(274, "div", 142)(275, "div", 143);
    \u0275\u0275text(276, "Annual Depreciation");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(277, "div", 71);
    \u0275\u0275text(278);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(279, "div", 142)(280, "div", 143);
    \u0275\u0275text(281, "Depreciation Rate");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(282, "div", 71);
    \u0275\u0275text(283);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(284, "div", 142)(285, "div", 143);
    \u0275\u0275text(286, "Years Remaining");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(287, "div", 71);
    \u0275\u0275text(288);
    \u0275\u0275elementEnd()()()()()();
    \u0275\u0275elementStart(289, "div", 75)(290, "div", 67)(291, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(292, "svg", 69);
    \u0275\u0275element(293, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(294, "h2", 71);
    \u0275\u0275text(295, "Recent Activity");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(296, AssetViewComponent_div_29_div_296_Template, 8, 0, "div", 144)(297, AssetViewComponent_div_29_div_297_Template, 5, 1, "div", 145)(298, AssetViewComponent_div_29_div_298_Template, 3, 2, "div", 146);
    \u0275\u0275elementStart(299, "div", 147)(300, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_300_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showFullActivityHistory());
    });
    \u0275\u0275text(301, " View Full Activity History ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(302, "div", 67)(303, "div", 130)(304, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(305, "svg", 69);
    \u0275\u0275element(306, "path", 149);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(307, "h2", 71);
    \u0275\u0275text(308, "Related Assets");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(309, "div", 77)(310, "button", 150);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_310_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showRelatedFilterDropdown = !ctx_r1.showRelatedFilterDropdown);
    });
    \u0275\u0275elementStart(311, "span");
    \u0275\u0275text(312);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(313, "svg", 14);
    \u0275\u0275element(314, "path", 151);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(315, AssetViewComponent_div_29_div_315_Template, 2, 2, "div", 22);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(316, AssetViewComponent_div_29_div_316_Template, 8, 0, "div", 144)(317, AssetViewComponent_div_29_div_317_Template, 5, 1, "div", 145)(318, AssetViewComponent_div_29_div_318_Template, 3, 2, "div", 152);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(319, "div", 67)(320, "div", 130)(321, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(322, "svg", 69);
    \u0275\u0275element(323, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(324, "h2", 71);
    \u0275\u0275text(325, "Maintenance Schedule");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(326, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_326_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.addMaintenanceSchedule());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(327, "svg", 14);
    \u0275\u0275element(328, "path", 153);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(329, "span");
    \u0275\u0275text(330, "Add");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(331, "div", 154)(332, "div", 155)(333, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(334, "svg", 156);
    \u0275\u0275element(335, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(336, "div")(337, "div", 157);
    \u0275\u0275text(338, "Last Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(339, "div", 158);
    \u0275\u0275text(340);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(341, "div", 139)(342, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(343, "svg", 159);
    \u0275\u0275element(344, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(345, "div")(346, "div", 160);
    \u0275\u0275text(347, "Next Due");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(348, "div", 161);
    \u0275\u0275text(349);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(350, "div", 162)(351, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(352, "svg", 163);
    \u0275\u0275element(353, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(354, "div")(355, "div", 164);
    \u0275\u0275text(356, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(357, "div", 165);
    \u0275\u0275text(358);
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275template(359, AssetViewComponent_div_29_div_359_Template, 7, 0, "div", 166)(360, AssetViewComponent_div_29_div_360_Template, 2, 1, "div", 152)(361, AssetViewComponent_div_29_div_361_Template, 9, 0, "div", 166);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(362, "div", 67)(363, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(364, "svg", 69);
    \u0275\u0275element(365, "path", 167);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(366, "h2", 71);
    \u0275\u0275text(367, "Financial Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(368, "div", 112)(369, "div", 136)(370, "h4", 168);
    \u0275\u0275text(371, "Purchase Details");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(372, "div", 169)(373, "div")(374, "span", 170);
    \u0275\u0275text(375, "Purchase Price");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(376, "div", 71);
    \u0275\u0275text(377);
    \u0275\u0275pipe(378, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(379, "div")(380, "span", 170);
    \u0275\u0275text(381, "Purchase Date");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(382, "div", 171);
    \u0275\u0275text(383);
    \u0275\u0275pipe(384, "date");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(385, "div", 139)(386, "h4", 168);
    \u0275\u0275text(387, "Current Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(388, "div", 169)(389, "div")(390, "span", 170);
    \u0275\u0275text(391, "Book Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(392, "div", 71);
    \u0275\u0275text(393);
    \u0275\u0275pipe(394, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(395, "div")(396, "span", 170);
    \u0275\u0275text(397, "Market Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(398, "div", 171);
    \u0275\u0275text(399);
    \u0275\u0275pipe(400, "currency");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(401, "div", 172)(402, "h4", 168);
    \u0275\u0275text(403, "Depreciation");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(404, "div", 169)(405, "div")(406, "span", 170);
    \u0275\u0275text(407, "Method");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(408, "div", 171);
    \u0275\u0275text(409);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(410, "div")(411, "span", 170);
    \u0275\u0275text(412, "Useful Life");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(413, "div", 171);
    \u0275\u0275text(414);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(415, "div")(416, "span", 170);
    \u0275\u0275text(417, "Annual Rate");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(418, "div", 171);
    \u0275\u0275text(419);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(420, "div", 155)(421, "h4", 168);
    \u0275\u0275text(422, "Performance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(423, "div", 169)(424, "div")(425, "span", 170);
    \u0275\u0275text(426, "Total Cost of Ownership");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(427, "div", 71);
    \u0275\u0275text(428);
    \u0275\u0275pipe(429, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(430, "div")(431, "span", 170);
    \u0275\u0275text(432, "ROI");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(433, "div", 171);
    \u0275\u0275text(434);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(435, "div", 162)(436, "h4", 168);
    \u0275\u0275text(437, "Warranty & Insurance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(438, "div", 169)(439, "div")(440, "span", 170);
    \u0275\u0275text(441, "Warranty Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(442, "div", 173)(443, "span");
    \u0275\u0275text(444);
    \u0275\u0275elementEnd();
    \u0275\u0275template(445, AssetViewComponent_div_29_span_445_Template, 3, 4, "span", 174);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(446, "div")(447, "span", 170);
    \u0275\u0275text(448, "Insurance Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(449, "div", 171);
    \u0275\u0275text(450);
    \u0275\u0275elementEnd()()()()()()()()();
  }
  if (rf & 2) {
    const noImages_r33 = \u0275\u0275reference(38);
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(6);
    \u0275\u0275attribute("d", ctx_r1.getAssetTypeIcon());
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.asset.name);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.getAssetTypeName(ctx_r1.asset.type));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate((ctx_r1.asset.category == null ? null : ctx_r1.asset.category.name) || "General");
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id || ctx_r1.asset.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.asset.serial_number);
    \u0275\u0275advance(9);
    \u0275\u0275property("ngIf", ctx_r1.asset.images && ctx_r1.asset.images.length > 0)("ngIfElse", noImages_r33);
    \u0275\u0275advance(15);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.name) || "Unnamed Asset");
    \u0275\u0275advance(5);
    \u0275\u0275classProp("line-clamp-3", !ctx_r1.descriptionExpanded);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", (ctx_r1.asset == null ? null : ctx_r1.asset.description) || "No description available", " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (ctx_r1.asset == null ? null : ctx_r1.asset.description) && ctx_r1.asset.description.length > 150);
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", (ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.icon) && !ctx_r1.asset.category.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.icon) || ctx_r1.asset.category.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.name) || "Uncategorized");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.asset.asset_status);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.asset_id) || "N/A");
    \u0275\u0275advance(11);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.id));
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.department == null ? null : ctx_r1.asset.department.name) || "Not assigned");
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(105, 100, ctx_r1.asset == null ? null : ctx_r1.asset.created_at, "MMM d, y"));
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(114, 103, ctx_r1.asset == null ? null : ctx_r1.asset.updated_at, "MMM d, y"));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.parent);
    \u0275\u0275advance(7);
    \u0275\u0275property("ngIf", ctx_r1.qrCodeDataUrl);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && (ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.qrCodeLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && !(ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url) && !ctx_r1.qrCodeLoading && (ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && !(ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url) && !ctx_r1.qrCodeLoading && !(ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.id);
    \u0275\u0275advance(9);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && ctx_r1.barcodeDataUrl);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.barcodeLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && !ctx_r1.barcodeDataUrl && !ctx_r1.barcodeLoading && (ctx_r1.asset == null ? null : ctx_r1.asset.asset_id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && !ctx_r1.barcodeDataUrl && !ctx_r1.barcodeLoading && !(ctx_r1.asset == null ? null : ctx_r1.asset.asset_id));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance(12);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.asset.asset_status);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.manufacturer || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.model || "Not specified");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.serial_number);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.brand || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.capacity || "Not specified");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.asset.dimensions || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.weight || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.power_requirements || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.operating_conditions || "Standard conditions");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.specifications);
    \u0275\u0275advance(20);
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartData == null ? null : ctx_r1.healthPerformanceChartData.chart_data == null ? null : ctx_r1.healthPerformanceChartData.chart_data.metrics);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartError && !ctx_r1.healthPerformanceChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.healthPerformanceChartLoading && !ctx_r1.healthPerformanceChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.healthPerformanceChartLoading && !ctx_r1.healthPerformanceChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartData == null ? null : ctx_r1.healthPerformanceChartData.chart_data == null ? null : ctx_r1.healthPerformanceChartData.chart_data.metrics);
    \u0275\u0275advance(25);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency((ctx_r1.asset == null ? null : ctx_r1.asset.purchase_price) || 0), "");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency(ctx_r1.calculateCurrentValue()), "");
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", ctx_r1.depreciationChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.depreciationChartError && !ctx_r1.depreciationChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.depreciationChartLoading && !ctx_r1.depreciationChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.depreciationChartLoading && !ctx_r1.depreciationChartError);
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency(ctx_r1.calculateAnnualDepreciation()), " ");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.calculateDepreciationRate(), "%");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.calculateRemainingYears());
    \u0275\u0275advance(8);
    \u0275\u0275property("ngIf", ctx_r1.activityLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityError && !ctx_r1.activityLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.activityLoading && !ctx_r1.activityError);
    \u0275\u0275advance(14);
    \u0275\u0275textInterpolate(ctx_r1.getRelatedFilterDisplayName(ctx_r1.selectedRelatedFilter));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.showRelatedFilterDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssetsLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssetsError && !ctx_r1.relatedAssetsLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.relatedAssetsLoading && !ctx_r1.relatedAssetsError);
    \u0275\u0275advance(22);
    \u0275\u0275textInterpolate1("", ctx_r1.mockMaintenanceData.lastMaintenance || "Not recorded", " ");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate1("", ctx_r1.mockMaintenanceData.nextMaintenance || "Not scheduled", " ");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(ctx_r1.mockMaintenanceData.interval);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.maintenanceLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.maintenanceLoading && ctx_r1.maintenanceSchedules.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.maintenanceLoading && ctx_r1.maintenanceSchedules.length === 0);
    \u0275\u0275advance(16);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(378, 106, ctx_r1.mockFinancialData.purchaseCost, "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(384, 111, ctx_r1.asset.purchase_date, "MMM d, y"));
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(394, 114, ctx_r1.mockFinancialData.currentValue, "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate1("", \u0275\u0275pipeBind4(400, 119, ctx_r1.mockFinancialData.currentValue * 0.95, "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate(ctx_r1.mockFinancialData.depreciationMethod);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.mockFinancialData.usefulLife, " years");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.calculateDepreciationRate(), "%");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(429, 124, ctx_r1.calculateTotalCostOfOwnership(), "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(5);
    \u0275\u0275classProp("text-green-600", ctx_r1.calculateROI() > 0)("text-red-600", ctx_r1.calculateROI() < 0);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.calculateROI(), "% ");
    \u0275\u0275advance(9);
    \u0275\u0275classMap(ctx_r1.getWarrantyStatusClass(ctx_r1.asset.warranty));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getWarrantyStatus(ctx_r1.asset.warranty), " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.warranty);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.insurance_value || "Not specified");
  }
}
function AssetViewComponent_div_30_Conditional_58_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275text(0, " Saving Schedule... ");
    \u0275\u0275element(1, "span", 314);
  }
}
function AssetViewComponent_div_30_Conditional_59_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275text(0, " Save Schedule ");
  }
}
function AssetViewComponent_div_30_Template(rf, ctx) {
  if (rf & 1) {
    const _r34 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 289)(1, "div", 290)(2, "div", 130)(3, "h3", 71);
    \u0275\u0275text(4, "Add Maintenance Schedule");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_30_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 292);
    \u0275\u0275element(7, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(8, "form", 294);
    \u0275\u0275listener("ngSubmit", function AssetViewComponent_div_30_Template_form_ngSubmit_8_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.saveMaintenanceSchedule());
    });
    \u0275\u0275elementStart(9, "div", 112)(10, "div")(11, "label", 295);
    \u0275\u0275text(12, "Schedule Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "select", 296)(14, "option", 297);
    \u0275\u0275text(15, "Select type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "option", 298);
    \u0275\u0275text(17, "Preventive Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(18, "option", 299);
    \u0275\u0275text(19, "Inspection");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "option", 300);
    \u0275\u0275text(21, "Calibration");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "option", 301);
    \u0275\u0275text(23, "Cleaning");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(24, "div")(25, "label", 295);
    \u0275\u0275text(26, "Next Due Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(27, "input", 302, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "div")(30, "label", 295);
    \u0275\u0275text(31, "Last Done Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(32, "input", 303, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "div")(35, "label", 295);
    \u0275\u0275text(36, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "select", 304)(38, "option", 297);
    \u0275\u0275text(39, "Select frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "option", 305);
    \u0275\u0275text(41, "Weekly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(42, "option", 306);
    \u0275\u0275text(43, "Monthly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "option", 307);
    \u0275\u0275text(45, "Quarterly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(46, "option", 308);
    \u0275\u0275text(47, "Semi-Annual");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "option", 309);
    \u0275\u0275text(49, "Annual");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(50, "div")(51, "label", 295);
    \u0275\u0275text(52, "Notes");
    \u0275\u0275elementEnd();
    \u0275\u0275element(53, "textarea", 310);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(54, "div", 311)(55, "button", 312);
    \u0275\u0275listener("click", function AssetViewComponent_div_30_Template_button_click_55_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275text(56, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(57, "button", 313);
    \u0275\u0275template(58, AssetViewComponent_div_30_Conditional_58_Template, 2, 0)(59, AssetViewComponent_div_30_Conditional_59_Template, 1, 0);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("formGroup", ctx_r1.maintenanceForm);
    \u0275\u0275advance(49);
    \u0275\u0275property("disabled", ctx_r1.maintenanceForm.invalid);
    \u0275\u0275advance();
    \u0275\u0275conditional(ctx_r1.saveMaintenanceLoading ? 58 : 59);
  }
}
function AssetViewComponent_div_31_Conditional_70_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275text(0, " Updating Schedule... ");
    \u0275\u0275element(1, "span", 314);
  }
}
function AssetViewComponent_div_31_Conditional_71_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275text(0, " Update Schedule ");
  }
}
function AssetViewComponent_div_31_Template(rf, ctx) {
  if (rf & 1) {
    const _r35 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 289)(1, "div", 315)(2, "div", 130)(3, "h3", 71);
    \u0275\u0275text(4, "Edit Maintenance Schedule");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_31_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 292);
    \u0275\u0275element(7, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(8, "form", 294);
    \u0275\u0275listener("ngSubmit", function AssetViewComponent_div_31_Template_form_ngSubmit_8_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.saveMaintenanceSchedule());
    });
    \u0275\u0275elementStart(9, "div", 112)(10, "div")(11, "label", 295);
    \u0275\u0275text(12, "Schedule Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "select", 296)(14, "option", 297);
    \u0275\u0275text(15, "Select type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "option", 298);
    \u0275\u0275text(17, "Preventive Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(18, "option", 299);
    \u0275\u0275text(19, "Inspection");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "option", 300);
    \u0275\u0275text(21, "Calibration");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "option", 301);
    \u0275\u0275text(23, "Cleaning");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(24, "div")(25, "label", 295);
    \u0275\u0275text(26, "Next Due Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(27, "input", 302, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "div")(30, "label", 295);
    \u0275\u0275text(31, "Last Done Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(32, "input", 303, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "div")(35, "label", 295);
    \u0275\u0275text(36, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "select", 304)(38, "option", 297);
    \u0275\u0275text(39, "Select frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "option", 305);
    \u0275\u0275text(41, "Weekly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(42, "option", 306);
    \u0275\u0275text(43, "Monthly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "option", 307);
    \u0275\u0275text(45, "Quarterly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(46, "option", 308);
    \u0275\u0275text(47, "Semi-Annual");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "option", 309);
    \u0275\u0275text(49, "Annual");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(50, "div")(51, "label", 295);
    \u0275\u0275text(52, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(53, "select", 316)(54, "option", 317);
    \u0275\u0275text(55, "Scheduled");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(56, "option", 318);
    \u0275\u0275text(57, "In Progress");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(58, "option", 319);
    \u0275\u0275text(59, "Completed");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(60, "option", 320);
    \u0275\u0275text(61, "Overdue");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(62, "div")(63, "label", 295);
    \u0275\u0275text(64, "Notes");
    \u0275\u0275elementEnd();
    \u0275\u0275element(65, "textarea", 310);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(66, "div", 311)(67, "button", 321);
    \u0275\u0275listener("click", function AssetViewComponent_div_31_Template_button_click_67_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275text(68, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(69, "button", 313);
    \u0275\u0275template(70, AssetViewComponent_div_31_Conditional_70_Template, 2, 0)(71, AssetViewComponent_div_31_Conditional_71_Template, 1, 0);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("formGroup", ctx_r1.maintenanceForm);
    \u0275\u0275advance(61);
    \u0275\u0275property("disabled", ctx_r1.maintenanceForm.invalid);
    \u0275\u0275advance();
    \u0275\u0275conditional(ctx_r1.saveMaintenanceLoading ? 70 : 71);
  }
}
function AssetViewComponent_div_32_div_53_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 350)(1, "div", 39)(2, "div", 351);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 352);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 59);
    \u0275\u0275text(7, "Loading activity history...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_32_div_54_Template(rf, ctx) {
  if (rf & 1) {
    const _r37 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 353)(1, "div", 354);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 50);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_54_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r37);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadFullActivityHistory());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.activityHistoryError);
  }
}
function AssetViewComponent_div_32_div_55_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 364)(1, "div", 365);
    \u0275\u0275text(2, "Changes:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 192);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r38 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate1(" ", ctx_r1.formatActivityBeforeAfter(activity_r38.before, activity_r38.after), " ");
  }
}
function AssetViewComponent_div_32_div_55_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 366)(1, "strong");
    \u0275\u0275text(2, "By:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r38 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.getUserDisplayName(activity_r38.user), " ");
  }
}
function AssetViewComponent_div_32_div_55_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 357)(1, "div", 358);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 18);
    \u0275\u0275element(3, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div", 244)(5, "div", 275)(6, "h4", 359);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 360);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "p", 361);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275template(12, AssetViewComponent_div_32_div_55_div_1_div_12_Template, 5, 1, "div", 362)(13, AssetViewComponent_div_32_div_55_div_1_div_13_Template, 4, 1, "div", 363);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r38 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r1.getActivityColor(activity_r38.action));
    \u0275\u0275advance(2);
    \u0275\u0275attribute("d", ctx_r1.getActivityIcon(activity_r38.action));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(activity_r38.action);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r38.time_ago);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r38.comment || "No comment");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.formatActivityBeforeAfter(activity_r38.before, activity_r38.after));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", activity_r38.user);
  }
}
function AssetViewComponent_div_32_div_55_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 353);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 191);
    \u0275\u0275element(2, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Activity Found");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No activity matches your current filters.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_32_div_55_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 355);
    \u0275\u0275template(1, AssetViewComponent_div_32_div_55_div_1_Template, 14, 7, "div", 356)(2, AssetViewComponent_div_32_div_55_div_2_Template, 7, 0, "div", 345);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.fullActivityHistory);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.fullActivityHistory.length === 0);
  }
}
function AssetViewComponent_div_32_div_56_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r39 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 370);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_56_button_4_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r39);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryPageChange(ctx_r1.activityHistoryPagination.current_page - 1));
    });
    \u0275\u0275text(1, " Previous ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_32_div_56_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r40 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 370);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_56_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r40);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryPageChange(ctx_r1.activityHistoryPagination.current_page + 1));
    });
    \u0275\u0275text(1, " Next ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_32_div_56_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 367)(1, "div", 143);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 368);
    \u0275\u0275template(4, AssetViewComponent_div_32_div_56_button_4_Template, 2, 0, "button", 369)(5, AssetViewComponent_div_32_div_56_button_5_Template, 2, 0, "button", 369);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate3(" Showing ", ctx_r1.activityHistoryPagination.from || 0, " to ", ctx_r1.activityHistoryPagination.to || 0, " of ", ctx_r1.activityHistoryPagination.total || 0, " activities ");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination.prev_page_url);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination.next_page_url);
  }
}
function AssetViewComponent_div_32_Template(rf, ctx) {
  if (rf & 1) {
    const _r36 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 322)(1, "div", 323)(2, "div", 324)(3, "div", 12);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(4, "svg", 325);
    \u0275\u0275element(5, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 326);
    \u0275\u0275text(7, "Full Activity History");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(8, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_8_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeActivityHistoryModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(9, "svg", 292);
    \u0275\u0275element(10, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(11, "div", 327)(12, "div", 328)(13, "div", 329)(14, "div", 244)(15, "input", 330);
    \u0275\u0275listener("input", function AssetViewComponent_div_32_Template_input_input_15_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistorySearch($event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "button", 331);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_16_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.clearActivityHistoryFilters());
    });
    \u0275\u0275text(17, " Clear Filters ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(18, "div", 332)(19, "div")(20, "label", 333);
    \u0275\u0275text(21, "Action Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "select", 334);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_select_change_22_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("action", $event.target.value));
    });
    \u0275\u0275elementStart(23, "option", 297);
    \u0275\u0275text(24, "All Actions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "option", 335);
    \u0275\u0275text(26, "Created");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(27, "option", 336);
    \u0275\u0275text(28, "Updated");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "option", 337);
    \u0275\u0275text(30, "Deleted");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "option", 338);
    \u0275\u0275text(32, "Transferred");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(33, "option", 339);
    \u0275\u0275text(34, "Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(35, "option", 340);
    \u0275\u0275text(36, "Imported");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(37, "div")(38, "label", 333);
    \u0275\u0275text(39, "Date From");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "input", 341);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_input_change_40_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("date_from", $event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(41, "div")(42, "label", 333);
    \u0275\u0275text(43, "Date To");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "input", 341);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_input_change_44_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("date_to", $event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(45, "div")(46, "label", 333);
    \u0275\u0275text(47, "Sort By");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "select", 334);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_select_change_48_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistorySort("created_at", $event.target.value));
    });
    \u0275\u0275elementStart(49, "option", 342);
    \u0275\u0275text(50, "Newest First");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(51, "option", 343);
    \u0275\u0275text(52, "Oldest First");
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275template(53, AssetViewComponent_div_32_div_53_Template, 8, 0, "div", 344)(54, AssetViewComponent_div_32_div_54_Template, 5, 1, "div", 345)(55, AssetViewComponent_div_32_div_55_Template, 3, 2, "div", 346)(56, AssetViewComponent_div_32_div_56_Template, 6, 5, "div", 347);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(57, "div", 348)(58, "div", 143);
    \u0275\u0275text(59);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(60, "button", 349);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_60_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeActivityHistoryModal());
    });
    \u0275\u0275text(61, " Close ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(53);
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryError && !ctx_r1.activityHistoryLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.activityHistoryLoading && !ctx_r1.activityHistoryError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination && ctx_r1.fullActivityHistory.length > 0);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" Total Activities: ", (ctx_r1.activityHistoryPagination == null ? null : ctx_r1.activityHistoryPagination.total) || ctx_r1.fullActivityHistory.length, " ");
  }
}
Chart.register(...registerables);
var AssetViewComponent = class _AssetViewComponent {
  route;
  router;
  assetService;
  angularLocation;
  pdfExportService;
  fb;
  cdr;
  destroy$ = new Subject();
  dateInputs;
  asset = null;
  loading = true;
  saveMaintenanceLoading = false;
  error = "";
  // Image gallery state
  currentImageIndex = 0;
  selectedImageUrl = null;
  // UI state
  descriptionExpanded = false;
  showActionsDropdown = false;
  showTransferModal = false;
  showActivityHistoryModal = false;
  // Maintenance Schedule
  maintenanceSchedules = [];
  maintenanceLoading = false;
  showAddMaintenanceModal = false;
  showEditMaintenanceModal = false;
  selectedSchedule = null;
  maintenanceForm;
  // Flatpickr instances
  flatpickrInstances = [];
  // Health & Performance data (now calculated dynamically)
  healthMetrics = {
    lastUpdated: /* @__PURE__ */ new Date(),
    performanceTrend: [
      { month: "Jan", value: 82 },
      { month: "Feb", value: 84 },
      { month: "Mar", value: 88 },
      { month: "Apr", value: 85 }
    ]
  };
  mockFinancialData = {
    purchaseCost: 0,
    currentValue: 0,
    depreciationMethod: "Straight Line",
    usefulLife: 10,
    originalValue: 0
  };
  mockMaintenanceData = {
    status: "Current",
    lastMaintenance: null,
    nextMaintenance: null,
    interval: "Every 6 months"
  };
  // Activity history
  activities = [];
  fullActivityHistory = [];
  activityLoading = false;
  activityHistoryLoading = false;
  activityError = "";
  activityHistoryError = "";
  // Activity history pagination and filters
  activityHistoryParams = {
    page: 1,
    per_page: 15,
    sort_by: "created_at",
    sort_dir: "desc",
    search: "",
    action: "",
    user_id: "",
    date_from: "",
    date_to: ""
  };
  activityHistoryPagination = null;
  // QR Code state
  qrCodeDataUrl = null;
  qrCodeLoading = false;
  // Barcode state
  barcodeDataUrl = null;
  barcodeLoading = false;
  // Related assets state
  relatedAssets = [];
  relatedAssetsLoading = false;
  relatedAssetsError = "";
  selectedRelatedFilter = "all";
  showRelatedFilterDropdown = false;
  relatedAssetsParams = {
    type: "all",
    limit: 10
  };
  // Chart state
  depreciationChart = null;
  depreciationChartLoading = false;
  depreciationChartError = "";
  depreciationChartData = null;
  // Health & Performance Chart
  healthPerformanceChart = null;
  healthPerformanceChartLoading = false;
  healthPerformanceChartError = "";
  healthPerformanceChartData = null;
  constructor(route, router, assetService, angularLocation, pdfExportService, fb, cdr) {
    this.route = route;
    this.router = router;
    this.assetService = assetService;
    this.angularLocation = angularLocation;
    this.pdfExportService = pdfExportService;
    this.fb = fb;
    this.cdr = cdr;
    this.maintenanceForm = this.fb.group({
      schedule_type: ["", Validators.required],
      next_due: [""],
      last_done: [""],
      frequency: [""],
      notes: [""],
      status: ["Scheduled"]
    });
    this.activities = [];
    this.fullActivityHistory = [];
  }
  ngOnInit() {
    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {
      const assetId = params["id"];
      if (assetId) {
        this.loadAsset(assetId);
      }
    });
  }
  ngAfterViewInit() {
    this.initializeDatePickers();
    setTimeout(() => {
      if (this.asset && !this.depreciationChart) {
        this.createDepreciationChart();
      }
    }, 500);
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    if (this.depreciationChart) {
      this.depreciationChart.destroy();
    }
    if (this.healthPerformanceChart) {
      this.healthPerformanceChart.destroy();
    }
  }
  loadAsset(id) {
    this.loading = true;
    this.error = "";
    this.assetService.getAsset(id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.asset = response.data.asset || response.data;
          this.updateMockData();
          this.loadMaintenanceSchedules();
          this.loadActivityHistory();
          this.generateQRCode();
          if (!this.asset.barcode_url && this.asset.asset_id) {
            this.generateBarcode();
          }
          this.loadRelatedAssets();
          this.loadDepreciationChart();
          this.loadHealthPerformanceChart();
        } else {
          this.error = response.message || "Failed to load asset";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading the asset";
        this.loading = false;
      }
    });
  }
  loadMaintenanceSchedules() {
    if (!this.asset)
      return;
    this.maintenanceLoading = true;
    this.assetService.listMaintenanceSchedules(this.asset.id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.maintenanceSchedules = response.data || [];
        }
        this.maintenanceLoading = false;
      },
      error: (error) => {
        console.error("Error loading maintenance schedules:", error);
        this.maintenanceLoading = false;
      }
    });
  }
  updateMockData() {
    if (this.asset) {
      this.mockFinancialData = {
        purchaseCost: this.asset.purchase_price || 0,
        currentValue: this.asset.current_value || this.asset.purchase_price || 0,
        depreciationMethod: "Straight Line",
        usefulLife: this.asset.depreciation || 10,
        originalValue: this.asset.purchase_price || 0
      };
      this.healthMetrics.lastUpdated = /* @__PURE__ */ new Date();
      this.mockMaintenanceData = {
        status: this.asset.status || "Active",
        lastMaintenance: this.asset.last_maintenance_date || null,
        nextMaintenance: this.asset.next_maintenance_date || null,
        interval: this.asset.maintenance_interval || "Every 6 months"
      };
      if (this.asset.images && this.asset.images.length > 0) {
        this.selectedImageUrl = this.asset.images[0].image_url;
        this.currentImageIndex = 0;
      }
    }
  }
  goBack() {
    this.angularLocation.back();
  }
  editAsset() {
    if (this.asset) {
      this.router.navigate(["/assets", this.asset.id, "edit"]);
    }
  }
  exportAsset() {
    if (this.asset) {
      this.pdfExportService.exportSingleAssetToPdf(this.asset);
    }
  }
  printAsset() {
    const printWindow = window.open("", "_blank");
    if (!printWindow) {
      alert("Please allow popups to print this asset");
      return;
    }
    const printContent = this.generatePrintContent();
    printWindow.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Asset Details - ${this.asset?.name || "Asset"}</title>
          <style>
            @media print {
              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
              .no-print { display: none !important; }
              .print-only { display: block !important; }
              .page-break { page-break-before: always; }
              .avoid-break { page-break-inside: avoid; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
              @page { margin: 1in; }
            }
            @media screen {
              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
              .no-print { display: none; }
              .print-only { display: block; }
              .page-break { border-top: 2px solid #333; margin-top: 30px; padding-top: 30px; }
              .avoid-break { }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
            }
          </style>
        </head>
        <body>
          ${printContent}
        </body>
      </html>
    `);
    printWindow.document.close();
    printWindow.onload = () => {
      printWindow.print();
      printWindow.close();
    };
  }
  generatePrintContent() {
    if (!this.asset)
      return "<p>Asset not found</p>";
    const asset = this.asset;
    const currentDate = (/* @__PURE__ */ new Date()).toLocaleDateString();
    return `
      <div class="header">
        <h1>Asset Details Report</h1>
        <p>Generated on: ${currentDate}</p>
      </div>

      <div class="section">
        <div class="section-title">Asset Overview</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Asset Name</div>
            <div class="info-value">${asset.name || "N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset ID</div>
            <div class="info-value">${asset.asset_id || asset.id || "N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Category</div>
            <div class="info-value">${asset.category?.name || "General"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value">
              <span class="status-badge" style="background-color: ${asset.asset_status?.color || "#6B7280"}20; color: ${asset.asset_status?.color || "#6B7280"}">
                ${asset.asset_status?.name || "Not specified"}
              </span>
            </div>
          </div>
          <div class="info-item">
            <div class="info-label">Type</div>
            <div class="info-value">${this.getAssetTypeName(asset.type)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Location</div>
            <div class="info-value">${asset.location?.name || "No location assigned"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Description</div>
        <p>${asset.description || "No description available"}</p>
      </div>

      <div class="section">
        <div class="section-title">Technical Specifications</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Manufacturer</div>
            <div class="info-value">${asset.manufacturer || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Model</div>
            <div class="info-value">${asset.model || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Serial Number</div>
            <div class="info-value">${asset.serial_number || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Brand</div>
            <div class="info-value">${asset.brand || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Dimensions</div>
            <div class="info-value">${asset.dimensions || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Weight</div>
            <div class="info-value">${asset.weight || "Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Financial Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Purchase Price</div>
            <div class="info-value">$${this.formatCurrency(asset.purchase_price || 0)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Current Value</div>
            <div class="info-value">$${this.formatCurrency(this.calculateCurrentValue())}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Purchase Date</div>
            <div class="info-value">${asset.purchase_date ? new Date(asset.purchase_date).toLocaleDateString() : "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Warranty Status</div>
            <div class="info-value">${this.getWarrantyStatus(asset.warranty)}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Performance Metrics</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Health Score</div>
            <div class="info-value">${asset.health_score || 0}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Utilization Rate</div>
            <div class="info-value">${this.getUtilizationRate()}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset Age</div>
            <div class="info-value">${this.getAssetAge()}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Total Cost of Ownership</div>
            <div class="info-value">$${this.formatCurrency(this.calculateTotalCostOfOwnership())}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Timeline Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Created Date</div>
            <div class="info-value">${asset.created_at ? new Date(asset.created_at).toLocaleDateString() : "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Last Modified</div>
            <div class="info-value">${asset.updated_at ? new Date(asset.updated_at).toLocaleDateString() : "Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="qr-section">
        <div class="section-title">Asset Identification</div>
        <div class="qr-code">
          ${this.qrCodeDataUrl ? `<img src="${this.qrCodeDataUrl}" alt="QR Code" style="max-width: 100%; height: auto;">` : "<p>QR Code not available</p>"}
        </div>
        <p><strong>Asset ID:</strong> ${asset.asset_id || asset.id || "N/A"}</p>
      </div>

      <div class="footer">
        <p>AssetGo - Asset Management System</p>
        <p>This report was generated automatically on ${currentDate}</p>
      </div>
    `;
  }
  getStatusColor(status) {
    const colors = {
      "Active": "green",
      "Maintenance": "orange",
      "Inactive": "gray",
      "Retired": "red"
    };
    return colors[status] || "gray";
  }
  getAssetStatusColor(assetStatus) {
    if (!assetStatus || !assetStatus.color) {
      return "#6B7280";
    }
    return assetStatus.color;
  }
  getAssetStatusBackgroundColor(assetStatus) {
    if (!assetStatus || !assetStatus.color) {
      return "#F3F4F6";
    }
    return assetStatus.color + "20";
  }
  getAssetTypeIcon() {
    if (!this.asset?.type)
      return "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4";
    const icons = {
      "fixed": "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      "semi-fixed": "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4a2 2 0 001-1.73z",
      "mobile": "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",
      "fleet": "M3 13l2-5a2 2 0 012-2h10a2 2 0 012 2l2 5M5 13v6a2 2 0 002 2h10a2 2 0 002-2v-6M5 13h14"
    };
    return icons[this.asset.type] || icons["fixed"];
  }
  generateSmartDescription() {
    console.log("Generate smart description");
  }
  analyzeAssetImage() {
    console.log("Analyze asset image");
  }
  // Maintenance Schedule Methods
  addMaintenanceSchedule() {
    this.showAddMaintenanceModal = true;
    this.maintenanceForm.reset({
      schedule_type: "",
      next_due: "",
      last_done: "",
      frequency: "",
      notes: "",
      status: "Scheduled"
    });
    setTimeout(() => {
      this.initializeDatePickers();
    }, 100);
  }
  editMaintenanceSchedule(schedule) {
    this.selectedSchedule = schedule;
    this.showEditMaintenanceModal = true;
    this.maintenanceForm.patchValue({
      schedule_type: schedule.schedule_type,
      next_due: schedule.next_due,
      last_done: schedule.last_done,
      frequency: schedule.frequency,
      notes: schedule.notes,
      status: schedule.status
    });
    setTimeout(() => {
      this.initializeDatePickers();
    }, 100);
  }
  deleteMaintenanceSchedule(schedule) {
    if (confirm("Are you sure you want to delete this maintenance schedule?")) {
      this.assetService.deleteMaintenanceSchedule(this.asset.id, schedule.id).pipe(takeUntil(this.destroy$)).subscribe({
        next: (response) => {
          if (response.success) {
            this.loadMaintenanceSchedules();
          }
        },
        error: (error) => {
          console.error("Error deleting maintenance schedule:", error);
        }
      });
    }
  }
  saveMaintenanceSchedule() {
    if (this.maintenanceForm.valid && this.asset) {
      this.saveMaintenanceLoading = true;
      const formData = this.maintenanceForm.value;
      if (this.selectedSchedule) {
        this.assetService.updateMaintenanceSchedule(this.asset.id, this.selectedSchedule.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.loadMaintenanceSchedules();
              this.closeMaintenanceModals();
            }
          },
          error: (error) => {
            this.saveMaintenanceLoading = false;
            console.error("Error updating maintenance schedule:", error);
          }
        }).add(() => {
          this.saveMaintenanceLoading = false;
        });
      } else {
        this.assetService.addMaintenanceSchedule(this.asset.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.loadMaintenanceSchedules();
              this.closeMaintenanceModals();
            }
          },
          error: (error) => {
            this.saveMaintenanceLoading = false;
            console.error("Error adding maintenance schedule:", error);
          }
        }).add(() => {
          this.saveMaintenanceLoading = false;
        });
      }
    }
  }
  closeMaintenanceModals() {
    this.showAddMaintenanceModal = false;
    this.showEditMaintenanceModal = false;
    this.selectedSchedule = null;
    this.maintenanceForm.reset();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
  }
  initializeDatePickers() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        this.dateInputs.forEach((inputRef, index) => {
          if (inputRef?.nativeElement) {
            const instance = esm_default(inputRef.nativeElement, {
              dateFormat: "Y-m-d",
              allowInput: true,
              clickOpens: true,
              onChange: (selectedDates, dateStr) => {
                const controlName = inputRef.nativeElement.getAttribute("formControlName");
                if (controlName && this.maintenanceForm.get(controlName)) {
                  this.maintenanceForm.get(controlName).setValue(dateStr);
                }
              }
            });
            this.flatpickrInstances.push(instance);
          }
        });
      }
    }, 50);
  }
  getScheduleStatusColor(status) {
    const colors = {
      "Scheduled": "blue",
      "Overdue": "red",
      "Completed": "green",
      "In Progress": "yellow"
    };
    return colors[status] || "gray";
  }
  formatDate(date) {
    if (!date)
      return "Not set";
    return new Date(date).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  }
  // Helper methods for displaying asset data
  getAssetTypeName(typeId) {
    if (!typeId)
      return "Standard Asset";
    const typeMap = {
      "1": "Fixed Asset",
      "2": "Semi-Fixed Asset",
      "3": "Mobile Asset",
      "4": "Fleet Asset",
      "5": "IT Equipment"
    };
    return typeMap[typeId.toString()] || `Type ${typeId}`;
  }
  // Navigation methods
  navigateToPrevious() {
    console.log("Navigate to previous asset");
  }
  navigateToNext() {
    console.log("Navigate to next asset");
  }
  // Related assets methods
  loadRelatedAssets() {
    if (!this.asset?.id)
      return;
    this.relatedAssetsLoading = true;
    this.relatedAssetsError = "";
    this.assetService.getRelatedAssets(this.asset.id, this.relatedAssetsParams).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.relatedAssets = response.data.related_assets || [];
        } else {
          this.relatedAssetsError = response.message || "Failed to load related assets";
        }
        this.relatedAssetsLoading = false;
      },
      error: (error) => {
        this.relatedAssetsError = error.error?.message || "An error occurred while loading related assets";
        this.relatedAssetsLoading = false;
      }
    });
  }
  loadDepreciationChart() {
    if (!this.asset?.id)
      return;
    this.depreciationChartLoading = true;
    this.depreciationChartError = "";
    console.log("Loading depreciation chart for asset:", this.asset.id);
    this.assetService.getAssetDepreciationChart(this.asset.id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        console.log("Chart API Response:", response);
        if (response.success) {
          this.depreciationChartData = response.data;
          console.log("Chart data set:", this.depreciationChartData);
          this.createDepreciationChart();
        } else {
          this.depreciationChartError = response.message || "Failed to load depreciation chart data";
          console.log("API returned error, using mock data");
          this.createDepreciationChartWithMockData();
        }
        this.depreciationChartLoading = false;
      },
      error: (error) => {
        console.error("Chart API Error:", error);
        this.depreciationChartError = error.error?.message || "An error occurred while loading depreciation chart data";
        this.depreciationChartLoading = false;
        this.createDepreciationChartWithMockData();
      }
    });
  }
  createDepreciationChart() {
    console.log("Creating depreciation chart...");
    if (this.depreciationChart) {
      console.log("Destroying existing chart");
      this.depreciationChart.destroy();
    }
    setTimeout(() => {
      const ctx = document.getElementById("depreciationChart");
      console.log("Canvas element:", ctx);
      if (!ctx) {
        console.error("Depreciation chart canvas not found");
        return;
      }
      const chartData = this.processChartData(this.depreciationChartData) || this.generateMockDepreciationData();
      console.log("Chart data to use:", chartData);
      try {
        this.depreciationChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                label: "Asset Value",
                data: chartData.values,
                borderColor: "#3B82F6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: "Accumulated Depreciation",
                data: chartData.depreciation,
                borderColor: "#EF4444",
                backgroundColor: "rgba(239, 68, 68, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: "Asset Depreciation Over Time",
                font: {
                  size: 16,
                  weight: "bold"
                }
              },
              legend: {
                display: true,
                position: "top"
              },
              tooltip: {
                mode: "index",
                intersect: false,
                callbacks: {
                  label: (context) => {
                    const label = context.dataset.label || "";
                    const value = context.parsed.y;
                    return `${label}: $${value.toLocaleString()}`;
                  }
                }
              }
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Month"
                }
              },
              y: {
                title: {
                  display: true,
                  text: "Value ($)"
                },
                beginAtZero: true,
                ticks: {
                  callback: (value) => `$${Number(value).toLocaleString()}`
                }
              }
            },
            interaction: {
              mode: "nearest",
              axis: "x",
              intersect: false
            }
          }
        });
        console.log("Chart created successfully");
        this.cdr.detectChanges();
      } catch (error) {
        console.error("Error creating chart:", error);
      }
    }, 100);
  }
  processChartData(apiData) {
    if (!apiData || !apiData.chart_data || !apiData.chart_data.has_data) {
      return null;
    }
    const chartData = apiData.chart_data;
    const labels = chartData.depreciation_months.map((month) => `Month ${month}`);
    const values = chartData.depreciation_values.map((value) => parseFloat(value));
    const purchasePrice = parseFloat(apiData.asset.purchase_price);
    const depreciation = values.map((value) => purchasePrice - value);
    return {
      labels,
      values,
      depreciation
    };
  }
  createDepreciationChartWithMockData() {
    const mockData = this.generateMockDepreciationData();
    this.depreciationChartData = mockData;
    this.createDepreciationChart();
  }
  generateMockDepreciationData() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 1e4;
    const usefulLife = parseFloat(this.asset?.depreciation) || 10;
    const depreciationLife = this.asset?.depreciation_life || 10;
    const labels = [];
    const values = [];
    const depreciation = [];
    const totalPeriods = depreciationLife || usefulLife;
    for (let month = 1; month <= totalPeriods; month++) {
      labels.push(`Month ${month}`);
      const monthlyDepreciation = purchasePrice / totalPeriods;
      const totalDepreciation = monthlyDepreciation * (month - 1);
      const currentValue = Math.max(0, purchasePrice - totalDepreciation);
      values.push(currentValue);
      depreciation.push(totalDepreciation);
    }
    return {
      labels,
      values,
      depreciation
    };
  }
  onRelatedFilterChange(filterType) {
    this.selectedRelatedFilter = filterType;
    this.relatedAssetsParams["type"] = filterType;
    this.loadRelatedAssets();
  }
  getRelatedFilterDisplayName(filterType) {
    const filterMap = {
      "all": "All Related",
      "category": "Same Category",
      "location": "Same Location",
      "department": "Same Department",
      "manufacturer": "Same Manufacturer",
      "parent": "Same Parent",
      "children": "Child Assets",
      "siblings": "Sibling Assets",
      "similar": "Similar Assets"
    };
    return filterMap[filterType] || filterType;
  }
  getRelatedAssetStatusColor(status) {
    if (status?.color) {
      return `bg-${this.getColorFromHex(status.color)}-100 text-${this.getColorFromHex(status.color)}-700`;
    }
    const statusName = status?.name || status;
    const colors = {
      "Active": "bg-green-100 text-green-700",
      "Inactive": "bg-gray-100 text-gray-700",
      "Maintenance": "bg-orange-100 text-orange-700",
      "Retired": "bg-red-100 text-red-700"
    };
    return colors[statusName] || "bg-gray-100 text-gray-700";
  }
  getColorFromHex(hex) {
    const colorMap = {
      "#10B981": "green",
      "#EF4444": "red",
      "#F59E0B": "yellow",
      "#3B82F6": "blue",
      "#8B5CF6": "purple",
      "#F97316": "orange",
      "#6B7280": "gray"
    };
    return colorMap[hex] || "gray";
  }
  navigateToRelatedAsset(assetId) {
    this.router.navigate(["/assets", assetId]);
  }
  // Activity timeline methods
  loadActivityHistory() {
    if (!this.asset?.id)
      return;
    this.activityLoading = true;
    this.activityError = "";
    const params = {
      page: 1,
      per_page: 5,
      sort_by: "created_at",
      sort_dir: "desc"
    };
    this.assetService.getActivityHistory(this.asset.id, params).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.activities = response.data.data || [];
        } else {
          this.activityError = response.message || "Failed to load activity history";
        }
        this.activityLoading = false;
      },
      error: (error) => {
        this.activityError = error.error?.message || "An error occurred while loading activity history";
        this.activityLoading = false;
      }
    });
  }
  // Performance tracking methods
  loadPerformanceMetrics() {
    console.log("Load performance metrics");
  }
  // Health & Performance Dashboard Methods
  refreshHealthMetrics() {
    this.loadPerformanceMetrics();
    console.log("Refreshing health metrics");
  }
  refreshDepreciationChart() {
    console.log("Refreshing depreciation chart...");
    this.loadDepreciationChart();
  }
  // Method to manually create chart (for debugging)
  forceCreateChart() {
    console.log("Force creating chart...");
    this.createDepreciationChart();
  }
  // Health & Performance Chart Methods
  loadHealthPerformanceChart() {
    if (!this.asset?.id) {
      console.log("No asset ID available for health performance chart");
      return;
    }
    this.healthPerformanceChartLoading = true;
    this.healthPerformanceChartError = "";
    console.log("Loading health performance chart for asset:", this.asset.id);
    this.assetService.getAssetHealthPerformanceChart(this.asset.id, { months: 12 }).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        console.log("Health performance chart API response:", response);
        this.healthPerformanceChartLoading = false;
        if (response.success && response.data) {
          this.healthPerformanceChartData = response.data;
          setTimeout(() => {
            this.createHealthPerformanceChart();
          }, 100);
        } else {
          this.healthPerformanceChartError = "Failed to load health performance data";
          console.error("Health performance chart API error:", response);
        }
      },
      error: (error) => {
        console.error("Health performance chart API error:", error);
        this.healthPerformanceChartLoading = false;
        this.healthPerformanceChartError = "Failed to load health performance data";
      }
    });
  }
  createHealthPerformanceChart() {
    console.log("Creating health performance chart...");
    console.log("Health performance chart data:", this.healthPerformanceChartData);
    if (this.healthPerformanceChart) {
      this.healthPerformanceChart.destroy();
      this.healthPerformanceChart = null;
    }
    const canvas = document.getElementById("healthPerformanceChart");
    console.log("Canvas element:", canvas);
    if (!canvas) {
      console.error("Health performance chart canvas not found");
      return;
    }
    setTimeout(() => {
      try {
        console.log("Processing health performance data...");
        const chartData = this.processHealthPerformanceData(this.healthPerformanceChartData);
        console.log("Processed chart data:", chartData);
        const config = {
          type: "line",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                label: "Health Score",
                data: chartData.healthScores,
                borderColor: "#10B981",
                backgroundColor: "rgba(16, 185, 129, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#10B981",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6
              },
              {
                label: "Performance Score",
                data: chartData.performanceScores,
                borderColor: "#3B82F6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#3B82F6",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6
              },
              {
                label: "Maintenance Count",
                data: chartData.maintenanceCounts,
                borderColor: "#F59E0B",
                backgroundColor: "rgba(245, 158, 11, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#F59E0B",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6,
                yAxisID: "y1"
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
              mode: "index",
              intersect: false
            },
            plugins: {
              legend: {
                position: "top",
                labels: {
                  usePointStyle: true,
                  padding: 20,
                  font: {
                    size: 12
                  }
                }
              },
              tooltip: {
                backgroundColor: "rgba(0, 0, 0, 0.8)",
                titleColor: "#ffffff",
                bodyColor: "#ffffff",
                borderColor: "#374151",
                borderWidth: 1,
                cornerRadius: 8,
                displayColors: true,
                callbacks: {
                  label: function(context) {
                    const label = context.dataset.label || "";
                    const value = context.parsed.y;
                    if (label === "Maintenance Count") {
                      return `${label}: ${value} activities`;
                    }
                    return `${label}: ${value}%`;
                  }
                }
              }
            },
            scales: {
              x: {
                display: true,
                title: {
                  display: true,
                  text: "Month",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                grid: {
                  display: true,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              },
              y: {
                type: "linear",
                display: true,
                position: "left",
                title: {
                  display: true,
                  text: "Score (%)",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                min: 0,
                max: 100,
                grid: {
                  display: true,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              },
              y1: {
                type: "linear",
                display: true,
                position: "right",
                title: {
                  display: true,
                  text: "Maintenance Count",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                min: 0,
                grid: {
                  drawOnChartArea: false,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              }
            }
          }
        };
        this.healthPerformanceChart = new Chart(canvas, config);
        console.log("Health performance chart created successfully");
        this.cdr.detectChanges();
      } catch (error) {
        console.error("Error creating health performance chart:", error);
        setTimeout(() => {
          console.log("Retrying health performance chart creation...");
          this.createHealthPerformanceChart();
        }, 500);
      }
    }, 100);
  }
  processHealthPerformanceData(apiData) {
    if (!apiData?.chart_data) {
      console.log("No chart data available, using mock data");
      return this.generateMockHealthPerformanceData();
    }
    const chartData = apiData.chart_data;
    console.log("Processing health performance data:", chartData);
    const formattedLabels = (chartData.dates || []).map((dateStr) => {
      if (dateStr && dateStr.includes("-")) {
        const [year, month] = dateStr.split("-");
        const date = new Date(parseInt(year), parseInt(month) - 1);
        return date.toLocaleDateString("en-US", { month: "short", year: "2-digit" });
      }
      return dateStr;
    });
    return {
      labels: formattedLabels,
      healthScores: chartData.health_scores || [],
      performanceScores: chartData.performance_scores || [],
      maintenanceCounts: chartData.maintenance_counts || [],
      metrics: chartData.metrics || {}
    };
  }
  generateMockHealthPerformanceData() {
    const months = 12;
    const labels = [];
    const healthScores = [];
    const performanceScores = [];
    const maintenanceCounts = [];
    for (let i = 0; i < months; i++) {
      const date = /* @__PURE__ */ new Date();
      date.setMonth(date.getMonth() - (months - 1 - i));
      labels.push(date.toLocaleDateString("en-US", { month: "short", year: "2-digit" }));
      const baseHealth = 85;
      const decline = i * 2 + Math.random() * 5;
      healthScores.push(Math.max(60, Math.round(baseHealth - decline)));
      const basePerformance = 90;
      const variation = (Math.random() - 0.5) * 10;
      performanceScores.push(Math.max(75, Math.round(basePerformance + variation)));
      maintenanceCounts.push(Math.floor(Math.random() * 5) + 1);
    }
    return {
      labels,
      healthScores,
      performanceScores,
      maintenanceCounts,
      metrics: {
        average_health_score: Math.round(healthScores.reduce((a, b) => a + b, 0) / healthScores.length),
        average_performance_score: Math.round(performanceScores.reduce((a, b) => a + b, 0) / performanceScores.length),
        total_maintenance_count: maintenanceCounts.reduce((a, b) => a + b, 0),
        health_trend: healthScores[healthScores.length - 1] - healthScores[0],
        performance_trend: performanceScores[performanceScores.length - 1] - performanceScores[0]
      }
    };
  }
  refreshHealthPerformanceChart() {
    this.loadHealthPerformanceChart();
  }
  forceCreateHealthPerformanceChart() {
    console.log("Force creating health performance chart...");
    console.log("Current health performance chart data:", this.healthPerformanceChartData);
    if (!this.healthPerformanceChartData) {
      console.log("No data available, loading health performance chart...");
      this.loadHealthPerformanceChart();
      return;
    }
    this.createHealthPerformanceChart();
  }
  getHealthScoreColor(healthScore) {
    if (!healthScore)
      return "text-gray-400";
    if (healthScore >= 80)
      return "text-green-600";
    if (healthScore >= 60)
      return "text-yellow-600";
    if (healthScore >= 40)
      return "text-orange-600";
    return "text-red-600";
  }
  getHealthStatusColor(healthScore) {
    if (!healthScore)
      return "text-gray-600";
    if (healthScore >= 80)
      return "text-green-600";
    if (healthScore >= 60)
      return "text-yellow-600";
    if (healthScore >= 40)
      return "text-orange-600";
    return "text-red-600";
  }
  getHealthStatusText(healthScore) {
    if (!healthScore)
      return "Unknown";
    if (healthScore >= 80)
      return "Excellent";
    if (healthScore >= 60)
      return "Good";
    if (healthScore >= 40)
      return "Fair";
    return "Poor";
  }
  getAssetAge() {
    if (!this.asset?.purchase_date)
      return "Unknown";
    const purchaseDate = new Date(this.asset.purchase_date);
    const now = /* @__PURE__ */ new Date();
    const diffTime = Math.abs(now.getTime() - purchaseDate.getTime());
    const diffDays = Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
    if (diffDays < 365) {
      return `${Math.floor(diffDays / 30)} months`;
    } else {
      const years = Math.floor(diffDays / 365);
      return `${years} year${years > 1 ? "s" : ""}`;
    }
  }
  getUtilizationRate() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 95;
    if (healthScore >= 60)
      return 85;
    if (healthScore >= 40)
      return 70;
    return 50;
  }
  getUptimePercentage() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 99.5;
    if (healthScore >= 60)
      return 98;
    if (healthScore >= 40)
      return 95;
    return 90;
  }
  getMaintenanceFrequency() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Low";
    if (healthScore >= 60)
      return "Medium";
    if (healthScore >= 40)
      return "High";
    return "Very High";
  }
  getMaintenanceFrequencyPercentage() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 20;
    if (healthScore >= 60)
      return 40;
    if (healthScore >= 40)
      return 60;
    return 80;
  }
  getCostEfficiency() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    const currentValue = this.calculateCurrentValue();
    if (purchasePrice === 0)
      return 85;
    const efficiency = currentValue / purchasePrice * 100;
    return Math.min(Math.max(efficiency, 0), 100);
  }
  formatCurrency(amount) {
    return amount.toLocaleString("en-US", {
      minimumFractionDigits: 0,
      maximumFractionDigits: 2
    });
  }
  calculateCurrentValue() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    const depreciation = this.calculateDepreciation();
    return Math.round(Math.max(purchasePrice - depreciation, 0) * 100) / 100;
  }
  getROIColor(roi) {
    if (roi >= 0)
      return "text-green-600";
    return "text-red-600";
  }
  getPerformanceTrend() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Improving";
    if (healthScore >= 60)
      return "Stable";
    if (healthScore >= 40)
      return "Declining";
    return "Critical";
  }
  getCostEfficiencyTrend() {
    const efficiency = this.getCostEfficiency();
    if (efficiency >= 80)
      return "Optimal";
    if (efficiency >= 60)
      return "Good";
    if (efficiency >= 40)
      return "Fair";
    return "Poor";
  }
  getMaintenanceTrend() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Low";
    if (healthScore >= 60)
      return "Stable";
    if (healthScore >= 40)
      return "Increasing";
    return "High";
  }
  getTrendColor(trend) {
    switch (trend.toLowerCase()) {
      case "improving":
      case "optimal":
      case "low":
        return "text-green-600";
      case "stable":
      case "good":
        return "text-blue-600";
      case "declining":
      case "fair":
      case "increasing":
        return "text-yellow-600";
      case "critical":
      case "poor":
      case "high":
        return "text-red-600";
      default:
        return "text-gray-600";
    }
  }
  getTrendIcon(trend) {
    switch (trend.toLowerCase()) {
      case "improving":
      case "optimal":
        return "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6";
      case "declining":
      case "critical":
        return "M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6";
      case "stable":
      case "good":
      case "fair":
      case "low":
      case "increasing":
      case "high":
      default:
        return "M20 12H4";
    }
  }
  getFinancialAlerts() {
    const alerts = [];
    const healthScore = this.asset?.health_score || 0;
    const currentValue = this.calculateCurrentValue();
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    if (healthScore < 40) {
      alerts.push({
        message: "Asset health is critical - consider replacement",
        class: "bg-red-50 text-red-700"
      });
    }
    if (currentValue < purchasePrice * 0.3) {
      alerts.push({
        message: "Asset value has depreciated significantly",
        class: "bg-orange-50 text-orange-700"
      });
    }
    if (this.asset?.warranty === "None" || !this.asset?.warranty) {
      alerts.push({
        message: "No warranty coverage - maintenance costs may increase",
        class: "bg-yellow-50 text-yellow-700"
      });
    }
    return alerts;
  }
  getPredictiveAlerts() {
    const alerts = [];
    const healthScore = this.asset?.health_score || 0;
    const age = this.getAssetAge();
    if (healthScore < 60) {
      alerts.push({
        title: "Maintenance Alert",
        message: "Schedule preventive maintenance within 30 days",
        class: "bg-orange-50 text-orange-700"
      });
    }
    if (healthScore < 40) {
      alerts.push({
        title: "Critical Alert",
        message: "Asset requires immediate attention",
        class: "bg-red-50 text-red-700"
      });
    }
    if (age.includes("year") && parseInt(age) > 5) {
      alerts.push({
        title: "Age Alert",
        message: "Asset is aging - consider replacement planning",
        class: "bg-blue-50 text-blue-700"
      });
    }
    return alerts;
  }
  // Document management methods
  uploadDocument() {
    console.log("Upload document");
  }
  downloadDocument(documentId) {
    console.log("Download document:", documentId);
  }
  // Comparison methods
  compareWithSimilar() {
    console.log("Compare with similar assets");
  }
  // Deep linking methods
  scrollToSection(sectionId) {
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({ behavior: "smooth" });
    }
  }
  // Export methods
  exportFinancialData() {
    console.log("Export financial data");
  }
  exportMaintenanceHistory() {
    console.log("Export maintenance history");
  }
  // Predictive maintenance methods
  generateMaintenanceRecommendations() {
    console.log("Generate maintenance recommendations");
  }
  // Cost tracking methods
  addMaintenanceCost() {
    console.log("Add maintenance cost");
  }
  viewCostHistory() {
    console.log("View cost history");
  }
  getWarrantyStatus(warrantyDate) {
    if (!warrantyDate)
      return "No warranty";
    const today = /* @__PURE__ */ new Date();
    const warranty = new Date(warrantyDate);
    if (warranty < today) {
      return "Expired";
    } else {
      const daysLeft = Math.ceil((warranty.getTime() - today.getTime()) / (1e3 * 60 * 60 * 24));
      if (daysLeft <= 30) {
        return `Expires in ${daysLeft} days`;
      } else {
        return "Active";
      }
    }
  }
  getWarrantyStatusClass(warrantyDate) {
    const status = this.getWarrantyStatus(warrantyDate);
    if (status === "Expired")
      return "text-red-600 font-medium";
    if (status.includes("Expires in"))
      return "text-orange-600 font-medium";
    if (status === "Active")
      return "text-green-600 font-medium";
    return "text-gray-500";
  }
  // Image gallery methods
  selectImage(index) {
    if (this.asset.images && index >= 0 && index < this.asset.images.length) {
      this.currentImageIndex = index;
      this.selectedImageUrl = this.asset.images[index].image_url;
    }
  }
  previousImage() {
    if (this.asset.images && this.asset.images.length > 1) {
      const newIndex = this.currentImageIndex > 0 ? this.currentImageIndex - 1 : this.asset.images.length - 1;
      this.selectImage(newIndex);
    }
  }
  nextImage() {
    if (this.asset.images && this.asset.images.length > 1) {
      const newIndex = this.currentImageIndex < this.asset.images.length - 1 ? this.currentImageIndex + 1 : 0;
      this.selectImage(newIndex);
    }
  }
  // Copy to clipboard methods
  copyAssetId() {
    const assetId = this.asset?.asset_id || this.asset?.id;
    if (assetId) {
      navigator.clipboard.writeText(assetId.toString()).then(() => {
        console.log("Asset ID copied to clipboard");
      }).catch((err) => {
        console.error("Failed to copy asset ID:", err);
      });
    }
  }
  copySerialNumber() {
    if (this.asset?.serial_number) {
      navigator.clipboard.writeText(this.asset.serial_number).then(() => {
        console.log("Serial number copied to clipboard");
      }).catch((err) => {
        console.error("Failed to copy serial number:", err);
      });
    }
  }
  // Financial calculation methods
  calculateDepreciation() {
    if (!this.asset?.purchase_price)
      return 0;
    const currentValue = this.asset.current_value || this.asset.purchase_price;
    return Math.round((this.asset.purchase_price - currentValue) * 100) / 100;
  }
  calculateDepreciationRate() {
    const usefulLife = this.asset?.depreciation || 10;
    return Math.round(1 / usefulLife * 100);
  }
  // Asset Depreciation Chart Methods
  getMaxDepreciationValue() {
    return this.asset?.purchase_price || 1e4;
  }
  getDepreciationPath() {
    const maxValue = this.getMaxDepreciationValue();
    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : /* @__PURE__ */ new Date();
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const points = [];
    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    for (let i = 0; i <= 12; i++) {
      const days = totalDays * i / 12;
      const date = new Date(purchaseDate.getTime() + days * 24 * 60 * 60 * 1e3);
      const yearsElapsed = (date.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24 * 365.25);
      const annualDepreciation = maxValue / usefulLife;
      const totalDepreciation = Math.min(annualDepreciation * yearsElapsed, maxValue);
      const currentValue = Math.max(0, maxValue - totalDepreciation);
      const x = i / 12 * 100;
      const y = 100 - currentValue / maxValue * 100;
      points.push(`${x},${y}`);
    }
    return `M ${points.join(" L ")}`;
  }
  getCurrentPeriodX() {
    if (!this.asset?.purchase_date)
      return 0;
    const purchaseDate = new Date(this.asset.purchase_date);
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    const elapsedDays = (currentDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    return Math.min(100, Math.max(0, elapsedDays / totalDays * 100));
  }
  getCurrentPeriodY() {
    const currentValue = this.calculateCurrentValue();
    const maxValue = this.getMaxDepreciationValue();
    return 100 - currentValue / maxValue * 100;
  }
  getDepreciationDates() {
    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const dates = [];
    for (let i = 0; i <= 12; i++) {
      const days = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24) * i / 12;
      dates.push(new Date(purchaseDate.getTime() + days * 24 * 60 * 60 * 1e3));
    }
    return dates;
  }
  calculateAnnualDepreciation() {
    const maxValue = this.getMaxDepreciationValue();
    const usefulLife = 10;
    return maxValue / usefulLife;
  }
  calculateRemainingYears() {
    if (!this.asset?.purchase_date)
      return 10;
    const purchaseDate = new Date(this.asset.purchase_date);
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const yearsElapsed = (currentDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24 * 365.25);
    return Math.round(Math.max(0, usefulLife - yearsElapsed) * 100) / 100;
  }
  calculateTotalCostOfOwnership() {
    const purchasePrice = this.asset?.purchase_price || 0;
    const maintenanceCost = this.asset?.total_maintenance_cost || 0;
    const operatingCost = this.asset?.operating_cost || 0;
    return purchasePrice + maintenanceCost + operatingCost;
  }
  calculateROI() {
    const totalCost = this.calculateTotalCostOfOwnership();
    const currentValue = this.asset?.current_value || this.asset?.purchase_price || 0;
    if (totalCost === 0)
      return 0;
    return Math.round((currentValue - totalCost) / totalCost * 100);
  }
  // Quick action methods
  createWorkOrder() {
    console.log("Create work order for asset:", this.asset?.id);
  }
  transferAsset() {
    this.showTransferModal = true;
  }
  onTransferComplete(response) {
    console.log("Transfer completed:", response);
    if (this.asset?.id) {
      this.loadAsset(this.asset.id.toString());
    }
  }
  onTransferModalClose() {
    this.showTransferModal = false;
  }
  duplicateAsset() {
    if (this.asset) {
      this.router.navigate(["/assets/create"], {
        queryParams: {
          duplicate: true,
          sourceId: this.asset.id
        }
      });
    }
  }
  onImageError(event) {
    console.warn("Asset image failed to load:", event.target.src);
    event.target.onerror = null;
    event.target.src = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=";
  }
  onCategoryIconError(event, category) {
    if (category) {
      category.iconError = true;
    }
  }
  downloadQRCode() {
    if (this.qrCodeDataUrl) {
      const link = document.createElement("a");
      link.href = this.qrCodeDataUrl;
      link.download = `asset-${this.asset.id}-qr.png`;
      link.click();
    } else if (this.asset?.qr_code_url) {
      const link = document.createElement("a");
      link.href = this.asset.qr_code_url;
      link.download = `asset-${this.asset.id}-qr.png`;
      link.click();
    } else {
      this.generateQRCode();
    }
  }
  downloadBarcode() {
    if (this.asset?.barcode_url) {
      const link = document.createElement("a");
      link.href = this.asset.barcode_url;
      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;
      link.click();
    } else if (this.barcodeDataUrl) {
      const link = document.createElement("a");
      link.href = this.barcodeDataUrl;
      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;
      link.click();
    } else {
      this.generateBarcode();
    }
  }
  generateQRCode() {
    if (!this.asset)
      return;
    this.qrCodeLoading = true;
    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
    QRCode2.toDataURL(publicUrl, {
      width: 300,
      margin: 2,
      color: {
        dark: "#000000",
        light: "#FFFFFF"
      }
    }).then((dataUrl) => {
      this.qrCodeDataUrl = dataUrl;
      this.qrCodeLoading = false;
    }).catch((error) => {
      console.error("Error generating QR code:", error);
      this.qrCodeLoading = false;
    });
  }
  generateBarcode() {
    if (!this.asset?.asset_id)
      return;
    this.barcodeLoading = true;
    const assetId = this.asset.asset_id;
    const barcodeUrl = `https://quickchart.io/barcode?c=${encodeURIComponent(assetId)}&chs=300x100&chld=L%7C0&choe=UTF-8`;
    fetch(barcodeUrl).then((response) => response.blob()).then((blob) => {
      const reader = new FileReader();
      reader.onloadend = () => {
        this.barcodeDataUrl = reader.result;
        this.barcodeLoading = false;
      };
      reader.readAsDataURL(blob);
    }).catch((error) => {
      console.error("Error generating barcode:", error);
      this.barcodeLoading = false;
    });
  }
  copyQRCodeUrl() {
    if (this.asset?.qr_code_url) {
      navigator.clipboard.writeText(this.asset.qr_code_url).then(() => {
        console.log("QR code URL copied to clipboard");
      });
    }
  }
  copyPublicUrl() {
    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
    navigator.clipboard.writeText(publicUrl).then(() => {
      console.log("Public URL copied to clipboard");
    });
  }
  get windowLocation() {
    return window.location.origin;
  }
  showFullActivityHistory() {
    this.loadFullActivityHistory();
    this.showActivityHistoryModal = true;
  }
  closeActivityHistoryModal() {
    this.showActivityHistoryModal = false;
    this.activityHistoryParams = {
      page: 1,
      per_page: 15,
      sort_by: "created_at",
      sort_dir: "desc",
      search: "",
      action: "",
      user_id: "",
      date_from: "",
      date_to: ""
    };
    this.activityHistoryPagination = null;
  }
  // Activity history pagination and filtering methods
  onActivityHistoryPageChange(page) {
    this.activityHistoryParams["page"] = page;
    this.loadFullActivityHistory();
  }
  onActivityHistorySearch(search) {
    this.activityHistoryParams["search"] = search;
    this.activityHistoryParams["page"] = 1;
    this.loadFullActivityHistory();
  }
  onActivityHistoryFilter(filterType, value) {
    this.activityHistoryParams[filterType] = value;
    this.activityHistoryParams["page"] = 1;
    this.loadFullActivityHistory();
  }
  onActivityHistorySort(sortBy, sortDir) {
    this.activityHistoryParams["sort_by"] = sortBy;
    this.activityHistoryParams["sort_dir"] = sortDir;
    this.loadFullActivityHistory();
  }
  clearActivityHistoryFilters() {
    this.activityHistoryParams = {
      page: 1,
      per_page: 15,
      sort_by: "created_at",
      sort_dir: "desc",
      search: "",
      action: "",
      user_id: "",
      date_from: "",
      date_to: ""
    };
    this.loadFullActivityHistory();
  }
  loadFullActivityHistory() {
    if (!this.asset?.id)
      return;
    this.activityHistoryLoading = true;
    this.activityHistoryError = "";
    this.assetService.getActivityHistory(this.asset.id, this.activityHistoryParams).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.fullActivityHistory = response.data.data || [];
          this.activityHistoryPagination = response.data;
        } else {
          this.activityHistoryError = response.message || "Failed to load full activity history";
        }
        this.activityHistoryLoading = false;
      },
      error: (error) => {
        this.activityHistoryError = error.error?.message || "An error occurred while loading full activity history";
        this.activityHistoryLoading = false;
      }
    });
  }
  viewFullImage(imageUrl) {
    window.open(imageUrl, "_blank");
  }
  // Helper methods for activity history data formatting
  formatActivityBeforeAfter(before, after) {
    if (!before && !after)
      return "";
    let changes = [];
    if (before && after) {
      const beforeKeys = Object.keys(before);
      const afterKeys = Object.keys(after);
      for (const key of afterKeys) {
        if (before[key] !== after[key]) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} \u2192 ${this.formatFieldValue(after[key])}`);
          }
        }
      }
    } else if (after) {
      const keyFields = ["name", "type", "status", "location_id", "department_id", "purchase_price"];
      for (const key of keyFields) {
        if (after[key] !== void 0 && after[key] !== null) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(after[key])}`);
          }
        }
      }
    } else if (before) {
      const keyFields = ["name", "type", "status"];
      for (const key of keyFields) {
        if (before[key] !== void 0 && before[key] !== null) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} (deleted)`);
          }
        }
      }
    }
    return changes.length > 0 ? changes.join(", ") : "";
  }
  getFieldDisplayName(fieldKey) {
    const fieldMap = {
      "name": "Asset Name",
      "type": "Type",
      "model": "Model",
      "status": "Status",
      "description": "Description",
      "location_id": "Location",
      "department_id": "Department",
      "purchase_price": "Purchase Price",
      "purchase_date": "Purchase Date",
      "serial_number": "Serial Number",
      "asset_id": "Asset ID",
      "warranty": "Warranty",
      "insurance": "Insurance",
      "depreciation": "Depreciation",
      "health_score": "Health Score",
      "manufacturer": "Manufacturer",
      "category_id": "Category"
    };
    return fieldMap[fieldKey] || fieldKey.replace(/_/g, " ").replace(/\b\w/g, (l) => l.toUpperCase());
  }
  formatFieldValue(value) {
    if (value === null || value === void 0)
      return "N/A";
    if (typeof value === "boolean")
      return value ? "Yes" : "No";
    if (typeof value === "number") {
      if (value.toString().includes(".")) {
        return `$${value.toFixed(2)}`;
      }
      return value.toString();
    }
    if (typeof value === "string") {
      if (value.match(/^\d{4}-\d{2}-\d{2}/)) {
        return new Date(value).toLocaleDateString();
      }
      return value;
    }
    return JSON.stringify(value);
  }
  getUserDisplayName(user) {
    if (!user)
      return "System";
    if (user.name)
      return user.name;
    if (user.email)
      return user.email.split("@")[0];
    return "Unknown User";
  }
  getActivityIcon(action) {
    const iconMap = {
      "created": "M12 6v6m0 0v6m0-6h6m-6 0H6",
      "updated": "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
      "deleted": "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
      "transferred": "M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",
      "maintenance": "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",
      "imported": "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"
    };
    return iconMap[action] || "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";
  }
  getActivityColor(action) {
    const colorMap = {
      "created": "bg-green-100 text-green-600",
      "updated": "bg-blue-100 text-blue-600",
      "deleted": "bg-red-100 text-red-600",
      "transferred": "bg-purple-100 text-purple-600",
      "maintenance": "bg-orange-100 text-orange-600",
      "imported": "bg-indigo-100 text-indigo-600"
    };
    return colorMap[action] || "bg-gray-100 text-gray-600";
  }
  sharePublicUrl() {
    if (this.asset?.id) {
      const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
      navigator.clipboard.writeText(publicUrl).then(() => {
        console.log("Public URL copied to clipboard:", publicUrl);
        alert("Public URL copied to clipboard!");
      }).catch((err) => {
        console.error("Failed to copy URL:", err);
        alert("Failed to copy URL to clipboard");
      });
    }
  }
  static \u0275fac = function AssetViewComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetViewComponent)(\u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Location), \u0275\u0275directiveInject(PdfExportService), \u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(ChangeDetectorRef));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetViewComponent, selectors: [["app-asset-view"]], viewQuery: function AssetViewComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c03, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, decls: 34, vars: 10, consts: [["noImages", ""], ["dateInput", ""], [1, "min-h-screen", "bg-gray-50", "asset-view-container"], [1, "bg-white", "border-b", "border-gray-200", "px-6", "py-4", "print-hide"], [1, "flex", "items-center", "justify-between"], [1, "flex", "items-center", "space-x-4"], ["aria-label", "Breadcrumb", 1, "flex"], [1, "flex", "items-center", "space-x-2"], ["routerLink", "/assets/list", 1, "text-gray-500", "hover:text-gray-700", "transition-colors"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "mx-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 5l7 7-7 7"], [1, "text-gray-900", "font-medium"], [1, "flex", "items-center", "space-x-3"], [1, "flex", "items-center", "space-x-2", "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"], [1, "relative", 3, "click"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-gray-600", "hover:bg-gray-100", "rounded-lg", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["cx", "12", "cy", "5", "r", "2"], ["cx", "12", "cy", "12", "r", "2"], ["cx", "12", "cy", "19", "r", "2"], ["class", "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50", 4, "ngIf"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], ["class", "px-6 py-6", 4, "ngIf"], ["class", "fixed inset-0 bg-[#00000085] bg-opacity-50 flex items-center justify-center z-50 p-4", 4, "ngIf"], ["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [3, "closeModal", "transferComplete", "isOpen", "asset"], [1, "absolute", "right-0", "mt-2", "w-48", "bg-white", "rounded-lg", "shadow-lg", "border", "border-gray-200", "py-2", "z-50"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"], [1, "text-gray-700"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"], [1, "border-t", "border-gray-100", "my-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "px-6", "py-6"], [1, "bg-white", "rounded-lg", "p-6", "mb-6", "shadow-sm", "border", "border-gray-200"], [1, "flex", "items-start", "justify-between", "mb-4"], [1, "w-16", "h-16", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], ["class", "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium", 3, "background-color", "color", 4, "ngIf"], [1, "text-gray-500"], [1, "text-right"], [1, "flex", "items-center", "space-x-2", "mb-2"], [1, "flex", "items-center", "space-x-1", "px-2", "py-1", "text-sm", "font-mono", "bg-gray-100", "rounded", "hover:bg-gray-200", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "grid", "grid-cols-1", "lg:grid-cols-3", "gap-6"], [1, "lg:col-span-2", "space-y-6"], [1, "bg-white", "rounded-lg", "p-6", "shadow-sm", "border", "border-gray-200"], [1, "flex", "items-center", "space-x-2", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "text-lg", "font-semibold", "text-gray-900"], [4, "ngIf", "ngIfElse"], [1, "flex", "items-center", "space-x-2", "mb-6"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "space-y-6"], [1, "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "relative"], [1, "text-gray-600", "leading-relaxed"], ["class", "text-blue-600 hover:text-blue-700 text-sm font-medium mt-2", 3, "click", 4, "ngIf"], [1, "w-8", "h-8", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], [1, "text-gray-900", "font-mono", "text-lg"], ["title", "Copy Asset ID", 1, "p-1", "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], ["class", "text-blue-600 hover:underline cursor-pointer", 3, "routerLink", 4, "ngIf"], [1, "text-gray-900"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"], [4, "ngIf"], [1, "bg-gray-50", "rounded-lg", "p-4", "flex", "flex-col", "items-center"], [1, "w-32", "h-32", "bg-white", "rounded-lg", "p-2", "shadow-sm", "border", "border-gray-200", "flex", "items-center", "justify-center"], ["alt", "QR Code", "class", "w-full h-full object-contain", 3, "src", 4, "ngIf"], ["class", "flex items-center justify-center", 4, "ngIf"], ["class", "text-center", 4, "ngIf"], ["class", "text-center text-gray-400", 4, "ngIf"], [1, "mt-3", "flex", "space-x-2"], ["class", "text-sm text-blue-600 hover:text-blue-700 font-medium", 3, "click", 4, "ngIf"], ["class", "text-sm text-green-600 hover:text-green-700 font-medium", 3, "click", 4, "ngIf"], [1, "mt-2", "text-xs", "text-gray-500", "text-center"], [1, "w-full", "bg-white", "rounded-lg", "p-2", "shadow-sm", "border", "border-gray-200", "flex", "items-center", "justify-center"], ["alt", "Barcode", "class", "w-full h-20 object-contain", 3, "src", 4, "ngIf"], ["class", "flex items-center justify-center py-4", 4, "ngIf"], ["class", "text-center py-4", 4, "ngIf"], ["class", "text-center text-gray-400 py-4", 4, "ngIf"], ["class", "mt-1 font-mono", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], [1, "space-y-4"], [1, "text-sm", "font-medium", "text-gray-700", "mb-1"], ["class", "mt-6 pt-6 border-t border-gray-200", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "mb-6"], [1, "w-8", "h-8", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-green-600", "hover:bg-green-50", "rounded-lg", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-blue-600", "hover:bg-blue-50", "rounded-lg", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], ["class", "grid grid-cols-1 md:grid-cols-3 gap-4 mb-6", 4, "ngIf"], [1, "text-sm", "font-medium", "text-gray-700"], ["class", "flex items-center justify-center h-64 bg-gray-50 rounded-lg", 4, "ngIf"], ["class", "flex items-center justify-center h-64 bg-red-50 rounded-lg", 4, "ngIf"], ["class", "relative h-64 bg-white border border-gray-200 rounded-lg p-4", 4, "ngIf"], ["class", "text-center text-xs text-gray-500", 4, "ngIf"], ["class", "grid grid-cols-1 md:grid-cols-2 gap-4 mt-4", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "w-8", "h-8", "bg-orange-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-orange-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-orange-600", "hover:bg-orange-50", "rounded-lg", "transition-colors", 3, "click"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4", "mb-6"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "text-sm", "text-gray-600", "mb-1"], [1, "text-2xl", "font-bold", "text-gray-900"], [1, "bg-blue-50", "rounded-lg", "p-4"], [1, "text-2xl", "font-bold", "text-blue-600"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-4", "mt-4"], [1, "text-center", "p-3", "bg-gray-50", "rounded-lg"], [1, "text-sm", "text-gray-600"], ["class", "flex items-center justify-center py-8", 4, "ngIf"], ["class", "text-center py-8", 4, "ngIf"], ["class", "space-y-4", 4, "ngIf"], [1, "text-center", "mt-6"], [1, "text-blue-600", "hover:text-blue-700", "text-sm", "font-medium", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"], [1, "flex", "items-center", "space-x-2", "px-3", "py-1", "text-sm", "text-gray-600", "hover:text-gray-800", "border", "border-gray-300", "rounded-lg", "hover:bg-gray-50", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "space-y-3", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "grid", "grid-cols-1", "gap-4", "mb-6"], [1, "bg-green-50", "rounded-lg", "p-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], [1, "text-sm", "text-green-600"], [1, "font-semibold", "text-green-800"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], [1, "text-sm", "text-blue-600"], [1, "font-semibold", "text-blue-800"], [1, "bg-purple-50", "rounded-lg", "p-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], [1, "text-sm", "text-purple-600"], [1, "font-semibold", "text-purple-800"], ["class", "text-center py-6", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "space-y-2"], [1, "text-xs", "text-gray-600"], [1, "text-sm", "text-gray-900"], [1, "bg-orange-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "space-x-2", "mt-1"], ["class", "text-xs text-gray-500", 4, "ngIf"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-sm", "font-medium"], [1, "mb-4"], [1, "relative", "bg-gray-100", "rounded-lg", "overflow-hidden", 2, "height", "400px"], [1, "w-full", "h-full", "object-contain", "bg-white", "cursor-pointer", 3, "click", "error", "src", "alt"], ["class", "absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all", 3, "click", 4, "ngIf"], ["class", "absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all", 3, "click", 4, "ngIf"], [1, "absolute", "bottom-4", "right-4", "bg-black", "bg-opacity-50", "text-white", "px-3", "py-1", "rounded-full", "text-sm"], ["class", "grid grid-cols-6 gap-2", 4, "ngIf"], [1, "absolute", "left-2", "top-1/2", "transform", "-translate-y-1/2", "w-10", "h-10", "bg-black", "bg-opacity-50", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-70", "transition-all", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "w-10", "h-10", "bg-black", "bg-opacity-50", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-70", "transition-all", 3, "click"], [1, "grid", "grid-cols-6", "gap-2"], ["class", "relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all", 3, "border-blue-500", "border-gray-200", "click", 4, "ngFor", "ngForOf"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "cursor-pointer", "border-2", "transition-all", 3, "click"], [1, "w-full", "h-full", "object-cover", 3, "error", "src", "alt"], [1, "text-center", "py-12", "bg-gray-50", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-gray-400", "mx-auto", "mb-4"], [1, "text-gray-600"], [1, "text-blue-600", "hover:text-blue-700", "text-sm", "font-medium", "mt-2", 3, "click"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "inline-flex", "items-center", "px-2", "py-1", "rounded-full", "text-sm", "font-medium"], [1, "text-blue-600", "hover:underline", "cursor-pointer", 3, "routerLink"], ["alt", "QR Code", 1, "w-full", "h-full", "object-contain", 3, "src"], [1, "flex", "items-center", "justify-center"], [1, "animate-spin", "rounded-full", "h-8", "w-8", "border-b-2", "border-blue-600"], ["fill", "currentColor", "viewBox", "0 0 24 24", 1, "w-24", "h-24", "text-gray-400"], ["d", "M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"], [1, "text-xs", "text-gray-500", "mt-2", "font-mono"], [1, "text-center", "text-gray-400"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-12", "h-12", "mx-auto"], [1, "text-xs", "mt-2"], [1, "text-sm", "text-blue-600", "hover:text-blue-700", "font-medium", 3, "click"], [1, "text-sm", "text-green-600", "hover:text-green-700", "font-medium", 3, "click"], ["alt", "Barcode", 1, "w-full", "h-20", "object-contain", 3, "src"], [1, "flex", "items-center", "justify-center", "py-4"], [1, "text-center", "py-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-gray-400", "mx-auto"], [1, "text-center", "text-gray-400", "py-4"], [1, "mt-1", "font-mono"], [1, "text-xs", "text-gray-500"], [1, "text-gray-900", "font-mono"], [1, "p-1", "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click"], [1, "mt-6", "pt-6", "border-t", "border-gray-200"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4"], ["class", "flex justify-between", 4, "ngFor", "ngForOf"], [1, "flex", "justify-between"], [1, "text-sm", "text-gray-900", "font-medium"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-4", "mb-6"], [1, "text-2xl", "font-bold", "text-green-600"], [1, "text-2xl", "font-bold", "text-orange-600"], [1, "flex", "items-center", "justify-center", "h-64", "bg-gray-50", "rounded-lg"], [1, "inline-flex", "items-center", "justify-center", "w-8", "h-8", "bg-green-100", "rounded-full", "mb-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-4", "h-4", "text-green-600"], [1, "flex", "items-center", "justify-center", "h-64", "bg-red-50", "rounded-lg"], [1, "text-red-600", "text-sm", "mb-2"], [1, "relative", "h-64", "bg-white", "border", "border-gray-200", "rounded-lg", "p-4"], ["id", "healthPerformanceChart", "width", "400", "height", "200"], [1, "text-center", "text-xs", "text-gray-500"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4", "mt-4"], [1, "text-lg", "font-semibold", 3, "ngClass"], [1, "inline-flex", "items-center", "justify-center", "w-8", "h-8", "bg-blue-100", "rounded-full", "mb-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-4", "h-4", "text-blue-600"], ["id", "depreciationChart", "width", "400", "height", "200"], [1, "flex", "items-center", "justify-center", "py-8"], [1, "text-center", "py-8"], ["class", "flex items-start space-x-3", 4, "ngFor", "ngForOf"], [1, "flex", "items-start", "space-x-3"], [1, "w-8", "h-8", "rounded-full", "flex", "items-center", "justify-center", "flex-shrink-0", 3, "ngClass"], [1, "flex-1"], [1, "flex", "items-center", "justify-between", "mb-1"], [1, "font-medium", "text-gray-900", "capitalize"], ["class", "text-xs text-gray-500 bg-gray-50 p-2 rounded border", 4, "ngIf"], ["class", "text-xs text-gray-500 mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "bg-gray-50", "p-2", "rounded", "border"], [1, "text-xs", "text-gray-500", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-12", "h-12", "text-gray-400", "mx-auto", "mb-4"], ["class", "w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors", 3, "text-blue-600", "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-full", "flex", "items-center", "px-4", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], [1, "text-sm"], [1, "space-y-3"], ["class", "flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer", 3, "click", 4, "ngFor", "ngForOf"], [1, "flex", "items-center", "space-x-3", "p-3", "bg-gray-50", "rounded-lg", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], [1, "w-12", "h-12", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center", "flex-shrink-0"], ["class", "w-full h-full object-cover rounded-lg", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-6 h-6 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "flex-1", "min-w-0"], [1, "font-medium", "text-gray-900", "truncate"], [1, "flex", "items-center", "space-x-2", "mb-1"], [1, "text-gray-400"], [1, "text-xs", "px-2", "py-1", "rounded-full", "font-medium", 3, "ngClass"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "flex-shrink-0"], [1, "w-full", "h-full", "object-cover", "rounded-lg", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], [1, "text-center", "py-6"], [1, "inline-flex", "items-center", "justify-center", "w-6", "h-6", "bg-blue-100", "rounded-full"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-3", "h-3", "text-blue-600"], ["class", "border border-gray-200 rounded-lg p-3", 4, "ngFor", "ngForOf"], [1, "border", "border-gray-200", "rounded-lg", "p-3"], [1, "flex", "items-center", "justify-between", "mb-2"], [1, "font-medium", "text-gray-900", "text-sm"], [1, "flex", "items-center", "space-x-1"], [1, "p-1", "text-gray-400", "hover:text-blue-600", "transition-colors", 3, "click"], [1, "p-1", "text-gray-400", "hover:text-red-600", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"], [1, "space-y-1", "text-xs"], [1, "ml-1", "text-gray-900"], ["class", "mt-2 text-xs text-gray-600", 4, "ngIf"], [1, "mt-2", "text-xs", "text-gray-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-gray-400", "mx-auto", "mb-2"], [1, "text-sm", "font-medium", "text-gray-900", "mb-1"], [1, "text-xs", "text-gray-600", "mb-3"], [1, "px-3", "py-1", "bg-blue-600", "text-white", "rounded", "text-xs", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "fixed", "inset-0", "bg-[#00000085]", "bg-opacity-50", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-lg", "max-w-md", "w-full", "p-6", "shadow-lg"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [3, "ngSubmit", "formGroup"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["formControlName", "schedule_type", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", ""], ["value", "Preventive"], ["value", "Inspection"], ["value", "Calibration"], ["value", "Cleaning"], ["type", "text", "formControlName", "next_due", "placeholder", "Select date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["type", "text", "formControlName", "last_done", "placeholder", "Select date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["formControlName", "frequency", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", "Weekly"], ["value", "Monthly"], ["value", "Quarterly"], ["value", "Semi-Annual"], ["value", "Annual"], ["formControlName", "notes", "rows", "3", "placeholder", "Additional notes...", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], [1, "flex", "items-center", "justify-end", "space-x-3", "mt-6"], ["type", "button", 1, "bg-gray-200", "text-gray-700", "px-4", "py-2", "rounded-lg", "hover:bg-gray-300", "transition-colors", 3, "click"], ["type", "submit", 1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "disabled:opacity-50", "transition-colors", 3, "disabled"], [1, "border-t-transparent", "animate-spin", "inline-block", "w-5", "h-5", "border-2", "rounded-full", "border-white"], [1, "bg-white", "rounded-lg", "max-w-md", "w-full", "p-6"], ["formControlName", "status", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", "Scheduled"], ["value", "In Progress"], ["value", "Completed"], ["value", "Overdue"], ["type", "button", 1, "bg-gray-200", "px-4", "py-2", "rounded-lg", "hover:bg-gray-300", "transition-colors", 3, "click"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-lg", "max-w-4xl", "w-full", "max-h-[90vh]", "flex", "flex-col"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-gray-600"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "flex-1", "overflow-auto", "p-6"], [1, "mb-6", "space-y-4"], [1, "flex", "space-x-4"], ["type", "text", "placeholder", "Search activities...", 1, "w-full", "px-4", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "input"], [1, "px-4", "py-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], [1, "grid", "grid-cols-1", "md:grid-cols-4", "gap-4"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-1"], [1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "change"], ["value", "created"], ["value", "updated"], ["value", "deleted"], ["value", "transferred"], ["value", "maintenance"], ["value", "imported"], ["type", "date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "change"], ["value", "desc"], ["value", "asc"], ["class", "flex items-center justify-center py-12", 4, "ngIf"], ["class", "text-center py-12", 4, "ngIf"], ["class", "space-y-4 max-h-[60vh] overflow-y-auto", 4, "ngIf"], ["class", "mt-6 flex items-center justify-between", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "p-6", "border-t", "border-gray-200", "bg-gray-50"], [1, "px-4", "py-2", "bg-gray-600", "text-white", "rounded-lg", "hover:bg-gray-700", "transition-colors", 3, "click"], [1, "flex", "items-center", "justify-center", "py-12"], [1, "inline-flex", "items-center", "justify-center", "w-12", "h-12", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-6", "h-6", "text-blue-600"], [1, "text-center", "py-12"], [1, "text-red-600", "mb-4"], [1, "space-y-4", "max-h-[60vh]", "overflow-y-auto"], ["class", "flex items-start space-x-4 p-4 bg-gray-50 rounded-lg", 4, "ngFor", "ngForOf"], [1, "flex", "items-start", "space-x-4", "p-4", "bg-gray-50", "rounded-lg"], [1, "w-10", "h-10", "rounded-full", "flex", "items-center", "justify-center", "flex-shrink-0", 3, "ngClass"], [1, "font-semibold", "text-gray-900", "capitalize"], [1, "text-xs", "text-gray-500", "bg-white", "px-2", "py-1", "rounded-full"], [1, "text-sm", "text-gray-600", "mb-2"], ["class", "text-xs text-gray-500 bg-white p-3 rounded border", 4, "ngIf"], ["class", "text-xs text-gray-500 mt-2", 4, "ngIf"], [1, "text-xs", "text-gray-500", "bg-white", "p-3", "rounded", "border"], [1, "font-medium", "mb-1"], [1, "text-xs", "text-gray-500", "mt-2"], [1, "mt-6", "flex", "items-center", "justify-between"], [1, "flex", "space-x-2"], ["class", "px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors", 3, "click", 4, "ngIf"], [1, "px-3", "py-1", "text-sm", "border", "border-gray-300", "rounded", "hover:bg-gray-50", "transition-colors", 3, "click"]], template: function AssetViewComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "nav", 6)(5, "ol", 7)(6, "li")(7, "a", 8);
      \u0275\u0275text(8, "Assets");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(9, "li");
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(10, "svg", 9);
      \u0275\u0275element(11, "path", 10);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(12, "li", 11);
      \u0275\u0275text(13);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(14, "div", 12)(15, "button", 13);
      \u0275\u0275listener("click", function AssetViewComponent_Template_button_click_15_listener() {
        return ctx.editAsset();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(16, "svg", 14);
      \u0275\u0275element(17, "path", 15);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(18, "span");
      \u0275\u0275text(19, "Edit Asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(20, "div", 16);
      \u0275\u0275listener("click", function AssetViewComponent_Template_div_click_20_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(21, "button", 17);
      \u0275\u0275listener("click", function AssetViewComponent_Template_button_click_21_listener() {
        return ctx.showActionsDropdown = !ctx.showActionsDropdown;
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(22, "svg", 18);
      \u0275\u0275element(23, "circle", 19)(24, "circle", 20)(25, "circle", 21);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(26, AssetViewComponent_div_26_Template, 27, 0, "div", 22);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(27, AssetViewComponent_div_27_Template, 10, 0, "div", 23)(28, AssetViewComponent_div_28_Template, 11, 1, "div", 23)(29, AssetViewComponent_div_29_Template, 451, 129, "div", 24)(30, AssetViewComponent_div_30_Template, 60, 3, "div", 25)(31, AssetViewComponent_div_31_Template, 72, 3, "div", 25)(32, AssetViewComponent_div_32_Template, 62, 5, "div", 26);
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(33, "app-transfer-asset-modal", 27);
      \u0275\u0275listener("closeModal", function AssetViewComponent_Template_app_transfer_asset_modal_closeModal_33_listener() {
        return ctx.onTransferModalClose();
      })("transferComplete", function AssetViewComponent_Template_app_transfer_asset_modal_transferComplete_33_listener($event) {
        return ctx.onTransferComplete($event);
      });
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(13);
      \u0275\u0275textInterpolate((ctx.asset == null ? null : ctx.asset.name) || "Asset Details");
      \u0275\u0275advance(13);
      \u0275\u0275property("ngIf", ctx.showActionsDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.asset && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showAddMaintenanceModal);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showEditMaintenanceModal);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showActivityHistoryModal);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showTransferModal)("asset", ctx.asset);
    }
  }, dependencies: [CommonModule, NgClass, NgForOf, NgIf, CurrencyPipe, DatePipe, KeyValuePipe, RouterModule, RouterLink, ReactiveFormsModule, \u0275NgNoValidate, NgSelectOption, \u0275NgSelectMultipleOption, DefaultValueAccessor, SelectControlValueAccessor, NgControlStatus, NgControlStatusGroup, FormGroupDirective, FormControlName, TransferAssetModalComponent], styles: ["\n\n.asset-header[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f8fafc 0%,\n      #f1f5f9 100%);\n}\n.asset-image-container[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #dbeafe 0%,\n      #bfdbfe 100%);\n  border-radius: 0.5rem;\n  min-height: 16rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.info-card[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.info-card[_ngcontent-%COMP%]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.health-score-bar[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      90deg,\n      #10b981 0%,\n      #059669 100%);\n  transition: width 0.3s ease-in-out;\n}\n.chart-placeholder[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 0.5rem;\n}\n.chart-placeholder[_ngcontent-%COMP%]:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.ai-button[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.ai-button[_ngcontent-%COMP%]:hover {\n  transform: scale(1.02);\n}\n.ai-button[_ngcontent-%COMP%]:active {\n  transform: scale(0.98);\n}\n.action-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.action-button[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n}\n.status-badge[_ngcontent-%COMP%] {\n  font-weight: 600;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 9999px;\n}\n.section-icon[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.section-icon[_ngcontent-%COMP%]:hover {\n  transform: scale(1.1);\n}\n.empty-state[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 1rem;\n}\n.empty-state[_ngcontent-%COMP%]:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .grid-cols-2[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n  .lg\\:col-span-2[_ngcontent-%COMP%] {\n    grid-column: span 1;\n  }\n  .asset-header[_ngcontent-%COMP%] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  .action-buttons[_ngcontent-%COMP%] {\n    width: 100%;\n    justify-content: space-between;\n  }\n}\n@media print {\n  .bg-white.border-b[_ngcontent-%COMP%], \n   .flex.items-center.justify-between[_ngcontent-%COMP%], \n   .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]:has(button), \n   button[_ngcontent-%COMP%], \n   .relative[_ngcontent-%COMP%], \n   .dropdown[_ngcontent-%COMP%], \n   .modal[_ngcontent-%COMP%], \n   .fixed[_ngcontent-%COMP%], \n   nav[_ngcontent-%COMP%], \n   .breadcrumb[_ngcontent-%COMP%], \n   .actions-dropdown[_ngcontent-%COMP%], \n   .quick-actions[_ngcontent-%COMP%], \n   .print-hide[_ngcontent-%COMP%] {\n    display: none !important;\n  }\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%] {\n    border: 1px solid #ddd !important;\n    box-shadow: none !important;\n    margin-bottom: 20px !important;\n    page-break-inside: avoid;\n  }\n  .grid.grid-cols-1.lg\\\\[_ngcontent-%COMP%]:grid-cols-3 {\n    display: block !important;\n  }\n  .lg\\\\[_ngcontent-%COMP%]:col-span-2 {\n    width: 100% !important;\n  }\n  body[_ngcontent-%COMP%] {\n    margin: 0 !important;\n    padding: 20px !important;\n    background: white !important;\n  }\n  *[_ngcontent-%COMP%] {\n    color: black !important;\n    background: white !important;\n  }\n  .asset-image-container[_ngcontent-%COMP%] {\n    border: 1px solid #000 !important;\n    background: white !important;\n    max-width: 100% !important;\n  }\n  .qr-section[_ngcontent-%COMP%], \n   .barcode-section[_ngcontent-%COMP%] {\n    text-align: center !important;\n    page-break-inside: avoid;\n  }\n  table[_ngcontent-%COMP%] {\n    width: 100% !important;\n    border-collapse: collapse !important;\n  }\n  th[_ngcontent-%COMP%], \n   td[_ngcontent-%COMP%] {\n    border: 1px solid #ddd !important;\n    padding: 8px !important;\n  }\n  h1[_ngcontent-%COMP%], \n   h2[_ngcontent-%COMP%], \n   h3[_ngcontent-%COMP%], \n   h4[_ngcontent-%COMP%], \n   h5[_ngcontent-%COMP%], \n   h6[_ngcontent-%COMP%] {\n    color: black !important;\n    page-break-after: avoid;\n  }\n  .status-badge[_ngcontent-%COMP%] {\n    border: 1px solid #000 !important;\n    background: white !important;\n    color: black !important;\n  }\n}\nbutton[_ngcontent-%COMP%]:focus, \na[_ngcontent-%COMP%]:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n*[_ngcontent-%COMP%] {\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.asset-view[_ngcontent-%COMP%] {\n  scrollbar-width: thin;\n  scrollbar-color: #cbd5e1 #f1f5f9;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 6px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n.value-display[_ngcontent-%COMP%] {\n  font-variant-numeric: tabular-nums;\n}\n.section-header[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #f3f4f6;\n  padding-bottom: 0.75rem;\n  margin-bottom: 1rem;\n}\n.info-grid[_ngcontent-%COMP%] {\n  display: grid;\n  gap: 1.5rem;\n}\n@media (min-width: 768px) {\n  .info-grid[_ngcontent-%COMP%] {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n.ai-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #faf5ff 0%,\n      #f3e8ff 100%);\n  border: 1px solid #e9d5ff;\n}\n.financial-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f0fdf4 0%,\n      #dcfce7 100%);\n  border: 1px solid #bbf7d0;\n}\n.technical-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n  border: 1px solid #bfdbfe;\n}\n/*# sourceMappingURL=asset-view.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetViewComponent, [{
    type: Component,
    args: [{ selector: "app-asset-view", standalone: true, imports: [CommonModule, RouterModule, ReactiveFormsModule, TransferAssetModalComponent], template: `<!-- Asset View Page -->\r
<div class="min-h-screen bg-gray-50 asset-view-container">\r
  <!-- Header -->\r
  <div class="bg-white border-b border-gray-200 px-6 py-4 print-hide">\r
    <div class="flex items-center justify-between">\r
      <!-- Back Button and Breadcrumb -->\r
      <div class="flex items-center space-x-4">\r
        <!-- Breadcrumb -->\r
        <nav class="flex" aria-label="Breadcrumb">\r
          <ol class="flex items-center space-x-2">\r
            <li>\r
              <a routerLink="/assets/list" class="text-gray-500 hover:text-gray-700 transition-colors">Assets</a>\r
            </li>\r
            <li>\r
              <svg class="w-4 h-4 text-gray-400 mx-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
              </svg>\r
            </li>\r
            <li class="text-gray-900 font-medium">{{ asset?.name || 'Asset Details' }}</li>\r
          </ol>\r
        </nav>\r
      </div>\r
\r
      <!-- Quick Actions -->\r
      <div class="flex items-center space-x-3">\r
        <button\r
          (click)="editAsset()"\r
          class="flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
          </svg>\r
          <span>Edit Asset</span>\r
        </button>\r
\r
        <!-- 3-Dot Menu -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <button\r
            (click)="showActionsDropdown = !showActionsDropdown"\r
            class="flex items-center justify-center w-10 h-10 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">\r
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <circle cx="12" cy="5" r="2"/>\r
              <circle cx="12" cy="12" r="2"/>\r
              <circle cx="12" cy="19" r="2"/>\r
            </svg>\r
          </button>\r
\r
          <!-- Dropdown Menu -->\r
          <div *ngIf="showActionsDropdown"\r
               class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">\r
            <button\r
              (click)="transferAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>\r
              </svg>\r
              <span class="text-gray-700">Transfer Asset</span>\r
            </button>\r
\r
            <button\r
              (click)="duplicateAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
              <span class="text-gray-700">Duplicate</span>\r
            </button>\r
\r
            <div class="border-t border-gray-100 my-2"></div>\r
\r
            <button\r
              (click)="printAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>\r
              </svg>\r
              <span class="text-gray-700">Print</span>\r
            </button>\r
\r
            <button\r
              (click)="exportAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
              </svg>\r
              <span class="text-gray-700">Export</span>\r
            </button>\r
\r
            <button\r
              (click)="sharePublicUrl(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>\r
              </svg>\r
              <span class="text-gray-700">Share Public URL</span>\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Loading State -->\r
  <div *ngIf="loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
        <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
          <path class="opacity-75" fill="currentColor"\r
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Asset</h3>\r
      <p class="text-sm text-gray-500">Please wait while we fetch the asset details...</p>\r
    </div>\r
  </div>\r
\r
  <!-- Error State -->\r
  <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Asset</h3>\r
      <p class="text-sm text-gray-500 mb-4">{{ error }}</p>\r
      <button\r
        (click)="goBack()"\r
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
        Back to Assets\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Main Content -->\r
  <div *ngIf="asset && !loading" class="px-6 py-6">\r
    <!-- Asset Header -->\r
    <div class="bg-white rounded-lg p-6 mb-6 shadow-sm border border-gray-200">\r
      <div class="flex items-start justify-between mb-4">\r
        <div class="flex items-center space-x-4">\r
          <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    [attr.d]="getAssetTypeIcon()"></path>\r
            </svg>\r
          </div>\r
          <div>\r
            <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ asset.name }}</h1>\r
            <div class="flex items-center space-x-4">\r
              <span\r
                *ngIf="asset.asset_status"\r
                [style.background-color]="asset.asset_status.color + '20'"\r
                [style.color]="asset.asset_status.color"\r
                class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium">\r
                {{ asset.asset_status.name }}\r
              </span>\r
              <span class="text-gray-500">{{ getAssetTypeName(asset.type) }}</span>\r
              <span class="text-gray-500">\u2022</span>\r
              <span class="text-gray-500">{{ asset.category?.name || 'General' }}</span>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset ID with Copy -->\r
        <div class="text-right">\r
          <div class="flex items-center space-x-2 mb-2">\r
            <span class="text-sm text-gray-500">Asset ID:</span>\r
            <button\r
              (click)="copyAssetId()"\r
              class="flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors">\r
              <span>{{ asset.asset_id || asset.id }}</span>\r
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
            </button>\r
          </div>\r
          <div *ngIf="asset.serial_number" class="flex items-center space-x-2">\r
            <span class="text-sm text-gray-500">Serial:</span>\r
            <button\r
              (click)="copySerialNumber()"\r
              class="flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors">\r
              <span>{{ asset.serial_number }}</span>\r
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
\r
    <!-- Main Content Grid -->\r
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">\r
      <!-- Left Column -->\r
      <div class="lg:col-span-2 space-y-6">\r
        <!-- Image Gallery -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Asset Images</h2>\r
          </div>\r
\r
          <div *ngIf="asset.images && asset.images.length > 0; else noImages">\r
            <!-- Main Image Display -->\r
            <div class="mb-4">\r
              <div class="relative bg-gray-100 rounded-lg overflow-hidden" style="height: 400px;">\r
                <img\r
                  [src]="selectedImageUrl || asset.images[0].image_url"\r
                  [alt]="asset.name"\r
                  class="w-full h-full object-contain bg-white cursor-pointer"\r
                  (click)="viewFullImage(selectedImageUrl || asset.images[0].image_url)"\r
                  (error)="onImageError($event)">\r
\r
                <!-- Navigation Arrows -->\r
                <button\r
                  *ngIf="asset.images.length > 1"\r
                  (click)="previousImage()"\r
                  class="absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all">\r
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
                  </svg>\r
                </button>\r
\r
                <button\r
                  *ngIf="asset.images.length > 1"\r
                  (click)="nextImage()"\r
                  class="absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all">\r
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
                  </svg>\r
                </button>\r
\r
                <!-- Image Counter -->\r
                <div class="absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm">\r
                  {{ currentImageIndex + 1 }} / {{ asset.images.length }}\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Thumbnail Gallery -->\r
            <div *ngIf="asset.images.length > 1" class="grid grid-cols-6 gap-2">\r
              <div\r
                *ngFor="let image of asset.images; let i = index"\r
                (click)="selectImage(i)"\r
                class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all"\r
                [class.border-blue-500]="i === currentImageIndex"\r
                [class.border-gray-200]="i !== currentImageIndex">\r
                <img\r
                  [src]="image.image_url"\r
                  [alt]="'Asset image ' + (i + 1)"\r
                  class="w-full h-full object-cover"\r
                  (error)="onImageError($event)">\r
              </div>\r
            </div>\r
          </div>\r
\r
          <ng-template #noImages>\r
            <div class="text-center py-12 bg-gray-50 rounded-lg">\r
              <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Images Available</h3>\r
              <p class="text-gray-600">No images have been uploaded for this asset.</p>\r
            </div>\r
          </ng-template>\r
        </div>\r
\r
        <!-- Basic Information -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-6">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Basic Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">\r
            <!-- Left Column -->\r
            <div class="space-y-6">\r
              <!-- Asset Name -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Asset Name</h4>\r
                <p class="text-lg font-semibold text-gray-900">{{ asset?.name || 'Unnamed Asset' }}</p>\r
              </div>\r
\r
              <!-- Description -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Description</h4>\r
                <div class="relative">\r
                  <p class="text-gray-600 leading-relaxed" [class.line-clamp-3]="!descriptionExpanded">\r
                    {{ asset?.description || 'No description available' }}\r
                  </p>\r
                  <button\r
                    *ngIf="asset?.description && asset.description.length > 150"\r
                    (click)="descriptionExpanded = !descriptionExpanded"\r
                    class="text-blue-600 hover:text-blue-700 text-sm font-medium mt-2">\r
                    {{ descriptionExpanded ? 'Show Less' : 'Show More' }}\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <!-- Category with Icon -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Category</h4>\r
                <div class="flex items-center space-x-3">\r
                  <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">\r
                    <img\r
                      *ngIf="asset?.category?.icon && !asset.category.iconError"\r
                      [src]="asset.category.icon"\r
                      [alt]="asset.category.name"\r
                      class="w-5 h-5"\r
                      (error)="onCategoryIconError($event, asset.category)">\r
                    <svg\r
                      *ngIf="!asset?.category?.icon || asset.category.iconError"\r
                      class="w-5 h-5 text-blue-600"\r
                      fill="none"\r
                      stroke="currentColor"\r
                      viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                            d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                    </svg>\r
                  </div>\r
                  <span class="text-gray-900 font-medium">{{ asset?.category?.name || 'Uncategorized' }}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Current Status with Badge -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Status</h4>\r
                <div *ngIf="asset.asset_status" class="flex items-center space-x-2">\r
                  <span\r
                    [style.background-color]="asset.asset_status.color + '20'"\r
                    [style.color]="asset.asset_status.color"\r
                    class="inline-flex items-center px-2 py-1 rounded-full text-sm font-medium">\r
                    {{ asset.asset_status.name }}\r
                  </span>\r
                </div>\r
                <span *ngIf="!asset.asset_status" class="text-gray-900">Not specified</span>\r
              </div>\r
            </div>\r
\r
            <!-- Middle Column -->\r
            <div class="space-y-6">\r
              <!-- Asset ID/Barcode -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Asset ID</h4>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-gray-900 font-mono text-lg">{{ asset?.asset_id || 'N/A' }}</span>\r
                  <button\r
                    (click)="copyAssetId()"\r
                    class="p-1 text-gray-400 hover:text-gray-600 transition-colors"\r
                    title="Copy Asset ID">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                            d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <!-- Location with Link -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Location</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                          d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                          d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                  </svg>\r
                  <a\r
                    *ngIf="asset?.location?.id"\r
                    [routerLink]="['/locations', asset.location.id]"\r
                    class="text-blue-600 hover:underline cursor-pointer">\r
                    {{ asset.location.name }}\r
                  </a>\r
                  <span *ngIf="!asset?.location?.id"\r
                        class="text-gray-900">{{ asset?.location?.name || 'No location assigned' }}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Department -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Department</h4>\r
                <span class="text-gray-900">{{ asset?.department?.name || 'Not assigned' }}</span>\r
              </div>\r
\r
              <!-- Creation Date -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Created</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
                  </svg>\r
                  <span class="text-gray-900">{{ asset?.created_at | date:'MMM d, y' }}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Last Modified Date -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Last Modified</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                          d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                  </svg>\r
                  <span class="text-gray-900">{{ asset?.updated_at | date:'MMM d, y' }}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Parent Asset -->\r
              <div *ngIf="asset?.parent">\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Parent Asset</h4>\r
                <a [routerLink]="['/assets/preview', asset.parent.id]"\r
                   class="text-blue-600 hover:underline cursor-pointer">\r
                  {{ asset.parent.name }} ({{ asset.parent.asset_id }})\r
                </a>\r
              </div>\r
            </div>\r
\r
            <!-- Right Column - QR Code and Barcode -->\r
            <div class="space-y-6">\r
              <!-- QR Code Display -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">QR Code</h4>\r
                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">\r
                  <div\r
                    class="w-32 h-32 bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center">\r
                    <!-- Generated QR Code -->\r
                    <img *ngIf="qrCodeDataUrl" [src]="qrCodeDataUrl" alt="QR Code" class="w-full h-full object-contain">\r
\r
                    <!-- Server QR Code (fallback) -->\r
                    <img *ngIf="!qrCodeDataUrl && asset?.qr_code_url" [src]="asset.qr_code_url" alt="QR Code"\r
                         class="w-full h-full object-contain">\r
\r
                    <!-- Loading state -->\r
                    <div *ngIf="qrCodeLoading" class="flex items-center justify-center">\r
                      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\r
                    </div>\r
\r
                    <!-- Default placeholder -->\r
                    <div *ngIf="!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && asset?.id"\r
                         class="text-center">\r
                      <svg class="w-24 h-24 text-gray-400" fill="currentColor" viewBox="0 0 24 24">\r
                        <path\r
                          d="M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"/>\r
                      </svg>\r
                      <p class="text-xs text-gray-500 mt-2 font-mono">{{ asset.asset_id || asset.id }}</p>\r
                    </div>\r
\r
                    <!-- Error state -->\r
                    <div *ngIf="!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && !asset?.id"\r
                         class="text-center text-gray-400">\r
                      <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                      </svg>\r
                      <p class="text-xs mt-2">No Asset ID</p>\r
                    </div>\r
                  </div>\r
\r
                  <!-- QR Code Actions -->\r
                  <div class="mt-3 flex space-x-2">\r
                    <button\r
                      *ngIf="asset?.id"\r
                      (click)="downloadQRCode()"\r
                      class="text-sm text-blue-600 hover:text-blue-700 font-medium">\r
                      Download\r
                    </button>\r
                    <button\r
                      *ngIf="asset?.id"\r
                      (click)="copyPublicUrl()"\r
                      class="text-sm text-green-600 hover:text-green-700 font-medium">\r
                      Copy URL\r
                    </button>\r
                  </div>\r
\r
                  <!-- QR Code Information -->\r
                  <div class="mt-2 text-xs text-gray-500 text-center">\r
                    <p>Scan to access public page</p>\r
                  </div>\r
                </div>\r
              </div>\r
\r
              <!-- Barcode Display -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Barcode</h4>\r
                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">\r
                  <div\r
                    class="w-full bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center">\r
                    <!-- Server Barcode -->\r
                    <img *ngIf="asset?.barcode_url" [src]="asset.barcode_url" alt="Barcode"\r
                         class="w-full h-20 object-contain">\r
\r
                    <!-- Generated Barcode (fallback) -->\r
                    <img *ngIf="!asset?.barcode_url && barcodeDataUrl" [src]="barcodeDataUrl" alt="Barcode"\r
                         class="w-full h-20 object-contain">\r
\r
                    <!-- Loading state -->\r
                    <div *ngIf="barcodeLoading" class="flex items-center justify-center py-4">\r
                      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\r
                    </div>\r
\r
                    <!-- Default placeholder -->\r
                    <div *ngIf="!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && asset?.asset_id"\r
                         class="text-center py-4">\r
                      <svg class="w-16 h-16 text-gray-400 mx-auto" fill="none" stroke="currentColor"\r
                           viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
                      </svg>\r
                      <p class="text-xs text-gray-500 mt-2 font-mono">{{ asset.asset_id }}</p>\r
                    </div>\r
\r
                    <!-- Error state -->\r
                    <div *ngIf="!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && !asset?.asset_id"\r
                         class="text-center text-gray-400 py-4">\r
                      <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                      </svg>\r
                      <p class="text-xs mt-2">No Asset ID</p>\r
                    </div>\r
                  </div>\r
\r
                  <!-- Barcode Actions -->\r
                  <div class="mt-3 flex space-x-2">\r
                    <button\r
                      *ngIf="asset?.asset_id"\r
                      (click)="downloadBarcode()"\r
                      class="text-sm text-blue-600 hover:text-blue-700 font-medium">\r
                      Download\r
                    </button>\r
                    <button\r
                      *ngIf="asset?.asset_id"\r
                      (click)="copyAssetId()"\r
                      class="text-sm text-green-600 hover:text-green-700 font-medium">\r
                      Copy ID\r
                    </button>\r
                  </div>\r
\r
                  <!-- Barcode Information -->\r
                  <div class="mt-2 text-xs text-gray-500 text-center">\r
                    <p>Scan for asset identification</p>\r
                    <p *ngIf="asset?.asset_id" class="mt-1 font-mono">{{ asset.asset_id }}</p>\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Technical Specifications -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Technical Specifications</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div class="space-y-4">\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Asset Status</h4>\r
                <div *ngIf="asset.asset_status" class="flex items-center space-x-2">\r
                  <span\r
                    [style.background-color]="asset.asset_status.color + '20'"\r
                    [style.color]="asset.asset_status.color"\r
                    class="inline-flex items-center px-2 py-1 rounded-full text-sm font-medium">\r
                    {{ asset.asset_status.name }}\r
                  </span>\r
                  <span *ngIf="asset.asset_status.description" class="text-xs text-gray-500">\r
                    {{ asset.asset_status.description }}\r
                  </span>\r
                </div>\r
                <span *ngIf="!asset.asset_status" class="text-gray-900">Not specified</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Manufacturer</h4>\r
                <span class="text-gray-900">{{ asset.manufacturer || 'Not specified' }}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Model</h4>\r
                <span class="text-gray-900">{{ asset.model || 'Not specified' }}</span>\r
              </div>\r
\r
              <div *ngIf="asset.serial_number">\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Serial Number</h4>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-gray-900 font-mono">{{ asset.serial_number }}</span>\r
                  <button\r
                    (click)="copySerialNumber()"\r
                    class="p-1 text-gray-400 hover:text-gray-600 transition-colors">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                            d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Brand</h4>\r
                <span class="text-gray-900">{{ asset.brand || 'Not specified' }}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Capacity</h4>\r
                <span class="text-gray-900">{{ asset.capacity || 'Not specified' }}</span>\r
              </div>\r
            </div>\r
\r
            <div class="space-y-4">\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Dimensions</h4>\r
                <span class="text-gray-900">{{ asset.dimensions || 'Not specified' }}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Weight</h4>\r
                <span class="text-gray-900">{{ asset.weight || 'Not specified' }}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Power Requirements</h4>\r
                <span class="text-gray-900">{{ asset.power_requirements || 'Not specified' }}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Operating Conditions</h4>\r
                <span class="text-gray-900">{{ asset.operating_conditions || 'Standard conditions' }}</span>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Additional Specifications -->\r
          <div *ngIf="asset.specifications" class="mt-6 pt-6 border-t border-gray-200">\r
            <h4 class="text-sm font-medium text-gray-700 mb-3">Additional Specifications</h4>\r
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\r
              <div *ngFor="let spec of asset.specifications | keyvalue" class="flex justify-between">\r
                <span class="text-sm text-gray-600">{{ spec.key }}:</span>\r
                <span class="text-sm text-gray-900 font-medium">{{ spec.value }}</span>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Health & Performance Chart -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-6">\r
            <div class="flex items-center space-x-2">\r
              <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>\r
                </svg>\r
              </div>\r
              <h2 class="text-lg font-semibold text-gray-900">Health & Performance</h2>\r
            </div>\r
            <div class="flex items-center space-x-2">\r
              <button\r
                (click)="refreshHealthPerformanceChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span>Refresh</span>\r
              </button>\r
              <button\r
                (click)="forceCreateHealthPerformanceChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <span>Debug</span>\r
              </button>\r
            </div>\r
          </div>\r
\r
          <!-- Summary Metrics -->\r
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"\r
               *ngIf="healthPerformanceChartData?.chart_data?.metrics">\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Average Health Score</div>\r
              <div\r
                class="text-2xl font-bold text-green-600">{{ healthPerformanceChartData.chart_data.metrics.average_health_score }}\r
                %\r
              </div>\r
            </div>\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Average Performance</div>\r
              <div\r
                class="text-2xl font-bold text-blue-600">{{ healthPerformanceChartData.chart_data.metrics.average_performance_score }}\r
                %\r
              </div>\r
            </div>\r
            <div class="bg-orange-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Total Maintenance</div>\r
              <div\r
                class="text-2xl font-bold text-orange-600">{{ healthPerformanceChartData.chart_data.metrics.total_maintenance_count }}\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Health & Performance Chart -->\r
          <div class="space-y-4">\r
            <div class="text-center">\r
              <h3 class="text-sm font-medium text-gray-700">Health & Performance Timeline (Last 12 Months)</h3>\r
            </div>\r
\r
            <!-- Loading State -->\r
            <div *ngIf="healthPerformanceChartLoading"\r
                 class="flex items-center justify-center h-64 bg-gray-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="inline-flex items-center justify-center w-8 h-8 bg-green-100 rounded-full mb-2">\r
                  <svg class="animate-spin w-4 h-4 text-green-600" fill="none" viewBox="0 0 24 24">\r
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                    <path class="opacity-75" fill="currentColor"\r
                          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                  </svg>\r
                </div>\r
                <p class="text-sm text-gray-500">Loading health & performance data...</p>\r
              </div>\r
            </div>\r
\r
            <!-- Error State -->\r
            <div *ngIf="healthPerformanceChartError && !healthPerformanceChartLoading"\r
                 class="flex items-center justify-center h-64 bg-red-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="text-red-600 text-sm mb-2">{{ healthPerformanceChartError }}</div>\r
                <button\r
                  (click)="loadHealthPerformanceChart()"\r
                  class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
                  Try Again\r
                </button>\r
              </div>\r
            </div>\r
\r
            <!-- Chart Canvas -->\r
            <div *ngIf="!healthPerformanceChartLoading && !healthPerformanceChartError"\r
                 class="relative h-64 bg-white border border-gray-200 rounded-lg p-4">\r
              <canvas id="healthPerformanceChart" width="400" height="200"></canvas>\r
            </div>\r
\r
            <!-- Chart Legend -->\r
            <div *ngIf="!healthPerformanceChartLoading && !healthPerformanceChartError"\r
                 class="text-center text-xs text-gray-500">\r
              Green: Health Score | Blue: Performance Score | Orange: Maintenance Count\r
            </div>\r
\r
            <!-- Trend Indicators -->\r
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"\r
                 *ngIf="healthPerformanceChartData?.chart_data?.metrics">\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Health Trend</div>\r
                <div class="text-lg font-semibold"\r
                     [ngClass]="healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? 'text-green-600' : 'text-red-600'">\r
                  {{ healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? '+' : '' }}{{ healthPerformanceChartData.chart_data.metrics.health_trend }}\r
                  %\r
                </div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Performance Trend</div>\r
                <div class="text-lg font-semibold"\r
                     [ngClass]="healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? 'text-green-600' : 'text-red-600'">\r
                  {{ healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? '+' : '' }}{{ healthPerformanceChartData.chart_data.metrics.performance_trend }}\r
                  %\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Depreciation Chart -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path>\r
                </svg>\r
              </div>\r
              <h2 class="text-lg font-semibold text-gray-900">Asset Depreciation</h2>\r
            </div>\r
            <div class="flex items-center space-x-2">\r
              <button\r
                (click)="refreshDepreciationChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span>Refresh</span>\r
              </button>\r
              <button\r
                (click)="forceCreateChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <span>Debug</span>\r
              </button>\r
            </div>\r
          </div>\r
\r
          <!-- Summary Values -->\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Original Value</div>\r
              <div class="text-2xl font-bold text-gray-900">\${{ formatCurrency(asset?.purchase_price || 0) }}</div>\r
            </div>\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Current Value</div>\r
              <div class="text-2xl font-bold text-blue-600">\${{ formatCurrency(calculateCurrentValue()) }}</div>\r
            </div>\r
          </div>\r
\r
          <!-- Depreciation Chart -->\r
          <div class="space-y-4">\r
            <div class="text-center">\r
              <h3 class="text-sm font-medium text-gray-700">Depreciation Timeline (straight-line method)</h3>\r
            </div>\r
\r
            <!-- Loading State -->\r
            <div *ngIf="depreciationChartLoading" class="flex items-center justify-center h-64 bg-gray-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                  <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                    <path class="opacity-75" fill="currentColor"\r
                          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                  </svg>\r
                </div>\r
                <p class="text-sm text-gray-500">Loading chart data...</p>\r
              </div>\r
            </div>\r
\r
            <!-- Error State -->\r
            <div *ngIf="depreciationChartError && !depreciationChartLoading"\r
                 class="flex items-center justify-center h-64 bg-red-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="text-red-600 text-sm mb-2">{{ depreciationChartError }}</div>\r
                <button\r
                  (click)="loadDepreciationChart()"\r
                  class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
                  Try Again\r
                </button>\r
              </div>\r
            </div>\r
\r
            <!-- Chart Canvas -->\r
            <div *ngIf="!depreciationChartLoading && !depreciationChartError"\r
                 class="relative h-64 bg-white border border-gray-200 rounded-lg p-4">\r
              <canvas id="depreciationChart" width="400" height="200"></canvas>\r
            </div>\r
\r
            <!-- Chart Legend -->\r
            <div *ngIf="!depreciationChartLoading && !depreciationChartError" class="text-center text-xs text-gray-500">\r
              Blue line: Asset Value | Red line: Accumulated Depreciation\r
            </div>\r
\r
            <!-- Depreciation Details -->\r
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Annual Depreciation</div>\r
                <div class="text-lg font-semibold text-gray-900">\${{ formatCurrency(calculateAnnualDepreciation()) }}\r
                </div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Depreciation Rate</div>\r
                <div class="text-lg font-semibold text-gray-900">{{ calculateDepreciationRate() }}%</div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Years Remaining</div>\r
                <div class="text-lg font-semibold text-gray-900">{{ calculateRemainingYears() }}</div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
\r
      <!-- Right Column -->\r
      <div class="space-y-6">\r
\r
        <!-- Activity Timeline -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Recent Activity</h2>\r
          </div>\r
\r
          <!-- Loading State -->\r
          <div *ngIf="activityLoading" class="flex items-center justify-center py-8">\r
            <div class="text-center">\r
              <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                  <path class="opacity-75" fill="currentColor"\r
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                </svg>\r
              </div>\r
              <p class="text-sm text-gray-500">Loading activities...</p>\r
            </div>\r
          </div>\r
\r
          <!-- Error State -->\r
          <div *ngIf="activityError && !activityLoading" class="text-center py-8">\r
            <div class="text-red-600 text-sm mb-2">{{ activityError }}</div>\r
            <button\r
              (click)="loadActivityHistory()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              Try Again\r
            </button>\r
          </div>\r
\r
          <!-- Activities List -->\r
          <div *ngIf="!activityLoading && !activityError" class="space-y-4">\r
            <div *ngFor="let activity of activities" class="flex items-start space-x-3">\r
              <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0"\r
                   [ngClass]="getActivityColor(activity.action)">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        [attr.d]="getActivityIcon(activity.action)"></path>\r
                </svg>\r
              </div>\r
              <div class="flex-1">\r
                <div class="flex items-center justify-between mb-1">\r
                  <h4 class="font-medium text-gray-900 capitalize">{{ activity.action }}</h4>\r
                  <span class="text-xs text-gray-500">{{ activity.time_ago }}</span>\r
                </div>\r
                <p class="text-sm text-gray-600 mb-1">{{ activity.comment || 'No comment' }}</p>\r
                <div *ngIf="formatActivityBeforeAfter(activity.before, activity.after)"\r
                     class="text-xs text-gray-500 bg-gray-50 p-2 rounded border">\r
                  {{ formatActivityBeforeAfter(activity.before, activity.after) }}\r
                </div>\r
                <div *ngIf="activity.user" class="text-xs text-gray-500 mt-1">\r
                  <strong>By:</strong> {{ getUserDisplayName(activity.user) }}\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- No Activities -->\r
            <div *ngIf="activities.length === 0" class="text-center py-8">\r
              <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Recent Activity</h3>\r
              <p class="text-gray-600">No activity has been recorded for this asset yet.</p>\r
            </div>\r
          </div>\r
\r
          <div class="text-center mt-6">\r
            <button\r
              (click)="showFullActivityHistory()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              View Full Activity History\r
            </button>\r
          </div>\r
        </div>\r
\r
        <!-- Related Assets -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>\r
              </svg>\r
              <h2 class="text-lg font-semibold text-gray-900">Related Assets</h2>\r
            </div>\r
\r
            <!-- Filter Dropdown -->\r
            <div class="relative">\r
              <button\r
                (click)="showRelatedFilterDropdown = !showRelatedFilterDropdown"\r
                class="flex items-center space-x-2 px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">\r
                <span>{{ getRelatedFilterDisplayName(selectedRelatedFilter) }}</span>\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                </svg>\r
              </button>\r
\r
              <!-- Filter Options -->\r
              <div *ngIf="showRelatedFilterDropdown"\r
                   class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">\r
                <button\r
                  *ngFor="let filter of ['all', 'category', 'location', 'department', 'manufacturer', 'parent', 'children', 'siblings', 'similar']"\r
                  (click)="onRelatedFilterChange(filter); showRelatedFilterDropdown = false"\r
                  class="w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors"\r
                  [class.text-blue-600]="selectedRelatedFilter === filter"\r
                  [class.bg-blue-50]="selectedRelatedFilter === filter">\r
                  <span class="text-sm">{{ getRelatedFilterDisplayName(filter) }}</span>\r
                </button>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Loading State -->\r
          <div *ngIf="relatedAssetsLoading" class="flex items-center justify-center py-8">\r
            <div class="text-center">\r
              <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                  <path class="opacity-75" fill="currentColor"\r
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                </svg>\r
              </div>\r
              <p class="text-sm text-gray-500">Loading related assets...</p>\r
            </div>\r
          </div>\r
\r
          <!-- Error State -->\r
          <div *ngIf="relatedAssetsError && !relatedAssetsLoading" class="text-center py-8">\r
            <div class="text-red-600 text-sm mb-2">{{ relatedAssetsError }}</div>\r
            <button\r
              (click)="loadRelatedAssets()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              Try Again\r
            </button>\r
          </div>\r
\r
          <!-- Related Assets List -->\r
          <div *ngIf="!relatedAssetsLoading && !relatedAssetsError" class="space-y-3">\r
            <div *ngFor="let relatedAsset of relatedAssets"\r
                 class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer"\r
                 (click)="navigateToRelatedAsset(relatedAsset.id)">\r
              <!-- Asset Image or Icon -->\r
              <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">\r
                <img *ngIf="relatedAsset.images && relatedAsset.images.length > 0"\r
                     [src]="relatedAsset.images[0].image_url"\r
                     [alt]="relatedAsset.name"\r
                     class="w-full h-full object-cover rounded-lg"\r
                     (error)="onImageError($event)">\r
                <svg *ngIf="!relatedAsset.images || relatedAsset.images.length === 0"\r
                     class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                </svg>\r
              </div>\r
\r
              <!-- Asset Details -->\r
              <div class="flex-1 min-w-0">\r
                <div class="flex items-center justify-between mb-1">\r
                  <h4 class="font-medium text-gray-900 truncate">{{ relatedAsset.name }}</h4>\r
                  <span class="text-xs text-gray-500">{{ relatedAsset.asset_id }}</span>\r
                </div>\r
                <div class="flex items-center space-x-2 mb-1">\r
                  <span class="text-xs text-gray-600">{{ relatedAsset.category?.name || 'General' }}</span>\r
                  <span class="text-gray-400">\u2022</span>\r
                  <span class="text-xs text-gray-600">{{ relatedAsset.asset_type?.name || relatedAsset.type }}</span>\r
                </div>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-xs px-2 py-1 rounded-full font-medium"\r
                        [ngClass]="getRelatedAssetStatusColor(relatedAsset.asset_status || relatedAsset.status)">\r
                    {{ relatedAsset.asset_status?.name || relatedAsset.status }}\r
                  </span>\r
                  <span *ngIf="relatedAsset.health_score" class="text-xs text-gray-500">\r
                    Health: {{ relatedAsset.health_score }}%\r
                  </span>\r
                </div>\r
              </div>\r
\r
              <!-- Arrow Icon -->\r
              <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
              </svg>\r
            </div>\r
\r
            <!-- No Related Assets -->\r
            <div *ngIf="relatedAssets.length === 0" class="text-center py-8">\r
              <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Related Assets</h3>\r
              <p class="text-gray-600">No related assets found for this item.</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Maintenance Schedule -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
              <h2 class="text-lg font-semibold text-gray-900">Maintenance Schedule</h2>\r
            </div>\r
            <button\r
              (click)="addMaintenanceSchedule()"\r
              class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
              </svg>\r
              <span>Add</span>\r
            </button>\r
          </div>\r
\r
          <!-- Maintenance Overview -->\r
          <div class="grid grid-cols-1 gap-4 mb-6">\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-green-600">Last Maintenance</div>\r
                  <div\r
                    class="font-semibold text-green-800">{{ mockMaintenanceData.lastMaintenance || 'Not recorded' }}\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-blue-600">Next Due</div>\r
                  <div\r
                    class="font-semibold text-blue-800">{{ mockMaintenanceData.nextMaintenance || 'Not scheduled' }}\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <div class="bg-purple-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-purple-600">Frequency</div>\r
                  <div class="font-semibold text-purple-800">{{ mockMaintenanceData.interval }}</div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Maintenance Schedules List -->\r
          <div *ngIf="maintenanceLoading" class="text-center py-6">\r
            <div class="inline-flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full">\r
              <svg class="animate-spin w-3 h-3 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor"\r
                      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
            </div>\r
            <p class="text-xs text-gray-500 mt-1">Loading...</p>\r
          </div>\r
\r
          <div *ngIf="!maintenanceLoading && maintenanceSchedules.length > 0" class="space-y-3">\r
            <div *ngFor="let schedule of maintenanceSchedules" class="border border-gray-200 rounded-lg p-3">\r
              <div class="flex items-center justify-between mb-2">\r
                <h4 class="font-medium text-gray-900 text-sm">{{ schedule.schedule_type }}</h4>\r
                <div class="flex items-center space-x-1">\r
                  <span\r
                    [class]="'inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-' + getScheduleStatusColor(schedule.status) + '-100 text-' + getScheduleStatusColor(schedule.status) + '-800'">\r
                    {{ schedule.status }}\r
                  </span>\r
                  <button\r
                    (click)="editMaintenanceSchedule(schedule)"\r
                    class="p-1 text-gray-400 hover:text-blue-600 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                    </svg>\r
                  </button>\r
                  <button\r
                    (click)="deleteMaintenanceSchedule(schedule)"\r
                    class="p-1 text-gray-400 hover:text-red-600 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
              <div class="space-y-1 text-xs">\r
                <div>\r
                  <span class="text-gray-600">Next Due:</span>\r
                  <span class="ml-1 text-gray-900">{{ formatDate(schedule.next_due) }}</span>\r
                </div>\r
                <div>\r
                  <span class="text-gray-600">Frequency:</span>\r
                  <span class="ml-1 text-gray-900">{{ schedule.frequency || 'Not specified' }}</span>\r
                </div>\r
              </div>\r
              <div *ngIf="schedule.notes" class="mt-2 text-xs text-gray-600">\r
                {{ schedule.notes }}\r
              </div>\r
            </div>\r
          </div>\r
\r
          <div *ngIf="!maintenanceLoading && maintenanceSchedules.length === 0" class="text-center py-6">\r
            <svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
            <h3 class="text-sm font-medium text-gray-900 mb-1">No Maintenance Schedules</h3>\r
            <p class="text-xs text-gray-600 mb-3">Create maintenance schedules to track asset upkeep.</p>\r
            <button\r
              (click)="addMaintenanceSchedule()"\r
              class="px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors">\r
              Add First Schedule\r
            </button>\r
          </div>\r
        </div>\r
\r
        <!-- Financial Information -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Financial Information</h2>\r
          </div>\r
\r
          <div class="space-y-4">\r
            <!-- Purchase Information -->\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Purchase Details</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Purchase Price</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{ mockFinancialData.purchaseCost | currency:'USD':'symbol':'1.2-2' }}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Purchase Date</span>\r
                  <div class="text-sm text-gray-900">{{ asset.purchase_date | date:'MMM d, y' }}</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Current Value -->\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Current Value</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Book Value</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{ mockFinancialData.currentValue | currency:'USD':'symbol':'1.2-2' }}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Market Value</span>\r
                  <div\r
                    class="text-sm text-gray-900">{{ mockFinancialData.currentValue * 0.95 | currency:'USD':'symbol':'1.2-2' }}\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Depreciation -->\r
            <div class="bg-orange-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Depreciation</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Method</span>\r
                  <div class="text-sm text-gray-900">{{ mockFinancialData.depreciationMethod }}</div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Useful Life</span>\r
                  <div class="text-sm text-gray-900">{{ mockFinancialData.usefulLife }} years</div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Annual Rate</span>\r
                  <div class="text-sm text-gray-900">{{ calculateDepreciationRate() }}%</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Performance Metrics -->\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Performance</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Total Cost of Ownership</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{ calculateTotalCostOfOwnership() | currency:'USD':'symbol':'1.2-2' }}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">ROI</span>\r
                  <div class="text-sm text-gray-900" [class.text-green-600]="calculateROI() > 0"\r
                       [class.text-red-600]="calculateROI() < 0">\r
                    {{ calculateROI() }}%\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Warranty Information -->\r
            <div class="bg-purple-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Warranty & Insurance</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Warranty Status</span>\r
                  <div class="flex items-center space-x-2 mt-1">\r
                    <span [class]="getWarrantyStatusClass(asset.warranty)">\r
                      {{ getWarrantyStatus(asset.warranty) }}\r
                    </span>\r
                    <span *ngIf="asset.warranty" class="text-xs text-gray-500">\r
                      (Expires: {{ asset.warranty | date:'MMM d, y' }})\r
                    </span>\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Insurance Value</span>\r
                  <div class="text-sm text-gray-900">{{ asset.insurance_value || 'Not specified' }}</div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Maintenance Schedule Modals -->\r
  <!-- Add Maintenance Modal -->\r
  <div *ngIf="showAddMaintenanceModal"\r
       class="fixed inset-0 bg-[#00000085] bg-opacity-50 flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-md w-full p-6 shadow-lg">\r
      <div class="flex items-center justify-between mb-4">\r
        <h3 class="text-lg font-semibold text-gray-900">Add Maintenance Schedule</h3>\r
        <button\r
          (click)="closeMaintenanceModals()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <form [formGroup]="maintenanceForm" (ngSubmit)="saveMaintenanceSchedule()">\r
        <div class="space-y-4">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Schedule Type</label>\r
            <select formControlName="schedule_type"\r
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select type</option>\r
              <option value="Preventive">Preventive Maintenance</option>\r
              <option value="Inspection">Inspection</option>\r
              <option value="Calibration">Calibration</option>\r
              <option value="Cleaning">Cleaning</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Next Due Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="next_due"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Done Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="last_done"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Frequency</label>\r
            <select formControlName="frequency"\r
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select frequency</option>\r
              <option value="Weekly">Weekly</option>\r
              <option value="Monthly">Monthly</option>\r
              <option value="Quarterly">Quarterly</option>\r
              <option value="Semi-Annual">Semi-Annual</option>\r
              <option value="Annual">Annual</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Notes</label>\r
            <textarea\r
              formControlName="notes"\r
              rows="3"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Additional notes..."></textarea>\r
          </div>\r
        </div>\r
\r
        <div class="flex items-center justify-end space-x-3 mt-6">\r
          <button\r
            type="button"\r
            (click)="closeMaintenanceModals()"\r
            class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            [disabled]="maintenanceForm.invalid"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">\r
            @if (saveMaintenanceLoading) {\r
              Saving Schedule...\r
              <span\r
                class="border-t-transparent animate-spin inline-block w-5 h-5 border-2 rounded-full border-white"></span>\r
            } @else {\r
              Save Schedule\r
            }\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
\r
  <!-- Edit Maintenance Modal -->\r
  <div *ngIf="showEditMaintenanceModal"\r
       class="fixed inset-0 bg-[#00000085] bg-opacity-50 flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-md w-full p-6">\r
      <div class="flex items-center justify-between mb-4">\r
        <h3 class="text-lg font-semibold text-gray-900">Edit Maintenance Schedule</h3>\r
        <button\r
          (click)="closeMaintenanceModals()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <form [formGroup]="maintenanceForm" (ngSubmit)="saveMaintenanceSchedule()">\r
        <div class="space-y-4">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Schedule Type</label>\r
            <select formControlName="schedule_type"\r
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select type</option>\r
              <option value="Preventive">Preventive Maintenance</option>\r
              <option value="Inspection">Inspection</option>\r
              <option value="Calibration">Calibration</option>\r
              <option value="Cleaning">Cleaning</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Next Due Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="next_due"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Done Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="last_done"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Frequency</label>\r
            <select formControlName="frequency"\r
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select frequency</option>\r
              <option value="Weekly">Weekly</option>\r
              <option value="Monthly">Monthly</option>\r
              <option value="Quarterly">Quarterly</option>\r
              <option value="Semi-Annual">Semi-Annual</option>\r
              <option value="Annual">Annual</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
            <select formControlName="status"\r
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="Scheduled">Scheduled</option>\r
              <option value="In Progress">In Progress</option>\r
              <option value="Completed">Completed</option>\r
              <option value="Overdue">Overdue</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Notes</label>\r
            <textarea\r
              formControlName="notes"\r
              rows="3"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Additional notes..."></textarea>\r
          </div>\r
        </div>\r
\r
        <div class="flex items-center justify-end space-x-3 mt-6">\r
          <button\r
            type="button"\r
            (click)="closeMaintenanceModals()"\r
            class="bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            [disabled]="maintenanceForm.invalid"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">\r
            @if (saveMaintenanceLoading) {\r
              Updating Schedule...\r
              <span\r
                class="border-t-transparent animate-spin inline-block w-5 h-5 border-2 rounded-full border-white"></span>\r
            } @else {\r
              Update Schedule\r
            }\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
\r
  <!-- Full Activity History Modal -->\r
  <div *ngIf="showActivityHistoryModal" class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col">\r
      <!-- Modal Header -->\r
      <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
        <div class="flex items-center space-x-3">\r
          <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                  d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <h3 class="text-xl font-semibold text-gray-900">Full Activity History</h3>\r
        </div>\r
        <button\r
          (click)="closeActivityHistoryModal()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <!-- Modal Content with Scroll -->\r
      <div class="flex-1 overflow-auto p-6">\r
        <!-- Search and Filters -->\r
        <div class="mb-6 space-y-4">\r
          <!-- Search Bar -->\r
          <div class="flex space-x-4">\r
            <div class="flex-1">\r
              <input\r
                type="text"\r
                placeholder="Search activities..."\r
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (input)="onActivityHistorySearch($any($event.target).value)">\r
            </div>\r
            <button\r
              (click)="clearActivityHistoryFilters()"\r
              class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">\r
              Clear Filters\r
            </button>\r
          </div>\r
\r
          <!-- Filter Options -->\r
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Action Type</label>\r
              <select\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('action', $any($event.target).value)">\r
                <option value="">All Actions</option>\r
                <option value="created">Created</option>\r
                <option value="updated">Updated</option>\r
                <option value="deleted">Deleted</option>\r
                <option value="transferred">Transferred</option>\r
                <option value="maintenance">Maintenance</option>\r
                <option value="imported">Imported</option>\r
              </select>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Date From</label>\r
              <input\r
                type="date"\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('date_from', $any($event.target).value)">\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Date To</label>\r
              <input\r
                type="date"\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('date_to', $any($event.target).value)">\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Sort By</label>\r
              <select\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistorySort('created_at', $any($event.target).value)">\r
                <option value="desc">Newest First</option>\r
                <option value="asc">Oldest First</option>\r
              </select>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Loading State -->\r
        <div *ngIf="activityHistoryLoading" class="flex items-center justify-center py-12">\r
          <div class="text-center">\r
            <div class="inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mb-4">\r
              <svg class="animate-spin w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor"\r
                      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
            </div>\r
            <p class="text-gray-500">Loading activity history...</p>\r
          </div>\r
        </div>\r
\r
        <!-- Error State -->\r
        <div *ngIf="activityHistoryError && !activityHistoryLoading" class="text-center py-12">\r
          <div class="text-red-600 mb-4">{{ activityHistoryError }}</div>\r
          <button\r
            (click)="loadFullActivityHistory()"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
            Try Again\r
          </button>\r
        </div>\r
\r
        <!-- Activities List -->\r
        <div *ngIf="!activityHistoryLoading && !activityHistoryError" class="space-y-4 max-h-[60vh] overflow-y-auto">\r
          <div *ngFor="let activity of fullActivityHistory"\r
               class="flex items-start space-x-4 p-4 bg-gray-50 rounded-lg">\r
            <div class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0"\r
                 [ngClass]="getActivityColor(activity.action)">\r
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                      [attr.d]="getActivityIcon(activity.action)"></path>\r
              </svg>\r
            </div>\r
            <div class="flex-1">\r
              <div class="flex items-center justify-between mb-2">\r
                <h4 class="font-semibold text-gray-900 capitalize">{{ activity.action }}</h4>\r
                <span class="text-xs text-gray-500 bg-white px-2 py-1 rounded-full">{{ activity.time_ago }}</span>\r
              </div>\r
              <p class="text-sm text-gray-600 mb-2">{{ activity.comment || 'No comment' }}</p>\r
              <div *ngIf="formatActivityBeforeAfter(activity.before, activity.after)"\r
                   class="text-xs text-gray-500 bg-white p-3 rounded border">\r
                <div class="font-medium mb-1">Changes:</div>\r
                <div class="text-gray-600">\r
                  {{ formatActivityBeforeAfter(activity.before, activity.after) }}\r
                </div>\r
              </div>\r
              <div *ngIf="activity.user" class="text-xs text-gray-500 mt-2">\r
                <strong>By:</strong> {{ getUserDisplayName(activity.user) }}\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- No Activities -->\r
          <div *ngIf="fullActivityHistory.length === 0" class="text-center py-12">\r
            <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <h3 class="text-lg font-medium text-gray-900 mb-2">No Activity Found</h3>\r
            <p class="text-gray-600">No activity matches your current filters.</p>\r
          </div>\r
        </div>\r
\r
        <!-- Pagination -->\r
        <div *ngIf="activityHistoryPagination && fullActivityHistory.length > 0"\r
             class="mt-6 flex items-center justify-between">\r
          <div class="text-sm text-gray-600">\r
            Showing {{ activityHistoryPagination.from || 0 }} to {{ activityHistoryPagination.to || 0 }}\r
            of {{ activityHistoryPagination.total || 0 }} activities\r
          </div>\r
          <div class="flex space-x-2">\r
            <button\r
              *ngIf="activityHistoryPagination.prev_page_url"\r
              (click)="onActivityHistoryPageChange(activityHistoryPagination.current_page - 1)"\r
              class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors">\r
              Previous\r
            </button>\r
            <button\r
              *ngIf="activityHistoryPagination.next_page_url"\r
              (click)="onActivityHistoryPageChange(activityHistoryPagination.current_page + 1)"\r
              class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors">\r
              Next\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Modal Footer -->\r
      <div class="flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50">\r
        <div class="text-sm text-gray-600">\r
          Total Activities: {{ activityHistoryPagination?.total || fullActivityHistory.length }}\r
        </div>\r
        <button\r
          (click)="closeActivityHistoryModal()"\r
          class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">\r
          Close\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Transfer Asset Modal -->\r
  <app-transfer-asset-modal\r
    [isOpen]="showTransferModal"\r
    [asset]="asset"\r
    (closeModal)="onTransferModalClose()"\r
    (transferComplete)="onTransferComplete($event)"\r
  ></app-transfer-asset-modal>\r
</div>\r
`, styles: ["/* src/app/assets/components/asset-view/asset-view.component.scss */\n.asset-header {\n  background:\n    linear-gradient(\n      135deg,\n      #f8fafc 0%,\n      #f1f5f9 100%);\n}\n.asset-image-container {\n  background:\n    linear-gradient(\n      135deg,\n      #dbeafe 0%,\n      #bfdbfe 100%);\n  border-radius: 0.5rem;\n  min-height: 16rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.info-card {\n  transition: all 0.2s ease-in-out;\n}\n.info-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.health-score-bar {\n  background:\n    linear-gradient(\n      90deg,\n      #10b981 0%,\n      #059669 100%);\n  transition: width 0.3s ease-in-out;\n}\n.chart-placeholder {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 0.5rem;\n}\n.chart-placeholder:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.ai-button {\n  transition: all 0.15s ease-in-out;\n}\n.ai-button:hover {\n  transform: scale(1.02);\n}\n.ai-button:active {\n  transform: scale(0.98);\n}\n.action-button {\n  transition: all 0.2s ease-in-out;\n}\n.action-button:hover {\n  background-color: #f3f4f6;\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n}\n.status-badge {\n  font-weight: 600;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 9999px;\n}\n.section-icon {\n  transition: all 0.2s ease-in-out;\n}\n.section-icon:hover {\n  transform: scale(1.1);\n}\n.empty-state {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 1rem;\n}\n.empty-state:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .grid-cols-2 {\n    grid-template-columns: 1fr;\n  }\n  .lg\\:col-span-2 {\n    grid-column: span 1;\n  }\n  .asset-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  .action-buttons {\n    width: 100%;\n    justify-content: space-between;\n  }\n}\n@media print {\n  .bg-white.border-b,\n  .flex.items-center.justify-between,\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200:has(button),\n  button,\n  .relative,\n  .dropdown,\n  .modal,\n  .fixed,\n  nav,\n  .breadcrumb,\n  .actions-dropdown,\n  .quick-actions,\n  .print-hide {\n    display: none !important;\n  }\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200 {\n    border: 1px solid #ddd !important;\n    box-shadow: none !important;\n    margin-bottom: 20px !important;\n    page-break-inside: avoid;\n  }\n  .grid.grid-cols-1.lg\\\\:grid-cols-3 {\n    display: block !important;\n  }\n  .lg\\\\:col-span-2 {\n    width: 100% !important;\n  }\n  body {\n    margin: 0 !important;\n    padding: 20px !important;\n    background: white !important;\n  }\n  * {\n    color: black !important;\n    background: white !important;\n  }\n  .asset-image-container {\n    border: 1px solid #000 !important;\n    background: white !important;\n    max-width: 100% !important;\n  }\n  .qr-section,\n  .barcode-section {\n    text-align: center !important;\n    page-break-inside: avoid;\n  }\n  table {\n    width: 100% !important;\n    border-collapse: collapse !important;\n  }\n  th,\n  td {\n    border: 1px solid #ddd !important;\n    padding: 8px !important;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: black !important;\n    page-break-after: avoid;\n  }\n  .status-badge {\n    border: 1px solid #000 !important;\n    background: white !important;\n    color: black !important;\n  }\n}\nbutton:focus,\na:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n* {\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.asset-view {\n  scrollbar-width: thin;\n  scrollbar-color: #cbd5e1 #f1f5f9;\n}\n.asset-view::-webkit-scrollbar {\n  width: 6px;\n}\n.asset-view::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n.asset-view::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n.asset-view::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n.value-display {\n  font-variant-numeric: tabular-nums;\n}\n.section-header {\n  border-bottom: 1px solid #f3f4f6;\n  padding-bottom: 0.75rem;\n  margin-bottom: 1rem;\n}\n.info-grid {\n  display: grid;\n  gap: 1.5rem;\n}\n@media (min-width: 768px) {\n  .info-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n.ai-section {\n  background:\n    linear-gradient(\n      135deg,\n      #faf5ff 0%,\n      #f3e8ff 100%);\n  border: 1px solid #e9d5ff;\n}\n.financial-section {\n  background:\n    linear-gradient(\n      135deg,\n      #f0fdf4 0%,\n      #dcfce7 100%);\n  border: 1px solid #bbf7d0;\n}\n.technical-section {\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n  border: 1px solid #bfdbfe;\n}\n/*# sourceMappingURL=asset-view.component.css.map */\n"] }]
  }], () => [{ type: ActivatedRoute }, { type: Router }, { type: AssetService }, { type: Location }, { type: PdfExportService }, { type: FormBuilder }, { type: ChangeDetectorRef }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetViewComponent, { className: "AssetViewComponent", filePath: "src/app/assets/components/asset-view/asset-view.component.ts", lineNumber: 35 });
})();

// src/app/assets/components/asset-edit/asset-edit.component.ts
var _c04 = ["fileInput"];
var _c13 = ["dateInput"];
var _c22 = () => ({ standalone: true });
function AssetEditComponent_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 15)(1, "div", 16)(2, "div", 17);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 18);
    \u0275\u0275element(4, "circle", 19)(5, "path", 20);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 21);
    \u0275\u0275text(7, "Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 22);
    \u0275\u0275text(9, "Please wait while we fetch the asset details...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetEditComponent_div_14_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 15)(1, "div", 16)(2, "div", 23);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 24);
    \u0275\u0275element(4, "path", 25);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 21);
    \u0275\u0275text(6, "Error Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 26);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 27);
    \u0275\u0275listener("click", function AssetEditComponent_div_14_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(10, " Back to Assets ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetEditComponent_div_15_div_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 123);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 124);
    \u0275\u0275element(2, "path", 25);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.nameError, " ");
  }
}
function AssetEditComponent_div_15_span_34_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select parent asset");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_span_35_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 125);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.getSelectedParent().name, " (", ctx_r1.getSelectedParent().asset_id, ") ");
  }
}
function AssetEditComponent_div_15_div_38_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_38_button_6_Template_button_click_0_listener() {
      let tmp_8_0;
      const parent_r6 = \u0275\u0275restoreView(_r5).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      (tmp_8_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_8_0.setValue(parent_r6.id);
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div", 131);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 132);
    \u0275\u0275element(4, "path", 67);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 133);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 134);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    let tmp_7_0;
    const parent_r6 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ((tmp_7_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_7_0.value) === parent_r6.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(parent_r6.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(parent_r6.asset_id);
  }
}
function AssetEditComponent_div_15_div_38_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select parent asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_38_Template_button_click_4_listener() {
      let tmp_6_0;
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext(2);
      (tmp_6_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_6_0.setValue(null);
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275text(5, " -- None -- ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(6, AssetEditComponent_div_15_div_38_button_6_Template, 10, 4, "button", 130);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    let tmp_5_0;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("bg-blue-50", !((tmp_5_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_5_0.value));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.possibleParents);
  }
}
function AssetEditComponent_div_15_span_88_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select asset type");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_89_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 138);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_89_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, ctx_r1.selectedAssetType));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275property("src", ctx_r1.selectedAssetType.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.selectedAssetType.name || ctx_r1.selectedAssetType.label);
  }
}
function AssetEditComponent_div_15_div_89__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 139);
    \u0275\u0275element(1, "path", 140);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275styleProp("color", ctx_r1.selectedAssetType.color);
  }
}
function AssetEditComponent_div_15_div_89_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 41)(1, "div", 135);
    \u0275\u0275template(2, AssetEditComponent_div_15_div_89_img_2_Template, 1, 2, "img", 136)(3, AssetEditComponent_div_15_div_89__svg_svg_3_Template, 2, 2, "svg", 137);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 125);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedAssetType.color + "20");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType.icon && !ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType.icon || ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetType.label);
  }
}
function AssetEditComponent_div_15_div_92_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 145);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_92_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r10);
      const type_r9 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, type_r9));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const type_r9 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", type_r9.icon, \u0275\u0275sanitizeUrl)("alt", type_r9.name || type_r9.label);
  }
}
function AssetEditComponent_div_15_div_92_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 32);
    \u0275\u0275element(1, "path", 140);
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_92_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_92_button_4_Template_button_click_0_listener() {
      const type_r9 = \u0275\u0275restoreView(_r8).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectAssetType(type_r9));
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div", 142);
    \u0275\u0275template(3, AssetEditComponent_div_15_div_92_button_4_img_3_Template, 1, 2, "img", 143)(4, AssetEditComponent_div_15_div_92_button_4__svg_svg_4_Template, 2, 0, "svg", 144);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 133);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 22);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const type_r9 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r9.id)("text-blue-700", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r9.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", type_r9.icon && !type_r9.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !type_r9.icon || type_r9.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(type_r9.label || type_r9.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(type_r9.description);
  }
}
function AssetEditComponent_div_15_div_92_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select asset type");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_92_button_4_Template, 10, 8, "button", 141);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.assetTypes);
  }
}
function AssetEditComponent_div_15_div_93_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 123);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 124);
    \u0275\u0275element(2, "path", 25);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.assetTypeError, " ");
  }
}
function AssetEditComponent_div_15_span_102_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select category");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_span_103_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 125);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.selectedCategory.name);
  }
}
function AssetEditComponent_div_15_div_106_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 145);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_106_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r13);
      const cat_r12 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, cat_r12));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r12 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", cat_r12.icon, \u0275\u0275sanitizeUrl)("alt", cat_r12.name);
  }
}
function AssetEditComponent_div_15_div_106_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 132);
    \u0275\u0275element(1, "path", 67);
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_106_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 22);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r12 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(cat_r12.description);
  }
}
function AssetEditComponent_div_15_div_106_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_106_button_4_Template_button_click_0_listener() {
      const cat_r12 = \u0275\u0275restoreView(_r11).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectCategory(cat_r12));
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div", 131);
    \u0275\u0275template(3, AssetEditComponent_div_15_div_106_button_4_img_3_Template, 1, 2, "img", 143)(4, AssetEditComponent_div_15_div_106_button_4__svg_svg_4_Template, 2, 0, "svg", 146);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 133);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetEditComponent_div_15_div_106_button_4_div_8_Template, 2, 1, "div", 103);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const cat_r12 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r12.id)("text-blue-700", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r12.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", cat_r12.icon);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !cat_r12.icon || cat_r12.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(cat_r12.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", cat_r12.description);
  }
}
function AssetEditComponent_div_15_div_106_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select category");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_106_button_4_Template, 9, 8, "button", 141);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.categories);
  }
}
function AssetEditComponent_div_15_div_107_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 123);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 124);
    \u0275\u0275element(2, "path", 25);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.categoryError, " ");
  }
}
function AssetEditComponent_div_15_div_159_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 123);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 124);
    \u0275\u0275element(2, "path", 25);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.serialNumberError, " ");
  }
}
function AssetEditComponent_div_15_span_228_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select location");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_229_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 41)(1, "div", 147);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 148);
    \u0275\u0275element(3, "path", 96)(4, "path", 97);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "span", 125);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.selectedLocation.label || ctx_r1.selectedLocation.name);
  }
}
function AssetEditComponent_div_15_div_232_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 22);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r15 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(loc_r15.type.name);
  }
}
function AssetEditComponent_div_15_div_232_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_232_button_4_Template_button_click_0_listener() {
      const loc_r15 = \u0275\u0275restoreView(_r14).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectLocation(loc_r15));
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div", 149);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 95);
    \u0275\u0275element(4, "path", 96)(5, "path", 97);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "div")(7, "div", 133);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetEditComponent_div_15_div_232_button_4_div_9_Template, 2, 1, "div", 103);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const loc_r15 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r15.id)("text-blue-700", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r15.id);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.getLocationLabel(loc_r15));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", loc_r15.type);
  }
}
function AssetEditComponent_div_15_div_232_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select location");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_232_button_4_Template, 10, 6, "button", 141);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function AssetEditComponent_div_15_span_239_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select department");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_240_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 41)(1, "div", 150);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 151);
    \u0275\u0275element(3, "path", 152);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 125);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.selectedDepartment.name);
  }
}
function AssetEditComponent_div_15_div_243_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 22);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r17 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(dept_r17.description);
  }
}
function AssetEditComponent_div_15_div_243_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 155);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r17 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("Code: ", dept_r17.code, "");
  }
}
function AssetEditComponent_div_15_div_243_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_243_button_4_Template_button_click_0_listener() {
      const dept_r17 = \u0275\u0275restoreView(_r16).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectDepartment(dept_r17));
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div", 153);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 66);
    \u0275\u0275element(4, "path", 152);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 133);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetEditComponent_div_15_div_243_button_4_div_8_Template, 2, 1, "div", 103)(9, AssetEditComponent_div_15_div_243_button_4_div_9_Template, 2, 1, "div", 154);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const dept_r17 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r17.id)("text-blue-700", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r17.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(dept_r17.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r17.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r17.code);
  }
}
function AssetEditComponent_div_15_div_243_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select department");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_243_button_4_Template, 10, 7, "button", 141);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function AssetEditComponent_div_15_div_252_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 41);
    \u0275\u0275element(1, "div", 156);
    \u0275\u0275elementStart(2, "span", 125);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedStatus.hexColor || "#6B7280");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedStatus.label);
  }
}
function AssetEditComponent_div_15_ng_template_253_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 101);
    \u0275\u0275text(1, "Select status");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_257_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_257_button_4_Template_button_click_0_listener() {
      const status_r19 = \u0275\u0275restoreView(_r18).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectStatus(status_r19));
    });
    \u0275\u0275elementStart(1, "div", 41)(2, "div");
    \u0275\u0275element(3, "div", 156);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div")(5, "div", 133);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 22);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const status_r19 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r19.value)("text-blue-700", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r19.value);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("w-6 h-6 bg-" + status_r19.color + "-100 rounded-lg flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", status_r19.hexColor || "#6B7280");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(status_r19.label);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(status_r19.description);
  }
}
function AssetEditComponent_div_15_div_257_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 157)(1, "div", 127)(2, "div", 128);
    \u0275\u0275text(3, "Select status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_257_button_4_Template, 9, 10, "button", 141);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.statusOptions);
  }
}
function AssetEditComponent_div_15_div_263_span_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementStart(2, "button", 161);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_263_span_2_Template_button_click_2_listener() {
      const tag_r21 = \u0275\u0275restoreView(_r20).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeTag(tag_r21));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 162);
    \u0275\u0275element(4, "path", 163);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const tag_r21 = ctx.$implicit;
    \u0275\u0275classMap("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-" + tag_r21.color + "-100 text-" + tag_r21.color + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", tag_r21.name, " ");
  }
}
function AssetEditComponent_div_15_div_263_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 158)(1, "div", 159);
    \u0275\u0275template(2, AssetEditComponent_div_15_div_263_span_2_Template, 5, 3, "span", 160);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.selectedTags);
  }
}
function AssetEditComponent_div_15_span_270_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 22);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length, " selected ");
  }
}
function AssetEditComponent_div_15_div_273_button_9_div_7_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 168);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 139);
    \u0275\u0275element(2, "path", 169);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_273_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 129);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_273_button_9_Template_button_click_0_listener() {
      const tag_r24 = \u0275\u0275restoreView(_r23).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.toggleTag(tag_r24));
    });
    \u0275\u0275elementStart(1, "div", 47)(2, "div", 41)(3, "div");
    \u0275\u0275element(4, "div");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span", 133);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(7, AssetEditComponent_div_15_div_273_button_9_div_7_Template, 3, 0, "div", 167);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const tag_r24 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.isTagSelected(tag_r24));
    \u0275\u0275advance(3);
    \u0275\u0275classMap("w-6 h-6 bg-" + tag_r24.color + "-100 rounded-full flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275classMap("w-3 h-3 rounded-full bg-" + tag_r24.color + "-500");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(tag_r24.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isTagSelected(tag_r24));
  }
}
function AssetEditComponent_div_15_div_273_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 164)(3, "div", 85)(4, "input", 165);
    \u0275\u0275twoWayListener("ngModelChange", function AssetEditComponent_div_15_div_273_Template_input_ngModelChange_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      \u0275\u0275twoWayBindingSet(ctx_r1.newTagInput, $event) || (ctx_r1.newTagInput = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("keydown", function AssetEditComponent_div_15_div_273_Template_input_keydown_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onTagInputKeydown($event));
    })("click", function AssetEditComponent_div_15_div_273_Template_input_click_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div", 166);
    \u0275\u0275text(6, " Press Enter ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(7, "div", 128);
    \u0275\u0275text(8, "Select tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetEditComponent_div_15_div_273_button_9_Template, 8, 8, "button", 130);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.newTagInput);
    \u0275\u0275property("ngModelOptions", \u0275\u0275pureFunction0(3, _c22));
    \u0275\u0275advance(5);
    \u0275\u0275property("ngForOf", ctx_r1.availableTags);
  }
}
function AssetEditComponent_div_15_div_297_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r26 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 179)(1, "div", 180)(2, "img", 181);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_297_div_7_Template_img_error_2_listener($event) {
      const i_r27 = \u0275\u0275restoreView(_r26).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, i_r27));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 182)(4, "div", 183)(5, "button", 184);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_div_7_Template_button_click_5_listener() {
      const existingImage_r28 = \u0275\u0275restoreView(_r26).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.viewFullImage(existingImage_r28.image_url));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 139);
    \u0275\u0275element(7, "path", 185)(8, "path", 186);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "button", 187);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_div_7_Template_button_click_9_listener() {
      const i_r27 = \u0275\u0275restoreView(_r26).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeExistingImage(i_r27));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 139);
    \u0275\u0275element(11, "path", 163);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 188);
    \u0275\u0275text(13, " Existing ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(14, "div", 189)(15, "p", 190);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "p", 134);
    \u0275\u0275text(18, "Existing Image");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const existingImage_r28 = ctx.$implicit;
    const i_r27 = ctx.index;
    \u0275\u0275advance(2);
    \u0275\u0275property("src", existingImage_r28.image_url, \u0275\u0275sanitizeUrl)("alt", "Existing Asset Image " + (i_r27 + 1));
    \u0275\u0275advance(14);
    \u0275\u0275textInterpolate(existingImage_r28.image_path.split("/").pop());
  }
}
function AssetEditComponent_div_15_div_297_div_8_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r31 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 184);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_div_8_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r31);
      const i_r30 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.moveImageUp(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 139);
    \u0275\u0275element(2, "path", 195);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_297_div_8_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 184);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_div_8_button_6_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r32);
      const i_r30 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.moveImageDown(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 139);
    \u0275\u0275element(2, "path", 51);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_297_div_8_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 179)(1, "div", 180)(2, "img", 191);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_297_div_8_Template_img_error_2_listener($event) {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, ctx_r1.existingImages.length + i_r30));
    })("load", function AssetEditComponent_div_15_div_297_div_8_Template_img_load_2_listener($event) {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageLoad($event, ctx_r1.existingImages.length + i_r30));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 192)(4, "div", 183);
    \u0275\u0275template(5, AssetEditComponent_div_15_div_297_div_8_button_5_Template, 3, 0, "button", 193)(6, AssetEditComponent_div_15_div_297_div_8_button_6_Template, 3, 0, "button", 193);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 187);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_div_8_Template_button_click_7_listener() {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeImage(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 139);
    \u0275\u0275element(9, "path", 163);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 194);
    \u0275\u0275text(11, " New ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "div", 189)(13, "p", 190);
    \u0275\u0275text(14);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "p", 134);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    let tmp_13_0;
    const previewUrl_r33 = ctx.$implicit;
    const i_r30 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(2);
    \u0275\u0275property("src", previewUrl_r33, \u0275\u0275sanitizeUrl)("alt", "Asset Image " + (i_r30 + 1));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", i_r30 > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", i_r30 < ctx_r1.imagePreviewUrls.length - 1);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.images[i_r30] == null ? null : ctx_r1.images[i_r30].name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", (((tmp_13_0 = ctx_r1.images[i_r30] == null ? null : ctx_r1.images[i_r30].size) !== null && tmp_13_0 !== void 0 ? tmp_13_0 : 0) / 1024 / 1024).toFixed(1), " MB");
  }
}
function AssetEditComponent_div_15_div_297_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 170)(1, "div", 171)(2, "h4", 172);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 173);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_297_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r25);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.removeAllImages();
      return \u0275\u0275resetView(ctx_r1.removeAllExistingImages());
    });
    \u0275\u0275text(5, " Remove All ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 174);
    \u0275\u0275template(7, AssetEditComponent_div_15_div_297_div_7_Template, 19, 3, "div", 175)(8, AssetEditComponent_div_15_div_297_div_8_Template, 17, 6, "div", 175);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 176)(10, "div", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(11, "svg", 177);
    \u0275\u0275element(12, "path", 105);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(13, "p", 178)(14, "strong");
    \u0275\u0275text(15, "Gallery Tips:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(16, " Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads. ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1("Asset Images (", ctx_r1.existingImages.length + ctx_r1.imagePreviewUrls.length, ")");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.existingImages);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.imagePreviewUrls);
  }
}
function AssetEditComponent_div_15_div_298_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 196)(1, "div", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 197);
    \u0275\u0275element(3, "path", 25);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 198);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitError);
  }
}
function AssetEditComponent_div_15_div_299_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 199)(1, "div", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 71);
    \u0275\u0275element(3, "path", 169);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 200);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitSuccess);
  }
}
function AssetEditComponent_div_15_span_304_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 201);
    \u0275\u0275element(2, "path", 169);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4, "Update Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_span_305_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 202);
    \u0275\u0275element(2, "circle", 19)(3, "path", 20);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Updating Asset...");
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "form", 28);
    \u0275\u0275listener("ngSubmit", function AssetEditComponent_div_15_Template_form_ngSubmit_1_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onSubmit());
    });
    \u0275\u0275elementStart(2, "div", 29)(3, "div", 30)(4, "div", 31);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 32);
    \u0275\u0275element(6, "path", 33);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 34);
    \u0275\u0275text(8, "Basic Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "div", 35)(10, "div")(11, "label", 36);
    \u0275\u0275text(12, " Asset Name ");
    \u0275\u0275elementStart(13, "span", 37);
    \u0275\u0275text(14, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(15, "input", 38);
    \u0275\u0275template(16, AssetEditComponent_div_15_div_16_Template, 4, 1, "div", 39);
    \u0275\u0275elementStart(17, "div", 40);
    \u0275\u0275text(18, "Maximum 100 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div")(20, "label", 36);
    \u0275\u0275text(21, "Asset ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "div", 41);
    \u0275\u0275element(23, "input", 42);
    \u0275\u0275elementStart(24, "span", 43);
    \u0275\u0275text(25, " auto-generated ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(26, "p", 40);
    \u0275\u0275text(27, "Unique identifier automatically assigned");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(28, "div", 44)(29, "label", 36);
    \u0275\u0275text(30, "Parent Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_31_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(32, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_32_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = !ctx_r1.showParentDropdown);
    });
    \u0275\u0275elementStart(33, "div", 47);
    \u0275\u0275template(34, AssetEditComponent_div_15_span_34_Template, 2, 0, "span", 48)(35, AssetEditComponent_div_15_span_35_Template, 2, 2, "span", 49);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(36, "svg", 50);
    \u0275\u0275element(37, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(38, AssetEditComponent_div_15_div_38_Template, 7, 3, "div", 52);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(39, "div", 40);
    \u0275\u0275text(40, "Optional: Select a parent asset if this asset is a child of another.");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(41, "div", 44)(42, "label", 36);
    \u0275\u0275text(43, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275element(44, "textarea", 53);
    \u0275\u0275elementStart(45, "div", 40);
    \u0275\u0275text(46, "Maximum 500 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(47, "div")(48, "label", 54);
    \u0275\u0275text(49, "Health Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(50, "div", 55)(51, "div", 56)(52, "span", 57);
    \u0275\u0275text(53, "Current Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(54, "span", 58);
    \u0275\u0275text(55);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(56, "div", 59);
    \u0275\u0275element(57, "div", 60)(58, "div", 61)(59, "input", 62)(60, "div", 63);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(61, "div", 64)(62, "span");
    \u0275\u0275text(63, "Poor (0%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(64, "span");
    \u0275\u0275text(65, "Fair (25%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(66, "span");
    \u0275\u0275text(67, "Good (50%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(68, "span");
    \u0275\u0275text(69, "Very Good (75%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(70, "span");
    \u0275\u0275text(71, "Excellent (100%)");
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275elementStart(72, "div", 29)(73, "div", 30)(74, "div", 65);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(75, "svg", 66);
    \u0275\u0275element(76, "path", 67);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(77, "h2", 34);
    \u0275\u0275text(78, "Asset Classification");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(79, "div", 68)(80, "div")(81, "label", 36);
    \u0275\u0275text(82, " Asset Type ");
    \u0275\u0275elementStart(83, "span", 37);
    \u0275\u0275text(84, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(85, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_85_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(86, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_86_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleAssetTypeDropdown());
    });
    \u0275\u0275elementStart(87, "div", 47);
    \u0275\u0275template(88, AssetEditComponent_div_15_span_88_Template, 2, 0, "span", 48)(89, AssetEditComponent_div_15_div_89_Template, 6, 5, "div", 69);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(90, "svg", 50);
    \u0275\u0275element(91, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(92, AssetEditComponent_div_15_div_92_Template, 5, 1, "div", 52);
    \u0275\u0275elementEnd();
    \u0275\u0275template(93, AssetEditComponent_div_15_div_93_Template, 4, 1, "div", 39);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(94, "div")(95, "label", 36);
    \u0275\u0275text(96, " Category ");
    \u0275\u0275elementStart(97, "span", 37);
    \u0275\u0275text(98, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(99, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_99_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(100, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_100_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleCategoryDropdown());
    });
    \u0275\u0275elementStart(101, "div", 47);
    \u0275\u0275template(102, AssetEditComponent_div_15_span_102_Template, 2, 0, "span", 48)(103, AssetEditComponent_div_15_span_103_Template, 2, 1, "span", 49);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(104, "svg", 50);
    \u0275\u0275element(105, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(106, AssetEditComponent_div_15_div_106_Template, 5, 1, "div", 52);
    \u0275\u0275elementEnd();
    \u0275\u0275template(107, AssetEditComponent_div_15_div_107_Template, 4, 1, "div", 39);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(108, "div", 29)(109, "div", 30)(110, "div", 70);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(111, "svg", 71);
    \u0275\u0275element(112, "path", 72);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(113, "h2", 34);
    \u0275\u0275text(114, "Technical Details");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(115, "div", 73)(116, "div")(117, "label", 36);
    \u0275\u0275text(118, "Manufacturer");
    \u0275\u0275elementEnd();
    \u0275\u0275element(119, "input", 74);
    \u0275\u0275elementStart(120, "div", 40);
    \u0275\u0275text(121, "Maximum 100 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(122, "div")(123, "label", 36);
    \u0275\u0275text(124, "Brand");
    \u0275\u0275elementEnd();
    \u0275\u0275element(125, "input", 75);
    \u0275\u0275elementStart(126, "div", 40);
    \u0275\u0275text(127, "Optional");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(128, "div")(129, "label", 36);
    \u0275\u0275text(130, "Model");
    \u0275\u0275elementEnd();
    \u0275\u0275element(131, "input", 76);
    \u0275\u0275elementStart(132, "div", 40);
    \u0275\u0275text(133, "Maximum 100 characters");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(134, "div", 77)(135, "div")(136, "label", 36);
    \u0275\u0275text(137, "Dimensions");
    \u0275\u0275elementEnd();
    \u0275\u0275element(138, "input", 78);
    \u0275\u0275elementStart(139, "div", 40);
    \u0275\u0275text(140, "L \xD7 W \xD7 H (any unit)");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(141, "div")(142, "label", 36);
    \u0275\u0275text(143, "Weight");
    \u0275\u0275elementEnd();
    \u0275\u0275element(144, "input", 79);
    \u0275\u0275elementStart(145, "div", 40);
    \u0275\u0275text(146, "Any unit");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(147, "div")(148, "label", 36);
    \u0275\u0275text(149, "Capacity");
    \u0275\u0275elementEnd();
    \u0275\u0275element(150, "input", 80);
    \u0275\u0275elementStart(151, "div", 40);
    \u0275\u0275text(152, "Optional");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(153, "div")(154, "label", 36);
    \u0275\u0275text(155, " Serial Number ");
    \u0275\u0275elementStart(156, "span", 37);
    \u0275\u0275text(157, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(158, "input", 81);
    \u0275\u0275template(159, AssetEditComponent_div_15_div_159_Template, 4, 1, "div", 39);
    \u0275\u0275elementStart(160, "div", 40);
    \u0275\u0275text(161, "Required, max 100 chars, must be unique within your company");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(162, "div", 29)(163, "div", 30)(164, "div", 82);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(165, "svg", 83);
    \u0275\u0275element(166, "path", 84);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(167, "h2", 34);
    \u0275\u0275text(168, "Financial Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(169, "div", 35)(170, "div")(171, "label", 36);
    \u0275\u0275text(172, "Purchase Value (USD)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(173, "div", 85)(174, "div", 86)(175, "span", 87);
    \u0275\u0275text(176, "$ ");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(177, "input", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(178, "div", 40);
    \u0275\u0275text(179, "Must be a non-negative number");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(180, "div")(181, "label", 36);
    \u0275\u0275text(182, "Purchase Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(183, "input", 89, 0);
    \u0275\u0275elementStart(185, "div", 40);
    \u0275\u0275text(186, "Cannot be in the future");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(187, "div", 35)(188, "div")(189, "label", 36);
    \u0275\u0275text(190, "Depreciation Rate (%)");
    \u0275\u0275elementEnd();
    \u0275\u0275element(191, "input", 90);
    \u0275\u0275elementStart(192, "div", 40);
    \u0275\u0275text(193, "Annual depreciation rate (0-100%)");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(194, "div")(195, "label", 36);
    \u0275\u0275text(196, "Depreciation Life (Years)");
    \u0275\u0275elementEnd();
    \u0275\u0275element(197, "input", 91);
    \u0275\u0275elementStart(198, "div", 40);
    \u0275\u0275text(199, "Useful life for depreciation calculation (1-100 years)");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(200, "div", 35)(201, "div")(202, "label", 36);
    \u0275\u0275text(203, "Warranty Information");
    \u0275\u0275elementEnd();
    \u0275\u0275element(204, "input", 92);
    \u0275\u0275elementStart(205, "div", 40);
    \u0275\u0275text(206, "Warranty details (max 255 characters)");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(207, "div")(208, "label", 36);
    \u0275\u0275text(209, "Insurance Information");
    \u0275\u0275elementEnd();
    \u0275\u0275element(210, "input", 93);
    \u0275\u0275elementStart(211, "div", 40);
    \u0275\u0275text(212, "Insurance details (max 255 characters)");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(213, "div", 29)(214, "div", 30)(215, "div", 94);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(216, "svg", 95);
    \u0275\u0275element(217, "path", 96)(218, "path", 97);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(219, "h2", 34);
    \u0275\u0275text(220, "Location & Assignment");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(221, "div", 68)(222, "div")(223, "label", 36);
    \u0275\u0275text(224, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(225, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_225_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(226, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_226_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleLocationDropdown());
    });
    \u0275\u0275elementStart(227, "div", 47);
    \u0275\u0275template(228, AssetEditComponent_div_15_span_228_Template, 2, 0, "span", 48)(229, AssetEditComponent_div_15_div_229_Template, 7, 1, "div", 69);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(230, "svg", 50);
    \u0275\u0275element(231, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(232, AssetEditComponent_div_15_div_232_Template, 5, 1, "div", 52);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(233, "div")(234, "label", 36);
    \u0275\u0275text(235, "Department ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(236, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_236_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(237, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_237_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleDepartmentDropdown());
    });
    \u0275\u0275elementStart(238, "div", 47);
    \u0275\u0275template(239, AssetEditComponent_div_15_span_239_Template, 2, 0, "span", 48)(240, AssetEditComponent_div_15_div_240_Template, 6, 1, "div", 69);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(241, "svg", 50);
    \u0275\u0275element(242, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(243, AssetEditComponent_div_15_div_243_Template, 5, 1, "div", 52);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(244, "div", 40);
    \u0275\u0275text(245, "Optional department assignment");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(246, "div")(247, "label", 36);
    \u0275\u0275text(248, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(249, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_249_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(250, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_250_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleStatusDropdown());
    });
    \u0275\u0275elementStart(251, "div", 47);
    \u0275\u0275template(252, AssetEditComponent_div_15_div_252_Template, 4, 3, "div", 98)(253, AssetEditComponent_div_15_ng_template_253_Template, 2, 0, "ng-template", null, 1, \u0275\u0275templateRefExtractor);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(255, "svg", 50);
    \u0275\u0275element(256, "path", 51);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(257, AssetEditComponent_div_15_div_257_Template, 5, 1, "div", 99);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(258, "div", 40);
    \u0275\u0275text(259, "Current operational status of the asset");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(260, "div")(261, "label", 36);
    \u0275\u0275text(262, "Tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(263, AssetEditComponent_div_15_div_263_Template, 3, 1, "div", 100);
    \u0275\u0275elementStart(264, "div", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_264_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(265, "button", 46);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_265_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleTagsDropdown());
    });
    \u0275\u0275elementStart(266, "div", 47)(267, "span", 101);
    \u0275\u0275text(268);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(269, "div", 102);
    \u0275\u0275template(270, AssetEditComponent_div_15_span_270_Template, 2, 1, "span", 103);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(271, "svg", 50);
    \u0275\u0275element(272, "path", 51);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(273, AssetEditComponent_div_15_div_273_Template, 10, 4, "div", 52);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(274, "div", 40);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(275, "svg", 104);
    \u0275\u0275element(276, "path", 105);
    \u0275\u0275elementEnd();
    \u0275\u0275text(277, " Select existing tags or type to create new ones. Press Enter to add custom tags. ");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(278, "div", 29)(279, "div", 30)(280, "div", 106);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(281, "svg", 107);
    \u0275\u0275element(282, "path", 108);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(283, "h2", 34);
    \u0275\u0275text(284, "Asset Image");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(285, "div")(286, "label", 36);
    \u0275\u0275text(287, "Upload Image");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(288, "div", 109);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_288_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.triggerFileInput());
    })("dragover", function AssetEditComponent_div_15_Template_div_dragover_288_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDragOver($event));
    })("dragleave", function AssetEditComponent_div_15_Template_div_dragleave_288_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDragLeave($event));
    })("drop", function AssetEditComponent_div_15_Template_div_drop_288_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDrop($event));
    });
    \u0275\u0275elementStart(289, "div", 110)(290, "div", 111);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(291, "svg", 112);
    \u0275\u0275element(292, "path", 113);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(293, "p", 114);
    \u0275\u0275text(294);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(295, "input", 115, 2);
    \u0275\u0275listener("change", function AssetEditComponent_div_15_Template_input_change_295_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onFileChange($event));
    });
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(297, AssetEditComponent_div_15_div_297_Template, 17, 3, "div", 116);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(298, AssetEditComponent_div_15_div_298_Template, 6, 1, "div", 117)(299, AssetEditComponent_div_15_div_299_Template, 6, 1, "div", 118);
    \u0275\u0275elementStart(300, "div", 119)(301, "button", 120);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_301_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(302, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(303, "button", 121);
    \u0275\u0275template(304, AssetEditComponent_div_15_span_304_Template, 5, 0, "span", 122)(305, AssetEditComponent_div_15_span_305_Template, 6, 0, "span", 122);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    let tmp_9_0;
    let tmp_10_0;
    let tmp_13_0;
    let tmp_14_0;
    let tmp_15_0;
    let tmp_16_0;
    let tmp_17_0;
    let tmp_18_0;
    let tmp_19_0;
    let tmp_20_0;
    let tmp_21_0;
    const statusPlaceholder_r34 = \u0275\u0275reference(254);
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("formGroup", ctx_r1.assetForm);
    \u0275\u0275advance(14);
    \u0275\u0275classProp("border-red-300", ctx_r1.nameError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.nameError);
    \u0275\u0275advance(7);
    \u0275\u0275property("value", (ctx_r1.asset == null ? null : ctx_r1.asset.asset_id) || (ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance(9);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showParentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !((tmp_9_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_9_0.value));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ((tmp_10_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_10_0.value) && ctx_r1.getSelectedParent());
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showParentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showParentDropdown);
    \u0275\u0275advance(16);
    \u0275\u0275classProp("text-red-600", (((tmp_13_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_13_0.value) || 85) < 50)("text-green-600", (((tmp_14_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_14_0.value) || 85) >= 50);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("", ((tmp_15_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_15_0.value) || 85, "%");
    \u0275\u0275advance(3);
    \u0275\u0275styleProp("width", ((tmp_16_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_16_0.value) || 85, "%");
    \u0275\u0275classProp("bg-red-500", (((tmp_17_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_17_0.value) || 85) < 50)("bg-green-500", (((tmp_18_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_18_0.value) || 85) >= 50);
    \u0275\u0275advance(2);
    \u0275\u0275styleProp("left", ((tmp_19_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_19_0.value) || 85, "%");
    \u0275\u0275classProp("bg-red-500", (((tmp_20_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_20_0.value) || 85) < 50)("bg-green-500", (((tmp_21_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_21_0.value) || 85) >= 50);
    \u0275\u0275advance(26);
    \u0275\u0275classProp("border-red-300", ctx_r1.assetTypeError)("border-blue-500", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.assetTypeError);
    \u0275\u0275advance(7);
    \u0275\u0275classProp("border-red-300", ctx_r1.categoryError)("border-blue-500", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedCategory);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedCategory);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.categoryError);
    \u0275\u0275advance(51);
    \u0275\u0275classProp("border-red-300", ctx_r1.serialNumberError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.serialNumberError);
    \u0275\u0275advance(67);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedLocation);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedLocation);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(5);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedDepartment);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedDepartment);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(7);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.selectedStatus)("ngIfElse", statusPlaceholder_r34);
    \u0275\u0275advance(3);
    \u0275\u0275classProp("rotate-180", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", ctx_r1.selectedTags.length > 0);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length === 0 ? "Select tags" : "Add more tags", " ");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.selectedTags.length > 0);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(15);
    \u0275\u0275classProp("border-gray-300", !ctx_r1.isDragOver)("border-blue-500", ctx_r1.isDragOver)("bg-blue-50", ctx_r1.isDragOver)("hover:border-blue-400", !ctx_r1.isDragOver);
    \u0275\u0275advance(3);
    \u0275\u0275classProp("text-gray-400", !ctx_r1.isDragOver)("text-blue-500", ctx_r1.isDragOver);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("text-gray-500", !ctx_r1.isDragOver)("text-blue-600", ctx_r1.isDragOver);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.isDragOver ? "Release to upload images" : "PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here", " ");
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.existingImages.length > 0 || ctx_r1.imagePreviewUrls.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.submitError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.submitSuccess);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.saving);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.saving || !ctx_r1.isFormValid());
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.saving);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.saving);
  }
}
var AssetEditComponent = class _AssetEditComponent {
  fb;
  route;
  router;
  assetService;
  angularLocation;
  destroy$ = new Subject();
  dateInputs;
  fileInput;
  // Flatpickr instances
  flatpickrInstances = [];
  // Asset data
  asset = null;
  assetForm;
  // Loading states
  loading = true;
  saving = false;
  error = "";
  successMessage = "";
  // Dropdown data
  categories = [];
  locations = [];
  departments = [];
  availableTags = [];
  statusOptionsFromAPI = [];
  // Dropdown state
  showAssetTypeDropdown = false;
  showCategoryDropdown = false;
  showLocationDropdown = false;
  showStatusDropdown = false;
  showTagsDropdown = false;
  showDepartmentDropdown = false;
  showParentDropdown = false;
  selectedAssetType = null;
  selectedCategory = null;
  selectedLocation = null;
  selectedStatus = null;
  selectedDepartment = null;
  selectedTags = [];
  newTagInput = "";
  // Asset types
  assetTypes = [];
  assetTypesFromAPI = [];
  // Status options
  statusOptions = [
    { value: 1, label: "Active", color: "green", description: "Asset is operational and in use", sort_order: 1 },
    { value: 2, label: "Maintenance", color: "orange", description: "Asset is under maintenance or repair", sort_order: 2 },
    { value: 3, label: "Inactive", color: "gray", description: "Asset is not currently in use", sort_order: 3 },
    { value: 4, label: "Retired", color: "red", description: "Asset is retired and no longer in service", sort_order: 4 }
  ];
  // Image handling
  previewImage = null;
  selectedFile = null;
  images = [];
  imagePreviewUrls = [];
  existingImages = [];
  removedImageIds = [];
  isDragOver = false;
  // Validation errors
  nameError = "";
  assetTypeError = "";
  categoryError = "";
  serialNumberError = "";
  submitError = "";
  submitSuccess = "";
  possibleParents = [];
  constructor(fb, route, router, assetService, angularLocation) {
    this.fb = fb;
    this.route = route;
    this.router = router;
    this.assetService = assetService;
    this.angularLocation = angularLocation;
    this.assetForm = this.fb.group({
      name: ["", [Validators.required, Validators.minLength(2)]],
      description: [""],
      serial_number: ["", [Validators.minLength(0)]],
      model: [""],
      manufacturer: [""],
      purchase_date: [""],
      purchase_price: [null],
      depreciation: [null],
      depreciation_life: [null],
      location_id: [null],
      department_id: [null],
      parent_id: [null],
      warranty: [""],
      insurance: [""],
      health_score: [85, [Validators.min(0), Validators.max(100)]],
      brand: [""],
      dimensions: [""],
      weight: [""],
      capacity: [""],
      status: [null],
      type: [null, Validators.required],
      category_id: [null, Validators.required],
      tags: [[]]
    });
  }
  ngOnInit() {
    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {
      const assetId = params["id"];
      if (assetId) {
        this.loadAsset(assetId);
        this.assetService.getPossibleParents(assetId).subscribe((res) => {
          if (res.success && res.data?.possible_parents) {
            this.possibleParents = res.data.possible_parents;
          }
        });
      }
    });
    this.loadAssetTypes();
    this.loadCategories();
    this.loadLocations();
    this.loadDepartments();
    this.loadAvailableTags();
    this.loadAssetStatuses();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.initializeFlatpickr();
    }, 100);
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
  }
  initializeFlatpickr() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        this.dateInputs.forEach((inputRef, index) => {
          if (inputRef?.nativeElement) {
            const inputElement = inputRef.nativeElement;
            const fieldName = inputElement.getAttribute("formControlName");
            console.log("Processing date input:", fieldName);
            if (fieldName === "purchase_date") {
              console.log("Initializing Flatpickr for purchase_date");
              let config = {
                dateFormat: "d M, Y",
                allowInput: true,
                clickOpens: true,
                maxDate: "today",
                defaultDate: null,
                onChange: (selectedDates, dateStr) => {
                  console.log("Date selected:", dateStr);
                  this.assetForm.get("purchase_date")?.setValue(dateStr);
                }
              };
              const purchaseDate = this.assetForm.get("purchase_date")?.value;
              if (purchaseDate) {
                config.defaultDate = this.convertDisplayDateToDate(purchaseDate);
              }
              const instance = esm_default(inputElement, config);
              this.flatpickrInstances.push(instance);
              console.log("Flatpickr initialized successfully for purchase_date");
            }
          }
        });
      }
    }, 50);
  }
  loadAsset(id) {
    this.loading = true;
    this.error = "";
    this.assetService.getAsset(id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.asset = response.data.asset || response.data;
          this.populateForm();
        } else {
          this.error = response.message || "Failed to load asset";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading the asset";
        this.loading = false;
      }
    });
  }
  populateForm() {
    if (this.asset) {
      const purchaseDate = this.asset.purchase_date ? this.convertBackendDateToDisplay(this.asset.purchase_date) : "";
      const warrantyDate = this.asset.warranty ? this.convertBackendDateToDisplay(this.asset.warranty) : "";
      this.assetForm.patchValue({
        name: this.asset.name || "",
        description: this.asset.description || "",
        serial_number: this.asset.serial_number || "",
        model: this.asset.model || "",
        manufacturer: this.asset.manufacturer || "",
        brand: this.asset.brand || "",
        dimensions: this.asset.dimensions || "",
        weight: this.asset.weight || "",
        capacity: this.asset.capacity || "",
        purchase_date: purchaseDate,
        purchase_price: this.asset.purchase_price || null,
        depreciation: this.asset.depreciation || null,
        depreciation_life: this.asset.depreciation_life || null,
        location_id: this.asset.location_id || null,
        department_id: this.asset.department_id || null,
        warranty: warrantyDate,
        insurance: this.asset.insurance || "",
        health_score: this.asset.health_score || 85,
        status: this.asset.status || null,
        // Keep as is - could be ID or string, will be handled below
        type: this.asset.type || "",
        category_id: this.asset.category_id || null,
        tags: this.asset.tags || [],
        parent_id: this.asset.parent_id || null
      });
      if (this.asset.images && Array.isArray(this.asset.images)) {
        this.existingImages = this.asset.images;
      }
      setTimeout(() => {
        this.selectedAssetType = this.assetTypes.find((type) => type.id == this.asset.type) || null;
        this.selectedCategory = this.categories.find((cat) => cat.id === this.asset.category_id) || null;
        this.selectedLocation = this.locations.find((loc) => loc.id === this.asset.location_id) || null;
        this.selectedDepartment = this.departments.find((dept) => dept.id === this.asset.department_id) || null;
        const rawStatusIdOrName = this.asset?.status ?? this.asset?.asset_status?.id ?? this.asset?.asset_status?.name ?? null;
        const numericStatus = rawStatusIdOrName !== null && rawStatusIdOrName !== void 0 && !isNaN(Number(rawStatusIdOrName)) ? Number(rawStatusIdOrName) : null;
        const statusName = typeof rawStatusIdOrName === "string" ? rawStatusIdOrName : this.asset?.asset_status?.name ?? null;
        this.selectedStatus = this.statusOptions.find((status) => {
          const matchesId = numericStatus !== null && (status.value === numericStatus || status.id === numericStatus);
          const matchesLabel = !!statusName && status.label.toLowerCase() === String(statusName).toLowerCase();
          return matchesId || matchesLabel;
        }) || null;
        if (this.selectedStatus) {
          this.assetForm.patchValue({ status: this.selectedStatus.value });
        }
        if (this.asset.tags && Array.isArray(this.asset.tags)) {
          this.selectedTags = this.asset.tags.map((tag) => {
            return this.availableTags.find((t) => t.id === tag.id) || tag;
          });
        }
        this.assetForm.markAllAsTouched();
        this.assetForm.updateValueAndValidity();
        setTimeout(() => {
          this.initializeFlatpickr();
        }, 100);
      }, 100);
    }
  }
  loadAssetTypes() {
    this.assetService.getAssetTypes().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.assetTypesFromAPI = response.data;
          this.assetTypes = this.assetTypesFromAPI.map((type) => ({
            id: type.id,
            name: type.name,
            label: type.name,
            value: type.name,
            icon: type.icon,
            color: this.getColorForType(type.name),
            description: `${type.name} asset type`,
            iconError: false
          }));
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading asset types:", error);
      }
    });
  }
  loadCategories() {
    this.assetService.getAssetCategories().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data?.categories) {
          this.categories = response.data.categories;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading categories:", error);
      }
    });
  }
  loadLocations() {
    this.assetService.getLocations().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.locations = response.data.locations || response.data;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
      }
    });
  }
  loadDepartments() {
    this.assetService.getDepartments().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.departments = response.data;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading departments:", error);
      }
    });
  }
  loadAvailableTags() {
    this.availableTags = [
      { id: 1, name: "Critical", color: "red" },
      { id: 2, name: "High Priority", color: "orange" },
      { id: 3, name: "Equipment", color: "blue" },
      { id: 4, name: "IT Hardware", color: "purple" },
      { id: 5, name: "Furniture", color: "green" },
      { id: 6, name: "Vehicle", color: "yellow" },
      { id: 7, name: "Safety Equipment", color: "red" },
      { id: 8, name: "Office Supplies", color: "gray" }
    ];
  }
  loadAssetStatuses() {
    this.assetService.getAssetStatuses().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.statusOptionsFromAPI = response.data;
          this.statusOptions = this.statusOptionsFromAPI.map((status) => ({
            id: status.id,
            value: status.id,
            // Use numerical ID instead of string name
            label: status.name,
            color: this.hexToTailwindColor(status.color),
            description: status.description || `Asset is ${status.name.toLowerCase()}`,
            hexColor: status.color,
            sort_order: status.sort_order
          }));
          this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading asset statuses:", error);
      }
    });
  }
  hexToTailwindColor(hexColor) {
    const colorMap = {
      "#10B981": "green",
      "#F59E0B": "orange",
      "#9CA3AF": "gray",
      "#EF4444": "red",
      "#6B7280": "gray",
      "#22C55E": "green",
      "#3B82F6": "blue",
      "#8B5CF6": "purple",
      "#F97316": "orange"
    };
    return colorMap[hexColor.toUpperCase()] || "gray";
  }
  // Helper method to assign colors to asset types
  getColorForType(typeName) {
    const colorMap = {
      "Fixed Asset": "#2563eb",
      "Semi-Fixed Asset": "#22c55e",
      "Mobile Asset": "#f59e42",
      "Fleet Asset": "#a855f7",
      "IT Equipment": "#3b82f6",
      "Furniture": "#10b981",
      "Vehicle": "#f59e0b",
      "Machinery": "#ef4444",
      "Electronics": "#8b5cf6",
      "Tools": "#f97316"
    };
    return colorMap[typeName] || "#6b7280";
  }
  onAssetTypeIconError(event, assetType) {
    console.warn("Asset type icon failed to load:", assetType.name, assetType.icon);
    assetType.iconError = true;
    event.target.style.display = "none";
  }
  // Dropdown methods
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleCategoryDropdown() {
    this.showCategoryDropdown = !this.showCategoryDropdown;
    this.showAssetTypeDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleLocationDropdown() {
    this.showLocationDropdown = !this.showLocationDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  buildLocationLabel(loc) {
    if (!loc)
      return "";
    if (loc.full_path)
      return loc.full_path;
    if (Array.isArray(loc.complete_hierarchy) && loc.complete_hierarchy.length > 0) {
      return loc.complete_hierarchy.map((n) => n.name).join(" \u2192 ");
    }
    if (Array.isArray(loc.ancestors_with_details) && loc.ancestors_with_details.length > 0) {
      return loc.ancestors_with_details.map((n) => n.name).join(" \u2192 ") + " \u2192 " + (loc.name || "");
    }
    return loc.name || "";
  }
  getLocationLabel(loc) {
    return this.buildLocationLabel(loc);
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleTagsDropdown() {
    this.showTagsDropdown = !this.showTagsDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleDepartmentDropdown() {
    this.showDepartmentDropdown = !this.showDepartmentDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
  }
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.assetForm.patchValue({ type: type.id });
    this.showAssetTypeDropdown = false;
    this.clearErrors();
  }
  selectCategory(category) {
    this.selectedCategory = category;
    this.assetForm.patchValue({ category_id: category.id });
    this.showCategoryDropdown = false;
    this.clearErrors();
  }
  selectLocation(location) {
    this.selectedLocation = __spreadProps(__spreadValues({}, location), { label: this.buildLocationLabel(location) });
    this.assetForm.patchValue({ location_id: location.id });
    this.showLocationDropdown = false;
  }
  selectStatus(status) {
    this.selectedStatus = status;
    this.assetForm.patchValue({ status: status.value });
    this.showStatusDropdown = false;
  }
  selectDepartment(department) {
    this.selectedDepartment = department;
    this.assetForm.patchValue({ department_id: department.id });
    this.showDepartmentDropdown = false;
  }
  // Tag methods
  toggleTag(tag) {
    const index = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index > -1) {
      this.selectedTags.splice(index, 1);
    } else {
      this.selectedTags.push(tag);
    }
  }
  isTagSelected(tag) {
    return this.selectedTags.some((t) => t.id === tag.id);
  }
  onTagInputKeydown(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      this.createNewTag();
    }
  }
  createNewTag() {
    const tagName = this.newTagInput.trim();
    if (tagName && !this.selectedTags.some((t) => t.name.toLowerCase() === tagName.toLowerCase())) {
      const colors = ["red", "blue", "green", "yellow", "purple", "pink", "indigo", "gray"];
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      const newTag = {
        id: Date.now(),
        name: tagName,
        color: randomColor,
        isNew: true
      };
      this.selectedTags.push(newTag);
      this.newTagInput = "";
    }
  }
  removeTag(tag) {
    const index = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index > -1) {
      this.selectedTags.splice(index, 1);
    }
  }
  // File handling
  onFileChange(event) {
    if (event.target.files && event.target.files.length) {
      const newFiles = Array.from(event.target.files);
      this.processFiles(newFiles);
      event.target.value = "";
    }
  }
  onDragOver(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = true;
  }
  onDragLeave(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
  }
  onDrop(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
    const files = event.dataTransfer?.files;
    if (files && files.length > 0) {
      const fileArray = Array.from(files).filter((file) => file.type.startsWith("image/"));
      if (fileArray.length > 0) {
        this.processFiles(fileArray);
      }
    }
  }
  processFiles(files) {
    const maxImages = 10;
    const allowedTypes = ["image/jpeg", "image/png", "image/gif", "image/webp"];
    const newImages = [];
    for (const file of files) {
      if (!allowedTypes.includes(file.type)) {
        console.warn("Invalid file type:", file.name);
        continue;
      }
      if (file.size > 10 * 1024 * 1024) {
        console.warn("File too large:", file.name);
        continue;
      }
      const isDuplicate = this.images.some((existing) => existing.name === file.name && existing.size === file.size);
      if (isDuplicate) {
        console.warn("Duplicate file skipped:", file.name);
        continue;
      }
      if (this.images.length + newImages.length >= maxImages) {
        console.warn("Max image count exceeded:", file.name);
        break;
      }
      newImages.push(file);
      const reader = new FileReader();
      reader.onload = (e) => {
        if (e.target?.result) {
          this.imagePreviewUrls.push(e.target.result);
        }
      };
      reader.onerror = (error) => {
        console.error("Preview failed for:", file.name, error);
      };
      reader.readAsDataURL(file);
    }
    this.images = [...this.images, ...newImages];
  }
  removeImage(index) {
    this.images.splice(index, 1);
    this.imagePreviewUrls.splice(index, 1);
  }
  removeAllImages() {
    this.images = [];
    this.imagePreviewUrls = [];
  }
  removeExistingImage(index) {
    const removedImage = this.existingImages[index];
    if (removedImage && removedImage.id) {
      this.removedImageIds.push(removedImage.id);
    }
    this.existingImages.splice(index, 1);
  }
  removeAllExistingImages() {
    this.existingImages.forEach((img) => {
      if (img && img.id) {
        this.removedImageIds.push(img.id);
      }
    });
    this.existingImages = [];
  }
  moveImage(fromIndex, toIndex) {
    if (toIndex >= 0 && toIndex < this.images.length) {
      const file = this.images.splice(fromIndex, 1)[0];
      this.images.splice(toIndex, 0, file);
      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];
      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);
    }
  }
  moveImageUp(index) {
    if (index > 0) {
      this.moveImage(index, index - 1);
    }
  }
  moveImageDown(index) {
    if (index < this.images.length - 1) {
      this.moveImage(index, index + 1);
    }
  }
  triggerFileInput() {
    this.fileInput.nativeElement.click();
  }
  onImageError(event, index) {
    console.warn("Image failed to load at index:", index);
    event.target.onerror = null;
    event.target.src = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=";
  }
  onImageLoad(event, index) {
    console.log("Image loaded successfully at index:", index);
  }
  viewFullImage(imageUrl) {
    window.open(imageUrl, "_blank");
  }
  // Convert images to base64
  convertImagesToBase64() {
    return Promise.all(this.images.map((file) => {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => {
          if (reader.result) {
            resolve(reader.result);
          } else {
            reject(new Error("Failed to read file"));
          }
        };
        reader.onerror = () => reject(reader.error);
        reader.readAsDataURL(file);
      });
    }));
  }
  onCategoryIconError(event, category) {
    console.warn("Category icon failed to load:", category.name, category.icon);
    category.iconError = true;
    event.target.style.display = "none";
  }
  // Validation methods
  validateForm() {
    let isValid = true;
    this.clearErrors();
    if (!this.assetForm.get("name")?.value || this.assetForm.get("name")?.value.trim().length === 0) {
      this.nameError = "Asset name is required";
      isValid = false;
    } else if (this.assetForm.get("name")?.value.trim().length > 100) {
      this.nameError = "Asset name cannot exceed 100 characters";
      isValid = false;
    }
    if (!this.selectedAssetType) {
      this.assetTypeError = "Asset type is required";
      isValid = false;
    }
    if (!this.selectedCategory) {
      this.categoryError = "Category is required";
      isValid = false;
    }
    const serialNumber = this.assetForm.get("serial_number")?.value;
    if (serialNumber && serialNumber.trim().length === 0) {
      this.serialNumberError = "Serial number cannot be empty if provided";
      isValid = false;
    } else if (serialNumber && serialNumber.length > 255) {
      this.serialNumberError = "Serial number cannot exceed 255 characters";
      isValid = false;
    }
    return isValid;
  }
  clearErrors() {
    this.nameError = "";
    this.assetTypeError = "";
    this.categoryError = "";
    this.serialNumberError = "";
    this.submitError = "";
    this.submitSuccess = "";
  }
  // Form submission
  onSubmit() {
    if (!this.validateForm() || this.saving || !this.asset) {
      return;
    }
    if (this.assetForm.valid && !this.saving && this.asset) {
      this.saving = true;
      this.error = "";
      this.successMessage = "";
      this.submitError = "";
      this.submitSuccess = "";
      this.convertImagesToBase64().then((base64Images) => {
        const formData = this.assetForm.value;
        formData.tags = this.selectedTags.map((tag) => tag.name);
        if (formData.purchase_date) {
          formData.purchase_date = this.convertDateToBackendFormat(formData.purchase_date);
        }
        if (formData.warranty) {
          formData.warranty = this.convertDateToBackendFormat(formData.warranty);
        }
        formData.images = base64Images;
        formData.existing_images = this.existingImages.map((img) => img.id || img.image_url);
        if (this.removedImageIds.length > 0) {
          formData.remove_image_ids = this.removedImageIds;
        }
        this.assetService.updateAsset(this.asset.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.submitSuccess = "Asset updated successfully!";
              setTimeout(() => {
                this.router.navigate(["/assets/preview", this.asset.id]);
              }, 2e3);
            } else {
              this.submitError = response.message || "Failed to update asset";
            }
            this.saving = false;
          },
          error: (error) => {
            this.submitError = error.error?.message || "An error occurred while updating the asset";
            this.saving = false;
          }
        });
      }).catch((error) => {
        this.saving = false;
        this.submitError = "Failed to process images. Please try again.";
        console.error("Image conversion error:", error);
      });
    }
  }
  goBack() {
    this.angularLocation.back();
  }
  // Close dropdowns when clicking outside
  onDocumentClick(event) {
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  isFormValid() {
    return this.assetForm.valid && this.selectedAssetType !== null && this.selectedCategory !== null && !this.nameError && !this.assetTypeError && !this.categoryError && !this.serialNumberError;
  }
  getSelectedParent() {
    return this.possibleParents.find((p) => p.id === this.assetForm.get("parent_id")?.value);
  }
  // Helper method to convert date from display format to backend format
  convertDateToBackendFormat(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, "0");
      const day = String(date.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert backend date format to display format
  convertBackendDateToDisplay(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const options = {
        day: "2-digit",
        month: "short",
        year: "numeric"
      };
      return date.toLocaleDateString("en-GB", options).replace(/,/g, ",");
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert display date string to Date object for flatpickr
  convertDisplayDateToDate(dateStr) {
    if (!dateStr)
      return null;
    try {
      const date = new Date(dateStr);
      return isNaN(date.getTime()) ? null : date;
    } catch (error) {
      console.error("Date conversion error:", error);
      return null;
    }
  }
  static \u0275fac = function AssetEditComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetEditComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Location));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetEditComponent, selectors: [["app-asset-edit"]], viewQuery: function AssetEditComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c04, 5);
      \u0275\u0275viewQuery(_c13, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.fileInput = _t.first);
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, hostBindings: function AssetEditComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetEditComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 16, vars: 3, consts: [["dateInput", ""], ["statusPlaceholder", ""], ["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "p-6"], [1, "asset-edit-page"], [1, "mb-8"], [1, "flex", "items-center", "space-x-4", "mb-4"], ["type", "button", 1, "flex", "items-center", "space-x-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "font-medium"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], [4, "ngIf"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [3, "ngSubmit", "formGroup"], [1, "section-card"], [1, "flex", "items-center", "space-x-3", "mb-6"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "section-title"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6", "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "text-red-500"], ["type", "text", "placeholder", "e.g., Main Server Room AC Unit", "formControlName", "name", 1, "input"], ["class", "text-red-600 text-sm mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "items-center", "space-x-3"], ["type", "text", "readonly", "", 1, "input", "flex-1", 3, "value"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-xs", "font-medium", "bg-blue-100", "text-blue-800"], [1, "mb-6"], [1, "relative", 3, "click"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["rows", "3", "placeholder", "Brief description of the asset and its purpose...", "formControlName", "description", "maxlength", "500", 1, "input", "resize-none"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "justify-between", "mb-3"], [1, "text-sm", "text-gray-600"], [1, "text-2xl", "font-bold"], [1, "relative", "w-full", "h-6", "mb-3"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-2", "bg-gray-200", "rounded-lg"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "h-2", "rounded-lg", "transition-all", "duration-300"], ["type", "range", "min", "0", "max", "100", "formControlName", "health_score", 1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-6", "bg-transparent", "appearance-none", "cursor-pointer", "slider-input"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-4", "h-4", "rounded-full", "border-2", "border-white", "shadow-md", "pointer-events-none", "transition-all", "duration-300", 2, "margin-left", "-8px"], [1, "flex", "justify-between", "text-xs", "text-gray-500", "mt-2"], [1, "w-10", "h-10", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], ["class", "flex items-center space-x-3", 4, "ngIf"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-6"], ["type", "text", "placeholder", "e.g., Dell, HP, Toyota", "formControlName", "manufacturer", "maxlength", "100", 1, "input"], ["type", "text", "placeholder", "e.g., Apple, Samsung", "formControlName", "brand", "maxlength", "100", 1, "input"], ["type", "text", "placeholder", "e.g., PowerEdge R730", "formControlName", "model", "maxlength", "100", 1, "input"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-6", "mt-6"], ["type", "text", "formControlName", "dimensions", "placeholder", "e.g., 120\xD760\xD740 cm", 1, "input"], ["type", "text", "formControlName", "weight", "placeholder", "e.g., 12.5 kg", 1, "input"], ["type", "text", "formControlName", "capacity", "placeholder", "e.g., 256 GB, 5000 mAh, 2 Ton", 1, "input"], ["type", "text", "placeholder", "e.g., SN123456789", "formControlName", "serial_number", "maxlength", "100", 1, "input"], [1, "w-10", "h-10", "bg-yellow-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-yellow-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "relative"], [1, "absolute", "inset-y-0", "left-0", "pl-3", "flex", "items-center", "pointer-events-none"], [1, "text-gray-500", "sm:text-sm"], ["type", "number", "placeholder", "5,000.00", "formControlName", "purchase_price", "step", "0.01", "min", "0", 1, "input", 2, "padding-left", "24px"], ["type", "text", "formControlName", "purchase_date", "placeholder", "Select purchase date", "readonly", "", 1, "input"], ["type", "number", "formControlName", "depreciation", "placeholder", "e.g., 20", "min", "0", "max", "100", "step", "0.01", 1, "input"], ["type", "number", "formControlName", "depreciation_life", "placeholder", "e.g., 5", "min", "1", "max", "100", 1, "input"], ["type", "text", "formControlName", "warranty", "placeholder", "e.g., 2 years manufacturer warranty", "maxlength", "255", 1, "input"], ["type", "text", "formControlName", "insurance", "placeholder", "e.g., Policy #12345, expires 2025-12-31", "maxlength", "255", 1, "input"], [1, "w-10", "h-10", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-indigo-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], ["class", "flex items-center space-x-3", 4, "ngIf", "ngIfElse"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg", 4, "ngIf"], ["class", "mb-3", 4, "ngIf"], [1, "text-gray-400"], [1, "flex", "items-center", "space-x-2"], ["class", "text-sm text-gray-500", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "w-10", "h-10", "bg-pink-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-pink-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "mt-1", "flex", "justify-center", "px-6", "pt-8", "pb-8", "border-2", "border-dashed", "rounded-lg", "transition-all", "duration-200", 3, "click", "dragover", "dragleave", "drop"], [1, "space-y-1", "text-center"], [1, "w-16", "h-16", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "transition-colors"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "text-sm", "transition-colors"], ["id", "file-upload", "name", "file-upload", "type", "file", "accept", "image/*", "multiple", "", 1, "sr-only", 3, "change"], ["class", "mt-6", 4, "ngIf"], ["class", "mb-6 p-4 bg-red-50 border border-red-200 rounded-lg", 4, "ngIf"], ["class", "mb-6 p-4 bg-green-50 border border-green-200 rounded-lg", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "pt-6", "border-t", "border-gray-200"], ["type", "button", 1, "px-6", "py-3", "border", "border-gray-300", "rounded-lg", "text-gray-700", "font-medium", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["type", "submit", 1, "px-8", "py-3", "bg-blue-600", "text-white", "font-medium", "rounded-lg", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", "shadow-sm", 3, "disabled"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "text-red-600", "text-sm", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "inline", "mr-1"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], [1, "px-3", "py-2", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider", "bg-gray-50"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], [1, "font-medium", "text-gray-900"], [1, "text-xs", "text-gray-500"], [1, "w-6", "h-6", "rounded", "flex", "items-center", "justify-center"], ["class", "w-4 h-4", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 3, "color", 4, "ngIf"], [1, "w-4", "h-4", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "text-blue-700", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "rounded-lg", "flex", "items-center", "justify-center", "bg-blue-100"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["class", "w-5 h-5 text-gray-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-6", "h-6", "bg-indigo-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-indigo-600"], [1, "w-8", "h-8", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], [1, "w-6", "h-6", "bg-purple-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"], [1, "w-8", "h-8", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "text-xs text-gray-400", 4, "ngIf"], [1, "text-xs", "text-gray-400"], [1, "w-3", "h-3", "rounded-full"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg"], [1, "mb-3"], [1, "flex", "flex-wrap", "gap-2"], [3, "class", 4, "ngFor", "ngForOf"], ["type", "button", 1, "ml-2", "inline-flex", "items-center", "justify-center", "w-4", "h-4", "rounded-full", "hover:bg-black", "hover:bg-opacity-20", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "px-3", "py-2", "border-b", "border-gray-100"], ["type", "text", "placeholder", "Type to create new tag...", 1, "w-full", "px-3", "py-2", "text-sm", "border", "border-gray-300", "rounded-md", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", 3, "ngModelChange", "keydown", "click", "ngModel", "ngModelOptions"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "text-xs", "text-gray-400"], ["class", "text-blue-600", 4, "ngIf"], [1, "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "mt-6"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "text-sm", "font-medium", "text-gray-700"], ["type", "button", 1, "text-red-600", "hover:text-red-700", "text-sm", "font-medium", "transition-colors", 3, "click"], [1, "grid", "grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-4"], ["class", "relative group", 4, "ngFor", "ngForOf"], [1, "mt-4", "p-3", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], [1, "text-blue-800", "text-sm"], [1, "relative", "group"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "border", "border-gray-200", "hover:border-blue-300", "transition-colors"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-0", "group-hover:opacity-50", "transition-all", "duration-200", "flex", "items-center", "justify-center"], [1, "opacity-0", "group-hover:opacity-100", "transition-opacity", "duration-200", "flex", "items-center", "space-x-2"], ["type", "button", 1, "w-8", "h-8", "bg-white", "bg-opacity-90", "text-gray-700", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-100", "transition-all", "shadow-sm", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"], ["type", "button", 1, "absolute", "top-2", "right-2", "w-6", "h-6", "bg-red-500", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-red-600", "transition-colors", "shadow-sm", 3, "click"], [1, "absolute", "top-2", "left-2", "px-2", "py-1", "bg-green-600", "text-white", "rounded", "text-xs", "font-medium"], [1, "mt-2", "text-center"], [1, "text-xs", "text-gray-600", "truncate"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "load", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-50", "group-hover:bg-opacity-20", "transition-all", "duration-200", "flex", "items-center", "justify-center"], ["type", "button", "class", "w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm", 3, "click", 4, "ngIf"], [1, "absolute", "top-2", "left-2", "px-2", "py-1", "bg-blue-600", "text-white", "rounded", "text-xs", "font-medium"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 15l7-7 7 7"], [1, "mb-6", "p-4", "bg-red-50", "border", "border-red-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-600"], [1, "text-red-800", "font-medium"], [1, "mb-6", "p-4", "bg-green-50", "border", "border-green-200", "rounded-lg"], [1, "text-green-800", "font-medium"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-5", "w-5"]], template: function AssetEditComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 3)(1, "div", 4)(2, "div", 5)(3, "div", 6)(4, "button", 7);
      \u0275\u0275listener("click", function AssetEditComponent_Template_button_click_4_listener() {
        return ctx.goBack();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(5, "svg", 8);
      \u0275\u0275element(6, "path", 9);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(7, "span", 10);
      \u0275\u0275text(8, "Back to Assets");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(9, "h1", 11);
      \u0275\u0275text(10, "Edit Asset");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(11, "p", 12);
      \u0275\u0275text(12, " Update asset information and specifications ");
      \u0275\u0275elementEnd()();
      \u0275\u0275template(13, AssetEditComponent_div_13_Template, 10, 0, "div", 13)(14, AssetEditComponent_div_14_Template, 11, 1, "div", 13)(15, AssetEditComponent_div_15_Template, 306, 105, "div", 14);
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(13);
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.loading && !ctx.error);
    }
  }, dependencies: [CommonModule, NgForOf, NgIf, ReactiveFormsModule, \u0275NgNoValidate, DefaultValueAccessor, NumberValueAccessor, RangeValueAccessor, NgControlStatus, NgControlStatusGroup, MaxLengthValidator, MinValidator, MaxValidator, FormGroupDirective, FormControlName, FormsModule, NgModel, RouterModule], styles: ["\n\n.asset-edit-page[_ngcontent-%COMP%] {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card[_ngcontent-%COMP%] {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card[_ngcontent-%COMP%]:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title[_ngcontent-%COMP%] {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input[_ngcontent-%COMP%] {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input[_ngcontent-%COMP%]::placeholder {\n  color: #9ca3af;\n}\n.input[_ngcontent-%COMP%]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300[_ngcontent-%COMP%] {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page[_ngcontent-%COMP%] {\n    padding: 1rem;\n  }\n  .section-card[_ngcontent-%COMP%] {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2[_ngcontent-%COMP%], \n   .grid-cols-3[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideDown 0.2s ease-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover {\n  background-color: #eff6ff;\n}\n@keyframes _ngcontent-%COMP%_slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n.transition-transform[_ngcontent-%COMP%] {\n  transition: transform 0.2s ease-in-out;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n[_nghost-%COMP%]     .flatpickr-input {\n  cursor: pointer;\n}\n[_nghost-%COMP%]     .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input[_ngcontent-%COMP%]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-edit.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetEditComponent, [{
    type: Component,
    args: [{ selector: "app-asset-edit", standalone: true, imports: [CommonModule, ReactiveFormsModule, FormsModule, RouterModule], template: `<div class="min-h-screen bg-gray-50 p-6">\r
  <div class="asset-edit-page">\r
    <!-- Header -->\r
    <div class="mb-8">\r
      <div class="flex items-center space-x-4 mb-4">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          class="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors">\r
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
          </svg>\r
          <span class="font-medium">Back to Assets</span>\r
        </button>\r
      </div>\r
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Edit Asset</h1>\r
      <p class="text-gray-600">\r
        Update asset information and specifications\r
      </p>\r
    </div>\r
\r
    <!-- Loading State -->\r
    <div *ngIf="loading" class="flex items-center justify-center py-20">\r
      <div class="text-center">\r
        <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
          <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
          </svg>\r
        </div>\r
        <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Asset</h3>\r
        <p class="text-sm text-gray-500">Please wait while we fetch the asset details...</p>\r
      </div>\r
    </div>\r
\r
    <!-- Error State -->\r
    <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
      <div class="text-center">\r
        <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
          <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
          </svg>\r
        </div>\r
        <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Asset</h3>\r
        <p class="text-sm text-gray-500 mb-4">{{error}}</p>\r
        <button\r
          (click)="goBack()"\r
          class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
          Back to Assets\r
        </button>\r
      </div>\r
    </div>\r
\r
    <!-- Form Content -->\r
    <div *ngIf="!loading && !error">\r
      <form [formGroup]="assetForm" (ngSubmit)="onSubmit()" >\r
        <!-- Basic Information -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Basic Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Asset Name <span class="text-red-500">*</span>\r
              </label>\r
              <input\r
                type="text"\r
                class="input"\r
                [class.border-red-300]="nameError"\r
                placeholder="e.g., Main Server Room AC Unit"\r
                formControlName="name" />\r
              <div *ngIf="nameError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ nameError }}\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Asset ID</label>\r
              <div class="flex items-center space-x-3">\r
                <input type="text" class="input flex-1" [value]="asset?.asset_id || asset?.id" readonly />\r
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">\r
                  auto-generated\r
                </span>\r
              </div>\r
              <p class="text-xs text-gray-500 mt-1">Unique identifier automatically assigned</p>\r
            </div>\r
          </div>\r
\r
          <div class="mb-6">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Parent Asset</label>\r
            <!-- Custom Parent Asset Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="showParentDropdown = !showParentDropdown"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showParentDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!assetForm.get('parent_id')?.value" class="text-gray-400">Select parent asset</span>\r
                  <span *ngIf="assetForm.get('parent_id')?.value && getSelectedParent()" class="text-gray-900">\r
                    {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r
                  </span>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showParentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showParentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select parent asset</div>\r
                  <button\r
                    type="button"\r
                    (click)="assetForm.get('parent_id')?.setValue(null); showParentDropdown = false"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="!assetForm.get('parent_id')?.value">\r
                    -- None --\r
                  </button>\r
                  <button\r
                    *ngFor="let parent of possibleParents"\r
                    type="button"\r
                    (click)="assetForm.get('parent_id')?.setValue(parent.id); showParentDropdown = false"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="assetForm.get('parent_id')?.value === parent.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{parent.name}}</div>\r
                        <div class="text-xs text-gray-500">{{parent.asset_id}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Optional: Select a parent asset if this asset is a child of another.</div>\r
          </div>\r
\r
          <div class="mb-6">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>\r
            <textarea\r
              class="input resize-none"\r
              rows="3"\r
              placeholder="Brief description of the asset and its purpose..."\r
              formControlName="description"\r
              maxlength="500"></textarea>\r
            <div class="text-xs text-gray-500 mt-1">Maximum 500 characters</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-3">Health Score</label>\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <div class="flex items-center justify-between mb-3">\r
                <span class="text-sm text-gray-600">Current Score</span>\r
                <span class="text-2xl font-bold" [class.text-red-600]="(assetForm.get('health_score')?.value || 85) < 50" [class.text-green-600]="(assetForm.get('health_score')?.value || 85) >= 50">{{ assetForm.get('health_score')?.value || 85 }}%</span>\r
              </div>\r
              <!-- Custom Health Score Bar with Working Slider -->\r
              <div class="relative w-full h-6 mb-3">\r
                <!-- Background Track -->\r
                <div class="absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg"></div>\r
\r
                <!-- Progress Bar -->\r
                <div\r
                  class="absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300"\r
                  [class.bg-red-500]="(assetForm.get('health_score')?.value || 85) < 50"\r
                  [class.bg-green-500]="(assetForm.get('health_score')?.value || 85) >= 50"\r
                  [style.width.%]="assetForm.get('health_score')?.value || 85"></div>\r
\r
                <!-- Interactive Range Input -->\r
                <input\r
                  type="range"\r
                  min="0"\r
                  max="100"\r
                  formControlName="health_score"\r
                  class="absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input" />\r
\r
                <!-- Custom Thumb -->\r
                <div\r
                  class="absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300"\r
                  [class.bg-red-500]="(assetForm.get('health_score')?.value || 85) < 50"\r
                  [class.bg-green-500]="(assetForm.get('health_score')?.value || 85) >= 50"\r
                  [style.left.%]="assetForm.get('health_score')?.value || 85"\r
                  style="margin-left: -8px;"></div>\r
              </div>\r
\r
              <div class="flex justify-between text-xs text-gray-500 mt-2">\r
                <span>Poor (0%)</span>\r
                <span>Fair (25%)</span>\r
                <span>Good (50%)</span>\r
                <span>Very Good (75%)</span>\r
                <span>Excellent (100%)</span>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Classification -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Asset Classification</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Asset Type <span class="text-red-500">*</span>\r
              </label>\r
              <!-- Custom Asset Type Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleAssetTypeDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-red-300]="assetTypeError"\r
                  [class.border-blue-500]="showAssetTypeDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedAssetType" class="text-gray-400">Select asset type</span>\r
                    <div *ngIf="selectedAssetType" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 rounded flex items-center justify-center" [style.background-color]="selectedAssetType.color + '20'">\r
                        <img\r
                          *ngIf="selectedAssetType.icon && !selectedAssetType.iconError"\r
                          [src]="selectedAssetType.icon"\r
                          [alt]="selectedAssetType.name || selectedAssetType.label"\r
                          class="w-4 h-4"\r
                          (error)="onAssetTypeIconError($event, selectedAssetType)">\r
                        <svg\r
                          *ngIf="!selectedAssetType.icon || selectedAssetType.iconError"\r
                          class="w-4 h-4"\r
                          [style.color]="selectedAssetType.color"\r
                          fill="none"\r
                          stroke="currentColor"\r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedAssetType.label}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showAssetTypeDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showAssetTypeDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select asset type</div>\r
                    <button\r
                      *ngFor="let type of assetTypes"\r
                      type="button"\r
                      (click)="selectAssetType(type)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedAssetType?.id === type.id"\r
                      [class.text-blue-700]="selectedAssetType?.id === type.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100">\r
                          <img\r
                            *ngIf="type.icon && !type.iconError"\r
                            [src]="type.icon"\r
                            [alt]="type.name || type.label"\r
                            class="w-5 h-5"\r
                            (error)="onAssetTypeIconError($event, type)">\r
                          <svg\r
                            *ngIf="!type.icon || type.iconError"\r
                            class="w-5 h-5 text-blue-600"\r
                            fill="none"\r
                            stroke="currentColor"\r
                            viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{type.label || type.name}}</div>\r
                          <div class="text-sm text-gray-500">{{type.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div *ngIf="assetTypeError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ assetTypeError }}\r
              </div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Category <span class="text-red-500">*</span>\r
              </label>\r
              <!-- Custom Category Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleCategoryDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-red-300]="categoryError"\r
                  [class.border-blue-500]="showCategoryDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedCategory" class="text-gray-400">Select category</span>\r
                    <span *ngIf="selectedCategory" class="text-gray-900">{{selectedCategory.name}}</span>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showCategoryDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showCategoryDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select category</div>\r
                    <button\r
                      *ngFor="let cat of categories"\r
                      type="button"\r
                      (click)="selectCategory(cat)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedCategory?.id === cat.id"\r
                      [class.text-blue-700]="selectedCategory?.id === cat.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                          <img\r
                            *ngIf="cat.icon"\r
                            [src]="cat.icon"\r
                            [alt]="cat.name"\r
                            class="w-5 h-5"\r
                            (error)="onCategoryIconError($event, cat)">\r
                          <svg\r
                            *ngIf="!cat.icon || cat.iconError"\r
                            class="w-5 h-5 text-gray-600"\r
                            fill="none"\r
                            stroke="currentColor"\r
                            viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{cat.name}}</div>\r
                          <div *ngIf="cat.description" class="text-sm text-gray-500">{{cat.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div *ngIf="categoryError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ categoryError }}\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Technical Details -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Technical Details</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Manufacturer</label>\r
              <input\r
                type="text"\r
                class="input"\r
                placeholder="e.g., Dell, HP, Toyota"\r
                formControlName="manufacturer"\r
                maxlength="100" />\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Brand</label>\r
              <input\r
                type="text"\r
                class="input"\r
                placeholder="e.g., Apple, Samsung"\r
                formControlName="brand"\r
                maxlength="100" />\r
              <div class="text-xs text-gray-500 mt-1">Optional</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Model</label>\r
              <input\r
                type="text"\r
                class="input"\r
                placeholder="e.g., PowerEdge R730"\r
                formControlName="model"\r
                maxlength="100" />\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Dimensions</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="dimensions"\r
                placeholder="e.g., 120\xD760\xD740 cm" />\r
              <div class="text-xs text-gray-500 mt-1">L \xD7 W \xD7 H (any unit)</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Weight</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="weight"\r
                placeholder="e.g., 12.5 kg" />\r
              <div class="text-xs text-gray-500 mt-1">Any unit</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Capacity</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="capacity"\r
                placeholder="e.g., 256 GB, 5000 mAh, 2 Ton" />\r
              <div class="text-xs text-gray-500 mt-1">Optional</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Serial Number <span class="text-red-500">*</span>\r
              </label>\r
              <input\r
                type="text"\r
                class="input"\r
                [class.border-red-300]="serialNumberError"\r
                placeholder="e.g., SN123456789"\r
                formControlName="serial_number"\r
                maxlength="100" />\r
              <div *ngIf="serialNumberError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ serialNumberError }}\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Required, max 100 chars, must be unique within your company</div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Financial Information -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Financial Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Value (USD)</label>\r
              <div class="relative">\r
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\r
                  <span class="text-gray-500 sm:text-sm">$ </span>\r
                </div>\r
                <input\r
                  type="number"\r
                  class="input"\r
                  style="padding-left: 24px;"\r
                  placeholder="5,000.00"\r
                  formControlName="purchase_price"\r
                  step="0.01"\r
                  min="0" />\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Must be a non-negative number</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Date</label>\r
              <input\r
                #dateInput\r
                type="text"\r
                class="input"\r
                formControlName="purchase_date"\r
                placeholder="Select purchase date"\r
                readonly />\r
              <div class="text-xs text-gray-500 mt-1">Cannot be in the future</div>\r
            </div>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Rate (%)</label>\r
              <input\r
                type="number"\r
                class="input"\r
                formControlName="depreciation"\r
                placeholder="e.g., 20"\r
                min="0"\r
                max="100"\r
                step="0.01" />\r
              <div class="text-xs text-gray-500 mt-1">Annual depreciation rate (0-100%)</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Life (Years)</label>\r
              <input\r
                type="number"\r
                class="input"\r
                formControlName="depreciation_life"\r
                placeholder="e.g., 5"\r
                min="1"\r
                max="100" />\r
              <div class="text-xs text-gray-500 mt-1">Useful life for depreciation calculation (1-100 years)</div>\r
            </div>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Warranty Information</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="warranty"\r
                placeholder="e.g., 2 years manufacturer warranty"\r
                maxlength="255" />\r
              <div class="text-xs text-gray-500 mt-1">Warranty details (max 255 characters)</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Insurance Information</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="insurance"\r
                placeholder="e.g., Policy #12345, expires 2025-12-31"\r
                maxlength="255" />\r
              <div class="text-xs text-gray-500 mt-1">Insurance details (max 255 characters)</div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Location & Assignment -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Location & Assignment</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>\r
              <!-- Custom Location Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleLocationDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showLocationDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedLocation" class="text-gray-400">Select location</span>\r
                    <div *ngIf="selectedLocation" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 bg-indigo-100 rounded flex items-center justify-center">\r
                        <svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedLocation.label || selectedLocation.name}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select location</div>\r
                    <button\r
                      *ngFor="let loc of locations"\r
                      type="button"\r
                      (click)="selectLocation(loc)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedLocation?.id === loc.id"\r
                      [class.text-blue-700]="selectedLocation?.id === loc.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">\r
                          <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{ getLocationLabel(loc) }}</div>\r
                          <div *ngIf="loc.type" class="text-sm text-gray-500">{{loc.type.name}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Department ID</label>\r
              <!-- Custom Department Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleDepartmentDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showDepartmentDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedDepartment" class="text-gray-400">Select department</span>\r
                    <div *ngIf="selectedDepartment" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 bg-purple-100 rounded flex items-center justify-center">\r
                        <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedDepartment.name}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select department</div>\r
                    <button\r
                      *ngFor="let dept of departments"\r
                      type="button"\r
                      (click)="selectDepartment(dept)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedDepartment?.id === dept.id"\r
                      [class.text-blue-700]="selectedDepartment?.id === dept.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">\r
                          <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{dept.name}}</div>\r
                          <div *ngIf="dept.description" class="text-sm text-gray-500">{{dept.description}}</div>\r
                          <div *ngIf="dept.code" class="text-xs text-gray-400">Code: {{dept.code}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Optional department assignment</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
              <!-- Custom Status Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleStatusDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showStatusDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <div *ngIf="selectedStatus; else statusPlaceholder" class="flex items-center space-x-3">\r
                      <div class="w-3 h-3 rounded-full" [style.background-color]="selectedStatus.hexColor || '#6B7280'"></div>\r
                      <span class="text-gray-900">{{selectedStatus.label}}</span>\r
                    </div>\r
                    <ng-template #statusPlaceholder>\r
                      <span class="text-gray-400">Select status</span>\r
                    </ng-template>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showStatusDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showStatusDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select status</div>\r
                    <button\r
                      *ngFor="let status of statusOptions"\r
                      type="button"\r
                      (click)="selectStatus(status)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedStatus?.value === status.value"\r
                      [class.text-blue-700]="selectedStatus?.value === status.value">\r
                      <div class="flex items-center space-x-3">\r
                        <div [class]="'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'">\r
                          <div class="w-3 h-3 rounded-full" [style.background-color]="status.hexColor || '#6B7280'"></div>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{status.label}}</div>\r
                          <div class="text-sm text-gray-500">{{status.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Current operational status of the asset</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>\r
              <!-- Selected Tags Display -->\r
              <div *ngIf="selectedTags.length > 0" class="mb-3">\r
                <div class="flex flex-wrap gap-2">\r
                  <span *ngFor="let tag of selectedTags"\r
                        [class]="'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'">\r
                    {{tag.name}}\r
                    <button\r
                      type="button"\r
                      (click)="removeTag(tag)"\r
                      class="ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors">\r
                      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
                  </span>\r
                </div>\r
              </div>\r
\r
              <!-- Tags Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleTagsDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showTagsDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span class="text-gray-400">\r
                      {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r
                    </span>\r
                    <div class="flex items-center space-x-2">\r
                      <span *ngIf="selectedTags.length > 0" class="text-sm text-gray-500">\r
                        {{selectedTags.length}} selected\r
                      </span>\r
                      <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showTagsDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                      </svg>\r
                    </div>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showTagsDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <!-- Add New Tag Input -->\r
                    <div class="px-3 py-2 border-b border-gray-100">\r
                      <div class="relative">\r
                        <input\r
                          type="text"\r
                          [(ngModel)]="newTagInput"\r
                          [ngModelOptions]="{standalone: true}"\r
                          (keydown)="onTagInputKeydown($event)"\r
                          placeholder="Type to create new tag..."\r
                          class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"\r
                          (click)="$event.stopPropagation()">\r
                        <div class="absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400">\r
                          Press Enter\r
                        </div>\r
                      </div>\r
                    </div>\r
\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select tags</div>\r
                    <button\r
                      *ngFor="let tag of availableTags"\r
                      type="button"\r
                      (click)="toggleTag(tag)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="isTagSelected(tag)">\r
                      <div class="flex items-center justify-between">\r
                        <div class="flex items-center space-x-3">\r
                          <div [class]="'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'">\r
                            <div [class]="'w-3 h-3 rounded-full bg-' + tag.color + '-500'"></div>\r
                          </div>\r
                          <span class="font-medium text-gray-900">{{tag.name}}</span>\r
                        </div>\r
                        <div *ngIf="isTagSelected(tag)" class="text-blue-600">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                          </svg>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">\r
                <svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                Select existing tags or type to create new ones. Press Enter to add custom tags.\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Image -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Asset Image</h2>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Upload Image</label>\r
            <div\r
              (click)="triggerFileInput()"\r
              class="mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200"\r
              [class.border-gray-300]="!isDragOver"\r
              [class.border-blue-500]="isDragOver"\r
              [class.bg-blue-50]="isDragOver"\r
              [class.hover:border-blue-400]="!isDragOver"\r
              (dragover)="onDragOver($event)"\r
              (dragleave)="onDragLeave($event)"\r
              (drop)="onDrop($event)">\r
              <div class="space-y-1 text-center">\r
                <!-- Upload Icon -->\r
                <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4">\r
                  <svg class="w-8 h-8 transition-colors"\r
                       [class.text-gray-400]="!isDragOver"\r
                       [class.text-blue-500]="isDragOver"\r
                       fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
                  </svg>\r
                </div>\r
\r
                <p class="text-sm transition-colors"\r
                   [class.text-gray-500]="!isDragOver"\r
                   [class.text-blue-600]="isDragOver">\r
                  {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r
                </p>\r
\r
                <!-- Hidden file input for drag and drop -->\r
                <input #fileInput id="file-upload" name="file-upload" type="file" class="sr-only" (change)="onFileChange($event)" accept="image/*" multiple>\r
              </div>\r
            </div>\r
\r
            <!-- Image Gallery -->\r
            <div *ngIf="existingImages.length > 0 || imagePreviewUrls.length > 0" class="mt-6">\r
              <div class="flex items-center justify-between mb-4">\r
                <h4 class="text-sm font-medium text-gray-700">Asset Images ({{existingImages.length + imagePreviewUrls.length}})</h4>\r
                <button\r
                  type="button"\r
                  (click)="removeAllImages(); removeAllExistingImages()"\r
                  class="text-red-600 hover:text-red-700 text-sm font-medium transition-colors">\r
                  Remove All\r
                </button>\r
              </div>\r
\r
              <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">\r
                <!-- Existing Images -->\r
                <div *ngFor="let existingImage of existingImages; let i = index" class="relative group">\r
                  <!-- Image Preview -->\r
                  <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                    <img\r
                      [src]="existingImage.image_url"\r
                      [alt]="'Existing Asset Image ' + (i + 1)"\r
                      class="w-full h-full object-cover bg-white"\r
                      (error)="onImageError($event, i)"\r
                      loading="lazy" />\r
\r
                    <!-- Image Overlay -->\r
                    <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-50 transition-all duration-200 flex items-center justify-center">\r
                      <!-- Action Buttons -->\r
                      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                        <!-- View Full Size -->\r
                        <button\r
                          type="button"\r
                          (click)="viewFullImage(existingImage.image_url)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                          </svg>\r
                        </button>\r
                      </div>\r
                    </div>\r
\r
                    <!-- Remove Button -->\r
                    <button\r
                      type="button"\r
                      (click)="removeExistingImage(i)"\r
                      class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
\r
                    <!-- Existing Image Badge -->\r
                    <div class="absolute top-2 left-2 px-2 py-1 bg-green-600 text-white rounded text-xs font-medium">\r
                      Existing\r
                    </div>\r
                  </div>\r
\r
                  <!-- Image Info -->\r
                  <div class="mt-2 text-center">\r
                    <p class="text-xs text-gray-600 truncate">{{existingImage.image_path.split('/').pop()}}</p>\r
                    <p class="text-xs text-gray-500">Existing Image</p>\r
                  </div>\r
                </div>\r
\r
                <!-- New Images -->\r
                <div *ngFor="let previewUrl of imagePreviewUrls; let i = index" class="relative group">\r
                  <!-- Image Preview -->\r
                  <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                    <img\r
                      [src]="previewUrl"\r
                      [alt]="'Asset Image ' + (i + 1)"\r
                      class="w-full h-full object-cover bg-white"\r
                      (error)="onImageError($event, existingImages.length + i)"\r
                      (load)="onImageLoad($event, existingImages.length + i)"\r
                      loading="lazy" />\r
\r
                    <!-- Image Overlay -->\r
                    <div class="absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center">\r
                      <!-- Action Buttons -->\r
                      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                        <!-- Move Up -->\r
                        <button\r
                          *ngIf="i > 0"\r
                          type="button"\r
                          (click)="moveImageUp(i)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>\r
                          </svg>\r
                        </button>\r
\r
                        <!-- Move Down -->\r
                        <button\r
                          *ngIf="i < imagePreviewUrls.length - 1"\r
                          type="button"\r
                          (click)="moveImageDown(i)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                          </svg>\r
                        </button>\r
                      </div>\r
                    </div>\r
\r
                    <!-- Remove Button -->\r
                    <button\r
                      type="button"\r
                      (click)="removeImage(i)"\r
                      class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
\r
                    <!-- Image Number Badge -->\r
                    <div class="absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white rounded text-xs font-medium">\r
                      New\r
                    </div>\r
                  </div>\r
\r
                  <!-- Image Info -->\r
                  <div class="mt-2 text-center">\r
                    <p class="text-xs text-gray-600 truncate">{{images[i]?.name}}</p>\r
                    <p class="text-xs text-gray-500">{{ ((images[i]?.size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r
                  </div>\r
                </div>\r
              </div>\r
\r
              <!-- Gallery Instructions -->\r
              <div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                  </svg>\r
                  <p class="text-blue-800 text-sm">\r
                    <strong>Gallery Tips:</strong> Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads.\r
                  </p>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Global Error Message -->\r
        <div *ngIf="submitError" class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">\r
          <div class="flex items-center space-x-2">\r
            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
            </svg>\r
            <p class="text-red-800 font-medium">{{ submitError }}</p>\r
          </div>\r
        </div>\r
\r
        <!-- Success Message -->\r
        <div *ngIf="submitSuccess" class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">\r
          <div class="flex items-center space-x-2">\r
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
            </svg>\r
            <p class="text-green-800 font-medium">{{ submitSuccess }}</p>\r
          </div>\r
        </div>\r
\r
        <!-- Actions -->\r
        <div class="flex items-center justify-between pt-6 border-t border-gray-200">\r
          <button\r
            type="button"\r
            (click)="goBack()"\r
            [disabled]="saving"\r
            class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
            Cancel\r
          </button>\r
\r
          <button\r
            type="submit"\r
            [disabled]="saving || !isFormValid()"\r
            class="px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm">\r
            <span *ngIf="!saving" class="flex items-center space-x-2">\r
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
              </svg>\r
              <span>Update Asset</span>\r
            </span>\r
            <span *ngIf="saving" class="flex items-center space-x-2">\r
              <svg xmlns="http://www.w3.org/2000/svg" class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
              <span>Updating Asset...</span>\r
            </span>\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/asset-edit/asset-edit.component.scss */\n.asset-edit-page {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input::placeholder {\n  color: #9ca3af;\n}\n.input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300 {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page {\n    padding: 1rem;\n  }\n  .section-card {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2,\n  .grid-cols-3 {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown .dropdown-button {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown .dropdown-button:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown .dropdown-button:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown .dropdown-menu {\n  animation: slideDown 0.2s ease-out;\n}\n.custom-dropdown .dropdown-item {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown .dropdown-item:hover {\n  background-color: #eff6ff;\n}\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180 {\n  transform: rotate(180deg);\n}\n.transition-transform {\n  transition: transform 0.2s ease-in-out;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n:host ::ng-deep .flatpickr-input {\n  cursor: pointer;\n}\n:host ::ng-deep .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-edit.component.css.map */\n"] }]
  }], () => [{ type: FormBuilder }, { type: ActivatedRoute }, { type: Router }, { type: AssetService }, { type: Location }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }], fileInput: [{
    type: ViewChild,
    args: ["fileInput", { static: false }]
  }], onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetEditComponent, { className: "AssetEditComponent", filePath: "src/app/assets/components/asset-edit/asset-edit.component.ts", lineNumber: 18 });
})();

// src/app/assets/components/smart-import/smart-import.component.ts
function SmartImportComponent_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 20)(1, "div", 12);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 21);
    \u0275\u0275element(3, "path", 22);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 23);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r0.errorMessage);
  }
}
function SmartImportComponent_div_27_div_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "p", 35);
    \u0275\u0275text(2, "Choose Excel File");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "p", 36);
    \u0275\u0275text(4, "or drag and drop your file here");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 37);
    \u0275\u0275listener("click", function SmartImportComponent_div_27_div_5_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r2);
      const fileInput_r3 = \u0275\u0275reference(8);
      return \u0275\u0275resetView(fileInput_r3.click());
    });
    \u0275\u0275text(6, " Browse Files ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "input", 38, 0);
    \u0275\u0275listener("change", function SmartImportComponent_div_27_div_5_Template_input_change_7_listener($event) {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r0.parseFile($event));
    });
    \u0275\u0275elementEnd()();
  }
}
function SmartImportComponent_div_27_div_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 32)(1, "div", 39);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 40);
    \u0275\u0275element(3, "path", 41);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 42);
    \u0275\u0275text(5, "File Uploaded Successfully!");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "p", 43);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.name);
  }
}
function SmartImportComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div")(1, "div", 24)(2, "div", 25);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 26);
    \u0275\u0275element(4, "path", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275template(5, SmartImportComponent_div_27_div_5_Template, 9, 0, "div", 19)(6, SmartImportComponent_div_27_div_6_Template, 8, 1, "div", 28);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "div", 29)(8, "h3", 30);
    \u0275\u0275text(9, "File Requirements:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "ul", 31)(11, "li");
    \u0275\u0275text(12, "\u2022 Excel files only (.xlsx, .xls)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "li");
    \u0275\u0275text(14, "\u2022 First row should contain column headers");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "li");
    \u0275\u0275text(16, "\u2022 Maximum file size: 10MB");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "li");
    \u0275\u0275text(18, "\u2022 Required columns: Asset Name, Location, Category");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(19, "div", 32)(20, "p", 33);
    \u0275\u0275text(21, " Need a template? Download our sample Excel file: ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "a", 34);
    \u0275\u0275text(23, " Download Excel Template ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", !ctx_r0.uploaded);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.uploaded);
  }
}
function SmartImportComponent_div_28_div_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 51)(1, "span", 52);
    \u0275\u0275text(2, "Modified:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 54);
    \u0275\u0275text(4);
    \u0275\u0275pipe(5, "date");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(5, 1, ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.lastModified, "medium"));
  }
}
function SmartImportComponent_div_28_div_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 61)(1, "h4", 62);
    \u0275\u0275text(2, "File Analysis:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 63)(4, "div");
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "div");
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div");
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("Total rows: ", ctx_r0.importResults.file_stats.total_rows_processed, "");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("Valid assets: ", ctx_r0.importResults.file_stats.valid_assets_found, "");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("Skipped rows: ", ctx_r0.importResults.file_stats.skipped_rows, "");
  }
}
function SmartImportComponent_div_28__svg_svg_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 64);
    \u0275\u0275element(1, "circle", 65)(2, "path", 66);
    \u0275\u0275elementEnd();
  }
}
function SmartImportComponent_div_28_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "div", 32)(2, "div", 44);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 45);
    \u0275\u0275element(4, "path", 46);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h2", 47);
    \u0275\u0275text(6, "Ready to Import");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 48);
    \u0275\u0275text(8, "Your file has been validated and is ready for import.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 49)(10, "div", 50)(11, "div", 51)(12, "span", 52);
    \u0275\u0275text(13, "File:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "span", 53);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "div", 51)(17, "span", 52);
    \u0275\u0275text(18, "Size:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(19, "span", 54);
    \u0275\u0275text(20);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(21, SmartImportComponent_div_28_div_21_Template, 6, 4, "div", 55);
    \u0275\u0275elementEnd();
    \u0275\u0275template(22, SmartImportComponent_div_28_div_22_Template, 10, 3, "div", 56);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(23, "div", 57)(24, "button", 58);
    \u0275\u0275listener("click", function SmartImportComponent_div_28_Template_button_click_24_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.resetImport());
    });
    \u0275\u0275text(25, " Choose Different File ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "button", 59);
    \u0275\u0275listener("click", function SmartImportComponent_div_28_Template_button_click_26_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.startBulkImport());
    });
    \u0275\u0275template(27, SmartImportComponent_div_28__svg_svg_27_Template, 3, 0, "svg", 60);
    \u0275\u0275text(28);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(15);
    \u0275\u0275textInterpolate(ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.name);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", (ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.size) ? (ctx_r0.uploadedFile.size / 1024 / 1024).toFixed(2) : "0", " MB");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.lastModified);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.importResults == null ? null : ctx_r0.importResults.file_stats);
    \u0275\u0275advance(4);
    \u0275\u0275property("disabled", ctx_r0.importLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.importLoading);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r0.importLoading ? "Starting Import..." : "Start Import", " ");
  }
}
var SmartImportComponent = class _SmartImportComponent {
  assetService;
  router;
  importProgressService;
  importComplete = new EventEmitter();
  destroy$ = new Subject();
  // Step management
  currentStep = 1;
  totalSteps = 2;
  // Simplified to: 1. Upload, 2. Progress
  // File upload state
  uploadedFile = null;
  uploaded = false;
  // Import state
  importLoading = false;
  isImportComplete = false;
  importedCount = 0;
  // Import results
  importResults = null;
  showResults = false;
  // Error state
  errorMessage = "";
  showError = false;
  // These properties are now managed by ImportProgressService
  constructor(assetService, router, importProgressService) {
    this.assetService = assetService;
    this.router = router;
    this.importProgressService = importProgressService;
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
  }
  /**
   * Handle file upload
   */
  parseFile(event) {
    const file = event.target.files[0];
    this.clearError();
    if (!file) {
      this.errorMessage = "No file selected";
      this.showError = true;
      return;
    }
    const fileExtension = file.name.split(".").pop()?.toLowerCase();
    if (!fileExtension || !["xlsx", "xls"].includes(fileExtension)) {
      this.errorMessage = "Please upload a valid Excel file (.xlsx, .xls).";
      this.showError = true;
      return;
    }
    this.uploadedFile = file;
    this.uploaded = true;
    this.currentStep = 2;
  }
  /**
   * Clear error state
   */
  clearError() {
    this.errorMessage = "";
    this.showError = false;
  }
  /**
   * Start the bulk import process
   */
  startBulkImport() {
    if (!this.uploadedFile) {
      this.errorMessage = "No file selected for import";
      this.showError = true;
      return;
    }
    this.importLoading = true;
    this.clearError();
    this.assetService.importBulkExcel(this.uploadedFile).subscribe({
      next: (response) => {
        this.importLoading = false;
        if (response && response.success && response.data?.job_id) {
          this.importProgressService.startImport(response.data.job_id, response.data);
        } else {
          this.errorMessage = response.message || "Invalid response from server";
          this.showError = true;
        }
      },
      error: (error) => {
        this.importLoading = false;
        this.errorMessage = error.error?.message || "Error starting import process";
        this.showError = true;
      }
    });
  }
  /**
   * Reset the import process
   */
  resetImport() {
    this.currentStep = 1;
    this.uploadedFile = null;
    this.uploaded = false;
    this.importLoading = false;
    this.clearError();
  }
  /**
   * Close all dropdowns when clicking outside (compatibility method)
   */
  closeAllDropdowns() {
  }
  static \u0275fac = function SmartImportComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _SmartImportComponent)(\u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ImportProgressService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _SmartImportComponent, selectors: [["app-smart-import"]], outputs: { importComplete: "importComplete" }, decls: 29, vars: 17, consts: [["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "py-8"], [1, "max-w-4xl", "mx-auto", "px-4", "sm:px-6", "lg:px-8"], [1, "bg-white", "rounded-xl", "shadow-sm", "border", "border-gray-200", "p-8", "mb-8"], [1, "flex", "justify-between", "items-start", "mb-6"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600", "text-base"], ["routerLink", "/assets/list", 1, "bg-gray-100", "hover:bg-gray-200", "text-gray-700", "font-semibold", "px-4", "py-2", "rounded-lg", "transition-colors", "flex", "items-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10 19l-7-7m0 0l7-7m-7 7h18"], [1, "flex", "items-center", "justify-center", "mb-8"], [1, "flex", "items-center", "space-x-4"], [1, "flex", "items-center"], [1, "w-8", "h-8", "bg-blue-600", "text-white", "rounded-full", "flex", "items-center", "justify-center", "text-sm", "font-semibold"], [1, "ml-2", "text-sm", "font-medium", "text-gray-900"], [1, "w-16", "h-1", "bg-gray-300", "rounded"], [1, "w-8", "h-8", "rounded-full", "flex", "items-center", "justify-center", "text-sm", "font-semibold"], [1, "ml-2", "text-sm", "font-medium"], ["class", "bg-red-50 border border-red-200 rounded-lg p-4 mb-6", 4, "ngIf"], [4, "ngIf"], [1, "bg-red-50", "border", "border-red-200", "rounded-lg", "p-4", "mb-6"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-500", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-red-700", "text-sm", "font-medium"], [1, "border-2", "border-dashed", "border-gray-300", "rounded-xl", "p-12", "text-center", "hover:border-gray-400", "transition-colors"], [1, "max-w-md", "mx-auto"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "mx-auto", "text-gray-400", "mb-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"], ["class", "text-center", 4, "ngIf"], [1, "mt-8", "bg-blue-50", "border", "border-blue-200", "rounded-lg", "p-4"], [1, "text-sm", "font-medium", "text-blue-900", "mb-2"], [1, "text-sm", "text-blue-700", "space-y-1"], [1, "text-center"], [1, "text-gray-600", "text-sm", "mb-4"], ["href", "/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx", "download", "", 1, "text-blue-600", "hover:text-blue-700", "font-medium", "text-sm", "underline"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-gray-500", "mb-4"], ["type", "button", 1, "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "px-6", "py-3", "rounded-lg", "transition-colors", 3, "click"], ["type", "file", "accept", ".xlsx,.xls", 1, "hidden", 3, "change"], [1, "w-12", "h-12", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-3"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "text-lg", "font-medium", "text-gray-900", "mb-1"], [1, "text-gray-600", "text-sm"], [1, "w-16", "h-16", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-6"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-2xl", "font-bold", "text-gray-900", "mb-4"], [1, "text-gray-600", "mb-6"], [1, "bg-gray-50", "rounded-lg", "p-6", "mb-6", "max-w-md", "mx-auto"], [1, "text-left", "space-y-3"], [1, "flex", "justify-between"], [1, "text-gray-600"], [1, "font-medium", "text-gray-900", "truncate", "ml-4"], [1, "font-medium", "text-gray-900"], ["class", "flex justify-between", 4, "ngIf"], ["class", "bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4", 4, "ngIf"], [1, "flex", "justify-center", "space-x-4"], [1, "px-6", "py-3", "bg-gray-100", "hover:bg-gray-200", "text-gray-700", "font-semibold", "rounded-lg", "transition-colors", 3, "click"], [1, "px-8", "py-3", "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "rounded-lg", "transition-colors", "disabled:opacity-50", "disabled:cursor-not-allowed", "flex", "items-center", 3, "click", "disabled"], ["class", "animate-spin -ml-1 mr-3 h-4 w-4 text-blue", "fill", "none", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "bg-blue-50", "border", "border-blue-200", "rounded-lg", "p-4", "mt-4"], [1, "font-medium", "text-blue-900", "mb-2"], [1, "text-sm", "text-blue-800", "space-y-1"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "-ml-1", "mr-3", "h-4", "w-4", "text-blue"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function SmartImportComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div")(5, "h1", 5);
      \u0275\u0275text(6, "Smart Asset Import");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(7, "p", 6);
      \u0275\u0275text(8, "Import multiple assets efficiently with our guided wizard");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(9, "button", 7);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(10, "svg", 8);
      \u0275\u0275element(11, "path", 9);
      \u0275\u0275elementEnd();
      \u0275\u0275text(12, " Back to Assets ");
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(13, "div", 10)(14, "div", 11)(15, "div", 12)(16, "div", 13);
      \u0275\u0275text(17, "1");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(18, "span", 14);
      \u0275\u0275text(19, "Upload File");
      \u0275\u0275elementEnd()();
      \u0275\u0275element(20, "div", 15);
      \u0275\u0275elementStart(21, "div", 12)(22, "div", 16);
      \u0275\u0275text(23, "2");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(24, "span", 17);
      \u0275\u0275text(25, "Start Import");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(26, SmartImportComponent_div_26_Template, 6, 1, "div", 18)(27, SmartImportComponent_div_27_Template, 24, 2, "div", 19)(28, SmartImportComponent_div_28_Template, 29, 7, "div", 19);
      \u0275\u0275elementEnd()()();
    }
    if (rf & 2) {
      \u0275\u0275advance(20);
      \u0275\u0275classProp("bg-blue-600", ctx.currentStep >= 2);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-600", ctx.currentStep >= 2)("text-white", ctx.currentStep >= 2)("bg-gray-300", ctx.currentStep < 2)("text-gray-600", ctx.currentStep < 2);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("text-gray-900", ctx.currentStep >= 2)("text-gray-500", ctx.currentStep < 2);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showError);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.currentStep === 1);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.currentStep === 2);
    }
  }, dependencies: [CommonModule, NgIf, DatePipe, FormsModule, RouterLink], styles: ["\n\n/*# sourceMappingURL=smart-import.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SmartImportComponent, [{
    type: Component,
    args: [{ selector: "app-smart-import", standalone: true, imports: [CommonModule, FormsModule, RouterLink], template: `<!-- Smart Import Component -->\r
<div class="min-h-screen bg-gray-50 py-8">\r
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\r
\r
    <!-- Header -->\r
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8">\r
      <div class="flex justify-between items-start mb-6">\r
        <div>\r
          <h1 class="text-3xl font-bold text-gray-900 mb-2">Smart Asset Import</h1>\r
          <p class="text-gray-600 text-base">Import multiple assets efficiently with our guided wizard</p>\r
        </div>\r
              <button\r
         routerLink="/assets/list"\r
          class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-lg transition-colors flex items-center">\r
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>\r
          </svg>\r
          Back to Assets\r
        </button>\r
      </div>\r
\r
      <!-- Step Indicator -->\r
      <div class="flex items-center justify-center mb-8">\r
        <div class="flex items-center space-x-4">\r
          <!-- Step 1 -->\r
          <div class="flex items-center">\r
            <div class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold">1</div>\r
            <span class="ml-2 text-sm font-medium text-gray-900">Upload File</span>\r
          </div>\r
\r
          <!-- Connector -->\r
          <div class="w-16 h-1 bg-gray-300 rounded" [class.bg-blue-600]="currentStep >= 2"></div>\r
\r
          <!-- Step 2 -->\r
          <div class="flex items-center">\r
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold"\r
                 [class.bg-blue-600]="currentStep >= 2"\r
                 [class.text-white]="currentStep >= 2"\r
                 [class.bg-gray-300]="currentStep < 2"\r
                 [class.text-gray-600]="currentStep < 2">2</div>\r
            <span class="ml-2 text-sm font-medium"\r
                  [class.text-gray-900]="currentStep >= 2"\r
                  [class.text-gray-500]="currentStep < 2">Start Import</span>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Error Display -->\r
      <div *ngIf="showError" class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">\r
        <div class="flex items-center">\r
          <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <span class="text-red-700 text-sm font-medium">{{ errorMessage }}</span>\r
        </div>\r
      </div>\r
\r
      <!-- Step 1: Upload File -->\r
      <div *ngIf="currentStep === 1">\r
        <!-- Upload Area -->\r
        <div class="border-2 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-gray-400 transition-colors">\r
          <div class="max-w-md mx-auto">\r
            <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>\r
            </svg>\r
\r
            <div *ngIf="!uploaded">\r
              <p class="text-lg font-medium text-gray-900 mb-2">Choose Excel File</p>\r
              <p class="text-gray-500 mb-4">or drag and drop your file here</p>\r
             <button\r
                type="button"\r
                (click)="fileInput.click()"\r
                class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors">\r
                Browse Files\r
              </button>\r
             <input\r
                #fileInput\r
               type="file"\r
               accept=".xlsx,.xls"\r
               class="hidden"\r
                (change)="parseFile($event)">\r
            </div>\r
\r
            <div *ngIf="uploaded" class="text-center">\r
              <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">\r
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                </svg>\r
              </div>\r
              <p class="text-lg font-medium text-gray-900 mb-1">File Uploaded Successfully!</p>\r
              <p class="text-gray-600 text-sm">{{ uploadedFile?.name }}</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- File Requirements -->\r
        <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4">\r
          <h3 class="text-sm font-medium text-blue-900 mb-2">File Requirements:</h3>\r
          <ul class="text-sm text-blue-700 space-y-1">\r
            <li>\u2022 Excel files only (.xlsx, .xls)</li>\r
            <li>\u2022 First row should contain column headers</li>\r
            <li>\u2022 Maximum file size: 10MB</li>\r
            <li>\u2022 Required columns: Asset Name, Location, Category</li>\r
          </ul>\r
        </div>\r
\r
        <!-- Template Download -->\r
        <div class="text-center">\r
          <p class="text-gray-600 text-sm mb-4">\r
            Need a template? Download our sample Excel file:\r
          </p>\r
           <a href="/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx"\r
              download\r
              class="text-blue-600 hover:text-blue-700 font-medium text-sm underline">\r
              Download Excel Template\r
            </a>\r
        </div>\r
      </div>\r
\r
      <!-- Step 2: Start Import -->\r
      <div *ngIf="currentStep === 2">\r
        <div class="text-center">\r
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">\r
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
          </div>\r
\r
          <h2 class="text-2xl font-bold text-gray-900 mb-4">Ready to Import</h2>\r
          <p class="text-gray-600 mb-6">Your file has been validated and is ready for import.</p>\r
\r
          <!-- File Summary -->\r
          <div class="bg-gray-50 rounded-lg p-6 mb-6 max-w-md mx-auto">\r
            <div class="text-left space-y-3">\r
              <div class="flex justify-between">\r
                <span class="text-gray-600">File:</span>\r
                <span class="font-medium text-gray-900 truncate ml-4">{{ uploadedFile?.name }}</span>\r
              </div>\r
              <div class="flex justify-between">\r
                <span class="text-gray-600">Size:</span>\r
                <span class="font-medium text-gray-900">{{ uploadedFile?.size ? (uploadedFile!.size / 1024 / 1024).toFixed(2) : '0' }} MB</span>\r
              </div>\r
              <!-- File Info will be populated after upload -->\r
              <div *ngIf="uploadedFile?.lastModified" class="flex justify-between">\r
                <span class="text-gray-600">Modified:</span>\r
                <span class="font-medium text-gray-900">{{ uploadedFile?.lastModified | date:'medium' }}</span>\r
              </div>\r
            </div>\r
\r
            <!-- Processing Info (if available from previous upload) -->\r
            <div *ngIf="importResults?.file_stats" class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4">\r
              <h4 class="font-medium text-blue-900 mb-2">File Analysis:</h4>\r
              <div class="text-sm text-blue-800 space-y-1">\r
                <div>Total rows: {{ importResults.file_stats.total_rows_processed }}</div>\r
                <div>Valid assets: {{ importResults.file_stats.valid_assets_found }}</div>\r
                <div>Skipped rows: {{ importResults.file_stats.skipped_rows }}</div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Import Actions -->\r
          <div class="flex justify-center space-x-4">\r
           <button\r
              (click)="resetImport()"\r
              class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors">\r
              Choose Different File\r
            </button>\r
           <button\r
              (click)="startBulkImport()"\r
              [disabled]="importLoading"\r
              class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center">\r
             <svg *ngIf="importLoading"  class="animate-spin -ml-1 mr-3 h-4 w-4 text-blue" fill="none" viewBox="0 0 24 24">\r
               <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
               <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
             </svg>\r
              {{ importLoading ? 'Starting Import...' : 'Start Import' }}\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
\r
    </div>\r
  </div>\r
\r
  <!-- Progress box is now handled globally by ImportProgressPopupComponent -->\r
</div>\r
`, styles: ["/* src/app/assets/components/smart-import/smart-import.component.scss */\n/*# sourceMappingURL=smart-import.component.css.map */\n"] }]
  }], () => [{ type: AssetService }, { type: Router }, { type: ImportProgressService }], { importComplete: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(SmartImportComponent, { className: "SmartImportComponent", filePath: "src/app/assets/components/smart-import/smart-import.component.ts", lineNumber: 16 });
})();

// src/app/assets/assets-routing.module.ts
var routes = [
  { path: "list", component: AssetListComponent },
  { path: "create", component: AssetCreateComponent },
  { path: "import", component: SmartImportComponent },
  { path: "preview/:id", component: AssetViewComponent },
  { path: ":id/edit", component: AssetEditComponent }
];
var AssetsRoutingModule = class _AssetsRoutingModule {
  static \u0275fac = function AssetsRoutingModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetsRoutingModule)();
  };
  static \u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({ type: _AssetsRoutingModule });
  static \u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({ imports: [RouterModule.forChild(routes), RouterModule] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetsRoutingModule, [{
    type: NgModule,
    args: [{
      imports: [RouterModule.forChild(routes)],
      exports: [RouterModule]
    }]
  }], null, null);
})();

// src/app/assets/assets.module.ts
var AssetsModule = class _AssetsModule {
  static \u0275fac = function AssetsModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetsModule)();
  };
  static \u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({ type: _AssetsModule });
  static \u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({ imports: [CommonModule, AssetsRoutingModule, AssetListComponent, AssetViewComponent, AssetEditComponent, TransferAssetModalComponent, SmartImportComponent, PublicAssetViewComponent] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetsModule, [{
    type: NgModule,
    args: [{
      imports: [CommonModule, AssetsRoutingModule, AssetListComponent, AssetViewComponent, AssetEditComponent, TransferAssetModalComponent, SmartImportComponent, PublicAssetViewComponent]
    }]
  }], null, null);
})();
export {
  AssetsModule
};
//# sourceMappingURL=chunk-6XT3N7CY.js.map
