import{a as K}from"./chunk-2HN7MGS7.js";import{a as P}from"./chunk-ZCMLCEAS.js";import{A as G,C as F,c as V,d as _,e as L,f as R,j as A,o as T,r as j,x as N}from"./chunk-GVARUVC4.js";import{c as J,e as I,i as ie}from"./chunk-7Z53IGV3.js";import"./chunk-6VCTJO6U.js";import{j as de,l as E,w as me}from"./chunk-OO62REYN.js";import{$a as M,Cb as C,Fb as g,Gb as c,Ka as k,Na as s,Sa as b,Tb as o,Ub as x,Vb as le,Y,ab as Z,eb as f,ec as te,ia as h,ja as w,ka as p,la as y,mb as l,nb as ae,ob as S,wb as t,xb as i,yb as m}from"./chunk-I4CHZ5QN.js";import"./chunk-EQDQRRRY.js";function ue(r,n){if(r&1&&(t(0,"div",37)(1,"p",38),o(2),i()()),r&2){let e=c();s(2),x(e.sessionMessage)}}function pe(r,n){if(r&1){let e=C();t(0,"button",42),g("click",function(){h(e);let d=c(2);return w(d.resendVerification())}),o(1," Resend verification email "),i()}if(r&2){let e=c(2);l("disabled",e.isLoading)}}function ge(r,n){if(r&1&&(t(0,"div",39)(1,"p",40),o(2),i(),f(3,pe,2,1,"button",41),i()),r&2){let e=c();s(2),x(e.emailVerificationMessage),s(),l("ngIf",e.showResendVerification)}}function fe(r,n){if(r&1&&(t(0,"div",43)(1,"div",44),p(),t(2,"svg",45),m(3,"path",46),i(),y(),t(4,"div",47)(5,"p",48),o(6,"Account Temporarily Locked"),i(),t(7,"p",49),o(8),i(),t(9,"div",50)(10,"div",51),o(11),i(),t(12,"span",52),o(13,"minute(s) remaining"),i()()()()()),r&2){let e=c();s(8),x(e.errorMessage),s(3),x(e.getLockoutMinutes())}}function ve(r,n){if(r&1&&(t(0,"div",53)(1,"p",54),o(2),i()()),r&2){let e=c();s(2),x(e.errorMessage)}}function xe(r,n){r&1&&(p(),t(0,"svg",55),m(1,"path",56)(2,"path",57),i())}function he(r,n){r&1&&(p(),t(0,"svg",55),m(1,"path",58),i())}function we(r,n){r&1&&(t(0,"span"),o(1,"Sign In"),i())}function be(r,n){r&1&&(t(0,"span",59),p(),t(1,"svg",60),m(2,"circle",61)(3,"path",62),i(),o(4," Signing In... "),i())}var q=class r{constructor(n,e,a){this.fb=n;this.router=e;this.authService=a;this.loginForm=this.fb.group({email:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]]});let d=localStorage.getItem("session_message");d&&(this.sessionMessage=d,localStorage.removeItem("session_message"),setTimeout(()=>{this.sessionMessage=""},5e3))}loginForm;isLoading=!1;errorMessage="";emailVerificationMessage="";showResendVerification=!1;userId=null;isLocked=!1;lockoutTime=0;lockoutCountdown=0;lockoutInterval;showPassword=!1;sessionMessage="";toggleMode(){this.router.navigate(["/register"])}onSubmit(){this.loginForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.emailVerificationMessage="",this.showResendVerification=!1,this.authService.login(this.loginForm.value).subscribe({next:n=>{n.success?this.router.navigate(["/dashboard"]):(this.errorMessage=n.message||"Login failed",n.email_verified===!1&&(this.emailVerificationMessage=n.message,this.showResendVerification=!0,this.userId=n.user_id||null)),this.isLoading=!1},error:n=>{let e=n.error;n.status===429?(this.isLocked=!0,this.errorMessage=e?.message||"Too many login attempts. Please try again later.",e?.retry_after&&(this.lockoutCountdown=e.retry_after,this.startLockoutTimer())):n.status===403&&e?.email_verified===!1?(this.emailVerificationMessage=e.message,this.showResendVerification=!0,this.userId=e.user_id||null,this.errorMessage=""):(this.errorMessage=e?.message||"An error occurred during login",e?.email_verified===!1&&(this.emailVerificationMessage=e.message,this.showResendVerification=!0,this.userId=e.user_id||null)),this.isLoading=!1}}))}resendVerification(){if(!this.loginForm.get("email")?.value){this.errorMessage="Please enter your email address";return}this.isLoading=!0,this.errorMessage="",this.authService.resendVerification({email:this.loginForm.get("email")?.value}).subscribe({next:n=>{n.success?(this.emailVerificationMessage=n.message,this.showResendVerification=!1):this.errorMessage=n.message||"Failed to resend verification email",this.isLoading=!1},error:n=>{this.errorMessage=n.error?.message||"Failed to resend verification email",this.isLoading=!1}})}startLockoutTimer(){this.lockoutInterval&&clearInterval(this.lockoutInterval),this.lockoutInterval=setInterval(()=>{this.lockoutCountdown--,this.lockoutCountdown<=0&&(clearInterval(this.lockoutInterval),this.isLocked=!1,this.errorMessage="",this.lockoutCountdown=0)},1e3)}getLockoutMinutes(){return Math.ceil(this.lockoutCountdown/60)}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToForgotPassword(){this.router.navigate(["/auth/forgot-password"])}ngOnDestroy(){this.lockoutInterval&&clearInterval(this.lockoutInterval)}static \u0275fac=function(e){return new(e||r)(b(G),b(I),b(P))};static \u0275cmp=M({type:r,selectors:[["app-login"]],decls:59,vars:16,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","mb-8","bg-gray-100","rounded-lg","p-1"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","bg-blue-600","text-white","transition-all","cursor-pointer"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","text-gray-600","hover:text-gray-800","transition-all","cursor-pointer",3,"click"],["class","mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],["class","mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",4,"ngIf"],["class","mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",4,"ngIf"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter your email","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","password","formControlName","password","placeholder","Enter your password","required","",1,"w-full","px-4","py-3","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-400","hover:text-gray-600",3,"click"],["class","h-5 w-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-left"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"flex","justify-center","space-x-12","text-sm","text-gray-500","mt-8"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"mb-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-blue-800","text-sm"],[1,"mb-4","p-3","bg-yellow-50","border","border-yellow-200","rounded-lg"],[1,"text-yellow-800","text-sm"],["class","mt-2 text-blue-600 hover:text-blue-500 text-sm font-medium disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"mt-2","text-blue-600","hover:text-blue-500","text-sm","font-medium","disabled:opacity-50","cursor-pointer","disabled:cursor-not-allowed",3,"click","disabled"],[1,"mb-4","p-4","bg-orange-50","border","border-orange-200","rounded-lg"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600","mt-0.5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"flex-1"],[1,"text-orange-800","text-sm","font-medium"],[1,"text-orange-700","text-sm","mt-1"],[1,"mt-2","flex","items-center","space-x-2"],[1,"text-orange-900","font-bold","text-lg"],[1,"text-orange-700","text-sm"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,a){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),i()(),t(6,"p",6),o(7,"Enterprise Asset Management System"),i()(),t(8,"div",7)(9,"div",8)(10,"h2",9),o(11,"Welcome"),i(),t(12,"p",6),o(13,"Sign in to your account or create a new one"),i()(),t(14,"div",10)(15,"button",11),o(16," Sign In "),i(),t(17,"button",12),g("click",function(){return a.toggleMode()}),o(18," Sign Up "),i()(),f(19,ue,3,1,"div",13)(20,ge,4,2,"div",14)(21,fe,14,2,"div",15)(22,ve,3,1,"div",16),t(23,"form",17),g("ngSubmit",function(){return a.onSubmit()}),t(24,"div",18)(25,"div")(26,"label",19),o(27,"Email"),i(),m(28,"input",20),i(),t(29,"div")(30,"label",21),o(31,"Password"),i(),t(32,"div",22),m(33,"input",23),t(34,"button",24),g("click",function(){return a.togglePasswordVisibility()}),f(35,xe,3,0,"svg",25)(36,he,2,0,"svg",25),i()()(),t(37,"div",26)(38,"button",27),g("click",function(){return a.goToForgotPassword()}),o(39," Forgot password? "),i()(),t(40,"button",28),f(41,we,2,0,"span",29)(42,be,5,0,"span",30),i()()()(),t(43,"div",31)(44,"div",32),p(),t(45,"svg",33),m(46,"path",34),i(),y(),t(47,"span"),o(48,"Secure"),i()(),t(49,"div",32),p(),t(50,"svg",33),m(51,"path",35),i(),y(),t(52,"span"),o(53,"Enterprise"),i()(),t(54,"div",32),p(),t(55,"svg",33),m(56,"path",36),i(),y(),t(57,"span"),o(58,"Multi-tenant"),i()()()()()),e&2){let d,v;s(5),l("src","images/logo.png",k),s(14),l("ngIf",a.sessionMessage),s(),l("ngIf",a.emailVerificationMessage),s(),l("ngIf",a.isLocked&&a.lockoutCountdown>0),s(),l("ngIf",a.errorMessage&&!a.emailVerificationMessage&&!a.isLocked),s(),l("formGroup",a.loginForm),s(5),S("border-red-300",((d=a.loginForm.get("email"))==null?null:d.invalid)&&((d=a.loginForm.get("email"))==null?null:d.touched)),s(5),S("border-red-300",((v=a.loginForm.get("password"))==null?null:v.invalid)&&((v=a.loginForm.get("password"))==null?null:v.touched)),l("type",a.showPassword?"text":"password"),s(2),l("ngIf",!a.showPassword),s(),l("ngIf",a.showPassword),s(4),l("disabled",a.loginForm.invalid||a.isLoading||a.isLocked),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading)}},dependencies:[E,F,A,V,L,R,N,T,j],encapsulation:2})};var _e=(r,n,e)=>({"text-red-600":r,"text-yellow-600":n,"text-green-600":e}),ye=(r,n,e)=>({"bg-red-500":r,"bg-yellow-500":n,"bg-green-500":e});function Se(r,n){if(r&1){let e=C();t(0,"div",14)(1,"div",2)(2,"div",3)(3,"div",15),p(),t(4,"svg",16),m(5,"path",17),i()()(),y(),t(6,"h2",18),o(7,"Registration Successful!"),i(),t(8,"p",19),o(9," User registered successfully. Please login now. "),i(),t(10,"div",20)(11,"p",21),o(12," Redirecting to login page in "),t(13,"span",22),o(14),i(),o(15," seconds "),i()(),t(16,"button",23),g("click",function(){h(e);let d=c();return w(d.toggleMode())}),o(17," Go to login now "),i()()()}if(r&2){let e=c();s(14),x(e.countdown)}}function Ce(r,n){if(r&1&&(t(0,"div",54)(1,"p",55),o(2),i()()),r&2){let e=c(2);s(2),x(e.errorMessage)}}function ke(r,n){r&1&&(p(),t(0,"svg",56),m(1,"path",57)(2,"path",58),i())}function Me(r,n){r&1&&(p(),t(0,"svg",56),m(1,"path",59),i())}function Ee(r,n){if(r&1&&(t(0,"div",60)(1,"div",61)(2,"span",62),o(3,"Password Strength:"),i(),t(4,"span",63),o(5),i()(),t(6,"div",64),m(7,"div",65),i()()),r&2){let e=c(2);s(4),l("ngClass",te(5,_e,e.passwordStrength.level==="weak",e.passwordStrength.level==="medium",e.passwordStrength.level==="strong"||e.passwordStrength.level==="very-strong")),s(),le(" ",e.passwordStrength.level," "),s(2),ae("width",e.passwordStrength.percentage,"%"),l("ngClass",te(9,ye,e.passwordStrength.level==="weak",e.passwordStrength.level==="medium",e.passwordStrength.level==="strong"||e.passwordStrength.level==="very-strong"))}}function Ie(r,n){if(r&1&&(t(0,"div",66)(1,"p",67),o(2,"Password must contain:"),i(),t(3,"ul",68)(4,"li",69)(5,"span",70),o(6),i(),o(7," At least 8 characters "),i(),t(8,"li",69)(9,"span",70),o(10),i(),o(11," One uppercase letter (A-Z) "),i(),t(12,"li",69)(13,"span",70),o(14),i(),o(15," One lowercase letter (a-z) "),i(),t(16,"li",69)(17,"span",70),o(18),i(),o(19," One number (0-9) "),i()()()),r&2){let e=c(2);s(4),l("ngClass",e.getPasswordRequirements().minLength?"text-green-600":"text-gray-500"),s(2),x(e.getPasswordRequirements().minLength?"\u2713":"\u25CB"),s(2),l("ngClass",e.getPasswordRequirements().hasUpperCase?"text-green-600":"text-gray-500"),s(2),x(e.getPasswordRequirements().hasUpperCase?"\u2713":"\u25CB"),s(2),l("ngClass",e.getPasswordRequirements().hasLowerCase?"text-green-600":"text-gray-500"),s(2),x(e.getPasswordRequirements().hasLowerCase?"\u2713":"\u25CB"),s(2),l("ngClass",e.getPasswordRequirements().hasNumber?"text-green-600":"text-gray-500"),s(2),x(e.getPasswordRequirements().hasNumber?"\u2713":"\u25CB")}}function Pe(r,n){r&1&&(p(),t(0,"svg",56),m(1,"path",57)(2,"path",58),i())}function Fe(r,n){r&1&&(p(),t(0,"svg",56),m(1,"path",59),i())}function Ve(r,n){r&1&&(t(0,"div",71),o(1," Passwords do not match "),i())}function Le(r,n){r&1&&(t(0,"span"),o(1,"Sign Up"),i())}function Re(r,n){r&1&&(t(0,"span",72),p(),t(1,"svg",73),m(2,"circle",74)(3,"path",75),i(),o(4," Creating Account... "),i())}function Ae(r,n){if(r&1){let e=C();t(0,"div",14)(1,"div",24)(2,"h2",25),o(3,"Welcome"),i(),t(4,"p",6),o(5,"Sign in to your account or create a new one"),i()(),t(6,"div",26)(7,"button",27),g("click",function(){h(e);let d=c();return w(d.toggleMode())}),o(8," Sign In "),i(),t(9,"button",28),o(10," Sign Up "),i()(),f(11,Ce,3,1,"div",29),t(12,"form",30),g("ngSubmit",function(){h(e);let d=c();return w(d.onSubmit())}),t(13,"div",31)(14,"div",32)(15,"div")(16,"label",33),o(17,"First Name"),i(),m(18,"input",34),i(),t(19,"div")(20,"label",35),o(21,"Last Name"),i(),m(22,"input",36),i()(),t(23,"div")(24,"label",37),o(25,"Company Name"),i(),m(26,"input",38),i(),t(27,"div")(28,"label",39),o(29,"Email"),i(),m(30,"input",40),i(),t(31,"div")(32,"label",41),o(33,"Password"),i(),t(34,"div",42)(35,"input",43),g("focus",function(){h(e);let d=c();return w(d.showPasswordRequirements=!0)}),i(),t(36,"button",44),g("click",function(){h(e);let d=c();return w(d.togglePasswordVisibility())}),f(37,ke,3,0,"svg",45)(38,Me,2,0,"svg",45),i()(),f(39,Ee,8,13,"div",46)(40,Ie,20,8,"div",47),i(),t(41,"div")(42,"label",48),o(43,"Confirm Password"),i(),t(44,"div",42),m(45,"input",49),t(46,"button",44),g("click",function(){h(e);let d=c();return w(d.toggleConfirmPasswordVisibility())}),f(47,Pe,3,0,"svg",45)(48,Fe,2,0,"svg",45),i()(),f(49,Ve,2,0,"div",50),i(),t(50,"button",51),f(51,Le,2,0,"span",52)(52,Re,5,0,"span",53),i()()()()}if(r&2){let e,a,d,v,U,ne,oe,W,se,u=c();s(11),l("ngIf",u.errorMessage),s(),l("formGroup",u.registerForm),s(6),S("border-red-300",((e=u.registerForm.get("first_name"))==null?null:e.invalid)&&((e=u.registerForm.get("first_name"))==null?null:e.touched)),s(4),S("border-red-300",((a=u.registerForm.get("last_name"))==null?null:a.invalid)&&((a=u.registerForm.get("last_name"))==null?null:a.touched)),s(4),S("border-red-300",((d=u.registerForm.get("company_name"))==null?null:d.invalid)&&((d=u.registerForm.get("company_name"))==null?null:d.touched)),s(4),S("border-red-300",((v=u.registerForm.get("email"))==null?null:v.invalid)&&((v=u.registerForm.get("email"))==null?null:v.touched)),s(5),S("border-red-300",((U=u.registerForm.get("password"))==null?null:U.invalid)&&((U=u.registerForm.get("password"))==null?null:U.touched)),l("type",u.showPassword?"text":"password"),s(2),l("ngIf",!u.showPassword),s(),l("ngIf",u.showPassword),s(),l("ngIf",u.passwordStrength&&((ne=u.registerForm.get("password"))==null?null:ne.value)),s(),l("ngIf",u.showPasswordRequirements&&((oe=u.registerForm.get("password"))==null?null:oe.value)),s(5),S("border-red-300",((W=u.registerForm.get("password_confirmation"))==null?null:W.invalid)&&((W=u.registerForm.get("password_confirmation"))==null?null:W.touched)),l("type",u.showConfirmPassword?"text":"password"),s(2),l("ngIf",!u.showConfirmPassword),s(),l("ngIf",u.showConfirmPassword),s(),l("ngIf",(u.registerForm.errors==null?null:u.registerForm.errors.passwordMismatch)&&((se=u.registerForm.get("password_confirmation"))==null?null:se.touched)),s(),l("disabled",u.registerForm.invalid||u.isLoading),s(),l("ngIf",!u.isLoading),s(),l("ngIf",u.isLoading)}}var D=class r{constructor(n,e,a){this.fb=n;this.router=e;this.authService=a;this.registerForm=this.fb.group({first_name:["",[_.required]],last_name:["",[_.required]],company_name:["",[_.required]],email:["",[_.required,_.email]],password:["",[_.required,_.minLength(8),K.strong()]],password_confirmation:["",[_.required]]},{validators:this.passwordMatchValidator}),this.registerForm.get("password")?.valueChanges.subscribe(d=>{this.passwordStrength=K.calculateStrength(d||"")})}registerForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=60;countdownInterval;passwordStrength=null;showPasswordRequirements=!1;showPassword=!1;showConfirmPassword=!1;passwordMatchValidator(n){let e=n.get("password"),a=n.get("password_confirmation");return e&&a&&e.value===a.value?null:{passwordMismatch:!0}}toggleMode(){this.router.navigate(["/login"])}onSubmit(){this.registerForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1,this.authService.register(this.registerForm.value).subscribe({next:n=>{n.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=n.message||"Registration failed",this.isLoading=!1},error:n=>{this.errorMessage=n.error?.message||n.error?.error||"An error occurred during registration",this.isLoading=!1}}))}startCountdown(){this.countdown=60,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}getPasswordRequirements(){let n=this.registerForm.get("password")?.value||"";return K.meetsRequirements(n)}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}static \u0275fac=function(e){return new(e||r)(b(G),b(I),b(P))};static \u0275cmp=M({type:r,selectors:[["app-register"]],decls:26,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"flex","justify-center","space-x-12","text-sm","text-gray-500","mt-8"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","mb-8","bg-gray-100","rounded-lg","p-1"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","text-gray-600","hover:text-gray-800","transition-all","cursor-pointer",3,"click"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","bg-blue-600","text-white","transition-all","cursor-pointer"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],["for","first_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","first_name","type","text","formControlName","first_name","placeholder","First name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","last_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","last_name","type","text","formControlName","last_name","placeholder","Last name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","company_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","company_name","type","text","formControlName","company_name","placeholder","Enter your company name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email","placeholder","Enter your email","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],["id","password","formControlName","password","placeholder","Create a password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"focus","type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-400","hover:text-gray-600",3,"click"],["class","h-5 w-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-3 p-3 bg-gray-50 rounded-lg",4,"ngIf"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","password_confirmation","formControlName","password_confirmation","placeholder","Confirm your password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"type"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","mt-6",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","font-medium","text-gray-600"],[1,"text-xs","font-semibold","capitalize",3,"ngClass"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-3","p-3","bg-gray-50","rounded-lg"],[1,"text-xs","font-medium","text-gray-700","mb-2"],[1,"space-y-1"],[1,"text-xs","flex","items-center",3,"ngClass"],[1,"mr-2"],[1,"text-red-500","text-xs","mt-1"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),i()(),t(6,"p",6),o(7,"Enterprise Asset Management System"),i()(),f(8,Se,18,1,"div",7)(9,Ae,53,26,"div",7),t(10,"div",8)(11,"div",9),p(),t(12,"svg",10),m(13,"path",11),i(),y(),t(14,"span"),o(15,"Secure"),i()(),t(16,"div",9),p(),t(17,"svg",10),m(18,"path",12),i(),y(),t(19,"span"),o(20,"Enterprise"),i()(),t(21,"div",9),p(),t(22,"svg",10),m(23,"path",13),i(),y(),t(24,"span"),o(25,"Multi-tenant"),i()()()()()),e&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",a.showSuccessMessage),s(),l("ngIf",!a.showSuccessMessage))},dependencies:[E,de,F,A,V,L,R,N,T,j],encapsulation:2})};function Te(r,n){if(r&1&&(t(0,"div",20)(1,"p",21),o(2),i()()),r&2){let e=c(2);s(2),x(e.errorMessage)}}function je(r,n){r&1&&(t(0,"span"),o(1,"Send Reset Link"),i())}function Ne(r,n){r&1&&(t(0,"span",22),p(),t(1,"svg",23),m(2,"circle",24)(3,"path",25),i(),o(4," Sending... "),i())}function Ge(r,n){if(r&1){let e=C();t(0,"div",8)(1,"div",9)(2,"h2",10),o(3,"Forgot Password?"),i(),t(4,"p",6),o(5,"Enter your email address and we'll send you a link to reset your password"),i()(),f(6,Te,3,1,"div",11),t(7,"form",12),g("ngSubmit",function(){h(e);let d=c();return w(d.onSubmit())}),t(8,"div",13)(9,"div")(10,"label",14),o(11,"Email Address"),i(),m(12,"input",15),i(),t(13,"button",16),f(14,je,2,0,"span",17)(15,Ne,5,0,"span",18),i(),t(16,"div",2)(17,"button",19),g("click",function(){h(e);let d=c();return w(d.goBack())}),o(18," \u2190 Back to Sign In "),i()()()()()}if(r&2){let e,a=c();s(6),l("ngIf",a.errorMessage),s(),l("formGroup",a.forgotPasswordForm),s(5),S("border-red-300",((e=a.forgotPasswordForm.get("email"))==null?null:e.invalid)&&((e=a.forgotPasswordForm.get("email"))==null?null:e.touched)),s(),l("disabled",a.forgotPasswordForm.invalid||a.isLoading),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading)}}function qe(r,n){if(r&1){let e=C();t(0,"div",8)(1,"div",2)(2,"div",3)(3,"div",26),p(),t(4,"svg",27),m(5,"path",28),i()()(),y(),t(6,"h2",29),o(7,"Reset Link Sent!"),i(),t(8,"p",30),o(9," Password reset link sent to your email. Please check your email to reset your password. "),i(),t(10,"div",31)(11,"p",32),o(12," Redirecting to login page in "),t(13,"span",33),o(14),i(),o(15," seconds "),i()(),t(16,"button",34),g("click",function(){h(e);let d=c();return w(d.goBack())}),o(17," Go to login now "),i()()()}if(r&2){let e=c();s(14),x(e.countdown)}}var z=class r{constructor(n,e,a){this.fb=n;this.router=e;this.authService=a;this.forgotPasswordForm=this.fb.group({email:["",[_.required,_.email]]})}forgotPasswordForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=10;countdownInterval;onSubmit(){this.forgotPasswordForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1,this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:n=>{n.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=n.message||"Failed to send reset link",this.isLoading=!1},error:n=>{this.errorMessage=n.error?.message||n.error?.error||"An error occurred",this.isLoading=!1}}))}startCountdown(){this.countdown=10,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}goBack(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(b(G),b(I),b(P))};static \u0275cmp=M({type:r,selectors:[["app-forgot-password"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter your email address","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),i()(),t(6,"p",6),o(7,"Enterprise Asset Management System"),i()(),f(8,Ge,19,7,"div",7)(9,qe,18,1,"div",7),i()()),e&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",!a.showSuccessMessage),s(),l("ngIf",a.showSuccessMessage))},dependencies:[E,F,A,V,L,R,N,T,j],encapsulation:2})};function Be(r,n){if(r&1&&(t(0,"div",15)(1,"p",16),o(2),i()()),r&2){let e=c(2);s(2),x(e.errorMessage)}}function De(r,n){r&1&&(t(0,"div",27),o(1," Passwords do not match "),i())}function ze(r,n){r&1&&(t(0,"span"),o(1,"Reset Password"),i())}function He(r,n){r&1&&(t(0,"span",28),p(),t(1,"svg",29),m(2,"circle",30)(3,"path",31),i(),o(4," Resetting... "),i())}function Oe(r,n){if(r&1){let e=C();t(0,"form",17),g("ngSubmit",function(){h(e);let d=c(2);return w(d.onSubmit())}),t(1,"div",18)(2,"div")(3,"label",19),o(4,"New Password"),i(),m(5,"input",20),i(),t(6,"div")(7,"label",21),o(8,"Confirm New Password"),i(),m(9,"input",22),f(10,De,2,0,"div",23),i(),t(11,"button",24),f(12,ze,2,0,"span",25)(13,He,5,0,"span",26),i()()()}if(r&2){let e,a,d,v=c(2);l("formGroup",v.resetPasswordForm),s(5),S("border-red-300",((e=v.resetPasswordForm.get("password"))==null?null:e.invalid)&&((e=v.resetPasswordForm.get("password"))==null?null:e.touched)),s(4),S("border-red-300",((a=v.resetPasswordForm.get("password_confirmation"))==null?null:a.invalid)&&((a=v.resetPasswordForm.get("password_confirmation"))==null?null:a.touched)),s(),l("ngIf",(v.resetPasswordForm.errors==null?null:v.resetPasswordForm.errors.passwordMismatch)&&((d=v.resetPasswordForm.get("password_confirmation"))==null?null:d.touched)),s(),l("disabled",v.resetPasswordForm.invalid||v.isLoading),s(),l("ngIf",!v.isLoading),s(),l("ngIf",v.isLoading)}}function Ue(r,n){if(r&1){let e=C();t(0,"div",8)(1,"div",9)(2,"h2",10),o(3,"Reset Password"),i(),t(4,"p",6),o(5,"Enter your new password below"),i()(),f(6,Be,3,1,"div",11)(7,Oe,14,9,"form",12),t(8,"div",13)(9,"button",14),g("click",function(){h(e);let d=c();return w(d.goToLogin())}),o(10," \u2190 Back to Sign In "),i()()()}if(r&2){let e=c();s(6),l("ngIf",e.errorMessage),s(),l("ngIf",!e.errorMessage||e.errorMessage&&e.token&&e.email)}}function We(r,n){if(r&1){let e=C();t(0,"div",8)(1,"div",2)(2,"div",3)(3,"div",32),p(),t(4,"svg",33),m(5,"path",34),i()()(),y(),t(6,"h2",35),o(7,"Password Reset Successfully!"),i(),t(8,"p",36),o(9," Your password has been reset successfully. You can now log in with your new password. "),i(),t(10,"div",37)(11,"p",38),o(12," Redirecting to login page in "),t(13,"span",39),o(14),i(),o(15," seconds "),i()(),t(16,"button",40),g("click",function(){h(e);let d=c();return w(d.goToLogin())}),o(17," Go to login now "),i()()()}if(r&2){let e=c();s(14),x(e.countdown)}}var H=class r{constructor(n,e,a,d){this.fb=n;this.router=e;this.route=a;this.authService=d;this.resetPasswordForm=this.fb.group({password:["",[_.required,_.minLength(6)]],password_confirmation:["",[_.required]]},{validators:this.passwordMatchValidator})}resetPasswordForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=10;countdownInterval;token="";email="";ngOnInit(){this.token=this.route.snapshot.queryParams.token||"",this.email=this.route.snapshot.queryParams.email||"",(!this.token||!this.email)&&(this.errorMessage="Invalid reset link")}passwordMatchValidator(n){let e=n.get("password"),a=n.get("password_confirmation");return e&&a&&e.value===a.value?null:{passwordMismatch:!0}}onSubmit(){if(this.resetPasswordForm.valid&&!this.isLoading&&this.token&&this.email){this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1;let n={token:this.token,email:this.email,password:this.resetPasswordForm.value.password,password_confirmation:this.resetPasswordForm.value.password_confirmation};this.authService.resetPassword(n).subscribe({next:e=>{e.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=e.message||"Failed to reset password",this.isLoading=!1},error:e=>{this.errorMessage=e.error?.message||e.error?.error||"An error occurred",this.isLoading=!1}})}}startCountdown(){this.countdown=10,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(b(G),b(I),b(J),b(P))};static \u0275cmp=M({type:r,selectors:[["app-reset-password"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","mt-6"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","password","type","password","formControlName","password","placeholder","Enter new password","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","password_confirmation","type","password","formControlName","password_confirmation","placeholder","Confirm new password","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),i()(),t(6,"p",6),o(7,"Enterprise Asset Management System"),i()(),f(8,Ue,11,2,"div",7)(9,We,18,1,"div",7),i()()),e&2&&(s(5),l("src","images/logo.png",k),s(3),l("ngIf",!a.showSuccessMessage),s(),l("ngIf",a.showSuccessMessage))},dependencies:[E,F,A,V,L,R,N,T,j],encapsulation:2})};function Ye(r,n){r&1&&(t(0,"div",9)(1,"div",10),p(),t(2,"svg",11),m(3,"circle",12)(4,"path",13),i()(),y(),t(5,"h2",14),o(6,"Activating Account"),i(),t(7,"p",6),o(8,"Please wait while we activate your account..."),i()())}function Ze(r,n){if(r&1){let e=C();t(0,"div",9)(1,"div",10)(2,"div",15),p(),t(3,"svg",16),m(4,"path",17),i()()(),y(),t(5,"h2",14),o(6,"Account Activated!"),i(),t(7,"p",18),o(8),i(),t(9,"button",19),g("click",function(){h(e);let d=c();return w(d.goToLogin())}),o(10," Continue to Sign In "),i()()}if(r&2){let e=c();s(8),x(e.successMessage)}}function Je(r,n){if(r&1){let e=C();t(0,"div",9)(1,"div",10)(2,"div",20),p(),t(3,"svg",21),m(4,"path",22),i()()(),y(),t(5,"h2",14),o(6,"Activation Failed"),i(),t(7,"p",18),o(8),i(),t(9,"div",23)(10,"button",19),g("click",function(){h(e);let d=c();return w(d.resendActivation())}),o(11," Request New Activation Link "),i(),t(12,"button",24),g("click",function(){h(e);let d=c();return w(d.goToLogin())}),o(13," Back to Sign In "),i()()()}if(r&2){let e=c();s(8),x(e.errorMessage)}}var O=class r{constructor(n,e,a){this.router=n;this.route=e;this.authService=a}isLoading=!0;successMessage="";errorMessage="";id="";hash="";ngOnInit(){if(this.id=this.route.snapshot.params.id||"",this.hash=this.route.snapshot.params.hash||"",!this.id||!this.hash){this.errorMessage="Invalid verification link",this.isLoading=!1;return}this.verifyEmail()}verifyEmail(){this.authService.verifyEmail(this.id,this.hash).subscribe({next:n=>{n.success?this.successMessage=n.message||"Email verified successfully":this.errorMessage=n.message||"Failed to verify email",this.isLoading=!1},error:n=>{this.errorMessage=n.error?.message||n.error?.error||"An error occurred during verification",this.isLoading=!1}})}goToLogin(){this.router.navigate(["/login"])}resendActivation(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(b(I),b(J),b(P))};static \u0275cmp=M({type:r,selectors:[["app-activate-account"]],decls:13,vars:4,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],["class","py-8",4,"ngIf"],[1,"py-8"],[1,"flex","justify-center","mb-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-gray-600","mb-6"],[1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"],[1,"w-16","h-16","bg-red-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-3"],[1,"w-full","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","cursor-pointer",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),i()(),t(6,"p",6),o(7,"Enterprise Asset Management System"),i()(),t(8,"div",7)(9,"div",2),f(10,Ye,9,0,"div",8)(11,Ze,11,1,"div",8)(12,Je,14,1,"div",8),i()()()()),e&2&&(s(5),l("src","images/logo.png",k),s(5),l("ngIf",a.isLoading),s(),l("ngIf",!a.isLoading&&a.successMessage),s(),l("ngIf",!a.isLoading&&a.errorMessage))},dependencies:[E],encapsulation:2})};var Ke=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:q},{path:"register",component:D},{path:"forgot-password",component:z},{path:"reset-password",component:H},{path:"activate-account",component:O},{path:"email/verify/:id/:hash",component:O}],ee=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[ie.forChild(Ke),ie]})};var ce=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Z({type:r});static \u0275inj=Y({imports:[me,F,ee,q,D,z,H]})};export{ce as AuthModule};
