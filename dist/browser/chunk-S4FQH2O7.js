import{a as te}from"./chunk-E7ISDAOG.js";import{a as he,b as T}from"./chunk-KBBD5ZWD.js";import{a as pt}from"./chunk-WBOUDOPZ.js";import{a as Me}from"./chunk-IAJVERFX.js";import{a as Pe,b as ut}from"./chunk-LPA2VMGO.js";import{a as Ne}from"./chunk-PJTQZD7Z.js";import{a as fe}from"./chunk-VDZI2S4Q.js";import{a as Re}from"./chunk-ZM4FIS7F.js";import{a as Ct}from"./chunk-CQAFBTVJ.js";import{a as Ot}from"./chunk-GDLLJI2H.js";import{a as ue}from"./chunk-5XQAHLWV.js";import"./chunk-GGQ7LRWG.js";import{a as Z}from"./chunk-754HDULK.js";import"./chunk-C5P3YSZX.js";import{b as je}from"./chunk-EOSY5QYV.js";import{a as lt}from"./chunk-UG3FJGKH.js";import{a as dt}from"./chunk-EVW3I7EW.js";import{a as gt}from"./chunk-YJDI3RBY.js";import{A as ee,B as mt,C as _t,c as R,d as F,e as N,f as Q,i as Be,j as _e,k as J,o as K,r as X,s as He,t as pe,u as Ce,w as Oe}from"./chunk-T723B6QD.js";import"./chunk-MEXLA3FU.js";import{d as st,f as me,j as Xe}from"./chunk-3EU6YN4O.js";import{I as ct,j as Le,k as I,l as E,t as Ae,w as ze}from"./chunk-EETQBYPR.js";import{$b as U,Bb as j,Cb as We,Db as le,Eb as ge,Fb as n,Gb as o,Hb as m,Ib as D,Ic as at,Jb as L,Lb as b,Ob as _,Pb as d,S as Ke,Sb as oe,Vb as Ie,Wa as rt,Wb as Fe,Xa as a,Xb as Ve,Y as Se,a as A,ab as v,ac as c,ba as Ee,bc as f,cc as h,dc as k,ec as it,f as ot,fc as re,gc as ie,ha as se,hc as ae,ia as C,ja as O,jb as S,ka as u,kb as Te,kc as De,la as M,ob as p,pc as w,q as ye,qc as x,rc as z,sa as W,uc as Y,vb as g,wb as V,xb as P,yb as de}from"./chunk-PPNYJFN7.js";import{a as G,b as ke,f as xe}from"./chunk-EQDQRRRY.js";function yt(r,t){if(r&1){let e=b();n(0,"div",32),_("click",function(s){return C(e),O(s.stopPropagation())}),n(1,"input",33),_("change",function(s){C(e);let l=d();return O(l.onSelectionChange(s))}),o()()}if(r&2){let e=d();a(),g("checked",e.isSelected)}}function St(r,t){if(r&1){let e=b();n(0,"div",34)(1,"button",35),_("click",function(){C(e);let s=d();return O(s.viewDetails())}),u(),n(2,"svg",36),m(3,"path",37)(4,"path",38),o(),M(),n(5,"span",39),c(6,"View Details"),o()(),n(7,"button",35),_("click",function(){C(e);let s=d();return O(s.editWorkOrder())}),u(),n(8,"svg",36),m(9,"path",40),o(),M(),n(10,"span",39),c(11,"Edit"),o()(),m(12,"div",41),n(13,"button",42),_("click",function(){C(e);let s=d();return O(s.requestDelete())}),u(),n(14,"svg",43),m(15,"path",44),o(),M(),n(16,"span",45),c(17,"Delete"),o()()()}if(r&2){let e=d();P("right-0",!e.isRtl())("left-0",e.isRtl()),a(),P("text-left",!e.isRtl())("text-right",e.isRtl()),a(6),P("text-left",!e.isRtl())("text-right",e.isRtl()),a(6),P("text-left",!e.isRtl())("text-right",e.isRtl())}}function Et(r,t){if(r&1&&(n(0,"span",46),c(1),o()),r&2){let e=d();a(),f(e.getCategoryName())}}var Ge=class r{constructor(t){this.router=t}workOrder;isListView=!1;showBulkSelection=!1;isSelected=!1;editRequested=new W;deleteRequested=new W;selectionChanged=new W;showMenu=!1;onDocumentClick(){this.showMenu=!1}getStatusSlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"open"}getPrioritySlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"medium"}onSelectionChange(t){let e=t.target.checked;this.isSelected=e,this.selectionChanged.emit({workOrderId:this.workOrder.id,selected:e})}getStatusLabel(t){let e=this.getStatusSlug(t);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[e]||e}getPriorityLabel(t){let e=this.getPrioritySlug(t);return{low:"Low",medium:"Medium",high:"High",critical:"Critical",urgent:"Urgent"}[e]||e}getTypeLabel(t){return t?{ppm:"PPM",corrective:"Corrective",predictive:"Predictive",reactive:"Reactive"}[t]||t:"PPM"}getAssigneeName(){if(this.workOrder.assigned_to){if(typeof this.workOrder.assigned_to=="object"&&this.workOrder.assigned_to!==null){let t=this.workOrder.assigned_to,e=t.first_name||"",i=t.last_name||"";return`${e} ${i}`.trim()||"Unassigned"}return String(this.workOrder.assigned_to)}return"Unassigned"}getAssetName(){if(this.workOrder.asset){if(typeof this.workOrder.asset=="object"&&this.workOrder.asset!==null){let t=this.workOrder.asset;return t.name||t.asset_id||"No Asset"}return String(this.workOrder.asset)}return"No Asset"}getLocationName(){if(this.workOrder.location){if(typeof this.workOrder.location=="object"&&this.workOrder.location!==null){let t=this.workOrder.location;return t.name||t.full_path||"No Location"}return String(this.workOrder.location)}return"No Location"}getCreatedBy(){if(this.workOrder.created_by){if(typeof this.workOrder.created_by=="object"&&this.workOrder.created_by!==null){let t=this.workOrder.created_by,e=t.first_name||"",i=t.last_name||"";return`${e} ${i}`.trim()||"Unknown"}return String(this.workOrder.created_by)}return"Unknown"}getCategoryName(){let t=this.workOrder?.category;return t?typeof t=="object"&&t!==null&&"name"in t?t.name||"":typeof t=="string"?t:"":""}viewDetails(){this.router.navigate(["/work-orders",this.workOrder.id]),this.showMenu=!1}editWorkOrder(){this.editRequested.emit(this.workOrder),this.showMenu=!1}toggleMenu(){this.showMenu=!this.showMenu}requestDelete(){this.deleteRequested.emit(this.workOrder),this.showMenu=!1}isRtl(){return document.documentElement.dir==="rtl"}static \u0275fac=function(e){return new(e||r)(v(me))};static \u0275cmp=S({type:r,selectors:[["app-work-order-card"]],hostBindings:function(e,i){e&1&&_("click",function(){return i.onDocumentClick()},!1,rt)},inputs:{workOrder:"workOrder",isListView:"isListView",showBulkSelection:"showBulkSelection",isSelected:"isSelected"},outputs:{editRequested:"editRequested",deleteRequested:"deleteRequested",selectionChanged:"selectionChanged"},standalone:!1,decls:46,vars:25,consts:[[1,"work-order-card","h-[230px]",2,"cursor","pointer",3,"click"],["class","bulk-selection-checkbox",3,"click",4,"ngIf"],[1,"card-header","mb-3"],[1,"flex","justify-between","items-center","gap-3","my-2"],[1,"title-section"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"],["stroke-linecap","round","stroke-linejoin","round","d","M4.867 19.125h.008v.008h-.008v-.008Z"],[1,"title","truncate","max-w-[250px]",3,"title"],[1,"header-actions",3,"click"],[1,"relative"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","cursor-pointer",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-600"],["cx","12","cy","6","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","18","r","2"],["class","absolute top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",3,"right-0","left-0",4,"ngIf"],[1,"badges","flex","flex-wrap","gap-2"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],[1,"badge","type-badge",3,"ngClass"],["class","badge bg-gray-100 text-gray-800",4,"ngIf"],[1,"card-content"],[1,"description","truncate",3,"title"],[1,"meta-row"],[1,"meta-item"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"footer-row"],[1,"text-xs"],[1,"bulk-selection-checkbox",3,"click"],["type","checkbox",1,"bulk-checkbox",3,"change","checked"],[1,"absolute","top-full","mt-1","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-sm","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"border-t","border-gray-100","my-1"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","hover:bg-red-50","transition-colors","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-sm","text-red-600"],[1,"badge","bg-gray-100","text-gray-800"]],template:function(e,i){e&1&&(n(0,"div",0),_("click",function(){return i.viewDetails()}),p(1,yt,2,1,"div",1),n(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),u(),n(6,"svg",6),m(7,"path",7)(8,"path",8),o()(),M(),n(9,"h3",9),c(10),o()(),n(11,"div",10),_("click",function(l){return l.stopPropagation()}),n(12,"div",11)(13,"button",12),_("click",function(){return i.toggleMenu()}),u(),n(14,"svg",13),m(15,"circle",14)(16,"circle",15)(17,"circle",16),o()(),p(18,St,18,16,"div",17),o()()(),M(),n(19,"div",18)(20,"span",19),c(21),o(),n(22,"span",20),c(23),o(),n(24,"span",21),c(25),o(),p(26,Et,2,1,"span",22),o()(),n(27,"div",23)(28,"p",24),c(29),o(),n(30,"div",25)(31,"div",26),u(),n(32,"svg",27),m(33,"path",28),o(),M(),n(34,"span"),c(35),o()(),n(36,"div",26),u(),n(37,"svg",27),m(38,"path",29),o(),M(),n(39,"span"),c(40),w(41,"dateFormat"),o()()(),n(42,"div",30)(43,"span",31),c(44),w(45,"dateFormat"),o()()()()),e&2&&(P("list-view",i.isListView),a(),g("ngIf",i.showBulkSelection),a(8),g("title",i.workOrder.title),a(),f(i.workOrder.title),a(8),g("ngIf",i.showMenu),a(2),g("ngClass","status-"+((i.workOrder.status==null?null:i.workOrder.status.slug)||i.workOrder.status||"open")),a(),h(" ",i.getStatusLabel(i.workOrder.status)," "),a(),g("ngClass","priority-"+((i.workOrder.priority==null?null:i.workOrder.priority.slug)||i.workOrder.priority||"medium")),a(),h(" ",i.getPriorityLabel(i.workOrder.priority)," "),a(),g("ngClass","type-"+(i.workOrder.type||"ppm")),a(),h(" ",i.getTypeLabel(i.workOrder.type)," "),a(),g("ngIf",i.getCategoryName()),a(2),P("italic",!i.workOrder.description),g("title",i.workOrder.description||"No description provided"),a(),h(" ",i.workOrder.description||"No description provided"," "),a(6),f(i.getAssigneeName()||"Unknown"),a(5),f(i.workOrder.due_date?x(41,21,i.workOrder.due_date):"N/A"),a(4),k("Created ",x(45,23,i.workOrder.created_at)," by ",i.getCreatedBy()||"Unknown",""))},dependencies:[Le,E,Pe],styles:[".work-order-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;transition:all .2s ease;position:relative}.work-order-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a;border-color:#cbd5e1}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]{position:absolute;top:.75rem;left:.75rem;z-index:10}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:9999px;border:2px solid #60a5fa;background-color:#fff;box-shadow:0 0 0 2px #fff,0 0 0 4px #3b82f626;cursor:pointer;display:inline-block;position:relative;transition:box-shadow .15s ease,border-color .15s ease}.work-order-card[_ngcontent-%COMP%]   .bulk-selection-checkbox[_ngcontent-%COMP%]   .bulk-checkbox[_ngcontent-%COMP%]:checked{background-image:radial-gradient(#3b82f6 45%,transparent 46%);background-repeat:no-repeat;background-position:center;background-size:70% 70%;border-color:#3b82f6;box-shadow:0 0 0 2px #fff,0 0 0 6px #3b82f640}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0f172a;margin:0;line-height:1.3}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.15rem .5rem;border-radius:9999px;font-size:.7rem;font-weight:500;text-transform:capitalize}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%], .work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-on-hold[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-draft[_ngcontent-%COMP%]{background:#f9f2fe;color:#5426dc}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-in-progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.priority-ppm[_ngcontent-%COMP%]{background:#e2c7fe;color:#3b06d9}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin-bottom:.75rem;line-height:1.5}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 2rem;margin-top:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#334155;font-size:.9rem}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#94a3b8}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .footer-row[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;color:#64748b;font-size:.85rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;min-height:auto;padding:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-width:200px}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:2}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.work-order-card[_ngcontent-%COMP%]{padding:1rem;min-height:180px}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.work-order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{align-self:flex-start}.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{gap:.5rem}.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.list-view.work-order-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;min-height:auto}.list-view.work-order-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-template-columns:1fr}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{text-align:left;width:100%;border-top:1px solid #f3f4f6;padding-top:1rem;margin-top:1rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem}.list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%], .list-view.work-order-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{flex:1;min-width:0}}"]})};function Wt(r,t){r&1&&(n(0,"span",24),c(1,"All Status"),o())}function It(r,t){if(r&1&&(n(0,"div",25)(1,"div",26),u(),n(2,"svg",10),m(3,"path",11),o()(),M(),n(4,"span",27),c(5),o()()),r&2){let e=d();a(),V("background-color",e.getStatusColor(e.getStatusValue())+"20"),a(),V("color",e.getStatusColor(e.getStatusValue())),a(3),f(e.getStatusLabel())}}function Ft(r,t){if(r&1){let e=b();n(0,"button",39),_("click",function(){let s=C(e).$implicit,l=d(2);return O(l.selectStatus(s.id))}),n(1,"div",31)(2,"div",40),u(),n(3,"svg",41),m(4,"path",11),o()(),M(),n(5,"div",35)(6,"div",36),c(7),o(),n(8,"div",37),c(9),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getStatusValue()===e.id),a(2),V("background-color",i.getStatusColor(e.id)+"20"),a(),V("color",i.getStatusColor(e.id)),a(4),f(e.name),a(2),f(i.getStatusDescription(e.id))}}function Vt(r,t){if(r&1){let e=b();n(0,"div",28)(1,"div",29),u(),n(2,"svg",10),m(3,"path",11),o(),c(4," Select Status "),o(),M(),n(5,"button",30),_("click",function(){C(e);let s=d();return O(s.selectStatus(null))}),n(6,"div",31)(7,"div",32),u(),n(8,"svg",33),m(9,"path",34),o()(),M(),n(10,"div",35)(11,"div",36),c(12,"All Status"),o(),n(13,"div",37),c(14,"Show all statuses"),o()()()(),p(15,Ft,10,8,"button",38),o()}if(r&2){let e=d();a(2),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(13),g("ngForOf",e.statusOptions)}}function Dt(r,t){r&1&&(n(0,"span",24),c(1,"All Priority"),o())}function Lt(r,t){if(r&1&&(n(0,"div",25)(1,"div",42),u(),n(2,"svg",10),m(3,"path",20),o()(),M(),n(4,"span",27),c(5),o()()),r&2){let e=d();a(),V("background-color",e.getPriorityColor(e.getPriorityValue())+"20"),a(),V("color",e.getPriorityColor(e.getPriorityValue())),a(3),f(e.getPriorityLabel())}}function At(r,t){if(r&1){let e=b();n(0,"button",39),_("click",function(){let s=C(e).$implicit,l=d(2);return O(l.selectPriority(s.id))}),n(1,"div",31)(2,"div",40),u(),n(3,"svg",41),m(4,"path",20),o()(),M(),n(5,"div",35)(6,"div",36),c(7),o(),n(8,"div",37),c(9),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getPriorityValue()===e.id),a(2),V("background-color",i.getPriorityColor(e.id)+"20"),a(),V("color",i.getPriorityColor(e.id)),a(4),f(e.name),a(2),f(i.getPriorityDescription(e.id))}}function zt(r,t){if(r&1){let e=b();n(0,"div",28)(1,"div",29),u(),n(2,"svg",10),m(3,"path",20),o(),c(4," Select Priority "),o(),M(),n(5,"button",30),_("click",function(){C(e);let s=d();return O(s.selectPriority(null))}),n(6,"div",31)(7,"div",32),u(),n(8,"svg",33),m(9,"path",34),o()(),M(),n(10,"div",35)(11,"div",36),c(12,"All Priority"),o(),n(13,"div",37),c(14,"Show all priorities"),o()()()(),p(15,At,10,8,"button",38),o()}if(r&2){let e=d();a(2),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(13),g("ngForOf",e.priorityOptions)}}function jt(r,t){r&1&&(n(0,"span",24),c(1,"All Categories"),o())}function Bt(r,t){if(r&1&&(n(0,"div",25)(1,"div",43),u(),n(2,"svg",44),m(3,"path",21),o()(),M(),n(4,"span",27),c(5),o()()),r&2){let e=d();a(5),f(e.getCategoryLabel())}}function Ht(r,t){if(r&1){let e=b();n(0,"button",39),_("click",function(){let s=C(e).$implicit,l=d(2);return O(l.selectCategory(s.id))}),n(1,"div",31)(2,"div",45),u(),n(3,"svg",46),m(4,"path",21),o()(),M(),n(5,"div",35)(6,"div",36),c(7),o(),n(8,"div",37),c(9,"Category"),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getCategoryValue()===e.id),a(7),f(e.name)}}function Rt(r,t){if(r&1){let e=b();n(0,"div",28)(1,"div",29),u(),n(2,"svg",10),m(3,"path",21),o(),c(4," Select Category "),o(),M(),n(5,"button",30),_("click",function(){C(e);let s=d();return O(s.selectCategory(null))}),n(6,"div",31)(7,"div",32),u(),n(8,"svg",33),m(9,"path",34),o()(),M(),n(10,"div",35)(11,"div",36),c(12,"All Categories"),o(),n(13,"div",37),c(14,"Show all categories"),o()()()(),p(15,Ht,10,3,"button",38),o()}if(r&2){let e=d();a(2),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(13),g("ngForOf",e.categoryOptions)}}function Nt(r,t){r&1&&(n(0,"span",24),c(1,"All Types"),o())}function Gt(r,t){if(r&1&&(n(0,"div",25)(1,"div",47),u(),n(2,"svg",48),m(3,"path",22),o()(),M(),n(4,"span",27),c(5),o()()),r&2){let e=d();a(5),f(e.getTypeLabel())}}function qt(r,t){if(r&1){let e=b();n(0,"button",39),_("click",function(){let s=C(e).$implicit,l=d(2);return O(l.selectType(s.value))}),n(1,"div",31)(2,"div",49),u(),n(3,"svg",50),m(4,"path",22),o()(),M(),n(5,"div",35)(6,"div",36),c(7),o(),n(8,"div",37),c(9,"Work order type"),o()()()()}if(r&2){let e=t.$implicit,i=d(2);P("selected",i.getTypeValue()===e.value),a(7),f(e.label)}}function $t(r,t){if(r&1){let e=b();n(0,"div",28)(1,"div",29),u(),n(2,"svg",10),m(3,"path",22),o(),c(4," Select Work Order Type "),o(),M(),n(5,"button",30),_("click",function(){C(e);let s=d();return O(s.selectType(null))}),n(6,"div",31)(7,"div",32),u(),n(8,"svg",33),m(9,"path",34),o()(),M(),n(10,"div",35)(11,"div",36),c(12,"All Types"),o(),n(13,"div",37),c(14,"Show all types"),o()()()(),p(15,qt,10,3,"button",38),o()}if(r&2){let e=d();a(2),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(13),g("ngForOf",e.typeOptions)}}function Ut(r,t){if(r&1){let e=b();n(0,"div",23)(1,"button",51),_("click",function(){C(e);let s=d();return O(s.clearFilters())}),u(),n(2,"svg",10),m(3,"path",52),o(),c(4," Clear Filters "),o(),M(),n(5,"button",53),_("click",function(){C(e);let s=d();return O(s.onSearch())}),u(),n(6,"svg",10),m(7,"path",5),o(),c(8," Apply Filters "),o()()}if(r&2){let e=d();a(2),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(4),P("mr-2",!e.isRtl())("ml-2",e.isRtl())}}var qe=class r{constructor(t,e,i,s,l){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=s;this.metaService=l;this.filterForm=this.fb.group({search:[""],status_id:[null],priority_id:[null],category_id:[null],type:[null],asset_id:[""],location_id:[""],assigned_to:[""],is_overdue:[!1],start_date:[""],end_date:[""],due_start_date:[""],due_end_date:[""]}),at(()=>{this.checkFilter()})}filtersChanged=new W;filterForm;isLoading=!1;subscription=new A;showStatusDropdown=!1;showPriorityDropdown=!1;showCategoryDropdown=!1;showTypeDropdown=!1;showAdvanced=!1;showDateRangePicker=!1;showAssetDropdown=!1;showLocationDropdown=!1;sortBy="created_at";sortOrder="desc";statusOptions=[];priorityOptions=[];categoryOptions=[];typeOptions=[{value:"ppm",label:"PPM (Planned Preventive Maintenance)"},{value:"corrective",label:"Corrective"},{value:"predictive",label:"Predictive"},{value:"reactive",label:"Reactive"}];sortOptions=[{value:"created_at",label:"Created Date"},{value:"due_date",label:"Due Date"},{value:"priority",label:"Priority"},{value:"status",label:"Status"},{value:"title",label:"Title"}];assets=[];locations=[];users=[];ngOnInit(){this.metaService.clearAllCache(),this.loadFilterOptions()}ngOnDestroy(){this.subscription.unsubscribe()}loadFilterOptions(){this.subscription.add(this.metaService.getStatus().subscribe({next:t=>{this.statusOptions=t},error:t=>{console.error("Error loading statuses:",t)}})),this.subscription.add(this.metaService.getPriorities().subscribe({next:t=>{this.priorityOptions=t},error:t=>{console.error("Error loading priorities:",t)}})),this.subscription.add(this.metaService.getCategories().subscribe({next:t=>{this.categoryOptions=t},error:t=>{console.error("Error loading categories:",t)}})),this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:t=>{t.success&&t.data&&(this.assets=t.data.assets||t.data||[])},error:t=>{console.error("Error loading assets:",t)}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:t=>{t.success&&t.data&&(this.locations=t.data.locations||t.data||[])},error:t=>{console.error("Error loading locations:",t)}})),this.subscription.add(this.workOrderService.getWorkOrderFilters().subscribe({next:t=>{this.users=t.users||[]},error:t=>{console.error("Error loading filter options:",t)}}))}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showTypeDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectStatus(t){this.filterForm.patchValue({status_id:t}),this.showStatusDropdown=!1}getStatusLabel(){let t=this.filterForm.value.status_id;if(!t)return"All Status";let e=this.statusOptions.find(i=>i.id===t);return e?e.name:"All Status"}togglePriorityDropdown(){this.showPriorityDropdown=!this.showPriorityDropdown,this.showStatusDropdown=!1,this.showCategoryDropdown=!1,this.showTypeDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectPriority(t){this.filterForm.patchValue({priority_id:t}),this.showPriorityDropdown=!1}getPriorityLabel(){let t=this.filterForm.value.priority_id;if(!t)return"All Priority";let e=this.priorityOptions.find(i=>i.id===t);return e?e.name:"All Priority"}toggleAssetDropdown(){this.showAssetDropdown=!this.showAssetDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showTypeDropdown=!1,this.showLocationDropdown=!1}selectAsset(t){this.filterForm.patchValue({asset_id:t===0?null:t}),this.showAssetDropdown=!1}getAssetLabel(){let t=this.filterForm.value.asset_id;if(!t)return"All Assets";let e=this.assets.find(i=>i.id===t);return e?e.name:"All Assets"}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showTypeDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectCategory(t){this.filterForm.patchValue({category_id:t}),this.showCategoryDropdown=!1}getCategoryLabel(){let t=this.filterForm.value.category_id;if(!t)return"All Categories";let e=this.categoryOptions.find(i=>i.id===t);return e?e.name:"All Categories"}getCategoryValue(){return this.filterForm.value.category_id}toggleTypeDropdown(){this.showTypeDropdown=!this.showTypeDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1}selectType(t){this.filterForm.patchValue({type:t}),this.showTypeDropdown=!1,this.onFilterChange()}getTypeLabel(){let t=this.filterForm.value.type;if(!t)return"All Types";let e=this.typeOptions.find(i=>i.value===t);return e?e.label:"All Types"}getTypeValue(){return this.filterForm.value.type}toggleLocationDropdown(){this.showLocationDropdown=!this.showLocationDropdown,this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showTypeDropdown=!1,this.showAssetDropdown=!1}selectLocation(t){this.filterForm.patchValue({location_id:t===0?null:t}),this.showLocationDropdown=!1}getLocationLabel(){let t=this.filterForm.value.location_id;if(!t)return"All Locations";let e=this.locations.find(i=>i.id===t);return e?e.name:"All Locations"}toggleDateRangePicker(){this.showDateRangePicker=!this.showDateRangePicker}toggleAdvanced(){this.showAdvanced=!this.showAdvanced}setSortBy(t){this.sortBy=t}toggleSortOrder(){this.sortOrder=this.sortOrder==="asc"?"desc":"asc"}onSearch(){this.onFilterChange()}onFilterChange(){let t=this.filterForm.value,e=ke(G({},t),{sortBy:this.sortBy,sortOrder:this.sortOrder});Object.keys(e).forEach(i=>{(e[i]===""||e[i]===null||e[i]===void 0)&&delete e[i]}),this.filtersChanged.emit(e)}clearFilters(){this.filterForm.patchValue({search:"",status_id:null,priority_id:null,category_id:null,type:null,asset_id:"",location_id:"",assigned_to:"",is_overdue:!1,start_date:"",end_date:"",due_start_date:"",due_end_date:""}),this.sortBy="created_at",this.sortOrder="desc",this.showAdvanced=!1,this.showDateRangePicker=!1,this.onFilterChange()}checkFilter(){let{status_id:t,priority_id:e,category_id:i,type:s,search:l}=this.filterForm.value;return!!(t||e||i||s||l&&l.trim()!=="")}onDocumentClick(t){t.target.closest(".filter-dropdown")||(this.showStatusDropdown=!1,this.showPriorityDropdown=!1,this.showCategoryDropdown=!1,this.showTypeDropdown=!1,this.showAssetDropdown=!1,this.showLocationDropdown=!1)}getAssetName(t){let e=this.assets.find(i=>i.id===t);return e?e.name:""}getLocationName(t){let e=this.locations.find(i=>i.id===t);return e?e.name:""}getStatusValue(){return this.filterForm.value.status_id}getPriorityValue(){return this.filterForm.value.priority_id}getAssetValue(){return this.filterForm.value.asset_id}getLocationValue(){return this.filterForm.value.location_id}getStatusColor(t){if(!t)return"#6B7280";let e=this.statusOptions.find(s=>s.id===t);return e&&{open:"#10B981","in-progress":"#F59E0B",completed:"#3B82F6",cancelled:"#EF4444",pending:"#8B5CF6"}[e.slug]||"#6B7280"}getPriorityColor(t){if(!t)return"#6B7280";let e=this.priorityOptions.find(s=>s.id===t);return e&&{low:"#10B981",medium:"#F59E0B",high:"#F97316",critical:"#EF4444"}[e.slug]||"#6B7280"}getStatusDescription(t){if(!t)return"Work order status";let e=this.statusOptions.find(s=>s.id===t);return e&&{open:"Work order is open and ready for assignment","in-progress":"Work order is currently being worked on",completed:"Work order has been completed successfully",cancelled:"Work order has been cancelled",pending:"Work order is pending approval or resources"}[e.slug]||"Work order status"}getPriorityDescription(t){if(!t)return"Work order priority level";let e=this.priorityOptions.find(s=>s.id===t);return e&&{low:"Low priority - can be addressed when convenient",medium:"Medium priority - should be addressed soon",high:"High priority - needs immediate attention",critical:"Critical priority - requires immediate action"}[e.slug]||"Work order priority level"}isRtl(){return document.documentElement.dir==="rtl"}static \u0275fac=function(e){return new(e||r)(v(ee),v(T),v(ue),v(Me),v(te))};static \u0275cmp=S({type:r,selectors:[["app-work-order-filters"]],outputs:{filtersChanged:"filtersChanged"},standalone:!1,decls:61,vars:46,consts:[[1,"filters-section"],[1,"filters-container",3,"formGroup"],[1,"search-input-wrapper"],[1,"search-input"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","formControlName","search","placeholder","Search work orders by title, description, or asset...",1,"search-field",3,"keydown.enter"],[1,"filter-grid"],[1,"filter-dropdown",3,"clickOutside"],[1,"filter-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"relative",3,"click"],["type","button",1,"filter-button",3,"click"],[1,"button-content"],["class","placeholder-text",4,"ngIf"],["class","selected-option",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"chevron-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"action-buttons"],[1,"placeholder-text"],[1,"selected-option"],[1,"status-indicator"],[1,"selected-text"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-option",3,"click"],[1,"option-content"],[1,"option-icon","bg-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"option-text"],[1,"option-label"],[1,"option-description"],["type","button","class","dropdown-option",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-option",3,"click"],[1,"option-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"priority-indicator"],[1,"category-indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],[1,"option-icon","bg-purple-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600"],[1,"type-indicator","bg-blue-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"option-icon","bg-blue-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["type","button",1,"action-btn","secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","button",1,"action-btn","primary",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(),n(4,"svg",4),m(5,"path",5),o(),M(),n(6,"input",6),_("keydown.enter",function(){return i.onSearch()}),o()()(),n(7,"div",7)(8,"div",8),_("clickOutside",function(){return i.showStatusDropdown=!1}),n(9,"label",9),u(),n(10,"svg",10),m(11,"path",11),o(),c(12," Status "),o(),M(),n(13,"div",12),_("click",function(l){return l.stopPropagation()}),n(14,"button",13),_("click",function(){return i.toggleStatusDropdown()}),n(15,"div",14),p(16,Wt,2,0,"span",15)(17,It,6,5,"div",16),u(),n(18,"svg",17),m(19,"path",18),o()()(),p(20,Vt,16,5,"div",19),o()(),M(),n(21,"div",8),_("clickOutside",function(){return i.showPriorityDropdown=!1}),n(22,"label",9),u(),n(23,"svg",10),m(24,"path",20),o(),c(25," Priority "),o(),M(),n(26,"div",12),_("click",function(l){return l.stopPropagation()}),n(27,"button",13),_("click",function(){return i.togglePriorityDropdown()}),n(28,"div",14),p(29,Dt,2,0,"span",15)(30,Lt,6,5,"div",16),u(),n(31,"svg",17),m(32,"path",18),o()()(),p(33,zt,16,5,"div",19),o()(),M(),n(34,"div",8),_("clickOutside",function(){return i.showCategoryDropdown=!1}),n(35,"label",9),u(),n(36,"svg",10),m(37,"path",21),o(),c(38," Category "),o(),M(),n(39,"div",12),_("click",function(l){return l.stopPropagation()}),n(40,"button",13),_("click",function(){return i.toggleCategoryDropdown()}),n(41,"div",14),p(42,jt,2,0,"span",15)(43,Bt,6,1,"div",16),u(),n(44,"svg",17),m(45,"path",18),o()()(),p(46,Rt,16,5,"div",19),o()(),M(),n(47,"div",8),_("clickOutside",function(){return i.showTypeDropdown=!1}),n(48,"label",9),u(),n(49,"svg",10),m(50,"path",22),o(),c(51," Type "),o(),M(),n(52,"div",12),_("click",function(l){return l.stopPropagation()}),n(53,"button",13),_("click",function(){return i.toggleTypeDropdown()}),n(54,"div",14),p(55,Nt,2,0,"span",15)(56,Gt,6,1,"div",16),u(),n(57,"svg",17),m(58,"path",18),o()()(),p(59,$t,16,5,"div",19),o()()(),p(60,Ut,9,8,"div",23),o()()),e&2&&(a(),g("formGroup",i.filterForm),a(9),P("mr-2",!i.isRtl())("ml-2",i.isRtl()),a(4),P("active",i.showStatusDropdown),a(2),g("ngIf",!i.getStatusLabel()||i.getStatusLabel()==="All Status"),a(),g("ngIf",i.getStatusLabel()&&i.getStatusLabel()!=="All Status"),a(),P("active",i.showStatusDropdown),a(2),g("ngIf",i.showStatusDropdown),a(3),P("mr-2",!i.isRtl())("ml-2",i.isRtl()),a(4),P("active",i.showPriorityDropdown),a(2),g("ngIf",!i.getPriorityLabel()||i.getPriorityLabel()==="All Priority"),a(),g("ngIf",i.getPriorityLabel()&&i.getPriorityLabel()!=="All Priority"),a(),P("active",i.showPriorityDropdown),a(2),g("ngIf",i.showPriorityDropdown),a(3),P("mr-2",!i.isRtl())("ml-2",i.isRtl()),a(4),P("active",i.showCategoryDropdown),a(2),g("ngIf",!i.getCategoryLabel()||i.getCategoryLabel()==="All Categories"),a(),g("ngIf",i.getCategoryLabel()&&i.getCategoryLabel()!=="All Categories"),a(),P("active",i.showCategoryDropdown),a(2),g("ngIf",i.showCategoryDropdown),a(3),P("mr-2",!i.isRtl())("ml-2",i.isRtl()),a(4),P("active",i.showTypeDropdown),a(2),g("ngIf",!i.getTypeLabel()||i.getTypeLabel()==="All Types"),a(),g("ngIf",i.getTypeLabel()&&i.getTypeLabel()!=="All Types"),a(),P("active",i.showTypeDropdown),a(2),g("ngIf",i.showTypeDropdown),a(),j(i.checkFilter()?60:-1))},dependencies:[I,E,R,N,Q,K,X,pt],styles:[".filters-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:2rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{position:relative;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #e5e7eb;border-radius:12px;font-size:1rem;background:#f9fafb;transition:all .3s ease;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;background:#fff;box-shadow:0 0 0 4px #2563eb1a;transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;font-size:1.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{width:100%;padding:0 1rem;text-align:left;border:2px solid #e5e7eb;border-radius:12px;background:#fff;color:#374151;font-size:.875rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:space-between;min-height:56px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button.active[_ngcontent-%COMP%]{border-color:#2563eb;background:#eff6ff;box-shadow:0 0 0 4px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .category-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .asset-indicator[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .location-indicator[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .selected-option[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .3s ease;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .chevron-icon.active[_ngcontent-%COMP%]{transform:rotate(180deg)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);left:0;right:0;background:#fff;border:2px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;z-index:50;max-height:20rem;overflow:auto;animation:_ngcontent-%COMP%_slideDown .2s ease-out}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem;font-size:.75rem;font-weight:700;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background:#f9fafb;border-radius:12px 12px 0 0;display:flex;align-items:center;border-bottom:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;color:#374151;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;border-bottom:1px solid #f3f4f6}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:focus{background-color:#f8fafc;outline:none}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8;font-weight:500}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;text-align:start;width:100%}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:.25rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:2px solid transparent;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #2563eb1a}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#fff;border-color:#d1d5db;color:#6b7280}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{border-color:#9ca3af;color:#374151;background:#f9fafb}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 4px 6px -1px #2563eb4d}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1400px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}}@media (max-width: 1200px){.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.5rem}}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.filters-section[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{gap:1rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{padding:.875rem .875rem .875rem 2.75rem;font-size:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:1rem;left:.875rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{gap:.75rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{padding:.875rem;min-height:48px;font-size:.8rem}}"]})};var bt=(r,t)=>t.id;function Qt(r,t){r&1&&(n(0,"div",17),m(1,"div",18),n(2,"p"),c(3,"Loading form..."),o()())}function Jt(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("title")," ")}}function Kt(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;oe("value",e.id),a(),f(e.name)}}function Xt(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("status_id")," ")}}function en(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;oe("value",e.id),a(),f(e.name)}}function tn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("priority")," ")}}function nn(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;oe("value",e.id),a(),f(e.name)}}function on(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("category_id")," ")}}function rn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("due_date")," ")}}function an(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("description")," ")}}function cn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("estimated_hours")," ")}}function sn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("notes")," ")}}function dn(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),k(" ",e.name," (",e.asset_id,") ")}}function ln(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("asset_id")," ")}}function gn(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),h(" ",e.name," ")}}function mn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("location_id")," ")}}function _n(r,t){if(r&1&&(n(0,"option",30),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),k(" ",e.first_name," ",e.last_name," ")}}function pn(r,t){if(r&1&&(n(0,"div",52),c(1),o()),r&2){let e=d(3);a(),h(" ",e.getFieldError("assigned_to")," ")}}function Cn(r,t){if(r&1){let e=b();n(0,"form",19),_("ngSubmit",function(){C(e);let s=d(2);return O(s.onSubmit())}),n(1,"div",20)(2,"h3",21),c(3,"Basic Information"),o(),n(4,"div",22)(5,"div",23)(6,"label",24),c(7,"Title *"),o(),m(8,"input",25),p(9,Jt,2,1,"div",26),o()(),n(10,"div",22)(11,"div",23)(12,"label",27),c(13,"Status *"),o(),n(14,"select",28)(15,"option",29),c(16,"Select status"),o(),le(17,Kt,2,2,"option",30,bt),o(),p(19,Xt,2,1,"div",26),o(),n(20,"div",23)(21,"label",31),c(22,"Priority *"),o(),n(23,"select",32)(24,"option",29),c(25,"Select Priority"),o(),le(26,en,2,2,"option",30,We),o(),p(28,tn,2,1,"div",26),o()(),n(29,"div",22)(30,"div",23)(31,"label",33),c(32,"Category (Optional)"),o(),n(33,"select",34)(34,"option",29),c(35,"Select Category"),o(),le(36,nn,2,2,"option",30,bt),o(),p(38,on,2,1,"div",26),o(),n(39,"div",23)(40,"label",35),c(41,"Due Date"),o(),m(42,"input",36),p(43,rn,2,1,"div",26),o()(),n(44,"div",22)(45,"div",23)(46,"app-global-dropdown",37),_("selectionChange",function(s){C(e);let l=d(2);return O(l.selectType(s))}),o()()(),n(47,"div",22)(48,"div",23)(49,"label",38),c(50,"Description"),o(),m(51,"textarea",39),p(52,an,2,1,"div",26),o()(),n(53,"div",22)(54,"div",23)(55,"label",40),c(56,"Estimated Hours"),o(),m(57,"input",41),p(58,cn,2,1,"div",26),o(),n(59,"div",23)(60,"label",42),c(61,"Notes"),o(),m(62,"textarea",43),p(63,sn,2,1,"div",26),o()()(),n(64,"div",20)(65,"h3",21),c(66,"Assignment & Asset"),o(),n(67,"div",22)(68,"div",23)(69,"label",44),c(70,"Asset"),o(),n(71,"select",45),_("change",function(s){C(e);let l=d(2);return O(l.onAssetChange(s))}),n(72,"option",29),c(73,"Select Asset"),o(),p(74,dn,2,3,"option",46),o(),p(75,ln,2,1,"div",26),o(),n(76,"div",23)(77,"label",47),c(78,"Location"),o(),n(79,"select",48)(80,"option",29),c(81,"Select Location"),o(),p(82,gn,2,2,"option",46),o(),p(83,mn,2,1,"div",26),o()(),n(84,"div",22)(85,"div",23)(86,"label",49),c(87,"Assign To Team Member (Optional)"),o(),n(88,"select",50)(89,"option",29),c(90,"Select Assignee"),o(),p(91,_n,2,3,"option",46),o(),p(92,pn,2,1,"div",26),n(93,"div",51)(94,"small"),c(95,"Select an existing team member to assign the work order to"),o()()()()()()}if(r&2){let e=d(2);g("formGroup",e.editForm),a(8),P("error",e.isFieldInvalid("title")),a(),g("ngIf",e.isFieldInvalid("title")),a(5),P("error",e.isFieldInvalid("status_id")),a(3),ge(e.statusOptions),a(2),g("ngIf",e.isFieldInvalid("status_id")),a(4),P("error",e.isFieldInvalid("priority_id")),a(3),ge(e.priorityOptions),a(2),g("ngIf",e.isFieldInvalid("priority")),a(5),P("error",e.isFieldInvalid("category_id")),a(3),ge(e.categoryOptions),a(2),g("ngIf",e.isFieldInvalid("category_id")),a(),P("error",e.hasFieldError("due_date")),a(3),P("error-input",e.hasFieldError("due_date")),a(),g("ngIf",e.hasFieldError("due_date")),a(3),g("options",e.typeDropdownOptions)("selectedOption",e.selectedTypeOption)("label","Work Order Type")("required",!0)("placeholder","Select Work Order Type")("error",e.isFieldInvalid("type"))("errorMessage",e.getFieldError("type")),a(2),P("error",e.hasFieldError("description")),a(3),P("error-input",e.hasFieldError("description")),a(),g("ngIf",e.hasFieldError("description")),a(2),P("error",e.hasFieldError("estimated_hours")),a(3),P("error-input",e.hasFieldError("estimated_hours")),a(),g("ngIf",e.hasFieldError("estimated_hours")),a(),P("error",e.hasFieldError("notes")),a(3),P("error-input",e.hasFieldError("notes")),a(),g("ngIf",e.hasFieldError("notes")),a(5),P("error",e.hasFieldError("asset_id")),a(3),P("error-input",e.hasFieldError("asset_id")),a(3),g("ngForOf",e.assets),a(),g("ngIf",e.hasFieldError("asset_id")),a(),P("error",e.hasFieldError("location_id")),a(3),P("error-input",e.hasFieldError("location_id")),a(3),g("ngForOf",e.locations),a(),g("ngIf",e.hasFieldError("location_id")),a(2),P("error",e.hasFieldError("assigned_to")),a(3),P("error-input",e.hasFieldError("assigned_to")),a(3),g("ngForOf",e.users),a(),g("ngIf",e.hasFieldError("assigned_to"))}}function On(r,t){r&1&&(u(),n(0,"svg",53),m(1,"circle",54)(2,"path",55),o())}function un(r,t){if(r&1){let e=b();n(0,"div",1),_("click",function(){C(e);let s=d();return O(s.closeModal())}),n(1,"div",2),_("click",function(s){return C(e),O(s.stopPropagation())}),n(2,"div",3)(3,"h2",4),u(),n(4,"svg",5),m(5,"path",6),o(),c(6," Edit Work Order "),o(),M(),n(7,"button",7),_("click",function(){C(e);let s=d();return O(s.closeModal())}),u(),n(8,"svg",8),m(9,"path",9),o()()(),M(),n(10,"div",10),p(11,Qt,4,0,"div",11)(12,Cn,96,58,"form",12),o(),n(13,"div",13)(14,"button",14),_("click",function(){C(e);let s=d();return O(s.closeModal())}),c(15," Cancel "),o(),n(16,"button",15),_("click",function(){C(e);let s=d();return O(s.onSubmit())}),p(17,On,3,0,"svg",16),c(18),o()()()()}if(r&2){let e=d();a(11),g("ngIf",!e.isFormReady),a(),g("ngIf",e.isFormReady),a(4),g("disabled",!e.canSubmit()),a(),g("ngIf",e.isSubmitting),a(),h(" ",e.isSubmitting?"Updating...":"Update Work Order"," ")}}var be=class r{constructor(t,e,i,s,l,y,H,nt){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=s;this.teamService=l;this.authService=y;this.metaWorkOrdersService=H;this.toastService=nt}workOrder=null;isOpen=!1;modalClosed=new W;workOrderUpdated=new W;editForm;isSubmitting=!1;statusOptions=[];priorityOptions=[];categoryOptions=[];typeDropdownOptions=[{id:"ppm",name:"PPM (Planned Preventive Maintenance)",description:"Planned Preventive Maintenance - scheduled maintenance to prevent issues"},{id:"corrective",name:"Corrective",description:"Corrective - fixing issues that have been identified"},{id:"predictive",name:"Predictive",description:"Predictive - maintenance based on data and predictions"},{id:"reactive",name:"Reactive",description:"Reactive - responding to unexpected failures or issues"}];selectedTypeOption=null;get form(){return this.editForm||null}get isFormReady(){return this.editForm&&typeof this.editForm.patchValue=="function"}ensureFormReady(){return this.isFormReady?!0:(console.log("EditWorkOrderModalComponent: Form not ready, initializing now"),this.initForm(),this.isFormReady)}users=[];assets=[];locations=[];teams=[];subscription=new A;ngOnInit(){this.initForm(),this.loadDropdownData(),this.loadMetadataOptions(),this.workOrder&&this.isFormReady&&this.populateForm()}ngOnChanges(){this.isFormReady||this.initForm(),this.workOrder&&this.isFormReady&&this.populateForm(),this.isOpen&&this.workOrder&&(this.resetForm(),this.populateForm())}resetForm(){this.isFormReady||this.initForm(),this.isFormReady&&this.editForm&&(this.editForm.reset(),this.editForm.markAsUntouched(),this.editForm.markAsPristine())}initForm(){try{if(this.editForm=this.fb.group({title:["",[F.required,F.minLength(3),F.maxLength(255)]],priority_id:["",F.required],status_id:["",F.required],category_id:[""],type:["",F.required],due_date:[""],description:["",[F.maxLength(1e3)]],estimated_hours:["",[F.min(0)]],notes:[""],asset_id:[""],location_id:[""],assigned_to:[""]}),!this.editForm||typeof this.editForm.patchValue!="function"){console.error("EditWorkOrderModalComponent: Form not properly initialized"),this.editForm=null;return}}catch(t){console.error("EditWorkOrderModalComponent: Error initializing form:",t),this.editForm=null}}populateForm(){if(!this.workOrder||!this.isFormReady)return;let t=this.workOrder.type||"";this.editForm.patchValue({title:this.workOrder.title||"",priority_id:this.workOrder.priority?.id||this.workOrder.priority||"",status_id:this.workOrder.status?.id||this.workOrder.status||"",category_id:this.workOrder.category?.id||this.workOrder.category||"",type:t,due_date:this.workOrder?.due_date?this.workOrder.due_date.split("T")[0]:void 0,description:this.workOrder.description||"",estimated_hours:this.workOrder.estimated_hours||"",notes:this.workOrder.notes||"",asset_id:this.getFieldValue(this.workOrder.asset),location_id:this.getFieldValue(this.workOrder.location),assigned_to:this.getFieldValue(this.workOrder.assigned_to)}),this.selectedTypeOption=this.typeDropdownOptions.find(e=>e.id===t)||null,console.log(this.editForm.get("due_date")?.value,"due_date",this.workOrder.due_date)}selectType(t){this.selectedTypeOption=t,this.editForm.patchValue({type:t?.id||""})}getFieldValue(t){return t?typeof t=="object"&&"id"in t?t.id:typeof t=="number"||typeof t=="string"?t:"":""}loadDropdownData(){return xe(this,null,function*(){try{let t=yield ye(this.teamService.getTeamMembersFlat(1e3));this.users=t||[];let e=yield ye(this.assetService.getAssets({per_page:100}));this.assets=e?.data?.assets||e?.data||[];let i=yield ye(this.locationService.getLocations({per_page:100}));this.locations=i?.data?.locations||[],this.teams=t||[]}catch(t){console.error("Error loading dropdown data:",t)}})}isFieldInvalid(t){if(!this.isFormReady||!this.editForm)return!1;let e=this.editForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}getFieldError(t){if(!this.isFormReady||!this.editForm)return"";let e=this.editForm.get(t);return!e||!e.errors?"":e.errors.required?`${this.getFieldLabel(t)} is required`:e.errors.minlength?`${this.getFieldLabel(t)} must be at least ${e.errors.minlength.requiredLength} characters`:e.errors.maxlength?`${this.getFieldLabel(t)} must not exceed ${e.errors.maxlength.requiredLength} characters`:e.errors.min?`${this.getFieldLabel(t)} must be at least ${e.errors.min.min}`:"Invalid value"}getFieldLabel(t){return{title:"Title",status_id:"Status",category_id:"Category",priority_id:"Priority",type:"Work Order Type",due_date:"Due Date",description:"Description",estimated_hours:"Estimated Hours",notes:"Notes",asset_id:"Asset",location_id:"Location",assigned_to:"Assigned To"}[t]||t}hasFieldError(t){return!this.isFormReady||!this.editForm?!1:this.isFieldInvalid(t)}canSubmit(){if(!this.isFormReady||!this.editForm)return!1;let t=this.editForm.valid,e=!this.isSubmitting;return t&&e}onSubmit(){return xe(this,null,function*(){if(!(this.editForm.invalid||this.isSubmitting||!this.workOrder)){this.isSubmitting=!0;try{let t=this.editForm.value,e={title:t.title,status_id:t.status_id,category_id:t.category_id,priority_id:t.priority_id,type:t.type,due_date:t.due_date||null,description:t.description||null,estimated_hours:t.estimated_hours||null,notes:t.notes||null,asset_id:t.asset_id||null,location_id:t.location_id||null,assigned_to:t.assigned_to||null},i=yield ye(this.workOrderService.updateWorkOrder(this.workOrder.id,e));i&&(this.toastService.success("Work order updated successfully"),this.workOrderUpdated.emit(i),this.closeModal())}catch(t){if(console.error("Error updating work order:",t),t&&typeof t=="object"&&"error"in t&&t.error&&typeof t.error=="object"&&"message"in t.error){let e=t.error.message;console.error("API Error:",e),this.toastService.error(e||"Failed to update work order")}else t instanceof Error&&t.message?(console.error("Network Error:",t.message),this.toastService.error("Network error: Failed to update work order")):this.toastService.error("Failed to update work order")}finally{this.isSubmitting=!1}}})}closeModal(){this.resetForm(),this.modalClosed.emit()}onAssetChange(t){let e=t.target.value,i=this.assets.find(s=>s.id===+e);this.editForm.patchValue({location_id:i?.location?.id||""})}loadMetadataOptions(){this.metaWorkOrdersService.clearAllCache(),this.subscription.add(this.metaWorkOrdersService.getStatus().subscribe({next:t=>{this.statusOptions=t},error:t=>{console.error("Error loading statuses:",t),this.statusOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getPriorities().subscribe({next:t=>{this.priorityOptions=t},error:t=>{console.error("Error loading priorities:",t),this.priorityOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getCategories().subscribe({next:t=>{this.categoryOptions=t},error:t=>{console.error("Error loading categories:",t),this.categoryOptions=[]}}))}static \u0275fac=function(e){return new(e||r)(v(ee),v(T),v(ue),v(Me),v(he),v(gt),v(te),v(Z))};static \u0275cmp=S({type:r,selectors:[["app-edit-work-order-modal"]],inputs:{workOrder:"workOrder",isOpen:"isOpen"},outputs:{modalClosed:"modalClosed",workOrderUpdated:"workOrderUpdated"},standalone:!1,features:[se],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],["class","loading-state",4,"ngIf"],["class","edit-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-2 animate-spin","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title","placeholder","Enter work order title",1,"form-input"],["class","error-message",4,"ngIf"],["for","status",1,"form-label"],["id","status","formControlName","status_id",1,"form-select","capitalize"],["value",""],[3,"value"],["for","priority",1,"form-label"],["id","priority","formControlName","priority_id",1,"form-select","capitalize"],["for","category",1,"form-label"],["id","category","formControlName","category_id",1,"form-select"],["for","due_date",1,"form-label"],["id","due_date","type","date","formControlName","due_date",1,"form-input"],[3,"selectionChange","options","selectedOption","label","required","placeholder","error","errorMessage"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter work order description","rows","3",1,"form-textarea"],["for","estimated_hours",1,"form-label"],["id","estimated_hours","type","number","formControlName","estimated_hours","placeholder","0.0","min","0","step","0.5",1,"form-input"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Additional notes or instructions","rows","3",1,"form-textarea"],["for","asset_id",1,"form-label"],["id","asset_id","formControlName","asset_id",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","location_id",1,"form-label"],["id","location_id","formControlName","location_id",1,"form-select"],["for","assigned_to",1,"form-label"],["id","assigned_to","formControlName","assigned_to",1,"form-select"],[1,"field-help"],[1,"error-message"],["fill","none","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&p(0,un,19,5,"div",0),e&2&&g("ngIf",i.isOpen)},dependencies:[I,E,_e,pe,Ce,R,J,He,N,Q,Oe,K,X,fe],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:800px;max-height:90vh;overflow-y:auto;position:relative}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;display:none}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb;border-radius:12px 12px 0 0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:3px solid #e5e7eb;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 1rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:after{content:" *";color:#dc2626;display:none}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label.required[_ngcontent-%COMP%]:after{display:inline}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease;background-color:#fff}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea.error[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;display:flex;align-items:center;gap:.25rem}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:has(.form-group:only-child){grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 12px 12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:120px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb;border-color:#9ca3af}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8;transform:translateY(-1px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-content[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.edit-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.75rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}}.modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.btn[_ngcontent-%COMP%]:disabled{position:relative}.btn[_ngcontent-%COMP%]:disabled   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var Mn=()=>[1,2,3,4,5,6];function fn(r,t){if(r&1&&(n(0,"span",25),c(1),o()),r&2){let e=d(2);a(),h(" (",e.getSelectedCount()," selected) ")}}function Pn(r,t){if(r&1){let e=b();n(0,"div",11)(1,"label",26)(2,"input",27),_("change",function(){C(e);let s=d(2);return O(s.toggleSelectAll())}),o(),n(3,"span",28),c(4,"Select All"),o()()()}if(r&2){let e=d(2);a(2),g("checked",e.isAllSelected())("indeterminate",e.isPartiallySelected())}}function hn(r,t){if(r&1){let e=b();n(0,"div",29)(1,"div",30)(2,"button",31),_("click",function(){C(e);let s=d(2);return O(s.updateBulkStatus("open"))}),u(),n(3,"svg",14),m(4,"path",32),o(),c(5," Set Open "),o(),M(),n(6,"button",31),_("click",function(){C(e);let s=d(2);return O(s.updateBulkStatus("in_progress"))}),u(),n(7,"svg",14),m(8,"path",33),o(),c(9," Set In Progress "),o(),M(),n(10,"button",31),_("click",function(){C(e);let s=d(2);return O(s.updateBulkStatus("completed"))}),u(),n(11,"svg",14),m(12,"path",34),o(),c(13," Set Completed "),o()(),M(),n(14,"div",30)(15,"button",31),_("click",function(){C(e);let s=d(2);return O(s.updateBulkPriority("high"))}),u(),n(16,"svg",14),m(17,"path",33),o(),c(18," Set High Priority "),o(),M(),n(19,"button",31),_("click",function(){C(e);let s=d(2);return O(s.updateBulkPriority("critical"))}),u(),n(20,"svg",14),m(21,"path",35),o(),c(22," Set Critical "),o()()(),M(),n(23,"button",36),_("click",function(){C(e);let s=d(2);return O(s.openDeleteModalForSelected())}),u(),n(24,"svg",14),m(25,"rect",37)(26,"path",38),o(),c(27," Delete "),o()}if(r&2){let e=d(2);a(23),g("disabled",e.getSelectedCount()===0),a(),P("mr-1",!e.isRtl())("ml-1",e.isRtl())}}function bn(r,t){if(r&1){let e=b();n(0,"div",39)(1,"div",40)(2,"div",41),u(),n(3,"svg",42),m(4,"path",43),o()(),M(),n(5,"div",44)(6,"h3",45),c(7,"No work orders found"),o(),n(8,"p",46),c(9,"Get started by creating your first work order to streamline your maintenance workflows."),o()(),n(10,"div",47)(11,"button",48),_("click",function(){C(e);let s=d(2);return O(s.createWorkOrder())}),u(),n(12,"svg",49),m(13,"path",50),o(),c(14," Create Work Order "),o()()()()}if(r&2){let e=d(2);a(12),P("mr-2",!e.isRtl())("ml-2",e.isRtl())}}function vn(r,t){if(r&1){let e=b();n(0,"app-work-order-card",53),_("editRequested",function(s){C(e);let l=d(3);return O(l.editWorkOrder(s))})("deleteRequested",function(s){C(e);let l=d(3);return O(l.deleteWorkOrder(s))})("selectionChanged",function(s){C(e);let l=d(3);return O(l.onCardSelectionChanged(s))}),o()}if(r&2){let e=t.$implicit,i=d(3);g("workOrder",e)("showBulkSelection",!0)("isSelected",i.selectedWorkOrders.has(e.id))}}function wn(r,t){if(r&1&&(n(0,"div",51),p(1,vn,1,3,"app-work-order-card",52),o()),r&2){let e=d(2);a(),g("ngForOf",e.workOrders)}}function kn(r,t){if(r&1&&(n(0,"div",89),c(1),o()),r&2){let e=d().$implicit;oe("title",e.description),a(),f(e.description)}}function xn(r,t){if(r&1){let e=b();n(0,"div",60)(1,"div",61)(2,"div",62)(3,"div",63),u(),n(4,"svg",49),m(5,"path",64)(6,"path",65),o()(),M(),n(7,"div",66)(8,"div",67),c(9),o(),p(10,kn,2,2,"div",68),o()()(),n(11,"div",61)(12,"div",69)(13,"span",70),c(14),o(),n(15,"span",71),c(16),o()()(),n(17,"div",61)(18,"span",72),c(19),o()(),n(20,"div",61)(21,"div",73)(22,"div",74),u(),n(23,"svg",14),m(24,"path",75),o(),M(),n(25,"span"),c(26),o()(),n(27,"div",74),u(),n(28,"svg",14),m(29,"path",76),o(),M(),n(30,"span"),c(31),o()()()(),n(32,"div",61)(33,"div",77),u(),n(34,"svg",14),m(35,"path",78)(36,"path",79),o(),M(),n(37,"span"),c(38),o()()(),n(39,"div",61)(40,"div",80),u(),n(41,"svg",14),m(42,"path",81),o(),M(),n(43,"span"),c(44),w(45,"dateFormat"),o()()(),n(46,"div",61)(47,"div",82),u(),n(48,"svg",14),m(49,"path",83),o(),M(),n(50,"span"),c(51),w(52,"dateFormat"),o()()(),n(53,"div",61)(54,"div",84)(55,"button",85),_("click",function(){let s=C(e).$implicit,l=d(3);return O(l.viewWorkOrderDetails(s))}),u(),n(56,"svg",14),m(57,"path",65)(58,"path",86),o()(),M(),n(59,"button",87),_("click",function(){let s=C(e).$implicit,l=d(3);return O(l.editWorkOrder(s))}),u(),n(60,"svg",14),m(61,"path",88),o()()()()()}if(r&2){let e=t.$implicit,i=d(3);a(8),oe("title",e.title),a(),f(e.title),a(),g("ngIf",e.description),a(3),g("ngClass","status-"+e.status.slug),a(),h(" ",i.getStatusLabel(e.status.name)," "),a(),g("ngClass","priority-"+e.priority.slug),a(),h(" ",i.getPriorityLabel(e.priority.name)," "),a(2),g("ngClass","type-"+e.type),a(),h(" ",i.getTypeLabel(e.type)," "),a(7),f(i.getAssigneeName(e)),a(5),f(i.getAssetName(e)),a(7),f(i.getLocationName(e)),a(6),f(e.due_date?x(45,14,e.due_date):"Not set"),a(7),f(x(52,16,e.created_at))}}function yn(r,t){if(r&1&&(n(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57),c(4,"Work Order"),o(),n(5,"div",57),c(6,"Status & Priority"),o(),n(7,"div",57),c(8,"Type"),o(),n(9,"div",57),c(10,"Assignee & Asset"),o(),n(11,"div",57),c(12,"Location"),o(),n(13,"div",57),c(14,"Due Date"),o(),n(15,"div",57),c(16,"Created"),o(),n(17,"div",57),c(18,"Actions"),o()()(),n(19,"div",58),p(20,xn,62,18,"div",59),o()()),r&2){let e=d(2);a(20),g("ngForOf",e.workOrders)}}function Sn(r,t){if(r&1){let e=b();n(0,"div")(1,"div",5)(2,"div",6),u(),n(3,"svg",7),m(4,"path",8),o(),c(5),p(6,fn,2,1,"span",9),o(),M(),n(7,"div",10),p(8,Pn,5,2,"div",11),o(),n(9,"div",12),p(10,hn,28,5),n(11,"button",13),_("click",function(){C(e);let s=d();return O(s.refreshWorkOrders())}),u(),n(12,"svg",14),m(13,"path",15),o()(),M(),n(14,"div",16)(15,"button",17),_("click",function(){C(e);let s=d();return O(s.setViewMode("grid"))}),u(),n(16,"svg",14),m(17,"path",18),o()(),M(),n(18,"button",19),_("click",function(){C(e);let s=d();return O(s.setViewMode("list"))}),u(),n(19,"svg",14),m(20,"path",20),o()()()()(),p(21,bn,15,4,"div",21)(22,wn,2,1,"div",22)(23,yn,21,1,"div",23),M(),n(24,"app-delete-confirmation-modal",24),_("closeModal",function(){C(e);let s=d();return O(s.closeDeleteModal())})("confirmDelete",function(s){C(e);let l=d();return O(l.deleteSelected(s))}),o()()}if(r&2){let e=d();a(5),h(" ",e.total," work orders "),a(),g("ngIf",e.getSelectedCount()>0),a(2),j(e.getSelectedCount()>0?8:-1),a(2),j(e.getSelectedCount()>0?10:-1),a(),g("disabled",e.isLoading),a(4),P("active",e.viewMode==="grid"),a(3),P("active",e.viewMode==="list"),a(3),g("ngIf",e.workOrders.length===0),a(),g("ngIf",e.workOrders.length>0&&e.viewMode==="grid"),a(),g("ngIf",e.workOrders.length>0&&e.viewMode==="list"),a(),g("isOpen",e.showDeleteConfirmationModal)("selectedCount",e.selectedWorkOrders.size)("entitySingular","Work Order")("entityPlural","Work Orders")("warningText",null)}}function En(r,t){r&1&&m(0,"div",93)}function Tn(r,t){r&1&&(n(0,"div",2)(1,"div",90),m(2,"div",91),n(3,"div",92),le(4,En,1,0,"div",93,We),o()()()),r&2&&(a(4),ge(De(0,Mn)))}function Wn(r,t){if(r&1){let e=b();n(0,"app-pagination",94),_("pageChange",function(s){C(e);let l=d();return O(l.onPageChange(s))})("perPageChange",function(s){C(e);let l=d();return O(l.onPerPageChange(s))}),o()}if(r&2){let e=d();g("pagination",e.pagination)}}function In(r,t){if(r&1){let e=b();n(0,"app-edit-work-order-modal",95),_("modalClosed",function(){C(e);let s=d();return O(s.closeEditModal())})("workOrderUpdated",function(){C(e);let s=d();return O(s.loadWorkOrders())}),o()}if(r&2){let e=d();g("workOrder",e.selectedWorkOrder)("isOpen",e.isEditModalOpen)}}var ve=class r{constructor(t,e,i){this.workOrderService=t;this.router=e;this.toastService=i}createWorkOrderRequested=new W;prefsService=Ee(dt);workOrders=[];viewMode="grid";isLoading=!0;isEditModalOpen=!1;selectedWorkOrder=null;currentPage=1;perPage=10;total=0;totalPages=0;pagination={current_page:1,last_page:1,per_page:20,total:0,from:0,to:0};currentFilters={};selectedWorkOrders=new Set;showBulkActions=!1;showDeleteConfirmationModal=!1;Math=Math;subscription=new A;ngOnInit(){let t=this.prefsService.get("items_per_page")||20;this.perPage=t,this.pagination.per_page=t,this.loadWorkOrders(1,this.currentFilters)}ngOnDestroy(){this.subscription.unsubscribe()}loadWorkOrders(t=1,e){this.isLoading=!0,this.currentPage=t;let i={page:this.currentPage,per_page:this.perPage};e&&(e.search&&e.search.trim()&&(i.search=e.search.trim()),e.status_id&&(i.status_id=e.status_id),e.priority_id&&(i.priority_id=e.priority_id),e.category_id&&(i.category_id=e.category_id),e.type&&(i.type=e.type),e.asset_id&&e.asset_id!==""&&(i.asset_id=e.asset_id),e.location_id&&e.location_id!==""&&(i.location_id=e.location_id),e.assigned_to&&e.assigned_to!==""&&(i.assigned_to=e.assigned_to),e.is_overdue!==void 0&&e.is_overdue!==!1&&(i.is_overdue=e.is_overdue),e.start_date&&e.start_date!==""&&(i.start_date=e.start_date),e.end_date&&e.end_date!==""&&(i.end_date=e.end_date),e.due_start_date&&e.due_start_date!==""&&(i.due_start_date=e.due_start_date),e.due_end_date&&e.due_end_date!==""&&(i.due_end_date=e.due_end_date),e.sortBy&&(i.sort_by=e.sortBy),e.sortOrder&&(i.sort_dir=e.sortOrder)),this.subscription.add(this.workOrderService.getWorkOrders(i).subscribe({next:s=>{let l=s.data;this.workOrders=l.data||[],this.total=l.total||0,this.currentPage=l.current_page||1,this.perPage=l.per_page||10,this.totalPages=l.last_page||1,this.pagination={current_page:this.currentPage,last_page:this.totalPages,per_page:this.perPage,total:this.total,from:(this.currentPage-1)*this.perPage+1,to:Math.min(this.currentPage*this.perPage,this.total)},this.isLoading=!1},error:s=>{console.error("WorkOrderListComponent: Error loading work orders:",s),this.toastService.error("Failed to load work orders"),this.workOrders=[],this.isLoading=!1}}))}setViewMode(t){this.viewMode=t}refreshWorkOrders(){this.loadWorkOrders(this.currentPage,this.currentFilters)}onFiltersChanged(t){console.log("WorkOrderListComponent: Filters changed:",t),this.currentFilters=G({},t),this.loadWorkOrders(1,t)}createWorkOrder(){this.createWorkOrderRequested.emit()}getStatusLabel(t){return{open:"Open",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",pending:"Pending"}[t]||t}getPriorityLabel(t){return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[t]||t}getTypeLabel(t){return{ppm:"PPM",corrective:"Corrective",predictive:"Predictive",reactive:"Reactive"}[t]||t}onCardSelectionChanged(t){let{workOrderId:e,selected:i}=t;i?this.selectedWorkOrders.add(e):this.selectedWorkOrders.delete(e),this.showBulkActions=this.selectedWorkOrders.size>0}selectAllWorkOrders(){this.workOrders.forEach(t=>this.selectedWorkOrders.add(t.id)),this.showBulkActions=!0}deselectAllWorkOrders(){this.selectedWorkOrders.clear(),this.showBulkActions=!1}getSelectedCount(){return this.selectedWorkOrders.size}isAllSelected(){return this.workOrders.length>0&&this.selectedWorkOrders.size===this.workOrders.length}isPartiallySelected(){return this.selectedWorkOrders.size>0&&this.selectedWorkOrders.size<this.workOrders.length}toggleSelectAll(){this.isAllSelected()?this.deselectAllWorkOrders():this.selectAllWorkOrders()}updateBulkStatus(t){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(s=>({id:s,status:t}));console.log("Bulk status update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}updateBulkPriority(t){if(this.selectedWorkOrders.size===0)return;let i=Array.from(this.selectedWorkOrders).map(s=>({id:s,priority:t}));console.log("Bulk priority update:",i),this.refreshWorkOrders(),this.selectedWorkOrders.clear(),this.showBulkActions=!1}getAssigneeName(t){if(t.assigned_to){if(typeof t.assigned_to=="object"){let e=t.assigned_to,i=e.first_name||"",s=e.last_name||"";return`${i} ${s}`.trim()||"Unassigned"}return String(t.assigned_to)}return"Unassigned"}getAssetName(t){if(t.asset){if(typeof t.asset=="object"){let e=t.asset;return e.name||e.asset_id||"No Asset"}return String(t.asset)}return"No Asset"}getLocationName(t){if(t.location){if(typeof t.location=="object"){let e=t.location;return e.name||e.full_path||"No Location"}return String(t.location)}return"No Location"}viewWorkOrderDetails(t){this.router.navigate(["/work-orders",t.id])}editWorkOrder(t){this.selectedWorkOrder=t,this.isEditModalOpen=!0}deleteWorkOrder(t){t?.id&&(this.selectedWorkOrders.clear(),this.selectedWorkOrders.add(t.id),this.showDeleteConfirmationModal=!0)}closeDeleteModal(){this.showDeleteConfirmationModal=!1}openDeleteModalForSelected(){this.selectedWorkOrders.size!==0&&(this.showDeleteConfirmationModal=!0)}deleteSelected(t){let e=Array.from(this.selectedWorkOrders);if(e.length===0){this.showDeleteConfirmationModal=!1;return}this.isLoading=!0;let i=0,s=()=>{i++,i>=e.length&&(this.showDeleteConfirmationModal=!1,this.selectedWorkOrders.clear(),this.loadWorkOrders(this.currentPage,this.currentFilters))};e.forEach(l=>{this.subscription.add(this.workOrderService.deleteWorkOrder(l).subscribe({next:()=>{this.toastService.success("Work order deleted successfully"),s()},error:y=>{console.error("Failed to delete work order:",y),this.toastService.error("Failed to delete work order"),s()}}))})}closeEditModal(){this.isEditModalOpen=!1,this.selectedWorkOrder=null}onWorkOrderUpdated(t){let e=this.workOrders.findIndex(i=>i.id===t.id);e!==-1&&(this.workOrders[e]=t),this.closeEditModal(),this.toastService.success("Work order updated successfully"),console.log("Work order updated successfully:",t)}onPageChange(t){this.currentPage=t,this.loadWorkOrders(t,this.currentFilters)}onPerPageChange(t){this.perPage=t,this.currentPage=1,this.loadWorkOrders(1,this.currentFilters)}isRtl(){return document.documentElement.dir==="rtl"}static \u0275fac=function(e){return new(e||r)(v(T),v(me),v(Z))};static \u0275cmp=S({type:r,selectors:[["app-work-order-list"]],outputs:{createWorkOrderRequested:"createWorkOrderRequested"},standalone:!1,decls:6,vars:4,consts:[[1,"list-section"],[3,"filtersChanged"],[1,"loading-state"],[3,"pagination","pageChange","perPageChange",4,"ngIf"],[3,"workOrder","isOpen","modalClosed","workOrderUpdated",4,"ngIf"],[1,"list-header"],[1,"orders-count","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 1 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],["class","selected-count",4,"ngIf"],[1,"bulk-operations"],[1,"bulk-selection"],[1,"header-actions"],["title","Refresh",1,"refresh-btn",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"view-toggle"],["title","Grid View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],["title","List View",1,"view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["class","empty-state",4,"ngIf"],["class","work-orders-grid",4,"ngIf"],["class","work-orders-list",4,"ngIf"],[3,"closeModal","confirmDelete","isOpen","selectedCount","entitySingular","entityPlural","warningText"],[1,"selected-count"],[1,"select-all-label"],["type","checkbox",1,"select-all-checkbox",3,"change","checked","indeterminate"],[1,"select-all-text"],[1,"bulk-actions","!hidden"],[1,"bulk-action-group"],[1,"bulk-action-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],["title","Delete Selected",1,"bulk-delete-btn",3,"click","disabled"],["x","4","y","4","width","16","height","16","rx","2","stroke-width","2"],["d","M8 8l8 8M8 16l8-8","stroke-width","2"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-text"],[1,"empty-title"],[1,"empty-description"],[1,"empty-actions"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"work-orders-grid"],["class","work-order-card-item",3,"workOrder","showBulkSelection","isSelected","editRequested","deleteRequested","selectionChanged",4,"ngFor","ngForOf"],[1,"work-order-card-item",3,"editRequested","deleteRequested","selectionChanged","workOrder","showBulkSelection","isSelected"],[1,"work-orders-list"],[1,"list-table-header"],[1,"list-table-row"],[1,"list-table-cell","header-cell"],[1,"list-table-body"],["class","list-table-row hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"list-table-row","hover:bg-gray-50"],[1,"list-table-cell"],[1,"work-order-info"],[1,"work-order-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"work-order-details"],[1,"work-order-title","line-clamp-1",3,"title"],["class","work-order-description line-clamp-2",3,"title",4,"ngIf"],[1,"badges-container","!flex-row"],[1,"badge","status-badge",3,"ngClass"],[1,"badge","priority-badge",3,"ngClass"],[1,"badge","type-badge",3,"ngClass"],[1,"assignee-asset-info"],[1,"info-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[1,"location-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"due-date-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"created-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"actions-container"],["title","View Details",1,"action-btn","view-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Work Order",1,"action-btn","edit-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"work-order-description","line-clamp-2",3,"title"],[1,"loading-skeleton"],[1,"skeleton-header"],[1,"skeleton-cards"],[1,"skeleton-card"],[3,"pageChange","perPageChange","pagination"],[3,"modalClosed","workOrderUpdated","workOrder","isOpen"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"app-work-order-filters",1),_("filtersChanged",function(l){return i.onFiltersChanged(l)}),o(),p(2,Sn,25,17,"div")(3,Tn,6,1,"div",2)(4,Wn,1,1,"app-pagination",3),o(),p(5,In,1,2,"app-edit-work-order-modal",4)),e&2&&(a(2),j(i.isLoading?-1:2),a(),j(i.isLoading?3:-1),a(),g("ngIf",i.workOrders.length>0||i.pagination.total>0&&!i.isLoading),a(),g("ngIf",i.isEditModalOpen))},dependencies:[Le,I,E,Re,Ne,Ge,qe,be,Pe],styles:[".list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding:1rem;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#374151;display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:.875rem;color:#2563eb;font-weight:600}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;margin:0 2rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{width:1rem;height:1rem;accent-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .bulk-operations[_ngcontent-%COMP%]   .bulk-selection[_ngcontent-%COMP%]   .select-all-label[_ngcontent-%COMP%]   .select-all-text[_ngcontent-%COMP%]{font-weight:500}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:#fff;color:#374151;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-action-group[_ngcontent-%COMP%]   .bulk-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #ef4444;border-radius:6px;background:#fff;color:#ef4444;font-size:.75rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:36px;padding:0 12px;border-radius:10px;background:#fef2f2;color:#dc2626;border:1px solid #fee2e2;transition:background .2s ease}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem .75rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;gap:.5rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f9fafb;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn.active[_ngcontent-%COMP%]:hover{background:#1d4ed8}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .bulk-mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af;color:#374151}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:.25rem;background:#f3f4f6;border-radius:8px;padding:.25rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280;display:flex;align-items:center;justify-content:center}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#e5e7eb}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn.active[_ngcontent-%COMP%]{background:#fff;color:#2563eb;box-shadow:0 1px 3px #0000001a}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{padding:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{height:60px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-filters[_ngcontent-%COMP%]{height:50px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;margin-bottom:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.list-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{height:200px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:12px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:3rem 2rem;text-align:center}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:480px;margin:0 auto}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:#9ca3af;margin-bottom:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5rem;height:5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 .75rem;line-height:1.4}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0;line-height:1.6;max-width:400px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;text-decoration:none;transition:all .2s ease;border:none;cursor:pointer;min-width:140px}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;box-shadow:0 1px 3px #2563eb4d}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #2563eb66}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af;transform:translateY(-1px)}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]{transition:transform .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]   .work-order-card-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .work-order-card-item.list-view[_ngcontent-%COMP%]{min-height:auto;padding:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px 8px 0 0;border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:0 0 8px 8px;background:#fff}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 1fr 1fr 1fr .5fr;gap:1rem;padding:1rem;align-items:center;border-bottom:1px solid #f3f4f6;transition:background-color .2s ease}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;background:#eff6ff;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#2563eb;flex-shrink:0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:.25rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.4}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;text-transform:capitalize;text-align:center}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-in-progress[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-medium[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge.priority-critical[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:none;border-radius:6px;cursor:pointer;transition:all .2s ease;color:#6b7280}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]:hover{background:#eff6ff;color:#2563eb}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:#fef3c7;color:#d97706}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;padding:1rem;margin-top:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-size:.875rem;margin-bottom:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;font-size:.875rem;cursor:pointer;transition:all .2s ease;min-width:2.5rem;text-align:center}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}@media (max-width: 768px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch;padding:1rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{align-self:center;flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{order:-1}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.25rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:200px}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem;padding:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child, .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]:last-child{border-bottom:none}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}@media (max-width: 480px){.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-grid[_ngcontent-%COMP%]{gap:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{padding:.75rem}.list-section[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:.375rem .5rem;min-width:2rem;font-size:.75rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{gap:1rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.125rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:.625rem 1.25rem;font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]{padding:.5rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]{padding:.375rem 0}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-title[_ngcontent-%COMP%]{font-size:.875rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .work-order-info[_ngcontent-%COMP%]   .work-order-details[_ngcontent-%COMP%]   .work-order-description[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .badges-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.125rem .5rem;font-size:.625rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]{font-size:.75rem}.list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-header[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .assignee-asset-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .list-section[_ngcontent-%COMP%]   .work-orders-list[_ngcontent-%COMP%]   .list-table-body[_ngcontent-%COMP%]   .list-table-row[_ngcontent-%COMP%]   .list-table-cell[_ngcontent-%COMP%]   .created-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.875rem;height:.875rem}}"]})};function Vn(r,t){r&1&&(n(0,"div",3)(1,"div",4),m(2,"div",5),n(3,"span",6),c(4,"Loading stats..."),o()()())}function Dn(r,t){if(r&1&&(n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),c(4,"Total Work Orders"),o(),n(5,"div",11),u(),n(6,"svg",12),m(7,"path",13)(8,"path",14),o()()(),M(),n(9,"div",15),c(10),o(),n(11,"div",16),c(12,"Work orders in system"),o()(),n(13,"div",17)(14,"div",9)(15,"div",10),c(16,"Open"),o(),n(17,"div",11),u(),n(18,"svg",18),m(19,"path",19),o()()(),M(),n(20,"div",15),c(21),o(),n(22,"div",16),c(23,"Awaiting assignment"),o()(),n(24,"div",20)(25,"div",9)(26,"div",10),c(27,"In Progress"),o(),n(28,"div",11),u(),n(29,"svg",21),m(30,"path",22),o()()(),M(),n(31,"div",15),c(32),o(),n(33,"div",16),c(34,"Under maintenance"),o()(),n(35,"div",23)(36,"div",9)(37,"div",10),c(38,"Completed"),o(),n(39,"div",11),u(),n(40,"svg",24),m(41,"path",25),o()()(),M(),n(42,"div",15),c(43),o(),n(44,"div",16),c(45,"Closed successfully"),o()()()),r&2){let e=d();a(10),f(e.getTotalCount()),a(11),f(e.getStatusCount("open")),a(11),f(e.getStatusCount("in-progress")),a(11),f(e.getStatusCount("completed"))}}var we=class r{constructor(t){this.workOrderService=t}stats=null;isLoading=!0;subscription=new A;ngOnInit(){this.loadStats()}ngOnDestroy(){this.subscription.unsubscribe()}loadStats(){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderStatistics().subscribe({next:t=>{console.log("Work order stats loaded:",t),this.stats=t,this.isLoading=!1},error:t=>{console.error("Error loading stats:",t),this.isLoading=!1,this.stats={status_counts:{},priority_counts:{},overdue_count:0,recent_created:0,recent_completed:0}}}))}getIconClass(t){return{wrench:"fas fa-wrench",warning:"fas fa-exclamation-triangle",clock:"fas fa-clock",check:"fas fa-check-circle"}[t]||"fas fa-circle"}getTotalCount(){return this.stats?.status_counts?Object.values(this.stats.status_counts).reduce((t,e)=>t+e,0):0}getStatusCount(t){return this.stats?.status_counts?.[t]||0}getPriorityCount(t){return this.stats?.priority_counts?.[t]||0}getOverdueCount(){return this.stats?.overdue_count||0}getRecentCreated(){return this.stats?.recent_created||0}getRecentCompleted(){return this.stats?.recent_completed||0}hasData(){return!!(this.stats&&(Object.keys(this.stats.status_counts||{}).length>0||Object.keys(this.stats.priority_counts||{}).length>0||this.stats.overdue_count>0||this.stats.recent_created>0||this.stats.recent_completed>0))}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=S({type:r,selectors:[["app-work-order-stats"]],standalone:!1,decls:3,vars:2,consts:[[1,"stats-section"],["class","loading-state",4,"ngIf"],["class","stats-cards",4,"ngIf"],[1,"loading-state"],[1,"loading-wrap"],[1,"spinner"],[1,"loading-text"],[1,"stats-cards"],[1,"stat-card","theme-blue"],[1,"card-top"],[1,"title"],[1,"badge"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"],["stroke-linecap","round","stroke-linejoin","round","d","M4.867 19.125h.008v.008h-.008v-.008Z"],[1,"value"],[1,"subtitle"],[1,"stat-card","theme-green"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-green-500"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"],[1,"stat-card","theme-orange"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"stat-card","theme-purple"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"]],template:function(e,i){e&1&&(n(0,"div",0),p(1,Vn,5,0,"div",1)(2,Dn,46,4,"div",2),o()),e&2&&(a(),g("ngIf",i.isLoading),a(),g("ngIf",!i.isLoading))},dependencies:[E],styles:[".stats-section[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:14px;padding:16px 18px;border:1px solid #e5e7eb;box-shadow:0 4px 16px #0206170d;transition:transform .2s ease,box-shadow .2s ease}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #02061714}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .card-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#334155}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f61f;border-radius:10px;padding:6px;display:inline-flex;align-items:center;justify-content:center}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#0f172a;margin:2px 0 6px}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:13px;color:#6b7280}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]{background:#f0f7ff;border-color:#dbeafe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-blue[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f626}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]{background:#effcf4;border-color:#d1fae5}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-green[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#10b98126}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]{background:#fff7ed;border-color:#fed7aa}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-orange[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f59e0b26}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]{background:#f6f3ff;border-color:#ddd6fe}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card.theme-purple[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#8b5cf626}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.stats-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 1024px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}}@media (max-width: 768px){.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stats-section[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px}}"]})};var An=()=>[0,1,2,3,4];function zn(r,t){r&1&&(n(0,"div",4),m(1,"div",5),n(2,"p"),c(3,"Loading work order analytics..."),o()())}function jn(r,t){if(r&1){let e=b();n(0,"div",6),u(),n(1,"svg",7),m(2,"path",8),o(),M(),n(3,"h3",9),c(4),o(),n(5,"button",10),_("click",function(){C(e);let s=d();return O(s.refreshData())}),u(),n(6,"svg",11),m(7,"path",12),o(),c(8," Retry "),o()()}if(r&2){let e=d();a(4),f(e.error)}}function Bn(r,t){if(r&1&&(n(0,"div",23)(1,"h3",24),c(2,"Performance Metrics"),o(),n(3,"div",25)(4,"div",26)(5,"div",27)(6,"h4",28),c(7,"Average Resolution Time"),o(),u(),n(8,"svg",29),m(9,"path",30),o()(),M(),n(10,"div",31),c(11),o(),n(12,"div",32),c(13),o()(),n(14,"div",26)(15,"div",27)(16,"h4",28),c(17,"Completion Rate"),o(),u(),n(18,"svg",29),m(19,"path",33),o()(),M(),n(20,"div",31),c(21),o(),n(22,"div",34),c(23,"Target: 85%"),o()(),n(24,"div",26)(25,"div",27)(26,"h4",28),c(27,"Overdue Work Orders"),o(),u(),n(28,"svg",29),m(29,"path",8),o()(),M(),n(30,"div",35),c(31),o(),n(32,"div",36),c(33),o()(),n(34,"div",26)(35,"div",27)(36,"h4",28),c(37,"Active Technicians"),o(),u(),n(38,"svg",29),m(39,"path",37),o()(),M(),n(40,"div",31),c(41),o(),n(42,"div",38),c(43,"Active right now"),o()()()()),r&2){let e=d(2);a(11),f(e.formatDays(e.analyticsData.average_resolution_time_days)),a(2),h(" ",e.analyticsData.average_resolution_time_days||0," days average "),a(8),f(e.formatPercentage(e.analyticsData.completion_rate_percentage)),a(10),f(e.analyticsData.overdue_work_orders||0),a(2),h(" ",e.analyticsData.overdue_work_orders||0," overdue "),a(8),f(e.analyticsData.active_technicians||0)}}function Hn(r,t){if(r&1&&(n(0,"div",56),m(1,"div",57),n(2,"span",58),c(3),o(),n(4,"span",59),c(5),o(),n(6,"span",60),c(7),o()()),r&2){let e=t.$implicit,i=d(4);a(),V("background-color",e.color),a(2),f(e.name),a(2),f(e.value),a(2),h(" (",i.formatPercentage(i.getStatusPercentage(e.value,i.totalStatusCount)),") ")}}function Rn(r,t){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),c(3,"Work Order Status Distribution"),o(),n(4,"p",46),c(5),o()(),n(6,"div",47)(7,"div",48)(8,"div",49),p(9,Hn,8,5,"div",50),o(),n(10,"div",51)(11,"div",52)(12,"div",53)(13,"span",54),c(14),o(),n(15,"span",55),c(16,"Total"),o()()()()()()()),r&2){let e=d(3);a(5),h("Current breakdown by status (",e.totalStatusCount," total)"),a(4),g("ngForOf",e.statusChartData),a(5),f(e.totalStatusCount)}}function Nn(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),c(2),o(),n(3,"div",66),m(4,"div",67),n(5,"span",68),c(6),o()()()),r&2){let e=t.$implicit,i=d(4);a(2),f(e.name),a(2),V("width",i.getStatusPercentage(e.value,i.totalStatusCount)+"%")("background-color",e.color),a(2),f(e.value)}}function Gn(r,t){if(r&1&&(n(0,"div",43)(1,"div",44)(2,"h3",45),c(3,"Priority Distribution"),o(),n(4,"p",46),c(5,"Work orders by priority level with trends"),o()(),n(6,"div",47)(7,"div",61)(8,"div",62),p(9,Nn,7,6,"div",63),o()()()()),r&2){let e=d(3);a(9),g("ngForOf",e.priorityChartData)}}function qn(r,t){r&1&&m(0,"div",80)}function $n(r,t){if(r&1&&(n(0,"span"),c(1),o()),r&2){let e=t.$implicit;a(),f(e.month)}}function Un(r,t){if(r&1&&(n(0,"div",69)(1,"div",44)(2,"h3",45),c(3,"Monthly Performance Trend"),o(),n(4,"p",46),c(5,"Work orders created vs completed with efficiency tracking"),o()(),n(6,"div",47)(7,"div",70)(8,"div",71)(9,"span"),c(10,"80"),o(),n(11,"span"),c(12,"60"),o(),n(13,"span"),c(14,"40"),o(),n(15,"span"),c(16,"20"),o(),n(17,"span"),c(18,"0"),o()(),n(19,"div",72)(20,"div",73),p(21,qn,1,0,"div",74),o(),n(22,"div",75),m(23,"div",76)(24,"div",77),o(),n(25,"div",78),p(26,$n,2,1,"span",79),o()()()()()),r&2){let e=d(3);a(21),g("ngForOf",De(6,An)),a(2),V("height","100%"),a(),V("height","80%"),a(2),g("ngForOf",e.monthlyTrendData)}}function Yn(r,t){if(r&1&&(n(0,"div",39)(1,"div",40),p(2,Rn,17,3,"div",41)(3,Gn,10,1,"div",41),o(),p(4,Un,27,7,"div",42),o()),r&2){let e=d(2);a(2),g("ngIf",e.hasStatusDistribution),a(),g("ngIf",e.hasPriorityDistribution),a(),g("ngIf",e.hasMonthlyTrends)}}function Zn(r,t){if(r&1&&(n(0,"div",85)(1,"div",86)(2,"h4",87),c(3),o(),n(4,"div",88),c(5),w(6,"numberFormat"),o()(),n(7,"div",89)(8,"div",90)(9,"span",91),c(10,"Completed:"),o(),n(11,"span",31),c(12),o()(),n(13,"div",90)(14,"span",91),c(15,"Avg Time:"),o(),n(16,"span",31),c(17),o()()(),n(18,"div",92),m(19,"div",93),o()()),r&2){let e=t.$implicit,i=d(3);a(3),f(e.name),a(2),f(z(6,6,e.score,2)),a(7),f(e.completed),a(5),f(i.formatDays(e.avgTime)),a(2),V("width",i.getProgressBarWidth(e.score)+"%")}}function Qn(r,t){if(r&1&&(n(0,"div",81)(1,"h3",24),c(2,"Top Technician Performance"),o(),n(3,"p",82),c(4,"Individual performance metrics for this month"),o(),n(5,"div",83),p(6,Zn,20,9,"div",84),o()()),r&2){let e=d(2);a(6),g("ngForOf",e.technicianData)}}function Jn(r,t){r&1&&(n(0,"div",94),u(),n(1,"svg",95),m(2,"path",96),o(),M(),n(3,"h3",97),c(4,"No Analytics Data Available"),o(),n(5,"p",98),c(6,"Work order analytics data will appear here once available."),o()())}function Kn(r,t){if(r&1){let e=b();n(0,"div")(1,"div",13)(2,"div",14)(3,"h2",15),c(4,"Work Order Analytics"),o(),n(5,"p",16),c(6,"Performance insights and trends"),o()(),n(7,"div",17)(8,"button",18),_("click",function(){C(e);let s=d();return O(s.refreshData())}),u(),n(9,"svg",11),m(10,"path",12),o(),c(11," Refresh "),o()()(),p(12,Bn,44,6,"div",19)(13,Yn,5,3,"div",20)(14,Qn,7,1,"div",21)(15,Jn,7,0,"div",22),o()}if(r&2){let e=d();a(12),g("ngIf",e.analyticsData),a(),g("ngIf",e.analyticsData),a(),g("ngIf",e.hasTechnicianData),a(),g("ngIf",e.analyticsData&&!e.hasStatusDistribution&&!e.hasPriorityDistribution&&!e.hasMonthlyTrends&&!e.hasTechnicianData)}}var ne=class r{constructor(t){this.workOrderService=t}destroy$=new ot;formatService=Ee(lt);loading=!1;error=null;analyticsData=null;statisticsData=null;statusChartData=[];priorityChartData=[];monthlyTrendData=[];technicianData=[];ngOnInit(){this.loadAnalytics()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalytics(){this.loading=!0,this.error=null,Promise.all([this.loadWorkOrderAnalytics(),this.loadWorkOrderStatistics()]).finally(()=>{this.loading=!1})}loadWorkOrderAnalytics(){return new Promise(t=>{this.workOrderService.getWorkOrderAnalytics().pipe(Ke(this.destroy$)).subscribe({next:e=>{this.analyticsData=e,this.prepareChartData(),t()},error:e=>{console.error("Error loading work order analytics:",e),this.error="Failed to load analytics data. Please try again.",t()}})})}loadWorkOrderStatistics(){return new Promise(t=>{this.workOrderService.getWorkOrderStatistics().pipe(Ke(this.destroy$)).subscribe({next:e=>{this.statisticsData=e,t()},error:e=>{console.error("Error loading work order statistics:",e),t()}})})}prepareChartData(){this.analyticsData&&(this.statusChartData=[{name:"Completed",value:this.analyticsData.status_distribution?.completed||0,color:"#10b981"},{name:"Open",value:this.analyticsData.status_distribution?.open||0,color:"#ef4444"},{name:"In Progress",value:this.analyticsData.status_distribution?.["in-progress"]||0,color:"#3b82f6"},{name:"On Hold",value:this.analyticsData.status_distribution?.["on-hold"]||0,color:"#f59e0b"},{name:"Cancelled",value:this.analyticsData.status_distribution?.cancelled||0,color:"#6b7280"}],this.priorityChartData=[{name:"Critical",value:this.analyticsData.priority_distribution?.critical||0,color:"#dc2626"},{name:"High",value:this.analyticsData.priority_distribution?.high||0,color:"#f59e0b"},{name:"Medium",value:this.analyticsData.priority_distribution?.medium||0,color:"#3b82f6"},{name:"Low",value:this.analyticsData.priority_distribution?.low||0,color:"#10b981"},{name:"PPM",value:this.analyticsData.priority_distribution?.ppm||0,color:"#8b5cf6"}],this.analyticsData.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0?this.monthlyTrendData=this.analyticsData.monthly_performance_trend.map(t=>({month:`${t.year}-${t.month.toString().padStart(2,"0")}`,created:t.created_count||0,completed:t.completed_count||0})):this.monthlyTrendData=[],this.analyticsData.top_technician_performance&&this.analyticsData.top_technician_performance.length>0?this.technicianData=this.analyticsData.top_technician_performance.map(t=>({name:t.assigned_to?`${t.assigned_to.first_name} ${t.assigned_to.last_name}`:"Unknown",score:t.completed_count||0,completed:t.completed_count||0,avgTime:t.avg_resolution_days||0})):this.technicianData=[])}refreshData(){this.loadAnalytics()}formatDays(t){if(!t||t===0)return"0 days";if(t<0){let e=Math.abs(t);return e===1?"1 day ahead":`${this.formatService.formatNumber(e,1)} days ahead`}return t===1?"1 day":`${this.formatService.formatNumber(t,1)} days`}formatPercentage(t){return!t||isNaN(t)?"0.0%":`${this.formatService.formatNumber(t,1)}%`}getStatusPercentage(t,e){return!e||e<=0?0:t/e*100}get hasStatusDistribution(){return!!this.analyticsData?.status_distribution}get hasPriorityDistribution(){return!!this.analyticsData?.priority_distribution}get hasMonthlyTrends(){return!!(this.analyticsData?.monthly_performance_trend&&this.analyticsData.monthly_performance_trend.length>0)}get hasTechnicianData(){return!!(this.analyticsData?.top_technician_performance&&this.analyticsData.top_technician_performance.length>0)}get totalStatusCount(){return this.analyticsData?.status_distribution?Object.values(this.analyticsData.status_distribution).reduce((t,e)=>t+e,0):0}getProgressBarWidth(t){if(!this.technicianData||this.technicianData.length===0)return 0;let e=Math.max(...this.technicianData.map(i=>i.completed));return e===0?0:t/e*100}static \u0275fac=function(e){return new(e||r)(v(T))};static \u0275cmp=S({type:r,selectors:[["app-work-order-analytics"]],decls:4,vars:3,consts:[[1,"work-order-analytics"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"error-title"],[1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"analytics-header"],[1,"header-left"],[1,"main-title"],[1,"subtitle"],[1,"header-right"],["title","Refresh Data",1,"refresh-btn",3,"click"],["class","metrics-section",4,"ngIf"],["class","charts-section",4,"ngIf"],["class","technician-section",4,"ngIf"],["class","no-data-message",4,"ngIf"],[1,"metrics-section"],[1,"section-title"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-header"],[1,"metric-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"metric-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-value"],[1,"metric-trend","positive"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"metric-target"],[1,"metric-value","warning"],[1,"metric-trend"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"metric-status"],[1,"charts-section"],[1,"chart-row"],["class","chart-card",4,"ngIf"],["class","chart-card full-width",4,"ngIf"],[1,"chart-card"],[1,"chart-header"],[1,"chart-title"],[1,"chart-subtitle"],[1,"chart-container"],[1,"pie-chart"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"chart-placeholder"],[1,"chart-circle"],[1,"chart-center"],[1,"total-count"],[1,"total-label"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"legend-percentage"],[1,"bar-chart"],[1,"chart-bars"],["class","bar-item",4,"ngFor","ngForOf"],[1,"bar-item"],[1,"bar-label"],[1,"bar-container"],[1,"bar"],[1,"bar-value"],[1,"chart-card","full-width"],[1,"trend-chart"],[1,"chart-y-axis"],[1,"chart-area"],[1,"grid-lines"],["class","grid-line",4,"ngFor","ngForOf"],[1,"trend-lines"],["title","Work orders created",1,"trend-line","created"],["title","Work orders completed",1,"trend-line","completed"],[1,"chart-x-axis"],[4,"ngFor","ngForOf"],[1,"grid-line"],[1,"technician-section"],[1,"section-subtitle"],[1,"technician-grid"],["class","technician-card",4,"ngFor","ngForOf"],[1,"technician-card"],[1,"tech-header"],[1,"tech-name"],[1,"tech-score"],[1,"tech-metrics"],[1,"tech-metric"],[1,"metric-label"],[1,"performance-bar"],[1,"bar-fill"],[1,"no-data-message"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"no-data-title"],[1,"no-data-description"]],template:function(e,i){e&1&&(n(0,"div",0),p(1,zn,4,0,"div",1)(2,jn,9,1,"div",2)(3,Kn,16,4,"div",3),o()),e&2&&(a(),g("ngIf",i.loading),a(),g("ngIf",i.error&&!i.loading),a(),g("ngIf",!i.loading&&!i.error))},dependencies:[ze,I,E,Ct],styles:['.work-order-analytics[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f8fafc;min-height:100vh}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:3px solid #e2e8f0;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.error-state[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:#dc2626;font-size:1.25rem;font-weight:600;margin:1rem 0}.error-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:.5rem;font-weight:500;transition:all .2s}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none}.error-state[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.no-data-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.no-data-message[_ngcontent-%COMP%]   .no-data-title[_ngcontent-%COMP%]{color:#374151;font-size:1.5rem;font-weight:600;margin:1rem 0 .5rem}.no-data-message[_ngcontent-%COMP%]   .no-data-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.analytics-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.analytics-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem;margin:0}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:none;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .2s}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;transform:translateY(-1px)}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 1rem}.section-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0 0 1.5rem}.metrics-section[_ngcontent-%COMP%]{margin-bottom:2rem}.metrics-section[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;margin:0}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;color:#6b7280}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-trend.positive[_ngcontent-%COMP%]{color:#10b981}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-target[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.metrics-section[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-status[_ngcontent-%COMP%]{font-size:.875rem;color:#10b981;font-weight:500}.charts-section[_ngcontent-%COMP%]{margin-bottom:2rem}.charts-section[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem;margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.charts-section[_ngcontent-%COMP%]   .chart-card.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0}.charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{min-height:300px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{flex:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;min-width:80px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-percentage[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background:conic-gradient(#10b981 0deg 174deg,#ef4444 174deg 234deg,#3b82f6 234deg 264deg,#f59e0b 264deg 285deg,#6b7280 285deg 360deg);display:flex;align-items:center;justify-content:center;position:relative}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:120px;height:120px;background:#fff;border-radius:50%}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]{text-align:center;z-index:1}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#1e293b}.charts-section[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{min-width:60px;font-weight:500;color:#374151;font-size:.875rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:2rem;border-radius:.25rem;min-width:20px;transition:width .3s ease}.charts-section[_ngcontent-%COMP%]   .bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;min-width:30px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{display:flex;height:300px}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-right:1rem;font-size:.75rem;color:#6b7280;font-weight:500}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]{flex:1;position:relative}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]{position:absolute;left:0;right:0;height:1px;background-color:#f3f4f6}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(1){top:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(2){top:25%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(3){top:50%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(4){top:75%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:nth-child(5){top:100%}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]{position:absolute;inset:0}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line[_ngcontent-%COMP%]{position:absolute;width:100%;background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.1) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.created[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .trend-lines[_ngcontent-%COMP%]   .trend-line.completed[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent 0%,rgba(16,185,129,.2) 100%)}.charts-section[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .chart-x-axis[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:0 1rem;font-size:.75rem;color:#6b7280;font-weight:500}.technician-section[_ngcontent-%COMP%]{margin-bottom:2rem}.technician-section[_ngcontent-%COMP%]   .technician-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-header[_ngcontent-%COMP%]   .tech-score[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3b82f6}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]{margin-bottom:1rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .tech-metrics[_ngcontent-%COMP%]   .tech-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]{height:.5rem;background-color:#f3f4f6;border-radius:.25rem;overflow:hidden}.technician-section[_ngcontent-%COMP%]   .technician-card[_ngcontent-%COMP%]   .performance-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#3b82f6;border-radius:.25rem;transition:width .3s ease}.insights-section[_ngcontent-%COMP%]{margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid}.insights-section[_ngcontent-%COMP%]   .insight-card.success[_ngcontent-%COMP%]{border-left-color:#10b981}.insights-section[_ngcontent-%COMP%]   .insight-card.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insight-card.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insight-card.optimization[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:1.5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   .insight-tag[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.insights-section[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .insight-description[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;line-height:1.5}@media (max-width: 768px){.work-order-analytics[_ngcontent-%COMP%]{padding:1rem}.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.analytics-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.metrics-grid[_ngcontent-%COMP%], .chart-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.pie-chart[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]{width:150px;height:150px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]:before{width:90px;height:90px}.pie-chart[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-circle[_ngcontent-%COMP%]   .chart-center[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:1.5rem}.technician-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};function eo(r,t){r&1&&(n(0,"div",15),u(),n(1,"svg",10),m(2,"path",16),o(),M(),n(3,"span"),c(4,"Work order created successfully!"),o()())}function to(r,t){if(r&1&&(n(0,"div",17),u(),n(1,"svg",10),m(2,"path",18),o(),M(),n(3,"span"),c(4),o()()),r&2){let e=d();a(4),f(e.errorMessage)}}function no(r,t){if(r&1&&(n(0,"div",58),c(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("title")," ")}}function oo(r,t){if(r&1&&(n(0,"option",59),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),h(" ",e.name||e.asset_name||"Asset "+e.id," ")}}function ro(r,t){if(r&1&&(n(0,"div",58),c(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("asset_id")," ")}}function io(r,t){if(r&1&&(n(0,"option",59),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),h(" ",e.name||"Location "+e.id," ")}}function ao(r,t){if(r&1&&(n(0,"div",58),c(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("location_id")," ")}}function co(r,t){if(r&1&&(n(0,"option",59),c(1),o()),r&2){let e=t.$implicit;g("value",e.id),a(),k(" ",e.first_name," ",e.last_name," ")}}function so(r,t){if(r&1&&(n(0,"div",58),c(1),o()),r&2){let e=d(2);a(),h(" ",e.getFieldError("assigned_to")," ")}}function lo(r,t){r&1&&(u(),n(0,"svg",57),m(1,"circle",60)(2,"path",61),o())}function go(r,t){if(r&1){let e=b();n(0,"div",19),_("click",function(s){C(e);let l=d();return O(l.closeCreateModal(s))}),n(1,"div",20),_("click",function(s){return C(e),O(s.stopPropagation())}),n(2,"div",21),u(),n(3,"svg",22),m(4,"path",23)(5,"path",24),o(),M(),n(6,"h2"),c(7,"Create New Work Order"),o()(),n(8,"div",25)(9,"form",26),_("ngSubmit",function(){C(e);let s=d();return O(s.onSubmit())}),n(10,"div",27)(11,"div",28),u(),n(12,"svg",29),m(13,"path",30),o(),M(),n(14,"h3"),c(15,"Basic Information"),o()(),n(16,"div",31)(17,"div",32)(18,"label"),c(19,"Title "),n(20,"span",33),c(21,"*"),o()(),m(22,"input",34),p(23,no,2,1,"div",35),o()(),n(24,"div",36)(25,"div",32)(26,"app-global-dropdown",37),_("selectionChange",function(s){C(e);let l=d();return O(l.selectStatus(s))}),o()(),n(27,"div",32)(28,"app-global-dropdown",37),_("selectionChange",function(s){C(e);let l=d();return O(l.selectPriority(s))}),o()()(),n(29,"div",38)(30,"div",39)(31,"app-global-dropdown",37),_("selectionChange",function(s){C(e);let l=d();return O(l.selectCategory(s))}),o()(),n(32,"div",39)(33,"app-global-dropdown",37),_("selectionChange",function(s){C(e);let l=d();return O(l.selectType(s))}),o()()(),n(34,"div",40)(35,"div",32)(36,"label"),c(37,"Due Date"),o(),m(38,"input",41),o()(),n(39,"div",31)(40,"div",32)(41,"label"),c(42,"Description"),o(),m(43,"textarea",42),o()(),n(44,"div",43)(45,"div",32)(46,"label"),c(47,"Estimated Hours"),o(),m(48,"input",44),o(),n(49,"div",32)(50,"label"),c(51,"Notes"),o(),m(52,"textarea",45),o()()(),n(53,"div",27)(54,"div",28),u(),n(55,"svg",29),m(56,"path",46)(57,"path",47),o(),M(),n(58,"h3"),c(59,"Assignment & Location"),o()(),n(60,"div",43)(61,"div",32)(62,"label"),c(63,"Asset (Optional)"),o(),n(64,"select",48),_("change",function(s){C(e);let l=d();return O(l.onAssetChange(s))}),n(65,"option",49),c(66),o(),p(67,oo,2,2,"option",50),o(),p(68,ro,2,1,"div",35),n(69,"div",51)(70,"small"),c(71,"Select an existing asset from your assets list"),o()()(),n(72,"div",32)(73,"label"),c(74,"Location (Optional)"),o(),n(75,"select",52)(76,"option",49),c(77),o(),p(78,io,2,2,"option",50),o(),p(79,ao,2,1,"div",35),n(80,"div",51)(81,"small"),c(82,"Select an existing location from your locations list"),o()()()(),n(83,"div",43)(84,"div",32)(85,"label"),c(86,"Assign To Team Member (Optional)"),o(),n(87,"select",53)(88,"option",49),c(89),o(),p(90,co,2,3,"option",50),o(),p(91,so,2,1,"div",35),n(92,"div",51)(93,"small"),c(94,"Select an existing team member to assign the work order to"),o()()()()()()(),n(95,"div",54)(96,"button",55),_("click",function(){C(e);let s=d();return O(s.closeCreateModal())}),c(97,"Cancel"),o(),n(98,"button",56),_("click",function(){C(e);let s=d();return O(s.onSubmit())}),p(99,lo,3,0,":svg:svg",57),c(100),o()()()()}if(r&2){let e=d();a(9),g("formGroup",e.workOrderForm),a(8),P("error",e.hasFieldError("title")),a(5),P("error-input",e.hasFieldError("title")),a(),g("ngIf",e.hasFieldError("title")),a(2),P("error",e.hasFieldError("status_id")),a(),g("options",e.statusDropdownOptions)("selectedOption",e.selectedStatusOption)("label","Status")("required",!0)("placeholder","Select status")("error",e.hasFieldError("status_id"))("errorMessage",e.getFieldError("status_id")),a(),P("error",e.hasFieldError("priority_id")),a(),g("options",e.priorityDropdownOptions)("selectedOption",e.selectedPriorityOption)("label","Priority")("required",!0)("placeholder","Select priority")("error",e.hasFieldError("priority_id"))("errorMessage",e.getFieldError("priority_id")),a(2),P("error",e.hasFieldError("category_id")),a(),g("options",e.categoryDropdownOptions)("selectedOption",e.selectedCategoryOption)("label","Category (Optional)")("required",!1)("placeholder","Select category (optional)")("error",e.hasFieldError("category_id"))("errorMessage",e.getFieldError("category_id")),a(),P("error",e.hasFieldError("type")),a(),g("options",e.typeDropdownOptions)("selectedOption",e.selectedTypeOption)("label","Work Order Type")("required",!0)("placeholder","Select work order type")("error",e.hasFieldError("type"))("errorMessage",e.getFieldError("type")),a(28),P("error",e.hasFieldError("asset_id")),a(3),P("error-input",e.hasFieldError("asset_id")),g("disabled",e.assets.length===0),a(2),f(e.assets.length===0?"Loading assets...":"Select an asset"),a(),g("ngForOf",e.assets),a(),g("ngIf",e.hasFieldError("asset_id")),a(4),P("error",e.hasFieldError("location_id")),a(3),P("error-input",e.hasFieldError("location_id")),g("disabled",e.locations.length===0),a(2),f(e.locations.length===0?"Loading locations...":"Select a location"),a(),g("ngForOf",e.locations),a(),g("ngIf",e.hasFieldError("location_id")),a(5),P("error",e.hasFieldError("assigned_to")),a(3),P("error-input",e.hasFieldError("assigned_to")),g("disabled",e.teamMembers.length===0),a(2),f(e.teamMembers.length===0?"Loading team members...":"Select a team member"),a(),g("ngForOf",e.teamMembers),a(),g("ngIf",e.hasFieldError("assigned_to")),a(5),g("disabled",e.isLoading),a(2),g("disabled",e.isLoading),a(),j(e.isLoading?99:-1),a(),h(" ",e.isLoading?"Creating...":"Create Work Order"," ")}}var Ue=class r{constructor(t,e,i,s,l,y,H){this.fb=t;this.workOrderService=e;this.assetService=i;this.locationService=s;this.teamService=l;this.metaWorkOrdersService=y;this.toastService=H;this.workOrderForm=this.fb.group({title:["",F.required],status_id:[null,F.required],priority_id:[null,F.required],category_id:[null],type:["ppm",F.required],due_date:[""],description:[""],asset_id:[""],location_id:[""],assigned_to:[""],team_id:[""],estimated_hours:[""],notes:[""]})}workOrderList;workOrderStats;workOrderAnalytics;activeTab="work-orders";showCreateModal=!1;workOrderForm;isLoading=!1;showSuccessMessage=!1;showErrorMessage=!1;errorMessage="";fieldErrors={};currentFilters={};assets=[];locations=[];teamMembers=[];statusOptions=[];priorityOptions=[];categoryOptions=[];statusDropdownOptions=[];priorityDropdownOptions=[];categoryDropdownOptions=[];typeDropdownOptions=[{id:"ppm",name:"PPM (Planned Preventive Maintenance)",description:"Planned Preventive Maintenance - scheduled maintenance to prevent issues"},{id:"corrective",name:"Corrective",description:"Corrective - fixing issues that have been identified"},{id:"predictive",name:"Predictive",description:"Predictive - maintenance based on data and predictions"},{id:"reactive",name:"Reactive",description:"Reactive - responding to unexpected failures or issues"}];selectedStatusOption=null;selectedPriorityOption=null;selectedCategoryOption=null;selectedTypeOption=null;subscription=new A;ngOnInit(){console.log("WorkOrdersComponent: ngOnInit called"),console.log("WorkOrdersComponent: Initial activeTab:",this.activeTab),this.loadSelectData(),this.loadMetadataOptions()}ngAfterViewInit(){console.log("WorkOrdersComponent: ngAfterViewInit called"),console.log("WorkOrdersComponent: workOrderList component:",this.workOrderList),console.log("WorkOrdersComponent: workOrderStats component:",this.workOrderStats),console.log("WorkOrdersComponent: workOrderAnalytics component:",this.workOrderAnalytics)}ngOnDestroy(){this.subscription.unsubscribe()}loadMetadataOptions(){this.metaWorkOrdersService.clearAllCache(),this.subscription.add(this.metaWorkOrdersService.getStatus().subscribe({next:e=>{if(this.statusOptions=e,this.statusDropdownOptions=e.map(i=>this.convertStatusToDropdownOption(i)),e.length>0){let i=e.find(s=>s.slug==="open")||e[0];this.selectedStatusOption=this.convertStatusToDropdownOption(i),this.workOrderForm.patchValue({status_id:i.id})}},error:e=>{console.error("Error loading statuses:",e),this.toastService.error("Failed to load status options"),this.statusOptions=[],this.statusDropdownOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getPriorities().subscribe({next:e=>{if(this.priorityOptions=e,this.priorityDropdownOptions=e.map(i=>this.convertPriorityToDropdownOption(i)),e.length>0){let i=e.find(s=>s.slug==="medium")||e[0];this.selectedPriorityOption=this.convertPriorityToDropdownOption(i),this.workOrderForm.patchValue({priority_id:i.id})}},error:e=>{console.error("Error loading priorities:",e),this.toastService.error("Failed to load priority options"),this.priorityOptions=[],this.priorityDropdownOptions=[]}})),this.subscription.add(this.metaWorkOrdersService.getCategories().subscribe({next:e=>{this.categoryOptions=e,this.categoryDropdownOptions=[{id:null,name:"No Category",description:"Work order without specific category"},...e.map(i=>this.convertCategoryToDropdownOption(i))]},error:e=>{console.error("Error loading categories:",e),this.toastService.error("Failed to load category options"),this.categoryOptions=[],this.categoryDropdownOptions=[{id:null,name:"No Category",description:"Work order without specific category"}]}}));let t=this.typeDropdownOptions.find(e=>e.id==="ppm");t&&(this.selectedTypeOption=t,this.workOrderForm.patchValue({type:"ppm"}))}loadSelectData(){this.subscription.add(this.assetService.getAssets({per_page:1e3}).subscribe({next:t=>{t.success&&t.data?this.assets=t.data.assets||t.data||[]:(this.assets=[],console.warn("Assets response format unexpected:",t))},error:t=>{console.error("Error loading assets:",t),this.assets=[]}})),this.subscription.add(this.locationService.getLocations({per_page:1e3}).subscribe({next:t=>{t.success&&t.data?this.locations=t.data.locations||t.data||[]:(this.locations=[],console.warn("Locations response format unexpected:",t))},error:t=>{console.error("Error loading locations:",t),this.locations=[]}})),this.subscription.add(this.teamService.getTeamMembersFlat(1e3).subscribe({next:t=>{this.teamMembers=t||[]},error:t=>{console.error("Error loading team members:",t),this.teamMembers=[]}}))}convertStatusToDropdownOption(t){return{id:t.id,name:t.name,description:this.getStatusDescription(t)}}convertPriorityToDropdownOption(t){return{id:t.id,name:t.name,description:this.getPriorityDescription(t)}}convertCategoryToDropdownOption(t){return{id:t.id,name:t.name,description:this.getCategoryDescription(t)}}selectStatus(t){this.selectedStatusOption=t,this.workOrderForm.patchValue({status_id:t?.id||null})}selectPriority(t){this.selectedPriorityOption=t,this.workOrderForm.patchValue({priority_id:t?.id||null})}selectCategory(t){this.selectedCategoryOption=t,this.workOrderForm.patchValue({category_id:t?.id||null})}selectType(t){this.selectedTypeOption=t,this.workOrderForm.patchValue({type:t?.id||""})}getTypeColor(t){if(!t)return"#6B7280";switch(t){case"ppm":return"#3B82F6";case"corrective":return"#F59E0B";case"predictive":return"#10B981";case"reactive":return"#EF4444";default:return"#6B7280"}}getTypeDescription(t){if(!t)return"Select a work order type";switch(t){case"ppm":return"Planned Preventive Maintenance - scheduled maintenance to prevent issues";case"corrective":return"Corrective - fixing issues that have been identified";case"predictive":return"Predictive - maintenance based on data and predictions";case"reactive":return"Reactive - responding to unexpected failures or issues";default:return"Work order type"}}getStatusColor(t){if(!t)return"#6B7280";switch(t){case"open":return"#10B981";case"in-progress":return"#F59E0B";case"completed":return"#3B82F6";case"cancelled":return"#EF4444";case"on-hold":return"#8B5CF6";default:return"#6B7280"}}getPriorityColor(t){if(!t)return"#6B7280";switch(t.slug){case"low":return"#10B981";case"medium":return"#F59E0B";case"high":return"#F97316";case"critical":return"#EF4444";case"ppm":return"#8B5CF6";default:return"#6B7280"}}getStatusDescription(t){if(!t)return"Select a status for this work order";switch(t.slug){case"open":return"Work order is open and ready to be assigned";case"in-progress":return"Work order is currently being worked on";case"completed":return"Work order has been completed successfully";case"cancelled":return"Work order has been cancelled";case"on-hold":return"Work order is temporarily on hold";default:return t.name}}getPriorityDescription(t){if(!t)return"Select a priority level for this work order";switch(t.slug){case"low":return"Low priority - can be addressed when convenient";case"medium":return"Medium priority - should be addressed soon";case"high":return"High priority - needs immediate attention";case"critical":return"Critical priority - urgent, requires immediate action";case"ppm":return"Preventive maintenance - scheduled maintenance task";default:return t.name}}getCategoryDescription(t){switch(t.slug){case"preventive-maintenance":return"Regular scheduled maintenance to prevent breakdowns";case"corrective-maintenance":return"Repair work to fix existing problems";case"emergency-maintenance":return"Urgent repairs requiring immediate attention";case"inspection":return"Regular inspections and assessments";case"calibration":return"Equipment calibration and adjustment";case"cleaning":return"Cleaning and general upkeep";case"lubrication":return"Lubrication and oil changes";case"filter-replacement":return"Filter and consumable replacement";case"belt-replacement":return"Belt and drive component replacement";case"electrical":return"Electrical system maintenance";case"mechanical":return"Mechanical system maintenance";case"plumbing":return"Plumbing system maintenance";case"hvac":return"HVAC system maintenance";default:return"Maintenance category"}}setActiveTab(t){console.log("WorkOrdersComponent: setActiveTab called with:",t),this.activeTab=t,console.log("WorkOrdersComponent: activeTab is now:",this.activeTab),t==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()}openCreateModal(){this.showCreateModal=!0,this.resetMessages(),this.loadSelectData(),this.loadMetadataOptions()}closeCreateModal(t){t&&t.target.classList.contains("modal-overlay")?this.showCreateModal=!1:t||(this.showCreateModal=!1),this.resetMessages()}resetMessages(){this.showSuccessMessage=!1,this.showErrorMessage=!1,this.errorMessage="",this.fieldErrors={}}showSuccess(){this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)}showError(t,e){this.errorMessage=t,this.showErrorMessage=!0,e&&(this.fieldErrors=e),setTimeout(()=>{this.showErrorMessage=!1,this.fieldErrors={}},8e3)}getFieldError(t){return this.fieldErrors[t]?this.fieldErrors[t].join(", "):""}hasFieldError(t){return!!this.fieldErrors[t]&&this.fieldErrors[t].length>0}onFiltersChanged(t){this.currentFilters=t,console.log("Filters received in main component:",t),this.workOrderList}onSubmit(){if(this.workOrderForm.valid){this.isLoading=!0,this.resetMessages();let t={title:this.workOrderForm.value.title,description:this.workOrderForm.value.description||void 0,status_id:this.workOrderForm.value.status_id,priority_id:this.workOrderForm.value.priority_id,category_id:this.workOrderForm.value.category_id||void 0,type:this.workOrderForm.value.type,due_date:this.workOrderForm.value.due_date||void 0,asset_id:this.workOrderForm.value.asset_id||void 0,location_id:this.workOrderForm.value.location_id||void 0,assigned_to:this.workOrderForm.value.assigned_to||void 0,team_id:this.workOrderForm.value.team_id||void 0,estimated_hours:this.workOrderForm.value.estimated_hours||void 0,notes:this.workOrderForm.value.notes||void 0};this.subscription.add(this.workOrderService.createWorkOrder(t).subscribe({next:e=>{this.toastService.success("Work order created successfully"),this.closeCreateModal(),this.workOrderForm.reset({status_id:this.selectedStatusOption?.id||null,priority_id:this.selectedPriorityOption?.id||null,category_id:null,type:this.selectedTypeOption?.id||"ppm"}),this.selectedCategoryOption=null,this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.activeTab==="analytics"&&this.workOrderAnalytics&&this.workOrderAnalytics.refreshData()},error:e=>{if(this.isLoading=!1,e.error?.errors){let i=e.error.errors,s=e.error?.message||"Please fix the validation errors below.";this.showError(s,i),this.toastService.error(s)}else if(e.error?.message)this.showError(e.error.message),this.toastService.error(e.error.message);else{let i="Failed to create work order. Please try again.";this.showError(i),this.toastService.error(i)}},complete:()=>{this.isLoading=!1}}))}}refreshAllData(){this.workOrderList&&this.workOrderList.refreshWorkOrders(),this.workOrderStats&&this.workOrderStats.loadStats(),this.workOrderAnalytics&&this.workOrderAnalytics.refreshData(),this.loadSelectData(),this.loadMetadataOptions()}onAssetChange(t){let e=t.target.value,i=this.assets.find(s=>s.id===+e);this.workOrderForm.patchValue({location_id:i?.location?.id||""})}static \u0275fac=function(e){return new(e||r)(v(ee),v(T),v(ue),v(Me),v(he),v(te),v(Z))};static \u0275cmp=S({type:r,selectors:[["app-work-orders"]],viewQuery:function(e,i){if(e&1&&(Ie(ve,5),Ie(we,5),Ie(ne,5)),e&2){let s;Fe(s=Ve())&&(i.workOrderList=s.first),Fe(s=Ve())&&(i.workOrderStats=s.first),Fe(s=Ve())&&(i.workOrderAnalytics=s.first)}},standalone:!1,decls:25,vars:11,consts:[[1,"work-orders-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"header"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[1,"work-orders-content"],[1,"create-button-container"],[1,"create-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[3,"createWorkOrderRequested"],[1,"analytics-content"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"success-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"error-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"header-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"section-icon","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"form-row","full-width"],[1,"form-group"],[1,"required"],["type","text","formControlName","title","placeholder","Enter work order title"],["class","field-error",4,"ngIf"],[1,"form-row","two-columns"],[3,"selectionChange","options","selectedOption","label","required","placeholder","error","errorMessage"],[1,""],[1,"form-group","mb-2"],[1,"form-row","w-full","d-block",2,"grid-template-columns","1fr!important"],["type","datetime-local","formControlName","due_date"],["formControlName","description","placeholder","Enter work order description"],[1,"form-row"],["type","number","formControlName","estimated_hours","placeholder","0","min","0","step","0.5"],["formControlName","notes","placeholder","Additional notes"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["formControlName","asset_id",3,"change","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"field-help"],["formControlName","location_id",3,"disabled"],["formControlName","assigned_to",3,"disabled"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary","w-[170px]",3,"click","disabled"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white","inline"],[1,"field-error"],[3,"value"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&(n(0,"div",0),p(1,eo,5,0,"div",1)(2,to,5,1,"div",2),n(3,"div",3)(4,"h1"),c(5,"Work Order Management"),o(),n(6,"p"),c(7,"Streamline maintenance workflows with intelligent work order tracking and scheduling."),o()(),n(8,"div",4)(9,"div",5),_("click",function(){return i.setActiveTab("work-orders")}),c(10," Work Orders "),o(),n(11,"div",5),_("click",function(){return i.setActiveTab("analytics")}),c(12," Analytics "),o()(),n(13,"div",6)(14,"div",7),m(15,"app-work-order-stats"),n(16,"div",8)(17,"button",9),_("click",function(){return i.openCreateModal()}),u(),n(18,"svg",10),m(19,"path",11),o(),c(20," Create Work Order "),o()(),M(),n(21,"app-work-order-list",12),_("createWorkOrderRequested",function(){return i.openCreateModal()}),o()(),n(22,"div",13),m(23,"app-work-order-analytics"),o()()(),p(24,go,101,70,"div",14)),e&2&&(a(),g("ngIf",i.showSuccessMessage),a(),g("ngIf",i.showErrorMessage),a(7),P("active",i.activeTab==="work-orders"),a(2),P("active",i.activeTab==="analytics"),a(3),P("active",i.activeTab==="work-orders"),a(8),P("active",i.activeTab==="analytics"),a(2),g("ngIf",i.showCreateModal))},dependencies:[I,E,_e,pe,Ce,R,J,He,N,Q,Oe,K,X,ne,fe,ve,we],styles:[`@charset "UTF-8";.work-orders-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f8fafc;min-height:100vh}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin-bottom:.5rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;font-weight:400}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);text-align:center;gap:1rem;margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:12px;padding:.5rem 0;font-weight:500;color:#64748b;cursor:pointer;transition:all .2s ease}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f3f4f6}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;font-weight:600;border-bottom-color:#2563eb}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:hover{color:#fff}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#1e40af}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;border:2px dashed #e2e8f0;box-shadow:0 1px 3px #0000001a}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#374151;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]{display:none}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content.active[_ngcontent-%COMP%]{display:block}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:2rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;display:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:1.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.three-columns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;font-weight:500;color:#374151}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;transition:all .2s ease;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]{border-color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error-input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error-input[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;appearance:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6;background-color:#f9fafb}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem;color:#374151;background:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;opacity:.6;transition:opacity .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]:hover::-webkit-calendar-picker-indicator{opacity:1}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#dc2626}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;font-weight:500;display:flex;align-items:center;gap:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]{margin-top:.25rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-style:italic}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}@media (max-width: 768px){.work-orders-container[_ngcontent-%COMP%]{padding:1rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.work-orders-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{gap:1rem}.work-orders-container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-placeholder[_ngcontent-%COMP%]{padding:2rem 1rem}.work-orders-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .work-orders-content[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.status-dropdown[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]{position:relative}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;text-align:left;border:1px solid #d1d5db;border-radius:.5rem;background-color:#fff;transition:all .2s ease;cursor:pointer}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.error[_ngcontent-%COMP%]{border-color:#fca5a5}.status-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6}.status-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.status-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#9ca3af}.status-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border-radius:.25rem;display:flex;align-items:center;justify-content:center}.status-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .status-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .priority-icon.no-category[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .category-icon.no-category[_ngcontent-%COMP%]{background-color:#f3f4f6}.status-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1rem;height:1rem}.status-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .selected-text[_ngcontent-%COMP%]{color:#111827}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;color:#9ca3af;transition:transform .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.status-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1050;width:100%;margin-top:.25rem;background-color:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;max-height:15rem;overflow:auto}.status-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background-color:#f9fafb}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem;text-align:left;border:none;background:none;cursor:pointer;transition:background-color .2s ease}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .status-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .category-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#eff6ff;outline:none}.status-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.status-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.status-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;background-color:#eff6ff}.status-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{flex:1}.status-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.status-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .priority-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .category-dropdown[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-top:.125rem}`]})};function mo(r,t){if(r&1){let e=b();n(0,"button",22),_("click",function(){C(e);let s=d().$implicit,l=d(3);return O(l.addToCart(s))}),c(1," Add "),o()}}function _o(r,t){r&1&&(n(0,"button",23),u(),n(1,"svg",24),m(2,"path",25),o(),c(3," Added "),o())}function po(r,t){if(r&1&&(n(0,"div",15)(1,"div",16)(2,"div",17),c(3),o(),n(4,"div",18),c(5),o()(),n(6,"div",19),p(7,mo,2,0,"button",20)(8,_o,4,0,"button",21),o()()),r&2){let e=t.$implicit,i=d(3);a(3),f(e.name),a(2),k("UoM: ",e.uom||"-"," \u2022 On hand: ",e.on_hand||"-",""),a(2),g("ngIf",!i.isPartInCart(e.id)),a(),g("ngIf",i.isPartInCart(e.id))}}function Co(r,t){if(r&1&&(n(0,"div",13),p(1,po,9,5,"div",14),o()),r&2){let e=d(2);a(),g("ngForOf",e.results)}}function Oo(r,t){if(r&1){let e=b();n(0,"div",28)(1,"div",16),c(2),o(),n(3,"div",19)(4,"input",29),ae("ngModelChange",function(s){let l=C(e).$implicit;return ie(l.qty,s)||(l.qty=s),O(s)}),o(),n(5,"input",30),ae("ngModelChange",function(s){let l=C(e).$implicit;return ie(l.unit_cost,s)||(l.unit_cost=s),O(s)}),o(),n(6,"button",31),_("click",function(){let s=C(e).$implicit,l=d(3);return O(l.removeFromCart(s.part.id))}),c(7,"\u{1F5D1}"),o()()()}if(r&2){let e=t.$implicit;a(2),f(e.part.name),a(2),re("ngModel",e.qty),a(),re("ngModel",e.unit_cost)}}function uo(r,t){if(r&1&&(n(0,"div",26),p(1,Oo,8,3,"div",27),o()),r&2){let e=d(2);a(),g("ngForOf",e.cart)}}function Mo(r,t){if(r&1){let e=b();n(0,"div",1),_("click",function(){C(e);let s=d();return O(s.close())}),n(1,"div",2),_("click",function(s){return C(e),O(s.stopPropagation())}),n(2,"div",3)(3,"h3"),c(4,"Add Parts"),o(),n(5,"button",4),_("click",function(){C(e);let s=d();return O(s.close())}),c(6,"\xD7"),o()(),n(7,"div",5)(8,"div",6)(9,"input",7),ae("ngModelChange",function(s){C(e);let l=d();return ie(l.query,s)||(l.query=s),O(s)}),o(),n(10,"button",8),_("click",function(){C(e);let s=d();return O(s.search())}),c(11,"Search"),o()(),p(12,Co,2,1,"div",9)(13,uo,2,1,"div",10),o(),n(14,"div",11)(15,"button",12),_("click",function(){C(e);let s=d();return O(s.close())}),c(16,"Cancel"),o(),n(17,"button",8),_("click",function(){C(e);let s=d();return O(s.save())}),c(18,"Add to Work Order"),o()()()()}if(r&2){let e=d();a(9),re("ngModel",e.query),a(),g("disabled",e.loading),a(2),g("ngIf",e.results.length),a(),g("ngIf",e.cart.length),a(4),g("disabled",e.cart.length===0)}}var Ye=class r{constructor(t,e,i){this.woService=t;this.inv=e;this.toastService=i}workOrderId;isOpen=!1;closed=new W;saved=new W;query="";results=[];cart=[];loading=!1;search(){this.loading=!0,this.inv.getPartsCatalog(this.query||void 0,void 0,1,10).subscribe({next:t=>{this.results=t?.data?.data||[],this.loading=!1},error:()=>{this.loading=!1,this.toastService.error("Failed to search parts")}})}addToCart(t){let e=this.cart.find(i=>i.part.id===t.id);if(e){e.qty+=1;return}this.cart.push({part:t,qty:1,unit_cost:t.unit_cost||void 0})}removeFromCart(t){this.cart=this.cart.filter(e=>e.part.id!==t)}isPartInCart(t){return this.cart.some(e=>e.part.id===t)}save(){return xe(this,null,function*(){if(!this.workOrderId||this.cart.length===0){this.closed.emit();return}let t=this.cart.map(e=>({part_id:e.part.id,qty:e.qty,unit_cost:e.unit_cost}));this.woService.addParts(this.workOrderId,t).subscribe({next:e=>{this.toastService.success("Parts added to work order successfully"),this.saved.emit(e),this.closed.emit()},error:()=>{this.toastService.error("Failed to add parts to work order")}})})}close(){this.closed.emit()}ngOnChanges(t){t.isOpen&&this.isOpen&&this.results.length===0&&!this.loading&&this.search()}static \u0275fac=function(e){return new(e||r)(v(T),v(Ot),v(Z))};static \u0275cmp=S({type:r,selectors:[["app-add-work-order-parts-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed",saved:"saved"},standalone:!1,features:[se],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],[1,"search-row"],["placeholder","Search parts by name or code",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],["class","results",4,"ngIf"],["class","cart",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"results"],["class","result-row",4,"ngFor","ngForOf"],[1,"result-row"],[1,"left"],[1,"name"],[1,"sub"],[1,"right"],["class","btn",3,"click",4,"ngIf"],["class","btn","disabled","","style","background-color: #10b981; color: white; cursor: not-allowed; opacity: 0.8;",4,"ngIf"],[1,"btn",3,"click"],["disabled","",1,"btn",2,"background-color","#10b981","color","white","cursor","not-allowed","opacity","0.8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",2,"width","16px","height","16px","display","inline-block","margin-right","4px","vertical-align","middle"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"cart"],["class","cart-row",4,"ngFor","ngForOf"],[1,"cart-row"],["type","number","min","0.001","step","0.001",1,"qty",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01","placeholder","Unit cost",1,"cost",3,"ngModelChange","ngModel"],[1,"icon",3,"click"]],template:function(e,i){e&1&&p(0,Mo,19,5,"div",0),e&2&&g("ngIf",i.isOpen)},dependencies:[I,E,R,J,N,Oe,Be],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.form-input[_ngcontent-%COMP%]{flex:1;border:1px solid #d1d5db;border-radius:8px;padding:.5rem .75rem}.search-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.results[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;flex-direction:column;gap:.5rem}.result-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.result-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.result-row[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.cart[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;gap:.5rem}.cart-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.cart-row[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{width:6rem}.cart-row[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{width:7rem;margin-left:.5rem}.cart-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:.5rem;background:transparent;border:none;cursor:pointer}"]})};function ho(r,t){r&1&&(n(0,"div",14),c(1,"Loading costs..."),o())}function bo(r,t){r&1&&(n(0,"div",14),c(1,"No parts added."),o())}function vo(r,t){if(r&1&&(n(0,"div",17)(1,"div",18),c(2),o(),n(3,"div",19),c(4),o(),n(5,"div",20),c(6),w(7,"number"),o()()),r&2){let e=t.$implicit,i=d(3);a(2),f((e.part==null?null:e.part.name)||"Part #"+e.part_id),a(2),h("x",e.qty,""),a(2),k("",i.getCurrencySymbol(),"",z(7,4,(e.unit_cost||0)*(e.qty||0),"1.2-2"),"")}}function wo(r,t){if(r&1&&(n(0,"div",15),p(1,vo,8,7,"div",16),o()),r&2){let e=d(2);a(),g("ngForOf",e.parts)}}function ko(r,t){if(r&1){let e=b();n(0,"div",1),_("click",function(){C(e);let s=d();return O(s.close())}),n(1,"div",2),_("click",function(s){return C(e),O(s.stopPropagation())}),n(2,"div",3)(3,"h3"),c(4,"Work Order Costs"),o(),n(5,"button",4),_("click",function(){C(e);let s=d();return O(s.close())}),c(6,"\xD7"),o()(),n(7,"div",5),p(8,ho,2,0,"div",6),n(9,"div",7)(10,"div")(11,"div",8),c(12,"Labor"),o(),n(13,"div",9),c(14),w(15,"number"),w(16,"number"),o()(),n(17,"div")(18,"div",8),c(19,"Parts"),o(),n(20,"div",9),c(21),w(22,"number"),o()(),n(23,"div")(24,"div",8),c(25,"Total"),o(),n(26,"div",10),c(27),w(28,"number"),o()()(),n(29,"h4"),c(30,"Parts"),o(),p(31,bo,2,0,"div",6)(32,wo,2,1,"div",11),o(),n(33,"div",12)(34,"button",13),_("click",function(){C(e);let s=d();return O(s.close())}),c(35,"Close"),o()()()()}if(r&2){let e=d();a(8),g("ngIf",e.loading),a(6),it("",z(15,10,e.laborMinutes/60,"1.2-2")," hrs \u2022 ",e.getCurrencySymbol(),"",z(16,13,e.laborCost,"1.2-2"),""),a(7),k("",e.getCurrencySymbol(),"",z(22,16,e.partsCost,"1.2-2"),""),a(6),k("",e.getCurrencySymbol(),"",z(28,19,e.totalCost,"1.2-2"),""),a(4),g("ngIf",e.parts.length===0),a(),g("ngIf",e.parts.length)}}var Ze=class r{constructor(t,e){this.woService=t;this.currencyService=e}workOrderId;isOpen=!1;closed=new W;loading=!1;timeLogs=[];parts=[];laborMinutes=0;laborCost=0;partsCost=0;totalCost=0;getCurrencySymbol(){return this.currencyService.getSymbol()}ngOnChanges(t){t.isOpen&&this.isOpen&&this.workOrderId&&this.fetchCosts()}fetchCosts(){this.loading=!0;let t=this.workOrderId;this.woService.getTimeLogs(t).subscribe({next:e=>{this.timeLogs=e.logs||[],this.laborMinutes=e.totals?.total_minutes||0,this.laborCost=e.totals?.total_cost||0,this.computeTotals()}}),this.woService.getParts(t).subscribe({next:e=>{this.parts=e||[],this.computeTotals(),this.loading=!1},error:()=>{this.loading=!1}})}computeTotals(){this.partsCost=(this.parts||[]).reduce((t,e)=>{let i=e.unit_cost??0,s=e.qty??0;return t+i*s},0),this.totalCost=(this.laborCost||0)+(this.partsCost||0)}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||r)(v(T),v(je))};static \u0275cmp=S({type:r,selectors:[["app-view-costs-modal"]],inputs:{workOrderId:"workOrderId",isOpen:"isOpen"},outputs:{closed:"closed"},standalone:!1,features:[se],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","text-sm text-gray-500",4,"ngIf"],[1,"summary"],[1,"label"],[1,"value"],[1,"value","total"],["class","parts-list",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"text-sm","text-gray-500"],[1,"parts-list"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"name"],[1,"qty"],[1,"cost"]],template:function(e,i){e&1&&p(0,ko,36,22,"div",0),e&2&&g("ngIf",i.isOpen)},dependencies:[I,E,Ae],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{width:min(720px,95vw);background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;max-height:60vh;overflow:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:.5rem}.close[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;padding:.25rem .5rem;border-radius:6px}.btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:8px;border:1px solid #d1d5db;background:#f3f4f6}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1rem}.summary[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280}.summary[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#111827}.parts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.parts-list[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #e5e7eb;border-radius:8px;padding:.5rem .75rem}.parts-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.parts-list[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:#6b7280}.parts-list[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-weight:600}"]})};function yo(r,t){if(r&1&&(n(0,"p"),c(1),o()),r&2){let e=d().$implicit;a(),k("by ",e.user.first_name," ",e.user.last_name,"")}}function So(r,t){if(r&1&&(n(0,"p"),c(1),o()),r&2){let e=d().$implicit;a(),h('"',e.details.comment,'"')}}function Eo(r,t){if(r&1&&(n(0,"div",20),m(1,"div",21),n(2,"div",22)(3,"label"),c(4),o(),n(5,"p"),c(6),w(7,"dateFormat"),w(8,"timeFormat"),o(),p(9,yo,2,2,"p",23)(10,So,2,1,"p",23),o()()),r&2){let e=t.$implicit;a(),P("dot-muted",e.type!=="created"),a(3),f(e.title),a(2),k("",x(7,7,e.timestamp)," at ",x(8,9,e.timestamp),""),a(3),g("ngIf",e.user),a(),g("ngIf",e.type==="comment"&&(e.details==null?null:e.details.comment))}}function To(r,t){if(r&1){let e=b();n(0,"div",12),_("click",function(){C(e);let s=d();return O(s.closeHistoryModal())}),n(1,"div",13),_("click",function(s){return C(e),O(s.stopPropagation())}),n(2,"div",14)(3,"h3"),c(4,"Full History"),o(),n(5,"button",15),_("click",function(){C(e);let s=d();return O(s.closeHistoryModal())}),c(6,"\xD7"),o()(),n(7,"div",16),p(8,Eo,11,11,"div",17),o(),n(9,"div",18)(10,"button",19),_("click",function(){C(e);let s=d();return O(s.closeHistoryModal())}),c(11,"Close"),o()()()()}if(r&2){let e=d();a(8),g("ngForOf",e.fullHistory)}}function Wo(r,t){if(r&1&&(D(0),c(1),w(2,"timeFormat"),w(3,"dateFormat"),L()),r&2){let e,i=d().$implicit,s=d(2);a(),k(" Assigned ",x(2,2,(e=s.getAssignmentForUser(i.id))==null?null:e.created_at)," \u2022 ",x(3,4,(e=s.getAssignmentForUser(i.id))==null?null:e.created_at)," ")}}function Io(r,t){if(r&1&&c(0),r&2){let e=d().$implicit;f(e.email)}}function Fo(r,t){if(r&1&&(n(0,"option",50),c(1),o()),r&2){let e=t.$implicit;g("value",e.value),a(),f(e.label)}}function Vo(r,t){if(r&1){let e=b();D(0),n(1,"select",48),_("change",function(s){C(e);let l=d(2).$implicit,y=d(2);return O(y.onAssignmentStatusChange(y.getAssignmentForUser(l.id),s))}),p(2,Fo,2,2,"option",49),o(),L()}if(r&2){let e,i=d(2).$implicit,s=d(2);a(),g("value",s.assignmentStatuses.get(((e=s.getAssignmentForUser(i.id))==null?null:e.id)||0)||"assigned"),a(),g("ngForOf",s.assignmentStatusOptions)}}function Do(r,t){if(r&1&&(n(0,"span"),c(1),o()),r&2){let e,i,s=d(2).$implicit,l=d(2);de(l.getAssignmentStatusClass(l.assignmentStatuses.get(((e=l.getAssignmentForUser(s.id))==null?null:e.id)||0))),a(),f(l.getAssignmentStatusLabel(l.assignmentStatuses.get(((i=l.getAssignmentForUser(s.id))==null?null:i.id)||0)))}}function Lo(r,t){if(r&1&&(D(0),p(1,Vo,3,2,"ng-container",44)(2,Do,2,3,"ng-template",null,1,Y),L()),r&2){let e,i=U(3),s=d().$implicit,l=d(2);a(),g("ngIf",(l.assignmentStatuses.get(((e=l.getAssignmentForUser(s.id))==null?null:e.id)||0)||"assigned")==="assigned")("ngIfElse",i)}}function Ao(r,t){if(r&1){let e=b();n(0,"button",51),_("click",function(){C(e);let s=d().$implicit,l=d(2);return O(l.removeAssignmentByUser(s.id))}),c(1,"\u{1F5D1}"),o()}}function zo(r,t){if(r&1){let e=b();n(0,"div",38)(1,"div",39)(2,"div",40),c(3),o(),n(4,"div",41)(5,"div",42),c(6),o(),n(7,"div",43),p(8,Wo,4,6,"ng-container",44)(9,Io,1,1,"ng-template",null,0,Y),o()()(),n(11,"div",45),p(12,Lo,4,2,"ng-container",23)(13,Ao,2,0,"button",46),n(14,"input",47),_("change",function(s){let l=C(e).$implicit,y=d(2);return O(y.toggleUserSelection(l.id,s.target.checked))}),o()()()}if(r&2){let e=t.$implicit,i=U(10),s=d(2);a(3),k("",(e.first_name||"?")[0],"",(e.last_name||"")[0]||"",""),a(3),k("",e.first_name," ",e.last_name,""),a(2),g("ngIf",s.isUserAlreadyAssigned(e.id))("ngIfElse",i),a(4),g("ngIf",s.isUserAlreadyAssigned(e.id)),a(),g("ngIf",s.isUserAlreadyAssigned(e.id)),a(),g("checked",s.selectedUserIds.has(e.id))}}function jo(r,t){if(r&1){let e=b();n(0,"div",24)(1,"div",25),_("click",function(){C(e);let s=d();return O(s.closeAssignmentsModal())}),o(),n(2,"div",26)(3,"div",27),_("click",function(s){return C(e),O(s.stopPropagation())}),n(4,"div",14)(5,"h2",28),u(),n(6,"svg",29),m(7,"path",30),o(),c(8," Add New Assignment "),o(),M(),n(9,"button",31),_("click",function(){C(e);let s=d();return O(s.closeAssignmentsModal())}),u(),n(10,"svg",29),m(11,"path",32),o()()(),M(),n(12,"div",33)(13,"div",34),p(14,zo,15,9,"div",35),o()(),n(15,"div",18)(16,"button",36),_("click",function(){C(e);let s=d();return O(s.closeAssignmentsModal())}),c(17,"Cancel"),o(),n(18,"button",37),_("click",function(){C(e);let s=d();return O(s.saveAssignments())}),c(19,"Assign"),o()()()()()}if(r&2){let e=d();a(6),P("mr-2",!e.isRtl())("ml-2",e.isRtl()),a(8),g("ngForOf",e.teamMembers)}}function Bo(r,t){if(r&1&&(n(0,"div",52)(1,"div",53),u(),n(2,"svg",54),m(3,"circle",55)(4,"path",56),o(),M(),n(5,"span",57),c(6,"Loading work order..."),o()()()),r&2){let e=d();a(5),P("ml-2",!e.isRtl())("mr-2",e.isRtl())}}function Ho(r,t){if(r&1){let e=b();n(0,"app-edit-work-order-modal",129),_("modalClosed",function(){C(e);let s=d(2);return O(s.closeEditModal())})("workOrderUpdated",function(){C(e);let s=d(2);return O(s.loadWorkOrder(s.workOrder==null?null:s.workOrder.id))}),o()}if(r&2){let e=d(2);g("isOpen",e.showEditModal)("workOrder",e.workOrder)}}function Ro(r,t){if(r&1){let e=b();n(0,"app-add-work-order-parts-modal",130),_("closed",function(){C(e);let s=d(2);return O(s.closeAddPartsModal())})("saved",function(){C(e);let s=d(2);return O(s.onPartsAdded())}),o()}if(r&2){let e=d(2);g("isOpen",e.showAddPartsModal)("workOrderId",e.workOrder==null?null:e.workOrder.id)}}function No(r,t){if(r&1){let e=b();n(0,"app-view-costs-modal",131),_("closed",function(){C(e);let s=d(2);return O(s.showViewCostsModal=!1)}),o()}if(r&2){let e=d(2);g("isOpen",e.showViewCostsModal)("workOrderId",e.workOrder==null?null:e.workOrder.id)}}function Go(r,t){if(r&1&&(D(0),c(1),L()),r&2){let e=d().ngIf;a(),k(" ",e.first_name," ",e.last_name," ")}}function qo(r,t){if(r&1&&c(0),r&2){let e=d().ngIf;h(" ",e?"User ID: "+e:"Unassigned"," ")}}function $o(r,t){if(r&1&&(D(0),p(1,Go,2,2,"ng-container",44)(2,qo,1,1,"ng-template",null,3,Y),L()),r&2){let e=t.ngIf,i=U(3);a(),g("ngIf",e&&(e.first_name||e.last_name))("ngIfElse",i)}}function Uo(r,t){if(r&1&&(D(0),c(1),L()),r&2){let e=d().ngIf;a(),h(" ",e.name||e.asset_id," ")}}function Yo(r,t){if(r&1&&c(0),r&2){let e=d().ngIf;h(" ",e?"Asset ID: "+e:"No Asset"," ")}}function Zo(r,t){if(r&1&&(D(0),p(1,Uo,2,1,"ng-container",44)(2,Yo,1,1,"ng-template",null,4,Y),L()),r&2){let e=t.ngIf,i=U(3);a(),g("ngIf",e&&(e.name||e.asset_id))("ngIfElse",i)}}function Qo(r,t){if(r&1&&(D(0),c(1),L()),r&2){let e=d().ngIf;a(),h(" ",e.name||e.full_path," ")}}function Jo(r,t){if(r&1&&c(0),r&2){let e=d().ngIf;h(" ",e?"Location ID: "+e:"No Location"," ")}}function Ko(r,t){if(r&1&&(D(0),p(1,Qo,2,1,"ng-container",44)(2,Jo,1,1,"ng-template",null,5,Y),L()),r&2){let e=t.ngIf,i=U(3);a(),g("ngIf",e&&(e.name||e.full_path))("ngIfElse",i)}}function Xo(r,t){if(r&1&&(n(0,"div",86)(1,"label"),c(2,"Notes"),o(),n(3,"p"),c(4),o()()),r&2){let e=d(2);a(4),f(e.workOrder==null?null:e.workOrder.notes)}}function er(r,t){if(r&1&&(n(0,"div",86)(1,"label"),c(2,"Tags"),o(),n(3,"p"),c(4),o()()),r&2){let e=d(2);a(4),f(e.workOrder==null?null:e.workOrder.tags)}}function tr(r,t){r&1&&(n(0,"span",132),c(1,"Active"),o())}function nr(r,t){if(r&1&&(n(0,"div",133),c(1),o()),r&2){let e=d(2);a(),h(" ",e.displayedElapsed," ")}}function or(r,t){if(r&1&&(n(0,"div",134),c(1),w(2,"dateFormat"),w(3,"timeFormat"),o()),r&2){let e=d(2);a(),k(" Started ",x(2,2,e.timeLogs[0].start_time)," ",x(3,4,e.timeLogs[0].start_time)," ")}}function rr(r,t){r&1&&(u(),m(0,"path",77))}function ir(r,t){r&1&&(u(),m(0,"path",135))}function ar(r,t){r&1&&(u(),m(0,"path",136))}function cr(r,t){r&1&&(n(0,"div",137),c(1,"No time logs yet."),o())}function sr(r,t){if(r&1&&(D(0),c(1),w(2,"number"),L()),r&2){let e=d().$implicit;a(),h(" \u2022 ",z(2,1,e.duration_minutes||0,"1.0-0")," min ")}}function dr(r,t){r&1&&(D(0),c(1,"\u2022 running"),L())}function lr(r,t){if(r&1&&(n(0,"div",138)(1,"div",139),u(),n(2,"svg",62),m(3,"path",30),o(),M(),n(4,"span"),c(5),o()(),n(6,"div",140),u(),n(7,"svg",62),m(8,"path",141),o(),M(),n(9,"span"),c(10),w(11,"dateFormat"),w(12,"timeFormat"),p(13,sr,3,4,"ng-container",23)(14,dr,2,0,"ng-container",23),o()()()),r&2){let e=t.$implicit;a(5),f(e.user?e.user.first_name+" "+e.user.last_name:"Unknown"),a(5),k("",x(11,5,e.start_time)," ",x(12,7,e.start_time)," "),a(3),g("ngIf",e.end_time),a(),g("ngIf",!e.end_time)}}function gr(r,t){if(r&1&&(n(0,"option",142),c(1),o()),r&2){let e=t.$implicit,i=d(2);g("value",e.slug)("selected",i.getStatusLabel(i.workOrder==null?null:i.workOrder.status)===e.name),a(),h(" ",e.name," ")}}function mr(r,t){if(r&1&&(n(0,"span"),c(1),o()),r&2){let e=d().$implicit;a(),f(e.user?(e==null||e.user==null?null:e.user.first_name)+" "+(e==null||e.user==null?null:e.user.last_name):"Unknown User")}}function _r(r,t){if(r&1&&(n(0,"div",145)(1,"div",146),u(),n(2,"svg",62),m(3,"path",30),o(),p(4,mr,2,1,"span"),o(),M(),n(5,"div",147),c(6),o(),n(7,"div",148),u(),n(8,"svg",62),m(9,"path",141),o(),M(),n(10,"span"),c(11),w(12,"dateFormat"),w(13,"timeFormat"),o()()()),r&2){let e=t.$implicit;a(4),j(e.user?4:-1),a(2),f(e.comment),a(5),k("",x(12,4,e.created_at)," ",x(13,6,e.created_at),"")}}function pr(r,t){if(r&1&&(n(0,"div",143),p(1,_r,14,8,"div",144),o()),r&2){let e=d(2);a(),g("ngForOf",e.workOrder.comments)}}function Cr(r,t){if(r&1&&(n(0,"p"),c(1),o()),r&2){let e=d().$implicit;a(),k("by ",e.user.first_name," ",e.user.last_name,"")}}function Or(r,t){if(r&1&&(n(0,"p"),c(1),o()),r&2){let e=d().$implicit;a(),h("\u201C",e.details.comment,"\u201D")}}function ur(r,t){if(r&1&&(n(0,"div",20),m(1,"div",21),n(2,"div",22)(3,"label"),c(4),o(),n(5,"p"),c(6),w(7,"dateFormat"),w(8,"timeFormat"),o(),p(9,Cr,2,2,"p",23)(10,Or,2,1,"p",23),o()()),r&2){let e=t.$implicit;a(),P("dot-muted",e.type!=="created"),a(3),f(e.title),a(2),k("",x(7,7,e.timestamp)," at ",x(8,9,e.timestamp),""),a(3),g("ngIf",e.user),a(),g("ngIf",e.type==="comment"&&(e.details==null?null:e.details.comment))}}function Mr(r,t){if(r&1){let e=b();D(0),p(1,ur,11,11,"div",17),n(2,"button",149),_("click",function(){C(e);let s=d(2);return O(s.openHistoryModal())}),c(3,"View all"),o(),L()}if(r&2){let e=d(2);a(),g("ngForOf",e.historyPreview)}}function fr(r,t){if(r&1&&(n(0,"div",20),m(1,"div",21),n(2,"div",22)(3,"label"),c(4,"Created"),o(),n(5,"p"),c(6),w(7,"dateFormat"),w(8,"timeFormat"),o(),n(9,"p"),c(10),o()()(),n(11,"div",20),m(12,"div",150),n(13,"div",22)(14,"label"),c(15,"Last Updated"),o(),n(16,"p"),c(17),w(18,"dateFormat"),w(19,"timeFormat"),o()()()),r&2){let e=d(2);a(6),k("",x(7,5,e.workOrder==null?null:e.workOrder.created_at)," at ",x(8,7,e.workOrder==null?null:e.workOrder.created_at),""),a(4),h("by ",e.workOrder&&e.workOrder.created_by?e.workOrder.created_by.first_name+" "+e.workOrder.created_by.last_name:"Unknown",""),a(7),k("",x(18,9,e.workOrder.updated_at)," at ",x(19,11,e.workOrder.updated_at),"")}}function Pr(r,t){if(r&1&&(n(0,"span"),c(1),o()),r&2){let e=d(2);a(),h(" (",e.assignments.length,")")}}function hr(r,t){r&1&&(n(0,"div",137),c(1,"No assignments yet."),o())}function br(r,t){if(r&1&&(n(0,"option",50),c(1),o()),r&2){let e=t.$implicit;g("value",e.value),a(),f(e.label)}}function vr(r,t){if(r&1){let e=b();D(0),n(1,"select",48),_("change",function(s){C(e);let l=d().$implicit,y=d(3);return O(y.onAssignmentStatusChange(l,s))}),p(2,br,2,2,"option",49),o(),L()}if(r&2){let e=d().$implicit,i=d(3);a(),g("value",i.assignmentStatuses.get(e.id)||"assigned"),a(),g("ngForOf",i.assignmentStatusOptions)}}function wr(r,t){if(r&1&&(n(0,"span"),c(1),o()),r&2){let e=d().$implicit,i=d(3);de(i.getAssignmentStatusClass(i.assignmentStatuses.get(e.id))),a(),f(i.getAssignmentStatusLabel(i.assignmentStatuses.get(e.id)))}}function kr(r,t){if(r&1){let e=b();n(0,"div",152)(1,"div",39)(2,"div",40),c(3),o(),n(4,"div",41)(5,"div",42),c(6),o(),n(7,"div",43),c(8),w(9,"timeFormat"),w(10,"dateFormat"),o()()(),n(11,"div",45),p(12,vr,3,2,"ng-container",44)(13,wr,2,3,"ng-template",null,6,Y),n(15,"button",51),_("click",function(){let s=C(e).$implicit,l=d(3);return O(l.removeAssignment(s))}),c(16,"\u{1F5D1}"),o()()()}if(r&2){let e=t.$implicit,i=U(14),s=d(3);a(3),k("",(e.user.first_name||"?")[0],"",(e.user.last_name||"")[0]||"",""),a(3),k("",e.user.first_name," ",e.user.last_name,""),a(2),k("Assigned ",x(9,8,e.created_at)," \u2022 ",x(10,10,e.created_at),""),a(4),g("ngIf",(s.assignmentStatuses.get(e.id)||"assigned")==="assigned")("ngIfElse",i)}}function xr(r,t){if(r&1&&(n(0,"div",34),p(1,kr,17,12,"div",151),o()),r&2){let e=d(2);a(),g("ngForOf",e.assignments)}}function yr(r,t){if(r&1){let e=b();n(0,"div",58)(1,"div",59)(2,"div",60)(3,"a",61),_("click",function(){C(e);let s=d();return O(s.goBack())}),u(),n(4,"svg",62),m(5,"path",63),o(),c(6," Back to Work Orders "),o()(),M(),n(7,"div",64)(8,"div",65),u(),n(9,"svg",66),m(10,"path",67)(11,"path",68),o(),M(),n(12,"div",69)(13,"h1"),c(14),o(),n(15,"p",70),c(16),o(),n(17,"div",71)(18,"span",72),c(19),o(),n(20,"span",73),c(21),o(),n(22,"span",74),c(23),o()()()(),n(24,"div",75)(25,"button",76),u(),n(26,"svg",62),m(27,"path",77),o(),c(28),o()()()(),p(29,Ho,1,2,"app-edit-work-order-modal",78)(30,Ro,1,2,"app-add-work-order-parts-modal",79)(31,No,1,2,"app-view-costs-modal",80),M(),n(32,"div",81)(33,"div",82)(34,"div",83)(35,"h3",84),c(36,"Work Order Details"),o(),n(37,"div",85)(38,"div",86)(39,"label"),c(40,"Description"),o(),n(41,"p"),c(42),o()(),n(43,"div",86)(44,"label"),c(45,"Status"),o(),n(46,"p"),c(47),o()(),n(48,"div",86)(49,"label"),c(50,"Priority"),o(),n(51,"p"),c(52),o()(),n(53,"div",86)(54,"label"),c(55,"Category"),o(),n(56,"p"),c(57),o()(),n(58,"div",86)(59,"label"),c(60,"Type"),o(),n(61,"p"),c(62),o()(),n(63,"div",86)(64,"label"),c(65,"Assigned To"),o(),n(66,"div",87),u(),n(67,"svg",62),m(68,"path",30),o(),M(),n(69,"span"),p(70,$o,4,2,"ng-container",23),o()()(),n(71,"div",86)(72,"label"),c(73,"Asset"),o(),n(74,"p"),p(75,Zo,4,2,"ng-container",23),o()(),n(76,"div",86)(77,"label"),c(78,"Location"),o(),n(79,"p"),p(80,Ko,4,2,"ng-container",23),o()(),n(81,"div",86)(82,"label"),c(83,"Company"),o(),n(84,"p"),c(85),o()(),n(86,"div",86)(87,"label"),c(88,"Estimated Hours"),o(),n(89,"p"),c(90),o()(),n(91,"div",86)(92,"label"),c(93,"Actual Hours"),o(),n(94,"p"),c(95),o()(),p(96,Xo,5,1,"div",88)(97,er,5,1,"div",88),o()(),n(98,"div",83)(99,"h3",84),c(100,"Time Tracking"),o(),n(101,"p",89),c(102,"Track time spent on this work order"),o(),n(103,"div",90)(104,"div",91)(105,"div",92),c(106,"Current Session"),o(),p(107,tr,2,0,"span",93),o(),p(108,nr,2,1,"div",94)(109,or,4,6,"div",95),n(110,"div",96)(111,"label"),c(112,"Task Description (Optional)"),o(),n(113,"input",97),ae("ngModelChange",function(s){C(e);let l=d();return ie(l.currentSession.description,s)||(l.currentSession.description=s),O(s)}),o()(),n(114,"div",96)(115,"label"),c(116,"Hourly Rate (Optional)"),o(),n(117,"input",98),ae("ngModelChange",function(s){C(e);let l=d();return ie(l.currentSession.hourlyRate,s)||(l.currentSession.hourlyRate=s),O(s)}),o()(),n(118,"button",99),_("click",function(){C(e);let s=d();return O(s.isTimerRunning?s.stopTimer():s.startTimer())}),u(),n(119,"svg",62),p(120,rr,1,0,"path",100)(121,ir,1,0,"path",101)(122,ar,1,0,"path",102),o(),c(123),o()(),M(),n(124,"div",103)(125,"div",104)(126,"span",105),c(127),w(128,"number"),o()(),n(129,"div",106)(130,"span",107),c(131),w(132,"number"),o()()(),n(133,"div",108)(134,"h4"),c(135,"Time Log History"),o(),p(136,cr,2,0,"div",109)(137,lr,15,9,"div",110),o()(),n(138,"div",83)(139,"h3",84),c(140,"Status Update"),o(),n(141,"p",89),c(142,"Update the work order status and add notes about the progress"),o(),n(143,"div",111)(144,"label"),c(145,"Current Status:"),o(),n(146,"div",112),u(),n(147,"svg",62),m(148,"path",77),o(),c(149),o()(),M(),n(150,"div",113)(151,"label"),c(152,"Update Status:"),o(),n(153,"select",114),_("change",function(s){C(e);let l=d();return O(l.onStatusChange(s))}),p(154,gr,2,3,"option",115),o()()(),n(155,"div",83)(156,"h3",84),c(157,"Comments"),o(),n(158,"p",89),c(159,"Activity log and comments for this work order"),o(),n(160,"form",116),_("ngSubmit",function(){C(e);let s=d();return O(s.addComment())}),m(161,"textarea",117),n(162,"button",118),c(163,"Add Comment"),o()(),p(164,pr,2,1,"div",119),o()(),n(165,"div",120)(166,"div",83)(167,"h3",84),c(168,"Timeline"),o(),p(169,Mr,4,1,"ng-container",44)(170,fr,20,13,"ng-template",null,2,Y),o(),n(172,"div",83)(173,"div",121)(174,"h3",84),c(175,"Assignments"),p(176,Pr,2,1,"span",23),o(),n(177,"button",122),_("click",function(){C(e);let s=d();return O(s.openAssignmentsModal())}),c(178,"+ Add Assignment"),o()(),p(179,hr,2,0,"div",109)(180,xr,2,1,"div",123),o(),n(181,"div",83)(182,"h3",84),c(183,"Quick Actions"),o(),n(184,"div",124)(185,"button",125),_("click",function(){C(e);let s=d();return O(s.openEditModal())}),u(),n(186,"svg",62),m(187,"path",126),o(),c(188," Edit Work Order "),o(),M(),n(189,"button",125),_("click",function(){C(e);let s=d();return O(s.showViewCostsModal=!0)}),u(),n(190,"svg",62),m(191,"path",127),o(),c(192," View Costs "),o(),M(),n(193,"button",125),_("click",function(){C(e);let s=d();return O(s.openAddPartsModal())}),u(),n(194,"svg",62),m(195,"path",128),o(),c(196," Add Parts "),o()()()()()()}if(r&2){let e,i,s=U(171),l=d();a(14),f(l.workOrder==null?null:l.workOrder.title),a(2),h("Work Order #",l.workOrder==null?null:l.workOrder.id,""),a(3),h(" ",l.getPriorityLabel(l.workOrder==null?null:l.workOrder.priority)," "),a(2),h(" ",(l.workOrder==null||l.workOrder.category==null?null:l.workOrder.category.name)||"Uncategorized"," "),a(2),h(" ",l.getTypeLabel(l.workOrder==null?null:l.workOrder.type)," "),a(2),de(l.getStatusClass(l.workOrder==null?null:l.workOrder.status)),a(3),h(" ",l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)," "),a(),g("ngIf",l.showEditModal),a(),g("ngIf",l.showAddPartsModal&&l.workOrder),a(),g("ngIf",l.workOrder),a(11),f((l.workOrder==null?null:l.workOrder.description)||"No description provided"),a(5),f(l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)),a(5),f(l.getPriorityLabel(l.workOrder==null?null:l.workOrder.priority)),a(5),f((l.workOrder==null||l.workOrder.category==null?null:l.workOrder.category.name)||"Uncategorized"),a(5),f(l.getTypeLabel(l.workOrder==null?null:l.workOrder.type)),a(8),g("ngIf",l.workOrder==null?null:l.workOrder.assigned_to),a(5),g("ngIf",l.workOrder==null?null:l.workOrder.asset),a(5),g("ngIf",l.workOrder==null?null:l.workOrder.location),a(5),f((l.workOrder==null||l.workOrder.company==null?null:l.workOrder.company.name)||"Company ID: "+(l.workOrder==null?null:l.workOrder.company_id)),a(5),f((e=l.workOrder==null?null:l.workOrder.estimated_hours)!==null&&e!==void 0?e:"N/A"),a(5),f((i=l.workOrder==null?null:l.workOrder.actual_hours)!==null&&i!==void 0?i:"N/A"),a(),g("ngIf",l.workOrder==null?null:l.workOrder.notes),a(),g("ngIf",l.workOrder==null?null:l.workOrder.tags),a(10),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning&&l.hasActiveSession&&(l.timeLogs[0]==null?null:l.timeLogs[0].start_time)),a(4),re("ngModel",l.currentSession.description),a(4),re("ngModel",l.currentSession.hourlyRate),a(),de(l.isTimerRunning?"stop-button":"start-button"),a(2),g("ngIf",!l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),g("ngIf",l.isTimerRunning),a(),h(" ",l.isTimerRunning?"Stop Timer":"Start Timer"," "),a(4),h("",z(128,51,l.totalMinutes/60,"1.2-2")," hrs Total Time"),a(4),k("",l.getCurrencySymbol(),"",z(132,54,l.totalCost,"1.2-2")," Total Cost"),a(5),g("ngIf",l.timeLogs.length===0),a(),g("ngForOf",l.timeLogs),a(9),de(l.getStatusClass(l.workOrder==null?null:l.workOrder.status)),a(3),h(" ",l.getStatusLabel(l.workOrder==null?null:l.workOrder.status)," "),a(5),g("ngForOf",l.statusOptions),a(6),g("formGroup",l.commentForm),a(4),g("ngIf",l.workOrder&&l.workOrder.comments&&l.workOrder.comments.length>0),a(5),g("ngIf",l.historyPreview&&l.historyPreview.length>0)("ngIfElse",s),a(7),g("ngIf",l.assignments==null?null:l.assignments.length),a(3),g("ngIf",l.assignments.length===0),a(),g("ngIf",l.assignments.length>0)}}var Qe=class r{constructor(t,e,i,s,l,y,H){this.route=t;this.router=e;this.workOrderService=i;this.metaService=s;this.fb=l;this.teamService=y;this.currencyService=H;this.commentForm=this.fb.group({comment:["",F.required]})}workOrder=null;isLoading=!0;isTimerRunning=!1;currentSession={description:"",hourlyRate:0};timeLogs=[];totalMinutes=0;totalCost=0;hasActiveSession=!1;commentForm;subscription=new A;statusOptions=[];historyPreview=[];showHistoryModal=!1;fullHistory=[];displayedElapsed="00:00:00";timerHandle=null;activeStartTime;showAssignmentsModal=!1;showEditModal=!1;showAddPartsModal=!1;showViewCostsModal=!1;assignments=[];teamMembers=[];selectedUserIds=new Set;assignmentStatuses=new Map;assignmentStatusOptions=[{value:"assigned",label:"Assigned"},{value:"accepted",label:"Accepted"},{value:"declined",label:"Declined"},{value:"completed",label:"Completed"}];openAssignmentsModal(){this.showAssignmentsModal=!0,document.body.style.overflow="hidden"}closeAssignmentsModal(){this.showAssignmentsModal=!1,document.body.style.overflow=""}openEditModal(){this.showEditModal=!0}closeEditModal(){this.showEditModal=!1}onWorkOrderUpdated(t){this.workOrder=G(G({},this.workOrder),t),this.showEditModal=!1}openAddPartsModal(){this.showAddPartsModal=!0}closeAddPartsModal(){this.showAddPartsModal=!1}onPartsAdded(){this.closeAddPartsModal()}toggleUserSelection(t,e){e?this.selectedUserIds.add(t):this.selectedUserIds.delete(t)}saveAssignments(){if(!this.workOrder)return;let t=Array.from(this.selectedUserIds.values());this.workOrderService.setAssignments(this.workOrder.id,t).subscribe({next:e=>{this.assignments=e||[],this.closeAssignmentsModal()}})}removeAssignment(t){this.workOrder&&this.workOrderService.deleteAssignment(this.workOrder.id,t.id).subscribe({next:()=>{this.assignments=(this.assignments||[]).filter(e=>e.id!==t.id),this.selectedUserIds.delete(t.user_id)}})}isUserAlreadyAssigned(t){return(this.assignments||[]).some(e=>e.user_id===t)}getAssignmentForUser(t){return(this.assignments||[]).find(e=>e.user_id===t)}removeAssignmentByUser(t){let e=this.getAssignmentForUser(t);e&&this.removeAssignment(e)}onAssignmentStatusChange(t,e){let i=e.target;if(!this.workOrder||!t||!i?.value)return;let s=i.value;this.assignmentStatuses.set(t.id,s),this.workOrderService.updateAssignmentStatus(this.workOrder.id,t.id,s).subscribe({next:l=>{this.assignments=(this.assignments||[]).map(H=>H.id===l.id?ke(G({},H),{status:l.status}):H);let y=s!=="assigned"}})}getAssignmentStatusLabel(t){let e=(t||"assigned").toLowerCase(),i=this.assignmentStatusOptions.find(s=>s.value===e);return i?i.label:e}getAssignmentStatusClass(t){switch((t||"assigned").toLowerCase()){case"accepted":return"pill-status accepted";case"declined":return"pill-status declined";case"completed":return"pill-status completed";default:return"pill-status assigned"}}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadWorkOrder(t),this.metaService.getStatus().subscribe({next:e=>{this.statusOptions=e||[]},error:()=>{this.statusOptions=[]}})}getCurrencySymbol(){return this.currencyService.getSymbol()}ngOnDestroy(){this.showAssignmentsModal&&(document.body.style.overflow=""),this.subscription.unsubscribe(),this.stopCountdown()}loadWorkOrder(t){this.isLoading=!0,this.subscription.add(this.workOrderService.getWorkOrderById(t).subscribe({next:e=>{this.workOrder=e,this.workOrderService.getAssignments(e.id).subscribe({next:i=>{this.assignments=i||[],this.selectedUserIds=new Set((this.assignments||[]).map(s=>s.user_id)),(this.assignments||[]).forEach(s=>{let l=s.status||"assigned";this.assignmentStatuses.set(s.id,l)})}}),this.teamService.getTeamMembersFlat(1e3).subscribe({next:i=>{this.teamMembers=i||[]},error:()=>{this.teamMembers=[]}}),this.workOrderService.getComments(e.id).subscribe({next:i=>{this.workOrder.comments=i}}),this.workOrderService.getWorkOrderHistory(e.id).subscribe({next:i=>{this.fullHistory=i||[],this.historyPreview=(i||[]).slice(0,3)}}),this.workOrderService.getTimeLogs(e.id).subscribe({next:i=>{this.timeLogs=i.logs||[],this.totalMinutes=i.totals?.total_minutes||0,this.totalCost=i.totals?.total_cost||0;let s=this.timeLogs.find(l=>!l.end_time);this.hasActiveSession=!!s,s&&s.start_time?(this.isTimerRunning=!0,this.startCountdown(new Date(s.start_time))):(this.isTimerRunning=!1,this.stopCountdown())}}),this.isLoading=!1},error:e=>{console.error("Error loading work order:",e),this.isLoading=!1}}))}openHistoryModal(){this.showHistoryModal=!0}closeHistoryModal(){this.showHistoryModal=!1}goBack(){this.router.navigate(["/work-orders"])}startTimer(){this.isTimerRunning=!0,this.workOrder&&this.workOrderService.startTimer(this.workOrder.id,{description:this.currentSession.description||void 0,hourly_rate:this.currentSession.hourlyRate||void 0}).subscribe({next:()=>{let t=new Date;this.startCountdown(t),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(e=>{this.timeLogs=e.logs||[],this.totalMinutes=e.totals?.total_minutes||0,this.totalCost=e.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(i=>!i.end_time)})}})}stopTimer(){this.isTimerRunning=!1,this.workOrder&&this.workOrderService.stopTimer(this.workOrder.id).subscribe({next:()=>{this.stopCountdown(),this.workOrderService.getTimeLogs(this.workOrder.id).subscribe(t=>{this.timeLogs=t.logs||[],this.totalMinutes=t.totals?.total_minutes||0,this.totalCost=t.totals?.total_cost||0,this.hasActiveSession=this.timeLogs.some(e=>!e.end_time)})}})}addComment(){if(this.commentForm.valid&&this.workOrder){let t=this.commentForm.get("comment")?.value;this.workOrderService.addComment(this.workOrder.id,t).subscribe({next:e=>{this.workOrder.comments||(this.workOrder.comments=[]),this.workOrder.comments.unshift(e),this.commentForm.reset()}})}}updateStatus(t){this.workOrder&&(this.workOrder.status=t)}onStatusChange(t){let e=t.target;if(e&&e.value){let i=e.value;if(!this.workOrder)return;this.metaService.getStatus().subscribe({next:s=>{let l=s.find(y=>y.slug===i||y.slug===i.replace("_","-"));l&&this.workOrderService.updateWorkOrderStatus(this.workOrder.id,l.id).subscribe({next:y=>{this.workOrder=ke(G({},this.workOrder),{status:y.status})}})}})}}getStatusSlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"open"}getStatusClass(t){let e=this.getStatusSlug(t);return{open:"status-open","in-progress":"status-in-progress",in_progress:"status-in-progress",completed:"status-completed",cancelled:"status-cancelled"}[e]||"status-open"}getStatusLabel(t){let e=this.getStatusSlug(t);return{open:"Open","in-progress":"In Progress",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"}[e]||e}getPrioritySlug(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"slug"in t?t.slug:String(t):"medium"}getPriorityLabel(t){let e=this.getPrioritySlug(t);return{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[e]||e}getTypeLabel(t){return t?{ppm:"PPM",corrective:"Corrective",predictive:"Predictive",reactive:"Reactive"}[t]||t:"PPM"}startCountdown(t){this.activeStartTime=t,this.updateDisplayedElapsed(),this.stopCountdown(),this.timerHandle=setInterval(()=>this.updateDisplayedElapsed(),1e3)}stopCountdown(){this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}updateDisplayedElapsed(){if(!this.activeStartTime){this.displayedElapsed="00:00:00";return}let t=new Date().getTime(),e=this.activeStartTime.getTime(),i=Math.max(0,Math.floor((t-e)/1e3)),s=Math.floor(i/3600),l=Math.floor(i%3600/60),y=i%60,H=nt=>nt.toString().padStart(2,"0");this.displayedElapsed=`${H(s)}:${H(l)}:${H(y)}`}isRtl(){return document.documentElement.dir==="rtl"}static \u0275fac=function(e){return new(e||r)(v(st),v(me),v(T),v(te),v(ee),v(he),v(je))};static \u0275cmp=S({type:r,selectors:[["app-work-order-preview"]],standalone:!1,decls:5,vars:4,consts:[["emailOnly",""],["modalBadge",""],["basicTimeline",""],["assignedId",""],["assetId",""],["locationId",""],["statusBadge",""],["class","modal-overlay",3,"click",4,"ngIf"],["class","fixed inset-0 overflow-y-auto","style","z-index: 9999;",4,"ngIf"],[1,"work-order-preview-container"],["class","loading-state",4,"ngIf"],["class","work-order-content",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close",3,"click"],[1,"modal-body"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"close-btn",3,"click"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[4,"ngIf"],[1,"fixed","inset-0","overflow-y-auto",2,"z-index","9999"],[1,"fixed","inset-0","bg-black","bg-opacity-70","transition-opacity",2,"opacity","0.5",3,"click"],[1,"flex","min-h-full","items-center","justify-center","p-4"],[1,"relative","bg-white","rounded-2xl","shadow-xl","max-w-2xl","w-full","max-h-[90vh]","flex","flex-col",2,"z-index","10000",3,"click"],[1,"modal-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","button",1,"close-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body","flex-1","overflow-y-auto"],[1,"assignment-list"],["class","assignment-row selectable",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"assignment-row","selectable"],[1,"assignment-left"],[1,"avatar-circle"],[1,"assignment-meta"],[1,"assignment-name"],[1,"assignment-sub"],[4,"ngIf","ngIfElse"],[1,"assignment-actions"],["class","icon-btn danger","title","Remove",3,"click",4,"ngIf"],["type","checkbox",3,"change","checked"],[1,"assignment-select",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["title","Remove",1,"icon-btn","danger",3,"click"],[1,"loading-state"],[1,"flex","items-center","justify-center","py-8"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-600"],[1,"work-order-content"],[1,"header-section"],[1,"back-link"],[1,"back-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"title-section"],[1,"title-content"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"wrench-icon","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"title-text"],[1,"work-order-id"],[1,"chips",2,"margin-top","4px","display","flex","gap","8px","flex-wrap","wrap"],[1,"chip",2,"background","#eef2ff","color","#3730a3","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"chip",2,"background","#ecfeff","color","#155e75","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"chip",2,"background","#dbeafe","color","#1e40af","padding","2px 8px","border-radius","9999px","font-size","12px"],[1,"action-buttons"],[1,"status-button"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"isOpen","workOrder","modalClosed","workOrderUpdated",4,"ngIf"],[3,"isOpen","workOrderId","closed","saved",4,"ngIf"],[3,"isOpen","workOrderId","closed",4,"ngIf"],[1,"content-grid"],[1,"left-column"],[1,"info-card"],[1,"card-title"],[1,"row"],[1,"detail-item","col-6"],[1,"assignee-info"],["class","detail-item col-6",4,"ngIf"],[1,"card-subtitle"],[1,"current-session"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium"],["class","px-2 py-0.5 text-xs rounded-full","style","background:#dbeafe;color:#1e40af;",4,"ngIf"],["class","text-center mb-3","style","font-size:28px;letter-spacing:2px;color:#2563eb;",4,"ngIf"],["class","text-center text-xs text-gray-500 mb-3",4,"ngIf"],[1,"form-group"],["type","text","placeholder","What are you working on?",1,"form-input",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-input",3,"ngModelChange","ngModel"],[1,"timer-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z",4,"ngIf"],[1,"time-summary"],[1,"total-time"],[1,"time-label"],[1,"total-cost"],[1,"cost-label"],[1,"time-log-history"],["class","text-sm text-gray-500",4,"ngIf"],["class","time-log-entry",4,"ngFor","ngForOf"],[1,"status-section"],[1,"current-status"],[1,"status-update"],[1,"form-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"comment-form",3,"ngSubmit","formGroup"],["formControlName","comment","placeholder","Write a comment about the work order progress...",1,"comment-textarea"],["type","submit",1,"submit-comment-button"],["class","comments-list",4,"ngIf"],[1,"right-column"],[1,"assignments-header"],[1,"assign-add-btn",3,"click"],["class","assignment-list",4,"ngIf"],[1,"quick-actions"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-14V4a2 2 0 00-2-2H6a2 2 0 00-2 2v3m16 0H4"],[3,"modalClosed","workOrderUpdated","isOpen","workOrder"],[3,"closed","saved","isOpen","workOrderId"],[3,"closed","isOpen","workOrderId"],[1,"px-2","py-0.5","text-xs","rounded-full",2,"background","#dbeafe","color","#1e40af"],[1,"text-center","mb-3",2,"font-size","28px","letter-spacing","2px","color","#2563eb"],[1,"text-center","text-xs","text-gray-500","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"],[1,"text-sm","text-gray-500"],[1,"time-log-entry"],[1,"log-info"],[1,"log-time"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[3,"value","selected"],[1,"comments-list"],["class","comment-entry",4,"ngFor","ngForOf"],[1,"comment-entry"],[1,"comment-info"],[1,"comment-text"],[1,"comment-time"],[1,"view-all-button",3,"click"],[1,"timeline-dot","dot-muted"],["class","assignment-row",4,"ngFor","ngForOf"],[1,"assignment-row"]],template:function(e,i){e&1&&(p(0,To,12,1,"div",7)(1,jo,20,5,"div",8),n(2,"div",9),p(3,Bo,7,4,"div",10)(4,yr,197,57,"div",11),o()),e&2&&(g("ngIf",i.showHistoryModal),a(),g("ngIf",i.showAssignmentsModal),a(2),g("ngIf",i.isLoading),a(),g("ngIf",!i.isLoading&&i.workOrder))},dependencies:[I,E,_e,pe,Ce,R,J,N,Q,K,X,Be,be,Ye,Ze,Ae,Pe,ut],styles:['.work-order-preview-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:100%;margin:0;position:relative}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:.75rem;box-shadow:0 1px 3px #0000000f;padding:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#6b7280;text-decoration:none;font-size:.875rem;cursor:pointer;transition:color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#374151}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .view-all-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem .75rem;background-color:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.375rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:50}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:min(720px,95vw);max-height:80vh;background:#fff;border-radius:.75rem;border:1px solid #e5e7eb;box-shadow:0 10px 25px #0000001a;display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #eef2f7;display:flex;justify-content:space-between;align-items:center}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;overflow:auto}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-top:1px solid #eef2f7;display:flex;justify-content:flex-end;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{border:1px solid #d1d5db;background:#f3f4f6;color:#374151;border-radius:.375rem;padding:.25rem .5rem;cursor:pointer;font-size:1rem;line-height:1}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .wrench-icon[_ngcontent-%COMP%]{color:#2563eb;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.875rem;font-weight:700;color:#111827;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   .work-order-id[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500;border:none;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-button.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;width:100%;max-width:100%}@media (max-width: 1024px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{position:sticky;top:1rem;align-self:start;height:fit-content}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:#111827;padding-bottom:.5rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .assignee-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-.5rem;margin-right:-.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:50%;padding-left:.5rem;padding-right:.5rem;box-sizing:border-box}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .detail-item.col-6[_ngcontent-%COMP%]{width:100%}}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;transition:border-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.start-button[_ngcontent-%COMP%]:hover{background-color:#059669}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .current-session[_ngcontent-%COMP%]   .timer-button.stop-button[_ngcontent-%COMP%]:hover{background-color:#dc2626}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem;padding:1rem;background-color:#f9fafb;border-radius:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{text-align:center}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-time[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-summary[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .time-log-history[_ngcontent-%COMP%]   .time-log-entry[_ngcontent-%COMP%]   .log-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-open[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-completed[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .current-status.status-cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;background-color:#fff;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .status-update[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .add-comment-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;resize:vertical;min-height:100px;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background-color .2s}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .submit-comment-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]{padding:1rem;background-color:#f9fafb;border-radius:.5rem;margin-bottom:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:#374151;margin-bottom:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment-entry[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;text-align:left}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#9ca3af}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignments-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assign-add-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;background:#f3f4f6;border:1px solid #d1d5db;color:#374151;border-radius:.5rem;font-size:.875rem;cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status[_ngcontent-%COMP%]{padding:.25rem .6rem;border-radius:9999px;font-size:.8rem;font-weight:600}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.assigned[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.accepted[_ngcontent-%COMP%]{background:#60a5fa;color:#fff}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.declined[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .pill-status.completed[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .assignment-select[_ngcontent-%COMP%]{padding:.4rem .75rem;border:1px solid #d1d5db;border-radius:.5rem;background:#fff;font-size:.875rem;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #e5e7eb;border-radius:.5rem;overflow:hidden}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.25rem 1fr auto;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #eef2f7}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]:last-child{border-bottom:0}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .team-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#111827}.work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:3rem;height:3rem;background-color:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 6px -1px #0000001a;transition:all .2s;display:flex;align-items:center;justify-content:center}.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:scale(1.05)}@media (max-width: 768px){.work-order-content[_ngcontent-%COMP%]   .voice-input-button[_ngcontent-%COMP%]{bottom:1rem;right:1rem;width:2.5rem;height:2.5rem}}@media (max-width: 768px){.work-order-preview-container[_ngcontent-%COMP%]{padding:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{gap:1rem}.work-order-preview-container[_ngcontent-%COMP%]   .work-order-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{padding:1rem}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999!important;padding:1rem;overflow-y:auto;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:720px;max-height:90vh;display:flex;flex-direction:column;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_slideIn .2s ease-out;z-index:10000!important}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb;border-radius:12px 12px 0 0;flex-shrink:0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1;min-height:0}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb;border-radius:0 0 12px 12px;flex-shrink:0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem;padding-left:1rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.375rem;top:.25rem;bottom:-.25rem;width:2px;background:#e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;background-color:#2563eb;border-radius:50%;flex-shrink:0;margin-top:.25rem;border:2px solid #ffffff;box-shadow:0 0 0 2px #e5e7eb}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-dot.dot-muted[_ngcontent-%COMP%]{background-color:#9ca3af}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.25rem}.modal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.modal[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.modal[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fafafa}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]{cursor:pointer}.modal[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover, .modal-content[_ngcontent-%COMP%]   .assignment-row.selectable[_ngcontent-%COMP%]:hover{background:#f5f5f5}.modal[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modal[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .avatar-circle[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background:#e5e7eb;color:#374151;display:inline-flex;align-items:center;justify-content:center;font-weight:600}.modal[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.modal[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-sub[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modal[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .assignment-actions[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.modal[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.125rem .5rem;border-radius:9999px;font-size:.75rem;border:1px solid #e5e7eb}.modal[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .pill.muted[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.modal[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:.25rem;border-radius:.375rem}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{color:#b91c1c}.modal[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover, .modal-content[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}']})};var Sr=[{path:"",component:Ue},{path:":id",component:Qe}],Je=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Te({type:r});static \u0275inj=Se({imports:[Xe.forChild(Sr),Xe]})};var kt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Te({type:r});static \u0275inj=Se({imports:[ze,_t,mt,ct,Je,ne,Re,Ne,fe]})};export{kt as WorkOrdersModule};
