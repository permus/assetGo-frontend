import{a as u}from"./chunk-6WXWVH7L.js";import{F as p}from"./chunk-46FGEGCL.js";import{P as i,X as o,ba as n,r as e}from"./chunk-Z5DG7LDR.js";var h=class r{http=n(p);base=`${u.apiUrl}/meta/work-orders`;status$;priorities$;categories$;getStatus(){return this.status$||(this.status$=this.http.get(`${this.base}/status`).pipe(e(t=>Array.isArray(t)?t:t?.data??[]),i({bufferSize:1,refCount:!0}))),this.status$}getStatusIdBySlug(t){return this.getStatus().pipe(e(a=>{let s=a.find(c=>c.slug===t);return s?s.id:null}))}getPriorities(){return this.priorities$||(this.priorities$=this.http.get(`${this.base}/priorities`).pipe(e(t=>Array.isArray(t)?t:t?.data??[]),i({bufferSize:1,refCount:!0}))),this.priorities$}getCategories(){return this.categories$||(this.categories$=this.http.get(`${this.base}/categories`).pipe(e(t=>Array.isArray(t)?t:t?.data??[]),i({bufferSize:1,refCount:!0}))),this.categories$}clearStatusCache(){this.status$=void 0}clearPrioritiesCache(){this.priorities$=void 0}clearCategoriesCache(){this.categories$=void 0}clearAllCache(){this.clearStatusCache(),this.clearPrioritiesCache(),this.clearCategoriesCache()}static \u0275fac=function(a){return new(a||r)};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{h as a};
