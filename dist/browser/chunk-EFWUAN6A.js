import{a as l}from"./chunk-IH3QF6AM.js";import{a as b}from"./chunk-ZCMLCEAS.js";import{X as u,aa as o,g as a,s as c}from"./chunk-I4CHZ5QN.js";var v=class i{constructor(e,s){this.authService=e;this.settingsService=s;c([this.authService.moduleAccess$,this.settingsService.getModulesEnabled$()]).subscribe(([t,m])=>{let n={};Object.keys(t).forEach(r=>{let d=t[r],h=m[r]??!0;n[r]=d&&h}),this.visibleModulesSubject.next(n)})}visibleModulesSubject=new a({});visibleModules$=this.visibleModulesSubject.asObservable();isModuleVisible(e){return this.visibleModulesSubject.value[e]===!0}getVisibleModules(){return this.visibleModulesSubject.value}hasModuleAccess(e){return this.authService.hasModuleAccess(e)}hasPermission(e,s){return this.authService.hasPermission(e,s)}getFilteredModules(e){let s=this.getVisibleModules();return e.filter(t=>(t.is_system_module,s[t.key]===!0))}canAccessRoute(e){let t={"/dashboard":"dashboard","/settings":"settings","/assets":"assets","/assets/list":"assets","/locations":"locations","/work-orders":"work_orders","/teams":"teams","/maintenance":"maintenance","/inventory":"inventory","/sensors":"sensors","/ai":"ai_features","/reports":"reports","/facilities-locations":"facilities_locations","/sla":"sla","/eservices":"eservices","/tenant-portal":"tenant_portal","/maintenance-requests":"maintenance_requests","/amenity-bookings":"amenity_bookings","/move-requests":"move_in_out_requests","/fitout-requests":"fitout_requests","/inhouse-services":"inhouse_services","/parcels":"parcel_management","/visitors":"visitor_management","/business-directory":"business_directory","/tenant-communication":"tenant_communication"}[e];return t?this.isModuleVisible(t):!0}static \u0275fac=function(s){return new(s||i)(o(b),o(l))};static \u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})};export{v as a};
