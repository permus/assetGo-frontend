import {
  ImportProgressService
} from "./chunk-LFJJWI3L.js";
import {
  PdfExportService,
  PublicAssetViewComponent,
  require_browser
} from "./chunk-EQCNZB7H.js";
import "./chunk-7YWLATDR.js";
import {
  AssetService
} from "./chunk-FSB655JB.js";
import "./chunk-7MCG655I.js";
import "./chunk-LVD3CDON.js";
import {
  animate,
  style,
  transition,
  trigger
} from "./chunk-LZKWF3AL.js";
import {
  CheckboxControlValueAccessor,
  DefaultValueAccessor,
  FormBuilder,
  FormControlName,
  FormGroupDirective,
  FormsModule,
  MaxLengthValidator,
  MaxValidator,
  MinValidator,
  NgControlStatus,
  NgControlStatusGroup,
  NgForm,
  NgModel,
  NgSelectOption,
  NumberValueAccessor,
  RangeValueAccessor,
  ReactiveFormsModule,
  RequiredValidator,
  SelectControlValueAccessor,
  Validators,
  ɵNgNoValidate,
  ɵNgSelectMultipleOption
} from "./chunk-IWKUZ4XC.js";
import "./chunk-5YESG6NV.js";
import {
  ActivatedRoute,
  HttpClient,
  Router,
  RouterLink,
  RouterModule
} from "./chunk-M7RYNHQY.js";
import {
  ChangeDetectorRef,
  CommonModule,
  Component,
  CurrencyPipe,
  DatePipe,
  DecimalPipe,
  EventEmitter,
  HostListener,
  Input,
  KeyValuePipe,
  Location,
  NgClass,
  NgForOf,
  NgIf,
  NgModule,
  Output,
  Subject,
  ViewChild,
  ViewChildren,
  setClassMetadata,
  takeUntil,
  ɵsetClassDebugInfo,
  ɵɵNgOnChangesFeature,
  ɵɵadvance,
  ɵɵattribute,
  ɵɵclassMap,
  ɵɵclassProp,
  ɵɵdefineComponent,
  ɵɵdefineInjector,
  ɵɵdefineNgModule,
  ɵɵdirectiveInject,
  ɵɵelement,
  ɵɵelementContainerEnd,
  ɵɵelementContainerStart,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnamespaceHTML,
  ɵɵnamespaceSVG,
  ɵɵnextContext,
  ɵɵpipe,
  ɵɵpipeBind1,
  ɵɵpipeBind2,
  ɵɵpipeBind4,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵpureFunction1,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵresetView,
  ɵɵresolveDocument,
  ɵɵrestoreView,
  ɵɵsanitizeUrl,
  ɵɵstyleProp,
  ɵɵtemplate,
  ɵɵtemplateRefExtractor,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtextInterpolate2,
  ɵɵtextInterpolate3,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty,
  ɵɵviewQuery
} from "./chunk-7JZMUYI4.js";
import {
  __spreadProps,
  __spreadValues,
  __toESM
} from "./chunk-TXDUYLVM.js";

// src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.ts
function ArchiveConfirmationModalComponent_div_0_span_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2("Archive ", ctx_r1.selectedCount, " Asset", ctx_r1.selectedCount !== 1 ? "s" : "", "");
  }
}
function ArchiveConfirmationModalComponent_div_0_span_33_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 28);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 29);
    \u0275\u0275element(2, "circle", 30)(3, "path", 31);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Archiving...");
    \u0275\u0275elementEnd()();
  }
}
function ArchiveConfirmationModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 6);
    \u0275\u0275element(6, "path", 7);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 8);
    \u0275\u0275text(8, "Archive Selected Assets");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 9);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 10);
    \u0275\u0275element(11, "path", 11);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 12)(13, "div", 13)(14, "label", 14);
    \u0275\u0275text(15, "Archive Reason (Optional)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "textarea", 15);
    \u0275\u0275twoWayListener("ngModelChange", function ArchiveConfirmationModalComponent_div_0_Template_textarea_ngModelChange_16_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.archiveReason, $event) || (ctx_r1.archiveReason = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "p", 16);
    \u0275\u0275text(18, "This will be recorded in the audit trail");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 17)(20, "div", 18);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(21, "svg", 19);
    \u0275\u0275element(22, "path", 7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(23, "div", 20)(24, "h3", 21);
    \u0275\u0275text(25);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "p", 22);
    \u0275\u0275text(27, " This will change their status to inactive but keep all data intact. ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(28, "div", 23)(29, "button", 24);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_29_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(30, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "button", 25);
    \u0275\u0275listener("click", function ArchiveConfirmationModalComponent_div_0_Template_button_click_31_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onConfirm());
    });
    \u0275\u0275template(32, ArchiveConfirmationModalComponent_div_0_span_32_Template, 2, 2, "span", 26)(33, ArchiveConfirmationModalComponent_div_0_span_33_Template, 6, 0, "span", 27);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance();
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(8);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(7);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.archiveReason);
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate2("Are you sure you want to archive ", ctx_r1.selectedCount, " asset", ctx_r1.selectedCount !== 1 ? "s" : "", "?");
    \u0275\u0275advance(4);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var ArchiveConfirmationModalComponent = class _ArchiveConfirmationModalComponent {
  isOpen = false;
  selectedCount = 0;
  closeModal = new EventEmitter();
  confirmArchive = new EventEmitter();
  loading = false;
  archiveReason = "";
  onConfirm() {
    this.loading = true;
    this.confirmArchive.emit(this.archiveReason);
    setTimeout(() => {
      this.loading = false;
      this.archiveReason = "";
    }, 2e3);
  }
  onCancel() {
    if (this.loading)
      return;
    this.archiveReason = "";
    this.closeModal.emit();
  }
  static \u0275fac = function ArchiveConfirmationModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _ArchiveConfirmationModalComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _ArchiveConfirmationModalComponent, selectors: [["app-archive-confirmation-modal"]], inputs: { isOpen: "isOpen", selectedCount: "selectedCount" }, outputs: { closeModal: "closeModal", confirmArchive: "confirmArchive" }, decls: 1, vars: 1, consts: [["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-2xl", "shadow-xl", "max-w-md", "w-full"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-orange-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-orange-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "p-6"], [1, "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["rows", "3", "placeholder", "Enter reason for archiving these assets...", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-orange-500", "focus:border-transparent", "resize-none", "placeholder-gray-400", 3, "ngModelChange", "ngModel"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "justify-center", "mb-4"], [1, "w-16", "h-16", "bg-orange-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-orange-600"], [1, "text-center", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900", "mb-2"], [1, "text-gray-600"], [1, "flex", "items-center", "justify-end", "space-x-3"], [1, "px-6", "py-2", "text-gray-600", "hover:text-gray-800", "font-medium", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], [1, "px-6", "py-2", "bg-orange-600", "text-white", "font-medium", "rounded-lg", "hover:bg-orange-700", "focus:outline-none", "focus:ring-2", "focus:ring-orange-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], [4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "flex", "items-center", "space-x-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-4", "w-4"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function ArchiveConfirmationModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, ArchiveConfirmationModalComponent_div_0_Template, 34, 10, "div", 0);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgIf, FormsModule, DefaultValueAccessor, NgControlStatus, NgModel], styles: ["\n\n.modal-backdrop[_ngcontent-%COMP%] {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_pulse 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=archive-confirmation-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(ArchiveConfirmationModalComponent, [{
    type: Component,
    args: [{ selector: "app-archive-confirmation-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<!-- Archive Confirmation Modal -->\r
<div *ngIf="isOpen"\r
     class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4"\r
     [@backdropAnimation]>\r
  <!-- Modal Container -->\r
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full"\r
       [@modalAnimation]>\r
    <!-- Modal Header -->\r
    <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
      <div class="flex items-center space-x-3">\r
        <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">\r
          <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
          </svg>\r
        </div>\r
        <h2 class="text-xl font-semibold text-gray-900">Archive Selected Assets</h2>\r
      </div>\r
      <button\r
        (click)="onCancel()"\r
        [disabled]="loading"\r
        class="p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50">\r
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
        </svg>\r
      </button>\r
    </div>\r
\r
    <!-- Modal Content -->\r
    <div class="p-6">\r
      <!-- Archive Reason Input -->\r
      <div class="mb-6">\r
        <label class="block text-sm font-medium text-gray-700 mb-2">Archive Reason (Optional)</label>\r
        <textarea\r
          [(ngModel)]="archiveReason"\r
          rows="3"\r
          placeholder="Enter reason for archiving these assets..."\r
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none placeholder-gray-400"></textarea>\r
        <p class="text-xs text-gray-500 mt-1">This will be recorded in the audit trail</p>\r
      </div>\r
\r
      <!-- Warning Icon -->\r
      <div class="flex justify-center mb-4">\r
        <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center">\r
          <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Confirmation Message -->\r
      <div class="text-center mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Are you sure you want to archive {{selectedCount}} asset{{selectedCount !== 1 ? 's' : ''}}?</h3>\r
        <p class="text-gray-600">\r
          This will change their status to inactive but keep all data intact.\r
        </p>\r
      </div>\r
\r
      <!-- Action Buttons -->\r
      <div class="flex items-center justify-end space-x-3">\r
        <button\r
          (click)="onCancel()"\r
          [disabled]="loading"\r
          class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50">\r
          Cancel\r
        </button>\r
\r
        <button\r
          (click)="onConfirm()"\r
          [disabled]="loading"\r
          class="px-6 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          <span *ngIf="!loading">Archive {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}</span>\r
          <span *ngIf="loading" class="flex items-center space-x-2">\r
            <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Archiving...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.scss */\n.modal-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon {\n  animation: pulse 2s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=archive-confirmation-modal.component.css.map */\n"] }]
  }], null, { isOpen: [{
    type: Input
  }], selectedCount: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], confirmArchive: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(ArchiveConfirmationModalComponent, { className: "ArchiveConfirmationModalComponent", filePath: "src/app/assets/components/archive-confirmation-modal/archive-confirmation-modal.component.ts", lineNumber: 42 });
})();

// src/app/assets/components/delete-confirmation-modal/delete-confirmation-modal.component.ts
function DeleteConfirmationModalComponent_div_0_span_35_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2("Delete ", ctx_r1.selectedCount, " Asset", ctx_r1.selectedCount !== 1 ? "s" : "", "");
  }
}
function DeleteConfirmationModalComponent_div_0_span_36_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 30);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 31);
    \u0275\u0275element(2, "circle", 32)(3, "path", 33);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Deleting...");
    \u0275\u0275elementEnd()();
  }
}
function DeleteConfirmationModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 6);
    \u0275\u0275element(6, "path", 7);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 8);
    \u0275\u0275text(8, "Delete Selected Assets");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 9);
    \u0275\u0275listener("click", function DeleteConfirmationModalComponent_div_0_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 10);
    \u0275\u0275element(11, "path", 11);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 12)(13, "div", 13)(14, "label", 14);
    \u0275\u0275text(15, "Deletion Reason (Optional)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "textarea", 15);
    \u0275\u0275twoWayListener("ngModelChange", function DeleteConfirmationModalComponent_div_0_Template_textarea_ngModelChange_16_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.deletionReason, $event) || (ctx_r1.deletionReason = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "p", 16);
    \u0275\u0275text(18, "This will be recorded in the audit trail");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 17)(20, "div", 18);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(21, "svg", 19);
    \u0275\u0275element(22, "path", 7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(23, "div", 20)(24, "h3", 21);
    \u0275\u0275text(25);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "p", 22);
    \u0275\u0275text(27, " This action cannot be undone. The assets will be permanently removed from the system. ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(28, "div", 23)(29, "p", 24);
    \u0275\u0275text(30, " \u26A0\uFE0F Warning: Only archived assets can be permanently deleted ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(31, "div", 25)(32, "button", 26);
    \u0275\u0275listener("click", function DeleteConfirmationModalComponent_div_0_Template_button_click_32_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(33, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "button", 27);
    \u0275\u0275listener("click", function DeleteConfirmationModalComponent_div_0_Template_button_click_34_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onConfirm());
    });
    \u0275\u0275template(35, DeleteConfirmationModalComponent_div_0_span_35_Template, 2, 2, "span", 28)(36, DeleteConfirmationModalComponent_div_0_span_36_Template, 6, 0, "span", 29);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance();
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(8);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(7);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.deletionReason);
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate2("Are you sure you want to permanently delete ", ctx_r1.selectedCount, " asset", ctx_r1.selectedCount !== 1 ? "s" : "", "?");
    \u0275\u0275advance(7);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var DeleteConfirmationModalComponent = class _DeleteConfirmationModalComponent {
  isOpen = false;
  selectedCount = 0;
  closeModal = new EventEmitter();
  confirmDelete = new EventEmitter();
  loading = false;
  deletionReason = "";
  onConfirm() {
    this.loading = true;
    this.confirmDelete.emit(this.deletionReason);
    setTimeout(() => {
      this.loading = false;
      this.deletionReason = "";
    }, 2e3);
  }
  onCancel() {
    if (this.loading)
      return;
    this.deletionReason = "";
    this.closeModal.emit();
  }
  static \u0275fac = function DeleteConfirmationModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _DeleteConfirmationModalComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _DeleteConfirmationModalComponent, selectors: [["app-delete-confirmation-modal"]], inputs: { isOpen: "isOpen", selectedCount: "selectedCount" }, outputs: { closeModal: "closeModal", confirmDelete: "confirmDelete" }, decls: 1, vars: 1, consts: [["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-2xl", "shadow-xl", "max-w-md", "w-full"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-red-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "p-6"], [1, "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["rows", "3", "placeholder", "Enter reason for permanently deleting these assets...", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-red-500", "focus:border-transparent", "resize-none", "placeholder-gray-400", 3, "ngModelChange", "ngModel"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "justify-center", "mb-4"], [1, "w-16", "h-16", "bg-red-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], [1, "text-center", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900", "mb-2"], [1, "text-gray-600"], [1, "mt-4", "p-3", "bg-red-50", "border", "border-red-200", "rounded-lg"], [1, "text-red-800", "text-sm", "font-medium"], [1, "flex", "items-center", "justify-end", "space-x-3"], [1, "px-6", "py-2", "text-gray-600", "hover:text-gray-800", "font-medium", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], [1, "px-6", "py-2", "bg-red-600", "text-white", "font-medium", "rounded-lg", "hover:bg-red-700", "focus:outline-none", "focus:ring-2", "focus:ring-red-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], [4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "flex", "items-center", "space-x-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-4", "w-4"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function DeleteConfirmationModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, DeleteConfirmationModalComponent_div_0_Template, 37, 10, "div", 0);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgIf, FormsModule, DefaultValueAccessor, NgControlStatus, NgModel], styles: ["\n\n.modal-backdrop[_ngcontent-%COMP%] {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_pulse 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=delete-confirmation-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(DeleteConfirmationModalComponent, [{
    type: Component,
    args: [{ selector: "app-delete-confirmation-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<!-- Delete Confirmation Modal -->\r
<div *ngIf="isOpen"\r
     class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4"\r
     [@backdropAnimation]>\r
  <!-- Modal Container -->\r
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full"\r
       [@modalAnimation]>\r
    <!-- Modal Header -->\r
    <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
      <div class="flex items-center space-x-3">\r
        <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">\r
          <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
          </svg>\r
        </div>\r
        <h2 class="text-xl font-semibold text-gray-900">Delete Selected Assets</h2>\r
      </div>\r
      <button\r
        (click)="onCancel()"\r
        [disabled]="loading"\r
        class="p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50">\r
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
        </svg>\r
      </button>\r
    </div>\r
\r
    <!-- Modal Content -->\r
    <div class="p-6">\r
      <!-- Deletion Reason Input -->\r
      <div class="mb-6">\r
        <label class="block text-sm font-medium text-gray-700 mb-2">Deletion Reason (Optional)</label>\r
        <textarea\r
          [(ngModel)]="deletionReason"\r
          rows="3"\r
          placeholder="Enter reason for permanently deleting these assets..."\r
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none placeholder-gray-400"></textarea>\r
        <p class="text-xs text-gray-500 mt-1">This will be recorded in the audit trail</p>\r
      </div>\r
\r
      <!-- Warning Icon -->\r
      <div class="flex justify-center mb-4">\r
        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center">\r
          <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Confirmation Message -->\r
      <div class="text-center mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Are you sure you want to permanently delete {{selectedCount}} asset{{selectedCount !== 1 ? 's' : ''}}?</h3>\r
        <p class="text-gray-600">\r
          This action cannot be undone. The assets will be permanently removed from the system.\r
        </p>\r
        <div class="mt-4 p-3 bg-red-50 border border-red-200 rounded-lg">\r
          <p class="text-red-800 text-sm font-medium">\r
            \u26A0\uFE0F Warning: Only archived assets can be permanently deleted\r
          </p>\r
        </div>\r
      </div>\r
\r
      <!-- Action Buttons -->\r
      <div class="flex items-center justify-end space-x-3">\r
        <button\r
          (click)="onCancel()"\r
          [disabled]="loading"\r
          class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50">\r
          Cancel\r
        </button>\r
\r
        <button\r
          (click)="onConfirm()"\r
          [disabled]="loading"\r
          class="px-6 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          <span *ngIf="!loading">Delete {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}</span>\r
          <span *ngIf="loading" class="flex items-center space-x-2">\r
            <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Deleting...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/delete-confirmation-modal/delete-confirmation-modal.component.scss */\n.modal-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.warning-icon {\n  animation: pulse 2s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=delete-confirmation-modal.component.css.map */\n"] }]
  }], null, { isOpen: [{
    type: Input
  }], selectedCount: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], confirmDelete: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(DeleteConfirmationModalComponent, { className: "DeleteConfirmationModalComponent", filePath: "src/app/assets/components/delete-confirmation-modal/delete-confirmation-modal.component.ts", lineNumber: 42 });
})();

// src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.ts
function RestoreConfirmationModalComponent_div_0_span_38_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" Restore ", ctx_r1.selectedCount, " Asset", ctx_r1.selectedCount !== 1 ? "s" : "", " ");
  }
}
function RestoreConfirmationModalComponent_div_0_span_39_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 33);
    \u0275\u0275element(2, "circle", 34)(3, "path", 35);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Restoring...");
    \u0275\u0275elementEnd()();
  }
}
function RestoreConfirmationModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 6);
    \u0275\u0275element(6, "path", 7);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 8);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 9);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 10);
    \u0275\u0275element(11, "path", 11);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 12)(13, "div", 13)(14, "div", 14);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(15, "svg", 15);
    \u0275\u0275element(16, "path", 7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(17, "div", 16)(18, "h3", 17);
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "p", 18);
    \u0275\u0275text(21);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "div", 19)(23, "label", 20);
    \u0275\u0275text(24, "Restore Reason (Optional)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "textarea", 21);
    \u0275\u0275twoWayListener("ngModelChange", function RestoreConfirmationModalComponent_div_0_Template_textarea_ngModelChange_25_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.restoreReason, $event) || (ctx_r1.restoreReason = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "p", 22);
    \u0275\u0275text(27, "This will be recorded in the audit trail");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(28, "div", 23)(29, "div", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(30, "svg", 25);
    \u0275\u0275element(31, "path", 26);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(32, "p", 27);
    \u0275\u0275text(33, " Assets will be restored to active status ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(34, "div", 28)(35, "button", 29);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_35_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(36, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "button", 30);
    \u0275\u0275listener("click", function RestoreConfirmationModalComponent_div_0_Template_button_click_37_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onConfirm());
    });
    \u0275\u0275template(38, RestoreConfirmationModalComponent_div_0_span_38_Template, 2, 2, "span", 31)(39, RestoreConfirmationModalComponent_div_0_span_39_Template, 6, 0, "span", 32);
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance();
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedCount > 1 ? "Restore Selected Assets" : "Restore Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate1(" Are you sure you want to restore ", ctx_r1.selectedCount > 1 ? ctx_r1.selectedCount + " assets" : ctx_r1.assetName || "1 asset", "? ");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedCount > 1 ? "These assets will be moved back to active status and become available in searches." : "This asset will be moved back to active status and become available in searches.", " ");
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.restoreReason);
    \u0275\u0275property("placeholder", "Enter reason for restoring " + (ctx_r1.selectedCount > 1 ? "these assets" : "this asset") + "...");
    \u0275\u0275advance(10);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var RestoreConfirmationModalComponent = class _RestoreConfirmationModalComponent {
  isOpen = false;
  selectedCount = 0;
  assetName = "";
  closeModal = new EventEmitter();
  confirmRestore = new EventEmitter();
  loading = false;
  restoreReason = "";
  onConfirm() {
    this.loading = true;
    this.confirmRestore.emit(this.restoreReason);
    setTimeout(() => {
      this.loading = false;
      this.restoreReason = "";
    }, 2e3);
  }
  onCancel() {
    if (this.loading)
      return;
    this.restoreReason = "";
    this.closeModal.emit();
  }
  static \u0275fac = function RestoreConfirmationModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _RestoreConfirmationModalComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _RestoreConfirmationModalComponent, selectors: [["app-restore-confirmation-modal"]], inputs: { isOpen: "isOpen", selectedCount: "selectedCount", assetName: "assetName" }, outputs: { closeModal: "closeModal", confirmRestore: "confirmRestore" }, decls: 1, vars: 1, consts: [["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-2xl", "shadow-xl", "max-w-md", "w-full"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "p-6"], [1, "flex", "justify-center", "mb-6"], [1, "w-16", "h-16", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-green-600"], [1, "text-center", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900", "mb-3"], [1, "text-gray-600", "mb-4"], [1, "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["rows", "3", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-green-500", "focus:border-transparent", "resize-none", "placeholder-gray-400", 3, "ngModelChange", "ngModel", "placeholder"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "bg-green-50", "border", "border-green-200", "rounded-lg", "p-3", "mb-6"], [1, "flex", "items-center", "space-x-2"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-green-800", "text-sm", "font-medium"], [1, "flex", "items-center", "justify-end", "space-x-3"], [1, "px-6", "py-2", "text-gray-600", "hover:text-gray-800", "font-medium", "transition-colors", "disabled:opacity-50", 3, "click", "disabled"], [1, "px-6", "py-2", "bg-green-600", "text-white", "font-medium", "rounded-lg", "hover:bg-green-700", "focus:outline-none", "focus:ring-2", "focus:ring-green-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], [4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-4", "w-4"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function RestoreConfirmationModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, RestoreConfirmationModalComponent_div_0_Template, 40, 12, "div", 0);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgIf, FormsModule, DefaultValueAccessor, NgControlStatus, NgModel], styles: ["\n\n.modal-backdrop[_ngcontent-%COMP%] {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.success-icon[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_pulse 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=restore-confirmation-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(RestoreConfirmationModalComponent, [{
    type: Component,
    args: [{ selector: "app-restore-confirmation-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<!-- Restore Confirmation Modal -->\r
<div *ngIf="isOpen"\r
     class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4"\r
     [@backdropAnimation]>\r
  <!-- Modal Container -->\r
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full"\r
       [@modalAnimation]>\r
    <!-- Modal Header -->\r
    <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
      <div class="flex items-center space-x-3">\r
        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
          <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
          </svg>\r
        </div>\r
        <h2 class="text-xl font-semibold text-gray-900">\r
          {{selectedCount > 1 ? 'Restore Selected Assets' : 'Restore Asset'}}\r
        </h2>\r
      </div>\r
      <button\r
        (click)="onCancel()"\r
        [disabled]="loading"\r
        class="p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50">\r
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
        </svg>\r
      </button>\r
    </div>\r
\r
    <!-- Modal Content -->\r
    <div class="p-6">\r
      <!-- Success Icon -->\r
      <div class="flex justify-center mb-6">\r
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">\r
          <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Confirmation Message -->\r
      <div class="text-center mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900 mb-3">\r
          Are you sure you want to restore {{selectedCount > 1 ? selectedCount + ' assets' : (assetName || '1 asset')}}?\r
        </h3>\r
        <p class="text-gray-600 mb-4">\r
          {{selectedCount > 1 ? \r
            'These assets will be moved back to active status and become available in searches.' : \r
            'This asset will be moved back to active status and become available in searches.'}}\r
        </p>\r
      </div>\r
\r
      <!-- Restore Reason Input -->\r
      <div class="mb-6">\r
        <label class="block text-sm font-medium text-gray-700 mb-2">Restore Reason (Optional)</label>\r
        <textarea\r
          [(ngModel)]="restoreReason"\r
          rows="3"\r
          [placeholder]="'Enter reason for restoring ' + (selectedCount > 1 ? 'these assets' : 'this asset') + '...'"\r
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none placeholder-gray-400"></textarea>\r
        <p class="text-xs text-gray-500 mt-1">This will be recorded in the audit trail</p>\r
      </div>\r
\r
      <!-- Info Box -->\r
      <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-6">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <p class="text-green-800 text-sm font-medium">\r
            Assets will be restored to active status\r
          </p>\r
        </div>\r
      </div>\r
\r
      <!-- Action Buttons -->\r
      <div class="flex items-center justify-end space-x-3">\r
        <button\r
          (click)="onCancel()"\r
          [disabled]="loading"\r
          class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors disabled:opacity-50">\r
          Cancel\r
        </button>\r
\r
        <button\r
          (click)="onConfirm()"\r
          [disabled]="loading"\r
          class="px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          <span *ngIf="!loading">\r
            Restore {{selectedCount}} Asset{{selectedCount !== 1 ? 's' : ''}}\r
          </span>\r
          <span *ngIf="loading" class="flex items-center space-x-2">\r
            <svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Restoring...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.scss */\n.modal-backdrop {\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.success-icon {\n  animation: pulse 2s infinite;\n}\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .modal-container {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n}\n/*# sourceMappingURL=restore-confirmation-modal.component.css.map */\n"] }]
  }], null, { isOpen: [{
    type: Input
  }], selectedCount: [{
    type: Input
  }], assetName: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], confirmRestore: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(RestoreConfirmationModalComponent, { className: "RestoreConfirmationModalComponent", filePath: "src/app/assets/components/restore-confirmation-modal/restore-confirmation-modal.component.ts", lineNumber: 42 });
})();

// src/app/shared/components/pagination/pagination.component.ts
function PaginationComponent_div_1_option_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "option", 11);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const option_r3 = ctx.$implicit;
    \u0275\u0275property("value", option_r3);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", option_r3, " ");
  }
}
function PaginationComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 6)(1, "label", 7);
    \u0275\u0275text(2, "Show:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "select", 8);
    \u0275\u0275listener("change", function PaginationComponent_div_1_Template_select_change_3_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onPerPageChange($event));
    });
    \u0275\u0275template(4, PaginationComponent_div_1_option_4_Template, 2, 2, "option", 9);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span", 10);
    \u0275\u0275text(6, "per page");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275property("value", ctx_r1.pagination.per_page);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.perPageOptions);
  }
}
function PaginationComponent_div_2_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 21);
    \u0275\u0275listener("click", function PaginationComponent_div_2_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r5);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.goToPage(1));
    });
    \u0275\u0275text(1, " 1 ");
    \u0275\u0275elementEnd();
  }
}
function PaginationComponent_div_2_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 22);
    \u0275\u0275text(1, " ... ");
    \u0275\u0275elementEnd();
  }
}
function PaginationComponent_div_2_button_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 23);
    \u0275\u0275listener("click", function PaginationComponent_div_2_button_7_Template_button_click_0_listener() {
      const page_r7 = \u0275\u0275restoreView(_r6).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.goToPage(page_r7));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const page_r7 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classMap(ctx_r1.pagination.current_page === page_r7 ? "bg-blue-600 text-white border-blue-600 shadow-sm" : "bg-white text-gray-500 border-gray-300 hover:bg-gray-50 hover:text-gray-700");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", page_r7, " ");
  }
}
function PaginationComponent_div_2_span_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 22);
    \u0275\u0275text(1, " ... ");
    \u0275\u0275elementEnd();
  }
}
function PaginationComponent_div_2_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 21);
    \u0275\u0275listener("click", function PaginationComponent_div_2_button_9_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r8);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.goToPage(ctx_r1.pagination.last_page));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.pagination.last_page, " ");
  }
}
function PaginationComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 12)(1, "nav", 13)(2, "button", 14);
    \u0275\u0275listener("click", function PaginationComponent_div_2_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.previousPage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 15);
    \u0275\u0275element(4, "path", 16);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(5, PaginationComponent_div_2_button_5_Template, 2, 0, "button", 17)(6, PaginationComponent_div_2_span_6_Template, 2, 0, "span", 18)(7, PaginationComponent_div_2_button_7_Template, 2, 3, "button", 19)(8, PaginationComponent_div_2_span_8_Template, 2, 0, "span", 18)(9, PaginationComponent_div_2_button_9_Template, 2, 1, "button", 17);
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "button", 14);
    \u0275\u0275listener("click", function PaginationComponent_div_2_Template_button_click_10_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.nextPage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(11, "svg", 15);
    \u0275\u0275element(12, "path", 20);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.pagination.current_page === 1);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.visiblePages.length > 0 && ctx_r1.visiblePages[0] > 1);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showStartEllipsis);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.visiblePages);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showEndEllipsis);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.visiblePages.length > 0 && ctx_r1.visiblePages[ctx_r1.visiblePages.length - 1] < ctx_r1.pagination.last_page);
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.pagination.current_page === ctx_r1.pagination.last_page);
  }
}
function PaginationComponent_div_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 24)(1, "label", 25);
    \u0275\u0275text(2, "Go to:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "input", 26);
    \u0275\u0275twoWayListener("ngModelChange", function PaginationComponent_div_6_Template_input_ngModelChange_3_listener($event) {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.jumpToPage, $event) || (ctx_r1.jumpToPage = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("keyup.enter", function PaginationComponent_div_6_Template_input_keyup_enter_3_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onJumpToPage());
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 27);
    \u0275\u0275listener("click", function PaginationComponent_div_6_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onJumpToPage());
    });
    \u0275\u0275text(5, " Go ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.jumpToPage);
    \u0275\u0275property("min", 1)("max", ctx_r1.pagination.last_page)("placeholder", ctx_r1.pagination.current_page.toString());
    \u0275\u0275advance();
    \u0275\u0275property("disabled", !ctx_r1.jumpToPage || ctx_r1.jumpToPage < 1 || ctx_r1.jumpToPage > ctx_r1.pagination.last_page);
  }
}
var PaginationComponent = class _PaginationComponent {
  pagination;
  showPerPageSelector = true;
  showJumpToPage = true;
  perPageOptions = [10, 20, 50, 100];
  maxVisiblePages = 7;
  pageChange = new EventEmitter();
  perPageChange = new EventEmitter();
  jumpToPage = null;
  visiblePages = [];
  ngOnChanges(changes) {
    if (changes["pagination"]) {
      this.calculateVisiblePages();
      this.jumpToPage = this.pagination.current_page;
    }
  }
  /**
   * Calculate which page numbers to show
   */
  calculateVisiblePages() {
    const current = this.pagination.current_page;
    const total = this.pagination.last_page;
    const maxVisible = this.maxVisiblePages;
    this.visiblePages = [];
    if (total <= maxVisible) {
      for (let i = 1; i <= total; i++) {
        this.visiblePages.push(i);
      }
    } else {
      let start = Math.max(1, current - Math.floor(maxVisible / 2));
      let end = Math.min(total, start + maxVisible - 1);
      if (end - start + 1 < maxVisible) {
        start = Math.max(1, end - maxVisible + 1);
      }
      for (let i = start; i <= end; i++) {
        this.visiblePages.push(i);
      }
    }
  }
  /**
   * Navigate to a specific page
   */
  goToPage(page) {
    if (page >= 1 && page <= this.pagination.last_page && page !== this.pagination.current_page) {
      this.pageChange.emit(page);
    }
  }
  /**
   * Change items per page
   */
  onPerPageChange(event) {
    const newPerPage = parseInt(event.target.value);
    if (newPerPage !== this.pagination.per_page) {
      this.perPageChange.emit(newPerPage);
    }
  }
  /**
   * Jump to a specific page using input
   */
  onJumpToPage() {
    if (this.jumpToPage && this.jumpToPage >= 1 && this.jumpToPage <= this.pagination.last_page) {
      this.goToPage(this.jumpToPage);
    }
  }
  /**
   * Go to previous page
   */
  previousPage() {
    if (this.pagination.current_page > 1) {
      this.goToPage(this.pagination.current_page - 1);
    }
  }
  /**
   * Go to next page
   */
  nextPage() {
    if (this.pagination.current_page < this.pagination.last_page) {
      this.goToPage(this.pagination.current_page + 1);
    }
  }
  /**
   * Check if we should show ellipsis before pages
   */
  get showStartEllipsis() {
    return this.visiblePages.length > 0 && this.visiblePages[0] > 2;
  }
  /**
   * Check if we should show ellipsis after pages
   */
  get showEndEllipsis() {
    return this.visiblePages.length > 0 && this.visiblePages[this.visiblePages.length - 1] < this.pagination.last_page - 1;
  }
  static \u0275fac = function PaginationComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _PaginationComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _PaginationComponent, selectors: [["app-pagination"]], inputs: { pagination: "pagination", showPerPageSelector: "showPerPageSelector", showJumpToPage: "showJumpToPage", perPageOptions: "perPageOptions", maxVisiblePages: "maxVisiblePages" }, outputs: { pageChange: "pageChange", perPageChange: "perPageChange" }, features: [\u0275\u0275NgOnChangesFeature], decls: 7, vars: 6, consts: [[1, "flex", "flex-col", "sm:flex-row", "sm:items-center", "sm:justify-between", "bg-white", "px-6", "py-4", "border-t", "border-gray-200"], ["class", "flex items-center space-x-2 mb-4 sm:mb-0", 4, "ngIf"], ["class", "flex items-center justify-center mb-4 sm:mb-0", 4, "ngIf"], [1, "flex", "flex-col", "sm:flex-row", "sm:items-center", "sm:space-x-4"], [1, "text-sm", "text-gray-700", "text-center", "sm:text-left", "mb-2", "sm:mb-0"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "flex", "items-center", "space-x-2", "mb-4", "sm:mb-0"], ["for", "per-page", 1, "text-sm", "text-gray-700"], ["id", "per-page", 1, "px-3", "py-1", "border", "border-gray-300", "rounded-lg", "text-sm", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", 3, "change", "value"], [3, "value", 4, "ngFor", "ngForOf"], [1, "text-sm", "text-gray-700"], [3, "value"], [1, "flex", "items-center", "justify-center", "mb-4", "sm:mb-0"], ["aria-label", "Pagination", 1, "flex", "items-center", "space-x-1"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-sm", "font-medium", "rounded-lg", "transition-colors", "disabled:opacity-50", "disabled:cursor-not-allowed", "enabled:hover:bg-gray-50", "enabled:text-gray-700", "bg-white", "border", "border-gray-300", "text-gray-500", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], ["class", "flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors\n               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700", 3, "click", 4, "ngIf"], ["class", "flex items-center justify-center w-10 h-10 text-gray-400", 4, "ngIf"], ["class", "flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg border transition-colors", 3, "class", "click", 4, "ngFor", "ngForOf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 5l7 7-7 7"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-sm", "font-medium", "rounded-lg", "transition-colors", "bg-white", "text-gray-500", "border", "border-gray-300", "hover:bg-gray-50", "hover:text-gray-700", 3, "click"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-gray-400"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-sm", "font-medium", "rounded-lg", "border", "transition-colors", 3, "click"], [1, "flex", "items-center", "space-x-2"], ["for", "jump-page", 1, "text-sm", "text-gray-700"], ["id", "jump-page", "type", "number", 1, "w-16", "px-2", "py-1", "border", "border-gray-300", "rounded", "text-sm", "text-center", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", 3, "ngModelChange", "keyup.enter", "ngModel", "min", "max", "placeholder"], [1, "px-3", "py-1", "bg-blue-600", "text-white", "text-sm", "rounded", "hover:bg-blue-700", "disabled:opacity-50", "disabled:cursor-not-allowed", "transition-colors", 3, "click", "disabled"]], template: function PaginationComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 0);
      \u0275\u0275template(1, PaginationComponent_div_1_Template, 7, 2, "div", 1)(2, PaginationComponent_div_2_Template, 13, 7, "div", 2);
      \u0275\u0275elementStart(3, "div", 3)(4, "div", 4);
      \u0275\u0275text(5);
      \u0275\u0275elementEnd();
      \u0275\u0275template(6, PaginationComponent_div_6_Template, 6, 5, "div", 5);
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showPerPageSelector);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.pagination.last_page > 1);
      \u0275\u0275advance(3);
      \u0275\u0275textInterpolate3(" Showing ", ctx.pagination.from, " - ", ctx.pagination.to, " of ", ctx.pagination.total, " entries ");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showJumpToPage && ctx.pagination.last_page > 10);
    }
  }, dependencies: [CommonModule, NgForOf, NgIf, FormsModule, NgSelectOption, \u0275NgSelectMultipleOption, DefaultValueAccessor, NumberValueAccessor, NgControlStatus, MinValidator, MaxValidator, NgModel], styles: ["\n\n/*# sourceMappingURL=pagination.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(PaginationComponent, [{
    type: Component,
    args: [{ selector: "app-pagination", standalone: true, imports: [CommonModule, FormsModule], template: `<!-- Pagination Component -->\r
<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between bg-white px-6 py-4 border-t border-gray-200">\r
  \r
  <!-- Left: Per Page Selector -->\r
  <div *ngIf="showPerPageSelector" class="flex items-center space-x-2 mb-4 sm:mb-0">\r
    <label for="per-page" class="text-sm text-gray-700">Show:</label>\r
    <select\r
      id="per-page"\r
      [value]="pagination.per_page"\r
      (change)="onPerPageChange($event)"\r
      class="px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">\r
      <option *ngFor="let option of perPageOptions" [value]="option">\r
        {{ option }}\r
      </option>\r
    </select>\r
    <span class="text-sm text-gray-700">per page</span>\r
  </div>\r
\r
  <!-- Center: Pagination Controls -->\r
  <div *ngIf="pagination.last_page > 1" class="flex items-center justify-center mb-4 sm:mb-0">\r
    <nav class="flex items-center space-x-1" aria-label="Pagination">\r
      \r
      <!-- Previous Button -->\r
      <button\r
        (click)="previousPage()"\r
        [disabled]="pagination.current_page === 1"\r
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors\r
               disabled:opacity-50 disabled:cursor-not-allowed\r
               enabled:hover:bg-gray-50 enabled:text-gray-700\r
               bg-white border border-gray-300 text-gray-500">\r
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
        </svg>\r
      </button>\r
\r
      <!-- First Page (if not in visible range) -->\r
      <button\r
        *ngIf="visiblePages.length > 0 && visiblePages[0] > 1"\r
        (click)="goToPage(1)"\r
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors\r
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700">\r
        1\r
      </button>\r
\r
      <!-- Start Ellipsis -->\r
      <span *ngIf="showStartEllipsis" class="flex items-center justify-center w-10 h-10 text-gray-400">\r
        ...\r
      </span>\r
\r
      <!-- Page Numbers -->\r
      <button\r
        *ngFor="let page of visiblePages"\r
        (click)="goToPage(page)"\r
        [class]="pagination.current_page === page ? \r
                  'bg-blue-600 text-white border-blue-600 shadow-sm' : \r
                  'bg-white text-gray-500 border-gray-300 hover:bg-gray-50 hover:text-gray-700'"\r
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg border transition-colors">\r
        {{ page }}\r
      </button>\r
\r
      <!-- End Ellipsis -->\r
      <span *ngIf="showEndEllipsis" class="flex items-center justify-center w-10 h-10 text-gray-400">\r
        ...\r
      </span>\r
\r
      <!-- Last Page (if not in visible range) -->\r
      <button\r
        *ngIf="visiblePages.length > 0 && visiblePages[visiblePages.length - 1] < pagination.last_page"\r
        (click)="goToPage(pagination.last_page)"\r
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors\r
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700">\r
        {{ pagination.last_page }}\r
      </button>\r
\r
      <!-- Next Button -->\r
      <button\r
        (click)="nextPage()"\r
        [disabled]="pagination.current_page === pagination.last_page"\r
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors\r
               disabled:opacity-50 disabled:cursor-not-allowed\r
               enabled:hover:bg-gray-50 enabled:text-gray-700\r
               bg-white border border-gray-300 text-gray-500">\r
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
        </svg>\r
      </button>\r
\r
    </nav>\r
  </div>\r
\r
  <!-- Right: Pagination Info and Jump to Page -->\r
  <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">\r
    \r
    <!-- Pagination Info -->\r
    <div class="text-sm text-gray-700 text-center sm:text-left mb-2 sm:mb-0">\r
      Showing {{ pagination.from }} - {{ pagination.to }} of {{ pagination.total }} entries\r
    </div>\r
\r
    <!-- Jump to Page (only show if there are many pages) -->\r
    <div *ngIf="showJumpToPage && pagination.last_page > 10" class="flex items-center space-x-2">\r
      <label for="jump-page" class="text-sm text-gray-700">Go to:</label>\r
      <input\r
        id="jump-page"\r
        type="number"\r
        [(ngModel)]="jumpToPage"\r
        [min]="1"\r
        [max]="pagination.last_page"\r
        (keyup.enter)="onJumpToPage()"\r
        class="w-16 px-2 py-1 border border-gray-300 rounded text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"\r
        [placeholder]="pagination.current_page.toString()">\r
      <button\r
        (click)="onJumpToPage()"\r
        [disabled]="!jumpToPage || jumpToPage < 1 || jumpToPage > pagination.last_page"\r
        class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">\r
        Go\r
      </button>\r
    </div>\r
\r
  </div>\r
\r
</div>`, styles: ["/* src/app/shared/components/pagination/pagination.component.scss */\n/*# sourceMappingURL=pagination.component.css.map */\n"] }]
  }], null, { pagination: [{
    type: Input
  }], showPerPageSelector: [{
    type: Input
  }], showJumpToPage: [{
    type: Input
  }], perPageOptions: [{
    type: Input
  }], maxVisiblePages: [{
    type: Input
  }], pageChange: [{
    type: Output
  }], perPageChange: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(PaginationComponent, { className: "PaginationComponent", filePath: "src/app/shared/components/pagination/pagination.component.ts", lineNumber: 21 });
})();

// src/app/assets/asset-list/asset-list.component.ts
var QRCode = __toESM(require_browser());
var _c0 = (a0) => ({ "bg-blue-100": a0 });
var _c1 = (a0) => ({ "bg-blue-100 font-semibold": a0 });
function AssetListComponent_div_18__svg_path_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275element(0, "path", 105);
  }
}
function AssetListComponent_div_18__svg_path_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275element(0, "path", 106);
  }
}
function AssetListComponent_div_18__svg_svg_18_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 87);
    \u0275\u0275element(1, "path", 92);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_18__svg_svg_19_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 107);
    \u0275\u0275element(1, "circle", 108)(2, "path", 109);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 85)(1, "button", 86);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 87);
    \u0275\u0275element(3, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Analytics");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "button", 89);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleArchivedView());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 87);
    \u0275\u0275template(8, AssetListComponent_div_18__svg_path_8_Template, 1, 0, "path", 90)(9, AssetListComponent_div_18__svg_path_9_Template, 1, 0, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "span");
    \u0275\u0275text(11);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "button", 89);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.exportToPdf());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 87);
    \u0275\u0275element(14, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(15, "span");
    \u0275\u0275text(16, "Export Assets to PDF");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "button", 93);
    \u0275\u0275listener("click", function AssetListComponent_div_18_Template_button_click_17_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.exportToExcel());
    });
    \u0275\u0275template(18, AssetListComponent_div_18__svg_svg_18_Template, 2, 0, "svg", 94)(19, AssetListComponent_div_18__svg_svg_19_Template, 3, 0, "svg", 95);
    \u0275\u0275elementStart(20, "span");
    \u0275\u0275text(21);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "button", 96);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 87);
    \u0275\u0275element(24, "path", 97);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "span");
    \u0275\u0275text(26, "Smart Import");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(27, "div", 98);
    \u0275\u0275elementStart(28, "button", 99);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(29, "svg", 100);
    \u0275\u0275element(30, "path", 101);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(31, "span");
    \u0275\u0275text(32, "Archive Selected");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(33, "button", 102);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(34, "svg", 103);
    \u0275\u0275element(35, "path", 104);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(36, "span");
    \u0275\u0275text(37, "Delete Selected");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.showingArchived ? "View Active Assets" : "View Archived Assets");
    \u0275\u0275advance(6);
    \u0275\u0275property("disabled", ctx_r1.exportingExcel);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.exportingExcel);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.exportingExcel);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.exportingExcel ? "Exporting to Excel..." : "Export Assets to Excel");
  }
}
function AssetListComponent_span_86_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 110);
    \u0275\u0275text(1, "Select asset type");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_87_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275element(1, "img", 112);
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("src", ctx_r1.selectedAssetType.icon, \u0275\u0275sanitizeUrl);
  }
}
function AssetListComponent_div_87_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 111);
    \u0275\u0275template(1, AssetListComponent_div_87_ng_container_1_Template, 2, 1, "ng-container", 60);
    \u0275\u0275elementStart(2, "span");
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType.icon);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetType.label);
  }
}
function AssetListComponent_div_90_div_3_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275element(1, "img", 117);
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const type_r4 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("src", type_r4.icon, \u0275\u0275sanitizeUrl);
  }
}
function AssetListComponent_div_90_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275listener("click", function AssetListComponent_div_90_div_3_Template_div_click_0_listener() {
      const type_r4 = \u0275\u0275restoreView(_r3).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.selectAssetType(type_r4);
      return \u0275\u0275resetView(ctx_r1.showAssetTypeDropdown = false);
    });
    \u0275\u0275template(1, AssetListComponent_div_90_div_3_ng_container_1_Template, 2, 1, "ng-container", 60);
    \u0275\u0275elementStart(2, "span");
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const type_r4 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("ngClass", \u0275\u0275pureFunction1(3, _c0, (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r4.id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", type_r4.icon);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(type_r4.label);
  }
}
function AssetListComponent_div_90_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114);
    \u0275\u0275text(2, "Select Asset Type");
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, AssetListComponent_div_90_div_3_Template, 4, 5, "div", 115);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275property("ngForOf", ctx_r1.assetTypes);
  }
}
function AssetListComponent_span_94_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 110);
    \u0275\u0275text(1, "Select asset status");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_95_span_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "span", 119);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275styleProp("background", ctx_r1.selectedAssetStatus.color);
  }
}
function AssetListComponent_div_95_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 111);
    \u0275\u0275template(1, AssetListComponent_div_95_span_1_Template, 1, 2, "span", 118);
    \u0275\u0275elementStart(2, "span");
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetStatus.color);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetStatus.label);
  }
}
function AssetListComponent_div_96_div_3_span_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "span", 119);
  }
  if (rf & 2) {
    const status_r6 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275styleProp("background", status_r6.color);
  }
}
function AssetListComponent_div_96_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275listener("click", function AssetListComponent_div_96_div_3_Template_div_click_0_listener() {
      const status_r6 = \u0275\u0275restoreView(_r5).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.selectAssetStatus(status_r6);
      return \u0275\u0275resetView(ctx_r1.showAssetStatusDropdown = false);
    });
    \u0275\u0275template(1, AssetListComponent_div_96_div_3_span_1_Template, 1, 2, "span", 118);
    \u0275\u0275elementStart(2, "span");
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const status_r6 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("ngClass", \u0275\u0275pureFunction1(3, _c0, (ctx_r1.selectedAssetStatus == null ? null : ctx_r1.selectedAssetStatus.id) === status_r6.id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", status_r6.color);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(status_r6.label);
  }
}
function AssetListComponent_div_96_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114);
    \u0275\u0275text(2, "Select Asset Status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, AssetListComponent_div_96_div_3_Template, 4, 5, "div", 115);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275property("ngForOf", ctx_r1.assetStatuses);
  }
}
function AssetListComponent_span_100_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 110);
    \u0275\u0275text(1, "Sort By");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_span_101_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.selectedSort.label);
  }
}
function AssetListComponent_div_104_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 122);
    \u0275\u0275listener("click", function AssetListComponent_div_104_div_3_Template_div_click_0_listener() {
      const sort_r8 = \u0275\u0275restoreView(_r7).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.selectSort(sort_r8);
      return \u0275\u0275resetView(ctx_r1.showSortDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const sort_r8 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("ngClass", \u0275\u0275pureFunction1(2, _c1, (ctx_r1.selectedSort == null ? null : ctx_r1.selectedSort.value) === sort_r8.value));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", sort_r8.label, " ");
  }
}
function AssetListComponent_div_104_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 120)(1, "div", 114);
    \u0275\u0275text(2, "Sort By");
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, AssetListComponent_div_104_div_3_Template, 2, 4, "div", 121);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275property("ngForOf", ctx_r1.sortOptions);
  }
}
function AssetListComponent__svg_svg_107_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 123);
    \u0275\u0275element(1, "path", 124);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent__svg_svg_108_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 123);
    \u0275\u0275element(1, "path", 125);
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_122_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 128);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 129);
    \u0275\u0275element(4, "circle", 108)(5, "path", 109);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 130);
    \u0275\u0275text(7, "Loading Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 131);
    \u0275\u0275text(9, "Please wait while we fetch your assets...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetListComponent_div_123_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 126)(1, "div", 127)(2, "div", 132);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 133);
    \u0275\u0275element(4, "path", 134);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 130);
    \u0275\u0275text(6, "Error Loading Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 135);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 136);
    \u0275\u0275listener("click", function AssetListComponent_div_123_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.loadAssets());
    });
    \u0275\u0275text(10, " Retry ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetListComponent_div_124_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 137)(1, "button", 138);
    \u0275\u0275listener("click", function AssetListComponent_div_124_Template_button_click_1_listener() {
      \u0275\u0275restoreView(_r10);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275element(2, "span", 139);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 140);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate1("Select all ", ctx_r1.assetList.length, " assets");
  }
}
function AssetListComponent_div_125_button_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 156);
    \u0275\u0275listener("click", function AssetListComponent_div_125_button_11_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r12);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.duplicateSelected());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 146);
    \u0275\u0275element(2, "rect", 157)(3, "rect", 158);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Duplicate");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_125_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 159);
    \u0275\u0275listener("click", function AssetListComponent_div_125_button_16_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r13);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.showArchiveModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 146);
    \u0275\u0275element(2, "rect", 160)(3, "path", 161);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Archive ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_125_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 162);
    \u0275\u0275listener("click", function AssetListComponent_div_125_button_17_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r14);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.showDeleteModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 146);
    \u0275\u0275element(2, "rect", 160)(3, "path", 163);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Delete ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_125_button_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 164);
    \u0275\u0275listener("click", function AssetListComponent_div_125_button_18_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r15);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.restoreSelected());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 146);
    \u0275\u0275element(2, "path", 165);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3, " Restore ");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
  }
}
function AssetListComponent_div_125_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 141)(1, "div", 142)(2, "button", 138);
    \u0275\u0275listener("click", function AssetListComponent_div_125_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r11);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275element(3, "span", 143);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 144);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "span", 145);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 146);
    \u0275\u0275element(8, "path", 147);
    \u0275\u0275elementEnd();
    \u0275\u0275text(9, " Selection Mode Active - Click cards to select ");
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 111);
    \u0275\u0275template(11, AssetListComponent_div_125_button_11_Template, 5, 1, "button", 148);
    \u0275\u0275elementStart(12, "button", 149);
    \u0275\u0275listener("click", function AssetListComponent_div_125_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r11);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.generateQRCodeForSelectedAssets());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 146);
    \u0275\u0275element(14, "path", 150);
    \u0275\u0275elementEnd();
    \u0275\u0275text(15, " Generate QR Codes ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(16, AssetListComponent_div_125_button_16_Template, 5, 1, "button", 151)(17, AssetListComponent_div_125_button_17_Template, 5, 1, "button", 152)(18, AssetListComponent_div_125_button_18_Template, 4, 1, "button", 153);
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(19, "button", 154);
    \u0275\u0275listener("click", function AssetListComponent_div_125_Template_button_click_19_listener() {
      \u0275\u0275restoreView(_r11);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.clearSelection());
    });
    \u0275\u0275elementStart(20, "span", 155);
    \u0275\u0275text(21, "\xD7");
    \u0275\u0275elementEnd();
    \u0275\u0275text(22, " Clear");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-100", ctx_r1.selectedCount === ctx_r1.assetList.length);
    \u0275\u0275advance();
    \u0275\u0275classProp("bg-blue-400", ctx_r1.selectedCount === ctx_r1.assetList.length)("bg-white", ctx_r1.selectedCount !== ctx_r1.assetList.length);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate2("", ctx_r1.selectedCount, " asset", ctx_r1.selectedCount > 1 ? "s" : "", " selected");
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.selectedCount === 0);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
  }
}
function AssetListComponent_div_126_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 166)(1, "div", 167);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 168);
    \u0275\u0275element(3, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "h3", 130);
    \u0275\u0275text(5, "No Assets Found");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "p", 169);
    \u0275\u0275text(7, "Get started by creating your first asset.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "button", 136);
    \u0275\u0275listener("click", function AssetListComponent_div_126_Template_button_click_8_listener() {
      \u0275\u0275restoreView(_r16);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goToCreateAsset());
    });
    \u0275\u0275text(9, " Add Asset ");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_span_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 192);
    \u0275\u0275text(1, "Active");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_127_div_1_span_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classMap("bg-" + ctx_r1.getStatusColor((asset_r18.asset_status == null ? null : asset_r18.asset_status.name) || asset_r18.status || "Active") + "-100 text-" + ctx_r1.getStatusColor((asset_r18.asset_status == null ? null : asset_r18.asset_status.name) || asset_r18.status || "Active") + "-700 text-xs font-semibold px-3 py-1 rounded-full");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate((asset_r18.asset_status == null ? null : asset_r18.asset_status.name) || asset_r18.status);
  }
}
function AssetListComponent_div_127_div_1_div_13_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 206);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_1_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r20);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 207);
    \u0275\u0275element(2, "path", 208)(3, "path", 209);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 210);
    \u0275\u0275text(5, "View Details");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_button_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 206);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_2_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r21);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.editAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 207);
    \u0275\u0275element(2, "path", 211);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 210);
    \u0275\u0275text(4, "Edit Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_button_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 206);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_3_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r22);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.duplicateAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 207);
    \u0275\u0275element(2, "path", 200);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 210);
    \u0275\u0275text(4, "Duplicate");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_button_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 212);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_15_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r23);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.archiveAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 213);
    \u0275\u0275element(2, "path", 105);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 214);
    \u0275\u0275text(4, "Archive");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_button_16_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 215);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_16_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r24);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.restoreAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 216);
    \u0275\u0275element(2, "path", 165);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 217);
    \u0275\u0275text(4, "Restore");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_button_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 218);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_button_17_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r25);
      const asset_r18 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.deleteAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 219);
    \u0275\u0275element(2, "path", 220);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span", 221);
    \u0275\u0275text(4, "Delete Permanently");
    \u0275\u0275elementEnd()();
  }
}
function AssetListComponent_div_127_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 193);
    \u0275\u0275template(1, AssetListComponent_div_127_div_1_div_13_button_1_Template, 6, 0, "button", 194)(2, AssetListComponent_div_127_div_1_div_13_button_2_Template, 5, 0, "button", 194)(3, AssetListComponent_div_127_div_1_div_13_button_3_Template, 5, 0, "button", 194);
    \u0275\u0275elementStart(4, "button", 195);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r19);
      const asset_r18 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.generateQRCodeForAsset(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 196);
    \u0275\u0275element(6, "path", 150);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "span", 197);
    \u0275\u0275text(8, "Generate QR Code");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "button", 198);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_div_13_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r19);
      const asset_r18 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyPublicUrl(asset_r18));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 199);
    \u0275\u0275element(11, "path", 200);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "span", 201);
    \u0275\u0275text(13, "Copy Public URL");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(14, "div", 202);
    \u0275\u0275template(15, AssetListComponent_div_127_div_1_div_13_button_15_Template, 5, 0, "button", 203)(16, AssetListComponent_div_127_div_1_div_13_button_16_Template, 5, 0, "button", 204)(17, AssetListComponent_div_127_div_1_div_13_button_17_Template, 5, 0, "button", 205);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance(12);
    \u0275\u0275property("ngIf", !ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.showingArchived);
  }
}
function AssetListComponent_div_127_div_1_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 222)(1, "span", 223);
    \u0275\u0275text(2, "Category:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r18.category.name, " ");
  }
}
function AssetListComponent_div_127_div_1_div_25_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 222)(1, "span", 223);
    \u0275\u0275text(2, "Type:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", (asset_r18.asset_type == null ? null : asset_r18.asset_type.name) || asset_r18.type || "General", " ");
  }
}
function AssetListComponent_div_127_div_1_div_26_span_4_span_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, " \u2192 ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_127_div_1_div_26_span_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275template(2, AssetListComponent_div_127_div_1_div_26_span_4_span_2_Template, 2, 0, "span", 60);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r26 = ctx.$implicit;
    const last_r27 = ctx.last;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", loc_r26.name, "");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !last_r27);
  }
}
function AssetListComponent_div_127_div_1_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 224)(1, "span", 223);
    \u0275\u0275text(2, "Location:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 225);
    \u0275\u0275template(4, AssetListComponent_div_127_div_1_div_26_span_4_Template, 3, 2, "span", 226);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", asset_r18.location_hierarchy);
  }
}
function AssetListComponent_div_127_div_1_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 224)(1, "span", 223);
    \u0275\u0275text(2, "Description:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r18.description, " ");
  }
}
function AssetListComponent_div_127_div_1_div_28_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 222)(1, "span", 223);
    \u0275\u0275text(2, "Manufacturer:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r18.manufacturer, " ");
  }
}
function AssetListComponent_div_127_div_1_div_29_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 222)(1, "span", 223);
    \u0275\u0275text(2, "Model:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r18.model, " ");
  }
}
function AssetListComponent_div_127_div_1_div_30_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 222)(1, "span", 223);
    \u0275\u0275text(2, "Capacity:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r18 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r18.capacity, " ");
  }
}
function AssetListComponent_div_127_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 172)(1, "div", 173)(2, "div", 174)(3, "input", 175);
    \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_div_127_div_1_Template_input_ngModelChange_3_listener($event) {
      const asset_r18 = \u0275\u0275restoreView(_r17).$implicit;
      \u0275\u0275twoWayBindingSet(asset_r18.selected, $event) || (asset_r18.selected = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "div", 176);
    \u0275\u0275template(5, AssetListComponent_div_127_div_1_span_5_Template, 2, 0, "span", 177)(6, AssetListComponent_div_127_div_1_span_6_Template, 2, 3, "span", 178);
    \u0275\u0275elementStart(7, "div", 8);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_Template_div_click_7_listener($event) {
      \u0275\u0275restoreView(_r17);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(8, "button", 179);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_Template_button_click_8_listener() {
      const asset_r18 = \u0275\u0275restoreView(_r17).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleAssetMenu(asset_r18.id));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(9, "svg", 180);
    \u0275\u0275element(10, "circle", 181)(11, "circle", 182)(12, "circle", 183);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(13, AssetListComponent_div_127_div_1_div_13_Template, 18, 6, "div", 184);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(14, "svg", 185);
    \u0275\u0275element(15, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(16, "div", 186)(17, "div")(18, "div", 187)(19, "span", 188);
    \u0275\u0275text(20, "ID:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(21);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "div", 189);
    \u0275\u0275listener("click", function AssetListComponent_div_127_div_1_Template_div_click_22_listener() {
      const asset_r18 = \u0275\u0275restoreView(_r17).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(!ctx_r1.showingArchived && ctx_r1.viewAsset(asset_r18));
    });
    \u0275\u0275text(23);
    \u0275\u0275elementEnd();
    \u0275\u0275template(24, AssetListComponent_div_127_div_1_div_24_Template, 4, 1, "div", 190)(25, AssetListComponent_div_127_div_1_div_25_Template, 4, 1, "div", 190)(26, AssetListComponent_div_127_div_1_div_26_Template, 5, 1, "div", 191)(27, AssetListComponent_div_127_div_1_div_27_Template, 4, 1, "div", 191)(28, AssetListComponent_div_127_div_1_div_28_Template, 4, 1, "div", 190)(29, AssetListComponent_div_127_div_1_div_29_Template, 4, 1, "div", 190)(30, AssetListComponent_div_127_div_1_div_30_Template, 4, 1, "div", 190);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const asset_r18 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("border-blue-400", asset_r18.selected);
    \u0275\u0275advance(3);
    \u0275\u0275twoWayProperty("ngModel", asset_r18.selected);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", (asset_r18.asset_status == null ? null : asset_r18.asset_status.name) === "Active");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (asset_r18.asset_status == null ? null : asset_r18.asset_status.name) !== "Active");
    \u0275\u0275advance(7);
    \u0275\u0275property("ngIf", asset_r18.showMenu);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate1(" ", asset_r18.asset_id || asset_r18.id, " ");
    \u0275\u0275advance();
    \u0275\u0275classProp("cursor-pointer", !ctx_r1.showingArchived)("hover:text-blue-600", !ctx_r1.showingArchived)("cursor-default", ctx_r1.showingArchived);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", asset_r18.name || "Unnamed Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.category == null ? null : asset_r18.category.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.type || (asset_r18.asset_type == null ? null : asset_r18.asset_type.name));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.location_hierarchy && asset_r18.location_hierarchy.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.manufacturer);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.model);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r18.capacity);
  }
}
function AssetListComponent_div_127_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 170);
    \u0275\u0275template(1, AssetListComponent_div_127_div_1_Template, 31, 21, "div", 171);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.assetList);
  }
}
function AssetListComponent_div_128_div_18_div_20_div_1_span_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, " \u2192 ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_128_div_18_div_20_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275template(2, AssetListComponent_div_128_div_18_div_20_div_1_span_2_Template, 2, 0, "span", 60);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r31 = ctx.$implicit;
    const last_r32 = ctx.last;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", loc_r31.name, "");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !last_r32);
  }
}
function AssetListComponent_div_128_div_18_div_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 251);
    \u0275\u0275template(1, AssetListComponent_div_128_div_18_div_20_div_1_Template, 3, 2, "div", 226);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r30 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", asset_r30.location_hierarchy);
  }
}
function AssetListComponent_div_128_div_18_div_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 252);
    \u0275\u0275text(1, " No location ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_128_div_18_div_23_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 243);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r30 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", asset_r30.description, " ");
  }
}
function AssetListComponent_div_128_div_18_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 252);
    \u0275\u0275text(1, " No description ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_128_div_18_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 243)(1, "span", 253);
    \u0275\u0275text(2, "MFG:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r30 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r30.manufacturer, " ");
  }
}
function AssetListComponent_div_128_div_18_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 131)(1, "span", 253);
    \u0275\u0275text(2, "Model:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r30 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r30.model, " ");
  }
}
function AssetListComponent_div_128_div_18_div_28_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 131)(1, "span", 253);
    \u0275\u0275text(2, "Capacity:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const asset_r30 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", asset_r30.capacity, " ");
  }
}
function AssetListComponent_div_128_div_18_div_29_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 252);
    \u0275\u0275text(1, " No details ");
    \u0275\u0275elementEnd();
  }
}
function AssetListComponent_div_128_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 236)(1, "div", 237)(2, "div", 233)(3, "input", 238);
    \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_div_128_div_18_Template_input_ngModelChange_3_listener($event) {
      const asset_r30 = \u0275\u0275restoreView(_r29).$implicit;
      \u0275\u0275twoWayBindingSet(asset_r30.selected, $event) || (asset_r30.selected = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(4, "div", 232)(5, "div", 239)(6, "div", 240);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 241);
    \u0275\u0275element(8, "path", 21);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "div")(10, "div", 242);
    \u0275\u0275listener("click", function AssetListComponent_div_128_div_18_Template_div_click_10_listener() {
      const asset_r30 = \u0275\u0275restoreView(_r29).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r30));
    });
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(12, "div", 131);
    \u0275\u0275text(13);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(14, "div", 232)(15, "div", 243);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "div", 131);
    \u0275\u0275text(18);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 232);
    \u0275\u0275template(20, AssetListComponent_div_128_div_18_div_20_Template, 2, 1, "div", 244)(21, AssetListComponent_div_128_div_18_div_21_Template, 2, 0, "div", 245);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "div", 232);
    \u0275\u0275template(23, AssetListComponent_div_128_div_18_div_23_Template, 2, 1, "div", 246)(24, AssetListComponent_div_128_div_18_div_24_Template, 2, 0, "div", 245);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "div", 232);
    \u0275\u0275template(26, AssetListComponent_div_128_div_18_div_26_Template, 4, 1, "div", 246)(27, AssetListComponent_div_128_div_18_div_27_Template, 4, 1, "div", 247)(28, AssetListComponent_div_128_div_18_div_28_Template, 4, 1, "div", 247)(29, AssetListComponent_div_128_div_18_div_29_Template, 2, 0, "div", 245);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(30, "div", 233)(31, "div", 111)(32, "button", 248);
    \u0275\u0275listener("click", function AssetListComponent_div_128_div_18_Template_button_click_32_listener() {
      const asset_r30 = \u0275\u0275restoreView(_r29).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewAsset(asset_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(33, "svg", 123);
    \u0275\u0275element(34, "path", 208)(35, "path", 209);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(36, "button", 249);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(37, "svg", 123);
    \u0275\u0275element(38, "path", 211);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(39, "button", 250);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(40, "svg", 123);
    \u0275\u0275element(41, "path", 220);
    \u0275\u0275elementEnd()()()()()();
  }
  if (rf & 2) {
    const asset_r30 = ctx.$implicit;
    \u0275\u0275classProp("bg-blue-50", asset_r30.selected);
    \u0275\u0275advance(3);
    \u0275\u0275twoWayProperty("ngModel", asset_r30.selected);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate1(" ", asset_r30.name || "Unnamed Asset", " ");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(asset_r30.asset_id || "AST-" + asset_r30.id);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((asset_r30.category == null ? null : asset_r30.category.name) || "General");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate((asset_r30.asset_type == null ? null : asset_r30.asset_type.name) || asset_r30.type || "Standard Asset");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r30.location_hierarchy && asset_r30.location_hierarchy.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r30.location_hierarchy || asset_r30.location_hierarchy.length === 0);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r30.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r30.description);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", asset_r30.manufacturer);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r30.model);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", asset_r30.capacity);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !asset_r30.manufacturer && !asset_r30.model && !asset_r30.capacity);
  }
}
function AssetListComponent_div_128_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 227)(1, "div", 228)(2, "div", 229)(3, "div", 230)(4, "input", 231);
    \u0275\u0275listener("change", function AssetListComponent_div_128_Template_input_change_4_listener() {
      \u0275\u0275restoreView(_r28);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleSelectAllAssets());
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(5, "div", 232);
    \u0275\u0275text(6, "Asset ID & Name");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 232);
    \u0275\u0275text(8, "Category & Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 232);
    \u0275\u0275text(10, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(11, "div", 232);
    \u0275\u0275text(12, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "div", 232);
    \u0275\u0275text(14, "Manufacturer & Model");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "div", 233);
    \u0275\u0275text(16, "Actions");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(17, "div", 234);
    \u0275\u0275template(18, AssetListComponent_div_128_div_18_Template, 42, 15, "div", 235);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("checked", ctx_r1.selectedCount === ctx_r1.assetList.length && ctx_r1.assetList.length > 0)("indeterminate", ctx_r1.selectedCount > 0 && ctx_r1.selectedCount < ctx_r1.assetList.length);
    \u0275\u0275advance(14);
    \u0275\u0275property("ngForOf", ctx_r1.assetList);
  }
}
function AssetListComponent_app_pagination_129_Template(rf, ctx) {
  if (rf & 1) {
    const _r33 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "app-pagination", 254);
    \u0275\u0275listener("pageChange", function AssetListComponent_app_pagination_129_Template_app_pagination_pageChange_0_listener($event) {
      \u0275\u0275restoreView(_r33);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onPageChange($event));
    })("perPageChange", function AssetListComponent_app_pagination_129_Template_app_pagination_perPageChange_0_listener($event) {
      \u0275\u0275restoreView(_r33);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onPerPageChange($event));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("pagination", ctx_r1.pagination);
  }
}
var AssetListComponent = class _AssetListComponent {
  router;
  assetService;
  pdfExportService;
  destroy$ = new Subject();
  constructor(router, assetService, pdfExportService) {
    this.router = router;
    this.assetService = assetService;
    this.pdfExportService = pdfExportService;
  }
  summary = {
    totalAssets: 0,
    activeAssets: 0,
    maintenance: 0,
    totalValue: 0,
    assetHealth: 0
  };
  // Loading states
  loading = false;
  exportingExcel = false;
  error = "";
  showMenu = false;
  // Filter dropdowns
  showTypeDropdown = false;
  showStatusDropdown = false;
  showSortDropdown = false;
  showSortDirDropdown = false;
  // Archive modal state
  showArchiveConfirmationModal = false;
  showDeleteConfirmationModal = false;
  showRestoreConfirmationModal = false;
  selectedAssetForRestore = null;
  // View state
  showingArchived = false;
  typeOptions = [
    { value: "", label: "All Types" },
    { value: "fixed", label: "Fixed Asset" },
    { value: "semi-fixed", label: "Semi-Fixed Asset" },
    { value: "mobile", label: "Mobile Asset" },
    { value: "fleet", label: "Fleet Asset" }
  ];
  statusOptions = [
    { value: "", label: "All Status" },
    { value: "Active", label: "Active" },
    { value: "Maintenance", label: "Maintenance" },
    { value: "Inactive", label: "Inactive" },
    { value: "Retired", label: "Retired" }
  ];
  sortOptions = [
    { value: "name", label: "Name" },
    { value: "created_at", label: "Date Added" },
    { value: "status", label: "Status" },
    { value: "manufacturer", label: "Manufacturer" },
    { value: "purchase_price", label: "Cost" }
  ];
  selectedType = this.typeOptions[0];
  selectedStatus = this.statusOptions[0];
  selectedSort = this.sortOptions[0];
  selectedSortDir = "desc";
  viewType = "grid";
  searchQuery = "";
  // Filter parameters
  currentFilters = {
    search: "",
    type: "",
    status: "",
    category_id: "",
    location_id: "",
    sort_by: "name",
    sort_direction: "desc",
    page: 1,
    per_page: 20,
    archived: false
  };
  assetList = [];
  categories = [];
  locations = [];
  assetTypes = [];
  showAssetTypeDropdown = false;
  selectedAssetType = null;
  assetStatuses = [];
  showAssetStatusDropdown = false;
  selectedAssetStatus = null;
  // Asset menu state
  openAssetMenuId = null;
  // Pagination
  pagination = {
    current_page: 1,
    last_page: 1,
    per_page: 20,
    total: 0,
    from: 0,
    to: 0
  };
  selectAllAssets = false;
  ngOnInit() {
    this.loadAssetStatistics();
    this.loadAssets();
    this.loadCategories();
    this.loadLocations();
    this.assetService.getAssetTypes().subscribe((res) => {
      if (res.success && res.data) {
        this.assetTypes = [{ id: "", name: "All Types", label: "All Types", icon: null }, ...res.data.map((type) => ({
          id: type.id,
          name: type.name,
          label: type.name,
          icon: type.icon || null
        }))];
        this.selectedAssetType = this.assetTypes[0];
      }
    });
    this.assetService.getAssetStatuses().subscribe((res) => {
      if (res.success && res.data) {
        this.assetStatuses = [{ id: "", name: "All Statuses", label: "All Statuses", color: null }, ...res.data.map((status) => ({
          id: status.id,
          name: status.name,
          label: status.name,
          color: status.color || null
        }))];
        this.selectedAssetStatus = this.assetStatuses[0];
      }
    });
  }
  loadAssetStatistics() {
    this.assetService.getAssetStatistics().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          const data = response.data;
          this.summary = {
            totalAssets: data.total_assets || 0,
            activeAssets: data.active_assets || 0,
            maintenance: data.maintenance || 0,
            totalValue: data.total_asset_value || 0,
            assetHealth: data.total_asset_health && data.total_assets ? Math.round(data.total_asset_health / data.total_assets) : 100
          };
        }
      },
      error: (error) => {
        console.error("Error loading asset statistics:", error);
      }
    });
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
  }
  // loadAssetStatistics() {
  //   this.assetService.getAssetStatistics()
  //     .pipe(takeUntil(this.destroy$))
  //     .subscribe({
  //       next: (response) => {
  //         if (response.success && response.data) {
  //           const data = response.data;
  //           this.summary = {
  //             totalAssets: data.total_assets || 0,
  //             activeAssets: data.active_assets || 0,
  //             maintenance: data.maintenance || 0,
  //             totalValue: data.total_asset_value || 0,
  //             assetHealth: data.total_asset_health ? Math.round(data.total_asset_health / (data.total_assets || 1)) : 100
  //           };
  //         }
  //       },
  //       error: (error) => {
  //         console.error('Error loading asset statistics:', error);
  //         // Keep default summary values on error
  //       }
  //     });
  // }
  loadAssets() {
    this.loading = true;
    this.error = "";
    const params = {};
    if (this.currentFilters.search) {
      params.search = this.currentFilters.search;
    }
    if (this.currentFilters.type) {
      params.type = this.currentFilters.type;
    }
    if (this.currentFilters.status) {
      params.status = this.currentFilters.status;
    }
    if (this.currentFilters.category_id) {
      params.category_id = this.currentFilters.category_id;
    }
    if (this.currentFilters.location_id) {
      params.location_id = this.currentFilters.location_id;
    }
    if (this.currentFilters.sort_by) {
      params.sort_by = this.currentFilters.sort_by;
    }
    if (this.currentFilters.sort_direction) {
      params.sort_direction = this.currentFilters.sort_direction;
    }
    params.archived = this.currentFilters.archived;
    params.page = this.currentFilters.page;
    params.per_page = this.currentFilters.per_page;
    this.assetService.getAssets(params).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.assetList = (response.data.assets || response.data).map((asset) => __spreadProps(__spreadValues({}, asset), {
            selected: false,
            showMenu: false
          }));
          if (response.data.pagination) {
            this.pagination = response.data.pagination;
          }
        } else {
          this.error = response.message || "Failed to load assets";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading assets";
        this.loading = false;
      }
    });
  }
  loadCategories() {
    this.assetService.getAssetCategories().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.categories = response.data.categories;
        }
      },
      error: (error) => {
        console.error("Error loading categories:", error);
      }
    });
  }
  loadLocations() {
    this.assetService.getLocations().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.locations = response.data.locations || response.data;
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
      }
    });
  }
  onSearch() {
    this.currentFilters.search = this.searchQuery;
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  applyFilters() {
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  get selectedCount() {
    return this.assetList.filter((asset) => asset.selected).length;
  }
  toggleSelectAllAssets() {
    const allSelected = this.selectedCount === this.assetList.length;
    this.assetList.forEach((asset) => asset.selected = !allSelected);
    this.selectAllAssets = !allSelected;
  }
  selectType(type) {
    const selectedOption = this.typeOptions.find((option) => option.value === type);
    if (selectedOption) {
      this.selectedType = selectedOption;
      this.currentFilters.type = selectedOption.value;
    }
    this.showTypeDropdown = false;
    this.applyFilters();
  }
  selectStatus(status) {
    const selectedOption = this.statusOptions.find((option) => option.value === status);
    if (selectedOption) {
      this.selectedStatus = selectedOption;
      this.currentFilters.status = selectedOption.value;
    }
    this.showStatusDropdown = false;
    this.applyFilters();
  }
  selectSort(sort) {
    const selectedOption = this.sortOptions.find((option) => option.value === sort);
    if (selectedOption) {
      this.selectedSort = selectedOption;
      this.currentFilters.sort_by = selectedOption.value;
    }
    this.showSortDropdown = false;
    this.applyFilters();
  }
  selectSortDir(dir) {
    this.selectedSortDir = dir;
    this.currentFilters.sort_direction = dir;
    this.showSortDirDropdown = false;
    this.applyFilters();
  }
  toggleSortDir() {
    this.selectedSortDir = this.selectedSortDir === "asc" ? "desc" : "asc";
    this.currentFilters.sort_direction = this.selectedSortDir;
    this.applyFilters();
  }
  duplicateSelected() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0)
      return;
    const assetToDuplicate = selectedAssets[0];
    this.router.navigate(["/assets/create"], {
      queryParams: {
        duplicate: true,
        sourceId: assetToDuplicate.id
      }
    });
    this.clearSelection();
  }
  generateSerialNumber() {
    const timestamp = Date.now().toString();
    const random = Math.random().toString(36).substring(2, 8).toUpperCase();
    return `SN${timestamp.slice(-6)}${random}`;
  }
  clearSelection() {
    this.assetList.forEach((asset) => asset.selected = false);
    this.selectAllAssets = false;
  }
  showArchiveModal() {
    if (this.selectedCount > 0) {
      this.showArchiveConfirmationModal = true;
    }
  }
  closeArchiveModal() {
    this.showArchiveConfirmationModal = false;
  }
  showDeleteModal() {
    if (this.selectedCount > 0) {
      this.showDeleteConfirmationModal = true;
    }
  }
  closeDeleteModal() {
    this.showDeleteConfirmationModal = false;
  }
  closeRestoreModal() {
    this.showRestoreConfirmationModal = false;
    this.selectedAssetForRestore = null;
  }
  restoreSelectedAsset(restoreReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length > 1) {
      this.restoreBulkAssets(restoreReason);
    } else if (this.selectedAssetForRestore) {
      const payload = {};
      if (restoreReason && restoreReason.trim()) {
        payload.restore_reason = restoreReason.trim();
      }
      this.assetService.restoreAsset(this.selectedAssetForRestore.id, payload).pipe(takeUntil(this.destroy$)).subscribe({
        next: (response) => {
          if (response.success) {
            this.loadAssets();
            this.loadAssetStatistics();
            console.log("Asset restored successfully");
          } else {
            this.error = response.message || "Failed to restore asset";
          }
          this.closeRestoreModal();
        },
        error: (error) => {
          this.error = error.error?.message || "An error occurred while restoring the asset";
          this.closeRestoreModal();
        }
      });
    } else {
      this.closeRestoreModal();
    }
  }
  deleteSelected(deletionReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeDeleteModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    const payload = { asset_ids: assetIds };
    if (deletionReason && deletionReason.trim()) {
      payload.deletion_reason = deletionReason.trim();
    }
    this.assetService.bulkDeleteAssets(payload).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.deleted ? response.deleted.length : 0;
            this.error = `${successCount} assets deleted successfully, ${failedCount} failed to delete`;
          } else {
            const deletedCount = response.deleted ? response.deleted.length : selectedAssets.length;
            console.log(`${deletedCount} assets deleted successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to delete assets";
        }
        this.closeDeleteModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while deleting assets";
        this.closeDeleteModal();
      }
    });
  }
  viewAsset(asset) {
    this.router.navigate(["/assets/preview", asset.id]);
  }
  archiveSelected(archiveReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeArchiveModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    const payload = { asset_ids: assetIds };
    if (archiveReason && archiveReason.trim()) {
      payload.archive_reason = archiveReason.trim();
    }
    this.assetService.bulkArchiveAssets(payload).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.archived ? response.archived.length : 0;
            this.error = `${successCount} assets archived successfully, ${failedCount} failed to archive`;
          } else {
            const archivedCount = response.archived ? response.archived.length : selectedAssets.length;
            console.log(`${archivedCount} assets archived successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to archive assets";
        }
        this.closeArchiveModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while archiving assets";
        this.closeArchiveModal();
      }
    });
  }
  toggleTypeDropdown() {
    this.showTypeDropdown = !this.showTypeDropdown;
    this.showStatusDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showTypeDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleSortDropdown() {
    this.showSortDropdown = !this.showSortDropdown;
    this.showTypeDropdown = false;
    this.showStatusDropdown = false;
    this.showSortDirDropdown = false;
  }
  toggleArchivedView() {
    this.showingArchived = !this.showingArchived;
    this.currentFilters.archived = this.showingArchived;
    this.currentFilters.page = 1;
    this.clearSelection();
    this.loadAssets();
    this.showMenu = false;
  }
  goToCreateAsset() {
    this.router.navigate(["assets/create"]);
  }
  exportToPdf() {
    if (this.assetList.length > 0) {
      const title = this.showingArchived ? "Archived Assets Export Report" : "Asset Export Report";
      this.pdfExportService.exportAssetsToPdf(this.assetList, title);
      this.showMenu = false;
    } else {
      console.log("No assets to export");
    }
  }
  exportToExcel() {
    if (this.assetList.length > 0) {
      this.exportingExcel = true;
      this.assetService.exportAssetsToExcel(this.showingArchived).subscribe({
        next: (blob) => {
          const url = window.URL.createObjectURL(blob);
          const link = document.createElement("a");
          link.href = url;
          const filename = this.showingArchived ? "archived-assets-export.xlsx" : "assets-export.xlsx";
          link.download = filename;
          link.click();
          window.URL.revokeObjectURL(url);
          this.exportingExcel = false;
          this.showMenu = false;
        },
        error: (error) => {
          console.error("Error exporting to Excel:", error);
          this.exportingExcel = false;
        }
      });
    } else {
      console.log("No assets to export");
    }
  }
  getStatusColor(status) {
    const colors2 = {
      "Active": "green",
      "Maintenance": "orange",
      "Inactive": "gray",
      "Retired": "red"
    };
    return colors2[status] || "gray";
  }
  // Asset menu methods
  toggleAssetMenu(assetId) {
    this.assetList.forEach((asset2) => {
      if (asset2.id !== assetId) {
        asset2.showMenu = false;
      }
    });
    const asset = this.assetList.find((a) => a.id === assetId);
    if (asset) {
      asset.showMenu = !asset.showMenu;
    }
  }
  editAsset(asset) {
    this.router.navigate(["/assets", asset.id, "edit"]);
    asset.showMenu = false;
  }
  duplicateAsset(asset) {
    this.router.navigate(["/assets/create"], {
      queryParams: {
        duplicate: true,
        sourceId: asset.id
      }
    });
    asset.showMenu = false;
  }
  archiveAsset(asset) {
    this.assetList.forEach((a) => a.selected = false);
    asset.selected = true;
    this.showArchiveConfirmationModal = true;
    asset.showMenu = false;
  }
  deleteAsset(asset) {
    this.assetList.forEach((a) => a.selected = false);
    asset.selected = true;
    this.showDeleteConfirmationModal = true;
    asset.showMenu = false;
  }
  restoreSelected() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      return;
    }
    this.showRestoreConfirmationModal = true;
  }
  restoreBulkAssets(restoreReason) {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      this.closeRestoreModal();
      return;
    }
    const assetIds = selectedAssets.map((asset) => asset.id);
    this.assetService.bulkRestoreAssets(assetIds, restoreReason).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          if (response.failed && response.failed.length > 0) {
            const failedCount = response.failed.length;
            const successCount = response.restored ? response.restored.length : 0;
            this.error = `${successCount} assets restored successfully, ${failedCount} failed to restore`;
          } else {
            const restoredCount = response.restored ? response.restored.length : selectedAssets.length;
            console.log(`${restoredCount} assets restored successfully`);
          }
          this.loadAssets();
          this.loadAssetStatistics();
          this.clearSelection();
        } else {
          this.error = response.message || "Failed to restore assets";
        }
        this.closeRestoreModal();
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while restoring assets";
        this.closeRestoreModal();
      }
    });
  }
  restoreAsset(asset) {
    this.selectedAssetForRestore = asset;
    this.showRestoreConfirmationModal = true;
    asset.showMenu = false;
  }
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showStatusDropdown = false;
    this.showSortDropdown = false;
    this.showSortDirDropdown = false;
  }
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.currentFilters.type = type.id;
    this.showAssetTypeDropdown = false;
    this.applyFilters();
  }
  toggleAssetStatusDropdown() {
    this.showAssetStatusDropdown = !this.showAssetStatusDropdown;
  }
  selectAssetStatus(status) {
    this.selectedAssetStatus = status;
    this.currentFilters.status = status.id;
    this.showAssetStatusDropdown = false;
    this.applyFilters();
  }
  onDocumentClick(event) {
    const target = event.target;
    if (!target.closest(".menu-container")) {
      this.showMenu = false;
    }
  }
  // QR Code functionality
  generateQRCodeForAsset(asset) {
    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;
    QRCode.toDataURL(publicUrl, {
      width: 300,
      margin: 2,
      color: {
        dark: "#000000",
        light: "#FFFFFF"
      }
    }).then((dataUrl) => {
      const link = document.createElement("a");
      link.href = dataUrl;
      link.download = `asset-${asset.id}-qr.png`;
      link.click();
    }).catch((error) => {
      console.error("Error generating QR code:", error);
    });
  }
  generateQRCodeForSelectedAssets() {
    const selectedAssets = this.assetList.filter((asset) => asset.selected);
    if (selectedAssets.length === 0) {
      console.log("No assets selected");
      return;
    }
    selectedAssets.forEach((asset) => {
      this.generateQRCodeForAsset(asset);
    });
  }
  copyPublicUrl(asset) {
    const publicUrl = `${window.location.origin}/public/asset/${asset.id}`;
    navigator.clipboard.writeText(publicUrl).then(() => {
      console.log("Public URL copied to clipboard");
    });
  }
  /**
   * Handle pagination page change
   */
  onPageChange(page) {
    this.currentFilters.page = page;
    this.loadAssets();
  }
  /**
   * Handle pagination per page change
   */
  onPerPageChange(perPage) {
    this.currentFilters.per_page = perPage;
    this.currentFilters.page = 1;
    this.loadAssets();
  }
  static \u0275fac = function AssetListComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetListComponent)(\u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(PdfExportService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetListComponent, selectors: [["app-asset-list"]], hostBindings: function AssetListComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetListComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 133, vars: 61, consts: [[1, "asset-list-page", "min-h-screen", "bg-gray-50", "p-6"], [1, "mb-6", "flex", "flex-col", "md:flex-row", "md:items-center", "md:justify-between"], [1, "text-2xl", "font-bold", "text-gray-900", "mb-1"], [1, "text-gray-600", "text-base"], [1, "flex", "items-center", "space-x-3", "mt-4", "md:mt-0"], [1, "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "px-5", "py-2", "rounded-lg", "shadow-sm", "transition-colors", "flex", "items-center", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "relative", 3, "click"], [1, "w-10", "h-10", "flex", "items-center", "justify-center", "rounded-lg", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-gray-600"], ["cx", "12", "cy", "5", "r", "2"], ["cx", "12", "cy", "12", "r", "2"], ["cx", "12", "cy", "19", "r", "2"], ["class", "absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50", 4, "ngIf"], [1, "grid", "grid-cols-1", "sm:grid-cols-2", "lg:grid-cols-5", "gap-4", "mb-8"], [1, "rounded-xl", "bg-blue-50", "border", "border-blue-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "flex", "items-center", "justify-between", "mb-2"], [1, "text-base", "font-medium", "text-gray-700"], [1, "w-10", "h-10", "bg-blue-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-blue-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], [1, "text-3xl", "font-bold", "text-gray-900"], ["href", "#", 1, "text-sm", "text-blue-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-green-50", "border", "border-green-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-green-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-green-400"], ["cx", "12", "cy", "12", "r", "8", "stroke", "currentColor", "stroke-width", "2", "fill", "none"], ["cx", "12", "cy", "12", "r", "4", "fill", "currentColor", 1, "text-green-400"], [1, "text-sm", "text-green-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-orange-50", "border", "border-orange-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-orange-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-orange-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z"], [1, "text-sm", "text-orange-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-purple-50", "border", "border-purple-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-purple-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-purple-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"], [1, "text-sm", "text-purple-600", "font-medium", "mt-1"], [1, "rounded-xl", "bg-cyan-50", "border", "border-cyan-100", "p-6", "flex", "flex-col", "justify-between", "shadow-sm", "transition-all", "hover:shadow-md"], [1, "w-10", "h-10", "bg-cyan-100", "rounded-xl", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-cyan-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"], [1, "text-sm", "text-cyan-600", "font-medium", "mt-1"], [1, "flex", "flex-col", "md:flex-row", "md:items-center", "md:justify-between", "mb-6"], [1, "flex-1", "flex", "flex-col", "space-y-3", "md:space-y-0", "md:flex-row", "md:items-center", "md:space-x-3"], [1, "relative", "w-full", "md:w-80"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "absolute", "left-3", "top-1/2", "transform", "-translate-y-1/2", "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"], ["type", "text", "placeholder", "Search assets by name, location, or ID...", 1, "w-full", "pl-10", "pr-4", "py-2", "border-2", "border-blue-300", "rounded-xl", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "placeholder-gray-400", 3, "ngModelChange", "input", "ngModel"], ["type", "button", 1, "w-full", "px-4", "py-2", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", "min-w-[220px]", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "flex items-center space-x-2", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[220px] w-full", 4, "ngIf"], [1, "relative", "ml-2", 3, "click"], ["type", "button", 1, "w-full", "px-4", "py-2", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", "min-w-[180px]", 3, "click"], [4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "transition-transform", "ml-2"], ["class", "absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[180px] w-full", 4, "ngIf"], [1, "relative"], [1, "px-4", "py-2", "bg-gray-100", "rounded-lg", "text-gray-700", "flex", "items-center", "space-x-2", "min-w-[70px]", "cursor-pointer", 3, "click"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "flex", "items-center", "space-x-2", "mt-4", "md:mt-0"], [1, "w-10", "h-10", "flex", "items-center", "justify-center", "rounded-lg", "border", "border-gray-200", "hover:bg-blue-50", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["x", "4", "y", "4", "width", "7", "height", "7", "rx", "2"], ["x", "13", "y", "4", "width", "7", "height", "7", "rx", "2"], ["x", "4", "y", "13", "width", "7", "height", "7", "rx", "2"], ["x", "13", "y", "13", "width", "7", "height", "7", "rx", "2"], ["x", "4", "y", "6", "width", "16", "height", "4", "rx", "2"], ["x", "4", "y", "14", "width", "16", "height", "4", "rx", "2"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], ["class", "w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center", 4, "ngIf"], ["class", "w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between", 4, "ngIf"], ["class", "text-center py-20", 4, "ngIf"], ["class", "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2", 4, "ngIf"], ["class", "bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden", 4, "ngIf"], [3, "pagination", "pageChange", "perPageChange", 4, "ngIf"], [3, "closeModal", "confirmArchive", "isOpen", "selectedCount"], [3, "closeModal", "confirmDelete", "isOpen", "selectedCount"], [3, "closeModal", "confirmRestore", "isOpen", "selectedCount", "assetName"], [1, "absolute", "right-0", "mt-2", "w-64", "bg-white", "rounded-xl", "shadow-lg", "border", "border-gray-200", "py-2", "z-50"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["class", "w-5 h-5 text-gray-500", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], ["class", "animate-spin w-5 h-5 text-gray-500", "fill", "none", "viewBox", "0 0 24 24", 4, "ngIf"], ["routerLink", "/assets/import", 1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-gray-50", "text-left", "transition-colors", "cursor-pointer"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"], [1, "border-t", "border-gray-100", "my-2"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-orange-50", "text-left", "transition-colors", "cursor-pointer", "text-orange-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-orange-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 12H4"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "hover:bg-red-50", "text-left", "transition-colors", "cursor-pointer", "text-red-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-5", "h-5", "text-gray-500"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], [1, "text-gray-400"], [1, "flex", "items-center", "space-x-2"], ["alt", "icon", 1, "w-5", "h-5", 3, "src"], [1, "absolute", "z-10", "mt-1", "bg-white", "border", "border-gray-300", "rounded-lg", "shadow-lg", "max-h-72", "overflow-y-auto", "min-w-[220px]", "w-full"], [1, "px-4", "py-2", "text-xs", "text-gray-400", "font-semibold", "uppercase", "tracking-wider"], ["class", "flex items-center px-4 py-2 cursor-pointer hover:bg-blue-50", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "flex", "items-center", "px-4", "py-2", "cursor-pointer", "hover:bg-blue-50", 3, "click", "ngClass"], ["alt", "icon", 1, "w-5", "h-5", "mr-2", 3, "src"], ["class", "inline-block w-3 h-3 rounded-full mr-2", 3, "background", 4, "ngIf"], [1, "inline-block", "w-3", "h-3", "rounded-full", "mr-2"], [1, "absolute", "z-10", "mt-1", "bg-white", "border", "border-gray-300", "rounded-lg", "shadow-lg", "max-h-72", "overflow-y-auto", "min-w-[180px]", "w-full"], ["class", "px-4 py-2 cursor-pointer hover:bg-blue-50", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "px-4", "py-2", "cursor-pointer", "hover:bg-blue-50", 3, "click", "ngClass"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M16 17l-4 4m0 0l-4-4m4 4V3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7l4-4m0 0l4 4m-4-4v18"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "w-full", "bg-white", "rounded-xl", "border", "border-gray-200", "px-6", "py-3", "mb-4", "flex", "items-center"], ["type", "button", 1, "focus:outline-none", "inline-flex", "items-center", "justify-center", "w-6", "h-6", "rounded-full", "border-2", "border-blue-400", "mr-3", "transition-colors", 3, "click"], [1, "w-3", "h-3", "rounded-full", "block", "bg-white", "transition-colors"], [1, "font-semibold", "text-gray-900"], [1, "w-full", "bg-white", "rounded-xl", "border", "border-gray-200", "px-6", "py-3", "mb-4", "flex", "items-center", "justify-between"], [1, "flex", "items-center", "space-x-4"], [1, "w-3", "h-3", "rounded-full", "block", "transition-colors"], [1, "font-bold", "text-gray-900"], [1, "bg-blue-50", "text-blue-600", "px-3", "py-1", "rounded-full", "text-sm", "flex", "items-center", "font-medium"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17 16l4-4m0 0l-4-4m4 4H7"], ["class", "bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], [1, "bg-purple-50", "text-purple-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"], ["class", "bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], ["class", "bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], ["class", "bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed", 3, "disabled", "click", 4, "ngIf"], [1, "bg-transparent", "text-gray-700", "font-semibold", "px-2", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", 3, "click"], [1, "text-xl"], [1, "bg-gray-50", "text-gray-700", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "border", "border-gray-200", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["x", "8", "y", "8", "width", "8", "height", "8", "rx", "2", "stroke-width", "2"], ["x", "4", "y", "4", "width", "8", "height", "8", "rx", "2", "stroke-width", "2"], [1, "bg-orange-50", "text-orange-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["x", "4", "y", "4", "width", "16", "height", "16", "rx", "2", "stroke-width", "2"], ["d", "M8 12h8", "stroke-width", "2"], [1, "bg-red-50", "text-red-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["d", "M8 8l8 8M8 16l8-8", "stroke-width", "2"], [1, "bg-green-50", "text-green-600", "font-semibold", "px-4", "py-2", "rounded-lg", "flex", "items-center", "space-x-2", "cursor-pointer", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "text-center", "py-20"], [1, "w-16", "h-16", "bg-gray-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-gray-400"], [1, "text-gray-600", "mb-4"], [1, "grid", "grid-cols-1", "sm:grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-6", "mt-2"], ["class", "rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden", 3, "border-blue-400", 4, "ngFor", "ngForOf"], [1, "rounded-2xl", "border", "border-blue-200", "bg-white", "shadow-sm", "flex", "flex-col", "transition-all", "hover:shadow-md", "overflow-hidden"], [1, "relative", "bg-[#e0edff]", "h-32", "flex", "flex-col", "items-center", "justify-center"], [1, "absolute", "left-4", "top-4", "flex", "items-center"], ["type", "checkbox", 1, "asset-card-checkbox", 3, "ngModelChange", "ngModel"], [1, "absolute", "right-4", "top-4", "flex", "items-center", "space-x-2"], ["class", "bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full", 4, "ngIf"], [3, "class", 4, "ngIf"], [1, "w-8", "h-8", "flex", "items-center", "justify-center", "rounded-full", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["cx", "12", "cy", "6", "r", "1.5"], ["cx", "12", "cy", "12", "r", "1.5"], ["cx", "12", "cy", "18", "r", "1.5"], ["class", "absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-blue-400"], [1, "flex-1", "flex", "flex-col", "justify-between", "p-6", "pt-4"], [1, "text-sm", "text-gray-500", "mb-2"], [1, "font-semibold", "text-gray-700"], [1, "font-semibold", "text-lg", "text-gray-900", "mb-2", "cursor-pointer", "hover:text-blue-600", "transition-colors", 3, "click"], ["class", "text-sm text-gray-700 mb-1", 4, "ngIf"], ["class", "text-sm text-gray-700 mb-2", 4, "ngIf"], [1, "bg-green-100", "text-green-700", "text-xs", "font-semibold", "px-3", "py-1", "rounded-full"], [1, "absolute", "right-0", "top-full", "mt-1", "w-48", "bg-white", "rounded-lg", "shadow-lg", "border", "border-gray-200", "py-1", "z-50"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors", 3, "click", 4, "ngIf"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-purple-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-500"], [1, "text-sm", "text-purple-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-blue-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"], [1, "text-sm", "text-blue-600"], [1, "border-t", "border-gray-100", "my-1"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors", 3, "click", 4, "ngIf"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors", 3, "click", 4, "ngIf"], ["class", "w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors", 3, "click", 4, "ngIf"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"], [1, "text-sm", "text-gray-700"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-orange-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-orange-500"], [1, "text-sm", "text-orange-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-green-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-500"], [1, "text-sm", "text-green-600"], [1, "w-full", "flex", "items-center", "space-x-3", "px-3", "py-2", "text-left", "hover:bg-red-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-red-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"], [1, "text-sm", "text-red-600"], [1, "text-sm", "text-gray-700", "mb-1"], [1, "font-medium", "text-gray-600"], [1, "text-sm", "text-gray-700", "mb-2"], [1, "text-xs", "text-gray-500", "mt-1"], [4, "ngFor", "ngForOf"], [1, "bg-white", "rounded-lg", "shadow-sm", "border", "border-gray-200", "overflow-hidden"], [1, "px-6", "py-4", "border-b", "border-gray-200", "bg-gray-50"], [1, "grid", "grid-cols-12", "gap-4", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider"], [1, "col-span-1", "flex", "items-center"], ["type", "checkbox", 1, "w-4", "h-4", "text-blue-600", "border-gray-300", "rounded", "focus:ring-blue-500", 3, "change", "checked", "indeterminate"], [1, "col-span-2"], [1, "col-span-1"], [1, "divide-y", "divide-gray-200"], ["class", "px-6 py-4 hover:bg-gray-50 transition-colors", 3, "bg-blue-50", 4, "ngFor", "ngForOf"], [1, "px-6", "py-4", "hover:bg-gray-50", "transition-colors"], [1, "grid", "grid-cols-12", "gap-4", "items-center"], ["type", "checkbox", 1, "w-4", "h-4", "text-blue-600", "border-gray-300", "rounded", "focus:ring-blue-500", 3, "ngModelChange", "ngModel"], [1, "flex", "items-center", "space-x-3"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], [1, "font-medium", "text-gray-900", "hover:text-blue-600", "cursor-pointer", "transition-colors", 3, "click"], [1, "text-sm", "text-gray-900"], ["class", "text-sm text-gray-600", 4, "ngIf"], ["class", "text-sm text-gray-400", 4, "ngIf"], ["class", "text-sm text-gray-900", 4, "ngIf"], ["class", "text-sm text-gray-500", 4, "ngIf"], [1, "p-1", "text-gray-400", "hover:text-blue-600", "hover:bg-blue-50", "rounded", "transition-all", 3, "click"], [1, "p-1", "text-gray-400", "hover:text-blue-600", "hover:bg-blue-50", "rounded", "transition-all"], [1, "p-1", "text-gray-400", "hover:text-red-600", "hover:bg-red-50", "rounded", "transition-all"], [1, "text-sm", "text-gray-600"], [1, "text-sm", "text-gray-400"], [1, "font-medium"], [3, "pageChange", "perPageChange", "pagination"]], template: function AssetListComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 0)(1, "div", 1)(2, "div")(3, "h1", 2);
      \u0275\u0275text(4, "Asset Intelligence Hub");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(5, "p", 3);
      \u0275\u0275text(6, "Advanced asset monitoring with AI-powered insights and real-time analytics");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(7, "div", 4)(8, "button", 5);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_8_listener() {
        return ctx.goToCreateAsset();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(9, "svg", 6);
      \u0275\u0275element(10, "path", 7);
      \u0275\u0275elementEnd();
      \u0275\u0275text(11, " Add Asset ");
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(12, "div", 8);
      \u0275\u0275listener("click", function AssetListComponent_Template_div_click_12_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(13, "button", 9);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_13_listener() {
        return ctx.showMenu = !ctx.showMenu;
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(14, "svg", 10);
      \u0275\u0275element(15, "circle", 11)(16, "circle", 12)(17, "circle", 13);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(18, AssetListComponent_div_18_Template, 38, 7, "div", 14);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(19, "div", 15)(20, "div", 16)(21, "div", 17)(22, "span", 18);
      \u0275\u0275text(23, "Total Assets");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(24, "span", 19);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(25, "svg", 20);
      \u0275\u0275element(26, "path", 21);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(27, "div", 22);
      \u0275\u0275text(28);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(29, "a", 23);
      \u0275\u0275text(30, "Assets in system");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(31, "div", 24)(32, "div", 17)(33, "span", 18);
      \u0275\u0275text(34, "Active");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(35, "span", 25);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(36, "svg", 26);
      \u0275\u0275element(37, "circle", 27)(38, "circle", 28);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(39, "div", 22);
      \u0275\u0275text(40);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(41, "span", 29);
      \u0275\u0275text(42, "Operational assets");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(43, "div", 30)(44, "div", 17)(45, "span", 18);
      \u0275\u0275text(46, "Maintenance");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(47, "span", 31);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(48, "svg", 32);
      \u0275\u0275element(49, "path", 33);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(50, "div", 22);
      \u0275\u0275text(51);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(52, "span", 34);
      \u0275\u0275text(53, "Under maintenance");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(54, "div", 35)(55, "div", 17)(56, "span", 18);
      \u0275\u0275text(57, "Total Value");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(58, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(59, "svg", 37);
      \u0275\u0275element(60, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(61, "div", 22);
      \u0275\u0275text(62);
      \u0275\u0275pipe(63, "currency");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(64, "span", 39);
      \u0275\u0275text(65, "Asset portfolio value");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(66, "div", 40)(67, "div", 17)(68, "span", 18);
      \u0275\u0275text(69, "Asset Health");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(70, "span", 41);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(71, "svg", 42);
      \u0275\u0275element(72, "path", 43);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(73, "div", 22);
      \u0275\u0275text(74);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(75, "span", 44);
      \u0275\u0275text(76, "Excellent health");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(77, "div", 45)(78, "div", 46)(79, "div", 47);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(80, "svg", 48);
      \u0275\u0275element(81, "path", 49);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(82, "input", 50);
      \u0275\u0275twoWayListener("ngModelChange", function AssetListComponent_Template_input_ngModelChange_82_listener($event) {
        \u0275\u0275twoWayBindingSet(ctx.searchQuery, $event) || (ctx.searchQuery = $event);
        return $event;
      });
      \u0275\u0275listener("input", function AssetListComponent_Template_input_input_82_listener() {
        return ctx.onSearch();
      });
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(83, "div", 8);
      \u0275\u0275listener("click", function AssetListComponent_Template_div_click_83_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(84, "button", 51);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_84_listener() {
        return ctx.toggleAssetTypeDropdown();
      });
      \u0275\u0275elementStart(85, "div", 52);
      \u0275\u0275template(86, AssetListComponent_span_86_Template, 2, 0, "span", 53)(87, AssetListComponent_div_87_Template, 4, 2, "div", 54);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(88, "svg", 55);
      \u0275\u0275element(89, "path", 56);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(90, AssetListComponent_div_90_Template, 4, 1, "div", 57);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(91, "div", 58);
      \u0275\u0275listener("click", function AssetListComponent_Template_div_click_91_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(92, "button", 51);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_92_listener() {
        return ctx.toggleAssetStatusDropdown();
      });
      \u0275\u0275elementStart(93, "div", 52);
      \u0275\u0275template(94, AssetListComponent_span_94_Template, 2, 0, "span", 53)(95, AssetListComponent_div_95_Template, 4, 2, "div", 54);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(96, AssetListComponent_div_96_Template, 4, 1, "div", 57);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(97, "div", 58);
      \u0275\u0275listener("click", function AssetListComponent_Template_div_click_97_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(98, "button", 59);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_98_listener() {
        return ctx.toggleSortDropdown();
      });
      \u0275\u0275elementStart(99, "div", 52);
      \u0275\u0275template(100, AssetListComponent_span_100_Template, 2, 0, "span", 53)(101, AssetListComponent_span_101_Template, 2, 1, "span", 60);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(102, "svg", 61);
      \u0275\u0275element(103, "path", 56);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(104, AssetListComponent_div_104_Template, 4, 1, "div", 62);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(105, "div", 63)(106, "button", 64);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_106_listener() {
        return ctx.toggleSortDir();
      });
      \u0275\u0275template(107, AssetListComponent__svg_svg_107_Template, 2, 0, "svg", 65)(108, AssetListComponent__svg_svg_108_Template, 2, 0, "svg", 65);
      \u0275\u0275elementStart(109, "span");
      \u0275\u0275text(110);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(111, "div", 66)(112, "button", 67);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_112_listener() {
        return ctx.viewType = "grid";
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(113, "svg", 68);
      \u0275\u0275element(114, "rect", 69)(115, "rect", 70)(116, "rect", 71)(117, "rect", 72);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(118, "button", 67);
      \u0275\u0275listener("click", function AssetListComponent_Template_button_click_118_listener() {
        return ctx.viewType = "list";
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(119, "svg", 68);
      \u0275\u0275element(120, "rect", 73)(121, "rect", 74);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(122, AssetListComponent_div_122_Template, 10, 0, "div", 75)(123, AssetListComponent_div_123_Template, 11, 1, "div", 75)(124, AssetListComponent_div_124_Template, 5, 1, "div", 76)(125, AssetListComponent_div_125_Template, 23, 13, "div", 77)(126, AssetListComponent_div_126_Template, 10, 0, "div", 78)(127, AssetListComponent_div_127_Template, 2, 1, "div", 79)(128, AssetListComponent_div_128_Template, 19, 3, "div", 80)(129, AssetListComponent_app_pagination_129_Template, 1, 1, "app-pagination", 81);
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(130, "app-archive-confirmation-modal", 82);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_archive_confirmation_modal_closeModal_130_listener() {
        return ctx.closeArchiveModal();
      })("confirmArchive", function AssetListComponent_Template_app_archive_confirmation_modal_confirmArchive_130_listener() {
        return ctx.archiveSelected();
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(131, "app-delete-confirmation-modal", 83);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_delete_confirmation_modal_closeModal_131_listener() {
        return ctx.closeDeleteModal();
      })("confirmDelete", function AssetListComponent_Template_app_delete_confirmation_modal_confirmDelete_131_listener($event) {
        return ctx.deleteSelected($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(132, "app-restore-confirmation-modal", 84);
      \u0275\u0275listener("closeModal", function AssetListComponent_Template_app_restore_confirmation_modal_closeModal_132_listener() {
        return ctx.closeRestoreModal();
      })("confirmRestore", function AssetListComponent_Template_app_restore_confirmation_modal_confirmRestore_132_listener($event) {
        return ctx.restoreSelectedAsset($event);
      });
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(18);
      \u0275\u0275property("ngIf", ctx.showMenu);
      \u0275\u0275advance(10);
      \u0275\u0275textInterpolate(ctx.summary.totalAssets);
      \u0275\u0275advance(12);
      \u0275\u0275textInterpolate(ctx.summary.activeAssets);
      \u0275\u0275advance(11);
      \u0275\u0275textInterpolate(ctx.summary.maintenance);
      \u0275\u0275advance(11);
      \u0275\u0275textInterpolate(\u0275\u0275pipeBind4(63, 56, ctx.summary.totalValue, "USD", "symbol", "1.0-0"));
      \u0275\u0275advance(12);
      \u0275\u0275textInterpolate1("", ctx.summary.assetHealth, "%");
      \u0275\u0275advance(8);
      \u0275\u0275twoWayProperty("ngModel", ctx.searchQuery);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("border-blue-500", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("border-blue-500", ctx.showAssetStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedAssetStatus);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedAssetStatus);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showAssetStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("border-blue-500", ctx.showSortDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedSort);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedSort);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showSortDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showSortDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-100", ctx.selectedSortDir === "asc")("text-blue-700", ctx.selectedSortDir === "asc");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedSortDir === "desc");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedSortDir === "asc");
      \u0275\u0275advance(2);
      \u0275\u0275textInterpolate(ctx.selectedSortDir === "asc" ? "A-Z" : "Z-A");
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-100", ctx.viewType === "grid")("text-blue-700", ctx.viewType === "grid");
      \u0275\u0275advance(6);
      \u0275\u0275classProp("bg-blue-100", ctx.viewType === "list")("text-blue-700", ctx.viewType === "list");
      \u0275\u0275advance(4);
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && ctx.selectedCount === 0 && !ctx.loading && !ctx.error);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && ctx.selectedCount > 0 && !ctx.loading && !ctx.error);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.loading && !ctx.error && ctx.assetList.length === 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "grid" && !ctx.loading && !ctx.error && ctx.assetList.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.viewType === "list" && !ctx.loading && !ctx.error && ctx.assetList.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.assetList.length > 0 || ctx.pagination.total > 0);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showArchiveConfirmationModal)("selectedCount", ctx.selectedCount);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showDeleteConfirmationModal)("selectedCount", ctx.selectedCount);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showRestoreConfirmationModal)("selectedCount", ctx.selectedCount > 0 ? ctx.selectedCount : 1)("assetName", (ctx.selectedAssetForRestore == null ? null : ctx.selectedAssetForRestore.name) || "");
    }
  }, dependencies: [CurrencyPipe, NgIf, NgForOf, FormsModule, DefaultValueAccessor, CheckboxControlValueAccessor, NgControlStatus, NgModel, ArchiveConfirmationModalComponent, DeleteConfirmationModalComponent, RestoreConfirmationModalComponent, NgClass, RouterModule, RouterLink, PaginationComponent], styles: ['\n\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%] {\n  width: 20px !important;\n  height: 20px !important;\n  border-radius: 50% !important;\n  border-width: 2px;\n  border-color: #3b82f6;\n  appearance: none;\n  background-color: #fff;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  transition: border-color 0.2s;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked {\n  background-color: #3b82f6;\n  border-color: #2563eb;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-checkbox[_ngcontent-%COMP%]:checked::after {\n  content: "";\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  top: 3px;\n  left: 3px;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card-header[_ngcontent-%COMP%] {\n  background: #e0edff;\n  height: 8rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n  overflow: hidden;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%] {\n  border-radius: 1rem;\n  box-shadow: 0 2px 8px 0 rgba(16, 30, 54, 0.08);\n  overflow: hidden;\n  background: #fff;\n  border: 1px solid #bfdbfe;\n  display: flex;\n  flex-direction: column;\n  transition: box-shadow 0.2s;\n}\n.asset-list-page[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%] {\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  border-color: #e5e7eb;\n}\n/*# sourceMappingURL=asset-list.component.css.map */'] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetListComponent, [{
    type: Component,
    args: [{ selector: "app-asset-list", standalone: true, imports: [CurrencyPipe, NgIf, NgForOf, FormsModule, DecimalPipe, DatePipe, ArchiveConfirmationModalComponent, DeleteConfirmationModalComponent, RestoreConfirmationModalComponent, NgClass, RouterModule, PaginationComponent], template: `<div class="asset-list-page min-h-screen bg-gray-50 p-6">\r
  <!-- Page Title and Subtitle + Actions -->\r
  <div class="mb-6 flex flex-col md:flex-row md:items-center md:justify-between">\r
    <div>\r
      <h1 class="text-2xl font-bold text-gray-900 mb-1">Asset Intelligence Hub</h1>\r
      <p class="text-gray-600 text-base">Advanced asset monitoring with AI-powered insights and real-time analytics</p>\r
    </div>\r
    <div class="flex items-center space-x-3 mt-4 md:mt-0">\r
      <button (click)="goToCreateAsset()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-lg shadow-sm transition-colors flex items-center cursor-pointer">\r
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
        </svg>\r
        Add Asset\r
      </button>\r
      <div class="relative" (click)="$event.stopPropagation()">\r
        <button (click)="showMenu = !showMenu" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">\r
          <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <circle cx="12" cy="5" r="2" />\r
            <circle cx="12" cy="12" r="2" />\r
            <circle cx="12" cy="19" r="2" />\r
          </svg>\r
        </button>\r
        <div *ngIf="showMenu" class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50">\r
          <button class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2"></path>\r
            </svg>\r
            <span>Analytics</span>\r
          </button>\r
          <button\r
            (click)="toggleArchivedView()"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path *ngIf="!showingArchived" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
              <path *ngIf="showingArchived" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <span>{{showingArchived ? 'View Active Assets' : 'View Archived Assets'}}</span>\r
          </button>\r
\r
          <button\r
            (click)="exportToPdf()"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
            </svg>\r
            <span>Export Assets to PDF</span>\r
          </button>\r
          <button\r
            (click)="exportToExcel()"\r
            [disabled]="exportingExcel"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
            <svg *ngIf="!exportingExcel" class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
            </svg>\r
            <svg *ngIf="exportingExcel" class="animate-spin w-5 h-5 text-gray-500" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>{{ exportingExcel ? 'Exporting to Excel...' : 'Export Assets to Excel' }}</span>\r
          </button>\r
          <button\r
            routerLink="/assets/import"\r
            class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 text-left transition-colors cursor-pointer">\r
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>\r
            </svg>\r
            <span>Smart Import</span>\r
          </button>\r
\r
          <div class="border-t border-gray-100 my-2"></div>\r
          <button class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-orange-50 text-left transition-colors cursor-pointer text-orange-600">\r
            <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>\r
            </svg>\r
            <span>Archive Selected</span>\r
          </button>\r
          <button class="w-full flex items-center space-x-3 px-4 py-2 hover:bg-red-50 text-left transition-colors cursor-pointer text-red-600">\r
            <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
            </svg>\r
            <span>Delete Selected</span>\r
          </button>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Summary Cards -->\r
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">\r
    <!-- Total Assets -->\r
    <div class="rounded-xl bg-blue-50 border border-blue-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Total Assets</span>\r
        <span class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.totalAssets }}</div>\r
      <a href="#" class="text-sm text-blue-600 font-medium mt-1">Assets in system</a>\r
    </div>\r
    <!-- Active Assets -->\r
    <div class="rounded-xl bg-green-50 border border-green-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Active</span>\r
        <span class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2" fill="none" />\r
            <circle cx="12" cy="12" r="4" fill="currentColor" class="text-green-400" />\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.activeAssets }}</div>\r
      <span class="text-sm text-green-600 font-medium mt-1">Operational assets</span>\r
    </div>\r
    <!-- Maintenance -->\r
    <div class="rounded-xl bg-orange-50 border border-orange-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Maintenance</span>\r
        <span class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-1.5a2.5 2.5 0 11-3.536 3.536l-7.5 7.5a2 2 0 102.828 2.828l7.5-7.5a2.5 2.5 0 013.536-3.536z" />\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.maintenance }}</div>\r
      <span class="text-sm text-orange-600 font-medium mt-1">Under maintenance</span>\r
    </div>\r
    <!-- Total Value -->\r
    <div class="rounded-xl bg-purple-50 border border-purple-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Total Value</span>\r
        <span class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.totalValue | currency:'USD':'symbol':'1.0-0' }}</div>\r
      <span class="text-sm text-purple-600 font-medium mt-1">Asset portfolio value</span>\r
    </div>\r
    <!-- Asset Health -->\r
    <div class="rounded-xl bg-cyan-50 border border-cyan-100 p-6 flex flex-col justify-between shadow-sm transition-all hover:shadow-md">\r
      <div class="flex items-center justify-between mb-2">\r
        <span class="text-base font-medium text-gray-700">Asset Health</span>\r
        <span class="w-10 h-10 bg-cyan-100 rounded-xl flex items-center justify-center">\r
          <svg class="w-6 h-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 8v8m8-8h-8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"></path>\r
          </svg>\r
        </span>\r
      </div>\r
      <div class="text-3xl font-bold text-gray-900">{{ summary.assetHealth }}%</div>\r
      <span class="text-sm text-cyan-600 font-medium mt-1">Excellent health</span>\r
    </div>\r
  </div>\r
\r
  <!-- Filters and View Type -->\r
  <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">\r
    <!-- Left: Search and Filters -->\r
    <div class="flex-1 flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center md:space-x-3">\r
      <!-- Search -->\r
      <div class="relative w-full md:w-80">\r
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\r
        </svg>\r
        <input\r
          type="text"\r
          placeholder="Search assets by name, location, or ID..."\r
          class="w-full pl-10 pr-4 py-2 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400"\r
          [(ngModel)]="searchQuery"\r
          (input)="onSearch()" />\r
      </div>\r
      <!-- All Types Dropdown -->\r
      <div class="relative" (click)="$event.stopPropagation()">\r
        <button\r
          type="button"\r
          (click)="toggleAssetTypeDropdown()"\r
          class="w-full px-4 py-2 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all min-w-[220px]"\r
          [class.border-blue-500]="showAssetTypeDropdown">\r
          <div class="flex items-center justify-between">\r
            <span *ngIf="!selectedAssetType" class="text-gray-400">Select asset type</span>\r
            <div *ngIf="selectedAssetType" class="flex items-center space-x-2">\r
              <ng-container *ngIf="selectedAssetType.icon">\r
                <img [src]="selectedAssetType.icon" alt="icon" class="w-5 h-5" />\r
              </ng-container>\r
              <span>{{ selectedAssetType.label }}</span>\r
            </div>\r
            <svg class="w-4 h-4 text-gray-400 transition-transform" [class.rotate-180]="showAssetTypeDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
            </svg>\r
          </div>\r
        </button>\r
        <div\r
          *ngIf="showAssetTypeDropdown"\r
          class="absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[220px] w-full"\r
        >\r
          <div class="px-4 py-2 text-xs text-gray-400 font-semibold uppercase tracking-wider">Select Asset Type</div>\r
          <div\r
            *ngFor="let type of assetTypes"\r
            (click)="selectAssetType(type); showAssetTypeDropdown = false"\r
            class="flex items-center px-4 py-2 cursor-pointer hover:bg-blue-50"\r
            [ngClass]="{'bg-blue-100': selectedAssetType?.id === type.id}"\r
          >\r
            <ng-container *ngIf="type.icon">\r
              <img [src]="type.icon" alt="icon" class="w-5 h-5 mr-2" />\r
            </ng-container>\r
            <span>{{ type.label }}</span>\r
          </div>\r
        </div>\r
      </div>\r
      <!-- All Statuses Dropdown -->\r
      <div class="relative ml-2" (click)="$event.stopPropagation()">\r
        <button\r
          type="button"\r
          (click)="toggleAssetStatusDropdown()"\r
          class="w-full px-4 py-2 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all min-w-[220px]"\r
          [class.border-blue-500]="showAssetStatusDropdown">\r
          <div class="flex items-center justify-between">\r
            <span *ngIf="!selectedAssetStatus" class="text-gray-400">Select asset status</span>\r
            <div *ngIf="selectedAssetStatus" class="flex items-center space-x-2">\r
              <span *ngIf="selectedAssetStatus.color" class="inline-block w-3 h-3 rounded-full mr-2" [style.background]="selectedAssetStatus.color"></span>\r
              <span>{{ selectedAssetStatus.label }}</span>\r
            </div>\r
          </div>\r
        </button>\r
        <div\r
          *ngIf="showAssetStatusDropdown"\r
          class="absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[220px] w-full"\r
        >\r
          <div class="px-4 py-2 text-xs text-gray-400 font-semibold uppercase tracking-wider">Select Asset Status</div>\r
          <div\r
            *ngFor="let status of assetStatuses"\r
            (click)="selectAssetStatus(status); showAssetStatusDropdown = false"\r
            class="flex items-center px-4 py-2 cursor-pointer hover:bg-blue-50"\r
            [ngClass]="{'bg-blue-100': selectedAssetStatus?.id === status.id}"\r
          >\r
            <span *ngIf="status.color" class="inline-block w-3 h-3 rounded-full mr-2" [style.background]="status.color"></span>\r
            <span>{{ status.label }}</span>\r
          </div>\r
        </div>\r
      </div>\r
      <!-- Sort By Dropdown -->\r
      <div class="relative ml-2" (click)="$event.stopPropagation()">\r
        <button\r
          type="button"\r
          (click)="toggleSortDropdown()"\r
          class="w-full px-4 py-2 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all min-w-[180px]"\r
          [class.border-blue-500]="showSortDropdown">\r
          <div class="flex items-center justify-between">\r
            <span *ngIf="!selectedSort" class="text-gray-400">Sort By</span>\r
            <span *ngIf="selectedSort">{{ selectedSort.label }}</span>\r
            <svg class="w-4 h-4 text-gray-400 transition-transform ml-2" [class.rotate-180]="showSortDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
            </svg>\r
          </div>\r
        </button>\r
        <div\r
          *ngIf="showSortDropdown"\r
          class="absolute z-10 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-72 overflow-y-auto min-w-[180px] w-full"\r
        >\r
          <div class="px-4 py-2 text-xs text-gray-400 font-semibold uppercase tracking-wider">Sort By</div>\r
          <div\r
            *ngFor="let sort of sortOptions"\r
            (click)="selectSort(sort); showSortDropdown = false"\r
            class="px-4 py-2 cursor-pointer hover:bg-blue-50"\r
            [ngClass]="{'bg-blue-100 font-semibold': selectedSort?.value === sort.value}"\r
          >\r
            {{ sort.label }}\r
          </div>\r
        </div>\r
      </div>\r
      <!-- Sort Direction Button (toggle) -->\r
      <div class="relative">\r
        <button (click)="toggleSortDir()" class="px-4 py-2 bg-gray-100 rounded-lg text-gray-700 flex items-center space-x-2 min-w-[70px] cursor-pointer"\r
          [class.bg-blue-100]="selectedSortDir === 'asc'" [class.text-blue-700]="selectedSortDir === 'asc'">\r
          <svg *ngIf="selectedSortDir === 'desc'" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 17l-4 4m0 0l-4-4m4 4V3"></path>\r
          </svg>\r
          <svg *ngIf="selectedSortDir === 'asc'" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7l4-4m0 0l4 4m-4-4v18"></path>\r
          </svg>\r
          <span>{{ selectedSortDir === 'asc' ? 'A-Z' : 'Z-A' }}</span>\r
        </button>\r
      </div>\r
    </div>\r
    <!-- Right: View Type Toggle -->\r
    <div class="flex items-center space-x-2 mt-4 md:mt-0">\r
      <button (click)="viewType = 'grid'" [class.bg-blue-100]="viewType === 'grid'" [class.text-blue-700]="viewType === 'grid'" class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer">\r
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="7" height="7" rx="2" />\r
          <rect x="13" y="4" width="7" height="7" rx="2" />\r
          <rect x="4" y="13" width="7" height="7" rx="2" />\r
          <rect x="13" y="13" width="7" height="7" rx="2" />\r
        </svg>\r
      </button>\r
      <button (click)="viewType = 'list'" [class.bg-blue-100]="viewType === 'list'" [class.text-blue-700]="viewType === 'list'" class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-blue-50 transition-colors cursor-pointer">\r
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="6" width="16" height="4" rx="2" />\r
          <rect x="4" y="14" width="16" height="4" rx="2" />\r
        </svg>\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Loading State -->\r
  <div *ngIf="loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
        <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Assets</h3>\r
      <p class="text-sm text-gray-500">Please wait while we fetch your assets...</p>\r
    </div>\r
  </div>\r
\r
  <!-- Error State -->\r
  <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Assets</h3>\r
      <p class="text-sm text-gray-500 mb-4">{{error}}</p>\r
      <button\r
        (click)="loadAssets()"\r
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
        Retry\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Selection Bar (when nothing is selected) -->\r
  <div class="w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center" *ngIf="viewType === 'grid' && selectedCount === 0 && !loading && !error">\r
    <button type="button" (click)="toggleSelectAllAssets()" class="focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors">\r
      <span class="w-3 h-3 rounded-full block bg-white transition-colors"></span>\r
    </button>\r
    <span class="font-semibold text-gray-900">Select all {{ assetList.length }} assets</span>\r
  </div>\r
  <!-- Grid View Cards -->\r
  <!-- Action Bar (Selection) -->\r
  <div class="w-full bg-white rounded-xl border border-gray-200 px-6 py-3 mb-4 flex items-center justify-between" *ngIf="viewType === 'grid' && selectedCount > 0 && !loading && !error">\r
    <div class="flex items-center space-x-4">\r
      <button type="button" (click)="toggleSelectAllAssets()" class="focus:outline-none inline-flex items-center justify-center w-6 h-6 rounded-full border-2 border-blue-400 mr-3 transition-colors"\r
        [class.bg-blue-100]="selectedCount === assetList.length">\r
        <span class="w-3 h-3 rounded-full block transition-colors"\r
          [class.bg-blue-400]="selectedCount === assetList.length"\r
          [class.bg-white]="selectedCount !== assetList.length"></span>\r
      </button>\r
      <span class="font-bold text-gray-900">{{ selectedCount }} asset{{ selectedCount > 1 ? 's' : '' }} selected</span>\r
      <span class="bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-sm flex items-center font-medium">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7"></path></svg>\r
        Selection Mode Active - Click cards to select\r
      </span>\r
    </div>\r
    <div class="flex items-center space-x-2">\r
\r
      <button *ngIf="!showingArchived" (click)="duplicateSelected()" [disabled]="selectedCount === 0" class="bg-gray-50 text-gray-700 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 border border-gray-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="8" y="8" width="8" height="8" rx="2" stroke-width="2"/><rect x="4" y="4" width="8" height="8" rx="2" stroke-width="2"/></svg> Duplicate</button>\r
      <button\r
        (click)="generateQRCodeForSelectedAssets()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-purple-50 text-purple-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"></path>\r
        </svg>\r
        Generate QR Codes\r
      </button>\r
      <button\r
        *ngIf="!showingArchived"\r
        (click)="showArchiveModal()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-orange-50 text-orange-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="2"/>\r
          <path d="M8 12h8" stroke-width="2"/>\r
        </svg>\r
        Archive\r
      </button>\r
      <button\r
        *ngIf="showingArchived"\r
        (click)="showDeleteModal()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-red-50 text-red-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="2"/>\r
          <path d="M8 8l8 8M8 16l8-8" stroke-width="2"/>\r
        </svg>\r
        Delete\r
      </button>\r
      <button\r
        *ngIf="showingArchived"\r
        (click)="restoreSelected()"\r
        [disabled]="selectedCount === 0"\r
        class="bg-green-50 text-green-600 font-semibold px-4 py-2 rounded-lg flex items-center space-x-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">\r
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
        </svg>\r
        Restore\r
      </button>\r
      <button (click)="clearSelection()" class="bg-transparent text-gray-700 font-semibold px-2 py-2 rounded-lg flex items-center space-x-2 cursor-pointer"><span class="text-xl">&times;</span> Clear</button>\r
    </div>\r
  </div>\r
\r
  <!-- Empty State -->\r
  <div *ngIf="!loading && !error && assetList.length === 0" class="text-center py-20">\r
    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">\r
      <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
      </svg>\r
    </div>\r
    <h3 class="text-lg font-medium text-gray-900 mb-2">No Assets Found</h3>\r
    <p class="text-gray-600 mb-4">Get started by creating your first asset.</p>\r
    <button\r
      (click)="goToCreateAsset()"\r
      class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
      Add Asset\r
    </button>\r
  </div>\r
\r
  <div *ngIf="viewType === 'grid' && !loading && !error && assetList.length > 0" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-2">\r
    <div *ngFor="let asset of assetList" class="rounded-2xl border border-blue-200 bg-white shadow-sm flex flex-col transition-all hover:shadow-md overflow-hidden" [class.border-blue-400]="asset.selected">\r
      <!-- Card Header -->\r
      <div class="relative bg-[#e0edff] h-32 flex flex-col items-center justify-center">\r
        <div class="absolute left-4 top-4 flex items-center">\r
          <input type="checkbox" class="asset-card-checkbox" [(ngModel)]="asset.selected" />\r
        </div>\r
        <div class="absolute right-4 top-4 flex items-center space-x-2">\r
          <span *ngIf="asset.asset_status?.name === 'Active'" class="bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full">Active</span>\r
          <span *ngIf="asset.asset_status?.name !== 'Active'" [class]="'bg-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-100 text-' + getStatusColor(asset.asset_status?.name || asset.status || 'Active') + '-700 text-xs font-semibold px-3 py-1 rounded-full'">{{asset.asset_status?.name || asset.status}}</span>\r
          <div class="relative" (click)="$event.stopPropagation()">\r
            <button\r
              (click)="toggleAssetMenu(asset.id)"\r
              class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer">\r
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <circle cx="12" cy="6" r="1.5" />\r
                <circle cx="12" cy="12" r="1.5" />\r
                <circle cx="12" cy="18" r="1.5" />\r
              </svg>\r
            </button>\r
\r
            <!-- Dropdown Menu -->\r
            <div *ngIf="asset.showMenu" class="absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">\r
              <button\r
               *ngIf="!showingArchived"\r
                (click)="viewAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">View Details</span>\r
              </button>\r
\r
              <button\r
               *ngIf="!showingArchived"\r
                (click)="editAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">Edit Asset</span>\r
              </button>\r
\r
              <button\r
               *ngIf="!showingArchived"\r
                (click)="duplicateAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors">\r
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                </svg>\r
                <span class="text-sm text-gray-700">Duplicate</span>\r
              </button>\r
\r
              <button\r
                (click)="generateQRCodeForAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-purple-50 transition-colors">\r
                <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"></path>\r
                </svg>\r
                <span class="text-sm text-purple-600">Generate QR Code</span>\r
              </button>\r
\r
              <button\r
                (click)="copyPublicUrl(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-blue-50 transition-colors">\r
                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                </svg>\r
                <span class="text-sm text-blue-600">Copy Public URL</span>\r
              </button>\r
\r
              <div class="border-t border-gray-100 my-1"></div>\r
\r
              <button\r
                *ngIf="!showingArchived"\r
                (click)="archiveAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-orange-50 transition-colors">\r
                <svg class="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>\r
                </svg>\r
                <span class="text-sm text-orange-600">Archive</span>\r
              </button>\r
\r
              <button\r
                *ngIf="showingArchived"\r
                (click)="restoreAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-green-50 transition-colors">\r
                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span class="text-sm text-green-600">Restore</span>\r
              </button>\r
\r
              <button\r
                *ngIf="showingArchived"\r
                (click)="deleteAsset(asset)"\r
                class="w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-red-50 transition-colors">\r
                <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                </svg>\r
                <span class="text-sm text-red-600">Delete Permanently</span>\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
        <svg class="w-16 h-16 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
        </svg>\r
      </div>\r
      <!-- Card Body -->\r
      <div class="flex-1 flex flex-col justify-between p-6 pt-4">\r
        <div>\r
          <!-- Asset ID -->\r
          <div class="text-sm text-gray-500 mb-2">\r
            <span class="font-semibold text-gray-700">ID:</span> {{ asset.asset_id || asset.id }}\r
          </div>\r
          \r
          <!-- Asset Name -->\r
          <div\r
            class="font-semibold text-lg text-gray-900 mb-2 cursor-pointer hover:text-blue-600 transition-colors"\r
            [class.cursor-pointer]="!showingArchived"\r
            [class.hover:text-blue-600]="!showingArchived"\r
            [class.cursor-default]="showingArchived"\r
            (click)="!showingArchived && viewAsset(asset)">\r
            {{ asset.name || 'Unnamed Asset' }}\r
          </div>\r
          \r
          <!-- Asset Category Type -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.category?.name">\r
            <span class="font-medium text-gray-600">Category:</span> {{ asset.category.name }}\r
          </div>\r
          \r
          <!-- Asset Type -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.type || asset.asset_type?.name">\r
            <span class="font-medium text-gray-600">Type:</span> {{ asset.asset_type?.name || asset.type || 'General' }}\r
          </div>\r
          \r
          <!-- Location with Parents -->\r
          <div class="text-sm text-gray-700 mb-2" *ngIf="asset.location_hierarchy && asset.location_hierarchy.length > 0">\r
            <span class="font-medium text-gray-600">Location:</span>\r
            <div class="text-xs text-gray-500 mt-1">\r
              <span *ngFor="let loc of asset.location_hierarchy; let last = last">\r
                {{ loc.name }}<span *ngIf="!last"> \u2192 </span>\r
              </span>\r
            </div>\r
          </div>\r
          \r
          <!-- Description -->\r
          <div class="text-sm text-gray-700 mb-2" *ngIf="asset.description">\r
            <span class="font-medium text-gray-600">Description:</span> {{ asset.description }}\r
          </div>\r
          \r
          <!-- Manufacturer -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.manufacturer">\r
            <span class="font-medium text-gray-600">Manufacturer:</span> {{ asset.manufacturer }}\r
          </div>\r
          \r
          <!-- Model -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.model">\r
            <span class="font-medium text-gray-600">Model:</span> {{ asset.model }}\r
          </div>\r
          \r
          <!-- Capacity -->\r
          <div class="text-sm text-gray-700 mb-1" *ngIf="asset.capacity">\r
            <span class="font-medium text-gray-600">Capacity:</span> {{ asset.capacity }}\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- List View -->\r
  <div *ngIf="viewType === 'list' && !loading && !error && assetList.length > 0" class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">\r
    <!-- Table Header -->\r
    <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">\r
      <div class="grid grid-cols-12 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider">\r
        <div class="col-span-1 flex items-center">\r
          <input\r
            type="checkbox"\r
            [checked]="selectedCount === assetList.length && assetList.length > 0"\r
            [indeterminate]="selectedCount > 0 && selectedCount < assetList.length"\r
            (change)="toggleSelectAllAssets()"\r
            class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">\r
        </div>\r
        <div class="col-span-2">Asset ID & Name</div>\r
        <div class="col-span-2">Category & Type</div>\r
        <div class="col-span-2">Location</div>\r
        <div class="col-span-2">Description</div>\r
        <div class="col-span-2">Manufacturer & Model</div>\r
        <div class="col-span-1">Actions</div>\r
      </div>\r
    </div>\r
\r
    <!-- Table Body -->\r
    <div class="divide-y divide-gray-200">\r
      <div *ngFor="let asset of assetList"\r
           class="px-6 py-4 hover:bg-gray-50 transition-colors"\r
           [class.bg-blue-50]="asset.selected">\r
        <div class="grid grid-cols-12 gap-4 items-center">\r
          <!-- Checkbox -->\r
          <div class="col-span-1">\r
            <input\r
              type="checkbox"\r
              [(ngModel)]="asset.selected"\r
              class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">\r
          </div>\r
\r
          <!-- Asset ID & Name -->\r
          <div class="col-span-2">\r
            <div class="flex items-center space-x-3">\r
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                </svg>\r
              </div>\r
              <div>\r
                <div\r
                  class="font-medium text-gray-900 hover:text-blue-600 cursor-pointer transition-colors"\r
                  (click)="viewAsset(asset)">\r
                  {{asset.name || 'Unnamed Asset'}}\r
                </div>\r
                <div class="text-sm text-gray-500">{{asset.asset_id || 'AST-' + asset.id}}</div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Category & Type -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900">{{asset.category?.name || 'General'}}</div>\r
            <div class="text-sm text-gray-500">{{asset.asset_type?.name || asset.type || 'Standard Asset'}}</div>\r
          </div>\r
\r
          <!-- Location -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-600" *ngIf="asset.location_hierarchy && asset.location_hierarchy.length > 0">\r
              <div *ngFor="let loc of asset.location_hierarchy; let last = last">\r
                {{ loc.name }}<span *ngIf="!last"> \u2192 </span>\r
              </div>\r
            </div>\r
            <div class="text-sm text-gray-400" *ngIf="!asset.location_hierarchy || asset.location_hierarchy.length === 0">\r
              No location\r
            </div>\r
          </div>\r
\r
          <!-- Description -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900" *ngIf="asset.description">\r
              {{asset.description}}\r
            </div>\r
            <div class="text-sm text-gray-400" *ngIf="!asset.description">\r
              No description\r
            </div>\r
          </div>\r
\r
          <!-- Manufacturer & Model -->\r
          <div class="col-span-2">\r
            <div class="text-sm text-gray-900" *ngIf="asset.manufacturer">\r
              <span class="font-medium">MFG:</span> {{asset.manufacturer}}\r
            </div>\r
            <div class="text-sm text-gray-500" *ngIf="asset.model">\r
              <span class="font-medium">Model:</span> {{asset.model}}\r
            </div>\r
            <div class="text-sm text-gray-500" *ngIf="asset.capacity">\r
              <span class="font-medium">Capacity:</span> {{asset.capacity}}\r
            </div>\r
            <div class="text-sm text-gray-400" *ngIf="!asset.manufacturer && !asset.model && !asset.capacity">\r
              No details\r
            </div>\r
          </div>\r
\r
          <!-- Actions -->\r
          <div class="col-span-1">\r
            <div class="flex items-center space-x-2">\r
              <button\r
                (click)="viewAsset(asset)"\r
                class="p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                </svg>\r
              </button>\r
              <button\r
                class="p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-all">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                </svg>\r
              </button>\r
              <button\r
                class="p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-all">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                </svg>\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Pagination -->\r
  <app-pagination\r
    *ngIf="assetList.length > 0 || pagination.total > 0"\r
    [pagination]="pagination"\r
    (pageChange)="onPageChange($event)"\r
    (perPageChange)="onPerPageChange($event)">\r
  </app-pagination>\r
\r
  <!-- Archive Confirmation Modal -->\r
  <app-archive-confirmation-modal\r
    [isOpen]="showArchiveConfirmationModal"\r
    [selectedCount]="selectedCount"\r
    (closeModal)="closeArchiveModal()"\r
    (confirmArchive)="archiveSelected()">\r
  </app-archive-confirmation-modal>\r
\r
  <!-- Delete Confirmation Modal -->\r
  <app-delete-confirmation-modal\r
    [isOpen]="showDeleteConfirmationModal"\r
    [selectedCount]="selectedCount"\r
    (closeModal)="closeDeleteModal()"\r
    (confirmDelete)="deleteSelected($event)">\r
  </app-delete-confirmation-modal>\r
\r
  <!-- Restore Confirmation Modal -->\r
  <app-restore-confirmation-modal\r
    [isOpen]="showRestoreConfirmationModal"\r
    [selectedCount]="selectedCount > 0 ? selectedCount : 1"\r
    [assetName]="selectedAssetForRestore?.name || ''"\r
    (closeModal)="closeRestoreModal()"\r
    (confirmRestore)="restoreSelectedAsset($event)">\r
  </app-restore-confirmation-modal>\r
\r
\r
</div>\r
`, styles: ['/* src/app/assets/asset-list/asset-list.component.scss */\n.asset-list-page .asset-card-checkbox {\n  width: 20px !important;\n  height: 20px !important;\n  border-radius: 50% !important;\n  border-width: 2px;\n  border-color: #3b82f6;\n  appearance: none;\n  background-color: #fff;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  transition: border-color 0.2s;\n}\n.asset-list-page .asset-card-checkbox:checked {\n  background-color: #3b82f6;\n  border-color: #2563eb;\n}\n.asset-list-page .asset-card-checkbox:checked::after {\n  content: "";\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  top: 3px;\n  left: 3px;\n}\n.asset-list-page .asset-card-header {\n  background: #e0edff;\n  height: 8rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n  overflow: hidden;\n}\n.asset-list-page .asset-card {\n  border-radius: 1rem;\n  box-shadow: 0 2px 8px 0 rgba(16, 30, 54, 0.08);\n  overflow: hidden;\n  background: #fff;\n  border: 1px solid #bfdbfe;\n  display: flex;\n  flex-direction: column;\n  transition: box-shadow 0.2s;\n}\n.asset-list-page .asset-card hr {\n  margin-top: 0.75rem;\n  margin-bottom: 0.75rem;\n  border-color: #e5e7eb;\n}\n/*# sourceMappingURL=asset-list.component.css.map */\n'] }]
  }], () => [{ type: Router }, { type: AssetService }, { type: PdfExportService }], { onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetListComponent, { className: "AssetListComponent", filePath: "src/app/assets/asset-list/asset-list.component.ts", lineNumber: 23 });
})();

// node_modules/flatpickr/dist/esm/types/options.js
var HOOKS = ["onChange", "onClose", "onDayCreate", "onDestroy", "onKeyDown", "onMonthChange", "onOpen", "onParseConfig", "onReady", "onValueUpdate", "onYearChange", "onPreCalendarPosition"];
var defaults = {
  _disable: [],
  allowInput: false,
  allowInvalidPreload: false,
  altFormat: "F j, Y",
  altInput: false,
  altInputClass: "form-control input",
  animate: typeof window === "object" && window.navigator.userAgent.indexOf("MSIE") === -1,
  ariaDateFormat: "F j, Y",
  autoFillDefaultTime: true,
  clickOpens: true,
  closeOnSelect: true,
  conjunction: ", ",
  dateFormat: "Y-m-d",
  defaultHour: 12,
  defaultMinute: 0,
  defaultSeconds: 0,
  disable: [],
  disableMobile: false,
  enableSeconds: false,
  enableTime: false,
  errorHandler: function(err) {
    return typeof console !== "undefined" && console.warn(err);
  },
  getWeek: function(givenDate) {
    var date = new Date(givenDate.getTime());
    date.setHours(0, 0, 0, 0);
    date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
    var week1 = new Date(date.getFullYear(), 0, 4);
    return 1 + Math.round(((date.getTime() - week1.getTime()) / 864e5 - 3 + (week1.getDay() + 6) % 7) / 7);
  },
  hourIncrement: 1,
  ignoredFocusElements: [],
  inline: false,
  locale: "default",
  minuteIncrement: 5,
  mode: "single",
  monthSelectorType: "dropdown",
  nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
  noCalendar: false,
  now: /* @__PURE__ */ new Date(),
  onChange: [],
  onClose: [],
  onDayCreate: [],
  onDestroy: [],
  onKeyDown: [],
  onMonthChange: [],
  onOpen: [],
  onParseConfig: [],
  onReady: [],
  onValueUpdate: [],
  onYearChange: [],
  onPreCalendarPosition: [],
  plugins: [],
  position: "auto",
  positionElement: void 0,
  prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",
  shorthandCurrentMonth: false,
  showMonths: 1,
  static: false,
  time_24hr: false,
  weekNumbers: false,
  wrap: false
};

// node_modules/flatpickr/dist/esm/l10n/default.js
var english = {
  weekdays: {
    shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    longhand: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
  },
  months: {
    shorthand: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    longhand: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
  },
  daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
  firstDayOfWeek: 0,
  ordinal: function(nth) {
    var s = nth % 100;
    if (s > 3 && s < 21) return "th";
    switch (s % 10) {
      case 1:
        return "st";
      case 2:
        return "nd";
      case 3:
        return "rd";
      default:
        return "th";
    }
  },
  rangeSeparator: " to ",
  weekAbbreviation: "Wk",
  scrollTitle: "Scroll to increment",
  toggleTitle: "Click to toggle",
  amPM: ["AM", "PM"],
  yearAriaLabel: "Year",
  monthAriaLabel: "Month",
  hourAriaLabel: "Hour",
  minuteAriaLabel: "Minute",
  time_24hr: false
};
var default_default = english;

// node_modules/flatpickr/dist/esm/utils/index.js
var pad = function(number, length) {
  if (length === void 0) {
    length = 2;
  }
  return ("000" + number).slice(length * -1);
};
var int = function(bool) {
  return bool === true ? 1 : 0;
};
function debounce(fn, wait) {
  var t;
  return function() {
    var _this = this;
    var args = arguments;
    clearTimeout(t);
    t = setTimeout(function() {
      return fn.apply(_this, args);
    }, wait);
  };
}
var arrayify = function(obj) {
  return obj instanceof Array ? obj : [obj];
};

// node_modules/flatpickr/dist/esm/utils/dom.js
function toggleClass(elem, className, bool) {
  if (bool === true) return elem.classList.add(className);
  elem.classList.remove(className);
}
function createElement(tag, className, content) {
  var e = window.document.createElement(tag);
  className = className || "";
  content = content || "";
  e.className = className;
  if (content !== void 0) e.textContent = content;
  return e;
}
function clearNode(node) {
  while (node.firstChild) node.removeChild(node.firstChild);
}
function findParent(node, condition) {
  if (condition(node)) return node;
  else if (node.parentNode) return findParent(node.parentNode, condition);
  return void 0;
}
function createNumberInput(inputClassName, opts) {
  var wrapper = createElement("div", "numInputWrapper"), numInput = createElement("input", "numInput " + inputClassName), arrowUp = createElement("span", "arrowUp"), arrowDown = createElement("span", "arrowDown");
  if (navigator.userAgent.indexOf("MSIE 9.0") === -1) {
    numInput.type = "number";
  } else {
    numInput.type = "text";
    numInput.pattern = "\\d*";
  }
  if (opts !== void 0) for (var key in opts) numInput.setAttribute(key, opts[key]);
  wrapper.appendChild(numInput);
  wrapper.appendChild(arrowUp);
  wrapper.appendChild(arrowDown);
  return wrapper;
}
function getEventTarget(event) {
  try {
    if (typeof event.composedPath === "function") {
      var path = event.composedPath();
      return path[0];
    }
    return event.target;
  } catch (error) {
    return event.target;
  }
}

// node_modules/flatpickr/dist/esm/utils/formatting.js
var doNothing = function() {
  return void 0;
};
var monthToStr = function(monthNumber, shorthand, locale) {
  return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber];
};
var revFormat = {
  D: doNothing,
  F: function(dateObj, monthName, locale) {
    dateObj.setMonth(locale.months.longhand.indexOf(monthName));
  },
  G: function(dateObj, hour) {
    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
  },
  H: function(dateObj, hour) {
    dateObj.setHours(parseFloat(hour));
  },
  J: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  K: function(dateObj, amPM, locale) {
    dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], "i").test(amPM)));
  },
  M: function(dateObj, shortMonth, locale) {
    dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));
  },
  S: function(dateObj, seconds) {
    dateObj.setSeconds(parseFloat(seconds));
  },
  U: function(_, unixSeconds) {
    return new Date(parseFloat(unixSeconds) * 1e3);
  },
  W: function(dateObj, weekNum, locale) {
    var weekNumber = parseInt(weekNum);
    var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);
    date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);
    return date;
  },
  Y: function(dateObj, year) {
    dateObj.setFullYear(parseFloat(year));
  },
  Z: function(_, ISODate) {
    return new Date(ISODate);
  },
  d: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  h: function(dateObj, hour) {
    dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
  },
  i: function(dateObj, minutes) {
    dateObj.setMinutes(parseFloat(minutes));
  },
  j: function(dateObj, day) {
    dateObj.setDate(parseFloat(day));
  },
  l: doNothing,
  m: function(dateObj, month) {
    dateObj.setMonth(parseFloat(month) - 1);
  },
  n: function(dateObj, month) {
    dateObj.setMonth(parseFloat(month) - 1);
  },
  s: function(dateObj, seconds) {
    dateObj.setSeconds(parseFloat(seconds));
  },
  u: function(_, unixMillSeconds) {
    return new Date(parseFloat(unixMillSeconds));
  },
  w: doNothing,
  y: function(dateObj, year) {
    dateObj.setFullYear(2e3 + parseFloat(year));
  }
};
var tokenRegex = {
  D: "",
  F: "",
  G: "(\\d\\d|\\d)",
  H: "(\\d\\d|\\d)",
  J: "(\\d\\d|\\d)\\w+",
  K: "",
  M: "",
  S: "(\\d\\d|\\d)",
  U: "(.+)",
  W: "(\\d\\d|\\d)",
  Y: "(\\d{4})",
  Z: "(.+)",
  d: "(\\d\\d|\\d)",
  h: "(\\d\\d|\\d)",
  i: "(\\d\\d|\\d)",
  j: "(\\d\\d|\\d)",
  l: "",
  m: "(\\d\\d|\\d)",
  n: "(\\d\\d|\\d)",
  s: "(\\d\\d|\\d)",
  u: "(.+)",
  w: "(\\d\\d|\\d)",
  y: "(\\d{2})"
};
var formats = {
  Z: function(date) {
    return date.toISOString();
  },
  D: function(date, locale, options) {
    return locale.weekdays.shorthand[formats.w(date, locale, options)];
  },
  F: function(date, locale, options) {
    return monthToStr(formats.n(date, locale, options) - 1, false, locale);
  },
  G: function(date, locale, options) {
    return pad(formats.h(date, locale, options));
  },
  H: function(date) {
    return pad(date.getHours());
  },
  J: function(date, locale) {
    return locale.ordinal !== void 0 ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();
  },
  K: function(date, locale) {
    return locale.amPM[int(date.getHours() > 11)];
  },
  M: function(date, locale) {
    return monthToStr(date.getMonth(), true, locale);
  },
  S: function(date) {
    return pad(date.getSeconds());
  },
  U: function(date) {
    return date.getTime() / 1e3;
  },
  W: function(date, _, options) {
    return options.getWeek(date);
  },
  Y: function(date) {
    return pad(date.getFullYear(), 4);
  },
  d: function(date) {
    return pad(date.getDate());
  },
  h: function(date) {
    return date.getHours() % 12 ? date.getHours() % 12 : 12;
  },
  i: function(date) {
    return pad(date.getMinutes());
  },
  j: function(date) {
    return date.getDate();
  },
  l: function(date, locale) {
    return locale.weekdays.longhand[date.getDay()];
  },
  m: function(date) {
    return pad(date.getMonth() + 1);
  },
  n: function(date) {
    return date.getMonth() + 1;
  },
  s: function(date) {
    return date.getSeconds();
  },
  u: function(date) {
    return date.getTime();
  },
  w: function(date) {
    return date.getDay();
  },
  y: function(date) {
    return String(date.getFullYear()).substring(2);
  }
};

// node_modules/flatpickr/dist/esm/utils/dates.js
var createDateFormatter = function(_a) {
  var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;
  return function(dateObj, frmt, overrideLocale) {
    var locale = overrideLocale || l10n;
    if (config.formatDate !== void 0 && !isMobile) {
      return config.formatDate(dateObj, frmt, locale);
    }
    return frmt.split("").map(function(c, i, arr) {
      return formats[c] && arr[i - 1] !== "\\" ? formats[c](dateObj, locale, config) : c !== "\\" ? c : "";
    }).join("");
  };
};
var createDateParser = function(_a) {
  var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;
  return function(date, givenFormat, timeless, customLocale) {
    if (date !== 0 && !date) return void 0;
    var locale = customLocale || l10n;
    var parsedDate;
    var dateOrig = date;
    if (date instanceof Date) parsedDate = new Date(date.getTime());
    else if (typeof date !== "string" && date.toFixed !== void 0) parsedDate = new Date(date);
    else if (typeof date === "string") {
      var format = givenFormat || (config || defaults).dateFormat;
      var datestr = String(date).trim();
      if (datestr === "today") {
        parsedDate = /* @__PURE__ */ new Date();
        timeless = true;
      } else if (config && config.parseDate) {
        parsedDate = config.parseDate(date, format);
      } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) {
        parsedDate = new Date(date);
      } else {
        var matched = void 0, ops = [];
        for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {
          var token = format[i];
          var isBackSlash = token === "\\";
          var escaped = format[i - 1] === "\\" || isBackSlash;
          if (tokenRegex[token] && !escaped) {
            regexStr += tokenRegex[token];
            var match = new RegExp(regexStr).exec(date);
            if (match && (matched = true)) {
              ops[token !== "Y" ? "push" : "unshift"]({
                fn: revFormat[token],
                val: match[++matchIndex]
              });
            }
          } else if (!isBackSlash) regexStr += ".";
        }
        parsedDate = !config || !config.noCalendar ? new Date((/* @__PURE__ */ new Date()).getFullYear(), 0, 1, 0, 0, 0, 0) : new Date((/* @__PURE__ */ new Date()).setHours(0, 0, 0, 0));
        ops.forEach(function(_a2) {
          var fn = _a2.fn, val = _a2.val;
          return parsedDate = fn(parsedDate, val, locale) || parsedDate;
        });
        parsedDate = matched ? parsedDate : void 0;
      }
    }
    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {
      config.errorHandler(new Error("Invalid date provided: " + dateOrig));
      return void 0;
    }
    if (timeless === true) parsedDate.setHours(0, 0, 0, 0);
    return parsedDate;
  };
};
function compareDates(date1, date2, timeless) {
  if (timeless === void 0) {
    timeless = true;
  }
  if (timeless !== false) {
    return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);
  }
  return date1.getTime() - date2.getTime();
}
var isBetween = function(ts, ts1, ts2) {
  return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);
};
var calculateSecondsSinceMidnight = function(hours, minutes, seconds) {
  return hours * 3600 + minutes * 60 + seconds;
};
var parseSeconds = function(secondsSinceMidnight) {
  var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;
  return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];
};
var duration = {
  DAY: 864e5
};
function getDefaultHours(config) {
  var hours = config.defaultHour;
  var minutes = config.defaultMinute;
  var seconds = config.defaultSeconds;
  if (config.minDate !== void 0) {
    var minHour = config.minDate.getHours();
    var minMinutes = config.minDate.getMinutes();
    var minSeconds = config.minDate.getSeconds();
    if (hours < minHour) {
      hours = minHour;
    }
    if (hours === minHour && minutes < minMinutes) {
      minutes = minMinutes;
    }
    if (hours === minHour && minutes === minMinutes && seconds < minSeconds) seconds = config.minDate.getSeconds();
  }
  if (config.maxDate !== void 0) {
    var maxHr = config.maxDate.getHours();
    var maxMinutes = config.maxDate.getMinutes();
    hours = Math.min(hours, maxHr);
    if (hours === maxHr) minutes = Math.min(maxMinutes, minutes);
    if (hours === maxHr && minutes === maxMinutes) seconds = config.maxDate.getSeconds();
  }
  return {
    hours,
    minutes,
    seconds
  };
}

// node_modules/flatpickr/dist/esm/utils/polyfills.js
if (typeof Object.assign !== "function") {
  Object.assign = function(target) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }
    if (!target) {
      throw TypeError("Cannot convert undefined or null to object");
    }
    var _loop_1 = function(source2) {
      if (source2) {
        Object.keys(source2).forEach(function(key) {
          return target[key] = source2[key];
        });
      }
    };
    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {
      var source = args_1[_a];
      _loop_1(source);
    }
    return target;
  };
}

// node_modules/flatpickr/dist/esm/index.js
var __assign = function() {
  __assign = Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var __spreadArrays = function() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];
  return r;
};
var DEBOUNCED_CHANGE_MS = 300;
function FlatpickrInstance(element, instanceConfig) {
  var self = {
    config: __assign(__assign({}, defaults), flatpickr.defaultConfig),
    l10n: default_default
  };
  self.parseDate = createDateParser({
    config: self.config,
    l10n: self.l10n
  });
  self._handlers = [];
  self.pluginElements = [];
  self.loadedPlugins = [];
  self._bind = bind;
  self._setHoursFromDate = setHoursFromDate;
  self._positionCalendar = positionCalendar;
  self.changeMonth = changeMonth;
  self.changeYear = changeYear;
  self.clear = clear;
  self.close = close;
  self.onMouseOver = onMouseOver;
  self._createElement = createElement;
  self.createDay = createDay;
  self.destroy = destroy;
  self.isEnabled = isEnabled;
  self.jumpToDate = jumpToDate;
  self.updateValue = updateValue;
  self.open = open;
  self.redraw = redraw;
  self.set = set2;
  self.setDate = setDate;
  self.toggle = toggle;
  function setupHelperFunctions() {
    self.utils = {
      getDaysInMonth: function(month, yr) {
        if (month === void 0) {
          month = self.currentMonth;
        }
        if (yr === void 0) {
          yr = self.currentYear;
        }
        if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;
        return self.l10n.daysInMonth[month];
      }
    };
  }
  function init() {
    self.element = self.input = element;
    self.isOpen = false;
    parseConfig();
    setupLocale();
    setupInputs();
    setupDates();
    setupHelperFunctions();
    if (!self.isMobile) build();
    bindEvents();
    if (self.selectedDates.length || self.config.noCalendar) {
      if (self.config.enableTime) {
        setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : void 0);
      }
      updateValue(false);
    }
    setCalendarWidth();
    var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
    if (!self.isMobile && isSafari) {
      positionCalendar();
    }
    triggerEvent("onReady");
  }
  function getClosestActiveElement() {
    var _a;
    return ((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode()).activeElement || document.activeElement;
  }
  function bindToInstance(fn) {
    return fn.bind(self);
  }
  function setCalendarWidth() {
    var config = self.config;
    if (config.weekNumbers === false && config.showMonths === 1) {
      return;
    } else if (config.noCalendar !== true) {
      window.requestAnimationFrame(function() {
        if (self.calendarContainer !== void 0) {
          self.calendarContainer.style.visibility = "hidden";
          self.calendarContainer.style.display = "block";
        }
        if (self.daysContainer !== void 0) {
          var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;
          self.daysContainer.style.width = daysWidth + "px";
          self.calendarContainer.style.width = daysWidth + (self.weekWrapper !== void 0 ? self.weekWrapper.offsetWidth : 0) + "px";
          self.calendarContainer.style.removeProperty("visibility");
          self.calendarContainer.style.removeProperty("display");
        }
      });
    }
  }
  function updateTime(e) {
    if (self.selectedDates.length === 0) {
      var defaultDate = self.config.minDate === void 0 || compareDates(/* @__PURE__ */ new Date(), self.config.minDate) >= 0 ? /* @__PURE__ */ new Date() : new Date(self.config.minDate.getTime());
      var defaults3 = getDefaultHours(self.config);
      defaultDate.setHours(defaults3.hours, defaults3.minutes, defaults3.seconds, defaultDate.getMilliseconds());
      self.selectedDates = [defaultDate];
      self.latestSelectedDateObj = defaultDate;
    }
    if (e !== void 0 && e.type !== "blur") {
      timeWrapper(e);
    }
    var prevValue = self._input.value;
    setHoursFromInputs();
    updateValue();
    if (self._input.value !== prevValue) {
      self._debouncedChange();
    }
  }
  function ampm2military(hour, amPM) {
    return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);
  }
  function military2ampm(hour) {
    switch (hour % 24) {
      case 0:
      case 12:
        return 12;
      default:
        return hour % 12;
    }
  }
  function setHoursFromInputs() {
    if (self.hourElement === void 0 || self.minuteElement === void 0) return;
    var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== void 0 ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;
    if (self.amPM !== void 0) {
      hours = ampm2military(hours, self.amPM.textContent);
    }
    var limitMinHours = self.config.minTime !== void 0 || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;
    var limitMaxHours = self.config.maxTime !== void 0 || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;
    if (self.config.maxTime !== void 0 && self.config.minTime !== void 0 && self.config.minTime > self.config.maxTime) {
      var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());
      var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());
      var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);
      if (currentTime > maxBound && currentTime < minBound) {
        var result = parseSeconds(minBound);
        hours = result[0];
        minutes = result[1];
        seconds = result[2];
      }
    } else {
      if (limitMaxHours) {
        var maxTime = self.config.maxTime !== void 0 ? self.config.maxTime : self.config.maxDate;
        hours = Math.min(hours, maxTime.getHours());
        if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());
        if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());
      }
      if (limitMinHours) {
        var minTime = self.config.minTime !== void 0 ? self.config.minTime : self.config.minDate;
        hours = Math.max(hours, minTime.getHours());
        if (hours === minTime.getHours() && minutes < minTime.getMinutes()) minutes = minTime.getMinutes();
        if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());
      }
    }
    setHours(hours, minutes, seconds);
  }
  function setHoursFromDate(dateObj) {
    var date = dateObj || self.latestSelectedDateObj;
    if (date && date instanceof Date) {
      setHours(date.getHours(), date.getMinutes(), date.getSeconds());
    }
  }
  function setHours(hours, minutes, seconds) {
    if (self.latestSelectedDateObj !== void 0) {
      self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);
    }
    if (!self.hourElement || !self.minuteElement || self.isMobile) return;
    self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);
    self.minuteElement.value = pad(minutes);
    if (self.amPM !== void 0) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];
    if (self.secondElement !== void 0) self.secondElement.value = pad(seconds);
  }
  function onYearInput(event) {
    var eventTarget = getEventTarget(event);
    var year = parseInt(eventTarget.value) + (event.delta || 0);
    if (year / 1e3 > 1 || event.key === "Enter" && !/[^\d]/.test(year.toString())) {
      changeYear(year);
    }
  }
  function bind(element2, event, handler, options) {
    if (event instanceof Array) return event.forEach(function(ev) {
      return bind(element2, ev, handler, options);
    });
    if (element2 instanceof Array) return element2.forEach(function(el) {
      return bind(el, event, handler, options);
    });
    element2.addEventListener(event, handler, options);
    self._handlers.push({
      remove: function() {
        return element2.removeEventListener(event, handler, options);
      }
    });
  }
  function triggerChange() {
    triggerEvent("onChange");
  }
  function bindEvents() {
    if (self.config.wrap) {
      ["open", "close", "toggle", "clear"].forEach(function(evt) {
        Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function(el) {
          return bind(el, "click", self[evt]);
        });
      });
    }
    if (self.isMobile) {
      setupMobile();
      return;
    }
    var debouncedResize = debounce(onResize, 50);
    self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);
    if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, "mouseover", function(e) {
      if (self.config.mode === "range") onMouseOver(getEventTarget(e));
    });
    bind(self._input, "keydown", onKeyDown);
    if (self.calendarContainer !== void 0) {
      bind(self.calendarContainer, "keydown", onKeyDown);
    }
    if (!self.config.inline && !self.config.static) bind(window, "resize", debouncedResize);
    if (window.ontouchstart !== void 0) bind(window.document, "touchstart", documentClick);
    else bind(window.document, "mousedown", documentClick);
    bind(window.document, "focus", documentClick, {
      capture: true
    });
    if (self.config.clickOpens === true) {
      bind(self._input, "focus", self.open);
      bind(self._input, "click", self.open);
    }
    if (self.daysContainer !== void 0) {
      bind(self.monthNav, "click", onMonthNavClick);
      bind(self.monthNav, ["keyup", "increment"], onYearInput);
      bind(self.daysContainer, "click", selectDate);
    }
    if (self.timeContainer !== void 0 && self.minuteElement !== void 0 && self.hourElement !== void 0) {
      var selText = function(e) {
        return getEventTarget(e).select();
      };
      bind(self.timeContainer, ["increment"], updateTime);
      bind(self.timeContainer, "blur", updateTime, {
        capture: true
      });
      bind(self.timeContainer, "click", timeIncrement);
      bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);
      if (self.secondElement !== void 0) bind(self.secondElement, "focus", function() {
        return self.secondElement && self.secondElement.select();
      });
      if (self.amPM !== void 0) {
        bind(self.amPM, "click", function(e) {
          updateTime(e);
        });
      }
    }
    if (self.config.allowInput) {
      bind(self._input, "blur", onBlur);
    }
  }
  function jumpToDate(jumpDate, triggerChange2) {
    var jumpTo = jumpDate !== void 0 ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);
    var oldYear = self.currentYear;
    var oldMonth = self.currentMonth;
    try {
      if (jumpTo !== void 0) {
        self.currentYear = jumpTo.getFullYear();
        self.currentMonth = jumpTo.getMonth();
      }
    } catch (e) {
      e.message = "Invalid date supplied: " + jumpTo;
      self.config.errorHandler(e);
    }
    if (triggerChange2 && self.currentYear !== oldYear) {
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
    if (triggerChange2 && (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {
      triggerEvent("onMonthChange");
    }
    self.redraw();
  }
  function timeIncrement(e) {
    var eventTarget = getEventTarget(e);
    if (~eventTarget.className.indexOf("arrow")) incrementNumInput(e, eventTarget.classList.contains("arrowUp") ? 1 : -1);
  }
  function incrementNumInput(e, delta, inputElem) {
    var target = e && getEventTarget(e);
    var input = inputElem || target && target.parentNode && target.parentNode.firstChild;
    var event = createEvent("increment");
    event.delta = delta;
    input && input.dispatchEvent(event);
  }
  function build() {
    var fragment = window.document.createDocumentFragment();
    self.calendarContainer = createElement("div", "flatpickr-calendar");
    self.calendarContainer.tabIndex = -1;
    if (!self.config.noCalendar) {
      fragment.appendChild(buildMonthNav());
      self.innerContainer = createElement("div", "flatpickr-innerContainer");
      if (self.config.weekNumbers) {
        var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;
        self.innerContainer.appendChild(weekWrapper);
        self.weekNumbers = weekNumbers;
        self.weekWrapper = weekWrapper;
      }
      self.rContainer = createElement("div", "flatpickr-rContainer");
      self.rContainer.appendChild(buildWeekdays());
      if (!self.daysContainer) {
        self.daysContainer = createElement("div", "flatpickr-days");
        self.daysContainer.tabIndex = -1;
      }
      buildDays();
      self.rContainer.appendChild(self.daysContainer);
      self.innerContainer.appendChild(self.rContainer);
      fragment.appendChild(self.innerContainer);
    }
    if (self.config.enableTime) {
      fragment.appendChild(buildTime());
    }
    toggleClass(self.calendarContainer, "rangeMode", self.config.mode === "range");
    toggleClass(self.calendarContainer, "animate", self.config.animate === true);
    toggleClass(self.calendarContainer, "multiMonth", self.config.showMonths > 1);
    self.calendarContainer.appendChild(fragment);
    var customAppend = self.config.appendTo !== void 0 && self.config.appendTo.nodeType !== void 0;
    if (self.config.inline || self.config.static) {
      self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");
      if (self.config.inline) {
        if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);
        else if (self.config.appendTo !== void 0) self.config.appendTo.appendChild(self.calendarContainer);
      }
      if (self.config.static) {
        var wrapper = createElement("div", "flatpickr-wrapper");
        if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);
        wrapper.appendChild(self.element);
        if (self.altInput) wrapper.appendChild(self.altInput);
        wrapper.appendChild(self.calendarContainer);
      }
    }
    if (!self.config.static && !self.config.inline) (self.config.appendTo !== void 0 ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);
  }
  function createDay(className, date, _dayNumber, i) {
    var dateIsEnabled = isEnabled(date, true), dayElement = createElement("span", className, date.getDate().toString());
    dayElement.dateObj = date;
    dayElement.$i = i;
    dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));
    if (className.indexOf("hidden") === -1 && compareDates(date, self.now) === 0) {
      self.todayDateElem = dayElement;
      dayElement.classList.add("today");
      dayElement.setAttribute("aria-current", "date");
    }
    if (dateIsEnabled) {
      dayElement.tabIndex = -1;
      if (isDateSelected(date)) {
        dayElement.classList.add("selected");
        self.selectedDateElem = dayElement;
        if (self.config.mode === "range") {
          toggleClass(dayElement, "startRange", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);
          toggleClass(dayElement, "endRange", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);
          if (className === "nextMonthDay") dayElement.classList.add("inRange");
        }
      }
    } else {
      dayElement.classList.add("flatpickr-disabled");
    }
    if (self.config.mode === "range") {
      if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add("inRange");
    }
    if (self.weekNumbers && self.config.showMonths === 1 && className !== "prevMonthDay" && i % 7 === 6) {
      self.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + self.config.getWeek(date) + "</span>");
    }
    triggerEvent("onDayCreate", dayElement);
    return dayElement;
  }
  function focusOnDayElem(targetNode) {
    targetNode.focus();
    if (self.config.mode === "range") onMouseOver(targetNode);
  }
  function getFirstAvailableDay(delta) {
    var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;
    var endMonth = delta > 0 ? self.config.showMonths : -1;
    for (var m = startMonth; m != endMonth; m += delta) {
      var month = self.daysContainer.children[m];
      var startIndex = delta > 0 ? 0 : month.children.length - 1;
      var endIndex = delta > 0 ? month.children.length : -1;
      for (var i = startIndex; i != endIndex; i += delta) {
        var c = month.children[i];
        if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj)) return c;
      }
    }
    return void 0;
  }
  function getNextAvailableDay(current, delta) {
    var givenMonth = current.className.indexOf("Month") === -1 ? current.dateObj.getMonth() : self.currentMonth;
    var endMonth = delta > 0 ? self.config.showMonths : -1;
    var loopDelta = delta > 0 ? 1 : -1;
    for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {
      var month = self.daysContainer.children[m];
      var startIndex = givenMonth - self.currentMonth === m ? current.$i + delta : delta < 0 ? month.children.length - 1 : 0;
      var numMonthDays = month.children.length;
      for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {
        var c = month.children[i];
        if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj) && Math.abs(current.$i - i) >= Math.abs(delta)) return focusOnDayElem(c);
      }
    }
    self.changeMonth(loopDelta);
    focusOnDay(getFirstAvailableDay(loopDelta), 0);
    return void 0;
  }
  function focusOnDay(current, offset) {
    var activeElement = getClosestActiveElement();
    var dayFocused = isInView(activeElement || document.body);
    var startElem = current !== void 0 ? current : dayFocused ? activeElement : self.selectedDateElem !== void 0 && isInView(self.selectedDateElem) ? self.selectedDateElem : self.todayDateElem !== void 0 && isInView(self.todayDateElem) ? self.todayDateElem : getFirstAvailableDay(offset > 0 ? 1 : -1);
    if (startElem === void 0) {
      self._input.focus();
    } else if (!dayFocused) {
      focusOnDayElem(startElem);
    } else {
      getNextAvailableDay(startElem, offset);
    }
  }
  function buildMonthDays(year, month) {
    var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;
    var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);
    var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? "prevMonthDay hidden" : "prevMonthDay", nextMonthDayClass = isMultiMonth ? "nextMonthDay hidden" : "nextMonthDay";
    var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;
    for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day " + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));
    }
    for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day", new Date(year, month, dayNumber), dayNumber, dayIndex));
    }
    for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {
      days.appendChild(createDay("flatpickr-day " + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));
    }
    var dayContainer = createElement("div", "dayContainer");
    dayContainer.appendChild(days);
    return dayContainer;
  }
  function buildDays() {
    if (self.daysContainer === void 0) {
      return;
    }
    clearNode(self.daysContainer);
    if (self.weekNumbers) clearNode(self.weekNumbers);
    var frag = document.createDocumentFragment();
    for (var i = 0; i < self.config.showMonths; i++) {
      var d = new Date(self.currentYear, self.currentMonth, 1);
      d.setMonth(self.currentMonth + i);
      frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));
    }
    self.daysContainer.appendChild(frag);
    self.days = self.daysContainer.firstChild;
    if (self.config.mode === "range" && self.selectedDates.length === 1) {
      onMouseOver();
    }
  }
  function buildMonthSwitch() {
    if (self.config.showMonths > 1 || self.config.monthSelectorType !== "dropdown") return;
    var shouldBuildMonth = function(month2) {
      if (self.config.minDate !== void 0 && self.currentYear === self.config.minDate.getFullYear() && month2 < self.config.minDate.getMonth()) {
        return false;
      }
      return !(self.config.maxDate !== void 0 && self.currentYear === self.config.maxDate.getFullYear() && month2 > self.config.maxDate.getMonth());
    };
    self.monthsDropdownContainer.tabIndex = -1;
    self.monthsDropdownContainer.innerHTML = "";
    for (var i = 0; i < 12; i++) {
      if (!shouldBuildMonth(i)) continue;
      var month = createElement("option", "flatpickr-monthDropdown-month");
      month.value = new Date(self.currentYear, i).getMonth().toString();
      month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);
      month.tabIndex = -1;
      if (self.currentMonth === i) {
        month.selected = true;
      }
      self.monthsDropdownContainer.appendChild(month);
    }
  }
  function buildMonth() {
    var container = createElement("div", "flatpickr-month");
    var monthNavFragment = window.document.createDocumentFragment();
    var monthElement;
    if (self.config.showMonths > 1 || self.config.monthSelectorType === "static") {
      monthElement = createElement("span", "cur-month");
    } else {
      self.monthsDropdownContainer = createElement("select", "flatpickr-monthDropdown-months");
      self.monthsDropdownContainer.setAttribute("aria-label", self.l10n.monthAriaLabel);
      bind(self.monthsDropdownContainer, "change", function(e) {
        var target = getEventTarget(e);
        var selectedMonth = parseInt(target.value, 10);
        self.changeMonth(selectedMonth - self.currentMonth);
        triggerEvent("onMonthChange");
      });
      buildMonthSwitch();
      monthElement = self.monthsDropdownContainer;
    }
    var yearInput = createNumberInput("cur-year", {
      tabindex: "-1"
    });
    var yearElement = yearInput.getElementsByTagName("input")[0];
    yearElement.setAttribute("aria-label", self.l10n.yearAriaLabel);
    if (self.config.minDate) {
      yearElement.setAttribute("min", self.config.minDate.getFullYear().toString());
    }
    if (self.config.maxDate) {
      yearElement.setAttribute("max", self.config.maxDate.getFullYear().toString());
      yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();
    }
    var currentMonth = createElement("div", "flatpickr-current-month");
    currentMonth.appendChild(monthElement);
    currentMonth.appendChild(yearInput);
    monthNavFragment.appendChild(currentMonth);
    container.appendChild(monthNavFragment);
    return {
      container,
      yearElement,
      monthElement
    };
  }
  function buildMonths() {
    clearNode(self.monthNav);
    self.monthNav.appendChild(self.prevMonthNav);
    if (self.config.showMonths) {
      self.yearElements = [];
      self.monthElements = [];
    }
    for (var m = self.config.showMonths; m--; ) {
      var month = buildMonth();
      self.yearElements.push(month.yearElement);
      self.monthElements.push(month.monthElement);
      self.monthNav.appendChild(month.container);
    }
    self.monthNav.appendChild(self.nextMonthNav);
  }
  function buildMonthNav() {
    self.monthNav = createElement("div", "flatpickr-months");
    self.yearElements = [];
    self.monthElements = [];
    self.prevMonthNav = createElement("span", "flatpickr-prev-month");
    self.prevMonthNav.innerHTML = self.config.prevArrow;
    self.nextMonthNav = createElement("span", "flatpickr-next-month");
    self.nextMonthNav.innerHTML = self.config.nextArrow;
    buildMonths();
    Object.defineProperty(self, "_hidePrevMonthArrow", {
      get: function() {
        return self.__hidePrevMonthArrow;
      },
      set: function(bool) {
        if (self.__hidePrevMonthArrow !== bool) {
          toggleClass(self.prevMonthNav, "flatpickr-disabled", bool);
          self.__hidePrevMonthArrow = bool;
        }
      }
    });
    Object.defineProperty(self, "_hideNextMonthArrow", {
      get: function() {
        return self.__hideNextMonthArrow;
      },
      set: function(bool) {
        if (self.__hideNextMonthArrow !== bool) {
          toggleClass(self.nextMonthNav, "flatpickr-disabled", bool);
          self.__hideNextMonthArrow = bool;
        }
      }
    });
    self.currentYearElement = self.yearElements[0];
    updateNavigationCurrentMonth();
    return self.monthNav;
  }
  function buildTime() {
    self.calendarContainer.classList.add("hasTime");
    if (self.config.noCalendar) self.calendarContainer.classList.add("noCalendar");
    var defaults3 = getDefaultHours(self.config);
    self.timeContainer = createElement("div", "flatpickr-time");
    self.timeContainer.tabIndex = -1;
    var separator = createElement("span", "flatpickr-time-separator", ":");
    var hourInput = createNumberInput("flatpickr-hour", {
      "aria-label": self.l10n.hourAriaLabel
    });
    self.hourElement = hourInput.getElementsByTagName("input")[0];
    var minuteInput = createNumberInput("flatpickr-minute", {
      "aria-label": self.l10n.minuteAriaLabel
    });
    self.minuteElement = minuteInput.getElementsByTagName("input")[0];
    self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;
    self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? defaults3.hours : military2ampm(defaults3.hours));
    self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : defaults3.minutes);
    self.hourElement.setAttribute("step", self.config.hourIncrement.toString());
    self.minuteElement.setAttribute("step", self.config.minuteIncrement.toString());
    self.hourElement.setAttribute("min", self.config.time_24hr ? "0" : "1");
    self.hourElement.setAttribute("max", self.config.time_24hr ? "23" : "12");
    self.hourElement.setAttribute("maxlength", "2");
    self.minuteElement.setAttribute("min", "0");
    self.minuteElement.setAttribute("max", "59");
    self.minuteElement.setAttribute("maxlength", "2");
    self.timeContainer.appendChild(hourInput);
    self.timeContainer.appendChild(separator);
    self.timeContainer.appendChild(minuteInput);
    if (self.config.time_24hr) self.timeContainer.classList.add("time24hr");
    if (self.config.enableSeconds) {
      self.timeContainer.classList.add("hasSeconds");
      var secondInput = createNumberInput("flatpickr-second");
      self.secondElement = secondInput.getElementsByTagName("input")[0];
      self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : defaults3.seconds);
      self.secondElement.setAttribute("step", self.minuteElement.getAttribute("step"));
      self.secondElement.setAttribute("min", "0");
      self.secondElement.setAttribute("max", "59");
      self.secondElement.setAttribute("maxlength", "2");
      self.timeContainer.appendChild(createElement("span", "flatpickr-time-separator", ":"));
      self.timeContainer.appendChild(secondInput);
    }
    if (!self.config.time_24hr) {
      self.amPM = createElement("span", "flatpickr-am-pm", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);
      self.amPM.title = self.l10n.toggleTitle;
      self.amPM.tabIndex = -1;
      self.timeContainer.appendChild(self.amPM);
    }
    return self.timeContainer;
  }
  function buildWeekdays() {
    if (!self.weekdayContainer) self.weekdayContainer = createElement("div", "flatpickr-weekdays");
    else clearNode(self.weekdayContainer);
    for (var i = self.config.showMonths; i--; ) {
      var container = createElement("div", "flatpickr-weekdaycontainer");
      self.weekdayContainer.appendChild(container);
    }
    updateWeekdays();
    return self.weekdayContainer;
  }
  function updateWeekdays() {
    if (!self.weekdayContainer) {
      return;
    }
    var firstDayOfWeek = self.l10n.firstDayOfWeek;
    var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);
    if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {
      weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));
    }
    for (var i = self.config.showMonths; i--; ) {
      self.weekdayContainer.children[i].innerHTML = "\n      <span class='flatpickr-weekday'>\n        " + weekdays.join("</span><span class='flatpickr-weekday'>") + "\n      </span>\n      ";
    }
  }
  function buildWeeks() {
    self.calendarContainer.classList.add("hasWeeks");
    var weekWrapper = createElement("div", "flatpickr-weekwrapper");
    weekWrapper.appendChild(createElement("span", "flatpickr-weekday", self.l10n.weekAbbreviation));
    var weekNumbers = createElement("div", "flatpickr-weeks");
    weekWrapper.appendChild(weekNumbers);
    return {
      weekWrapper,
      weekNumbers
    };
  }
  function changeMonth(value, isOffset) {
    if (isOffset === void 0) {
      isOffset = true;
    }
    var delta = isOffset ? value : value - self.currentMonth;
    if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;
    self.currentMonth += delta;
    if (self.currentMonth < 0 || self.currentMonth > 11) {
      self.currentYear += self.currentMonth > 11 ? 1 : -1;
      self.currentMonth = (self.currentMonth + 12) % 12;
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
    buildDays();
    triggerEvent("onMonthChange");
    updateNavigationCurrentMonth();
  }
  function clear(triggerChangeEvent, toInitial) {
    if (triggerChangeEvent === void 0) {
      triggerChangeEvent = true;
    }
    if (toInitial === void 0) {
      toInitial = true;
    }
    self.input.value = "";
    if (self.altInput !== void 0) self.altInput.value = "";
    if (self.mobileInput !== void 0) self.mobileInput.value = "";
    self.selectedDates = [];
    self.latestSelectedDateObj = void 0;
    if (toInitial === true) {
      self.currentYear = self._initialDate.getFullYear();
      self.currentMonth = self._initialDate.getMonth();
    }
    if (self.config.enableTime === true) {
      var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;
      setHours(hours, minutes, seconds);
    }
    self.redraw();
    if (triggerChangeEvent) triggerEvent("onChange");
  }
  function close() {
    self.isOpen = false;
    if (!self.isMobile) {
      if (self.calendarContainer !== void 0) {
        self.calendarContainer.classList.remove("open");
      }
      if (self._input !== void 0) {
        self._input.classList.remove("active");
      }
    }
    triggerEvent("onClose");
  }
  function destroy() {
    if (self.config !== void 0) triggerEvent("onDestroy");
    for (var i = self._handlers.length; i--; ) {
      self._handlers[i].remove();
    }
    self._handlers = [];
    if (self.mobileInput) {
      if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);
      self.mobileInput = void 0;
    } else if (self.calendarContainer && self.calendarContainer.parentNode) {
      if (self.config.static && self.calendarContainer.parentNode) {
        var wrapper = self.calendarContainer.parentNode;
        wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);
        if (wrapper.parentNode) {
          while (wrapper.firstChild) wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);
          wrapper.parentNode.removeChild(wrapper);
        }
      } else self.calendarContainer.parentNode.removeChild(self.calendarContainer);
    }
    if (self.altInput) {
      self.input.type = "text";
      if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);
      delete self.altInput;
    }
    if (self.input) {
      self.input.type = self.input._type;
      self.input.classList.remove("flatpickr-input");
      self.input.removeAttribute("readonly");
    }
    ["_showTimeInput", "latestSelectedDateObj", "_hideNextMonthArrow", "_hidePrevMonthArrow", "__hideNextMonthArrow", "__hidePrevMonthArrow", "isMobile", "isOpen", "selectedDateElem", "minDateHasTime", "maxDateHasTime", "days", "daysContainer", "_input", "_positionElement", "innerContainer", "rContainer", "monthNav", "todayDateElem", "calendarContainer", "weekdayContainer", "prevMonthNav", "nextMonthNav", "monthsDropdownContainer", "currentMonthElement", "currentYearElement", "navigationCurrentMonth", "selectedDateElem", "config"].forEach(function(k) {
      try {
        delete self[k];
      } catch (_) {
      }
    });
  }
  function isCalendarElem(elem) {
    return self.calendarContainer.contains(elem);
  }
  function documentClick(e) {
    if (self.isOpen && !self.config.inline) {
      var eventTarget_1 = getEventTarget(e);
      var isCalendarElement = isCalendarElem(eventTarget_1);
      var isInput = eventTarget_1 === self.input || eventTarget_1 === self.altInput || self.element.contains(eventTarget_1) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));
      var lostFocus = !isInput && !isCalendarElement && !isCalendarElem(e.relatedTarget);
      var isIgnored = !self.config.ignoredFocusElements.some(function(elem) {
        return elem.contains(eventTarget_1);
      });
      if (lostFocus && isIgnored) {
        if (self.config.allowInput) {
          self.setDate(self._input.value, false, self.config.altInput ? self.config.altFormat : self.config.dateFormat);
        }
        if (self.timeContainer !== void 0 && self.minuteElement !== void 0 && self.hourElement !== void 0 && self.input.value !== "" && self.input.value !== void 0) {
          updateTime();
        }
        self.close();
        if (self.config && self.config.mode === "range" && self.selectedDates.length === 1) self.clear(false);
      }
    }
  }
  function changeYear(newYear) {
    if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;
    var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;
    self.currentYear = newYearNum || self.currentYear;
    if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {
      self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);
    } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {
      self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);
    }
    if (isNewYear) {
      self.redraw();
      triggerEvent("onYearChange");
      buildMonthSwitch();
    }
  }
  function isEnabled(date, timeless) {
    var _a;
    if (timeless === void 0) {
      timeless = true;
    }
    var dateToCheck = self.parseDate(date, void 0, timeless);
    if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== void 0 ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== void 0 ? timeless : !self.maxDateHasTime) > 0) return false;
    if (!self.config.enable && self.config.disable.length === 0) return true;
    if (dateToCheck === void 0) return false;
    var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;
    for (var i = 0, d = void 0; i < array.length; i++) {
      d = array[i];
      if (typeof d === "function" && d(dateToCheck)) return bool;
      else if (d instanceof Date && dateToCheck !== void 0 && d.getTime() === dateToCheck.getTime()) return bool;
      else if (typeof d === "string") {
        var parsed = self.parseDate(d, void 0, true);
        return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;
      } else if (typeof d === "object" && dateToCheck !== void 0 && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;
    }
    return !bool;
  }
  function isInView(elem) {
    if (self.daysContainer !== void 0) return elem.className.indexOf("hidden") === -1 && elem.className.indexOf("flatpickr-disabled") === -1 && self.daysContainer.contains(elem);
    return false;
  }
  function onBlur(e) {
    var isInput = e.target === self._input;
    var valueChanged = self._input.value.trimEnd() !== getDateStr();
    if (isInput && valueChanged && !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {
      self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);
    }
  }
  function onKeyDown(e) {
    var eventTarget = getEventTarget(e);
    var isInput = self.config.wrap ? element.contains(eventTarget) : eventTarget === self._input;
    var allowInput = self.config.allowInput;
    var allowKeydown = self.isOpen && (!allowInput || !isInput);
    var allowInlineKeydown = self.config.inline && isInput && !allowInput;
    if (e.keyCode === 13 && isInput) {
      if (allowInput) {
        self.setDate(self._input.value, true, eventTarget === self.altInput ? self.config.altFormat : self.config.dateFormat);
        self.close();
        return eventTarget.blur();
      } else {
        self.open();
      }
    } else if (isCalendarElem(eventTarget) || allowKeydown || allowInlineKeydown) {
      var isTimeObj = !!self.timeContainer && self.timeContainer.contains(eventTarget);
      switch (e.keyCode) {
        case 13:
          if (isTimeObj) {
            e.preventDefault();
            updateTime();
            focusAndClose();
          } else selectDate(e);
          break;
        case 27:
          e.preventDefault();
          focusAndClose();
          break;
        case 8:
        case 46:
          if (isInput && !self.config.allowInput) {
            e.preventDefault();
            self.clear();
          }
          break;
        case 37:
        case 39:
          if (!isTimeObj && !isInput) {
            e.preventDefault();
            var activeElement = getClosestActiveElement();
            if (self.daysContainer !== void 0 && (allowInput === false || activeElement && isInView(activeElement))) {
              var delta_1 = e.keyCode === 39 ? 1 : -1;
              if (!e.ctrlKey) focusOnDay(void 0, delta_1);
              else {
                e.stopPropagation();
                changeMonth(delta_1);
                focusOnDay(getFirstAvailableDay(1), 0);
              }
            }
          } else if (self.hourElement) self.hourElement.focus();
          break;
        case 38:
        case 40:
          e.preventDefault();
          var delta = e.keyCode === 40 ? 1 : -1;
          if (self.daysContainer && eventTarget.$i !== void 0 || eventTarget === self.input || eventTarget === self.altInput) {
            if (e.ctrlKey) {
              e.stopPropagation();
              changeYear(self.currentYear - delta);
              focusOnDay(getFirstAvailableDay(1), 0);
            } else if (!isTimeObj) focusOnDay(void 0, delta * 7);
          } else if (eventTarget === self.currentYearElement) {
            changeYear(self.currentYear - delta);
          } else if (self.config.enableTime) {
            if (!isTimeObj && self.hourElement) self.hourElement.focus();
            updateTime(e);
            self._debouncedChange();
          }
          break;
        case 9:
          if (isTimeObj) {
            var elems = [self.hourElement, self.minuteElement, self.secondElement, self.amPM].concat(self.pluginElements).filter(function(x) {
              return x;
            });
            var i = elems.indexOf(eventTarget);
            if (i !== -1) {
              var target = elems[i + (e.shiftKey ? -1 : 1)];
              e.preventDefault();
              (target || self._input).focus();
            }
          } else if (!self.config.noCalendar && self.daysContainer && self.daysContainer.contains(eventTarget) && e.shiftKey) {
            e.preventDefault();
            self._input.focus();
          }
          break;
        default:
          break;
      }
    }
    if (self.amPM !== void 0 && eventTarget === self.amPM) {
      switch (e.key) {
        case self.l10n.amPM[0].charAt(0):
        case self.l10n.amPM[0].charAt(0).toLowerCase():
          self.amPM.textContent = self.l10n.amPM[0];
          setHoursFromInputs();
          updateValue();
          break;
        case self.l10n.amPM[1].charAt(0):
        case self.l10n.amPM[1].charAt(0).toLowerCase():
          self.amPM.textContent = self.l10n.amPM[1];
          setHoursFromInputs();
          updateValue();
          break;
      }
    }
    if (isInput || isCalendarElem(eventTarget)) {
      triggerEvent("onKeyDown", e);
    }
  }
  function onMouseOver(elem, cellClass) {
    if (cellClass === void 0) {
      cellClass = "flatpickr-day";
    }
    if (self.selectedDates.length !== 1 || elem && (!elem.classList.contains(cellClass) || elem.classList.contains("flatpickr-disabled"))) return;
    var hoverDate = elem ? elem.dateObj.getTime() : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], void 0, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());
    var containsDisabled = false;
    var minRange = 0, maxRange = 0;
    for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {
      if (!isEnabled(new Date(t), true)) {
        containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;
        if (t < initialDate && (!minRange || t > minRange)) minRange = t;
        else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;
      }
    }
    var hoverableCells = Array.from(self.rContainer.querySelectorAll("*:nth-child(-n+" + self.config.showMonths + ") > ." + cellClass));
    hoverableCells.forEach(function(dayElem) {
      var date = dayElem.dateObj;
      var timestamp = date.getTime();
      var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;
      if (outOfRange) {
        dayElem.classList.add("notAllowed");
        ["inRange", "startRange", "endRange"].forEach(function(c) {
          dayElem.classList.remove(c);
        });
        return;
      } else if (containsDisabled && !outOfRange) return;
      ["startRange", "inRange", "endRange", "notAllowed"].forEach(function(c) {
        dayElem.classList.remove(c);
      });
      if (elem !== void 0) {
        elem.classList.add(hoverDate <= self.selectedDates[0].getTime() ? "startRange" : "endRange");
        if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add("startRange");
        else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add("endRange");
        if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add("inRange");
      }
    });
  }
  function onResize() {
    if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();
  }
  function open(e, positionElement) {
    if (positionElement === void 0) {
      positionElement = self._positionElement;
    }
    if (self.isMobile === true) {
      if (e) {
        e.preventDefault();
        var eventTarget = getEventTarget(e);
        if (eventTarget) {
          eventTarget.blur();
        }
      }
      if (self.mobileInput !== void 0) {
        self.mobileInput.focus();
        self.mobileInput.click();
      }
      triggerEvent("onOpen");
      return;
    } else if (self._input.disabled || self.config.inline) {
      return;
    }
    var wasOpen = self.isOpen;
    self.isOpen = true;
    if (!wasOpen) {
      self.calendarContainer.classList.add("open");
      self._input.classList.add("active");
      triggerEvent("onOpen");
      positionCalendar(positionElement);
    }
    if (self.config.enableTime === true && self.config.noCalendar === true) {
      if (self.config.allowInput === false && (e === void 0 || !self.timeContainer.contains(e.relatedTarget))) {
        setTimeout(function() {
          return self.hourElement.select();
        }, 50);
      }
    }
  }
  function minMaxDateSetter(type) {
    return function(date) {
      var dateObj = self.config["_" + type + "Date"] = self.parseDate(date, self.config.dateFormat);
      var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];
      if (dateObj !== void 0) {
        self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;
      }
      if (self.selectedDates) {
        self.selectedDates = self.selectedDates.filter(function(d) {
          return isEnabled(d);
        });
        if (!self.selectedDates.length && type === "min") setHoursFromDate(dateObj);
        updateValue();
      }
      if (self.daysContainer) {
        redraw();
        if (dateObj !== void 0) self.currentYearElement[type] = dateObj.getFullYear().toString();
        else self.currentYearElement.removeAttribute(type);
        self.currentYearElement.disabled = !!inverseDateObj && dateObj !== void 0 && inverseDateObj.getFullYear() === dateObj.getFullYear();
      }
    };
  }
  function parseConfig() {
    var boolOpts = ["wrap", "weekNumbers", "allowInput", "allowInvalidPreload", "clickOpens", "time_24hr", "enableTime", "noCalendar", "altInput", "shorthandCurrentMonth", "inline", "static", "enableSeconds", "disableMobile"];
    var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);
    var formats2 = {};
    self.config.parseDate = userConfig.parseDate;
    self.config.formatDate = userConfig.formatDate;
    Object.defineProperty(self.config, "enable", {
      get: function() {
        return self.config._enable;
      },
      set: function(dates) {
        self.config._enable = parseDateRules(dates);
      }
    });
    Object.defineProperty(self.config, "disable", {
      get: function() {
        return self.config._disable;
      },
      set: function(dates) {
        self.config._disable = parseDateRules(dates);
      }
    });
    var timeMode = userConfig.mode === "time";
    if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {
      var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;
      formats2.dateFormat = userConfig.noCalendar || timeMode ? "H:i" + (userConfig.enableSeconds ? ":S" : "") : defaultDateFormat + " H:i" + (userConfig.enableSeconds ? ":S" : "");
    }
    if (userConfig.altInput && (userConfig.enableTime || timeMode) && !userConfig.altFormat) {
      var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;
      formats2.altFormat = userConfig.noCalendar || timeMode ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K") : defaultAltFormat + (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");
    }
    Object.defineProperty(self.config, "minDate", {
      get: function() {
        return self.config._minDate;
      },
      set: minMaxDateSetter("min")
    });
    Object.defineProperty(self.config, "maxDate", {
      get: function() {
        return self.config._maxDate;
      },
      set: minMaxDateSetter("max")
    });
    var minMaxTimeSetter = function(type) {
      return function(val) {
        self.config[type === "min" ? "_minTime" : "_maxTime"] = self.parseDate(val, "H:i:S");
      };
    };
    Object.defineProperty(self.config, "minTime", {
      get: function() {
        return self.config._minTime;
      },
      set: minMaxTimeSetter("min")
    });
    Object.defineProperty(self.config, "maxTime", {
      get: function() {
        return self.config._maxTime;
      },
      set: minMaxTimeSetter("max")
    });
    if (userConfig.mode === "time") {
      self.config.noCalendar = true;
      self.config.enableTime = true;
    }
    Object.assign(self.config, formats2, userConfig);
    for (var i = 0; i < boolOpts.length; i++) self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === "true";
    HOOKS.filter(function(hook) {
      return self.config[hook] !== void 0;
    }).forEach(function(hook) {
      self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);
    });
    self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === "single" && !self.config.disable.length && !self.config.enable && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    for (var i = 0; i < self.config.plugins.length; i++) {
      var pluginConf = self.config.plugins[i](self) || {};
      for (var key in pluginConf) {
        if (HOOKS.indexOf(key) > -1) {
          self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);
        } else if (typeof userConfig[key] === "undefined") self.config[key] = pluginConf[key];
      }
    }
    if (!userConfig.altInputClass) {
      self.config.altInputClass = getInputElem().className + " " + self.config.altInputClass;
    }
    triggerEvent("onParseConfig");
  }
  function getInputElem() {
    return self.config.wrap ? element.querySelector("[data-input]") : element;
  }
  function setupLocale() {
    if (typeof self.config.locale !== "object" && typeof flatpickr.l10ns[self.config.locale] === "undefined") self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));
    self.l10n = __assign(__assign({}, flatpickr.l10ns.default), typeof self.config.locale === "object" ? self.config.locale : self.config.locale !== "default" ? flatpickr.l10ns[self.config.locale] : void 0);
    tokenRegex.D = "(" + self.l10n.weekdays.shorthand.join("|") + ")";
    tokenRegex.l = "(" + self.l10n.weekdays.longhand.join("|") + ")";
    tokenRegex.M = "(" + self.l10n.months.shorthand.join("|") + ")";
    tokenRegex.F = "(" + self.l10n.months.longhand.join("|") + ")";
    tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";
    var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));
    if (userConfig.time_24hr === void 0 && flatpickr.defaultConfig.time_24hr === void 0) {
      self.config.time_24hr = self.l10n.time_24hr;
    }
    self.formatDate = createDateFormatter(self);
    self.parseDate = createDateParser({
      config: self.config,
      l10n: self.l10n
    });
  }
  function positionCalendar(customPositionElement) {
    if (typeof self.config.position === "function") {
      return void self.config.position(self, customPositionElement);
    }
    if (self.calendarContainer === void 0) return;
    triggerEvent("onPreCalendarPosition");
    var positionElement = customPositionElement || self._positionElement;
    var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function(acc, child) {
      return acc + child.offsetHeight;
    }, 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(" "), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === "above" || configPosVertical !== "below" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;
    var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);
    toggleClass(self.calendarContainer, "arrowTop", !showOnTop);
    toggleClass(self.calendarContainer, "arrowBottom", showOnTop);
    if (self.config.inline) return;
    var left = window.pageXOffset + inputBounds.left;
    var isCenter = false;
    var isRight = false;
    if (configPosHorizontal === "center") {
      left -= (calendarWidth - inputBounds.width) / 2;
      isCenter = true;
    } else if (configPosHorizontal === "right") {
      left -= calendarWidth - inputBounds.width;
      isRight = true;
    }
    toggleClass(self.calendarContainer, "arrowLeft", !isCenter && !isRight);
    toggleClass(self.calendarContainer, "arrowCenter", isCenter);
    toggleClass(self.calendarContainer, "arrowRight", isRight);
    var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);
    var rightMost = left + calendarWidth > window.document.body.offsetWidth;
    var centerMost = right + calendarWidth > window.document.body.offsetWidth;
    toggleClass(self.calendarContainer, "rightMost", rightMost);
    if (self.config.static) return;
    self.calendarContainer.style.top = top + "px";
    if (!rightMost) {
      self.calendarContainer.style.left = left + "px";
      self.calendarContainer.style.right = "auto";
    } else if (!centerMost) {
      self.calendarContainer.style.left = "auto";
      self.calendarContainer.style.right = right + "px";
    } else {
      var doc = getDocumentStyleSheet();
      if (doc === void 0) return;
      var bodyWidth = window.document.body.offsetWidth;
      var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);
      var centerBefore = ".flatpickr-calendar.centerMost:before";
      var centerAfter = ".flatpickr-calendar.centerMost:after";
      var centerIndex = doc.cssRules.length;
      var centerStyle = "{left:" + inputBounds.left + "px;right:auto;}";
      toggleClass(self.calendarContainer, "rightMost", false);
      toggleClass(self.calendarContainer, "centerMost", true);
      doc.insertRule(centerBefore + "," + centerAfter + centerStyle, centerIndex);
      self.calendarContainer.style.left = centerLeft + "px";
      self.calendarContainer.style.right = "auto";
    }
  }
  function getDocumentStyleSheet() {
    var editableSheet = null;
    for (var i = 0; i < document.styleSheets.length; i++) {
      var sheet = document.styleSheets[i];
      if (!sheet.cssRules) continue;
      try {
        sheet.cssRules;
      } catch (err) {
        continue;
      }
      editableSheet = sheet;
      break;
    }
    return editableSheet != null ? editableSheet : createStyleSheet();
  }
  function createStyleSheet() {
    var style2 = document.createElement("style");
    document.head.appendChild(style2);
    return style2.sheet;
  }
  function redraw() {
    if (self.config.noCalendar || self.isMobile) return;
    buildMonthSwitch();
    updateNavigationCurrentMonth();
    buildDays();
  }
  function focusAndClose() {
    self._input.focus();
    if (window.navigator.userAgent.indexOf("MSIE") !== -1 || navigator.msMaxTouchPoints !== void 0) {
      setTimeout(self.close, 0);
    } else {
      self.close();
    }
  }
  function selectDate(e) {
    e.preventDefault();
    e.stopPropagation();
    var isSelectable = function(day) {
      return day.classList && day.classList.contains("flatpickr-day") && !day.classList.contains("flatpickr-disabled") && !day.classList.contains("notAllowed");
    };
    var t = findParent(getEventTarget(e), isSelectable);
    if (t === void 0) return;
    var target = t;
    var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());
    var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== "range";
    self.selectedDateElem = target;
    if (self.config.mode === "single") self.selectedDates = [selectedDate];
    else if (self.config.mode === "multiple") {
      var selectedIndex = isDateSelected(selectedDate);
      if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);
      else self.selectedDates.push(selectedDate);
    } else if (self.config.mode === "range") {
      if (self.selectedDates.length === 2) {
        self.clear(false, false);
      }
      self.latestSelectedDateObj = selectedDate;
      self.selectedDates.push(selectedDate);
      if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function(a, b) {
        return a.getTime() - b.getTime();
      });
    }
    setHoursFromInputs();
    if (shouldChangeMonth) {
      var isNewYear = self.currentYear !== selectedDate.getFullYear();
      self.currentYear = selectedDate.getFullYear();
      self.currentMonth = selectedDate.getMonth();
      if (isNewYear) {
        triggerEvent("onYearChange");
        buildMonthSwitch();
      }
      triggerEvent("onMonthChange");
    }
    updateNavigationCurrentMonth();
    buildDays();
    updateValue();
    if (!shouldChangeMonth && self.config.mode !== "range" && self.config.showMonths === 1) focusOnDayElem(target);
    else if (self.selectedDateElem !== void 0 && self.hourElement === void 0) {
      self.selectedDateElem && self.selectedDateElem.focus();
    }
    if (self.hourElement !== void 0) self.hourElement !== void 0 && self.hourElement.focus();
    if (self.config.closeOnSelect) {
      var single = self.config.mode === "single" && !self.config.enableTime;
      var range = self.config.mode === "range" && self.selectedDates.length === 2 && !self.config.enableTime;
      if (single || range) {
        focusAndClose();
      }
    }
    triggerChange();
  }
  var CALLBACKS = {
    locale: [setupLocale, updateWeekdays],
    showMonths: [buildMonths, setCalendarWidth, buildWeekdays],
    minDate: [jumpToDate],
    maxDate: [jumpToDate],
    positionElement: [updatePositionElement],
    clickOpens: [function() {
      if (self.config.clickOpens === true) {
        bind(self._input, "focus", self.open);
        bind(self._input, "click", self.open);
      } else {
        self._input.removeEventListener("focus", self.open);
        self._input.removeEventListener("click", self.open);
      }
    }]
  };
  function set2(option, value) {
    if (option !== null && typeof option === "object") {
      Object.assign(self.config, option);
      for (var key in option) {
        if (CALLBACKS[key] !== void 0) CALLBACKS[key].forEach(function(x) {
          return x();
        });
      }
    } else {
      self.config[option] = value;
      if (CALLBACKS[option] !== void 0) CALLBACKS[option].forEach(function(x) {
        return x();
      });
      else if (HOOKS.indexOf(option) > -1) self.config[option] = arrayify(value);
    }
    self.redraw();
    updateValue(true);
  }
  function setSelectedDate(inputDate, format) {
    var dates = [];
    if (inputDate instanceof Array) dates = inputDate.map(function(d) {
      return self.parseDate(d, format);
    });
    else if (inputDate instanceof Date || typeof inputDate === "number") dates = [self.parseDate(inputDate, format)];
    else if (typeof inputDate === "string") {
      switch (self.config.mode) {
        case "single":
        case "time":
          dates = [self.parseDate(inputDate, format)];
          break;
        case "multiple":
          dates = inputDate.split(self.config.conjunction).map(function(date) {
            return self.parseDate(date, format);
          });
          break;
        case "range":
          dates = inputDate.split(self.l10n.rangeSeparator).map(function(date) {
            return self.parseDate(date, format);
          });
          break;
        default:
          break;
      }
    } else self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));
    self.selectedDates = self.config.allowInvalidPreload ? dates : dates.filter(function(d) {
      return d instanceof Date && isEnabled(d, false);
    });
    if (self.config.mode === "range") self.selectedDates.sort(function(a, b) {
      return a.getTime() - b.getTime();
    });
  }
  function setDate(date, triggerChange2, format) {
    if (triggerChange2 === void 0) {
      triggerChange2 = false;
    }
    if (format === void 0) {
      format = self.config.dateFormat;
    }
    if (date !== 0 && !date || date instanceof Array && date.length === 0) return self.clear(triggerChange2);
    setSelectedDate(date, format);
    self.latestSelectedDateObj = self.selectedDates[self.selectedDates.length - 1];
    self.redraw();
    jumpToDate(void 0, triggerChange2);
    setHoursFromDate();
    if (self.selectedDates.length === 0) {
      self.clear(false);
    }
    updateValue(triggerChange2);
    if (triggerChange2) triggerEvent("onChange");
  }
  function parseDateRules(arr) {
    return arr.slice().map(function(rule) {
      if (typeof rule === "string" || typeof rule === "number" || rule instanceof Date) {
        return self.parseDate(rule, void 0, true);
      } else if (rule && typeof rule === "object" && rule.from && rule.to) return {
        from: self.parseDate(rule.from, void 0),
        to: self.parseDate(rule.to, void 0)
      };
      return rule;
    }).filter(function(x) {
      return x;
    });
  }
  function setupDates() {
    self.selectedDates = [];
    self.now = self.parseDate(self.config.now) || /* @__PURE__ */ new Date();
    var preloadedDate = self.config.defaultDate || ((self.input.nodeName === "INPUT" || self.input.nodeName === "TEXTAREA") && self.input.placeholder && self.input.value === self.input.placeholder ? null : self.input.value);
    if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);
    self._initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;
    self.currentYear = self._initialDate.getFullYear();
    self.currentMonth = self._initialDate.getMonth();
    if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];
    if (self.config.minTime !== void 0) self.config.minTime = self.parseDate(self.config.minTime, "H:i");
    if (self.config.maxTime !== void 0) self.config.maxTime = self.parseDate(self.config.maxTime, "H:i");
    self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);
    self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);
  }
  function setupInputs() {
    self.input = getInputElem();
    if (!self.input) {
      self.config.errorHandler(new Error("Invalid input element specified"));
      return;
    }
    self.input._type = self.input.type;
    self.input.type = "text";
    self.input.classList.add("flatpickr-input");
    self._input = self.input;
    if (self.config.altInput) {
      self.altInput = createElement(self.input.nodeName, self.config.altInputClass);
      self._input = self.altInput;
      self.altInput.placeholder = self.input.placeholder;
      self.altInput.disabled = self.input.disabled;
      self.altInput.required = self.input.required;
      self.altInput.tabIndex = self.input.tabIndex;
      self.altInput.type = "text";
      self.input.setAttribute("type", "hidden");
      if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);
    }
    if (!self.config.allowInput) self._input.setAttribute("readonly", "readonly");
    updatePositionElement();
  }
  function updatePositionElement() {
    self._positionElement = self.config.positionElement || self._input;
  }
  function setupMobile() {
    var inputType = self.config.enableTime ? self.config.noCalendar ? "time" : "datetime-local" : "date";
    self.mobileInput = createElement("input", self.input.className + " flatpickr-mobile");
    self.mobileInput.tabIndex = 1;
    self.mobileInput.type = inputType;
    self.mobileInput.disabled = self.input.disabled;
    self.mobileInput.required = self.input.required;
    self.mobileInput.placeholder = self.input.placeholder;
    self.mobileFormatStr = inputType === "datetime-local" ? "Y-m-d\\TH:i:S" : inputType === "date" ? "Y-m-d" : "H:i:S";
    if (self.selectedDates.length > 0) {
      self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);
    }
    if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");
    if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");
    if (self.input.getAttribute("step")) self.mobileInput.step = String(self.input.getAttribute("step"));
    self.input.type = "hidden";
    if (self.altInput !== void 0) self.altInput.type = "hidden";
    try {
      if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);
    } catch (_a) {
    }
    bind(self.mobileInput, "change", function(e) {
      self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);
      triggerEvent("onChange");
      triggerEvent("onClose");
    });
  }
  function toggle(e) {
    if (self.isOpen === true) return self.close();
    self.open(e);
  }
  function triggerEvent(event, data) {
    if (self.config === void 0) return;
    var hooks = self.config[event];
    if (hooks !== void 0 && hooks.length > 0) {
      for (var i = 0; hooks[i] && i < hooks.length; i++) hooks[i](self.selectedDates, self.input.value, self, data);
    }
    if (event === "onChange") {
      self.input.dispatchEvent(createEvent("change"));
      self.input.dispatchEvent(createEvent("input"));
    }
  }
  function createEvent(name) {
    var e = document.createEvent("Event");
    e.initEvent(name, true, true);
    return e;
  }
  function isDateSelected(date) {
    for (var i = 0; i < self.selectedDates.length; i++) {
      var selectedDate = self.selectedDates[i];
      if (selectedDate instanceof Date && compareDates(selectedDate, date) === 0) return "" + i;
    }
    return false;
  }
  function isDateInRange(date) {
    if (self.config.mode !== "range" || self.selectedDates.length < 2) return false;
    return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;
  }
  function updateNavigationCurrentMonth() {
    if (self.config.noCalendar || self.isMobile || !self.monthNav) return;
    self.yearElements.forEach(function(yearElement, i) {
      var d = new Date(self.currentYear, self.currentMonth, 1);
      d.setMonth(self.currentMonth + i);
      if (self.config.showMonths > 1 || self.config.monthSelectorType === "static") {
        self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + " ";
      } else {
        self.monthsDropdownContainer.value = d.getMonth().toString();
      }
      yearElement.value = d.getFullYear().toString();
    });
    self._hidePrevMonthArrow = self.config.minDate !== void 0 && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());
    self._hideNextMonthArrow = self.config.maxDate !== void 0 && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());
  }
  function getDateStr(specificFormat) {
    var format = specificFormat || (self.config.altInput ? self.config.altFormat : self.config.dateFormat);
    return self.selectedDates.map(function(dObj) {
      return self.formatDate(dObj, format);
    }).filter(function(d, i, arr) {
      return self.config.mode !== "range" || self.config.enableTime || arr.indexOf(d) === i;
    }).join(self.config.mode !== "range" ? self.config.conjunction : self.l10n.rangeSeparator);
  }
  function updateValue(triggerChange2) {
    if (triggerChange2 === void 0) {
      triggerChange2 = true;
    }
    if (self.mobileInput !== void 0 && self.mobileFormatStr) {
      self.mobileInput.value = self.latestSelectedDateObj !== void 0 ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : "";
    }
    self.input.value = getDateStr(self.config.dateFormat);
    if (self.altInput !== void 0) {
      self.altInput.value = getDateStr(self.config.altFormat);
    }
    if (triggerChange2 !== false) triggerEvent("onValueUpdate");
  }
  function onMonthNavClick(e) {
    var eventTarget = getEventTarget(e);
    var isPrevMonth = self.prevMonthNav.contains(eventTarget);
    var isNextMonth = self.nextMonthNav.contains(eventTarget);
    if (isPrevMonth || isNextMonth) {
      changeMonth(isPrevMonth ? -1 : 1);
    } else if (self.yearElements.indexOf(eventTarget) >= 0) {
      eventTarget.select();
    } else if (eventTarget.classList.contains("arrowUp")) {
      self.changeYear(self.currentYear + 1);
    } else if (eventTarget.classList.contains("arrowDown")) {
      self.changeYear(self.currentYear - 1);
    }
  }
  function timeWrapper(e) {
    e.preventDefault();
    var isKeyDown = e.type === "keydown", eventTarget = getEventTarget(e), input = eventTarget;
    if (self.amPM !== void 0 && eventTarget === self.amPM) {
      self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
    }
    var min = parseFloat(input.getAttribute("min")), max = parseFloat(input.getAttribute("max")), step = parseFloat(input.getAttribute("step")), curValue = parseInt(input.value, 10), delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);
    var newValue = curValue + step * delta;
    if (typeof input.value !== "undefined" && input.value.length === 2) {
      var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;
      if (newValue < min) {
        newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));
        if (isMinuteElem) incrementNumInput(void 0, -1, self.hourElement);
      } else if (newValue > max) {
        newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;
        if (isMinuteElem) incrementNumInput(void 0, 1, self.hourElement);
      }
      if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {
        self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
      }
      input.value = pad(newValue);
    }
  }
  init();
  return self;
}
function _flatpickr(nodeList, config) {
  var nodes = Array.prototype.slice.call(nodeList).filter(function(x) {
    return x instanceof HTMLElement;
  });
  var instances2 = [];
  for (var i = 0; i < nodes.length; i++) {
    var node = nodes[i];
    try {
      if (node.getAttribute("data-fp-omit") !== null) continue;
      if (node._flatpickr !== void 0) {
        node._flatpickr.destroy();
        node._flatpickr = void 0;
      }
      node._flatpickr = FlatpickrInstance(node, config || {});
      instances2.push(node._flatpickr);
    } catch (e) {
      console.error(e);
    }
  }
  return instances2.length === 1 ? instances2[0] : instances2;
}
if (typeof HTMLElement !== "undefined" && typeof HTMLCollection !== "undefined" && typeof NodeList !== "undefined") {
  HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function(config) {
    return _flatpickr(this, config);
  };
  HTMLElement.prototype.flatpickr = function(config) {
    return _flatpickr([this], config);
  };
}
var flatpickr = function(selector, config) {
  if (typeof selector === "string") {
    return _flatpickr(window.document.querySelectorAll(selector), config);
  } else if (selector instanceof Node) {
    return _flatpickr([selector], config);
  } else {
    return _flatpickr(selector, config);
  }
};
flatpickr.defaultConfig = {};
flatpickr.l10ns = {
  en: __assign({}, default_default),
  default: __assign({}, default_default)
};
flatpickr.localize = function(l10n) {
  flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);
};
flatpickr.setDefaults = function(config) {
  flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);
};
flatpickr.parseDate = createDateParser({});
flatpickr.formatDate = createDateFormatter({});
flatpickr.compareDates = compareDates;
if (typeof jQuery !== "undefined" && typeof jQuery.fn !== "undefined") {
  jQuery.fn.flatpickr = function(config) {
    return _flatpickr(this, config);
  };
}
Date.prototype.fp_incr = function(days) {
  return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));
};
if (typeof window !== "undefined") {
  window.flatpickr = flatpickr;
}
var esm_default = flatpickr;

// src/app/assets/asset-list/asset-create.component.ts
var _c02 = ["fileInput"];
var _c12 = ["dateInput"];
function AssetCreateComponent_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 106)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 19);
    \u0275\u0275element(3, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div")(5, "p", 107);
    \u0275\u0275text(6, "Duplicating Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 108);
    \u0275\u0275text(8, "Most fields have been pre-filled. Please enter a new serial number and review all information before saving.");
    \u0275\u0275elementEnd()()()();
  }
}
function AssetCreateComponent_div_31_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.nameError, " ");
  }
}
function AssetCreateComponent_span_49_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select parent asset");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_span_50_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 112);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.getSelectedParent().name, " (", ctx_r1.getSelectedParent().asset_id, ") ");
  }
}
function AssetCreateComponent_div_53_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_53_button_6_Template_button_click_0_listener() {
      const parent_r5 = \u0275\u0275restoreView(_r4).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.parent_id = parent_r5.id;
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 118);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 119);
    \u0275\u0275element(4, "path", 54);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 121);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const parent_r5 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.parent_id === parent_r5.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(parent_r5.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(parent_r5.asset_id);
  }
}
function AssetCreateComponent_div_53_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select parent asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_53_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.parent_id = null;
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275text(5, " -- None -- ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(6, AssetCreateComponent_div_53_button_6_Template, 10, 4, "button", 117);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.parent_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.possibleParents);
  }
}
function AssetCreateComponent_span_103_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select asset type");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_104_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 125);
    \u0275\u0275listener("error", function AssetCreateComponent_div_104_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, ctx_r1.selectedAssetType));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.selectedAssetType.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.selectedAssetType.name || ctx_r1.selectedAssetType.label);
  }
}
function AssetCreateComponent_div_104__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 126);
    \u0275\u0275element(1, "path", 127);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275styleProp("color", ctx_r1.selectedAssetType.color);
  }
}
function AssetCreateComponent_div_104_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 122);
    \u0275\u0275template(2, AssetCreateComponent_div_104_img_2_Template, 1, 2, "img", 123)(3, AssetCreateComponent_div_104__svg_svg_3_Template, 2, 2, "svg", 124);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 112);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedAssetType.color + "20");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType.icon && !ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType.icon || ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetType.label);
  }
}
function AssetCreateComponent_div_107_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 133);
    \u0275\u0275listener("error", function AssetCreateComponent_div_107_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r9);
      const type_r8 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, type_r8));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const type_r8 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", type_r8.icon, \u0275\u0275sanitizeUrl)("alt", type_r8.name || type_r8.label);
  }
}
function AssetCreateComponent_div_107_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 19);
    \u0275\u0275element(1, "path", 127);
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_107_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_107_button_4_Template_button_click_0_listener() {
      const type_r8 = \u0275\u0275restoreView(_r7).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectAssetType(type_r8));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 129);
    \u0275\u0275template(3, AssetCreateComponent_div_107_button_4_img_3_Template, 1, 2, "img", 130)(4, AssetCreateComponent_div_107_button_4__svg_svg_4_Template, 2, 0, "svg", 131);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 132);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const type_r8 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r8.id)("text-blue-700", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r8.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", type_r8.icon && !type_r8.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !type_r8.icon || type_r8.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(type_r8.label || type_r8.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(type_r8.description);
  }
}
function AssetCreateComponent_div_107_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select asset type");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_107_button_4_Template, 10, 8, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.assetTypes);
  }
}
function AssetCreateComponent_div_108_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.assetTypeError, " ");
  }
}
function AssetCreateComponent_span_117_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select category");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_span_118_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 112);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.selectedCategory.name);
  }
}
function AssetCreateComponent_div_121_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 133);
    \u0275\u0275listener("error", function AssetCreateComponent_div_121_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r12);
      const cat_r11 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, cat_r11));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r11 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", cat_r11.icon, \u0275\u0275sanitizeUrl)("alt", cat_r11.name);
  }
}
function AssetCreateComponent_div_121_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 119);
    \u0275\u0275element(1, "path", 54);
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_121_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r11 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(cat_r11.description);
  }
}
function AssetCreateComponent_div_121_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_121_button_4_Template_button_click_0_listener() {
      const cat_r11 = \u0275\u0275restoreView(_r10).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectCategory(cat_r11));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 118);
    \u0275\u0275template(3, AssetCreateComponent_div_121_button_4_img_3_Template, 1, 2, "img", 130)(4, AssetCreateComponent_div_121_button_4__svg_svg_4_Template, 2, 0, "svg", 134);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetCreateComponent_div_121_button_4_div_8_Template, 2, 1, "div", 86);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const cat_r11 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r11.id)("text-blue-700", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r11.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", cat_r11.icon);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !cat_r11.icon || cat_r11.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(cat_r11.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", cat_r11.description);
  }
}
function AssetCreateComponent_div_121_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select category");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_121_button_4_Template, 9, 8, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.categories);
  }
}
function AssetCreateComponent_div_122_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.categoryError, " ");
  }
}
function AssetCreateComponent_div_149_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 109);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 110);
    \u0275\u0275element(2, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.serialNumberError, " ");
  }
}
function AssetCreateComponent_span_218_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select location");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_219_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 135);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 136);
    \u0275\u0275element(3, "path", 78)(4, "path", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "span", 112);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.selectedLocation.name);
  }
}
function AssetCreateComponent_div_222_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r14 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(loc_r14.type.name);
  }
}
function AssetCreateComponent_div_222_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_222_button_4_Template_button_click_0_listener() {
      const loc_r14 = \u0275\u0275restoreView(_r13).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectLocation(loc_r14));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 137);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 77);
    \u0275\u0275element(4, "path", 78)(5, "path", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "div")(7, "div", 120);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetCreateComponent_div_222_button_4_div_9_Template, 2, 1, "div", 86);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const loc_r14 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r14.id)("text-blue-700", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r14.id);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(loc_r14.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", loc_r14.type);
  }
}
function AssetCreateComponent_div_222_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select location");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_222_button_4_Template, 10, 6, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function AssetCreateComponent_span_235_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 84);
    \u0275\u0275text(1, "Select department");
    \u0275\u0275elementEnd();
  }
}
function AssetCreateComponent_div_236_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 138);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 139);
    \u0275\u0275element(3, "path", 140);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 112);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.selectedDepartment.name);
  }
}
function AssetCreateComponent_div_239_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r16 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(dept_r16.description);
  }
}
function AssetCreateComponent_div_239_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 143);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r16 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("Code: ", dept_r16.code, "");
  }
}
function AssetCreateComponent_div_239_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_239_button_4_Template_button_click_0_listener() {
      const dept_r16 = \u0275\u0275restoreView(_r15).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectDepartment(dept_r16));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div", 141);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 53);
    \u0275\u0275element(4, "path", 140);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 120);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetCreateComponent_div_239_button_4_div_8_Template, 2, 1, "div", 86)(9, AssetCreateComponent_div_239_button_4_div_9_Template, 2, 1, "div", 142);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const dept_r16 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r16.id)("text-blue-700", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r16.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(dept_r16.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r16.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r16.code);
  }
}
function AssetCreateComponent_div_239_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select department");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_239_button_4_Template, 10, 7, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function AssetCreateComponent_div_248_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28);
    \u0275\u0275element(1, "div", 144);
    \u0275\u0275elementStart(2, "span", 112);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedStatus.hexColor || "#6B7280");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedStatus.label);
  }
}
function AssetCreateComponent_div_251_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_251_button_4_Template_button_click_0_listener() {
      const status_r18 = \u0275\u0275restoreView(_r17).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.selectStatus(status_r18));
    });
    \u0275\u0275elementStart(1, "div", 28)(2, "div");
    \u0275\u0275element(3, "div", 144);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div")(5, "div", 120);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 132);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const status_r18 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r18.value)("text-blue-700", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r18.value);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("w-6 h-6 bg-" + status_r18.color + "-100 rounded-lg flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", status_r18.hexColor || "#6B7280");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(status_r18.label);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(status_r18.description);
  }
}
function AssetCreateComponent_div_251_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 145)(1, "div", 114)(2, "div", 115);
    \u0275\u0275text(3, "Select status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetCreateComponent_div_251_button_4_Template, 9, 10, "button", 128);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.statusOptions);
  }
}
function AssetCreateComponent_div_257_span_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementStart(2, "button", 149);
    \u0275\u0275listener("click", function AssetCreateComponent_div_257_span_2_Template_button_click_2_listener() {
      const tag_r20 = \u0275\u0275restoreView(_r19).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.removeTag(tag_r20));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 150);
    \u0275\u0275element(4, "path", 151);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const tag_r20 = ctx.$implicit;
    \u0275\u0275classMap("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-" + tag_r20.color + "-100 text-" + tag_r20.color + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", tag_r20.name, " ");
  }
}
function AssetCreateComponent_div_257_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 146)(1, "div", 147);
    \u0275\u0275template(2, AssetCreateComponent_div_257_span_2_Template, 5, 3, "span", 148);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.selectedTags);
  }
}
function AssetCreateComponent_span_264_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 132);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length, " selected ");
  }
}
function AssetCreateComponent_div_267_button_9_div_7_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 156);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 157);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_267_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 116);
    \u0275\u0275listener("click", function AssetCreateComponent_div_267_button_9_Template_button_click_0_listener() {
      const tag_r23 = \u0275\u0275restoreView(_r22).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleTag(tag_r23));
    });
    \u0275\u0275elementStart(1, "div", 34)(2, "div", 28)(3, "div");
    \u0275\u0275element(4, "div");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span", 120);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(7, AssetCreateComponent_div_267_button_9_div_7_Template, 3, 0, "div", 155);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const tag_r23 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.isTagSelected(tag_r23));
    \u0275\u0275advance(3);
    \u0275\u0275classMap("w-6 h-6 bg-" + tag_r23.color + "-100 rounded-full flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275classMap("w-3 h-3 rounded-full bg-" + tag_r23.color + "-500");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(tag_r23.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isTagSelected(tag_r23));
  }
}
function AssetCreateComponent_div_267_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 113)(1, "div", 114)(2, "div", 152)(3, "div", 67)(4, "input", 153);
    \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_div_267_Template_input_ngModelChange_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.newTagInput, $event) || (ctx_r1.newTagInput = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("keydown", function AssetCreateComponent_div_267_Template_input_keydown_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onTagInputKeydown($event));
    })("click", function AssetCreateComponent_div_267_Template_input_click_4_listener($event) {
      \u0275\u0275restoreView(_r21);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div", 154);
    \u0275\u0275text(6, " Press Enter ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(7, "div", 115);
    \u0275\u0275text(8, "Select tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetCreateComponent_div_267_button_9_Template, 8, 8, "button", 117);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.newTagInput);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngForOf", ctx_r1.availableTags);
  }
}
function AssetCreateComponent_div_291_div_7_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r27);
      const i_r26 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.moveImageUp(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 178);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_291_div_7_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_button_6_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r28);
      const i_r26 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.moveImageDown(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 126);
    \u0275\u0275element(2, "path", 38);
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_div_291_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 167)(1, "div", 168)(2, "img", 169);
    \u0275\u0275listener("error", function AssetCreateComponent_div_291_div_7_Template_img_error_2_listener($event) {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, i_r26));
    })("load", function AssetCreateComponent_div_291_div_7_Template_img_load_2_listener($event) {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageLoad($event, i_r26));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 170)(4, "div", 171);
    \u0275\u0275template(5, AssetCreateComponent_div_291_div_7_button_5_Template, 3, 0, "button", 172)(6, AssetCreateComponent_div_291_div_7_button_6_Template, 3, 0, "button", 172);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 173);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_div_7_Template_button_click_7_listener() {
      const i_r26 = \u0275\u0275restoreView(_r25).index;
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.removeImage(i_r26));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 126);
    \u0275\u0275element(9, "path", 151);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 174);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "div", 175)(13, "p", 176);
    \u0275\u0275text(14);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "p", 121);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    let tmp_14_0;
    const previewUrl_r29 = ctx.$implicit;
    const i_r26 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275property("src", previewUrl_r29, \u0275\u0275sanitizeUrl)("alt", "Asset Image " + (i_r26 + 1));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", i_r26 > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", i_r26 < ctx_r1.imagePreviewUrls.length - 1);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1(" ", i_r26 + 1, " ");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.images[i_r26].name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", (((tmp_14_0 = ctx_r1.images[i_r26].size) !== null && tmp_14_0 !== void 0 ? tmp_14_0 : 0) / 1024 / 1024).toFixed(1), " MB");
  }
}
function AssetCreateComponent_div_291_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 158)(1, "div", 159)(2, "h4", 160);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 161);
    \u0275\u0275listener("click", function AssetCreateComponent_div_291_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r24);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.removeAllImages());
    });
    \u0275\u0275text(5, " Remove All ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 162);
    \u0275\u0275template(7, AssetCreateComponent_div_291_div_7_Template, 17, 7, "div", 163);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 164)(9, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 165);
    \u0275\u0275element(11, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "p", 166)(13, "strong");
    \u0275\u0275text(14, "Gallery Tips:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(15, " Hover over images to reorder them. The first image will be the primary asset image. ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1("Selected Images (", ctx_r1.imagePreviewUrls.length, ")");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.imagePreviewUrls);
  }
}
function AssetCreateComponent_div_292_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 179)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 180);
    \u0275\u0275element(3, "path", 111);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 181);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitError);
  }
}
function AssetCreateComponent_div_293_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 182)(1, "div", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 58);
    \u0275\u0275element(3, "path", 157);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 183);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitSuccess);
  }
}
function AssetCreateComponent_span_298_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 184);
    \u0275\u0275element(2, "path", 96);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4, "Create Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetCreateComponent_span_299_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 85);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 185);
    \u0275\u0275element(2, "circle", 186)(3, "path", 187);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Creating Asset...");
    \u0275\u0275elementEnd()();
  }
}
var AssetCreateComponent = class _AssetCreateComponent {
  assetService;
  router;
  route;
  http;
  dateInputs;
  fileInput;
  // Flatpickr instances
  flatpickrInstances = [];
  // Asset form fields
  name = "";
  description = "";
  serial_number = "";
  model = "";
  manufacturer = "";
  purchase_date = "";
  purchase_price = null;
  depreciation = null;
  depreciation_life = null;
  location_id = null;
  department_id = null;
  warranty = "";
  insurance = "";
  health_score = 85;
  status = null;
  tags = [];
  images = [];
  imagePreviewUrls = [];
  meta = {};
  isSubmitting = false;
  isDragOver = false;
  submitError = "";
  submitSuccess = "";
  submitFieldErrors = {};
  locations = [];
  availableTags = [];
  departments = [];
  possibleParents = [];
  parent_id = null;
  // Dropdown state properties
  showAssetTypeDropdown = false;
  showCategoryDropdown = false;
  showLocationDropdown = false;
  showStatusDropdown = false;
  showTagsDropdown = false;
  showDepartmentDropdown = false;
  showParentDropdown = false;
  selectedAssetType = null;
  selectedCategory = null;
  selectedLocation = null;
  selectedStatus = null;
  selectedDepartment = null;
  selectedTags = [];
  newTagInput = "";
  // Validation error properties
  nameError = "";
  assetTypeError = "";
  categoryError = "";
  serialNumberError = "";
  // Address property
  address = "";
  onFileChange(event) {
    if (event.target.files && event.target.files.length) {
      const newFiles = Array.from(event.target.files);
      this.processFiles(newFiles);
      event.target.value = "";
    }
  }
  onDragOver(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = true;
  }
  onDragLeave(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
  }
  onDrop(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
    const files = event.dataTransfer?.files;
    if (files && files.length > 0) {
      const fileArray = Array.from(files).filter((file) => file.type.startsWith("image/"));
      if (fileArray.length > 0) {
        this.processFiles(fileArray);
      }
    }
  }
  processFiles(files) {
    const maxImages = 10;
    const allowedTypes = ["image/jpeg", "image/png", "image/gif", "image/webp"];
    const newImages = [];
    const newPreviews = [];
    for (const file of files) {
      if (!allowedTypes.includes(file.type)) {
        console.warn("Invalid file type:", file.name);
        continue;
      }
      if (file.size > 10 * 1024 * 1024) {
        console.warn("File too large:", file.name);
        continue;
      }
      const isDuplicate = this.images.some((existing) => existing.name === file.name && existing.size === file.size);
      if (isDuplicate) {
        console.warn("Duplicate file skipped:", file.name);
        continue;
      }
      if (this.images.length + newImages.length >= maxImages) {
        console.warn("Max image count exceeded:", file.name);
        break;
      }
      newImages.push(file);
      const reader = new FileReader();
      reader.onload = (e) => {
        if (e.target?.result) {
          this.imagePreviewUrls.push(e.target.result);
        }
      };
      reader.onerror = (error) => {
        console.error("Preview failed for:", file.name, error);
      };
      reader.readAsDataURL(file);
    }
    this.images = [...this.images, ...newImages];
  }
  onSubmit() {
    this.clearErrors();
    if (!this.validateForm()) {
      return;
    }
    this.isSubmitting = true;
    this.submitError = "";
    this.submitSuccess = "";
    this.submitFieldErrors = {};
    this.convertImagesToBase64().then((base64Images) => {
      const payload = {
        name: this.name,
        description: this.description,
        category_id: this.category_id,
        type: this.assetType,
        serial_number: this.serial_number,
        model: this.model,
        manufacturer: this.manufacturer,
        purchase_date: this.purchase_date ? this.convertDateToBackendFormat(this.purchase_date) : null,
        purchase_price: this.purchase_price,
        depreciation: this.depreciation,
        depreciation_life: this.depreciation_life,
        location_id: this.location_id,
        department_id: this.department_id,
        parent_id: this.parent_id,
        warranty: this.warranty,
        insurance: this.insurance,
        health_score: this.health_score,
        status: this.status,
        tags: this.selectedTags.map((tag) => tag.name),
        meta: this.meta,
        images: base64Images
      };
      this.assetService.createAsset(payload).subscribe({
        next: (res) => {
          this.isSubmitting = false;
          if (res.success) {
            this.submitSuccess = "Asset created successfully!";
            setTimeout(() => {
              this.router.navigate(["/assets/list"]);
            }, 2e3);
          } else {
            this.submitError = res.message || "Failed to create asset.";
            this.handleFieldErrors(res.errors || {});
          }
        },
        error: (err) => {
          this.isSubmitting = false;
          this.submitError = err.error?.message || "Failed to create asset.";
          this.handleFieldErrors(err.error?.errors || err.errors || {});
        }
      });
    }).catch((error) => {
      this.isSubmitting = false;
      this.submitError = "Failed to process images. Please try again.";
      console.error("Image conversion error:", error);
    });
  }
  healthScore = 85;
  categories = [];
  category_id = null;
  assetTypes = [];
  assetType = null;
  // Asset types from API
  assetTypesFromAPI = [];
  // Status options from API
  statusOptionsFromAPI = [];
  // Status options with proper typing
  statusOptions = [
    { value: 1, label: "Active", color: "green", description: "Asset is operational and in use", sort_order: 1 },
    { value: 2, label: "Maintenance", color: "orange", description: "Asset is under maintenance or repair", sort_order: 2 },
    { value: 3, label: "Inactive", color: "gray", description: "Asset is not currently in use", sort_order: 3 },
    { value: 4, label: "Retired", color: "red", description: "Asset is retired and no longer in service", sort_order: 4 }
  ];
  constructor(assetService, router, route, http) {
    this.assetService = assetService;
    this.router = router;
    this.route = route;
    this.http = http;
  }
  ngOnInit() {
    this.route.queryParams.subscribe((params) => {
      if (params["duplicate"] && params["sourceId"]) {
        this.loadAssetForDuplication(params["sourceId"]);
      }
    });
    this.assetService.getAssetCategories().subscribe((res) => {
      if (res.success && res.data?.categories) {
        this.categories = res.data.categories;
      }
    });
    this.assetService.getAssetTypes().subscribe((res) => {
      if (res.success && res.data) {
        this.assetTypesFromAPI = res.data;
        this.assetTypes = this.assetTypesFromAPI.map((type) => ({
          id: type.id,
          name: type.name,
          label: type.name,
          icon: type.icon,
          // Use the full icon URL from API
          color: this.getColorForType(type.name),
          description: `${type.name} asset type`,
          iconError: false
        }));
      }
    });
    this.assetService.getAssetStatuses().subscribe((res) => {
      if (res.success && res.data) {
        this.statusOptionsFromAPI = res.data;
        this.statusOptions = this.statusOptionsFromAPI.map((status) => ({
          id: status.id,
          value: status.id,
          // Use numerical ID instead of string name
          label: status.name,
          color: this.hexToTailwindColor(status.color),
          description: status.description || `Asset is ${status.name.toLowerCase()}`,
          hexColor: status.color,
          sort_order: status.sort_order
        }));
        this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);
        if (this.statusOptions.length > 0) {
          this.selectedStatus = this.statusOptions[0];
          this.status = this.selectedStatus.value;
        }
      }
    });
    this.assetService.getLocations().subscribe((res) => {
      if (res.success && res.data) {
        this.locations = res.data.locations || res.data;
      }
    });
    this.assetService.getDepartments().subscribe((res) => {
      if (res.success && res.data) {
        this.departments = res.data;
      }
    });
    this.assetService.getAssets({ per_page: 1e3 }).subscribe((res) => {
      if (res.success && res.data?.assets) {
        this.possibleParents = res.data.assets;
      }
    });
    this.loadAvailableTags();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.initializeFlatpickr();
    }, 100);
  }
  ngOnDestroy() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
  }
  initializeFlatpickr() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        console.log("Found date inputs:", this.dateInputs.length);
        this.dateInputs.forEach((inputRef, index2) => {
          if (inputRef?.nativeElement) {
            const inputElement = inputRef.nativeElement;
            const fieldName = inputElement.getAttribute("name");
            console.log("Processing date input:", fieldName);
            if (fieldName === "purchase_date") {
              console.log("Initializing Flatpickr for purchase_date");
              let config = {
                dateFormat: "d M, Y",
                allowInput: true,
                clickOpens: true,
                maxDate: "today",
                onChange: (selectedDates, dateStr) => {
                  console.log("Date selected:", dateStr);
                  this.purchase_date = dateStr;
                }
              };
              const instance = esm_default(inputElement, config);
              this.flatpickrInstances.push(instance);
              console.log("Flatpickr initialized successfully for purchase_date");
            }
          }
        });
      } else {
        console.warn("No date inputs found");
      }
    }, 50);
  }
  loadAvailableTags() {
    this.availableTags = [
      { id: 1, name: "Critical", color: "red" },
      { id: 2, name: "High Priority", color: "orange" },
      { id: 3, name: "Equipment", color: "blue" },
      { id: 4, name: "IT Hardware", color: "purple" },
      { id: 5, name: "Furniture", color: "green" },
      { id: 6, name: "Vehicle", color: "yellow" },
      { id: 7, name: "Safety Equipment", color: "red" },
      { id: 8, name: "Office Supplies", color: "gray" }
    ];
  }
  loadAssetForDuplication(sourceId) {
    this.assetService.getAsset(sourceId).subscribe({
      next: (response) => {
        if (response.success) {
          const sourceAsset = response.data.asset || response.data;
          this.populateFormFromSource(sourceAsset);
        }
      },
      error: (error) => {
        console.error("Error loading source asset for duplication:", error);
      }
    });
  }
  populateFormFromSource(sourceAsset) {
    this.name = sourceAsset.name ? `${sourceAsset.name} (Copy)` : "";
    this.description = sourceAsset.description || "";
    this.model = sourceAsset.model || "";
    this.manufacturer = sourceAsset.manufacturer || "";
    this.purchase_date = sourceAsset.purchase_date ? this.convertBackendDateToDisplay(sourceAsset.purchase_date) : "";
    this.purchase_price = sourceAsset.purchase_price || null;
    this.depreciation = sourceAsset.depreciation || null;
    this.depreciation_life = sourceAsset.depreciation_life || null;
    this.location_id = sourceAsset.location_id || null;
    this.department_id = sourceAsset.department_id || null;
    this.warranty = sourceAsset.warranty ? this.convertBackendDateToDisplay(sourceAsset.warranty) : "";
    this.insurance = sourceAsset.insurance || "";
    this.health_score = sourceAsset.health_score || 85;
    this.status = sourceAsset.status || "Active";
    setTimeout(() => {
      if (sourceAsset.type) {
        this.selectedAssetType = this.assetTypes.find((type) => type.id == sourceAsset.type || type.id === parseInt(sourceAsset.type)) || null;
        if (this.selectedAssetType) {
          this.assetType = this.selectedAssetType.id;
        }
      }
      if (sourceAsset.category_id) {
        this.selectedCategory = this.categories.find((cat) => cat.id === sourceAsset.category_id) || null;
        this.category_id = sourceAsset.category_id;
      }
      if (sourceAsset.location_id) {
        this.selectedLocation = this.locations.find((loc) => loc.id === sourceAsset.location_id) || null;
      }
      if (sourceAsset.department_id) {
        this.selectedDepartment = this.departments.find((dept) => dept.id === sourceAsset.department_id) || null;
      }
      if (sourceAsset.status) {
        this.selectedStatus = this.statusOptions.find((status) => status.value === sourceAsset.status || status.label === sourceAsset.status || status.id === sourceAsset.status) || null;
        if (this.selectedStatus) {
          this.status = this.selectedStatus.value;
        }
      }
      if (!this.selectedStatus && this.statusOptions.length > 0) {
        this.selectedStatus = this.statusOptions[0];
        this.status = this.selectedStatus.value;
      }
      if (sourceAsset.tags && Array.isArray(sourceAsset.tags)) {
        this.selectedTags = sourceAsset.tags.map((tag) => {
          return this.availableTags.find((t) => t.id === tag.id) || tag;
        });
      }
      this.clearErrors();
    }, 500);
    this.serial_number = "";
    if (sourceAsset.images && Array.isArray(sourceAsset.images) && sourceAsset.images.length > 0) {
      this.duplicateImages(sourceAsset.images);
    }
  }
  goBack() {
    this.router.navigate(["/assets/list"]);
  }
  // Dropdown toggle methods
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
  }
  toggleCategoryDropdown() {
    this.showCategoryDropdown = !this.showCategoryDropdown;
    this.showAssetTypeDropdown = false;
    this.showLocationDropdown = false;
  }
  toggleLocationDropdown() {
    this.showLocationDropdown = !this.showLocationDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showStatusDropdown = false;
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showTagsDropdown = false;
  }
  toggleTagsDropdown() {
    this.showTagsDropdown = !this.showTagsDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleDepartmentDropdown() {
    this.showDepartmentDropdown = !this.showDepartmentDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
  }
  // Selection methods
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.assetType = type.id;
    this.showAssetTypeDropdown = false;
    this.clearErrors();
  }
  selectCategory(category) {
    this.selectedCategory = category;
    this.category_id = category.id;
    this.showCategoryDropdown = false;
    this.clearErrors();
  }
  selectLocation(location) {
    this.selectedLocation = location;
    this.location_id = location.id;
    this.showLocationDropdown = false;
  }
  selectStatus(status) {
    this.selectedStatus = status;
    this.status = status.value;
    this.showStatusDropdown = false;
  }
  selectDepartment(department) {
    this.selectedDepartment = department;
    this.department_id = department.id;
    this.showDepartmentDropdown = false;
  }
  toggleTag(tag) {
    const index2 = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index2 > -1) {
      this.selectedTags.splice(index2, 1);
    } else {
      this.selectedTags.push(tag);
    }
  }
  isTagSelected(tag) {
    return this.selectedTags.some((t) => t.id === tag.id);
  }
  onTagInputKeydown(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      this.createNewTag();
    }
  }
  createNewTag() {
    const tagName = this.newTagInput.trim();
    if (tagName && !this.selectedTags.some((t) => t.name.toLowerCase() === tagName.toLowerCase())) {
      const colors2 = ["red", "blue", "green", "yellow", "purple", "pink", "indigo", "gray"];
      const randomColor = colors2[Math.floor(Math.random() * colors2.length)];
      const newTag = {
        id: Date.now(),
        // Temporary ID until saved to backend
        name: tagName,
        color: randomColor,
        isNew: true
        // Flag to identify newly created tags
      };
      this.selectedTags.push(newTag);
      this.newTagInput = "";
    }
  }
  removeTag(tag) {
    const index2 = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index2 > -1) {
      this.selectedTags.splice(index2, 1);
    }
  }
  // Close dropdowns when clicking outside
  onDocumentClick(event) {
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  // Validation methods
  validateForm() {
    let isValid = true;
    if (!this.name || this.name.trim().length === 0) {
      this.nameError = "Asset name is required";
      isValid = false;
    } else if (this.name.trim().length > 100) {
      this.nameError = "Asset name cannot exceed 100 characters";
      isValid = false;
    }
    if (this.description && this.description.length > 1e3) {
      this.submitError = "Description cannot exceed 1000 characters";
      isValid = false;
    }
    if (!this.serial_number || this.serial_number.trim().length === 0) {
      this.serialNumberError = "Serial number is required";
      isValid = false;
    } else if (this.serial_number.length > 100) {
      this.serialNumberError = "Serial number cannot exceed 100 characters";
      isValid = false;
    }
    if (this.model && this.model.length > 100) {
      this.submitError = "Model cannot exceed 100 characters";
      isValid = false;
    }
    if (this.manufacturer && this.manufacturer.length > 100) {
      this.submitError = "Manufacturer cannot exceed 100 characters";
      isValid = false;
    }
    if (this.warranty && this.warranty.length > 255) {
      this.submitError = "Warranty cannot exceed 255 characters";
      isValid = false;
    }
    if (this.insurance && this.insurance.length > 255) {
      this.submitError = "Insurance cannot exceed 255 characters";
      isValid = false;
    }
    if (this.purchase_price !== null && this.purchase_price < 0) {
      this.submitError = "Purchase price cannot be negative";
      isValid = false;
    }
    if (this.depreciation !== null && (this.depreciation < 0 || this.depreciation > 100)) {
      this.submitError = "Depreciation must be between 0 and 100";
      isValid = false;
    }
    if (this.depreciation_life !== null && (this.depreciation_life < 1 || this.depreciation_life > 100)) {
      this.submitError = "Depreciation life must be between 1 and 100 years";
      isValid = false;
    }
    if (this.purchase_date) {
      const today = /* @__PURE__ */ new Date();
      const purchaseDate = new Date(this.purchase_date);
      if (purchaseDate > today) {
        this.submitError = "Purchase date cannot be in the future";
        isValid = false;
      }
    }
    if (this.health_score < 0 || this.health_score > 100) {
      this.submitError = "Health score must be between 0 and 100";
      isValid = false;
    }
    if (!this.category_id) {
      this.categoryError = "Category is required";
      isValid = false;
    }
    if (!this.assetType) {
      this.assetTypeError = "Asset type is required";
      isValid = false;
    }
    return isValid;
  }
  clearErrors() {
    this.nameError = "";
    this.assetTypeError = "";
    this.categoryError = "";
    this.serialNumberError = "";
    this.submitError = "";
    this.submitSuccess = "";
  }
  handleFieldErrors(errors) {
    if (errors["name"]) {
      this.nameError = errors["name"][0];
    }
    if (errors["type"]) {
      this.assetTypeError = errors["type"][0];
    }
    if (errors["category_id"]) {
      this.categoryError = errors["category_id"][0];
    }
    if (errors["serial_number"]) {
      this.serialNumberError = errors["serial_number"][0];
    }
  }
  isFormValid() {
    return !!(this.name && this.name.trim().length > 0 && this.name.trim().length <= 100);
  }
  removeImage(index2) {
    this.images.splice(index2, 1);
    this.imagePreviewUrls.splice(index2, 1);
  }
  removeAllImages() {
    this.images = [];
    this.imagePreviewUrls = [];
  }
  moveImage(fromIndex, toIndex) {
    if (toIndex >= 0 && toIndex < this.images.length) {
      const file = this.images.splice(fromIndex, 1)[0];
      this.images.splice(toIndex, 0, file);
      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];
      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);
    }
  }
  moveImageUp(index2) {
    if (index2 > 0) {
      this.moveImage(index2, index2 - 1);
    }
  }
  moveImageDown(index2) {
    if (index2 < this.images.length - 1) {
      this.moveImage(index2, index2 + 1);
    }
  }
  getTodayDate() {
    const today = /* @__PURE__ */ new Date();
    return today.toISOString().split("T")[0];
  }
  // Helper method to convert date from display format to backend format
  convertDateToBackendFormat(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, "0");
      const day = String(date.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert backend date format to display format
  convertBackendDateToDisplay(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const options = {
        day: "2-digit",
        month: "short",
        year: "numeric"
      };
      return date.toLocaleDateString("en-GB", options).replace(/,/g, ",");
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to extract icon name from path
  getIconFromPath(iconPath) {
    if (!iconPath)
      return "cube";
    const filename = iconPath.split("/").pop() || "";
    return filename.replace(".svg", "") || "cube";
  }
  // Helper method to assign colors to asset types
  getColorForType(typeName) {
    const colorMap = {
      "Fixed Asset": "#2563eb",
      "Semi-Fixed Asset": "#22c55e",
      "Mobile Asset": "#f59e42",
      "Fleet Asset": "#a855f7",
      "IT Equipment": "#3b82f6",
      "Furniture": "#10b981",
      "Vehicle": "#f59e0b",
      "Machinery": "#ef4444",
      "Electronics": "#8b5cf6",
      "Tools": "#f97316"
    };
    return colorMap[typeName] || "#6b7280";
  }
  // Helper method to convert hex colors to Tailwind color names
  hexToTailwindColor(hexColor) {
    const colorMap = {
      "#10B981": "green",
      // Active
      "#F59E0B": "orange",
      // Maintenance  
      "#9CA3AF": "gray",
      // Inactive
      "#EF4444": "red",
      // Retired
      "#6B7280": "gray",
      // Archived
      "#22C55E": "green",
      // Alternative green
      "#3B82F6": "blue",
      // Alternative blue
      "#8B5CF6": "purple",
      // Alternative purple
      "#F97316": "orange"
      // Alternative orange
    };
    return colorMap[hexColor.toUpperCase()] || "gray";
  }
  onImageError(event, index2) {
    console.error("Image failed to load at index:", index2);
    console.error("Image src:", event.target.src);
    console.error("Image file:", this.images[index2]);
    event.target.style.display = "none";
  }
  onImageLoad(event, index2) {
    console.log("Image loaded successfully at index:", index2);
    console.log("Image dimensions:", event.target.naturalWidth, "x", event.target.naturalHeight);
  }
  // Convert images to base64
  convertImagesToBase64() {
    return Promise.all(this.images.map((file) => {
      return new Promise((resolve2, reject) => {
        const reader = new FileReader();
        reader.onload = () => {
          if (reader.result) {
            resolve2(reader.result);
          } else {
            reject(new Error("Failed to read file"));
          }
        };
        reader.onerror = () => reject(reader.error);
        reader.readAsDataURL(file);
      });
    }));
  }
  onCategoryIconError(event, category) {
    console.warn("Category icon failed to load:", category.name, category.icon);
    category.iconError = true;
    event.target.style.display = "none";
  }
  onAssetTypeIconError(event, assetType) {
    console.warn("Asset type icon failed to load:", assetType.name, assetType.icon);
    assetType.iconError = true;
    event.target.style.display = "none";
  }
  triggerFileInput() {
    this.fileInput.nativeElement.click();
  }
  // Method to duplicate images from source asset
  duplicateImages(sourceImages) {
    sourceImages.forEach((image, index2) => {
      if (image.image_url) {
        this.imagePreviewUrls.push(image.image_url);
        const fileName = `existing-image-${index2 + 1}.jpg`;
        const placeholderFile = new File([""], fileName, { type: "image/jpeg" });
        this.images.push(placeholderFile);
      }
    });
  }
  getSelectedParent() {
    return this.possibleParents.find((p) => p.id === this.parent_id);
  }
  static \u0275fac = function AssetCreateComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetCreateComponent)(\u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(HttpClient));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetCreateComponent, selectors: [["app-asset-create"]], viewQuery: function AssetCreateComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c02, 5);
      \u0275\u0275viewQuery(_c12, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.fileInput = _t.first);
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, hostBindings: function AssetCreateComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetCreateComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 300, vars: 118, consts: [["assetForm", "ngForm"], ["nameInput", "ngModel"], ["dateInput", ""], ["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "p-6"], [1, "asset-create-page"], [1, "mb-8"], [1, "flex", "items-center", "space-x-4", "mb-4"], ["type", "button", 1, "flex", "items-center", "space-x-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "font-medium"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600"], ["class", "mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg", 4, "ngIf"], [3, "ngSubmit"], [1, "section-card"], [1, "flex", "items-center", "space-x-3", "mb-6"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "section-title"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6", "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "text-red-500"], ["type", "text", "placeholder", "e.g., Main Server Room AC Unit", "name", "name", "required", "", 1, "input", 3, "ngModelChange", "ngModel"], ["class", "text-red-600 text-sm mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "items-center", "space-x-3"], ["type", "text", "value", "AST-012", "readonly", "", 1, "input", "flex-1"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-xs", "font-medium", "bg-blue-100", "text-blue-800"], [1, "mb-6"], [1, "relative", 3, "click"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["rows", "3", "placeholder", "Brief description of the asset and its purpose...", "name", "description", "maxlength", "500", 1, "input", "resize-none", 3, "ngModelChange", "ngModel"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "justify-between", "mb-3"], [1, "text-sm", "text-gray-600"], [1, "text-2xl", "font-bold"], [1, "relative", "w-full", "h-6", "mb-3"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-2", "bg-gray-200", "rounded-lg"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "h-2", "rounded-lg", "transition-all", "duration-300"], ["type", "range", "min", "0", "max", "100", "name", "health_score", 1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-6", "bg-transparent", "appearance-none", "cursor-pointer", "slider-input", 3, "ngModelChange", "ngModel"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-4", "h-4", "rounded-full", "border-2", "border-white", "shadow-md", "pointer-events-none", "transition-all", "duration-300", 2, "margin-left", "-8px"], [1, "flex", "justify-between", "text-xs", "text-gray-500", "mt-2"], [1, "w-10", "h-10", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], ["class", "flex items-center space-x-3", 4, "ngIf"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-6"], ["type", "text", "placeholder", "e.g., Dell, HP, Toyota", "name", "manufacturer", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "placeholder", "e.g., PowerEdge R730", "name", "model", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "placeholder", "e.g., SN123456789", "name", "serial_number", "required", "", "maxlength", "100", 1, "input", 3, "ngModelChange", "ngModel"], [1, "w-10", "h-10", "bg-yellow-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-yellow-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "relative"], [1, "absolute", "inset-y-0", "left-0", "pl-3", "flex", "items-center", "pointer-events-none"], [1, "text-gray-500", "sm:text-sm"], ["type", "number", "placeholder", "5,000.00", "name", "purchase_price", "step", "0.01", "min", "0", 1, "input", 2, "padding-left", "24px", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "purchase_date", "placeholder", "Select purchase date", "readonly", "", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "number", "name", "depreciation", "placeholder", "e.g., 20", "min", "0", "max", "100", "step", "0.01", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "number", "name", "depreciation_life", "placeholder", "e.g., 5", "min", "1", "max", "100", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "warranty", "placeholder", "e.g., 2 years manufacturer warranty", "maxlength", "255", 1, "input", 3, "ngModelChange", "ngModel"], ["type", "text", "name", "insurance", "placeholder", "e.g., Policy #12345, expires 2025-12-31", "maxlength", "255", 1, "input", 3, "ngModelChange", "ngModel"], [1, "w-10", "h-10", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-indigo-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], [1, "col-span-1", "md:col-span-2"], ["type", "text", "placeholder", "Enter asset address", "name", "address", "autocomplete", "off", 1, "input", "w-full", 3, "ngModelChange", "ngModel"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg", 4, "ngIf"], ["class", "mb-3", 4, "ngIf"], [1, "text-gray-400"], [1, "flex", "items-center", "space-x-2"], ["class", "text-sm text-gray-500", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "w-10", "h-10", "bg-pink-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-pink-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "mt-1", "flex", "justify-center", "px-6", "pt-8", "pb-8", "border-2", "border-dashed", "rounded-lg", "transition-all", "duration-200", 3, "click", "dragover", "dragleave", "drop"], [1, "space-y-1", "text-center"], [1, "w-16", "h-16", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "transition-colors"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "text-sm", "transition-colors"], ["id", "file-upload", "name", "file-upload", "type", "file", "accept", "image/*", "multiple", "", 1, "sr-only", 3, "change"], ["class", "mt-6", 4, "ngIf"], ["class", "mb-6 p-4 bg-red-50 border border-red-200 rounded-lg", 4, "ngIf"], ["class", "mb-6 p-4 bg-green-50 border border-green-200 rounded-lg", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "pt-6", "border-t", "border-gray-200"], ["type", "button", 1, "px-6", "py-3", "border", "border-gray-300", "rounded-lg", "text-gray-700", "font-medium", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["type", "submit", 1, "px-8", "py-3", "bg-blue-600", "text-white", "font-medium", "rounded-lg", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", "shadow-sm", 3, "disabled"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "mt-4", "p-4", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], [1, "text-blue-800", "font-medium"], [1, "text-blue-700", "text-sm"], [1, "text-red-600", "text-sm", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], [1, "px-3", "py-2", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider", "bg-gray-50"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], [1, "font-medium", "text-gray-900"], [1, "text-xs", "text-gray-500"], [1, "w-6", "h-6", "rounded", "flex", "items-center", "justify-center"], ["class", "w-4 h-4", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 3, "color", 4, "ngIf"], [1, "w-4", "h-4", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "text-blue-700", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "rounded-lg", "flex", "items-center", "justify-center", "bg-blue-100"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "text-sm", "text-gray-500"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["class", "w-5 h-5 text-gray-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-6", "h-6", "bg-indigo-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-indigo-600"], [1, "w-8", "h-8", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], [1, "w-6", "h-6", "bg-purple-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"], [1, "w-8", "h-8", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "text-xs text-gray-400", 4, "ngIf"], [1, "text-xs", "text-gray-400"], [1, "w-3", "h-3", "rounded-full"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg"], [1, "mb-3"], [1, "flex", "flex-wrap", "gap-2"], [3, "class", 4, "ngFor", "ngForOf"], ["type", "button", 1, "ml-2", "inline-flex", "items-center", "justify-center", "w-4", "h-4", "rounded-full", "hover:bg-black", "hover:bg-opacity-20", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "px-3", "py-2", "border-b", "border-gray-100"], ["type", "text", "name", "newTagInput", "placeholder", "Type to create new tag...", 1, "w-full", "px-3", "py-2", "text-sm", "border", "border-gray-300", "rounded-md", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", 3, "ngModelChange", "keydown", "click", "ngModel"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "text-xs", "text-gray-400"], ["class", "text-blue-600", 4, "ngIf"], [1, "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "mt-6"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "text-sm", "font-medium", "text-gray-700"], ["type", "button", 1, "text-red-600", "hover:text-red-700", "text-sm", "font-medium", "transition-colors", 3, "click"], [1, "grid", "grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-4"], ["class", "relative group", 4, "ngFor", "ngForOf"], [1, "mt-4", "p-3", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], [1, "text-blue-800", "text-sm"], [1, "relative", "group"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "border", "border-gray-200", "hover:border-blue-300", "transition-colors"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "load", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-50", "group-hover:bg-opacity-20", "transition-all", "duration-200", "flex", "items-center", "justify-center"], [1, "opacity-0", "group-hover:opacity-100", "transition-opacity", "duration-200", "flex", "items-center", "space-x-2"], ["type", "button", "class", "w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm", 3, "click", 4, "ngIf"], ["type", "button", 1, "absolute", "top-2", "right-2", "w-6", "h-6", "bg-red-500", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-red-600", "transition-colors", "shadow-sm", 3, "click"], [1, "absolute", "top-2", "left-2", "w-6", "h-6", "bg-blue-600", "text-white", "rounded-full", "flex", "items-center", "justify-center", "text-xs", "font-medium"], [1, "mt-2", "text-center"], [1, "text-xs", "text-gray-600", "truncate"], ["type", "button", 1, "w-8", "h-8", "bg-white", "bg-opacity-90", "text-gray-700", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-100", "transition-all", "shadow-sm", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 15l7-7 7 7"], [1, "mb-6", "p-4", "bg-red-50", "border", "border-red-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-600"], [1, "text-red-800", "font-medium"], [1, "mb-6", "p-4", "bg-green-50", "border", "border-green-200", "rounded-lg"], [1, "text-green-800", "font-medium"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-5", "w-5"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function AssetCreateComponent_Template(rf, ctx) {
    if (rf & 1) {
      const _r1 = \u0275\u0275getCurrentView();
      \u0275\u0275elementStart(0, "div", 4)(1, "div", 5)(2, "div", 6)(3, "div", 7)(4, "button", 8);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_4_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.goBack());
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(5, "svg", 9);
      \u0275\u0275element(6, "path", 10);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(7, "span", 11);
      \u0275\u0275text(8, "Back to Assets");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(9, "h1", 12);
      \u0275\u0275text(10);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(11, "p", 13);
      \u0275\u0275text(12);
      \u0275\u0275elementEnd();
      \u0275\u0275template(13, AssetCreateComponent_div_13_Template, 9, 0, "div", 14);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(14, "form", 15, 0);
      \u0275\u0275listener("ngSubmit", function AssetCreateComponent_Template_form_ngSubmit_14_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onSubmit());
      });
      \u0275\u0275elementStart(16, "div", 16)(17, "div", 17)(18, "div", 18);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(19, "svg", 19);
      \u0275\u0275element(20, "path", 20);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(21, "h2", 21);
      \u0275\u0275text(22, "Basic Information");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(23, "div", 22)(24, "div")(25, "label", 23);
      \u0275\u0275text(26, " Asset Name ");
      \u0275\u0275elementStart(27, "span", 24);
      \u0275\u0275text(28, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(29, "input", 25, 1);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_29_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.name, $event) || (ctx.name = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275template(31, AssetCreateComponent_div_31_Template, 4, 1, "div", 26);
      \u0275\u0275elementStart(32, "div", 27);
      \u0275\u0275text(33, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(34, "div")(35, "label", 23);
      \u0275\u0275text(36, "Asset ID");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(37, "div", 28);
      \u0275\u0275element(38, "input", 29);
      \u0275\u0275elementStart(39, "span", 30);
      \u0275\u0275text(40, " auto-generated ");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(41, "p", 27);
      \u0275\u0275text(42, "Unique identifier automatically assigned");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(43, "div", 31)(44, "label", 23);
      \u0275\u0275text(45, "Parent Asset");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(46, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_46_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(47, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_47_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.showParentDropdown = !ctx.showParentDropdown);
      });
      \u0275\u0275elementStart(48, "div", 34);
      \u0275\u0275template(49, AssetCreateComponent_span_49_Template, 2, 0, "span", 35)(50, AssetCreateComponent_span_50_Template, 2, 2, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(51, "svg", 37);
      \u0275\u0275element(52, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(53, AssetCreateComponent_div_53_Template, 7, 3, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(54, "div", 27);
      \u0275\u0275text(55, "Optional: Select a parent asset if this asset is a child of another.");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(56, "div", 31)(57, "label", 23);
      \u0275\u0275text(58, "Description");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(59, "textarea", 40);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_textarea_ngModelChange_59_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.description, $event) || (ctx.description = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(60, "div", 27);
      \u0275\u0275text(61, "Maximum 500 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(62, "div")(63, "label", 41);
      \u0275\u0275text(64, "Health Score");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(65, "div", 42)(66, "div", 43)(67, "span", 44);
      \u0275\u0275text(68, "Current Score");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(69, "span", 45);
      \u0275\u0275text(70);
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(71, "div", 46);
      \u0275\u0275element(72, "div", 47)(73, "div", 48);
      \u0275\u0275elementStart(74, "input", 49);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_74_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.healthScore, $event) || (ctx.healthScore = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275element(75, "div", 50);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(76, "div", 51)(77, "span");
      \u0275\u0275text(78, "Poor (0%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(79, "span");
      \u0275\u0275text(80, "Fair (25%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(81, "span");
      \u0275\u0275text(82, "Good (50%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(83, "span");
      \u0275\u0275text(84, "Very Good (75%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(85, "span");
      \u0275\u0275text(86, "Excellent (100%)");
      \u0275\u0275elementEnd()()()()();
      \u0275\u0275elementStart(87, "div", 16)(88, "div", 17)(89, "div", 52);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(90, "svg", 53);
      \u0275\u0275element(91, "path", 54);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(92, "h2", 21);
      \u0275\u0275text(93, "Asset Classification");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(94, "div", 55)(95, "div")(96, "label", 23);
      \u0275\u0275text(97, " Asset Type ");
      \u0275\u0275elementStart(98, "span", 24);
      \u0275\u0275text(99, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(100, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_100_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(101, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_101_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleAssetTypeDropdown());
      });
      \u0275\u0275elementStart(102, "div", 34);
      \u0275\u0275template(103, AssetCreateComponent_span_103_Template, 2, 0, "span", 35)(104, AssetCreateComponent_div_104_Template, 6, 5, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(105, "svg", 37);
      \u0275\u0275element(106, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(107, AssetCreateComponent_div_107_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275template(108, AssetCreateComponent_div_108_Template, 4, 1, "div", 26);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(109, "div")(110, "label", 23);
      \u0275\u0275text(111, " Category ");
      \u0275\u0275elementStart(112, "span", 24);
      \u0275\u0275text(113, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(114, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_114_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(115, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_115_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleCategoryDropdown());
      });
      \u0275\u0275elementStart(116, "div", 34);
      \u0275\u0275template(117, AssetCreateComponent_span_117_Template, 2, 0, "span", 35)(118, AssetCreateComponent_span_118_Template, 2, 1, "span", 36);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(119, "svg", 37);
      \u0275\u0275element(120, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(121, AssetCreateComponent_div_121_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275template(122, AssetCreateComponent_div_122_Template, 4, 1, "div", 26);
      \u0275\u0275elementEnd()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(123, "div", 16)(124, "div", 17)(125, "div", 57);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(126, "svg", 58);
      \u0275\u0275element(127, "path", 59);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(128, "h2", 21);
      \u0275\u0275text(129, "Technical Details");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(130, "div", 60)(131, "div")(132, "label", 23);
      \u0275\u0275text(133, "Manufacturer");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(134, "input", 61);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_134_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.manufacturer, $event) || (ctx.manufacturer = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(135, "div", 27);
      \u0275\u0275text(136, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(137, "div")(138, "label", 23);
      \u0275\u0275text(139, "Model");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(140, "input", 62);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_140_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.model, $event) || (ctx.model = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(141, "div", 27);
      \u0275\u0275text(142, "Maximum 100 characters");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(143, "div")(144, "label", 23);
      \u0275\u0275text(145, " Serial Number ");
      \u0275\u0275elementStart(146, "span", 24);
      \u0275\u0275text(147, "*");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(148, "input", 63);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_148_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.serial_number, $event) || (ctx.serial_number = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275template(149, AssetCreateComponent_div_149_Template, 4, 1, "div", 26);
      \u0275\u0275elementStart(150, "div", 27);
      \u0275\u0275text(151, "Required, max 100 chars, must be unique within your company");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(152, "div", 16)(153, "div", 17)(154, "div", 64);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(155, "svg", 65);
      \u0275\u0275element(156, "path", 66);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(157, "h2", 21);
      \u0275\u0275text(158, "Financial Information");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(159, "div", 22)(160, "div")(161, "label", 23);
      \u0275\u0275text(162, "Purchase Value (USD)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(163, "div", 67)(164, "div", 68)(165, "span", 69);
      \u0275\u0275text(166, "$ ");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(167, "input", 70);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_167_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.purchase_price, $event) || (ctx.purchase_price = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(168, "div", 27);
      \u0275\u0275text(169, "Must be a non-negative number");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(170, "div")(171, "label", 23);
      \u0275\u0275text(172, "Purchase Date");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(173, "input", 71, 2);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_173_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.purchase_date, $event) || (ctx.purchase_date = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(175, "div", 27);
      \u0275\u0275text(176, "Cannot be in the future");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(177, "div", 22)(178, "div")(179, "label", 23);
      \u0275\u0275text(180, "Depreciation Rate (%)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(181, "input", 72);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_181_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.depreciation, $event) || (ctx.depreciation = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(182, "div", 27);
      \u0275\u0275text(183, "Annual depreciation rate (0-100%)");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(184, "div")(185, "label", 23);
      \u0275\u0275text(186, "Depreciation Life (Years)");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(187, "input", 73);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_187_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.depreciation_life, $event) || (ctx.depreciation_life = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(188, "div", 27);
      \u0275\u0275text(189, "Useful life for depreciation calculation (1-100 years)");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(190, "div", 22)(191, "div")(192, "label", 23);
      \u0275\u0275text(193, "Warranty Information");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(194, "input", 74);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_194_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.warranty, $event) || (ctx.warranty = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(195, "div", 27);
      \u0275\u0275text(196, "Warranty details (max 255 characters)");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(197, "div")(198, "label", 23);
      \u0275\u0275text(199, "Insurance Information");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(200, "input", 75);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_200_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.insurance, $event) || (ctx.insurance = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(201, "div", 27);
      \u0275\u0275text(202, "Insurance details (max 255 characters)");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(203, "div", 16)(204, "div", 17)(205, "div", 76);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(206, "svg", 77);
      \u0275\u0275element(207, "path", 78)(208, "path", 79);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(209, "h2", 21);
      \u0275\u0275text(210, "Location & Assignment");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(211, "div", 55)(212, "div")(213, "label", 23);
      \u0275\u0275text(214, "Location");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(215, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_215_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(216, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_216_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleLocationDropdown());
      });
      \u0275\u0275elementStart(217, "div", 34);
      \u0275\u0275template(218, AssetCreateComponent_span_218_Template, 2, 0, "span", 35)(219, AssetCreateComponent_div_219_Template, 7, 1, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(220, "svg", 37);
      \u0275\u0275element(221, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(222, AssetCreateComponent_div_222_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(223, "div", 80)(224, "label", 23);
      \u0275\u0275text(225, "Address");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(226, "input", 81);
      \u0275\u0275twoWayListener("ngModelChange", function AssetCreateComponent_Template_input_ngModelChange_226_listener($event) {
        \u0275\u0275restoreView(_r1);
        \u0275\u0275twoWayBindingSet(ctx.address, $event) || (ctx.address = $event);
        return \u0275\u0275resetView($event);
      });
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(227, "div", 27);
      \u0275\u0275text(228, "Enter the physical address of the asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(229, "div")(230, "label", 23);
      \u0275\u0275text(231, "Department ID");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(232, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_232_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(233, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_233_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleDepartmentDropdown());
      });
      \u0275\u0275elementStart(234, "div", 34);
      \u0275\u0275template(235, AssetCreateComponent_span_235_Template, 2, 0, "span", 35)(236, AssetCreateComponent_div_236_Template, 6, 1, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(237, "svg", 37);
      \u0275\u0275element(238, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(239, AssetCreateComponent_div_239_Template, 5, 1, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(240, "div", 27);
      \u0275\u0275text(241, "Optional department assignment");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(242, "div")(243, "label", 23);
      \u0275\u0275text(244, "Status");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(245, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_245_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(246, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_246_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleStatusDropdown());
      });
      \u0275\u0275elementStart(247, "div", 34);
      \u0275\u0275template(248, AssetCreateComponent_div_248_Template, 4, 3, "div", 56);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(249, "svg", 37);
      \u0275\u0275element(250, "path", 38);
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(251, AssetCreateComponent_div_251_Template, 5, 1, "div", 82);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(252, "div", 27);
      \u0275\u0275text(253, "Current operational status of the asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(254, "div")(255, "label", 23);
      \u0275\u0275text(256, "Tags");
      \u0275\u0275elementEnd();
      \u0275\u0275template(257, AssetCreateComponent_div_257_Template, 3, 1, "div", 83);
      \u0275\u0275elementStart(258, "div", 32);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_258_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView($event.stopPropagation());
      });
      \u0275\u0275elementStart(259, "button", 33);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_259_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.toggleTagsDropdown());
      });
      \u0275\u0275elementStart(260, "div", 34)(261, "span", 84);
      \u0275\u0275text(262);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(263, "div", 85);
      \u0275\u0275template(264, AssetCreateComponent_span_264_Template, 2, 1, "span", 86);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(265, "svg", 37);
      \u0275\u0275element(266, "path", 38);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(267, AssetCreateComponent_div_267_Template, 10, 2, "div", 39);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(268, "div", 27);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(269, "svg", 87);
      \u0275\u0275element(270, "path", 88);
      \u0275\u0275elementEnd();
      \u0275\u0275text(271, " Select existing tags or type to create new ones. Press Enter to add custom tags. ");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(272, "div", 16)(273, "div", 17)(274, "div", 89);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(275, "svg", 90);
      \u0275\u0275element(276, "path", 91);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(277, "h2", 21);
      \u0275\u0275text(278, "Asset Image");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(279, "div")(280, "label", 23);
      \u0275\u0275text(281, "Upload Image");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(282, "div", 92);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_div_click_282_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.triggerFileInput());
      })("dragover", function AssetCreateComponent_Template_div_dragover_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDragOver($event));
      })("dragleave", function AssetCreateComponent_Template_div_dragleave_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDragLeave($event));
      })("drop", function AssetCreateComponent_Template_div_drop_282_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onDrop($event));
      });
      \u0275\u0275elementStart(283, "div", 93)(284, "div", 94);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(285, "svg", 95);
      \u0275\u0275element(286, "path", 96);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(287, "p", 97);
      \u0275\u0275text(288);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(289, "input", 98, 3);
      \u0275\u0275listener("change", function AssetCreateComponent_Template_input_change_289_listener($event) {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.onFileChange($event));
      });
      \u0275\u0275elementEnd()()();
      \u0275\u0275template(291, AssetCreateComponent_div_291_Template, 16, 2, "div", 99);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(292, AssetCreateComponent_div_292_Template, 6, 1, "div", 100)(293, AssetCreateComponent_div_293_Template, 6, 1, "div", 101);
      \u0275\u0275elementStart(294, "div", 102)(295, "button", 103);
      \u0275\u0275listener("click", function AssetCreateComponent_Template_button_click_295_listener() {
        \u0275\u0275restoreView(_r1);
        return \u0275\u0275resetView(ctx.goBack());
      });
      \u0275\u0275text(296, " Cancel ");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(297, "button", 104);
      \u0275\u0275template(298, AssetCreateComponent_span_298_Template, 5, 0, "span", 105)(299, AssetCreateComponent_span_299_Template, 6, 0, "span", 105);
      \u0275\u0275elementEnd()()()()();
    }
    if (rf & 2) {
      \u0275\u0275advance(10);
      \u0275\u0275textInterpolate1(" ", ctx.route.snapshot.queryParams["duplicate"] ? "Duplicate Asset" : "Create New Asset", " ");
      \u0275\u0275advance(2);
      \u0275\u0275textInterpolate1(" ", ctx.route.snapshot.queryParams["duplicate"] ? "Creating a copy of an existing asset. Please review and update the information below." : "Add a new asset to your inventory with detailed information and specifications", " ");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.route.snapshot.queryParams["duplicate"]);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-red-300", ctx.nameError);
      \u0275\u0275twoWayProperty("ngModel", ctx.name);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.nameError);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-blue-500", ctx.showParentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.parent_id);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.parent_id && ctx.getSelectedParent());
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showParentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showParentDropdown);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.description);
      \u0275\u0275advance(10);
      \u0275\u0275classProp("text-red-600", ctx.healthScore < 50)("text-green-600", ctx.healthScore >= 50);
      \u0275\u0275advance();
      \u0275\u0275textInterpolate1("", ctx.healthScore, "%");
      \u0275\u0275advance(3);
      \u0275\u0275styleProp("width", ctx.healthScore, "%");
      \u0275\u0275classProp("bg-red-500", ctx.healthScore < 50)("bg-green-500", ctx.healthScore >= 50);
      \u0275\u0275advance();
      \u0275\u0275twoWayProperty("ngModel", ctx.healthScore);
      \u0275\u0275advance();
      \u0275\u0275styleProp("left", ctx.healthScore, "%");
      \u0275\u0275classProp("bg-red-500", ctx.healthScore < 50)("bg-green-500", ctx.healthScore >= 50);
      \u0275\u0275advance(26);
      \u0275\u0275classProp("border-red-300", ctx.assetTypeError)("border-blue-500", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedAssetType);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showAssetTypeDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showAssetTypeDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.assetTypeError);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-red-300", ctx.categoryError)("border-blue-500", ctx.showCategoryDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedCategory);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedCategory);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showCategoryDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showCategoryDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.categoryError);
      \u0275\u0275advance(12);
      \u0275\u0275twoWayProperty("ngModel", ctx.manufacturer);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.model);
      \u0275\u0275advance(8);
      \u0275\u0275classProp("border-red-300", ctx.serialNumberError);
      \u0275\u0275twoWayProperty("ngModel", ctx.serial_number);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.serialNumberError);
      \u0275\u0275advance(18);
      \u0275\u0275twoWayProperty("ngModel", ctx.purchase_price);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.purchase_date);
      \u0275\u0275advance(8);
      \u0275\u0275twoWayProperty("ngModel", ctx.depreciation);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.depreciation_life);
      \u0275\u0275advance(7);
      \u0275\u0275twoWayProperty("ngModel", ctx.warranty);
      \u0275\u0275advance(6);
      \u0275\u0275twoWayProperty("ngModel", ctx.insurance);
      \u0275\u0275advance(16);
      \u0275\u0275classProp("border-blue-500", ctx.showLocationDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedLocation);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedLocation);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showLocationDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showLocationDropdown);
      \u0275\u0275advance(4);
      \u0275\u0275twoWayProperty("ngModel", ctx.address);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-blue-500", ctx.showDepartmentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", !ctx.selectedDepartment);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.selectedDepartment);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showDepartmentDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showDepartmentDropdown);
      \u0275\u0275advance(7);
      \u0275\u0275classProp("border-blue-500", ctx.showStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.selectedStatus);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showStatusDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showStatusDropdown);
      \u0275\u0275advance(6);
      \u0275\u0275property("ngIf", ctx.selectedTags.length > 0);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("border-blue-500", ctx.showTagsDropdown);
      \u0275\u0275advance(3);
      \u0275\u0275textInterpolate1(" ", ctx.selectedTags.length === 0 ? "Select tags" : "Add more tags", " ");
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.selectedTags.length > 0);
      \u0275\u0275advance();
      \u0275\u0275classProp("rotate-180", ctx.showTagsDropdown);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showTagsDropdown);
      \u0275\u0275advance(15);
      \u0275\u0275classProp("border-gray-300", !ctx.isDragOver)("border-blue-500", ctx.isDragOver)("bg-blue-50", ctx.isDragOver)("hover:border-blue-400", !ctx.isDragOver);
      \u0275\u0275advance(3);
      \u0275\u0275classProp("text-gray-400", !ctx.isDragOver)("text-blue-500", ctx.isDragOver);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("text-gray-500", !ctx.isDragOver)("text-blue-600", ctx.isDragOver);
      \u0275\u0275advance();
      \u0275\u0275textInterpolate1(" ", ctx.isDragOver ? "Release to upload images" : "PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here", " ");
      \u0275\u0275advance(3);
      \u0275\u0275property("ngIf", ctx.imagePreviewUrls.length > 0);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.submitError);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.submitSuccess);
      \u0275\u0275advance(2);
      \u0275\u0275property("disabled", ctx.isSubmitting);
      \u0275\u0275advance(2);
      \u0275\u0275property("disabled", ctx.isSubmitting || !ctx.isFormValid());
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.isSubmitting);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.isSubmitting);
    }
  }, dependencies: [FormsModule, \u0275NgNoValidate, DefaultValueAccessor, NumberValueAccessor, RangeValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, MaxLengthValidator, MinValidator, MaxValidator, NgModel, NgForm, NgIf, NgForOf], styles: ["\n\n.asset-create-page[_ngcontent-%COMP%] {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card[_ngcontent-%COMP%] {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card[_ngcontent-%COMP%]:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title[_ngcontent-%COMP%] {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input[_ngcontent-%COMP%] {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input[_ngcontent-%COMP%]::placeholder {\n  color: #9ca3af;\n}\n.input[_ngcontent-%COMP%]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300[_ngcontent-%COMP%] {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page[_ngcontent-%COMP%] {\n    padding: 1rem;\n  }\n  .section-card[_ngcontent-%COMP%] {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2[_ngcontent-%COMP%], \n   .grid-cols-3[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideDown 0.2s ease-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover {\n  background-color: #eff6ff;\n}\n@keyframes _ngcontent-%COMP%_slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n.transition-transform[_ngcontent-%COMP%] {\n  transition: transform 0.2s ease-in-out;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n[_nghost-%COMP%]     .flatpickr-input {\n  cursor: pointer;\n}\n[_nghost-%COMP%]     .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input[_ngcontent-%COMP%]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-create.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetCreateComponent, [{
    type: Component,
    args: [{ selector: "app-asset-create", standalone: true, imports: [FormsModule, NgIf, NgForOf], template: `<div class="min-h-screen bg-gray-50 p-6">\r
  <div class="asset-create-page">\r
    <!-- Header -->\r
    <div class="mb-8">\r
      <div class="flex items-center space-x-4 mb-4">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          class="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors">\r
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
          </svg>\r
          <span class="font-medium">Back to Assets</span>\r
        </button>\r
      </div>\r
      <h1 class="text-3xl font-bold text-gray-900 mb-2">\r
        {{route.snapshot.queryParams['duplicate'] ? 'Duplicate Asset' : 'Create New Asset'}}\r
      </h1>\r
      <p class="text-gray-600">\r
        {{route.snapshot.queryParams['duplicate'] ?\r
          'Creating a copy of an existing asset. Please review and update the information below.' :\r
          'Add a new asset to your inventory with detailed information and specifications'}}\r
      </p>\r
\r
      <!-- Duplication Notice -->\r
      <div *ngIf="route.snapshot.queryParams['duplicate']" class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <div>\r
            <p class="text-blue-800 font-medium">Duplicating Asset</p>\r
            <p class="text-blue-700 text-sm">Most fields have been pre-filled. Please enter a new serial number and review all information before saving.</p>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
\r
    <form (ngSubmit)="onSubmit()" #assetForm="ngForm">\r
      <!-- Basic Information -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Basic Information</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Asset Name <span class="text-red-500">*</span>\r
            </label>\r
            <input\r
              type="text"\r
              class="input"\r
              [class.border-red-300]="nameError"\r
              placeholder="e.g., Main Server Room AC Unit"\r
              [(ngModel)]="name"\r
              name="name"\r
              required\r
              #nameInput="ngModel" />\r
            <div *ngIf="nameError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ nameError }}\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Asset ID</label>\r
            <div class="flex items-center space-x-3">\r
              <input type="text" class="input flex-1" value="AST-012" readonly />\r
              <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">\r
                auto-generated\r
              </span>\r
            </div>\r
            <p class="text-xs text-gray-500 mt-1">Unique identifier automatically assigned</p>\r
          </div>\r
        </div>\r
\r
        <div class="mb-6">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Parent Asset</label>\r
          <!-- Custom Parent Asset Dropdown -->\r
          <div class="relative" (click)="$event.stopPropagation()">\r
            <button\r
              type="button"\r
              (click)="showParentDropdown = !showParentDropdown"\r
              class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
              [class.border-blue-500]="showParentDropdown">\r
              <div class="flex items-center justify-between">\r
                <span *ngIf="!parent_id" class="text-gray-400">Select parent asset</span>\r
                <span *ngIf="parent_id && getSelectedParent()" class="text-gray-900">\r
                  {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r
                </span>\r
                <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showParentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                </svg>\r
              </div>\r
            </button>\r
            <!-- Dropdown Menu -->\r
            <div *ngIf="showParentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
              <div class="py-1">\r
                <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select parent asset</div>\r
                <button\r
                  type="button"\r
                  (click)="parent_id = null; showParentDropdown = false"\r
                  class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                  [class.bg-blue-50]="!parent_id">\r
                  -- None --\r
                </button>\r
                <button\r
                  *ngFor="let parent of possibleParents"\r
                  type="button"\r
                  (click)="parent_id = parent.id; showParentDropdown = false"\r
                  class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                  [class.bg-blue-50]="parent_id === parent.id">\r
                  <div class="flex items-center space-x-3">\r
                    <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                      <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                      </svg>\r
                    </div>\r
                    <div>\r
                      <div class="font-medium text-gray-900">{{parent.name}}</div>\r
                      <div class="text-xs text-gray-500">{{parent.asset_id}}</div>\r
                    </div>\r
                  </div>\r
                </button>\r
              </div>\r
            </div>\r
          </div>\r
          <div class="text-xs text-gray-500 mt-1">Optional: Select a parent asset if this asset is a child of another.</div>\r
        </div>\r
\r
        <div class="mb-6">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>\r
          <textarea\r
            class="input resize-none"\r
            rows="3"\r
            placeholder="Brief description of the asset and its purpose..."\r
            [(ngModel)]="description"\r
            name="description"\r
            maxlength="500"></textarea>\r
          <div class="text-xs text-gray-500 mt-1">Maximum 500 characters</div>\r
        </div>\r
\r
        <div>\r
          <label class="block text-sm font-medium text-gray-700 mb-3">Health Score</label>\r
          <div class="bg-gray-50 rounded-lg p-4">\r
            <div class="flex items-center justify-between mb-3">\r
              <span class="text-sm text-gray-600">Current Score</span>\r
              <span class="text-2xl font-bold" [class.text-red-600]="healthScore < 50" [class.text-green-600]="healthScore >= 50">{{ healthScore }}%</span>\r
            </div>\r
            <!-- Custom Health Score Bar with Working Slider -->\r
            <div class="relative w-full h-6 mb-3">\r
              <!-- Background Track -->\r
              <div class="absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg"></div>\r
              \r
              <!-- Progress Bar -->\r
              <div \r
                class="absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300"\r
                [class.bg-red-500]="healthScore < 50"\r
                [class.bg-green-500]="healthScore >= 50"\r
                [style.width.%]="healthScore"></div>\r
              \r
              <!-- Interactive Range Input -->\r
              <input\r
                type="range"\r
                min="0"\r
                max="100"\r
                [(ngModel)]="healthScore"\r
                name="health_score"\r
                class="absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input" />\r
              \r
              <!-- Custom Thumb -->\r
              <div \r
                class="absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300"\r
                [class.bg-red-500]="healthScore < 50"\r
                [class.bg-green-500]="healthScore >= 50"\r
                [style.left.%]="healthScore"\r
                style="margin-left: -8px;"></div>\r
            </div>\r
            \r
            <div class="flex justify-between text-xs text-gray-500 mt-2">\r
              <span>Poor (0%)</span>\r
              <span>Fair (25%)</span>\r
              <span>Good (50%)</span>\r
              <span>Very Good (75%)</span>\r
              <span>Excellent (100%)</span>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Asset Classification -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Asset Classification</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Asset Type <span class="text-red-500">*</span>\r
            </label>\r
            <!-- Custom Asset Type Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleAssetTypeDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-red-300]="assetTypeError"\r
                [class.border-blue-500]="showAssetTypeDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedAssetType" class="text-gray-400">Select asset type</span>\r
                  <div *ngIf="selectedAssetType" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 rounded flex items-center justify-center" [style.background-color]="selectedAssetType.color + '20'">\r
                      <img \r
                        *ngIf="selectedAssetType.icon && !selectedAssetType.iconError" \r
                        [src]="selectedAssetType.icon" \r
                        [alt]="selectedAssetType.name || selectedAssetType.label" \r
                        class="w-4 h-4"\r
                        (error)="onAssetTypeIconError($event, selectedAssetType)">\r
                      <svg \r
                        *ngIf="!selectedAssetType.icon || selectedAssetType.iconError" \r
                        class="w-4 h-4" \r
                        [style.color]="selectedAssetType.color" \r
                        fill="none" \r
                        stroke="currentColor" \r
                        viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedAssetType.label}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showAssetTypeDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showAssetTypeDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select asset type</div>\r
                  <button\r
                    *ngFor="let type of assetTypes"\r
                    type="button"\r
                    (click)="selectAssetType(type)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedAssetType?.id === type.id"\r
                    [class.text-blue-700]="selectedAssetType?.id === type.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100">\r
                        <img \r
                          *ngIf="type.icon && !type.iconError" \r
                          [src]="type.icon" \r
                          [alt]="type.name || type.label" \r
                          class="w-5 h-5"\r
                          (error)="onAssetTypeIconError($event, type)">\r
                        <svg \r
                          *ngIf="!type.icon || type.iconError" \r
                          class="w-5 h-5 text-blue-600" \r
                          fill="none" \r
                          stroke="currentColor" \r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{type.label || type.name}}</div>\r
                        <div class="text-sm text-gray-500">{{type.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div *ngIf="assetTypeError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ assetTypeError }}\r
            </div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Category <span class="text-red-500">*</span>\r
            </label>\r
            <!-- Custom Category Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleCategoryDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-red-300]="categoryError"\r
                [class.border-blue-500]="showCategoryDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedCategory" class="text-gray-400">Select category</span>\r
                  <span *ngIf="selectedCategory" class="text-gray-900">{{selectedCategory.name}}</span>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showCategoryDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showCategoryDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select category</div>\r
                  <button\r
                    *ngFor="let cat of categories"\r
                    type="button"\r
                    (click)="selectCategory(cat)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedCategory?.id === cat.id"\r
                    [class.text-blue-700]="selectedCategory?.id === cat.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                        <img \r
                          *ngIf="cat.icon" \r
                          [src]="cat.icon" \r
                          [alt]="cat.name" \r
                          class="w-5 h-5"\r
                          (error)="onCategoryIconError($event, cat)">\r
                        <svg \r
                          *ngIf="!cat.icon || cat.iconError" \r
                          class="w-5 h-5 text-gray-600" \r
                          fill="none" \r
                          stroke="currentColor" \r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{cat.name}}</div>\r
                        <div *ngIf="cat.description" class="text-sm text-gray-500">{{cat.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div *ngIf="categoryError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ categoryError }}\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Technical Details -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Technical Details</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Manufacturer</label>\r
            <input\r
              type="text"\r
              class="input"\r
              placeholder="e.g., Dell, HP, Toyota"\r
              [(ngModel)]="manufacturer"\r
              name="manufacturer"\r
              maxlength="100" />\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Model</label>\r
            <input\r
              type="text"\r
              class="input"\r
              placeholder="e.g., PowerEdge R730"\r
              [(ngModel)]="model"\r
              name="model"\r
              maxlength="100" />\r
            <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">\r
              Serial Number <span class="text-red-500">*</span>\r
            </label>\r
            <input\r
              type="text"\r
              class="input"\r
              [class.border-red-300]="serialNumberError"\r
              placeholder="e.g., SN123456789"\r
              [(ngModel)]="serial_number"\r
              name="serial_number"\r
              required\r
              maxlength="100" />\r
            <div *ngIf="serialNumberError" class="text-red-600 text-sm mt-1">\r
              <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
              </svg>\r
              {{ serialNumberError }}\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Required, max 100 chars, must be unique within your company</div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Financial Information -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Financial Information</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Value (USD)</label>\r
            <div class="relative">\r
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\r
                <span class="text-gray-500 sm:text-sm">$ </span>\r
              </div>\r
              <input\r
                type="number"\r
                class="input"\r
                style="padding-left: 24px;"\r
                placeholder="5,000.00"\r
                [(ngModel)]="purchase_price"\r
                name="purchase_price"\r
                step="0.01"\r
                min="0" />\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Must be a non-negative number</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              class="input"\r
              name="purchase_date"\r
              placeholder="Select purchase date"\r
              [(ngModel)]="purchase_date"\r
              readonly />\r
            <div class="text-xs text-gray-500 mt-1">Cannot be in the future</div>\r
          </div>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Rate (%)</label>\r
            <input\r
              type="number"\r
              class="input"\r
              [(ngModel)]="depreciation"\r
              name="depreciation"\r
              placeholder="e.g., 20"\r
              min="0"\r
              max="100"\r
              step="0.01" />\r
            <div class="text-xs text-gray-500 mt-1">Annual depreciation rate (0-100%)</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Life (Years)</label>\r
            <input\r
              type="number"\r
              class="input"\r
              [(ngModel)]="depreciation_life"\r
              name="depreciation_life"\r
              placeholder="e.g., 5"\r
              min="1"\r
              max="100" />\r
            <div class="text-xs text-gray-500 mt-1">Useful life for depreciation calculation (1-100 years)</div>\r
          </div>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Warranty Information</label>\r
            <input\r
              type="text"\r
              class="input"\r
              [(ngModel)]="warranty"\r
              name="warranty"\r
              placeholder="e.g., 2 years manufacturer warranty"\r
              maxlength="255" />\r
            <div class="text-xs text-gray-500 mt-1">Warranty details (max 255 characters)</div>\r
          </div>\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Insurance Information</label>\r
            <input\r
              type="text"\r
              class="input"\r
              [(ngModel)]="insurance"\r
              name="insurance"\r
              placeholder="e.g., Policy #12345, expires 2025-12-31"\r
              maxlength="255" />\r
            <div class="text-xs text-gray-500 mt-1">Insurance details (max 255 characters)</div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Location & Assignment -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Location & Assignment</h2>\r
        </div>\r
\r
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>\r
            <!-- Custom Location Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleLocationDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showLocationDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedLocation" class="text-gray-400">Select location</span>\r
                  <div *ngIf="selectedLocation" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 bg-indigo-100 rounded flex items-center justify-center">\r
                      <svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedLocation.name}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select location</div>\r
                  <button\r
                    *ngFor="let loc of locations"\r
                    type="button"\r
                    (click)="selectLocation(loc)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedLocation?.id === loc.id"\r
                    [class.text-blue-700]="selectedLocation?.id === loc.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{loc.name}}</div>\r
                        <div *ngIf="loc.type" class="text-sm text-gray-500">{{loc.type.name}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
          \r
          <!-- Address Field -->\r
          <div class="col-span-1 md:col-span-2">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>\r
            <input\r
              type="text"\r
              class="input w-full"\r
              placeholder="Enter asset address"\r
              [(ngModel)]="address"\r
              name="address"\r
              autocomplete="off"\r
            />\r
            <div class="text-xs text-gray-500 mt-1">Enter the physical address of the asset</div>\r
          </div>\r
          \r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Department ID</label>\r
            <!-- Custom Department Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleDepartmentDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showDepartmentDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!selectedDepartment" class="text-gray-400">Select department</span>\r
                  <div *ngIf="selectedDepartment" class="flex items-center space-x-3">\r
                    <div class="w-6 h-6 bg-purple-100 rounded flex items-center justify-center">\r
                      <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                      </svg>\r
                    </div>\r
                    <span class="text-gray-900">{{selectedDepartment.name}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select department</div>\r
                  <button\r
                    *ngFor="let dept of departments"\r
                    type="button"\r
                    (click)="selectDepartment(dept)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedDepartment?.id === dept.id"\r
                    [class.text-blue-700]="selectedDepartment?.id === dept.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{dept.name}}</div>\r
                        <div *ngIf="dept.description" class="text-sm text-gray-500">{{dept.description}}</div>\r
                        <div *ngIf="dept.code" class="text-xs text-gray-400">Code: {{dept.code}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Optional department assignment</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
            <!-- Custom Status Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleStatusDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showStatusDropdown">\r
                <div class="flex items-center justify-between">\r
                  <div *ngIf="selectedStatus" class="flex items-center space-x-3">\r
                    <div class="w-3 h-3 rounded-full" [style.background-color]="selectedStatus.hexColor || '#6B7280'"></div>\r
                    <span class="text-gray-900">{{selectedStatus.label}}</span>\r
                  </div>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showStatusDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showStatusDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select status</div>\r
                  <button\r
                    *ngFor="let status of statusOptions"\r
                    type="button"\r
                    (click)="selectStatus(status)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="selectedStatus?.value === status.value"\r
                    [class.text-blue-700]="selectedStatus?.value === status.value">\r
                    <div class="flex items-center space-x-3">\r
                      <div [class]="'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'">\r
                        <div class="w-3 h-3 rounded-full" [style.background-color]="status.hexColor || '#6B7280'"></div>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{status.label}}</div>\r
                        <div class="text-sm text-gray-500">{{status.description}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Current operational status of the asset</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>\r
            <!-- Selected Tags Display -->\r
            <div *ngIf="selectedTags.length > 0" class="mb-3">\r
              <div class="flex flex-wrap gap-2">\r
                <span *ngFor="let tag of selectedTags"\r
                      [class]="'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'">\r
                  {{tag.name}}\r
                  <button\r
                    type="button"\r
                    (click)="removeTag(tag)"\r
                    class="ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                    </svg>\r
                  </button>\r
                </span>\r
              </div>\r
            </div>\r
\r
            <!-- Tags Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="toggleTagsDropdown()"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showTagsDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span class="text-gray-400">\r
                    {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r
                  </span>\r
                  <div class="flex items-center space-x-2">\r
                    <span *ngIf="selectedTags.length > 0" class="text-sm text-gray-500">\r
                      {{selectedTags.length}} selected\r
                    </span>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showTagsDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </div>\r
              </button>\r
\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showTagsDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <!-- Add New Tag Input -->\r
                  <div class="px-3 py-2 border-b border-gray-100">\r
                    <div class="relative">\r
                      <input\r
                        type="text"\r
                        [(ngModel)]="newTagInput"\r
                       name="newTagInput"\r
                        (keydown)="onTagInputKeydown($event)"\r
                        placeholder="Type to create new tag..."\r
                        class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"\r
                        (click)="$event.stopPropagation()">\r
                      <div class="absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400">\r
                        Press Enter\r
                      </div>\r
                    </div>\r
                  </div>\r
\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select tags</div>\r
                  <button\r
                    *ngFor="let tag of availableTags"\r
                    type="button"\r
                    (click)="toggleTag(tag)"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="isTagSelected(tag)">\r
                    <div class="flex items-center justify-between">\r
                      <div class="flex items-center space-x-3">\r
                        <div [class]="'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'">\r
                          <div [class]="'w-3 h-3 rounded-full bg-' + tag.color + '-500'"></div>\r
                        </div>\r
                        <span class="font-medium text-gray-900">{{tag.name}}</span>\r
                      </div>\r
                      <div *ngIf="isTagSelected(tag)" class="text-blue-600">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                        </svg>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">\r
              <svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
              Select existing tags or type to create new ones. Press Enter to add custom tags.\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Asset Image -->\r
      <div class="section-card">\r
        <div class="flex items-center space-x-3 mb-6">\r
          <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-5 h-5 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
          </div>\r
          <h2 class="section-title">Asset Image</h2>\r
        </div>\r
\r
        <div>\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Upload Image</label>\r
          <div\r
            (click)="triggerFileInput()"\r
            class="mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200"\r
            [class.border-gray-300]="!isDragOver"\r
            [class.border-blue-500]="isDragOver"\r
            [class.bg-blue-50]="isDragOver"\r
            [class.hover:border-blue-400]="!isDragOver"\r
            (dragover)="onDragOver($event)"\r
            (dragleave)="onDragLeave($event)"\r
            (drop)="onDrop($event)">\r
            <div class="space-y-1 text-center">\r
              <!-- Upload Icon -->\r
              <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4">\r
                <svg class="w-8 h-8 transition-colors"\r
                     [class.text-gray-400]="!isDragOver"\r
                     [class.text-blue-500]="isDragOver"\r
                     fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
                </svg>\r
              </div>\r
\r
              <p class="text-sm transition-colors"\r
                 [class.text-gray-500]="!isDragOver"\r
                 [class.text-blue-600]="isDragOver">\r
                {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r
              </p>\r
\r
              <!-- Hidden file input for drag and drop -->\r
              <input #fileInput id="file-upload" name="file-upload" type="file" class="sr-only" (change)="onFileChange($event)" accept="image/*" multiple>\r
            </div>\r
          </div>\r
\r
          <!-- Image Gallery -->\r
          <div *ngIf="imagePreviewUrls.length > 0" class="mt-6">\r
            <div class="flex items-center justify-between mb-4">\r
              <h4 class="text-sm font-medium text-gray-700">Selected Images ({{imagePreviewUrls.length}})</h4>\r
              <button\r
                type="button"\r
                (click)="removeAllImages()"\r
                class="text-red-600 hover:text-red-700 text-sm font-medium transition-colors">\r
                Remove All\r
              </button>\r
            </div>\r
\r
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">\r
              <div *ngFor="let previewUrl of imagePreviewUrls; let i = index" class="relative group">\r
                <!-- Image Preview -->\r
                <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                  <img\r
                    [src]="previewUrl"\r
                    [alt]="'Asset Image ' + (i + 1)"\r
                    class="w-full h-full object-cover bg-white"\r
                    (error)="onImageError($event, i)"\r
                    (load)="onImageLoad($event, i)"\r
                    loading="lazy" />\r
\r
                  <!-- Image Overlay -->\r
                  <div class="absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center">\r
                    <!-- Action Buttons -->\r
                    <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                      <!-- Move Up -->\r
                      <button\r
                        *ngIf="i > 0"\r
                        type="button"\r
                        (click)="moveImageUp(i)"\r
                        class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>\r
                        </svg>\r
                      </button>\r
\r
                      <!-- Move Down -->\r
                      <button\r
                        *ngIf="i < imagePreviewUrls.length - 1"\r
                        type="button"\r
                        (click)="moveImageDown(i)"\r
                        class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                        </svg>\r
                      </button>\r
                    </div>\r
                  </div>\r
\r
                  <!-- Remove Button -->\r
                  <button\r
                    type="button"\r
                    (click)="removeImage(i)"\r
                    class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                    </svg>\r
                  </button>\r
\r
                  <!-- Image Number Badge -->\r
                  <div class="absolute top-2 left-2 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium">\r
                    {{i + 1}}\r
                  </div>\r
                </div>\r
\r
                <!-- Image Info -->\r
                <div class="mt-2 text-center">\r
                  <p class="text-xs text-gray-600 truncate">{{images[i].name}}</p>\r
                  <p class="text-xs text-gray-500">{{ ((images[i].size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Gallery Instructions -->\r
            <div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <p class="text-blue-800 text-sm">\r
                  <strong>Gallery Tips:</strong> Hover over images to reorder them. The first image will be the primary asset image.\r
                </p>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Global Error Message -->\r
      <div *ngIf="submitError" class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
          </svg>\r
          <p class="text-red-800 font-medium">{{ submitError }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Success Message -->\r
      <div *ngIf="submitSuccess" class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">\r
        <div class="flex items-center space-x-2">\r
          <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
          </svg>\r
          <p class="text-green-800 font-medium">{{ submitSuccess }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Actions -->\r
      <div class="flex items-center justify-between pt-6 border-t border-gray-200">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          [disabled]="isSubmitting"\r
          class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
          Cancel\r
        </button>\r
\r
        <button\r
          type="submit"\r
          [disabled]="isSubmitting || !isFormValid()"\r
          class="px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm">\r
          <span *ngIf="!isSubmitting" class="flex items-center space-x-2">\r
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
            </svg>\r
            <span>Create Asset</span>\r
          </span>\r
          <span *ngIf="isSubmitting" class="flex items-center space-x-2">\r
            <svg xmlns="http://www.w3.org/2000/svg" class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">\r
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
            </svg>\r
            <span>Creating Asset...</span>\r
          </span>\r
        </button>\r
      </div>\r
    </form>\r
  </div>\r
</div>\r
`, styles: ["/* src/app/assets/asset-list/asset-create.component.scss */\n.asset-create-page {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input::placeholder {\n  color: #9ca3af;\n}\n.input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300 {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page {\n    padding: 1rem;\n  }\n  .section-card {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2,\n  .grid-cols-3 {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown .dropdown-button {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown .dropdown-button:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown .dropdown-button:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown .dropdown-menu {\n  animation: slideDown 0.2s ease-out;\n}\n.custom-dropdown .dropdown-item {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown .dropdown-item:hover {\n  background-color: #eff6ff;\n}\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180 {\n  transform: rotate(180deg);\n}\n.transition-transform {\n  transition: transform 0.2s ease-in-out;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n:host ::ng-deep .flatpickr-input {\n  cursor: pointer;\n}\n:host ::ng-deep .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-create.component.css.map */\n"] }]
  }], () => [{ type: AssetService }, { type: Router }, { type: ActivatedRoute }, { type: HttpClient }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }], fileInput: [{
    type: ViewChild,
    args: ["fileInput", { static: false }]
  }], onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetCreateComponent, { className: "AssetCreateComponent", filePath: "src/app/assets/asset-list/asset-create.component.ts", lineNumber: 18 });
})();

// src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.ts
var _c03 = ["dateInput"];
function TransferAssetModalComponent_div_0_span_31_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "No location assigned");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_32_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getLocationNameById(ctx_r1.transferData.new_location_id), " ");
  }
}
function TransferAssetModalComponent_div_0_div_35_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 48);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_35_button_4_Template_button_click_0_listener() {
      const location_r5 = \u0275\u0275restoreView(_r4).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.new_location_id = location_r5.id;
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const location_r5 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.new_location_id === location_r5.id);
    \u0275\u0275property("disabled", location_r5.id === (ctx_r1.asset == null ? null : ctx_r1.asset.location_id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", location_r5.name, " ");
  }
}
function TransferAssetModalComponent_div_0_div_35_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_35_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.new_location_id = null;
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = false);
    });
    \u0275\u0275text(3, " No location assigned ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_35_button_4_Template, 2, 4, "button", 47);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.new_location_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function TransferAssetModalComponent_div_0_span_41_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "Select new department (optional)");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_42_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getDepartmentNameById(ctx_r1.transferData.new_department_id), " ");
  }
}
function TransferAssetModalComponent_div_0_div_45_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_45_button_4_Template_button_click_0_listener() {
      const department_r8 = \u0275\u0275restoreView(_r7).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.new_department_id = department_r8.id;
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const department_r8 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.new_department_id === department_r8.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", department_r8.name, " ");
  }
}
function TransferAssetModalComponent_div_0_div_45_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_45_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.new_department_id = null;
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = false);
    });
    \u0275\u0275text(3, " Select new department (optional) ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_45_button_4_Template, 2, 3, "button", 49);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.new_department_id);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function TransferAssetModalComponent_div_0_span_51_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 42);
    \u0275\u0275text(1, "Select reason");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_52_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 43);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.transferData.transfer_reason, " ");
  }
}
function TransferAssetModalComponent_div_0_div_55_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_55_button_4_Template_button_click_0_listener() {
      const reason_r11 = \u0275\u0275restoreView(_r10).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.transferData.transfer_reason = reason_r11;
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = false);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const reason_r11 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.transferData.transfer_reason === reason_r11);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", reason_r11, " ");
  }
}
function TransferAssetModalComponent_div_0_div_55_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 44)(1, "div", 45)(2, "button", 46);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_div_55_Template_button_click_2_listener() {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.transferData.transfer_reason = "";
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = false);
    });
    \u0275\u0275text(3, " Select reason ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, TransferAssetModalComponent_div_0_div_55_button_4_Template, 2, 3, "button", 49);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("bg-blue-50", !ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.transferReasons);
  }
}
function TransferAssetModalComponent_div_0_div_69_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 50)(1, "div", 51)(2, "div", 52);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 53);
    \u0275\u0275element(4, "path", 54);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div", 55)(6, "p", 56);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function TransferAssetModalComponent_div_0_span_74_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1, "Create Transfer");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_span_75_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 57);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 58);
    \u0275\u0275element(2, "circle", 59)(3, "path", 60);
    \u0275\u0275elementEnd();
    \u0275\u0275text(4, " Creating Transfer... ");
    \u0275\u0275elementEnd();
  }
}
function TransferAssetModalComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 2);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_0_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onModalClick($event));
    });
    \u0275\u0275elementStart(1, "div", 3);
    \u0275\u0275element(2, "div", 4);
    \u0275\u0275elementStart(3, "div", 5);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_3_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(4, "div", 6)(5, "h3", 7);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 8);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 9);
    \u0275\u0275element(9, "path", 10);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 11)(11, "div")(12, "p", 12);
    \u0275\u0275text(13, "Current Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "p", 13);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "div")(17, "p", 12);
    \u0275\u0275text(18, "Current Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(19, "p", 13);
    \u0275\u0275text(20);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(21, "div", 14)(22, "div", 15);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 16);
    \u0275\u0275element(24, "path", 17);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "form", 18);
    \u0275\u0275listener("ngSubmit", function TransferAssetModalComponent_div_0_Template_form_ngSubmit_25_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onTransfer());
    });
    \u0275\u0275elementStart(26, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_26_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(27, "label", 20);
    \u0275\u0275text(28, "New Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_29_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showLocationDropdown = !ctx_r1.showLocationDropdown);
    });
    \u0275\u0275elementStart(30, "div", 22);
    \u0275\u0275template(31, TransferAssetModalComponent_div_0_span_31_Template, 2, 0, "span", 23)(32, TransferAssetModalComponent_div_0_span_32_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(33, "svg", 25);
    \u0275\u0275element(34, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(35, TransferAssetModalComponent_div_0_div_35_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(36, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_36_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(37, "label", 20);
    \u0275\u0275text(38, "New Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(39, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_39_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showDepartmentDropdown = !ctx_r1.showDepartmentDropdown);
    });
    \u0275\u0275elementStart(40, "div", 22);
    \u0275\u0275template(41, TransferAssetModalComponent_div_0_span_41_Template, 2, 0, "span", 23)(42, TransferAssetModalComponent_div_0_span_42_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(43, "svg", 25);
    \u0275\u0275element(44, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(45, TransferAssetModalComponent_div_0_div_45_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(46, "div", 19);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_div_click_46_listener($event) {
      \u0275\u0275restoreView(_r1);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(47, "label", 20);
    \u0275\u0275text(48, "Transfer Reason *");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(49, "button", 21);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_49_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showReasonDropdown = !ctx_r1.showReasonDropdown);
    });
    \u0275\u0275elementStart(50, "div", 22);
    \u0275\u0275template(51, TransferAssetModalComponent_div_0_span_51_Template, 2, 0, "span", 23)(52, TransferAssetModalComponent_div_0_span_52_Template, 2, 1, "span", 24);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(53, "svg", 25);
    \u0275\u0275element(54, "path", 26);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(55, TransferAssetModalComponent_div_0_div_55_Template, 5, 3, "div", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(56, "div")(57, "label", 28);
    \u0275\u0275text(58, " Transfer Date * ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(59, "div", 29)(60, "input", 30, 0);
    \u0275\u0275twoWayListener("ngModelChange", function TransferAssetModalComponent_div_0_Template_input_ngModelChange_60_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.transferData.transfer_date, $event) || (ctx_r1.transferData.transfer_date = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(62, "div", 31);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(63, "svg", 32);
    \u0275\u0275element(64, "path", 33);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(65, "div")(66, "label", 34);
    \u0275\u0275text(67, " Additional Notes ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(68, "textarea", 35);
    \u0275\u0275twoWayListener("ngModelChange", function TransferAssetModalComponent_div_0_Template_textarea_ngModelChange_68_listener($event) {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      \u0275\u0275twoWayBindingSet(ctx_r1.transferData.notes, $event) || (ctx_r1.transferData.notes = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275template(69, TransferAssetModalComponent_div_0_div_69_Template, 8, 1, "div", 36);
    \u0275\u0275elementStart(70, "div", 37)(71, "button", 38);
    \u0275\u0275listener("click", function TransferAssetModalComponent_div_0_Template_button_click_71_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onCancel());
    });
    \u0275\u0275text(72, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(73, "button", 39);
    \u0275\u0275template(74, TransferAssetModalComponent_div_0_span_74_Template, 2, 0, "span", 40)(75, TransferAssetModalComponent_div_0_span_75_Template, 5, 0, "span", 41);
    \u0275\u0275elementEnd()()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("@backdropAnimation", void 0);
    \u0275\u0275advance(3);
    \u0275\u0275property("@modalAnimation", void 0);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" Transfer Asset: ", (ctx_r1.asset == null ? null : ctx_r1.asset.name) || "Unknown Asset", " ");
    \u0275\u0275advance();
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.getCurrentLocationName());
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.getCurrentDepartmentName());
    \u0275\u0275advance(9);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.new_location_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.new_location_id);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.new_department_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.new_department_id);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.transferData.transfer_reason);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showReasonDropdown);
    \u0275\u0275advance(5);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.transferData.transfer_date);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(8);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.transferData.notes);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.error);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.loading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.loading);
  }
}
var TransferAssetModalComponent = class _TransferAssetModalComponent {
  assetService;
  isOpen = false;
  asset = null;
  closeModal = new EventEmitter();
  transferComplete = new EventEmitter();
  dateInput;
  flatpickrInstance;
  // Dropdown toggles
  showLocationDropdown = false;
  showDepartmentDropdown = false;
  showReasonDropdown = false;
  loading = false;
  error = "";
  // Form data
  transferData = {
    new_location_id: null,
    new_department_id: null,
    to_user_id: null,
    transfer_reason: "",
    transfer_date: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
    notes: "",
    condition_report: ""
  };
  // Dropdown options
  locations = [];
  departments = [];
  users = [];
  transferReasons = [
    "Relocation",
    "Maintenance",
    "Replacement",
    "Department Transfer",
    "User Assignment",
    "Storage",
    "Disposal",
    "Other"
  ];
  constructor(assetService) {
    this.assetService = assetService;
  }
  ngOnInit() {
    console.log("TransferAssetModalComponent initialized");
    this.loadDropdownData();
  }
  ngOnChanges() {
    console.log("TransferAssetModalComponent changes:", {
      isOpen: this.isOpen,
      asset: this.asset
    });
    if (this.isOpen) {
      setTimeout(() => {
        this.initializeFlatpickr();
      }, 200);
    }
  }
  ngAfterViewInit() {
  }
  ngOnDestroy() {
    this.destroyFlatpickr();
  }
  destroyFlatpickr() {
    if (this.flatpickrInstance) {
      try {
        this.flatpickrInstance.destroy();
        this.flatpickrInstance = null;
      } catch (error) {
        console.error("Error destroying flatpickr:", error);
      }
    }
  }
  initializeFlatpickr() {
    try {
      this.destroyFlatpickr();
      if (this.dateInput && this.dateInput.nativeElement) {
        console.log("Initializing flatpickr on element:", this.dateInput.nativeElement);
        this.flatpickrInstance = esm_default(this.dateInput.nativeElement, {
          dateFormat: "Y-m-d",
          defaultDate: /* @__PURE__ */ new Date(),
          allowInput: false,
          clickOpens: true,
          minDate: /* @__PURE__ */ new Date(),
          locale: {
            firstDayOfWeek: 1
          },
          onChange: (selectedDates, dateStr) => {
            console.log("Date selected:", dateStr);
            this.transferData.transfer_date = dateStr;
          },
          onOpen: () => {
            console.log("Flatpickr opened");
          },
          onClose: () => {
            console.log("Flatpickr closed");
          }
        });
        console.log("Flatpickr initialized successfully");
      } else {
        console.warn("Date input element not found");
      }
    } catch (error) {
      console.error("Error initializing flatpickr:", error);
    }
  }
  loadDropdownData() {
    console.log("Loading dropdown data...");
    console.log("Calling locations API with pagination...");
    this.assetService.getLocations(1, 1e3, "created", "desc").subscribe({
      next: (response) => {
        console.log("Locations API response:", response);
        console.log("Response type:", typeof response);
        console.log("Response keys:", Object.keys(response));
        if (response && response.data && response.data.locations) {
          this.locations = response.data.locations;
          console.log("Using response.data.locations (paginated):", this.locations);
          console.log("Response pagination:", response.data.pagination);
        } else if (response && response.data && Array.isArray(response.data)) {
          this.locations = response.data;
          console.log("Using response.data as array:", this.locations);
        } else if (Array.isArray(response)) {
          this.locations = response;
          console.log("Using response as array:", this.locations);
        } else {
          this.locations = [];
          console.warn("Unexpected response format:", response);
          console.log("Response structure:", response);
        }
        console.log("Final locations array:", this.locations);
        console.log("Locations count:", this.locations.length);
        if (this.locations.length === 0) {
          console.warn("No locations found in response");
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
        console.error("Error details:", {
          status: error.status,
          statusText: error.statusText,
          message: error.message,
          url: error.url
        });
        this.locations = [];
      }
    });
    console.log("Calling departments API with pagination...");
    this.assetService.getDepartments(1, 1e3, "created", "desc").subscribe({
      next: (response) => {
        console.log("Departments API response:", response);
        if (response && response.data && response.data.departments) {
          this.departments = response.data.departments;
          console.log("Using response.data.departments (paginated):", this.departments);
          console.log("Response pagination:", response.data.pagination);
        } else if (response && response.data && Array.isArray(response.data)) {
          this.departments = response.data;
          console.log("Using response.data as array:", this.departments);
        } else if (Array.isArray(response)) {
          this.departments = response;
        } else {
          this.departments = [];
          console.warn("Unexpected departments response format:", response);
          console.log("Response structure:", response);
        }
        console.log("Final departments array:", this.departments);
        console.log("Departments count:", this.departments.length);
        if (this.departments.length === 0) {
          console.warn("No departments found");
        }
      },
      error: (error) => {
        console.error("Error loading departments:", error);
        console.error("Error details:", {
          status: error.status,
          statusText: error.statusText,
          message: error.message,
          url: error.url
        });
        this.departments = [];
      }
    });
  }
  // Manual method to reload location data
  reloadLocationData() {
    console.log("Manually reloading location data...");
    this.loadDropdownData();
  }
  onTransfer() {
    if (!this.validateForm()) {
      return;
    }
    this.loading = true;
    this.error = "";
    this.assetService.transferAsset(this.asset.id, this.transferData).subscribe({
      next: (response) => {
        this.loading = false;
        this.transferComplete.emit(response);
        this.resetForm();
        this.closeModal.emit();
      },
      error: (error) => {
        this.loading = false;
        this.error = error.error?.message || "Transfer failed. Please try again.";
        console.error("Transfer error:", error);
      }
    });
  }
  onCancel() {
    if (this.loading)
      return;
    this.destroyFlatpickr();
    this.resetForm();
    this.closeModal.emit();
  }
  validateForm() {
    if (!this.transferData.new_location_id) {
      this.error = "Please select a new location.";
      return false;
    }
    if (!this.transferData.transfer_reason) {
      this.error = "Please select a transfer reason.";
      return false;
    }
    if (!this.transferData.transfer_date) {
      this.error = "Please select a transfer date.";
      return false;
    }
    if (this.asset?.location_id === this.transferData.new_location_id) {
      this.error = "Transfer location must be different from current location.";
      return false;
    }
    this.error = "";
    return true;
  }
  resetForm() {
    this.transferData = {
      new_location_id: null,
      new_department_id: null,
      to_user_id: null,
      transfer_reason: "",
      transfer_date: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
      notes: "",
      condition_report: ""
    };
    this.error = "";
  }
  getCurrentLocationName() {
    return this.asset?.location?.name || "No location assigned";
  }
  getCurrentDepartmentName() {
    return this.asset?.department?.name || "No department assigned";
  }
  getLocationNameById(id) {
    if (!id)
      return "";
    const loc = this.locations.find((l) => l.id === id);
    return loc ? loc.name : "";
  }
  getDepartmentNameById(id) {
    if (!id)
      return "";
    const dept = this.departments.find((d) => d.id === id);
    return dept ? dept.name : "";
  }
  // Debug methods to check dropdown data
  getLocationsCount() {
    return this.locations.length;
  }
  getDepartmentsCount() {
    return this.departments.length;
  }
  getUsersCount() {
    return this.users.length;
  }
  // Close all dropdowns when clicking outside
  onModalClick(event) {
    if (event.target === event.currentTarget) {
      this.showLocationDropdown = false;
      this.showDepartmentDropdown = false;
      this.showReasonDropdown = false;
    }
  }
  static \u0275fac = function TransferAssetModalComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _TransferAssetModalComponent)(\u0275\u0275directiveInject(AssetService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _TransferAssetModalComponent, selectors: [["app-transfer-asset-modal"]], viewQuery: function TransferAssetModalComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c03, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInput = _t.first);
    }
  }, inputs: { isOpen: "isOpen", asset: "asset" }, outputs: { closeModal: "closeModal", transferComplete: "transferComplete" }, features: [\u0275\u0275NgOnChangesFeature], decls: 1, vars: 1, consts: [["dateInput", ""], ["class", "fixed inset-0 z-50 overflow-y-auto", 3, "click", 4, "ngIf"], [1, "fixed", "inset-0", "z-50", "overflow-y-auto", 3, "click"], [1, "flex", "items-center", "justify-center", "min-h-screen", "px-4", "pt-4", "pb-20", "text-center", "sm:block", "sm:p-0"], [1, "fixed", "inset-0", "transition-opacity", "z-0", "bg-[#00000085]"], [1, "inline-block", "w-full", "max-w-2xl", "z-1", "p-6", "my-8", "relative", "overflow-hidden", "text-left", "align-middle", "transition-all", "transform", "bg-white", "shadow-xl", "rounded-2xl", 3, "click"], [1, "flex", "items-center", "justify-between", "mb-6"], [1, "text-lg", "font-semibold", "text-gray-900"], [1, "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click", "disabled"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "flex", "justify-between", "items-center", "mb-6"], [1, "text-sm", "text-gray-500"], [1, "text-sm", "font-medium", "text-gray-900"], [1, "flex", "justify-center", "mb-6"], [1, "w-8", "h-8", "bg-blue-100", "rounded-full", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 14l-7 7m0 0l-7-7m7 7V3"], [1, "space-y-4", 3, "ngSubmit"], [1, "relative", 3, "click"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["for", "transfer_date", 1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "relative"], ["type", "text", "id", "transfer_date", "name", "transfer_date", "placeholder", "Select date", "required", "", "readonly", "", 1, "w-full", "px-4", "py-3", "border", "border-gray-300", "rounded-lg", "shadow-sm", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", "bg-white", "cursor-pointer", 3, "ngModelChange", "ngModel", "disabled"], [1, "absolute", "inset-y-0", "right-0", "flex", "items-center", "pr-4", "pointer-events-none"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"], ["for", "notes", 1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["id", "notes", "name", "notes", "rows", "3", "placeholder", "Enter any additional notes about this transfer...", 1, "w-full", "px-4", "py-3", "border", "border-gray-300", "rounded-lg", "shadow-sm", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-blue-500", "bg-white", "resize-none", 3, "ngModelChange", "ngModel", "disabled"], ["class", "bg-red-50 border border-red-200 rounded-md p-4", 4, "ngIf"], [1, "flex", "justify-end", "space-x-3", "pt-6"], ["type", "button", 1, "px-4", "py-2", "text-sm", "font-medium", "text-gray-700", "bg-white", "border", "border-gray-300", "rounded-md", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-offset-2", "focus:ring-blue-500", 3, "click", "disabled"], ["type", "submit", 1, "px-4", "py-2", "text-sm", "font-medium", "text-white", "bg-blue-600", "border", "border-transparent", "rounded-md", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-offset-2", "focus:ring-blue-500", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "disabled"], [4, "ngIf"], ["class", "flex items-center", 4, "ngIf"], [1, "text-gray-400"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "disabled", "click", 4, "ngFor", "ngForOf"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click", "disabled"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "bg-red-50", "border", "border-red-200", "rounded-md", "p-4"], [1, "flex"], [1, "flex-shrink-0"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "ml-3"], [1, "text-sm", "text-red-700"], [1, "flex", "items-center"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "-ml-1", "mr-2", "h-4", "w-4", "text-white"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function TransferAssetModalComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275template(0, TransferAssetModalComponent_div_0_Template, 76, 36, "div", 1);
    }
    if (rf & 2) {
      \u0275\u0275property("ngIf", ctx.isOpen);
    }
  }, dependencies: [CommonModule, NgForOf, NgIf, FormsModule, \u0275NgNoValidate, DefaultValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, NgModel, NgForm], styles: ["\n\n.transfer-asset-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%] {\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%] {\n  max-height: 90vh;\n  overflow-y: auto;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, \n.transfer-asset-modal[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:disabled {\n  background-color: #f9fafb;\n  cursor: not-allowed;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\n  background-image: none !important;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand {\n  display: none;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%] {\n  padding: 8px 12px;\n  background-color: white;\n  color: #374151;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled {\n  color: #9ca3af;\n  background-color: #f9fafb;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%] {\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  border: 1px solid #e5e7eb;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%] {\n  border-radius: 4px;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day.selected[_ngcontent-%COMP%] {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .flatpickr-calendar[_ngcontent-%COMP%]   .flatpickr-day[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .transfer-arrow[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_bounce 2s infinite;\n}\n@keyframes _ngcontent-%COMP%_bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.transfer-asset-modal[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideIn 0.3s ease-out;\n}\n@keyframes _ngcontent-%COMP%_slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@media (max-width: 640px) {\n  .transfer-asset-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%] {\n    margin: 1rem;\n    max-width: calc(100vw - 2rem);\n  }\n}\n/*# sourceMappingURL=transfer-asset-modal.component.css.map */"], data: { animation: [
    trigger("backdropAnimation", [
      transition(":enter", [
        style({ opacity: 0 }),
        animate("150ms ease-out", style({ opacity: 1 }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({ opacity: 0 }))
      ])
    ]),
    trigger("modalAnimation", [
      transition(":enter", [
        style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }),
        animate("200ms ease-out", style({
          opacity: 1,
          transform: "scale(1) translateY(0)"
        }))
      ]),
      transition(":leave", [
        animate("150ms ease-in", style({
          opacity: 0,
          transform: "scale(0.7) translateY(-50px)"
        }))
      ])
    ])
  ] } });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(TransferAssetModalComponent, [{
    type: Component,
    args: [{ selector: "app-transfer-asset-modal", standalone: true, imports: [CommonModule, FormsModule], animations: [
      trigger("backdropAnimation", [
        transition(":enter", [
          style({ opacity: 0 }),
          animate("150ms ease-out", style({ opacity: 1 }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({ opacity: 0 }))
        ])
      ]),
      trigger("modalAnimation", [
        transition(":enter", [
          style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }),
          animate("200ms ease-out", style({
            opacity: 1,
            transform: "scale(1) translateY(0)"
          }))
        ]),
        transition(":leave", [
          animate("150ms ease-in", style({
            opacity: 0,
            transform: "scale(0.7) translateY(-50px)"
          }))
        ])
      ])
    ], template: `<div\r
  *ngIf="isOpen"\r
  class="fixed inset-0 z-50 overflow-y-auto"\r
  (click)="onModalClick($event)"\r
  [@backdropAnimation]\r
>\r
  <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">\r
    <div class="fixed inset-0 transition-opacity z-0  bg-[#00000085]"></div>\r
\r
    <!-- Modal panel -->\r
    <div\r
      class="inline-block w-full max-w-2xl z-1 p-6 my-8 relative overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"\r
      (click)="$event.stopPropagation()"\r
      [@modalAnimation]\r
    >\r
      <!-- Header -->\r
      <div class="flex items-center justify-between mb-6">\r
        <h3 class="text-lg font-semibold text-gray-900">\r
          Transfer Asset: {{ asset?.name || 'Unknown Asset' }}\r
        </h3>\r
        <button\r
          (click)="onCancel()"\r
          class="text-gray-400 hover:text-gray-600 transition-colors"\r
          [disabled]="loading"\r
        >\r
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <!-- Current Asset Information -->\r
      <div class="flex justify-between items-center mb-6">\r
        <div>\r
          <p class="text-sm text-gray-500">Current Location</p>\r
          <p class="text-sm font-medium text-gray-900">{{ getCurrentLocationName() }}</p>\r
        </div>\r
        <div>\r
          <p class="text-sm text-gray-500">Current Department</p>\r
          <p class="text-sm font-medium text-gray-900">{{ getCurrentDepartmentName() }}</p>\r
        </div>\r
      </div>\r
\r
      <!-- Transfer Arrow -->\r
      <div class="flex justify-center mb-6">\r
        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">\r
          <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>\r
          </svg>\r
        </div>\r
      </div>\r
\r
      <!-- Transfer Form -->\r
      <form (ngSubmit)="onTransfer()" class="space-y-4">\r
        <!-- New Location Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">New Location</label>\r
          <button\r
            type="button"\r
            (click)="showLocationDropdown = !showLocationDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showLocationDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.new_location_id" class="text-gray-400">No location assigned</span>\r
              <span *ngIf="transferData.new_location_id" class="text-gray-900">\r
                {{ getLocationNameById(transferData.new_location_id) }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.new_location_id = null; showLocationDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.new_location_id">\r
                No location assigned\r
              </button>\r
              <button\r
                *ngFor="let location of locations"\r
                type="button"\r
                (click)="transferData.new_location_id = location.id; showLocationDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.new_location_id === location.id"\r
                [disabled]="location.id === asset?.location_id">\r
                {{ location.name }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- New Department Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">New Department</label>\r
          <button\r
            type="button"\r
            (click)="showDepartmentDropdown = !showDepartmentDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showDepartmentDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.new_department_id" class="text-gray-400">Select new department (optional)</span>\r
              <span *ngIf="transferData.new_department_id" class="text-gray-900">\r
                {{ getDepartmentNameById(transferData.new_department_id) }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.new_department_id = null; showDepartmentDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.new_department_id">\r
                Select new department (optional)\r
              </button>\r
              <button\r
                *ngFor="let department of departments"\r
                type="button"\r
                (click)="transferData.new_department_id = department.id; showDepartmentDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.new_department_id === department.id">\r
                {{ department.name }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Transfer Reason Dropdown -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <label class="block text-sm font-medium text-gray-700 mb-2">Transfer Reason *</label>\r
          <button\r
            type="button"\r
            (click)="showReasonDropdown = !showReasonDropdown"\r
            class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
            [class.border-blue-500]="showReasonDropdown">\r
            <div class="flex items-center justify-between">\r
              <span *ngIf="!transferData.transfer_reason" class="text-gray-400">Select reason</span>\r
              <span *ngIf="transferData.transfer_reason" class="text-gray-900">\r
                {{ transferData.transfer_reason }}\r
              </span>\r
              <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showReasonDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
              </svg>\r
            </div>\r
          </button>\r
          <div *ngIf="showReasonDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
            <div class="py-1">\r
              <button\r
                type="button"\r
                (click)="transferData.transfer_reason = ''; showReasonDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="!transferData.transfer_reason">\r
                Select reason\r
              </button>\r
              <button\r
                *ngFor="let reason of transferReasons"\r
                type="button"\r
                (click)="transferData.transfer_reason = reason; showReasonDropdown = false"\r
                class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                [class.bg-blue-50]="transferData.transfer_reason === reason">\r
                {{ reason }}\r
              </button>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Transfer Date -->\r
        <div>\r
          <label for="transfer_date" class="block text-sm font-medium text-gray-700 mb-2">\r
            Transfer Date *\r
          </label>\r
          <div class="relative">\r
            <input\r
              #dateInput\r
              type="text"\r
              id="transfer_date"\r
              [(ngModel)]="transferData.transfer_date"\r
              name="transfer_date"\r
              class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white cursor-pointer"\r
              placeholder="Select date"\r
              [disabled]="loading"\r
              required\r
              readonly\r
            />\r
            <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none">\r
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Additional Notes -->\r
        <div>\r
          <label for="notes" class="block text-sm font-medium text-gray-700 mb-2">\r
            Additional Notes\r
          </label>\r
          <textarea\r
            id="notes"\r
            [(ngModel)]="transferData.notes"\r
            name="notes"\r
            rows="3"\r
            class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white resize-none"\r
            placeholder="Enter any additional notes about this transfer..."\r
            [disabled]="loading"\r
          ></textarea>\r
        </div>\r
\r
        <!-- Error Message -->\r
        <div *ngIf="error" class="bg-red-50 border border-red-200 rounded-md p-4">\r
          <div class="flex">\r
            <div class="flex-shrink-0">\r
              <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
            </div>\r
            <div class="ml-3">\r
              <p class="text-sm text-red-700">{{ error }}</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Action Buttons -->\r
        <div class="flex justify-end space-x-3 pt-6">\r
          <button\r
            type="button"\r
            (click)="onCancel()"\r
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"\r
            [disabled]="loading"\r
          >\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"\r
            [disabled]="loading"\r
          >\r
            <span *ngIf="!loading">Create Transfer</span>\r
            <span *ngIf="loading" class="flex items-center">\r
              <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
              Creating Transfer...\r
            </span>\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
</div>\r
`, styles: ["/* src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.scss */\n.transfer-asset-modal .modal-backdrop {\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n}\n.transfer-asset-modal .modal-content {\n  max-height: 90vh;\n  overflow-y: auto;\n}\n.transfer-asset-modal .form-select,\n.transfer-asset-modal .form-input,\n.transfer-asset-modal .form-textarea {\n  transition: all 0.2s ease-in-out;\n}\n.transfer-asset-modal .form-select:focus,\n.transfer-asset-modal .form-input:focus,\n.transfer-asset-modal .form-textarea:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.transfer-asset-modal .form-select:disabled,\n.transfer-asset-modal .form-input:disabled,\n.transfer-asset-modal .form-textarea:disabled {\n  background-color: #f9fafb;\n  cursor: not-allowed;\n}\n.transfer-asset-modal select {\n  background-image: none !important;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.transfer-asset-modal select::-ms-expand {\n  display: none;\n}\n.transfer-asset-modal select option {\n  padding: 8px 12px;\n  background-color: white;\n  color: #374151;\n}\n.transfer-asset-modal select option:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal select option:disabled {\n  color: #9ca3af;\n  background-color: #f9fafb;\n}\n.transfer-asset-modal .flatpickr-calendar {\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  border: 1px solid #e5e7eb;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day {\n  border-radius: 4px;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n.transfer-asset-modal .flatpickr-calendar .flatpickr-day:hover {\n  background-color: #f3f4f6;\n}\n.transfer-asset-modal .transfer-arrow {\n  animation: bounce 2s infinite;\n}\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n.transfer-asset-modal .loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.transfer-asset-modal .error-message {\n  animation: slideIn 0.3s ease-out;\n}\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@media (max-width: 640px) {\n  .transfer-asset-modal .modal-content {\n    margin: 1rem;\n    max-width: calc(100vw - 2rem);\n  }\n}\n/*# sourceMappingURL=transfer-asset-modal.component.css.map */\n"] }]
  }], () => [{ type: AssetService }], { isOpen: [{
    type: Input
  }], asset: [{
    type: Input
  }], closeModal: [{
    type: Output
  }], transferComplete: [{
    type: Output
  }], dateInput: [{
    type: ViewChild,
    args: ["dateInput", { static: false }]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(TransferAssetModalComponent, { className: "TransferAssetModalComponent", filePath: "src/app/assets/components/transfer-asset-modal/transfer-asset-modal.component.ts", lineNumber: 54 });
})();

// src/app/assets/components/asset-view/asset-view.component.ts
var QRCode2 = __toESM(require_browser());

// node_modules/@kurkle/color/dist/color.esm.js
function round(v) {
  return v + 0.5 | 0;
}
var lim = (v, l, h) => Math.max(Math.min(v, h), l);
function p2b(v) {
  return lim(round(v * 2.55), 0, 255);
}
function n2b(v) {
  return lim(round(v * 255), 0, 255);
}
function b2n(v) {
  return lim(round(v / 2.55) / 100, 0, 1);
}
function n2p(v) {
  return lim(round(v * 100), 0, 100);
}
var map$1 = {
  0: 0,
  1: 1,
  2: 2,
  3: 3,
  4: 4,
  5: 5,
  6: 6,
  7: 7,
  8: 8,
  9: 9,
  A: 10,
  B: 11,
  C: 12,
  D: 13,
  E: 14,
  F: 15,
  a: 10,
  b: 11,
  c: 12,
  d: 13,
  e: 14,
  f: 15
};
var hex = [..."0123456789ABCDEF"];
var h1 = (b) => hex[b & 15];
var h2 = (b) => hex[(b & 240) >> 4] + hex[b & 15];
var eq = (b) => (b & 240) >> 4 === (b & 15);
var isShort = (v) => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);
function hexParse(str) {
  var len = str.length;
  var ret;
  if (str[0] === "#") {
    if (len === 4 || len === 5) {
      ret = {
        r: 255 & map$1[str[1]] * 17,
        g: 255 & map$1[str[2]] * 17,
        b: 255 & map$1[str[3]] * 17,
        a: len === 5 ? map$1[str[4]] * 17 : 255
      };
    } else if (len === 7 || len === 9) {
      ret = {
        r: map$1[str[1]] << 4 | map$1[str[2]],
        g: map$1[str[3]] << 4 | map$1[str[4]],
        b: map$1[str[5]] << 4 | map$1[str[6]],
        a: len === 9 ? map$1[str[7]] << 4 | map$1[str[8]] : 255
      };
    }
  }
  return ret;
}
var alpha = (a, f) => a < 255 ? f(a) : "";
function hexString(v) {
  var f = isShort(v) ? h1 : h2;
  return v ? "#" + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f) : void 0;
}
var HUE_RE = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;
function hsl2rgbn(h, s, l) {
  const a = s * Math.min(l, 1 - l);
  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  return [f(0), f(8), f(4)];
}
function hsv2rgbn(h, s, v) {
  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);
  return [f(5), f(3), f(1)];
}
function hwb2rgbn(h, w, b) {
  const rgb = hsl2rgbn(h, 1, 0.5);
  let i;
  if (w + b > 1) {
    i = 1 / (w + b);
    w *= i;
    b *= i;
  }
  for (i = 0; i < 3; i++) {
    rgb[i] *= 1 - w - b;
    rgb[i] += w;
  }
  return rgb;
}
function hueValue(r, g, b, d, max) {
  if (r === max) {
    return (g - b) / d + (g < b ? 6 : 0);
  }
  if (g === max) {
    return (b - r) / d + 2;
  }
  return (r - g) / d + 4;
}
function rgb2hsl(v) {
  const range = 255;
  const r = v.r / range;
  const g = v.g / range;
  const b = v.b / range;
  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  const l = (max + min) / 2;
  let h, s, d;
  if (max !== min) {
    d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    h = hueValue(r, g, b, d, max);
    h = h * 60 + 0.5;
  }
  return [h | 0, s || 0, l];
}
function calln(f, a, b, c) {
  return (Array.isArray(a) ? f(a[0], a[1], a[2]) : f(a, b, c)).map(n2b);
}
function hsl2rgb(h, s, l) {
  return calln(hsl2rgbn, h, s, l);
}
function hwb2rgb(h, w, b) {
  return calln(hwb2rgbn, h, w, b);
}
function hsv2rgb(h, s, v) {
  return calln(hsv2rgbn, h, s, v);
}
function hue(h) {
  return (h % 360 + 360) % 360;
}
function hueParse(str) {
  const m = HUE_RE.exec(str);
  let a = 255;
  let v;
  if (!m) {
    return;
  }
  if (m[5] !== v) {
    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);
  }
  const h = hue(+m[2]);
  const p1 = +m[3] / 100;
  const p2 = +m[4] / 100;
  if (m[1] === "hwb") {
    v = hwb2rgb(h, p1, p2);
  } else if (m[1] === "hsv") {
    v = hsv2rgb(h, p1, p2);
  } else {
    v = hsl2rgb(h, p1, p2);
  }
  return {
    r: v[0],
    g: v[1],
    b: v[2],
    a
  };
}
function rotate(v, deg) {
  var h = rgb2hsl(v);
  h[0] = hue(h[0] + deg);
  h = hsl2rgb(h);
  v.r = h[0];
  v.g = h[1];
  v.b = h[2];
}
function hslString(v) {
  if (!v) {
    return;
  }
  const a = rgb2hsl(v);
  const h = a[0];
  const s = n2p(a[1]);
  const l = n2p(a[2]);
  return v.a < 255 ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})` : `hsl(${h}, ${s}%, ${l}%)`;
}
var map = {
  x: "dark",
  Z: "light",
  Y: "re",
  X: "blu",
  W: "gr",
  V: "medium",
  U: "slate",
  A: "ee",
  T: "ol",
  S: "or",
  B: "ra",
  C: "lateg",
  D: "ights",
  R: "in",
  Q: "turquois",
  E: "hi",
  P: "ro",
  O: "al",
  N: "le",
  M: "de",
  L: "yello",
  F: "en",
  K: "ch",
  G: "arks",
  H: "ea",
  I: "ightg",
  J: "wh"
};
var names$1 = {
  OiceXe: "f0f8ff",
  antiquewEte: "faebd7",
  aqua: "ffff",
  aquamarRe: "7fffd4",
  azuY: "f0ffff",
  beige: "f5f5dc",
  bisque: "ffe4c4",
  black: "0",
  blanKedOmond: "ffebcd",
  Xe: "ff",
  XeviTet: "8a2be2",
  bPwn: "a52a2a",
  burlywood: "deb887",
  caMtXe: "5f9ea0",
  KartYuse: "7fff00",
  KocTate: "d2691e",
  cSO: "ff7f50",
  cSnflowerXe: "6495ed",
  cSnsilk: "fff8dc",
  crimson: "dc143c",
  cyan: "ffff",
  xXe: "8b",
  xcyan: "8b8b",
  xgTMnPd: "b8860b",
  xWay: "a9a9a9",
  xgYF: "6400",
  xgYy: "a9a9a9",
  xkhaki: "bdb76b",
  xmagFta: "8b008b",
  xTivegYF: "556b2f",
  xSange: "ff8c00",
  xScEd: "9932cc",
  xYd: "8b0000",
  xsOmon: "e9967a",
  xsHgYF: "8fbc8f",
  xUXe: "483d8b",
  xUWay: "2f4f4f",
  xUgYy: "2f4f4f",
  xQe: "ced1",
  xviTet: "9400d3",
  dAppRk: "ff1493",
  dApskyXe: "bfff",
  dimWay: "696969",
  dimgYy: "696969",
  dodgerXe: "1e90ff",
  fiYbrick: "b22222",
  flSOwEte: "fffaf0",
  foYstWAn: "228b22",
  fuKsia: "ff00ff",
  gaRsbSo: "dcdcdc",
  ghostwEte: "f8f8ff",
  gTd: "ffd700",
  gTMnPd: "daa520",
  Way: "808080",
  gYF: "8000",
  gYFLw: "adff2f",
  gYy: "808080",
  honeyMw: "f0fff0",
  hotpRk: "ff69b4",
  RdianYd: "cd5c5c",
  Rdigo: "4b0082",
  ivSy: "fffff0",
  khaki: "f0e68c",
  lavFMr: "e6e6fa",
  lavFMrXsh: "fff0f5",
  lawngYF: "7cfc00",
  NmoncEffon: "fffacd",
  ZXe: "add8e6",
  ZcSO: "f08080",
  Zcyan: "e0ffff",
  ZgTMnPdLw: "fafad2",
  ZWay: "d3d3d3",
  ZgYF: "90ee90",
  ZgYy: "d3d3d3",
  ZpRk: "ffb6c1",
  ZsOmon: "ffa07a",
  ZsHgYF: "20b2aa",
  ZskyXe: "87cefa",
  ZUWay: "778899",
  ZUgYy: "778899",
  ZstAlXe: "b0c4de",
  ZLw: "ffffe0",
  lime: "ff00",
  limegYF: "32cd32",
  lRF: "faf0e6",
  magFta: "ff00ff",
  maPon: "800000",
  VaquamarRe: "66cdaa",
  VXe: "cd",
  VScEd: "ba55d3",
  VpurpN: "9370db",
  VsHgYF: "3cb371",
  VUXe: "7b68ee",
  VsprRggYF: "fa9a",
  VQe: "48d1cc",
  VviTetYd: "c71585",
  midnightXe: "191970",
  mRtcYam: "f5fffa",
  mistyPse: "ffe4e1",
  moccasR: "ffe4b5",
  navajowEte: "ffdead",
  navy: "80",
  Tdlace: "fdf5e6",
  Tive: "808000",
  TivedBb: "6b8e23",
  Sange: "ffa500",
  SangeYd: "ff4500",
  ScEd: "da70d6",
  pOegTMnPd: "eee8aa",
  pOegYF: "98fb98",
  pOeQe: "afeeee",
  pOeviTetYd: "db7093",
  papayawEp: "ffefd5",
  pHKpuff: "ffdab9",
  peru: "cd853f",
  pRk: "ffc0cb",
  plum: "dda0dd",
  powMrXe: "b0e0e6",
  purpN: "800080",
  YbeccapurpN: "663399",
  Yd: "ff0000",
  Psybrown: "bc8f8f",
  PyOXe: "4169e1",
  saddNbPwn: "8b4513",
  sOmon: "fa8072",
  sandybPwn: "f4a460",
  sHgYF: "2e8b57",
  sHshell: "fff5ee",
  siFna: "a0522d",
  silver: "c0c0c0",
  skyXe: "87ceeb",
  UXe: "6a5acd",
  UWay: "708090",
  UgYy: "708090",
  snow: "fffafa",
  sprRggYF: "ff7f",
  stAlXe: "4682b4",
  tan: "d2b48c",
  teO: "8080",
  tEstN: "d8bfd8",
  tomato: "ff6347",
  Qe: "40e0d0",
  viTet: "ee82ee",
  JHt: "f5deb3",
  wEte: "ffffff",
  wEtesmoke: "f5f5f5",
  Lw: "ffff00",
  LwgYF: "9acd32"
};
function unpack() {
  const unpacked = {};
  const keys = Object.keys(names$1);
  const tkeys = Object.keys(map);
  let i, j, k, ok, nk;
  for (i = 0; i < keys.length; i++) {
    ok = nk = keys[i];
    for (j = 0; j < tkeys.length; j++) {
      k = tkeys[j];
      nk = nk.replace(k, map[k]);
    }
    k = parseInt(names$1[ok], 16);
    unpacked[nk] = [k >> 16 & 255, k >> 8 & 255, k & 255];
  }
  return unpacked;
}
var names;
function nameParse(str) {
  if (!names) {
    names = unpack();
    names.transparent = [0, 0, 0, 0];
  }
  const a = names[str.toLowerCase()];
  return a && {
    r: a[0],
    g: a[1],
    b: a[2],
    a: a.length === 4 ? a[3] : 255
  };
}
var RGB_RE = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;
function rgbParse(str) {
  const m = RGB_RE.exec(str);
  let a = 255;
  let r, g, b;
  if (!m) {
    return;
  }
  if (m[7] !== r) {
    const v = +m[7];
    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);
  }
  r = +m[1];
  g = +m[3];
  b = +m[5];
  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));
  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));
  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));
  return {
    r,
    g,
    b,
    a
  };
}
function rgbString(v) {
  return v && (v.a < 255 ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})` : `rgb(${v.r}, ${v.g}, ${v.b})`);
}
var to = (v) => v <= 31308e-7 ? v * 12.92 : Math.pow(v, 1 / 2.4) * 1.055 - 0.055;
var from = (v) => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
function interpolate(rgb1, rgb2, t) {
  const r = from(b2n(rgb1.r));
  const g = from(b2n(rgb1.g));
  const b = from(b2n(rgb1.b));
  return {
    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),
    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),
    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),
    a: rgb1.a + t * (rgb2.a - rgb1.a)
  };
}
function modHSL(v, i, ratio) {
  if (v) {
    let tmp = rgb2hsl(v);
    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));
    tmp = hsl2rgb(tmp);
    v.r = tmp[0];
    v.g = tmp[1];
    v.b = tmp[2];
  }
}
function clone(v, proto) {
  return v ? Object.assign(proto || {}, v) : v;
}
function fromObject(input) {
  var v = {
    r: 0,
    g: 0,
    b: 0,
    a: 255
  };
  if (Array.isArray(input)) {
    if (input.length >= 3) {
      v = {
        r: input[0],
        g: input[1],
        b: input[2],
        a: 255
      };
      if (input.length > 3) {
        v.a = n2b(input[3]);
      }
    }
  } else {
    v = clone(input, {
      r: 0,
      g: 0,
      b: 0,
      a: 1
    });
    v.a = n2b(v.a);
  }
  return v;
}
function functionParse(str) {
  if (str.charAt(0) === "r") {
    return rgbParse(str);
  }
  return hueParse(str);
}
var Color = class _Color {
  constructor(input) {
    if (input instanceof _Color) {
      return input;
    }
    const type = typeof input;
    let v;
    if (type === "object") {
      v = fromObject(input);
    } else if (type === "string") {
      v = hexParse(input) || nameParse(input) || functionParse(input);
    }
    this._rgb = v;
    this._valid = !!v;
  }
  get valid() {
    return this._valid;
  }
  get rgb() {
    var v = clone(this._rgb);
    if (v) {
      v.a = b2n(v.a);
    }
    return v;
  }
  set rgb(obj) {
    this._rgb = fromObject(obj);
  }
  rgbString() {
    return this._valid ? rgbString(this._rgb) : void 0;
  }
  hexString() {
    return this._valid ? hexString(this._rgb) : void 0;
  }
  hslString() {
    return this._valid ? hslString(this._rgb) : void 0;
  }
  mix(color2, weight) {
    if (color2) {
      const c1 = this.rgb;
      const c2 = color2.rgb;
      let w2;
      const p = weight === w2 ? 0.5 : weight;
      const w = 2 * p - 1;
      const a = c1.a - c2.a;
      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2;
      w2 = 1 - w1;
      c1.r = 255 & w1 * c1.r + w2 * c2.r + 0.5;
      c1.g = 255 & w1 * c1.g + w2 * c2.g + 0.5;
      c1.b = 255 & w1 * c1.b + w2 * c2.b + 0.5;
      c1.a = p * c1.a + (1 - p) * c2.a;
      this.rgb = c1;
    }
    return this;
  }
  interpolate(color2, t) {
    if (color2) {
      this._rgb = interpolate(this._rgb, color2._rgb, t);
    }
    return this;
  }
  clone() {
    return new _Color(this.rgb);
  }
  alpha(a) {
    this._rgb.a = n2b(a);
    return this;
  }
  clearer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 - ratio;
    return this;
  }
  greyscale() {
    const rgb = this._rgb;
    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);
    rgb.r = rgb.g = rgb.b = val;
    return this;
  }
  opaquer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 + ratio;
    return this;
  }
  negate() {
    const v = this._rgb;
    v.r = 255 - v.r;
    v.g = 255 - v.g;
    v.b = 255 - v.b;
    return this;
  }
  lighten(ratio) {
    modHSL(this._rgb, 2, ratio);
    return this;
  }
  darken(ratio) {
    modHSL(this._rgb, 2, -ratio);
    return this;
  }
  saturate(ratio) {
    modHSL(this._rgb, 1, ratio);
    return this;
  }
  desaturate(ratio) {
    modHSL(this._rgb, 1, -ratio);
    return this;
  }
  rotate(deg) {
    rotate(this._rgb, deg);
    return this;
  }
};

// node_modules/chart.js/dist/chunks/helpers.dataset.js
function noop() {
}
var uid = /* @__PURE__ */ (() => {
  let id = 0;
  return () => id++;
})();
function isNullOrUndef(value) {
  return value === null || value === void 0;
}
function isArray(value) {
  if (Array.isArray && Array.isArray(value)) {
    return true;
  }
  const type = Object.prototype.toString.call(value);
  if (type.slice(0, 7) === "[object" && type.slice(-6) === "Array]") {
    return true;
  }
  return false;
}
function isObject(value) {
  return value !== null && Object.prototype.toString.call(value) === "[object Object]";
}
function isNumberFinite(value) {
  return (typeof value === "number" || value instanceof Number) && isFinite(+value);
}
function finiteOrDefault(value, defaultValue) {
  return isNumberFinite(value) ? value : defaultValue;
}
function valueOrDefault(value, defaultValue) {
  return typeof value === "undefined" ? defaultValue : value;
}
var toPercentage = (value, dimension) => typeof value === "string" && value.endsWith("%") ? parseFloat(value) / 100 : +value / dimension;
var toDimension = (value, dimension) => typeof value === "string" && value.endsWith("%") ? parseFloat(value) / 100 * dimension : +value;
function callback(fn, args, thisArg) {
  if (fn && typeof fn.call === "function") {
    return fn.apply(thisArg, args);
  }
}
function each(loopable, fn, thisArg, reverse) {
  let i, len, keys;
  if (isArray(loopable)) {
    len = loopable.length;
    if (reverse) {
      for (i = len - 1; i >= 0; i--) {
        fn.call(thisArg, loopable[i], i);
      }
    } else {
      for (i = 0; i < len; i++) {
        fn.call(thisArg, loopable[i], i);
      }
    }
  } else if (isObject(loopable)) {
    keys = Object.keys(loopable);
    len = keys.length;
    for (i = 0; i < len; i++) {
      fn.call(thisArg, loopable[keys[i]], keys[i]);
    }
  }
}
function _elementsEqual(a0, a1) {
  let i, ilen, v0, v1;
  if (!a0 || !a1 || a0.length !== a1.length) {
    return false;
  }
  for (i = 0, ilen = a0.length; i < ilen; ++i) {
    v0 = a0[i];
    v1 = a1[i];
    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {
      return false;
    }
  }
  return true;
}
function clone2(source) {
  if (isArray(source)) {
    return source.map(clone2);
  }
  if (isObject(source)) {
    const target = /* @__PURE__ */ Object.create(null);
    const keys = Object.keys(source);
    const klen = keys.length;
    let k = 0;
    for (; k < klen; ++k) {
      target[keys[k]] = clone2(source[keys[k]]);
    }
    return target;
  }
  return source;
}
function isValidKey(key) {
  return ["__proto__", "prototype", "constructor"].indexOf(key) === -1;
}
function _merger(key, target, source, options) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    merge(tval, sval, options);
  } else {
    target[key] = clone2(sval);
  }
}
function merge(target, source, options) {
  const sources = isArray(source) ? source : [source];
  const ilen = sources.length;
  if (!isObject(target)) {
    return target;
  }
  options = options || {};
  const merger = options.merger || _merger;
  let current;
  for (let i = 0; i < ilen; ++i) {
    current = sources[i];
    if (!isObject(current)) {
      continue;
    }
    const keys = Object.keys(current);
    for (let k = 0, klen = keys.length; k < klen; ++k) {
      merger(keys[k], target, current, options);
    }
  }
  return target;
}
function mergeIf(target, source) {
  return merge(target, source, {
    merger: _mergerIf
  });
}
function _mergerIf(key, target, source) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    mergeIf(tval, sval);
  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {
    target[key] = clone2(sval);
  }
}
var keyResolvers = {
  // Chart.helpers.core resolveObjectKey should resolve empty key to root object
  "": (v) => v,
  // default resolvers
  x: (o) => o.x,
  y: (o) => o.y
};
function _splitKey(key) {
  const parts = key.split(".");
  const keys = [];
  let tmp = "";
  for (const part of parts) {
    tmp += part;
    if (tmp.endsWith("\\")) {
      tmp = tmp.slice(0, -1) + ".";
    } else {
      keys.push(tmp);
      tmp = "";
    }
  }
  return keys;
}
function _getKeyResolver(key) {
  const keys = _splitKey(key);
  return (obj) => {
    for (const k of keys) {
      if (k === "") {
        break;
      }
      obj = obj && obj[k];
    }
    return obj;
  };
}
function resolveObjectKey(obj, key) {
  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));
  return resolver(obj);
}
function _capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
var defined = (value) => typeof value !== "undefined";
var isFunction = (value) => typeof value === "function";
var setsEqual = (a, b) => {
  if (a.size !== b.size) {
    return false;
  }
  for (const item of a) {
    if (!b.has(item)) {
      return false;
    }
  }
  return true;
};
function _isClickEvent(e) {
  return e.type === "mouseup" || e.type === "click" || e.type === "contextmenu";
}
var PI = Math.PI;
var TAU = 2 * PI;
var PITAU = TAU + PI;
var INFINITY = Number.POSITIVE_INFINITY;
var RAD_PER_DEG = PI / 180;
var HALF_PI = PI / 2;
var QUARTER_PI = PI / 4;
var TWO_THIRDS_PI = PI * 2 / 3;
var log10 = Math.log10;
var sign = Math.sign;
function almostEquals(x, y, epsilon) {
  return Math.abs(x - y) < epsilon;
}
function niceNum(range) {
  const roundedRange = Math.round(range);
  range = almostEquals(range, roundedRange, range / 1e3) ? roundedRange : range;
  const niceRange = Math.pow(10, Math.floor(log10(range)));
  const fraction = range / niceRange;
  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;
  return niceFraction * niceRange;
}
function _factorize(value) {
  const result = [];
  const sqrt = Math.sqrt(value);
  let i;
  for (i = 1; i < sqrt; i++) {
    if (value % i === 0) {
      result.push(i);
      result.push(value / i);
    }
  }
  if (sqrt === (sqrt | 0)) {
    result.push(sqrt);
  }
  result.sort((a, b) => a - b).pop();
  return result;
}
function isNonPrimitive(n) {
  return typeof n === "symbol" || typeof n === "object" && n !== null && !(Symbol.toPrimitive in n || "toString" in n || "valueOf" in n);
}
function isNumber(n) {
  return !isNonPrimitive(n) && !isNaN(parseFloat(n)) && isFinite(n);
}
function almostWhole(x, epsilon) {
  const rounded = Math.round(x);
  return rounded - epsilon <= x && rounded + epsilon >= x;
}
function _setMinAndMaxByKey(array, target, property) {
  let i, ilen, value;
  for (i = 0, ilen = array.length; i < ilen; i++) {
    value = array[i][property];
    if (!isNaN(value)) {
      target.min = Math.min(target.min, value);
      target.max = Math.max(target.max, value);
    }
  }
}
function toRadians(degrees) {
  return degrees * (PI / 180);
}
function toDegrees(radians) {
  return radians * (180 / PI);
}
function _decimalPlaces(x) {
  if (!isNumberFinite(x)) {
    return;
  }
  let e = 1;
  let p = 0;
  while (Math.round(x * e) / e !== x) {
    e *= 10;
    p++;
  }
  return p;
}
function getAngleFromPoint(centrePoint, anglePoint) {
  const distanceFromXCenter = anglePoint.x - centrePoint.x;
  const distanceFromYCenter = anglePoint.y - centrePoint.y;
  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);
  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);
  if (angle < -0.5 * PI) {
    angle += TAU;
  }
  return {
    angle,
    distance: radialDistanceFromCenter
  };
}
function distanceBetweenPoints(pt1, pt2) {
  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));
}
function _angleDiff(a, b) {
  return (a - b + PITAU) % TAU - PI;
}
function _normalizeAngle(a) {
  return (a % TAU + TAU) % TAU;
}
function _angleBetween(angle, start, end, sameAngleIsFullCircle) {
  const a = _normalizeAngle(angle);
  const s = _normalizeAngle(start);
  const e = _normalizeAngle(end);
  const angleToStart = _normalizeAngle(s - a);
  const angleToEnd = _normalizeAngle(e - a);
  const startToAngle = _normalizeAngle(a - s);
  const endToAngle = _normalizeAngle(a - e);
  return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;
}
function _limitValue(value, min, max) {
  return Math.max(min, Math.min(max, value));
}
function _int16Range(value) {
  return _limitValue(value, -32768, 32767);
}
function _isBetween(value, start, end, epsilon = 1e-6) {
  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;
}
function _lookup(table, value, cmp) {
  cmp = cmp || ((index2) => table[index2] < value);
  let hi = table.length - 1;
  let lo = 0;
  let mid;
  while (hi - lo > 1) {
    mid = lo + hi >> 1;
    if (cmp(mid)) {
      lo = mid;
    } else {
      hi = mid;
    }
  }
  return {
    lo,
    hi
  };
}
var _lookupByKey = (table, key, value, last) => _lookup(table, value, last ? (index2) => {
  const ti = table[index2][key];
  return ti < value || ti === value && table[index2 + 1][key] === value;
} : (index2) => table[index2][key] < value);
var _rlookupByKey = (table, key, value) => _lookup(table, value, (index2) => table[index2][key] >= value);
function _filterBetween(values, min, max) {
  let start = 0;
  let end = values.length;
  while (start < end && values[start] < min) {
    start++;
  }
  while (end > start && values[end - 1] > max) {
    end--;
  }
  return start > 0 || end < values.length ? values.slice(start, end) : values;
}
var arrayEvents = ["push", "pop", "shift", "splice", "unshift"];
function listenArrayEvents(array, listener) {
  if (array._chartjs) {
    array._chartjs.listeners.push(listener);
    return;
  }
  Object.defineProperty(array, "_chartjs", {
    configurable: true,
    enumerable: false,
    value: {
      listeners: [listener]
    }
  });
  arrayEvents.forEach((key) => {
    const method = "_onData" + _capitalize(key);
    const base = array[key];
    Object.defineProperty(array, key, {
      configurable: true,
      enumerable: false,
      value(...args) {
        const res = base.apply(this, args);
        array._chartjs.listeners.forEach((object) => {
          if (typeof object[method] === "function") {
            object[method](...args);
          }
        });
        return res;
      }
    });
  });
}
function unlistenArrayEvents(array, listener) {
  const stub = array._chartjs;
  if (!stub) {
    return;
  }
  const listeners = stub.listeners;
  const index2 = listeners.indexOf(listener);
  if (index2 !== -1) {
    listeners.splice(index2, 1);
  }
  if (listeners.length > 0) {
    return;
  }
  arrayEvents.forEach((key) => {
    delete array[key];
  });
  delete array._chartjs;
}
function _arrayUnique(items) {
  const set2 = new Set(items);
  if (set2.size === items.length) {
    return items;
  }
  return Array.from(set2);
}
var requestAnimFrame = function() {
  if (typeof window === "undefined") {
    return function(callback2) {
      return callback2();
    };
  }
  return window.requestAnimationFrame;
}();
function throttled(fn, thisArg) {
  let argsToUse = [];
  let ticking = false;
  return function(...args) {
    argsToUse = args;
    if (!ticking) {
      ticking = true;
      requestAnimFrame.call(window, () => {
        ticking = false;
        fn.apply(thisArg, argsToUse);
      });
    }
  };
}
function debounce2(fn, delay) {
  let timeout;
  return function(...args) {
    if (delay) {
      clearTimeout(timeout);
      timeout = setTimeout(fn, delay, args);
    } else {
      fn.apply(this, args);
    }
    return delay;
  };
}
var _toLeftRightCenter = (align) => align === "start" ? "left" : align === "end" ? "right" : "center";
var _alignStartEnd = (align, start, end) => align === "start" ? start : align === "end" ? end : (start + end) / 2;
var _textX = (align, left, right, rtl) => {
  const check = rtl ? "left" : "right";
  return align === check ? right : align === "center" ? (left + right) / 2 : left;
};
function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {
  const pointCount = points.length;
  let start = 0;
  let count = pointCount;
  if (meta._sorted) {
    const {
      iScale,
      vScale,
      _parsed
    } = meta;
    const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;
    const axis = iScale.axis;
    const {
      min,
      max,
      minDefined,
      maxDefined
    } = iScale.getUserBounds();
    if (minDefined) {
      start = Math.min(
        // @ts-expect-error Need to type _parsed
        _lookupByKey(_parsed, axis, min).lo,
        // @ts-expect-error Need to fix types on _lookupByKey
        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo
      );
      if (spanGaps) {
        const distanceToDefinedLo = _parsed.slice(0, start + 1).reverse().findIndex((point) => !isNullOrUndef(point[vScale.axis]));
        start -= Math.max(0, distanceToDefinedLo);
      }
      start = _limitValue(start, 0, pointCount - 1);
    }
    if (maxDefined) {
      let end = Math.max(
        // @ts-expect-error Need to type _parsed
        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,
        // @ts-expect-error Need to fix types on _lookupByKey
        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1
      );
      if (spanGaps) {
        const distanceToDefinedHi = _parsed.slice(end - 1).findIndex((point) => !isNullOrUndef(point[vScale.axis]));
        end += Math.max(0, distanceToDefinedHi);
      }
      count = _limitValue(end, start, pointCount) - start;
    } else {
      count = pointCount - start;
    }
  }
  return {
    start,
    count
  };
}
function _scaleRangesChanged(meta) {
  const {
    xScale,
    yScale,
    _scaleRanges
  } = meta;
  const newRanges = {
    xmin: xScale.min,
    xmax: xScale.max,
    ymin: yScale.min,
    ymax: yScale.max
  };
  if (!_scaleRanges) {
    meta._scaleRanges = newRanges;
    return true;
  }
  const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;
  Object.assign(_scaleRanges, newRanges);
  return changed;
}
var atEdge = (t) => t === 0 || t === 1;
var elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));
var elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;
var effects = {
  linear: (t) => t,
  easeInQuad: (t) => t * t,
  easeOutQuad: (t) => -t * (t - 2),
  easeInOutQuad: (t) => (t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),
  easeInCubic: (t) => t * t * t,
  easeOutCubic: (t) => (t -= 1) * t * t + 1,
  easeInOutCubic: (t) => (t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),
  easeInQuart: (t) => t * t * t * t,
  easeOutQuart: (t) => -((t -= 1) * t * t * t - 1),
  easeInOutQuart: (t) => (t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),
  easeInQuint: (t) => t * t * t * t * t,
  easeOutQuint: (t) => (t -= 1) * t * t * t * t + 1,
  easeInOutQuint: (t) => (t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),
  easeInSine: (t) => -Math.cos(t * HALF_PI) + 1,
  easeOutSine: (t) => Math.sin(t * HALF_PI),
  easeInOutSine: (t) => -0.5 * (Math.cos(PI * t) - 1),
  easeInExpo: (t) => t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),
  easeOutExpo: (t) => t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,
  easeInOutExpo: (t) => atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),
  easeInCirc: (t) => t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),
  easeOutCirc: (t) => Math.sqrt(1 - (t -= 1) * t),
  easeInOutCirc: (t) => (t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),
  easeInElastic: (t) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),
  easeOutElastic: (t) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),
  easeInOutElastic(t) {
    const s = 0.1125;
    const p = 0.45;
    return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);
  },
  easeInBack(t) {
    const s = 1.70158;
    return t * t * ((s + 1) * t - s);
  },
  easeOutBack(t) {
    const s = 1.70158;
    return (t -= 1) * t * ((s + 1) * t + s) + 1;
  },
  easeInOutBack(t) {
    let s = 1.70158;
    if ((t /= 0.5) < 1) {
      return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));
    }
    return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);
  },
  easeInBounce: (t) => 1 - effects.easeOutBounce(1 - t),
  easeOutBounce(t) {
    const m = 7.5625;
    const d = 2.75;
    if (t < 1 / d) {
      return m * t * t;
    }
    if (t < 2 / d) {
      return m * (t -= 1.5 / d) * t + 0.75;
    }
    if (t < 2.5 / d) {
      return m * (t -= 2.25 / d) * t + 0.9375;
    }
    return m * (t -= 2.625 / d) * t + 0.984375;
  },
  easeInOutBounce: (t) => t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5
};
function isPatternOrGradient(value) {
  if (value && typeof value === "object") {
    const type = value.toString();
    return type === "[object CanvasPattern]" || type === "[object CanvasGradient]";
  }
  return false;
}
function color(value) {
  return isPatternOrGradient(value) ? value : new Color(value);
}
function getHoverColor(value) {
  return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();
}
var numbers = ["x", "y", "borderWidth", "radius", "tension"];
var colors = ["color", "borderColor", "backgroundColor"];
function applyAnimationsDefaults(defaults3) {
  defaults3.set("animation", {
    delay: void 0,
    duration: 1e3,
    easing: "easeOutQuart",
    fn: void 0,
    from: void 0,
    loop: void 0,
    to: void 0,
    type: void 0
  });
  defaults3.describe("animation", {
    _fallback: false,
    _indexable: false,
    _scriptable: (name) => name !== "onProgress" && name !== "onComplete" && name !== "fn"
  });
  defaults3.set("animations", {
    colors: {
      type: "color",
      properties: colors
    },
    numbers: {
      type: "number",
      properties: numbers
    }
  });
  defaults3.describe("animations", {
    _fallback: "animation"
  });
  defaults3.set("transitions", {
    active: {
      animation: {
        duration: 400
      }
    },
    resize: {
      animation: {
        duration: 0
      }
    },
    show: {
      animations: {
        colors: {
          from: "transparent"
        },
        visible: {
          type: "boolean",
          duration: 0
        }
      }
    },
    hide: {
      animations: {
        colors: {
          to: "transparent"
        },
        visible: {
          type: "boolean",
          easing: "linear",
          fn: (v) => v | 0
        }
      }
    }
  });
}
function applyLayoutsDefaults(defaults3) {
  defaults3.set("layout", {
    autoPadding: true,
    padding: {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    }
  });
}
var intlCache = /* @__PURE__ */ new Map();
function getNumberFormat(locale, options) {
  options = options || {};
  const cacheKey = locale + JSON.stringify(options);
  let formatter = intlCache.get(cacheKey);
  if (!formatter) {
    formatter = new Intl.NumberFormat(locale, options);
    intlCache.set(cacheKey, formatter);
  }
  return formatter;
}
function formatNumber(num, locale, options) {
  return getNumberFormat(locale, options).format(num);
}
var formatters = {
  values(value) {
    return isArray(value) ? value : "" + value;
  },
  numeric(tickValue, index2, ticks) {
    if (tickValue === 0) {
      return "0";
    }
    const locale = this.chart.options.locale;
    let notation;
    let delta = tickValue;
    if (ticks.length > 1) {
      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));
      if (maxTick < 1e-4 || maxTick > 1e15) {
        notation = "scientific";
      }
      delta = calculateDelta(tickValue, ticks);
    }
    const logDelta = log10(Math.abs(delta));
    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);
    const options = {
      notation,
      minimumFractionDigits: numDecimal,
      maximumFractionDigits: numDecimal
    };
    Object.assign(options, this.options.ticks.format);
    return formatNumber(tickValue, locale, options);
  },
  logarithmic(tickValue, index2, ticks) {
    if (tickValue === 0) {
      return "0";
    }
    const remain = ticks[index2].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));
    if ([1, 2, 3, 5, 10, 15].includes(remain) || index2 > 0.8 * ticks.length) {
      return formatters.numeric.call(this, tickValue, index2, ticks);
    }
    return "";
  }
};
function calculateDelta(tickValue, ticks) {
  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;
  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {
    delta = tickValue - Math.floor(tickValue);
  }
  return delta;
}
var Ticks = {
  formatters
};
function applyScaleDefaults(defaults3) {
  defaults3.set("scale", {
    display: true,
    offset: false,
    reverse: false,
    beginAtZero: false,
    bounds: "ticks",
    clip: true,
    grace: 0,
    grid: {
      display: true,
      lineWidth: 1,
      drawOnChartArea: true,
      drawTicks: true,
      tickLength: 8,
      tickWidth: (_ctx, options) => options.lineWidth,
      tickColor: (_ctx, options) => options.color,
      offset: false
    },
    border: {
      display: true,
      dash: [],
      dashOffset: 0,
      width: 1
    },
    title: {
      display: false,
      text: "",
      padding: {
        top: 4,
        bottom: 4
      }
    },
    ticks: {
      minRotation: 0,
      maxRotation: 50,
      mirror: false,
      textStrokeWidth: 0,
      textStrokeColor: "",
      padding: 3,
      display: true,
      autoSkip: true,
      autoSkipPadding: 3,
      labelOffset: 0,
      callback: Ticks.formatters.values,
      minor: {},
      major: {},
      align: "center",
      crossAlign: "near",
      showLabelBackdrop: false,
      backdropColor: "rgba(255, 255, 255, 0.75)",
      backdropPadding: 2
    }
  });
  defaults3.route("scale.ticks", "color", "", "color");
  defaults3.route("scale.grid", "color", "", "borderColor");
  defaults3.route("scale.border", "color", "", "borderColor");
  defaults3.route("scale.title", "color", "", "color");
  defaults3.describe("scale", {
    _fallback: false,
    _scriptable: (name) => !name.startsWith("before") && !name.startsWith("after") && name !== "callback" && name !== "parser",
    _indexable: (name) => name !== "borderDash" && name !== "tickBorderDash" && name !== "dash"
  });
  defaults3.describe("scales", {
    _fallback: "scale"
  });
  defaults3.describe("scale.ticks", {
    _scriptable: (name) => name !== "backdropPadding" && name !== "callback",
    _indexable: (name) => name !== "backdropPadding"
  });
}
var overrides = /* @__PURE__ */ Object.create(null);
var descriptors = /* @__PURE__ */ Object.create(null);
function getScope$1(node, key) {
  if (!key) {
    return node;
  }
  const keys = key.split(".");
  for (let i = 0, n = keys.length; i < n; ++i) {
    const k = keys[i];
    node = node[k] || (node[k] = /* @__PURE__ */ Object.create(null));
  }
  return node;
}
function set(root, scope, values) {
  if (typeof scope === "string") {
    return merge(getScope$1(root, scope), values);
  }
  return merge(getScope$1(root, ""), scope);
}
var Defaults = class {
  constructor(_descriptors2, _appliers) {
    this.animation = void 0;
    this.backgroundColor = "rgba(0,0,0,0.1)";
    this.borderColor = "rgba(0,0,0,0.1)";
    this.color = "#666";
    this.datasets = {};
    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();
    this.elements = {};
    this.events = ["mousemove", "mouseout", "click", "touchstart", "touchmove"];
    this.font = {
      family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
      size: 12,
      style: "normal",
      lineHeight: 1.2,
      weight: null
    };
    this.hover = {};
    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);
    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);
    this.hoverColor = (ctx, options) => getHoverColor(options.color);
    this.indexAxis = "x";
    this.interaction = {
      mode: "nearest",
      intersect: true,
      includeInvisible: false
    };
    this.maintainAspectRatio = true;
    this.onHover = null;
    this.onClick = null;
    this.parsing = true;
    this.plugins = {};
    this.responsive = true;
    this.scale = void 0;
    this.scales = {};
    this.showLine = true;
    this.drawActiveElementsOnTop = true;
    this.describe(_descriptors2);
    this.apply(_appliers);
  }
  set(scope, values) {
    return set(this, scope, values);
  }
  get(scope) {
    return getScope$1(this, scope);
  }
  describe(scope, values) {
    return set(descriptors, scope, values);
  }
  override(scope, values) {
    return set(overrides, scope, values);
  }
  route(scope, name, targetScope, targetName) {
    const scopeObject = getScope$1(this, scope);
    const targetScopeObject = getScope$1(this, targetScope);
    const privateName = "_" + name;
    Object.defineProperties(scopeObject, {
      [privateName]: {
        value: scopeObject[name],
        writable: true
      },
      [name]: {
        enumerable: true,
        get() {
          const local = this[privateName];
          const target = targetScopeObject[targetName];
          if (isObject(local)) {
            return Object.assign({}, target, local);
          }
          return valueOrDefault(local, target);
        },
        set(value) {
          this[privateName] = value;
        }
      }
    });
  }
  apply(appliers) {
    appliers.forEach((apply) => apply(this));
  }
};
var defaults2 = /* @__PURE__ */ new Defaults({
  _scriptable: (name) => !name.startsWith("on"),
  _indexable: (name) => name !== "events",
  hover: {
    _fallback: "interaction"
  },
  interaction: {
    _scriptable: false,
    _indexable: false
  }
}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);
function toFontString(font) {
  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {
    return null;
  }
  return (font.style ? font.style + " " : "") + (font.weight ? font.weight + " " : "") + font.size + "px " + font.family;
}
function _measureText(ctx, data, gc, longest, string) {
  let textWidth = data[string];
  if (!textWidth) {
    textWidth = data[string] = ctx.measureText(string).width;
    gc.push(string);
  }
  if (textWidth > longest) {
    longest = textWidth;
  }
  return longest;
}
function _longestText(ctx, font, arrayOfThings, cache) {
  cache = cache || {};
  let data = cache.data = cache.data || {};
  let gc = cache.garbageCollect = cache.garbageCollect || [];
  if (cache.font !== font) {
    data = cache.data = {};
    gc = cache.garbageCollect = [];
    cache.font = font;
  }
  ctx.save();
  ctx.font = font;
  let longest = 0;
  const ilen = arrayOfThings.length;
  let i, j, jlen, thing, nestedThing;
  for (i = 0; i < ilen; i++) {
    thing = arrayOfThings[i];
    if (thing !== void 0 && thing !== null && !isArray(thing)) {
      longest = _measureText(ctx, data, gc, longest, thing);
    } else if (isArray(thing)) {
      for (j = 0, jlen = thing.length; j < jlen; j++) {
        nestedThing = thing[j];
        if (nestedThing !== void 0 && nestedThing !== null && !isArray(nestedThing)) {
          longest = _measureText(ctx, data, gc, longest, nestedThing);
        }
      }
    }
  }
  ctx.restore();
  const gcLen = gc.length / 2;
  if (gcLen > arrayOfThings.length) {
    for (i = 0; i < gcLen; i++) {
      delete data[gc[i]];
    }
    gc.splice(0, gcLen);
  }
  return longest;
}
function _alignPixel(chart, pixel, width) {
  const devicePixelRatio = chart.currentDevicePixelRatio;
  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;
  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;
}
function clearCanvas(canvas, ctx) {
  if (!ctx && !canvas) {
    return;
  }
  ctx = ctx || canvas.getContext("2d");
  ctx.save();
  ctx.resetTransform();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.restore();
}
function drawPoint(ctx, options, x, y) {
  drawPointLegend(ctx, options, x, y, null);
}
function drawPointLegend(ctx, options, x, y, w) {
  let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;
  const style2 = options.pointStyle;
  const rotation = options.rotation;
  const radius = options.radius;
  let rad = (rotation || 0) * RAD_PER_DEG;
  if (style2 && typeof style2 === "object") {
    type = style2.toString();
    if (type === "[object HTMLImageElement]" || type === "[object HTMLCanvasElement]") {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rad);
      ctx.drawImage(style2, -style2.width / 2, -style2.height / 2, style2.width, style2.height);
      ctx.restore();
      return;
    }
  }
  if (isNaN(radius) || radius <= 0) {
    return;
  }
  ctx.beginPath();
  switch (style2) {
    // Default includes circle
    default:
      if (w) {
        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);
      } else {
        ctx.arc(x, y, radius, 0, TAU);
      }
      ctx.closePath();
      break;
    case "triangle":
      width = w ? w / 2 : radius;
      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);
      rad += TWO_THIRDS_PI;
      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);
      rad += TWO_THIRDS_PI;
      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);
      ctx.closePath();
      break;
    case "rectRounded":
      cornerRadius = radius * 0.516;
      size = radius - cornerRadius;
      xOffset = Math.cos(rad + QUARTER_PI) * size;
      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);
      yOffset = Math.sin(rad + QUARTER_PI) * size;
      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);
      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);
      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);
      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);
      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);
      ctx.closePath();
      break;
    case "rect":
      if (!rotation) {
        size = Math.SQRT1_2 * radius;
        width = w ? w / 2 : size;
        ctx.rect(x - width, y - size, 2 * width, 2 * size);
        break;
      }
      rad += QUARTER_PI;
    /* falls through */
    case "rectRot":
      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);
      xOffset = Math.cos(rad) * radius;
      yOffset = Math.sin(rad) * radius;
      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);
      ctx.moveTo(x - xOffsetW, y - yOffset);
      ctx.lineTo(x + yOffsetW, y - xOffset);
      ctx.lineTo(x + xOffsetW, y + yOffset);
      ctx.lineTo(x - yOffsetW, y + xOffset);
      ctx.closePath();
      break;
    case "crossRot":
      rad += QUARTER_PI;
    /* falls through */
    case "cross":
      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);
      xOffset = Math.cos(rad) * radius;
      yOffset = Math.sin(rad) * radius;
      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);
      ctx.moveTo(x - xOffsetW, y - yOffset);
      ctx.lineTo(x + xOffsetW, y + yOffset);
      ctx.moveTo(x + yOffsetW, y - xOffset);
      ctx.lineTo(x - yOffsetW, y + xOffset);
      break;
    case "star":
      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);
      xOffset = Math.cos(rad) * radius;
      yOffset = Math.sin(rad) * radius;
      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);
      ctx.moveTo(x - xOffsetW, y - yOffset);
      ctx.lineTo(x + xOffsetW, y + yOffset);
      ctx.moveTo(x + yOffsetW, y - xOffset);
      ctx.lineTo(x - yOffsetW, y + xOffset);
      rad += QUARTER_PI;
      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);
      xOffset = Math.cos(rad) * radius;
      yOffset = Math.sin(rad) * radius;
      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);
      ctx.moveTo(x - xOffsetW, y - yOffset);
      ctx.lineTo(x + xOffsetW, y + yOffset);
      ctx.moveTo(x + yOffsetW, y - xOffset);
      ctx.lineTo(x - yOffsetW, y + xOffset);
      break;
    case "line":
      xOffset = w ? w / 2 : Math.cos(rad) * radius;
      yOffset = Math.sin(rad) * radius;
      ctx.moveTo(x - xOffset, y - yOffset);
      ctx.lineTo(x + xOffset, y + yOffset);
      break;
    case "dash":
      ctx.moveTo(x, y);
      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);
      break;
    case false:
      ctx.closePath();
      break;
  }
  ctx.fill();
  if (options.borderWidth > 0) {
    ctx.stroke();
  }
}
function _isPointInArea(point, area, margin) {
  margin = margin || 0.5;
  return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;
}
function clipArea(ctx, area) {
  ctx.save();
  ctx.beginPath();
  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);
  ctx.clip();
}
function unclipArea(ctx) {
  ctx.restore();
}
function _steppedLineTo(ctx, previous, target, flip, mode) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  if (mode === "middle") {
    const midpoint = (previous.x + target.x) / 2;
    ctx.lineTo(midpoint, previous.y);
    ctx.lineTo(midpoint, target.y);
  } else if (mode === "after" !== !!flip) {
    ctx.lineTo(previous.x, target.y);
  } else {
    ctx.lineTo(target.x, previous.y);
  }
  ctx.lineTo(target.x, target.y);
}
function _bezierCurveTo(ctx, previous, target, flip) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);
}
function setRenderOpts(ctx, opts) {
  if (opts.translation) {
    ctx.translate(opts.translation[0], opts.translation[1]);
  }
  if (!isNullOrUndef(opts.rotation)) {
    ctx.rotate(opts.rotation);
  }
  if (opts.color) {
    ctx.fillStyle = opts.color;
  }
  if (opts.textAlign) {
    ctx.textAlign = opts.textAlign;
  }
  if (opts.textBaseline) {
    ctx.textBaseline = opts.textBaseline;
  }
}
function decorateText(ctx, x, y, line, opts) {
  if (opts.strikethrough || opts.underline) {
    const metrics = ctx.measureText(line);
    const left = x - metrics.actualBoundingBoxLeft;
    const right = x + metrics.actualBoundingBoxRight;
    const top = y - metrics.actualBoundingBoxAscent;
    const bottom = y + metrics.actualBoundingBoxDescent;
    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;
    ctx.strokeStyle = ctx.fillStyle;
    ctx.beginPath();
    ctx.lineWidth = opts.decorationWidth || 2;
    ctx.moveTo(left, yDecoration);
    ctx.lineTo(right, yDecoration);
    ctx.stroke();
  }
}
function drawBackdrop(ctx, opts) {
  const oldColor = ctx.fillStyle;
  ctx.fillStyle = opts.color;
  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);
  ctx.fillStyle = oldColor;
}
function renderText(ctx, text, x, y, font, opts = {}) {
  const lines = isArray(text) ? text : [text];
  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== "";
  let i, line;
  ctx.save();
  ctx.font = font.string;
  setRenderOpts(ctx, opts);
  for (i = 0; i < lines.length; ++i) {
    line = lines[i];
    if (opts.backdrop) {
      drawBackdrop(ctx, opts.backdrop);
    }
    if (stroke) {
      if (opts.strokeColor) {
        ctx.strokeStyle = opts.strokeColor;
      }
      if (!isNullOrUndef(opts.strokeWidth)) {
        ctx.lineWidth = opts.strokeWidth;
      }
      ctx.strokeText(line, x, y, opts.maxWidth);
    }
    ctx.fillText(line, x, y, opts.maxWidth);
    decorateText(ctx, x, y, line, opts);
    y += Number(font.lineHeight);
  }
  ctx.restore();
}
function addRoundedRectPath(ctx, rect) {
  const {
    x,
    y,
    w,
    h,
    radius
  } = rect;
  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);
  ctx.lineTo(x, y + h - radius.bottomLeft);
  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);
  ctx.lineTo(x + w - radius.bottomRight, y + h);
  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);
  ctx.lineTo(x + w, y + radius.topRight);
  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);
  ctx.lineTo(x + radius.topLeft, y);
}
var LINE_HEIGHT = /^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/;
var FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;
function toLineHeight(value, size) {
  const matches = ("" + value).match(LINE_HEIGHT);
  if (!matches || matches[1] === "normal") {
    return size * 1.2;
  }
  value = +matches[2];
  switch (matches[3]) {
    case "px":
      return value;
    case "%":
      value /= 100;
      break;
  }
  return size * value;
}
var numberOrZero = (v) => +v || 0;
function _readValueToProps(value, props) {
  const ret = {};
  const objProps = isObject(props);
  const keys = objProps ? Object.keys(props) : props;
  const read = isObject(value) ? objProps ? (prop) => valueOrDefault(value[prop], value[props[prop]]) : (prop) => value[prop] : () => value;
  for (const prop of keys) {
    ret[prop] = numberOrZero(read(prop));
  }
  return ret;
}
function toTRBL(value) {
  return _readValueToProps(value, {
    top: "y",
    right: "x",
    bottom: "y",
    left: "x"
  });
}
function toTRBLCorners(value) {
  return _readValueToProps(value, ["topLeft", "topRight", "bottomLeft", "bottomRight"]);
}
function toPadding(value) {
  const obj = toTRBL(value);
  obj.width = obj.left + obj.right;
  obj.height = obj.top + obj.bottom;
  return obj;
}
function toFont(options, fallback) {
  options = options || {};
  fallback = fallback || defaults2.font;
  let size = valueOrDefault(options.size, fallback.size);
  if (typeof size === "string") {
    size = parseInt(size, 10);
  }
  let style2 = valueOrDefault(options.style, fallback.style);
  if (style2 && !("" + style2).match(FONT_STYLE)) {
    console.warn('Invalid font style specified: "' + style2 + '"');
    style2 = void 0;
  }
  const font = {
    family: valueOrDefault(options.family, fallback.family),
    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),
    size,
    style: style2,
    weight: valueOrDefault(options.weight, fallback.weight),
    string: ""
  };
  font.string = toFontString(font);
  return font;
}
function resolve(inputs, context, index2, info) {
  let cacheable = true;
  let i, ilen, value;
  for (i = 0, ilen = inputs.length; i < ilen; ++i) {
    value = inputs[i];
    if (value === void 0) {
      continue;
    }
    if (context !== void 0 && typeof value === "function") {
      value = value(context);
      cacheable = false;
    }
    if (index2 !== void 0 && isArray(value)) {
      value = value[index2 % value.length];
      cacheable = false;
    }
    if (value !== void 0) {
      if (info && !cacheable) {
        info.cacheable = false;
      }
      return value;
    }
  }
}
function _addGrace(minmax, grace, beginAtZero) {
  const {
    min,
    max
  } = minmax;
  const change = toDimension(grace, (max - min) / 2);
  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;
  return {
    min: keepZero(min, -Math.abs(change)),
    max: keepZero(max, change)
  };
}
function createContext(parentContext, context) {
  return Object.assign(Object.create(parentContext), context);
}
function _createResolver(scopes, prefixes = [""], rootScopes, fallback, getTarget = () => scopes[0]) {
  const finalRootScopes = rootScopes || scopes;
  if (typeof fallback === "undefined") {
    fallback = _resolve("_fallback", scopes);
  }
  const cache = {
    [Symbol.toStringTag]: "Object",
    _cacheable: true,
    _scopes: scopes,
    _rootScopes: finalRootScopes,
    _fallback: fallback,
    _getTarget: getTarget,
    override: (scope) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback)
  };
  return new Proxy(cache, {
    /**
    * A trap for the delete operator.
    */
    deleteProperty(target, prop) {
      delete target[prop];
      delete target._keys;
      delete scopes[0][prop];
      return true;
    },
    /**
    * A trap for getting property values.
    */
    get(target, prop) {
      return _cached(target, prop, () => _resolveWithPrefixes(prop, prefixes, scopes, target));
    },
    /**
    * A trap for Object.getOwnPropertyDescriptor.
    * Also used by Object.hasOwnProperty.
    */
    getOwnPropertyDescriptor(target, prop) {
      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);
    },
    /**
    * A trap for Object.getPrototypeOf.
    */
    getPrototypeOf() {
      return Reflect.getPrototypeOf(scopes[0]);
    },
    /**
    * A trap for the in operator.
    */
    has(target, prop) {
      return getKeysFromAllScopes(target).includes(prop);
    },
    /**
    * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.
    */
    ownKeys(target) {
      return getKeysFromAllScopes(target);
    },
    /**
    * A trap for setting property values.
    */
    set(target, prop, value) {
      const storage = target._storage || (target._storage = getTarget());
      target[prop] = storage[prop] = value;
      delete target._keys;
      return true;
    }
  });
}
function _attachContext(proxy, context, subProxy, descriptorDefaults) {
  const cache = {
    _cacheable: false,
    _proxy: proxy,
    _context: context,
    _subProxy: subProxy,
    _stack: /* @__PURE__ */ new Set(),
    _descriptors: _descriptors(proxy, descriptorDefaults),
    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),
    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)
  };
  return new Proxy(cache, {
    /**
    * A trap for the delete operator.
    */
    deleteProperty(target, prop) {
      delete target[prop];
      delete proxy[prop];
      return true;
    },
    /**
    * A trap for getting property values.
    */
    get(target, prop, receiver) {
      return _cached(target, prop, () => _resolveWithContext(target, prop, receiver));
    },
    /**
    * A trap for Object.getOwnPropertyDescriptor.
    * Also used by Object.hasOwnProperty.
    */
    getOwnPropertyDescriptor(target, prop) {
      return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {
        enumerable: true,
        configurable: true
      } : void 0 : Reflect.getOwnPropertyDescriptor(proxy, prop);
    },
    /**
    * A trap for Object.getPrototypeOf.
    */
    getPrototypeOf() {
      return Reflect.getPrototypeOf(proxy);
    },
    /**
    * A trap for the in operator.
    */
    has(target, prop) {
      return Reflect.has(proxy, prop);
    },
    /**
    * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.
    */
    ownKeys() {
      return Reflect.ownKeys(proxy);
    },
    /**
    * A trap for setting property values.
    */
    set(target, prop, value) {
      proxy[prop] = value;
      delete target[prop];
      return true;
    }
  });
}
function _descriptors(proxy, defaults3 = {
  scriptable: true,
  indexable: true
}) {
  const {
    _scriptable = defaults3.scriptable,
    _indexable = defaults3.indexable,
    _allKeys = defaults3.allKeys
  } = proxy;
  return {
    allKeys: _allKeys,
    scriptable: _scriptable,
    indexable: _indexable,
    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,
    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable
  };
}
var readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;
var needsSubResolver = (prop, value) => isObject(value) && prop !== "adapters" && (Object.getPrototypeOf(value) === null || value.constructor === Object);
function _cached(target, prop, resolve2) {
  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === "constructor") {
    return target[prop];
  }
  const value = resolve2();
  target[prop] = value;
  return value;
}
function _resolveWithContext(target, prop, receiver) {
  const {
    _proxy,
    _context,
    _subProxy,
    _descriptors: descriptors2
  } = target;
  let value = _proxy[prop];
  if (isFunction(value) && descriptors2.isScriptable(prop)) {
    value = _resolveScriptable(prop, value, target, receiver);
  }
  if (isArray(value) && value.length) {
    value = _resolveArray(prop, value, target, descriptors2.isIndexable);
  }
  if (needsSubResolver(prop, value)) {
    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors2);
  }
  return value;
}
function _resolveScriptable(prop, getValue, target, receiver) {
  const {
    _proxy,
    _context,
    _subProxy,
    _stack
  } = target;
  if (_stack.has(prop)) {
    throw new Error("Recursion detected: " + Array.from(_stack).join("->") + "->" + prop);
  }
  _stack.add(prop);
  let value = getValue(_context, _subProxy || receiver);
  _stack.delete(prop);
  if (needsSubResolver(prop, value)) {
    value = createSubResolver(_proxy._scopes, _proxy, prop, value);
  }
  return value;
}
function _resolveArray(prop, value, target, isIndexable) {
  const {
    _proxy,
    _context,
    _subProxy,
    _descriptors: descriptors2
  } = target;
  if (typeof _context.index !== "undefined" && isIndexable(prop)) {
    return value[_context.index % value.length];
  } else if (isObject(value[0])) {
    const arr = value;
    const scopes = _proxy._scopes.filter((s) => s !== arr);
    value = [];
    for (const item of arr) {
      const resolver = createSubResolver(scopes, _proxy, prop, item);
      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors2));
    }
  }
  return value;
}
function resolveFallback(fallback, prop, value) {
  return isFunction(fallback) ? fallback(prop, value) : fallback;
}
var getScope = (key, parent) => key === true ? parent : typeof key === "string" ? resolveObjectKey(parent, key) : void 0;
function addScopes(set2, parentScopes, key, parentFallback, value) {
  for (const parent of parentScopes) {
    const scope = getScope(key, parent);
    if (scope) {
      set2.add(scope);
      const fallback = resolveFallback(scope._fallback, key, value);
      if (typeof fallback !== "undefined" && fallback !== key && fallback !== parentFallback) {
        return fallback;
      }
    } else if (scope === false && typeof parentFallback !== "undefined" && key !== parentFallback) {
      return null;
    }
  }
  return false;
}
function createSubResolver(parentScopes, resolver, prop, value) {
  const rootScopes = resolver._rootScopes;
  const fallback = resolveFallback(resolver._fallback, prop, value);
  const allScopes = [...parentScopes, ...rootScopes];
  const set2 = /* @__PURE__ */ new Set();
  set2.add(value);
  let key = addScopesFromKey(set2, allScopes, prop, fallback || prop, value);
  if (key === null) {
    return false;
  }
  if (typeof fallback !== "undefined" && fallback !== prop) {
    key = addScopesFromKey(set2, allScopes, fallback, key, value);
    if (key === null) {
      return false;
    }
  }
  return _createResolver(Array.from(set2), [""], rootScopes, fallback, () => subGetTarget(resolver, prop, value));
}
function addScopesFromKey(set2, allScopes, key, fallback, item) {
  while (key) {
    key = addScopes(set2, allScopes, key, fallback, item);
  }
  return key;
}
function subGetTarget(resolver, prop, value) {
  const parent = resolver._getTarget();
  if (!(prop in parent)) {
    parent[prop] = {};
  }
  const target = parent[prop];
  if (isArray(target) && isObject(value)) {
    return value;
  }
  return target || {};
}
function _resolveWithPrefixes(prop, prefixes, scopes, proxy) {
  let value;
  for (const prefix of prefixes) {
    value = _resolve(readKey(prefix, prop), scopes);
    if (typeof value !== "undefined") {
      return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;
    }
  }
}
function _resolve(key, scopes) {
  for (const scope of scopes) {
    if (!scope) {
      continue;
    }
    const value = scope[key];
    if (typeof value !== "undefined") {
      return value;
    }
  }
}
function getKeysFromAllScopes(target) {
  let keys = target._keys;
  if (!keys) {
    keys = target._keys = resolveKeysFromAllScopes(target._scopes);
  }
  return keys;
}
function resolveKeysFromAllScopes(scopes) {
  const set2 = /* @__PURE__ */ new Set();
  for (const scope of scopes) {
    for (const key of Object.keys(scope).filter((k) => !k.startsWith("_"))) {
      set2.add(key);
    }
  }
  return Array.from(set2);
}
function _parseObjectDataRadialScale(meta, data, start, count) {
  const {
    iScale
  } = meta;
  const {
    key = "r"
  } = this._parsing;
  const parsed = new Array(count);
  let i, ilen, index2, item;
  for (i = 0, ilen = count; i < ilen; ++i) {
    index2 = i + start;
    item = data[index2];
    parsed[i] = {
      r: iScale.parse(resolveObjectKey(item, key), index2)
    };
  }
  return parsed;
}
var EPSILON = Number.EPSILON || 1e-14;
var getPoint = (points, i) => i < points.length && !points[i].skip && points[i];
var getValueAxis = (indexAxis) => indexAxis === "x" ? "y" : "x";
function splineCurve(firstPoint, middlePoint, afterPoint, t) {
  const previous = firstPoint.skip ? middlePoint : firstPoint;
  const current = middlePoint;
  const next = afterPoint.skip ? middlePoint : afterPoint;
  const d01 = distanceBetweenPoints(current, previous);
  const d12 = distanceBetweenPoints(next, current);
  let s01 = d01 / (d01 + d12);
  let s12 = d12 / (d01 + d12);
  s01 = isNaN(s01) ? 0 : s01;
  s12 = isNaN(s12) ? 0 : s12;
  const fa = t * s01;
  const fb = t * s12;
  return {
    previous: {
      x: current.x - fa * (next.x - previous.x),
      y: current.y - fa * (next.y - previous.y)
    },
    next: {
      x: current.x + fb * (next.x - previous.x),
      y: current.y + fb * (next.y - previous.y)
    }
  };
}
function monotoneAdjust(points, deltaK, mK) {
  const pointsLen = points.length;
  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen - 1; ++i) {
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent || !pointAfter) {
      continue;
    }
    if (almostEquals(deltaK[i], 0, EPSILON)) {
      mK[i] = mK[i + 1] = 0;
      continue;
    }
    alphaK = mK[i] / deltaK[i];
    betaK = mK[i + 1] / deltaK[i];
    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);
    if (squaredMagnitude <= 9) {
      continue;
    }
    tauK = 3 / Math.sqrt(squaredMagnitude);
    mK[i] = alphaK * tauK * deltaK[i];
    mK[i + 1] = betaK * tauK * deltaK[i];
  }
}
function monotoneCompute(points, mK, indexAxis = "x") {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  let delta, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    const iPixel = pointCurrent[indexAxis];
    const vPixel = pointCurrent[valueAxis];
    if (pointBefore) {
      delta = (iPixel - pointBefore[indexAxis]) / 3;
      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;
      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];
    }
    if (pointAfter) {
      delta = (pointAfter[indexAxis] - iPixel) / 3;
      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;
      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];
    }
  }
}
function splineCurveMonotone(points, indexAxis = "x") {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  const deltaK = Array(pointsLen).fill(0);
  const mK = Array(pointsLen);
  let i, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    if (pointAfter) {
      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];
      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;
    }
    mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;
  }
  monotoneAdjust(points, deltaK, mK);
  monotoneCompute(points, mK, indexAxis);
}
function capControlPoint(pt, min, max) {
  return Math.max(Math.min(pt, max), min);
}
function capBezierPoints(points, area) {
  let i, ilen, point, inArea, inAreaPrev;
  let inAreaNext = _isPointInArea(points[0], area);
  for (i = 0, ilen = points.length; i < ilen; ++i) {
    inAreaPrev = inArea;
    inArea = inAreaNext;
    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);
    if (!inArea) {
      continue;
    }
    point = points[i];
    if (inAreaPrev) {
      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);
      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);
    }
    if (inAreaNext) {
      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);
      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);
    }
  }
}
function _updateBezierControlPoints(points, options, area, loop, indexAxis) {
  let i, ilen, point, controlPoints;
  if (options.spanGaps) {
    points = points.filter((pt) => !pt.skip);
  }
  if (options.cubicInterpolationMode === "monotone") {
    splineCurveMonotone(points, indexAxis);
  } else {
    let prev = loop ? points[points.length - 1] : points[0];
    for (i = 0, ilen = points.length; i < ilen; ++i) {
      point = points[i];
      controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);
      point.cp1x = controlPoints.previous.x;
      point.cp1y = controlPoints.previous.y;
      point.cp2x = controlPoints.next.x;
      point.cp2y = controlPoints.next.y;
      prev = point;
    }
  }
  if (options.capBezierPoints) {
    capBezierPoints(points, area);
  }
}
function _isDomSupported() {
  return typeof window !== "undefined" && typeof document !== "undefined";
}
function _getParentNode(domNode) {
  let parent = domNode.parentNode;
  if (parent && parent.toString() === "[object ShadowRoot]") {
    parent = parent.host;
  }
  return parent;
}
function parseMaxStyle(styleValue, node, parentProperty) {
  let valueInPixels;
  if (typeof styleValue === "string") {
    valueInPixels = parseInt(styleValue, 10);
    if (styleValue.indexOf("%") !== -1) {
      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];
    }
  } else {
    valueInPixels = styleValue;
  }
  return valueInPixels;
}
var getComputedStyle = (element) => element.ownerDocument.defaultView.getComputedStyle(element, null);
function getStyle(el, property) {
  return getComputedStyle(el).getPropertyValue(property);
}
var positions = ["top", "right", "bottom", "left"];
function getPositionedStyle(styles, style2, suffix) {
  const result = {};
  suffix = suffix ? "-" + suffix : "";
  for (let i = 0; i < 4; i++) {
    const pos = positions[i];
    result[pos] = parseFloat(styles[style2 + "-" + pos + suffix]) || 0;
  }
  result.width = result.left + result.right;
  result.height = result.top + result.bottom;
  return result;
}
var useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);
function getCanvasPosition(e, canvas) {
  const touches = e.touches;
  const source = touches && touches.length ? touches[0] : e;
  const {
    offsetX,
    offsetY
  } = source;
  let box = false;
  let x, y;
  if (useOffsetPos(offsetX, offsetY, e.target)) {
    x = offsetX;
    y = offsetY;
  } else {
    const rect = canvas.getBoundingClientRect();
    x = source.clientX - rect.left;
    y = source.clientY - rect.top;
    box = true;
  }
  return {
    x,
    y,
    box
  };
}
function getRelativePosition(event, chart) {
  if ("native" in event) {
    return event;
  }
  const {
    canvas,
    currentDevicePixelRatio
  } = chart;
  const style2 = getComputedStyle(canvas);
  const borderBox = style2.boxSizing === "border-box";
  const paddings = getPositionedStyle(style2, "padding");
  const borders = getPositionedStyle(style2, "border", "width");
  const {
    x,
    y,
    box
  } = getCanvasPosition(event, canvas);
  const xOffset = paddings.left + (box && borders.left);
  const yOffset = paddings.top + (box && borders.top);
  let {
    width,
    height
  } = chart;
  if (borderBox) {
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  return {
    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),
    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)
  };
}
function getContainerSize(canvas, width, height) {
  let maxWidth, maxHeight;
  if (width === void 0 || height === void 0) {
    const container = canvas && _getParentNode(canvas);
    if (!container) {
      width = canvas.clientWidth;
      height = canvas.clientHeight;
    } else {
      const rect = container.getBoundingClientRect();
      const containerStyle = getComputedStyle(container);
      const containerBorder = getPositionedStyle(containerStyle, "border", "width");
      const containerPadding = getPositionedStyle(containerStyle, "padding");
      width = rect.width - containerPadding.width - containerBorder.width;
      height = rect.height - containerPadding.height - containerBorder.height;
      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, "clientWidth");
      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, "clientHeight");
    }
  }
  return {
    width,
    height,
    maxWidth: maxWidth || INFINITY,
    maxHeight: maxHeight || INFINITY
  };
}
var round1 = (v) => Math.round(v * 10) / 10;
function getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {
  const style2 = getComputedStyle(canvas);
  const margins = getPositionedStyle(style2, "margin");
  const maxWidth = parseMaxStyle(style2.maxWidth, canvas, "clientWidth") || INFINITY;
  const maxHeight = parseMaxStyle(style2.maxHeight, canvas, "clientHeight") || INFINITY;
  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);
  let {
    width,
    height
  } = containerSize;
  if (style2.boxSizing === "content-box") {
    const borders = getPositionedStyle(style2, "border", "width");
    const paddings = getPositionedStyle(style2, "padding");
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  width = Math.max(0, width - margins.width);
  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);
  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));
  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));
  if (width && !height) {
    height = round1(width / 2);
  }
  const maintainHeight = bbWidth !== void 0 || bbHeight !== void 0;
  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {
    height = containerSize.height;
    width = round1(Math.floor(height * aspectRatio));
  }
  return {
    width,
    height
  };
}
function retinaScale(chart, forceRatio, forceStyle) {
  const pixelRatio = forceRatio || 1;
  const deviceHeight = Math.floor(chart.height * pixelRatio);
  const deviceWidth = Math.floor(chart.width * pixelRatio);
  chart.height = Math.floor(chart.height);
  chart.width = Math.floor(chart.width);
  const canvas = chart.canvas;
  if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {
    canvas.style.height = `${chart.height}px`;
    canvas.style.width = `${chart.width}px`;
  }
  if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {
    chart.currentDevicePixelRatio = pixelRatio;
    canvas.height = deviceHeight;
    canvas.width = deviceWidth;
    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
    return true;
  }
  return false;
}
var supportsEventListenerOptions = function() {
  let passiveSupported = false;
  try {
    const options = {
      get passive() {
        passiveSupported = true;
        return false;
      }
    };
    if (_isDomSupported()) {
      window.addEventListener("test", null, options);
      window.removeEventListener("test", null, options);
    }
  } catch (e) {
  }
  return passiveSupported;
}();
function readUsedSize(element, property) {
  const value = getStyle(element, property);
  const matches = value && value.match(/^(\d+)(\.\d+)?px$/);
  return matches ? +matches[1] : void 0;
}
function _pointInLine(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: p1.y + t * (p2.y - p1.y)
  };
}
function _steppedInterpolation(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: mode === "middle" ? t < 0.5 ? p1.y : p2.y : mode === "after" ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y
  };
}
function _bezierInterpolation(p1, p2, t, mode) {
  const cp1 = {
    x: p1.cp2x,
    y: p1.cp2y
  };
  const cp2 = {
    x: p2.cp1x,
    y: p2.cp1y
  };
  const a = _pointInLine(p1, cp1, t);
  const b = _pointInLine(cp1, cp2, t);
  const c = _pointInLine(cp2, p2, t);
  const d = _pointInLine(a, b, t);
  const e = _pointInLine(b, c, t);
  return _pointInLine(d, e, t);
}
var getRightToLeftAdapter = function(rectX, width) {
  return {
    x(x) {
      return rectX + rectX + width - x;
    },
    setWidth(w) {
      width = w;
    },
    textAlign(align) {
      if (align === "center") {
        return align;
      }
      return align === "right" ? "left" : "right";
    },
    xPlus(x, value) {
      return x - value;
    },
    leftForLtr(x, itemWidth) {
      return x - itemWidth;
    }
  };
};
var getLeftToRightAdapter = function() {
  return {
    x(x) {
      return x;
    },
    setWidth(w) {
    },
    textAlign(align) {
      return align;
    },
    xPlus(x, value) {
      return x + value;
    },
    leftForLtr(x, _itemWidth) {
      return x;
    }
  };
};
function getRtlAdapter(rtl, rectX, width) {
  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();
}
function overrideTextDirection(ctx, direction) {
  let style2, original;
  if (direction === "ltr" || direction === "rtl") {
    style2 = ctx.canvas.style;
    original = [style2.getPropertyValue("direction"), style2.getPropertyPriority("direction")];
    style2.setProperty("direction", direction, "important");
    ctx.prevTextDirection = original;
  }
}
function restoreTextDirection(ctx, original) {
  if (original !== void 0) {
    delete ctx.prevTextDirection;
    ctx.canvas.style.setProperty("direction", original[0], original[1]);
  }
}
function propertyFn(property) {
  if (property === "angle") {
    return {
      between: _angleBetween,
      compare: _angleDiff,
      normalize: _normalizeAngle
    };
  }
  return {
    between: _isBetween,
    compare: (a, b) => a - b,
    normalize: (x) => x
  };
}
function normalizeSegment({
  start,
  end,
  count,
  loop,
  style: style2
}) {
  return {
    start: start % count,
    end: end % count,
    loop: loop && (end - start + 1) % count === 0,
    style: style2
  };
}
function getSegment(segment, points, bounds) {
  const {
    property,
    start: startBound,
    end: endBound
  } = bounds;
  const {
    between,
    normalize
  } = propertyFn(property);
  const count = points.length;
  let {
    start,
    end,
    loop
  } = segment;
  let i, ilen;
  if (loop) {
    start += count;
    end += count;
    for (i = 0, ilen = count; i < ilen; ++i) {
      if (!between(normalize(points[start % count][property]), startBound, endBound)) {
        break;
      }
      start--;
      end--;
    }
    start %= count;
    end %= count;
  }
  if (end < start) {
    end += count;
  }
  return {
    start,
    end,
    loop,
    style: segment.style
  };
}
function _boundSegment(segment, points, bounds) {
  if (!bounds) {
    return [segment];
  }
  const {
    property,
    start: startBound,
    end: endBound
  } = bounds;
  const count = points.length;
  const {
    compare,
    between,
    normalize
  } = propertyFn(property);
  const {
    start,
    end,
    loop,
    style: style2
  } = getSegment(segment, points, bounds);
  const result = [];
  let inside = false;
  let subStart = null;
  let value, point, prevValue;
  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;
  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);
  const shouldStart = () => inside || startIsBefore();
  const shouldStop = () => !inside || endIsBefore();
  for (let i = start, prev = start; i <= end; ++i) {
    point = points[i % count];
    if (point.skip) {
      continue;
    }
    value = normalize(point[property]);
    if (value === prevValue) {
      continue;
    }
    inside = between(value, startBound, endBound);
    if (subStart === null && shouldStart()) {
      subStart = compare(value, startBound) === 0 ? i : prev;
    }
    if (subStart !== null && shouldStop()) {
      result.push(normalizeSegment({
        start: subStart,
        end: i,
        loop,
        count,
        style: style2
      }));
      subStart = null;
    }
    prev = i;
    prevValue = value;
  }
  if (subStart !== null) {
    result.push(normalizeSegment({
      start: subStart,
      end,
      loop,
      count,
      style: style2
    }));
  }
  return result;
}
function _boundSegments(line, bounds) {
  const result = [];
  const segments = line.segments;
  for (let i = 0; i < segments.length; i++) {
    const sub = _boundSegment(segments[i], line.points, bounds);
    if (sub.length) {
      result.push(...sub);
    }
  }
  return result;
}
function findStartAndEnd(points, count, loop, spanGaps) {
  let start = 0;
  let end = count - 1;
  if (loop && !spanGaps) {
    while (start < count && !points[start].skip) {
      start++;
    }
  }
  while (start < count && points[start].skip) {
    start++;
  }
  start %= count;
  if (loop) {
    end += start;
  }
  while (end > start && points[end % count].skip) {
    end--;
  }
  end %= count;
  return {
    start,
    end
  };
}
function solidSegments(points, start, max, loop) {
  const count = points.length;
  const result = [];
  let last = start;
  let prev = points[start];
  let end;
  for (end = start + 1; end <= max; ++end) {
    const cur = points[end % count];
    if (cur.skip || cur.stop) {
      if (!prev.skip) {
        loop = false;
        result.push({
          start: start % count,
          end: (end - 1) % count,
          loop
        });
        start = last = cur.stop ? end : null;
      }
    } else {
      last = end;
      if (prev.skip) {
        start = end;
      }
    }
    prev = cur;
  }
  if (last !== null) {
    result.push({
      start: start % count,
      end: last % count,
      loop
    });
  }
  return result;
}
function _computeSegments(line, segmentOptions) {
  const points = line.points;
  const spanGaps = line.options.spanGaps;
  const count = points.length;
  if (!count) {
    return [];
  }
  const loop = !!line._loop;
  const {
    start,
    end
  } = findStartAndEnd(points, count, loop, spanGaps);
  if (spanGaps === true) {
    return splitByStyles(line, [{
      start,
      end,
      loop
    }], points, segmentOptions);
  }
  const max = end < start ? end + count : end;
  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;
  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);
}
function splitByStyles(line, segments, points, segmentOptions) {
  if (!segmentOptions || !segmentOptions.setContext || !points) {
    return segments;
  }
  return doSplitByStyles(line, segments, points, segmentOptions);
}
function doSplitByStyles(line, segments, points, segmentOptions) {
  const chartContext = line._chart.getContext();
  const baseStyle = readStyle(line.options);
  const {
    _datasetIndex: datasetIndex,
    options: {
      spanGaps
    }
  } = line;
  const count = points.length;
  const result = [];
  let prevStyle = baseStyle;
  let start = segments[0].start;
  let i = start;
  function addStyle(s, e, l, st) {
    const dir = spanGaps ? -1 : 1;
    if (s === e) {
      return;
    }
    s += count;
    while (points[s % count].skip) {
      s -= dir;
    }
    while (points[e % count].skip) {
      e += dir;
    }
    if (s % count !== e % count) {
      result.push({
        start: s % count,
        end: e % count,
        loop: l,
        style: st
      });
      prevStyle = st;
      start = e % count;
    }
  }
  for (const segment of segments) {
    start = spanGaps ? start : segment.start;
    let prev = points[start % count];
    let style2;
    for (i = start + 1; i <= segment.end; i++) {
      const pt = points[i % count];
      style2 = readStyle(segmentOptions.setContext(createContext(chartContext, {
        type: "segment",
        p0: prev,
        p1: pt,
        p0DataIndex: (i - 1) % count,
        p1DataIndex: i % count,
        datasetIndex
      })));
      if (styleChanged(style2, prevStyle)) {
        addStyle(start, i - 1, segment.loop, prevStyle);
      }
      prev = pt;
      prevStyle = style2;
    }
    if (start < i - 1) {
      addStyle(start, i - 1, segment.loop, prevStyle);
    }
  }
  return result;
}
function readStyle(options) {
  return {
    backgroundColor: options.backgroundColor,
    borderCapStyle: options.borderCapStyle,
    borderDash: options.borderDash,
    borderDashOffset: options.borderDashOffset,
    borderJoinStyle: options.borderJoinStyle,
    borderWidth: options.borderWidth,
    borderColor: options.borderColor
  };
}
function styleChanged(style2, prevStyle) {
  if (!prevStyle) {
    return false;
  }
  const cache = [];
  const replacer = function(key, value) {
    if (!isPatternOrGradient(value)) {
      return value;
    }
    if (!cache.includes(value)) {
      cache.push(value);
    }
    return cache.indexOf(value);
  };
  return JSON.stringify(style2, replacer) !== JSON.stringify(prevStyle, replacer);
}
function getSizeForArea(scale, chartArea, field) {
  return scale.options.clip ? scale[field] : chartArea[field];
}
function getDatasetArea(meta, chartArea) {
  const {
    xScale,
    yScale
  } = meta;
  if (xScale && yScale) {
    return {
      left: getSizeForArea(xScale, chartArea, "left"),
      right: getSizeForArea(xScale, chartArea, "right"),
      top: getSizeForArea(yScale, chartArea, "top"),
      bottom: getSizeForArea(yScale, chartArea, "bottom")
    };
  }
  return chartArea;
}
function getDatasetClipArea(chart, meta) {
  const clip = meta._clip;
  if (clip.disabled) {
    return false;
  }
  const area = getDatasetArea(meta, chart.chartArea);
  return {
    left: clip.left === false ? 0 : area.left - (clip.left === true ? 0 : clip.left),
    right: clip.right === false ? chart.width : area.right + (clip.right === true ? 0 : clip.right),
    top: clip.top === false ? 0 : area.top - (clip.top === true ? 0 : clip.top),
    bottom: clip.bottom === false ? chart.height : area.bottom + (clip.bottom === true ? 0 : clip.bottom)
  };
}

// node_modules/chart.js/dist/chart.js
var Animator = class {
  constructor() {
    this._request = null;
    this._charts = /* @__PURE__ */ new Map();
    this._running = false;
    this._lastDate = void 0;
  }
  _notify(chart, anims, date, type) {
    const callbacks = anims.listeners[type];
    const numSteps = anims.duration;
    callbacks.forEach((fn) => fn({
      chart,
      initial: anims.initial,
      numSteps,
      currentStep: Math.min(date - anims.start, numSteps)
    }));
  }
  _refresh() {
    if (this._request) {
      return;
    }
    this._running = true;
    this._request = requestAnimFrame.call(window, () => {
      this._update();
      this._request = null;
      if (this._running) {
        this._refresh();
      }
    });
  }
  _update(date = Date.now()) {
    let remaining = 0;
    this._charts.forEach((anims, chart) => {
      if (!anims.running || !anims.items.length) {
        return;
      }
      const items = anims.items;
      let i = items.length - 1;
      let draw2 = false;
      let item;
      for (; i >= 0; --i) {
        item = items[i];
        if (item._active) {
          if (item._total > anims.duration) {
            anims.duration = item._total;
          }
          item.tick(date);
          draw2 = true;
        } else {
          items[i] = items[items.length - 1];
          items.pop();
        }
      }
      if (draw2) {
        chart.draw();
        this._notify(chart, anims, date, "progress");
      }
      if (!items.length) {
        anims.running = false;
        this._notify(chart, anims, date, "complete");
        anims.initial = false;
      }
      remaining += items.length;
    });
    this._lastDate = date;
    if (remaining === 0) {
      this._running = false;
    }
  }
  _getAnims(chart) {
    const charts = this._charts;
    let anims = charts.get(chart);
    if (!anims) {
      anims = {
        running: false,
        initial: true,
        items: [],
        listeners: {
          complete: [],
          progress: []
        }
      };
      charts.set(chart, anims);
    }
    return anims;
  }
  listen(chart, event, cb) {
    this._getAnims(chart).listeners[event].push(cb);
  }
  add(chart, items) {
    if (!items || !items.length) {
      return;
    }
    this._getAnims(chart).items.push(...items);
  }
  has(chart) {
    return this._getAnims(chart).items.length > 0;
  }
  start(chart) {
    const anims = this._charts.get(chart);
    if (!anims) {
      return;
    }
    anims.running = true;
    anims.start = Date.now();
    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);
    this._refresh();
  }
  running(chart) {
    if (!this._running) {
      return false;
    }
    const anims = this._charts.get(chart);
    if (!anims || !anims.running || !anims.items.length) {
      return false;
    }
    return true;
  }
  stop(chart) {
    const anims = this._charts.get(chart);
    if (!anims || !anims.items.length) {
      return;
    }
    const items = anims.items;
    let i = items.length - 1;
    for (; i >= 0; --i) {
      items[i].cancel();
    }
    anims.items = [];
    this._notify(chart, anims, Date.now(), "complete");
  }
  remove(chart) {
    return this._charts.delete(chart);
  }
};
var animator = /* @__PURE__ */ new Animator();
var transparent = "transparent";
var interpolators = {
  boolean(from2, to2, factor) {
    return factor > 0.5 ? to2 : from2;
  },
  color(from2, to2, factor) {
    const c0 = color(from2 || transparent);
    const c1 = c0.valid && color(to2 || transparent);
    return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to2;
  },
  number(from2, to2, factor) {
    return from2 + (to2 - from2) * factor;
  }
};
var Animation = class {
  constructor(cfg, target, prop, to2) {
    const currentValue = target[prop];
    to2 = resolve([cfg.to, to2, currentValue, cfg.from]);
    const from2 = resolve([cfg.from, currentValue, to2]);
    this._active = true;
    this._fn = cfg.fn || interpolators[cfg.type || typeof from2];
    this._easing = effects[cfg.easing] || effects.linear;
    this._start = Math.floor(Date.now() + (cfg.delay || 0));
    this._duration = this._total = Math.floor(cfg.duration);
    this._loop = !!cfg.loop;
    this._target = target;
    this._prop = prop;
    this._from = from2;
    this._to = to2;
    this._promises = void 0;
  }
  active() {
    return this._active;
  }
  update(cfg, to2, date) {
    if (this._active) {
      this._notify(false);
      const currentValue = this._target[this._prop];
      const elapsed = date - this._start;
      const remain = this._duration - elapsed;
      this._start = date;
      this._duration = Math.floor(Math.max(remain, cfg.duration));
      this._total += elapsed;
      this._loop = !!cfg.loop;
      this._to = resolve([cfg.to, to2, currentValue, cfg.from]);
      this._from = resolve([cfg.from, currentValue, to2]);
    }
  }
  cancel() {
    if (this._active) {
      this.tick(Date.now());
      this._active = false;
      this._notify(false);
    }
  }
  tick(date) {
    const elapsed = date - this._start;
    const duration2 = this._duration;
    const prop = this._prop;
    const from2 = this._from;
    const loop = this._loop;
    const to2 = this._to;
    let factor;
    this._active = from2 !== to2 && (loop || elapsed < duration2);
    if (!this._active) {
      this._target[prop] = to2;
      this._notify(true);
      return;
    }
    if (elapsed < 0) {
      this._target[prop] = from2;
      return;
    }
    factor = elapsed / duration2 % 2;
    factor = loop && factor > 1 ? 2 - factor : factor;
    factor = this._easing(Math.min(1, Math.max(0, factor)));
    this._target[prop] = this._fn(from2, to2, factor);
  }
  wait() {
    const promises = this._promises || (this._promises = []);
    return new Promise((res, rej) => {
      promises.push({
        res,
        rej
      });
    });
  }
  _notify(resolved) {
    const method = resolved ? "res" : "rej";
    const promises = this._promises || [];
    for (let i = 0; i < promises.length; i++) {
      promises[i][method]();
    }
  }
};
var Animations = class {
  constructor(chart, config) {
    this._chart = chart;
    this._properties = /* @__PURE__ */ new Map();
    this.configure(config);
  }
  configure(config) {
    if (!isObject(config)) {
      return;
    }
    const animationOptions = Object.keys(defaults2.animation);
    const animatedProps = this._properties;
    Object.getOwnPropertyNames(config).forEach((key) => {
      const cfg = config[key];
      if (!isObject(cfg)) {
        return;
      }
      const resolved = {};
      for (const option of animationOptions) {
        resolved[option] = cfg[option];
      }
      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {
        if (prop === key || !animatedProps.has(prop)) {
          animatedProps.set(prop, resolved);
        }
      });
    });
  }
  _animateOptions(target, values) {
    const newOptions = values.options;
    const options = resolveTargetOptions(target, newOptions);
    if (!options) {
      return [];
    }
    const animations = this._createAnimations(options, newOptions);
    if (newOptions.$shared) {
      awaitAll(target.options.$animations, newOptions).then(() => {
        target.options = newOptions;
      }, () => {
      });
    }
    return animations;
  }
  _createAnimations(target, values) {
    const animatedProps = this._properties;
    const animations = [];
    const running = target.$animations || (target.$animations = {});
    const props = Object.keys(values);
    const date = Date.now();
    let i;
    for (i = props.length - 1; i >= 0; --i) {
      const prop = props[i];
      if (prop.charAt(0) === "$") {
        continue;
      }
      if (prop === "options") {
        animations.push(...this._animateOptions(target, values));
        continue;
      }
      const value = values[prop];
      let animation = running[prop];
      const cfg = animatedProps.get(prop);
      if (animation) {
        if (cfg && animation.active()) {
          animation.update(cfg, value, date);
          continue;
        } else {
          animation.cancel();
        }
      }
      if (!cfg || !cfg.duration) {
        target[prop] = value;
        continue;
      }
      running[prop] = animation = new Animation(cfg, target, prop, value);
      animations.push(animation);
    }
    return animations;
  }
  update(target, values) {
    if (this._properties.size === 0) {
      Object.assign(target, values);
      return;
    }
    const animations = this._createAnimations(target, values);
    if (animations.length) {
      animator.add(this._chart, animations);
      return true;
    }
  }
};
function awaitAll(animations, properties) {
  const running = [];
  const keys = Object.keys(properties);
  for (let i = 0; i < keys.length; i++) {
    const anim = animations[keys[i]];
    if (anim && anim.active()) {
      running.push(anim.wait());
    }
  }
  return Promise.all(running);
}
function resolveTargetOptions(target, newOptions) {
  if (!newOptions) {
    return;
  }
  let options = target.options;
  if (!options) {
    target.options = newOptions;
    return;
  }
  if (options.$shared) {
    target.options = options = Object.assign({}, options, {
      $shared: false,
      $animations: {}
    });
  }
  return options;
}
function scaleClip(scale, allowedOverflow) {
  const opts = scale && scale.options || {};
  const reverse = opts.reverse;
  const min = opts.min === void 0 ? allowedOverflow : 0;
  const max = opts.max === void 0 ? allowedOverflow : 0;
  return {
    start: reverse ? max : min,
    end: reverse ? min : max
  };
}
function defaultClip(xScale, yScale, allowedOverflow) {
  if (allowedOverflow === false) {
    return false;
  }
  const x = scaleClip(xScale, allowedOverflow);
  const y = scaleClip(yScale, allowedOverflow);
  return {
    top: y.end,
    right: x.end,
    bottom: y.start,
    left: x.start
  };
}
function toClip(value) {
  let t, r, b, l;
  if (isObject(value)) {
    t = value.top;
    r = value.right;
    b = value.bottom;
    l = value.left;
  } else {
    t = r = b = l = value;
  }
  return {
    top: t,
    right: r,
    bottom: b,
    left: l,
    disabled: value === false
  };
}
function getSortedDatasetIndices(chart, filterVisible) {
  const keys = [];
  const metasets = chart._getSortedDatasetMetas(filterVisible);
  let i, ilen;
  for (i = 0, ilen = metasets.length; i < ilen; ++i) {
    keys.push(metasets[i].index);
  }
  return keys;
}
function applyStack(stack, value, dsIndex, options = {}) {
  const keys = stack.keys;
  const singleMode = options.mode === "single";
  let i, ilen, datasetIndex, otherValue;
  if (value === null) {
    return;
  }
  let found = false;
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    datasetIndex = +keys[i];
    if (datasetIndex === dsIndex) {
      found = true;
      if (options.all) {
        continue;
      }
      break;
    }
    otherValue = stack.values[datasetIndex];
    if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {
      value += otherValue;
    }
  }
  if (!found && !options.all) {
    return 0;
  }
  return value;
}
function convertObjectDataToArray(data, meta) {
  const {
    iScale,
    vScale
  } = meta;
  const iAxisKey = iScale.axis === "x" ? "x" : "y";
  const vAxisKey = vScale.axis === "x" ? "x" : "y";
  const keys = Object.keys(data);
  const adata = new Array(keys.length);
  let i, ilen, key;
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    key = keys[i];
    adata[i] = {
      [iAxisKey]: key,
      [vAxisKey]: data[key]
    };
  }
  return adata;
}
function isStacked(scale, meta) {
  const stacked = scale && scale.options.stacked;
  return stacked || stacked === void 0 && meta.stack !== void 0;
}
function getStackKey(indexScale, valueScale, meta) {
  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;
}
function getUserBounds(scale) {
  const {
    min,
    max,
    minDefined,
    maxDefined
  } = scale.getUserBounds();
  return {
    min: minDefined ? min : Number.NEGATIVE_INFINITY,
    max: maxDefined ? max : Number.POSITIVE_INFINITY
  };
}
function getOrCreateStack(stacks, stackKey, indexValue) {
  const subStack = stacks[stackKey] || (stacks[stackKey] = {});
  return subStack[indexValue] || (subStack[indexValue] = {});
}
function getLastIndexInStack(stack, vScale, positive, type) {
  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {
    const value = stack[meta.index];
    if (positive && value > 0 || !positive && value < 0) {
      return meta.index;
    }
  }
  return null;
}
function updateStacks(controller, parsed) {
  const {
    chart,
    _cachedMeta: meta
  } = controller;
  const stacks = chart._stacks || (chart._stacks = {});
  const {
    iScale,
    vScale,
    index: datasetIndex
  } = meta;
  const iAxis = iScale.axis;
  const vAxis = vScale.axis;
  const key = getStackKey(iScale, vScale, meta);
  const ilen = parsed.length;
  let stack;
  for (let i = 0; i < ilen; ++i) {
    const item = parsed[i];
    const {
      [iAxis]: index2,
      [vAxis]: value
    } = item;
    const itemStacks = item._stacks || (item._stacks = {});
    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index2);
    stack[datasetIndex] = value;
    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);
    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);
    const visualValues = stack._visualValues || (stack._visualValues = {});
    visualValues[datasetIndex] = value;
  }
}
function getFirstScaleId(chart, axis) {
  const scales2 = chart.scales;
  return Object.keys(scales2).filter((key) => scales2[key].axis === axis).shift();
}
function createDatasetContext(parent, index2) {
  return createContext(parent, {
    active: false,
    dataset: void 0,
    datasetIndex: index2,
    index: index2,
    mode: "default",
    type: "dataset"
  });
}
function createDataContext(parent, index2, element) {
  return createContext(parent, {
    active: false,
    dataIndex: index2,
    parsed: void 0,
    raw: void 0,
    element,
    index: index2,
    mode: "default",
    type: "data"
  });
}
function clearStacks(meta, items) {
  const datasetIndex = meta.controller.index;
  const axis = meta.vScale && meta.vScale.axis;
  if (!axis) {
    return;
  }
  items = items || meta._parsed;
  for (const parsed of items) {
    const stacks = parsed._stacks;
    if (!stacks || stacks[axis] === void 0 || stacks[axis][datasetIndex] === void 0) {
      return;
    }
    delete stacks[axis][datasetIndex];
    if (stacks[axis]._visualValues !== void 0 && stacks[axis]._visualValues[datasetIndex] !== void 0) {
      delete stacks[axis]._visualValues[datasetIndex];
    }
  }
}
var isDirectUpdateMode = (mode) => mode === "reset" || mode === "none";
var cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);
var createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked && {
  keys: getSortedDatasetIndices(chart, true),
  values: null
};
var DatasetController = class {
  static defaults = {};
  static datasetElementType = null;
  static dataElementType = null;
  constructor(chart, datasetIndex) {
    this.chart = chart;
    this._ctx = chart.ctx;
    this.index = datasetIndex;
    this._cachedDataOpts = {};
    this._cachedMeta = this.getMeta();
    this._type = this._cachedMeta.type;
    this.options = void 0;
    this._parsing = false;
    this._data = void 0;
    this._objectData = void 0;
    this._sharedOptions = void 0;
    this._drawStart = void 0;
    this._drawCount = void 0;
    this.enableOptionSharing = false;
    this.supportsDecimation = false;
    this.$context = void 0;
    this._syncList = [];
    this.datasetElementType = new.target.datasetElementType;
    this.dataElementType = new.target.dataElementType;
    this.initialize();
  }
  initialize() {
    const meta = this._cachedMeta;
    this.configure();
    this.linkScales();
    meta._stacked = isStacked(meta.vScale, meta);
    this.addElements();
    if (this.options.fill && !this.chart.isPluginEnabled("filler")) {
      console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options");
    }
  }
  updateIndex(datasetIndex) {
    if (this.index !== datasetIndex) {
      clearStacks(this._cachedMeta);
    }
    this.index = datasetIndex;
  }
  linkScales() {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    const chooseId = (axis, x, y, r) => axis === "x" ? x : axis === "r" ? r : y;
    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, "x"));
    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, "y"));
    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, "r"));
    const indexAxis = meta.indexAxis;
    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);
    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);
    meta.xScale = this.getScaleForId(xid);
    meta.yScale = this.getScaleForId(yid);
    meta.rScale = this.getScaleForId(rid);
    meta.iScale = this.getScaleForId(iid);
    meta.vScale = this.getScaleForId(vid);
  }
  getDataset() {
    return this.chart.data.datasets[this.index];
  }
  getMeta() {
    return this.chart.getDatasetMeta(this.index);
  }
  getScaleForId(scaleID) {
    return this.chart.scales[scaleID];
  }
  _getOtherScale(scale) {
    const meta = this._cachedMeta;
    return scale === meta.iScale ? meta.vScale : meta.iScale;
  }
  reset() {
    this._update("reset");
  }
  _destroy() {
    const meta = this._cachedMeta;
    if (this._data) {
      unlistenArrayEvents(this._data, this);
    }
    if (meta._stacked) {
      clearStacks(meta);
    }
  }
  _dataCheck() {
    const dataset = this.getDataset();
    const data = dataset.data || (dataset.data = []);
    const _data = this._data;
    if (isObject(data)) {
      const meta = this._cachedMeta;
      this._data = convertObjectDataToArray(data, meta);
    } else if (_data !== data) {
      if (_data) {
        unlistenArrayEvents(_data, this);
        const meta = this._cachedMeta;
        clearStacks(meta);
        meta._parsed = [];
      }
      if (data && Object.isExtensible(data)) {
        listenArrayEvents(data, this);
      }
      this._syncList = [];
      this._data = data;
    }
  }
  addElements() {
    const meta = this._cachedMeta;
    this._dataCheck();
    if (this.datasetElementType) {
      meta.dataset = new this.datasetElementType();
    }
  }
  buildOrUpdateElements(resetNewElements) {
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    let stackChanged = false;
    this._dataCheck();
    const oldStacked = meta._stacked;
    meta._stacked = isStacked(meta.vScale, meta);
    if (meta.stack !== dataset.stack) {
      stackChanged = true;
      clearStacks(meta);
      meta.stack = dataset.stack;
    }
    this._resyncElements(resetNewElements);
    if (stackChanged || oldStacked !== meta._stacked) {
      updateStacks(this, meta._parsed);
      meta._stacked = isStacked(meta.vScale, meta);
    }
  }
  configure() {
    const config = this.chart.config;
    const scopeKeys = config.datasetScopeKeys(this._type);
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);
    this.options = config.createResolver(scopes, this.getContext());
    this._parsing = this.options.parsing;
    this._cachedDataOpts = {};
  }
  parse(start, count) {
    const {
      _cachedMeta: meta,
      _data: data
    } = this;
    const {
      iScale,
      _stacked
    } = meta;
    const iAxis = iScale.axis;
    let sorted = start === 0 && count === data.length ? true : meta._sorted;
    let prev = start > 0 && meta._parsed[start - 1];
    let i, cur, parsed;
    if (this._parsing === false) {
      meta._parsed = data;
      meta._sorted = true;
      parsed = data;
    } else {
      if (isArray(data[start])) {
        parsed = this.parseArrayData(meta, data, start, count);
      } else if (isObject(data[start])) {
        parsed = this.parseObjectData(meta, data, start, count);
      } else {
        parsed = this.parsePrimitiveData(meta, data, start, count);
      }
      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];
      for (i = 0; i < count; ++i) {
        meta._parsed[i + start] = cur = parsed[i];
        if (sorted) {
          if (isNotInOrderComparedToPrev()) {
            sorted = false;
          }
          prev = cur;
        }
      }
      meta._sorted = sorted;
    }
    if (_stacked) {
      updateStacks(this, parsed);
    }
  }
  parsePrimitiveData(meta, data, start, count) {
    const {
      iScale,
      vScale
    } = meta;
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const labels = iScale.getLabels();
    const singleScale = iScale === vScale;
    const parsed = new Array(count);
    let i, ilen, index2;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index2 = i + start;
      parsed[i] = {
        [iAxis]: singleScale || iScale.parse(labels[index2], index2),
        [vAxis]: vScale.parse(data[index2], index2)
      };
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const {
      xScale,
      yScale
    } = meta;
    const parsed = new Array(count);
    let i, ilen, index2, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index2 = i + start;
      item = data[index2];
      parsed[i] = {
        x: xScale.parse(item[0], index2),
        y: yScale.parse(item[1], index2)
      };
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const {
      xScale,
      yScale
    } = meta;
    const {
      xAxisKey = "x",
      yAxisKey = "y"
    } = this._parsing;
    const parsed = new Array(count);
    let i, ilen, index2, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index2 = i + start;
      item = data[index2];
      parsed[i] = {
        x: xScale.parse(resolveObjectKey(item, xAxisKey), index2),
        y: yScale.parse(resolveObjectKey(item, yAxisKey), index2)
      };
    }
    return parsed;
  }
  getParsed(index2) {
    return this._cachedMeta._parsed[index2];
  }
  getDataElement(index2) {
    return this._cachedMeta.data[index2];
  }
  applyStack(scale, parsed, mode) {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const value = parsed[scale.axis];
    const stack = {
      keys: getSortedDatasetIndices(chart, true),
      values: parsed._stacks[scale.axis]._visualValues
    };
    return applyStack(stack, value, meta.index, {
      mode
    });
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    const parsedValue = parsed[scale.axis];
    let value = parsedValue === null ? NaN : parsedValue;
    const values = stack && parsed._stacks[scale.axis];
    if (stack && values) {
      stack.values = values;
      value = applyStack(stack, parsedValue, this._cachedMeta.index);
    }
    range.min = Math.min(range.min, value);
    range.max = Math.max(range.max, value);
  }
  getMinMax(scale, canStack) {
    const meta = this._cachedMeta;
    const _parsed = meta._parsed;
    const sorted = meta._sorted && scale === meta.iScale;
    const ilen = _parsed.length;
    const otherScale = this._getOtherScale(scale);
    const stack = createStack(canStack, meta, this.chart);
    const range = {
      min: Number.POSITIVE_INFINITY,
      max: Number.NEGATIVE_INFINITY
    };
    const {
      min: otherMin,
      max: otherMax
    } = getUserBounds(otherScale);
    let i, parsed;
    function _skip() {
      parsed = _parsed[i];
      const otherValue = parsed[otherScale.axis];
      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;
    }
    for (i = 0; i < ilen; ++i) {
      if (_skip()) {
        continue;
      }
      this.updateRangeFromParsed(range, scale, parsed, stack);
      if (sorted) {
        break;
      }
    }
    if (sorted) {
      for (i = ilen - 1; i >= 0; --i) {
        if (_skip()) {
          continue;
        }
        this.updateRangeFromParsed(range, scale, parsed, stack);
        break;
      }
    }
    return range;
  }
  getAllParsedValues(scale) {
    const parsed = this._cachedMeta._parsed;
    const values = [];
    let i, ilen, value;
    for (i = 0, ilen = parsed.length; i < ilen; ++i) {
      value = parsed[i][scale.axis];
      if (isNumberFinite(value)) {
        values.push(value);
      }
    }
    return values;
  }
  getMaxOverflow() {
    return false;
  }
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const vScale = meta.vScale;
    const parsed = this.getParsed(index2);
    return {
      label: iScale ? "" + iScale.getLabelForValue(parsed[iScale.axis]) : "",
      value: vScale ? "" + vScale.getLabelForValue(parsed[vScale.axis]) : ""
    };
  }
  _update(mode) {
    const meta = this._cachedMeta;
    this.update(mode || "default");
    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));
  }
  update(mode) {
  }
  draw() {
    const ctx = this._ctx;
    const chart = this.chart;
    const meta = this._cachedMeta;
    const elements2 = meta.data || [];
    const area = chart.chartArea;
    const active = [];
    const start = this._drawStart || 0;
    const count = this._drawCount || elements2.length - start;
    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;
    let i;
    if (meta.dataset) {
      meta.dataset.draw(ctx, area, start, count);
    }
    for (i = start; i < start + count; ++i) {
      const element = elements2[i];
      if (element.hidden) {
        continue;
      }
      if (element.active && drawActiveElementsOnTop) {
        active.push(element);
      } else {
        element.draw(ctx, area);
      }
    }
    for (i = 0; i < active.length; ++i) {
      active[i].draw(ctx, area);
    }
  }
  getStyle(index2, active) {
    const mode = active ? "active" : "default";
    return index2 === void 0 && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index2 || 0, mode);
  }
  getContext(index2, active, mode) {
    const dataset = this.getDataset();
    let context;
    if (index2 >= 0 && index2 < this._cachedMeta.data.length) {
      const element = this._cachedMeta.data[index2];
      context = element.$context || (element.$context = createDataContext(this.getContext(), index2, element));
      context.parsed = this.getParsed(index2);
      context.raw = dataset.data[index2];
      context.index = context.dataIndex = index2;
    } else {
      context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));
      context.dataset = dataset;
      context.index = context.datasetIndex = this.index;
    }
    context.active = !!active;
    context.mode = mode;
    return context;
  }
  resolveDatasetElementOptions(mode) {
    return this._resolveElementOptions(this.datasetElementType.id, mode);
  }
  resolveDataElementOptions(index2, mode) {
    return this._resolveElementOptions(this.dataElementType.id, mode, index2);
  }
  _resolveElementOptions(elementType, mode = "default", index2) {
    const active = mode === "active";
    const cache = this._cachedDataOpts;
    const cacheKey = elementType + "-" + mode;
    const cached = cache[cacheKey];
    const sharing = this.enableOptionSharing && defined(index2);
    if (cached) {
      return cloneIfNotShared(cached, sharing);
    }
    const config = this.chart.config;
    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);
    const prefixes = active ? [`${elementType}Hover`, "hover", elementType, ""] : [elementType, ""];
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
    const names2 = Object.keys(defaults2.elements[elementType]);
    const context = () => this.getContext(index2, active, mode);
    const values = config.resolveNamedOptions(scopes, names2, context, prefixes);
    if (values.$shared) {
      values.$shared = sharing;
      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));
    }
    return values;
  }
  _resolveAnimations(index2, transition2, active) {
    const chart = this.chart;
    const cache = this._cachedDataOpts;
    const cacheKey = `animation-${transition2}`;
    const cached = cache[cacheKey];
    if (cached) {
      return cached;
    }
    let options;
    if (chart.options.animation !== false) {
      const config = this.chart.config;
      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition2);
      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
      options = config.createResolver(scopes, this.getContext(index2, active, transition2));
    }
    const animations = new Animations(chart, options && options.animations);
    if (options && options._cacheable) {
      cache[cacheKey] = Object.freeze(animations);
    }
    return animations;
  }
  getSharedOptions(options) {
    if (!options.$shared) {
      return;
    }
    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));
  }
  includeOptions(mode, sharedOptions) {
    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;
  }
  _getSharedOptions(start, mode) {
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const previouslySharedOptions = this._sharedOptions;
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
    return {
      sharedOptions,
      includeOptions
    };
  }
  updateElement(element, index2, properties, mode) {
    if (isDirectUpdateMode(mode)) {
      Object.assign(element, properties);
    } else {
      this._resolveAnimations(index2, mode).update(element, properties);
    }
  }
  updateSharedOptions(sharedOptions, mode, newOptions) {
    if (sharedOptions && !isDirectUpdateMode(mode)) {
      this._resolveAnimations(void 0, mode).update(sharedOptions, newOptions);
    }
  }
  _setStyle(element, index2, mode, active) {
    element.active = active;
    const options = this.getStyle(index2, active);
    this._resolveAnimations(index2, mode, active).update(element, {
      options: !active && this.getSharedOptions(options) || options
    });
  }
  removeHoverStyle(element, datasetIndex, index2) {
    this._setStyle(element, index2, "active", false);
  }
  setHoverStyle(element, datasetIndex, index2) {
    this._setStyle(element, index2, "active", true);
  }
  _removeDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, void 0, "active", false);
    }
  }
  _setDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, void 0, "active", true);
    }
  }
  _resyncElements(resetNewElements) {
    const data = this._data;
    const elements2 = this._cachedMeta.data;
    for (const [method, arg1, arg2] of this._syncList) {
      this[method](arg1, arg2);
    }
    this._syncList = [];
    const numMeta = elements2.length;
    const numData = data.length;
    const count = Math.min(numData, numMeta);
    if (count) {
      this.parse(0, count);
    }
    if (numData > numMeta) {
      this._insertElements(numMeta, numData - numMeta, resetNewElements);
    } else if (numData < numMeta) {
      this._removeElements(numData, numMeta - numData);
    }
  }
  _insertElements(start, count, resetNewElements = true) {
    const meta = this._cachedMeta;
    const data = meta.data;
    const end = start + count;
    let i;
    const move = (arr) => {
      arr.length += count;
      for (i = arr.length - 1; i >= end; i--) {
        arr[i] = arr[i - count];
      }
    };
    move(data);
    for (i = start; i < end; ++i) {
      data[i] = new this.dataElementType();
    }
    if (this._parsing) {
      move(meta._parsed);
    }
    this.parse(start, count);
    if (resetNewElements) {
      this.updateElements(data, start, count, "reset");
    }
  }
  updateElements(element, start, count, mode) {
  }
  _removeElements(start, count) {
    const meta = this._cachedMeta;
    if (this._parsing) {
      const removed = meta._parsed.splice(start, count);
      if (meta._stacked) {
        clearStacks(meta, removed);
      }
    }
    meta.data.splice(start, count);
  }
  _sync(args) {
    if (this._parsing) {
      this._syncList.push(args);
    } else {
      const [method, arg1, arg2] = args;
      this[method](arg1, arg2);
    }
    this.chart._dataChanges.push([this.index, ...args]);
  }
  _onDataPush() {
    const count = arguments.length;
    this._sync(["_insertElements", this.getDataset().data.length - count, count]);
  }
  _onDataPop() {
    this._sync(["_removeElements", this._cachedMeta.data.length - 1, 1]);
  }
  _onDataShift() {
    this._sync(["_removeElements", 0, 1]);
  }
  _onDataSplice(start, count) {
    if (count) {
      this._sync(["_removeElements", start, count]);
    }
    const newCount = arguments.length - 2;
    if (newCount) {
      this._sync(["_insertElements", start, newCount]);
    }
  }
  _onDataUnshift() {
    this._sync(["_insertElements", 0, arguments.length]);
  }
};
function getAllScaleValues(scale, type) {
  if (!scale._cache.$bar) {
    const visibleMetas = scale.getMatchingVisibleMetas(type);
    let values = [];
    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {
      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));
    }
    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));
  }
  return scale._cache.$bar;
}
function computeMinSampleSize(meta) {
  const scale = meta.iScale;
  const values = getAllScaleValues(scale, meta.type);
  let min = scale._length;
  let i, ilen, curr, prev;
  const updateMinAndPrev = () => {
    if (curr === 32767 || curr === -32768) {
      return;
    }
    if (defined(prev)) {
      min = Math.min(min, Math.abs(curr - prev) || min);
    }
    prev = curr;
  };
  for (i = 0, ilen = values.length; i < ilen; ++i) {
    curr = scale.getPixelForValue(values[i]);
    updateMinAndPrev();
  }
  prev = void 0;
  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {
    curr = scale.getPixelForTick(i);
    updateMinAndPrev();
  }
  return min;
}
function computeFitCategoryTraits(index2, ruler, options, stackCount) {
  const thickness = options.barThickness;
  let size, ratio;
  if (isNullOrUndef(thickness)) {
    size = ruler.min * options.categoryPercentage;
    ratio = options.barPercentage;
  } else {
    size = thickness * stackCount;
    ratio = 1;
  }
  return {
    chunk: size / stackCount,
    ratio,
    start: ruler.pixels[index2] - size / 2
  };
}
function computeFlexCategoryTraits(index2, ruler, options, stackCount) {
  const pixels = ruler.pixels;
  const curr = pixels[index2];
  let prev = index2 > 0 ? pixels[index2 - 1] : null;
  let next = index2 < pixels.length - 1 ? pixels[index2 + 1] : null;
  const percent = options.categoryPercentage;
  if (prev === null) {
    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);
  }
  if (next === null) {
    next = curr + curr - prev;
  }
  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;
  const size = Math.abs(next - prev) / 2 * percent;
  return {
    chunk: size / stackCount,
    ratio: options.barPercentage,
    start
  };
}
function parseFloatBar(entry, item, vScale, i) {
  const startValue = vScale.parse(entry[0], i);
  const endValue = vScale.parse(entry[1], i);
  const min = Math.min(startValue, endValue);
  const max = Math.max(startValue, endValue);
  let barStart = min;
  let barEnd = max;
  if (Math.abs(min) > Math.abs(max)) {
    barStart = max;
    barEnd = min;
  }
  item[vScale.axis] = barEnd;
  item._custom = {
    barStart,
    barEnd,
    start: startValue,
    end: endValue,
    min,
    max
  };
}
function parseValue(entry, item, vScale, i) {
  if (isArray(entry)) {
    parseFloatBar(entry, item, vScale, i);
  } else {
    item[vScale.axis] = vScale.parse(entry, i);
  }
  return item;
}
function parseArrayOrPrimitive(meta, data, start, count) {
  const iScale = meta.iScale;
  const vScale = meta.vScale;
  const labels = iScale.getLabels();
  const singleScale = iScale === vScale;
  const parsed = [];
  let i, ilen, item, entry;
  for (i = start, ilen = start + count; i < ilen; ++i) {
    entry = data[i];
    item = {};
    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);
    parsed.push(parseValue(entry, item, vScale, i));
  }
  return parsed;
}
function isFloatBar(custom) {
  return custom && custom.barStart !== void 0 && custom.barEnd !== void 0;
}
function barSign(size, vScale, actualBase) {
  if (size !== 0) {
    return sign(size);
  }
  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);
}
function borderProps(properties) {
  let reverse, start, end, top, bottom;
  if (properties.horizontal) {
    reverse = properties.base > properties.x;
    start = "left";
    end = "right";
  } else {
    reverse = properties.base < properties.y;
    start = "bottom";
    end = "top";
  }
  if (reverse) {
    top = "end";
    bottom = "start";
  } else {
    top = "start";
    bottom = "end";
  }
  return {
    start,
    end,
    reverse,
    top,
    bottom
  };
}
function setBorderSkipped(properties, options, stack, index2) {
  let edge = options.borderSkipped;
  const res = {};
  if (!edge) {
    properties.borderSkipped = res;
    return;
  }
  if (edge === true) {
    properties.borderSkipped = {
      top: true,
      right: true,
      bottom: true,
      left: true
    };
    return;
  }
  const {
    start,
    end,
    reverse,
    top,
    bottom
  } = borderProps(properties);
  if (edge === "middle" && stack) {
    properties.enableBorderRadius = true;
    if ((stack._top || 0) === index2) {
      edge = top;
    } else if ((stack._bottom || 0) === index2) {
      edge = bottom;
    } else {
      res[parseEdge(bottom, start, end, reverse)] = true;
      edge = top;
    }
  }
  res[parseEdge(edge, start, end, reverse)] = true;
  properties.borderSkipped = res;
}
function parseEdge(edge, a, b, reverse) {
  if (reverse) {
    edge = swap(edge, a, b);
    edge = startEnd(edge, b, a);
  } else {
    edge = startEnd(edge, a, b);
  }
  return edge;
}
function swap(orig, v1, v2) {
  return orig === v1 ? v2 : orig === v2 ? v1 : orig;
}
function startEnd(v, start, end) {
  return v === "start" ? start : v === "end" ? end : v;
}
function setInflateAmount(properties, {
  inflateAmount
}, ratio) {
  properties.inflateAmount = inflateAmount === "auto" ? ratio === 1 ? 0.33 : 0 : inflateAmount;
}
var BarController = class extends DatasetController {
  static id = "bar";
  static defaults = {
    datasetElementType: false,
    dataElementType: "bar",
    categoryPercentage: 0.8,
    barPercentage: 0.9,
    grouped: true,
    animations: {
      numbers: {
        type: "number",
        properties: ["x", "y", "base", "width", "height"]
      }
    }
  };
  static overrides = {
    scales: {
      _index_: {
        type: "category",
        offset: true,
        grid: {
          offset: true
        }
      },
      _value_: {
        type: "linear",
        beginAtZero: true
      }
    }
  };
  parsePrimitiveData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseArrayData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseObjectData(meta, data, start, count) {
    const {
      iScale,
      vScale
    } = meta;
    const {
      xAxisKey = "x",
      yAxisKey = "y"
    } = this._parsing;
    const iAxisKey = iScale.axis === "x" ? xAxisKey : yAxisKey;
    const vAxisKey = vScale.axis === "x" ? xAxisKey : yAxisKey;
    const parsed = [];
    let i, ilen, item, obj;
    for (i = start, ilen = start + count; i < ilen; ++i) {
      obj = data[i];
      item = {};
      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);
      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));
    }
    return parsed;
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    super.updateRangeFromParsed(range, scale, parsed, stack);
    const custom = parsed._custom;
    if (custom && scale === this._cachedMeta.vScale) {
      range.min = Math.min(range.min, custom.min);
      range.max = Math.max(range.max, custom.max);
    }
  }
  getMaxOverflow() {
    return 0;
  }
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const {
      iScale,
      vScale
    } = meta;
    const parsed = this.getParsed(index2);
    const custom = parsed._custom;
    const value = isFloatBar(custom) ? "[" + custom.start + ", " + custom.end + "]" : "" + vScale.getLabelForValue(parsed[vScale.axis]);
    return {
      label: "" + iScale.getLabelForValue(parsed[iScale.axis]),
      value
    };
  }
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
    const meta = this._cachedMeta;
    meta.stack = this.getDataset().stack;
  }
  update(mode) {
    const meta = this._cachedMeta;
    this.updateElements(meta.data, 0, meta.data.length, mode);
  }
  updateElements(bars, start, count, mode) {
    const reset = mode === "reset";
    const {
      index: index2,
      _cachedMeta: {
        vScale
      }
    } = this;
    const base = vScale.getBasePixel();
    const horizontal = vScale.isHorizontal();
    const ruler = this._getRuler();
    const {
      sharedOptions,
      includeOptions
    } = this._getSharedOptions(start, mode);
    for (let i = start; i < start + count; i++) {
      const parsed = this.getParsed(i);
      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {
        base,
        head: base
      } : this._calculateBarValuePixels(i);
      const ipixels = this._calculateBarIndexPixels(i, ruler);
      const stack = (parsed._stacks || {})[vScale.axis];
      const properties = {
        horizontal,
        base: vpixels.base,
        enableBorderRadius: !stack || isFloatBar(parsed._custom) || index2 === stack._top || index2 === stack._bottom,
        x: horizontal ? vpixels.head : ipixels.center,
        y: horizontal ? ipixels.center : vpixels.head,
        height: horizontal ? ipixels.size : Math.abs(vpixels.size),
        width: horizontal ? Math.abs(vpixels.size) : ipixels.size
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? "active" : mode);
      }
      const options = properties.options || bars[i].options;
      setBorderSkipped(properties, options, stack, index2);
      setInflateAmount(properties, options, ruler.ratio);
      this.updateElement(bars[i], i, properties, mode);
    }
  }
  _getStacks(last, dataIndex) {
    const {
      iScale
    } = this._cachedMeta;
    const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta) => meta.controller.options.grouped);
    const stacked = iScale.options.stacked;
    const stacks = [];
    const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);
    const iScaleValue = currentParsed && currentParsed[iScale.axis];
    const skipNull = (meta) => {
      const parsed = meta._parsed.find((item) => item[iScale.axis] === iScaleValue);
      const val = parsed && parsed[meta.vScale.axis];
      if (isNullOrUndef(val) || isNaN(val)) {
        return true;
      }
    };
    for (const meta of metasets) {
      if (dataIndex !== void 0 && skipNull(meta)) {
        continue;
      }
      if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === void 0 && meta.stack === void 0) {
        stacks.push(meta.stack);
      }
      if (meta.index === last) {
        break;
      }
    }
    if (!stacks.length) {
      stacks.push(void 0);
    }
    return stacks;
  }
  _getStackCount(index2) {
    return this._getStacks(void 0, index2).length;
  }
  _getAxisCount() {
    return this._getAxis().length;
  }
  getFirstScaleIdForIndexAxis() {
    const scales2 = this.chart.scales;
    const indexScaleId = this.chart.options.indexAxis;
    return Object.keys(scales2).filter((key) => scales2[key].axis === indexScaleId).shift();
  }
  _getAxis() {
    const axis = {};
    const firstScaleAxisId = this.getFirstScaleIdForIndexAxis();
    for (const dataset of this.chart.data.datasets) {
      axis[valueOrDefault(this.chart.options.indexAxis === "x" ? dataset.xAxisID : dataset.yAxisID, firstScaleAxisId)] = true;
    }
    return Object.keys(axis);
  }
  _getStackIndex(datasetIndex, name, dataIndex) {
    const stacks = this._getStacks(datasetIndex, dataIndex);
    const index2 = name !== void 0 ? stacks.indexOf(name) : -1;
    return index2 === -1 ? stacks.length - 1 : index2;
  }
  _getRuler() {
    const opts = this.options;
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const pixels = [];
    let i, ilen;
    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {
      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));
    }
    const barThickness = opts.barThickness;
    const min = barThickness || computeMinSampleSize(meta);
    return {
      min,
      pixels,
      start: iScale._startPixel,
      end: iScale._endPixel,
      stackCount: this._getStackCount(),
      scale: iScale,
      grouped: opts.grouped,
      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage
    };
  }
  _calculateBarValuePixels(index2) {
    const {
      _cachedMeta: {
        vScale,
        _stacked,
        index: datasetIndex
      },
      options: {
        base: baseValue,
        minBarLength
      }
    } = this;
    const actualBase = baseValue || 0;
    const parsed = this.getParsed(index2);
    const custom = parsed._custom;
    const floating = isFloatBar(custom);
    let value = parsed[vScale.axis];
    let start = 0;
    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;
    let head, size;
    if (length !== value) {
      start = length - value;
      length = value;
    }
    if (floating) {
      value = custom.barStart;
      length = custom.barEnd - custom.barStart;
      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {
        start = 0;
      }
      start += value;
    }
    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;
    let base = vScale.getPixelForValue(startValue);
    if (this.chart.getDataVisibility(index2)) {
      head = vScale.getPixelForValue(start + length);
    } else {
      head = base;
    }
    size = head - base;
    if (Math.abs(size) < minBarLength) {
      size = barSign(size, vScale, actualBase) * minBarLength;
      if (value === actualBase) {
        base -= size / 2;
      }
      const startPixel = vScale.getPixelForDecimal(0);
      const endPixel = vScale.getPixelForDecimal(1);
      const min = Math.min(startPixel, endPixel);
      const max = Math.max(startPixel, endPixel);
      base = Math.max(Math.min(base, max), min);
      head = base + size;
      if (_stacked && !floating) {
        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);
      }
    }
    if (base === vScale.getPixelForValue(actualBase)) {
      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;
      base += halfGrid;
      size -= halfGrid;
    }
    return {
      size,
      base,
      head,
      center: head + size / 2
    };
  }
  _calculateBarIndexPixels(index2, ruler) {
    const scale = ruler.scale;
    const options = this.options;
    const skipNull = options.skipNull;
    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);
    let center, size;
    const axisCount = this._getAxisCount();
    if (ruler.grouped) {
      const stackCount = skipNull ? this._getStackCount(index2) : ruler.stackCount;
      const range = options.barThickness === "flex" ? computeFlexCategoryTraits(index2, ruler, options, stackCount * axisCount) : computeFitCategoryTraits(index2, ruler, options, stackCount * axisCount);
      const axisID = this.chart.options.indexAxis === "x" ? this.getDataset().xAxisID : this.getDataset().yAxisID;
      const axisNumber = this._getAxis().indexOf(valueOrDefault(axisID, this.getFirstScaleIdForIndexAxis()));
      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index2 : void 0) + axisNumber;
      center = range.start + range.chunk * stackIndex + range.chunk / 2;
      size = Math.min(maxBarThickness, range.chunk * range.ratio);
    } else {
      center = scale.getPixelForValue(this.getParsed(index2)[scale.axis], index2);
      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);
    }
    return {
      base: center - size / 2,
      head: center + size / 2,
      center,
      size
    };
  }
  draw() {
    const meta = this._cachedMeta;
    const vScale = meta.vScale;
    const rects = meta.data;
    const ilen = rects.length;
    let i = 0;
    for (; i < ilen; ++i) {
      if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {
        rects[i].draw(this._ctx);
      }
    }
  }
};
var BubbleController = class extends DatasetController {
  static id = "bubble";
  static defaults = {
    datasetElementType: false,
    dataElementType: "point",
    animations: {
      numbers: {
        type: "number",
        properties: ["x", "y", "borderWidth", "radius"]
      }
    }
  };
  static overrides = {
    scales: {
      x: {
        type: "linear"
      },
      y: {
        type: "linear"
      }
    }
  };
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
  }
  parsePrimitiveData(meta, data, start, count) {
    const parsed = super.parsePrimitiveData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const parsed = super.parseArrayData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const parsed = super.parseObjectData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  getMaxOverflow() {
    const data = this._cachedMeta.data;
    let max = 0;
    for (let i = data.length - 1; i >= 0; --i) {
      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
    }
    return max > 0 && max;
  }
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const labels = this.chart.data.labels || [];
    const {
      xScale,
      yScale
    } = meta;
    const parsed = this.getParsed(index2);
    const x = xScale.getLabelForValue(parsed.x);
    const y = yScale.getLabelForValue(parsed.y);
    const r = parsed._custom;
    return {
      label: labels[index2] || "",
      value: "(" + x + ", " + y + (r ? ", " + r : "") + ")"
    };
  }
  update(mode) {
    const points = this._cachedMeta.data;
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === "reset";
    const {
      iScale,
      vScale
    } = this._cachedMeta;
    const {
      sharedOptions,
      includeOptions
    } = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const parsed = !reset && this.getParsed(i);
      const properties = {};
      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);
      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);
      properties.skip = isNaN(iPixel) || isNaN(vPixel);
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? "active" : mode);
        if (reset) {
          properties.options.radius = 0;
        }
      }
      this.updateElement(point, i, properties, mode);
    }
  }
  resolveDataElementOptions(index2, mode) {
    const parsed = this.getParsed(index2);
    let values = super.resolveDataElementOptions(index2, mode);
    if (values.$shared) {
      values = Object.assign({}, values, {
        $shared: false
      });
    }
    const radius = values.radius;
    if (mode !== "active") {
      values.radius = 0;
    }
    values.radius += valueOrDefault(parsed && parsed._custom, radius);
    return values;
  }
};
function getRatioAndOffset(rotation, circumference, cutout) {
  let ratioX = 1;
  let ratioY = 1;
  let offsetX = 0;
  let offsetY = 0;
  if (circumference < TAU) {
    const startAngle = rotation;
    const endAngle = startAngle + circumference;
    const startX = Math.cos(startAngle);
    const startY = Math.sin(startAngle);
    const endX = Math.cos(endAngle);
    const endY = Math.sin(endAngle);
    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);
    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);
    const maxX = calcMax(0, startX, endX);
    const maxY = calcMax(HALF_PI, startY, endY);
    const minX = calcMin(PI, startX, endX);
    const minY = calcMin(PI + HALF_PI, startY, endY);
    ratioX = (maxX - minX) / 2;
    ratioY = (maxY - minY) / 2;
    offsetX = -(maxX + minX) / 2;
    offsetY = -(maxY + minY) / 2;
  }
  return {
    ratioX,
    ratioY,
    offsetX,
    offsetY
  };
}
var DoughnutController = class extends DatasetController {
  static id = "doughnut";
  static defaults = {
    datasetElementType: false,
    dataElementType: "arc",
    animation: {
      animateRotate: true,
      animateScale: false
    },
    animations: {
      numbers: {
        type: "number",
        properties: ["circumference", "endAngle", "innerRadius", "outerRadius", "startAngle", "x", "y", "offset", "borderWidth", "spacing"]
      }
    },
    cutout: "50%",
    rotation: 0,
    circumference: 360,
    radius: "100%",
    spacing: 0,
    indexAxis: "r"
  };
  static descriptors = {
    _scriptable: (name) => name !== "spacing",
    _indexable: (name) => name !== "spacing" && !name.startsWith("borderDash") && !name.startsWith("hoverBorderDash")
  };
  static overrides = {
    aspectRatio: 1,
    plugins: {
      legend: {
        labels: {
          generateLabels(chart) {
            const data = chart.data;
            if (data.labels.length && data.datasets.length) {
              const {
                labels: {
                  pointStyle,
                  color: color2
                }
              } = chart.legend.options;
              return data.labels.map((label, i) => {
                const meta = chart.getDatasetMeta(0);
                const style2 = meta.controller.getStyle(i);
                return {
                  text: label,
                  fillStyle: style2.backgroundColor,
                  strokeStyle: style2.borderColor,
                  fontColor: color2,
                  lineWidth: style2.borderWidth,
                  pointStyle,
                  hidden: !chart.getDataVisibility(i),
                  index: i
                };
              });
            }
            return [];
          }
        },
        onClick(e, legendItem, legend) {
          legend.chart.toggleDataVisibility(legendItem.index);
          legend.chart.update();
        }
      }
    }
  };
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.enableOptionSharing = true;
    this.innerRadius = void 0;
    this.outerRadius = void 0;
    this.offsetX = void 0;
    this.offsetY = void 0;
  }
  linkScales() {
  }
  parse(start, count) {
    const data = this.getDataset().data;
    const meta = this._cachedMeta;
    if (this._parsing === false) {
      meta._parsed = data;
    } else {
      let getter = (i2) => +data[i2];
      if (isObject(data[start])) {
        const {
          key = "value"
        } = this._parsing;
        getter = (i2) => +resolveObjectKey(data[i2], key);
      }
      let i, ilen;
      for (i = start, ilen = start + count; i < ilen; ++i) {
        meta._parsed[i] = getter(i);
      }
    }
  }
  _getRotation() {
    return toRadians(this.options.rotation - 90);
  }
  _getCircumference() {
    return toRadians(this.options.circumference);
  }
  _getRotationExtents() {
    let min = TAU;
    let max = -TAU;
    for (let i = 0; i < this.chart.data.datasets.length; ++i) {
      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {
        const controller = this.chart.getDatasetMeta(i).controller;
        const rotation = controller._getRotation();
        const circumference = controller._getCircumference();
        min = Math.min(min, rotation);
        max = Math.max(max, rotation + circumference);
      }
    }
    return {
      rotation: min,
      circumference: max - min
    };
  }
  update(mode) {
    const chart = this.chart;
    const {
      chartArea
    } = chart;
    const meta = this._cachedMeta;
    const arcs = meta.data;
    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;
    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);
    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);
    const chartWeight = this._getRingWeight(this.index);
    const {
      circumference,
      rotation
    } = this._getRotationExtents();
    const {
      ratioX,
      ratioY,
      offsetX,
      offsetY
    } = getRatioAndOffset(rotation, circumference, cutout);
    const maxWidth = (chartArea.width - spacing) / ratioX;
    const maxHeight = (chartArea.height - spacing) / ratioY;
    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);
    const outerRadius = toDimension(this.options.radius, maxRadius);
    const innerRadius = Math.max(outerRadius * cutout, 0);
    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();
    this.offsetX = offsetX * outerRadius;
    this.offsetY = offsetY * outerRadius;
    meta.total = this.calculateTotal();
    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);
    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  _circumference(i, reset) {
    const opts = this.options;
    const meta = this._cachedMeta;
    const circumference = this._getCircumference();
    if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {
      return 0;
    }
    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === "reset";
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const centerX = (chartArea.left + chartArea.right) / 2;
    const centerY = (chartArea.top + chartArea.bottom) / 2;
    const animateScale = reset && animationOpts.animateScale;
    const innerRadius = animateScale ? 0 : this.innerRadius;
    const outerRadius = animateScale ? 0 : this.outerRadius;
    const {
      sharedOptions,
      includeOptions
    } = this._getSharedOptions(start, mode);
    let startAngle = this._getRotation();
    let i;
    for (i = 0; i < start; ++i) {
      startAngle += this._circumference(i, reset);
    }
    for (i = start; i < start + count; ++i) {
      const circumference = this._circumference(i, reset);
      const arc = arcs[i];
      const properties = {
        x: centerX + this.offsetX,
        y: centerY + this.offsetY,
        startAngle,
        endAngle: startAngle + circumference,
        circumference,
        outerRadius,
        innerRadius
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? "active" : mode);
      }
      startAngle += circumference;
      this.updateElement(arc, i, properties, mode);
    }
  }
  calculateTotal() {
    const meta = this._cachedMeta;
    const metaData = meta.data;
    let total = 0;
    let i;
    for (i = 0; i < metaData.length; i++) {
      const value = meta._parsed[i];
      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {
        total += Math.abs(value);
      }
    }
    return total;
  }
  calculateCircumference(value) {
    const total = this._cachedMeta.total;
    if (total > 0 && !isNaN(value)) {
      return TAU * (Math.abs(value) / total);
    }
    return 0;
  }
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = formatNumber(meta._parsed[index2], chart.options.locale);
    return {
      label: labels[index2] || "",
      value
    };
  }
  getMaxBorderWidth(arcs) {
    let max = 0;
    const chart = this.chart;
    let i, ilen, meta, controller, options;
    if (!arcs) {
      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {
        if (chart.isDatasetVisible(i)) {
          meta = chart.getDatasetMeta(i);
          arcs = meta.data;
          controller = meta.controller;
          break;
        }
      }
    }
    if (!arcs) {
      return 0;
    }
    for (i = 0, ilen = arcs.length; i < ilen; ++i) {
      options = controller.resolveDataElementOptions(i);
      if (options.borderAlign !== "inner") {
        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);
      }
    }
    return max;
  }
  getMaxOffset(arcs) {
    let max = 0;
    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {
      const options = this.resolveDataElementOptions(i);
      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);
    }
    return max;
  }
  _getRingWeightOffset(datasetIndex) {
    let ringWeightOffset = 0;
    for (let i = 0; i < datasetIndex; ++i) {
      if (this.chart.isDatasetVisible(i)) {
        ringWeightOffset += this._getRingWeight(i);
      }
    }
    return ringWeightOffset;
  }
  _getRingWeight(datasetIndex) {
    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);
  }
  _getVisibleDatasetWeightTotal() {
    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;
  }
};
var LineController = class extends DatasetController {
  static id = "line";
  static defaults = {
    datasetElementType: "line",
    dataElementType: "point",
    showLine: true,
    spanGaps: false
  };
  static overrides = {
    scales: {
      _index_: {
        type: "category"
      },
      _value_: {
        type: "linear"
      }
    }
  };
  initialize() {
    this.enableOptionSharing = true;
    this.supportsDecimation = true;
    super.initialize();
  }
  update(mode) {
    const meta = this._cachedMeta;
    const {
      dataset: line,
      data: points = [],
      _dataset
    } = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {
      start,
      count
    } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if (_scaleRangesChanged(meta)) {
      start = 0;
      count = points.length;
    }
    line._chart = this.chart;
    line._datasetIndex = this.index;
    line._decimated = !!_dataset._decimated;
    line.points = points;
    const options = this.resolveDatasetElementOptions(mode);
    if (!this.options.showLine) {
      options.borderWidth = 0;
    }
    options.segment = this.options.segment;
    this.updateElement(line, void 0, {
      animated: !animationsDisabled,
      options
    }, mode);
    this.updateElements(points, start, count, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === "reset";
    const {
      iScale,
      vScale,
      _stacked,
      _dataset
    } = this._cachedMeta;
    const {
      sharedOptions,
      includeOptions
    } = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {
      spanGaps,
      segment
    } = this.options;
    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === "none";
    const end = start + count;
    const pointsCount = points.length;
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = 0; i < pointsCount; ++i) {
      const point = points[i];
      const properties = directUpdate ? point : {};
      if (i < start || i >= end) {
        properties.skip = true;
        continue;
      }
      const parsed = this.getParsed(i);
      const nullData = isNullOrUndef(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? "active" : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    const data = meta.data || [];
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
  draw() {
    const meta = this._cachedMeta;
    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);
    super.draw();
  }
};
var PolarAreaController = class extends DatasetController {
  static id = "polarArea";
  static defaults = {
    dataElementType: "arc",
    animation: {
      animateRotate: true,
      animateScale: true
    },
    animations: {
      numbers: {
        type: "number",
        properties: ["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius"]
      }
    },
    indexAxis: "r",
    startAngle: 0
  };
  static overrides = {
    aspectRatio: 1,
    plugins: {
      legend: {
        labels: {
          generateLabels(chart) {
            const data = chart.data;
            if (data.labels.length && data.datasets.length) {
              const {
                labels: {
                  pointStyle,
                  color: color2
                }
              } = chart.legend.options;
              return data.labels.map((label, i) => {
                const meta = chart.getDatasetMeta(0);
                const style2 = meta.controller.getStyle(i);
                return {
                  text: label,
                  fillStyle: style2.backgroundColor,
                  strokeStyle: style2.borderColor,
                  fontColor: color2,
                  lineWidth: style2.borderWidth,
                  pointStyle,
                  hidden: !chart.getDataVisibility(i),
                  index: i
                };
              });
            }
            return [];
          }
        },
        onClick(e, legendItem, legend) {
          legend.chart.toggleDataVisibility(legendItem.index);
          legend.chart.update();
        }
      }
    },
    scales: {
      r: {
        type: "radialLinear",
        angleLines: {
          display: false
        },
        beginAtZero: true,
        grid: {
          circular: true
        },
        pointLabels: {
          display: false
        },
        startAngle: 0
      }
    }
  };
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.innerRadius = void 0;
    this.outerRadius = void 0;
  }
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = formatNumber(meta._parsed[index2].r, chart.options.locale);
    return {
      label: labels[index2] || "",
      value
    };
  }
  parseObjectData(meta, data, start, count) {
    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const arcs = this._cachedMeta.data;
    this._updateRadius();
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  getMinMax() {
    const meta = this._cachedMeta;
    const range = {
      min: Number.POSITIVE_INFINITY,
      max: Number.NEGATIVE_INFINITY
    };
    meta.data.forEach((element, index2) => {
      const parsed = this.getParsed(index2).r;
      if (!isNaN(parsed) && this.chart.getDataVisibility(index2)) {
        if (parsed < range.min) {
          range.min = parsed;
        }
        if (parsed > range.max) {
          range.max = parsed;
        }
      }
    });
    return range;
  }
  _updateRadius() {
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
    const outerRadius = Math.max(minSize / 2, 0);
    const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);
    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();
    this.outerRadius = outerRadius - radiusLength * this.index;
    this.innerRadius = this.outerRadius - radiusLength;
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === "reset";
    const chart = this.chart;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const scale = this._cachedMeta.rScale;
    const centerX = scale.xCenter;
    const centerY = scale.yCenter;
    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;
    let angle = datasetStartAngle;
    let i;
    const defaultAngle = 360 / this.countVisibleElements();
    for (i = 0; i < start; ++i) {
      angle += this._computeAngle(i, mode, defaultAngle);
    }
    for (i = start; i < start + count; i++) {
      const arc = arcs[i];
      let startAngle = angle;
      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);
      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;
      angle = endAngle;
      if (reset) {
        if (animationOpts.animateScale) {
          outerRadius = 0;
        }
        if (animationOpts.animateRotate) {
          startAngle = endAngle = datasetStartAngle;
        }
      }
      const properties = {
        x: centerX,
        y: centerY,
        innerRadius: 0,
        outerRadius,
        startAngle,
        endAngle,
        options: this.resolveDataElementOptions(i, arc.active ? "active" : mode)
      };
      this.updateElement(arc, i, properties, mode);
    }
  }
  countVisibleElements() {
    const meta = this._cachedMeta;
    let count = 0;
    meta.data.forEach((element, index2) => {
      if (!isNaN(this.getParsed(index2).r) && this.chart.getDataVisibility(index2)) {
        count++;
      }
    });
    return count;
  }
  _computeAngle(index2, mode, defaultAngle) {
    return this.chart.getDataVisibility(index2) ? toRadians(this.resolveDataElementOptions(index2, mode).angle || defaultAngle) : 0;
  }
};
var PieController = class extends DoughnutController {
  static id = "pie";
  static defaults = {
    cutout: 0,
    rotation: 0,
    circumference: 360,
    radius: "100%"
  };
};
var RadarController = class extends DatasetController {
  static id = "radar";
  static defaults = {
    datasetElementType: "line",
    dataElementType: "point",
    indexAxis: "r",
    showLine: true,
    elements: {
      line: {
        fill: "start"
      }
    }
  };
  static overrides = {
    aspectRatio: 1,
    scales: {
      r: {
        type: "radialLinear"
      }
    }
  };
  getLabelAndValue(index2) {
    const vScale = this._cachedMeta.vScale;
    const parsed = this.getParsed(index2);
    return {
      label: vScale.getLabels()[index2],
      value: "" + vScale.getLabelForValue(parsed[vScale.axis])
    };
  }
  parseObjectData(meta, data, start, count) {
    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const meta = this._cachedMeta;
    const line = meta.dataset;
    const points = meta.data || [];
    const labels = meta.iScale.getLabels();
    line.points = points;
    if (mode !== "resize") {
      const options = this.resolveDatasetElementOptions(mode);
      if (!this.options.showLine) {
        options.borderWidth = 0;
      }
      const properties = {
        _loop: true,
        _fullLoop: labels.length === points.length,
        options
      };
      this.updateElement(line, void 0, properties, mode);
    }
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const scale = this._cachedMeta.rScale;
    const reset = mode === "reset";
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const options = this.resolveDataElementOptions(i, point.active ? "active" : mode);
      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);
      const x = reset ? scale.xCenter : pointPosition.x;
      const y = reset ? scale.yCenter : pointPosition.y;
      const properties = {
        x,
        y,
        angle: pointPosition.angle,
        skip: isNaN(x) || isNaN(y),
        options
      };
      this.updateElement(point, i, properties, mode);
    }
  }
};
var ScatterController = class extends DatasetController {
  static id = "scatter";
  static defaults = {
    datasetElementType: false,
    dataElementType: "point",
    showLine: false,
    fill: false
  };
  static overrides = {
    interaction: {
      mode: "point"
    },
    scales: {
      x: {
        type: "linear"
      },
      y: {
        type: "linear"
      }
    }
  };
  getLabelAndValue(index2) {
    const meta = this._cachedMeta;
    const labels = this.chart.data.labels || [];
    const {
      xScale,
      yScale
    } = meta;
    const parsed = this.getParsed(index2);
    const x = xScale.getLabelForValue(parsed.x);
    const y = yScale.getLabelForValue(parsed.y);
    return {
      label: labels[index2] || "",
      value: "(" + x + ", " + y + ")"
    };
  }
  update(mode) {
    const meta = this._cachedMeta;
    const {
      data: points = []
    } = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {
      start,
      count
    } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if (_scaleRangesChanged(meta)) {
      start = 0;
      count = points.length;
    }
    if (this.options.showLine) {
      if (!this.datasetElementType) {
        this.addElements();
      }
      const {
        dataset: line,
        _dataset
      } = meta;
      line._chart = this.chart;
      line._datasetIndex = this.index;
      line._decimated = !!_dataset._decimated;
      line.points = points;
      const options = this.resolveDatasetElementOptions(mode);
      options.segment = this.options.segment;
      this.updateElement(line, void 0, {
        animated: !animationsDisabled,
        options
      }, mode);
    } else if (this.datasetElementType) {
      delete meta.dataset;
      this.datasetElementType = false;
    }
    this.updateElements(points, start, count, mode);
  }
  addElements() {
    const {
      showLine
    } = this.options;
    if (!this.datasetElementType && showLine) {
      this.datasetElementType = this.chart.registry.getElement("line");
    }
    super.addElements();
  }
  updateElements(points, start, count, mode) {
    const reset = mode === "reset";
    const {
      iScale,
      vScale,
      _stacked,
      _dataset
    } = this._cachedMeta;
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {
      spanGaps,
      segment
    } = this.options;
    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === "none";
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = start; i < start + count; ++i) {
      const point = points[i];
      const parsed = this.getParsed(i);
      const properties = directUpdate ? point : {};
      const nullData = isNullOrUndef(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? "active" : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const data = meta.data || [];
    if (!this.options.showLine) {
      let max = 0;
      for (let i = data.length - 1; i >= 0; --i) {
        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
      }
      return max > 0 && max;
    }
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
};
var controllers = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  BarController,
  BubbleController,
  DoughnutController,
  LineController,
  PieController,
  PolarAreaController,
  RadarController,
  ScatterController
});
function abstract() {
  throw new Error("This method is not implemented: Check that a complete date adapter is provided.");
}
var DateAdapterBase = class _DateAdapterBase {
  /**
  * Override default date adapter methods.
  * Accepts type parameter to define options type.
  * @example
  * Chart._adapters._date.override<{myAdapterOption: string}>({
  *   init() {
  *     console.log(this.options.myAdapterOption);
  *   }
  * })
  */
  static override(members) {
    Object.assign(_DateAdapterBase.prototype, members);
  }
  options;
  constructor(options) {
    this.options = options || {};
  }
  // eslint-disable-next-line @typescript-eslint/no-empty-function
  init() {
  }
  formats() {
    return abstract();
  }
  parse() {
    return abstract();
  }
  format() {
    return abstract();
  }
  add() {
    return abstract();
  }
  diff() {
    return abstract();
  }
  startOf() {
    return abstract();
  }
  endOf() {
    return abstract();
  }
};
var adapters = {
  _date: DateAdapterBase
};
function binarySearch(metaset, axis, value, intersect) {
  const {
    controller,
    data,
    _sorted
  } = metaset;
  const iScale = controller._cachedMeta.iScale;
  const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;
  if (iScale && axis === iScale.axis && axis !== "r" && _sorted && data.length) {
    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;
    if (!intersect) {
      const result = lookupMethod(data, axis, value);
      if (spanGaps) {
        const {
          vScale
        } = controller._cachedMeta;
        const {
          _parsed
        } = metaset;
        const distanceToDefinedLo = _parsed.slice(0, result.lo + 1).reverse().findIndex((point) => !isNullOrUndef(point[vScale.axis]));
        result.lo -= Math.max(0, distanceToDefinedLo);
        const distanceToDefinedHi = _parsed.slice(result.hi).findIndex((point) => !isNullOrUndef(point[vScale.axis]));
        result.hi += Math.max(0, distanceToDefinedHi);
      }
      return result;
    } else if (controller._sharedOptions) {
      const el = data[0];
      const range = typeof el.getRange === "function" && el.getRange(axis);
      if (range) {
        const start = lookupMethod(data, axis, value - range);
        const end = lookupMethod(data, axis, value + range);
        return {
          lo: start.lo,
          hi: end.hi
        };
      }
    }
  }
  return {
    lo: 0,
    hi: data.length - 1
  };
}
function evaluateInteractionItems(chart, axis, position, handler, intersect) {
  const metasets = chart.getSortedVisibleDatasetMetas();
  const value = position[axis];
  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {
    const {
      index: index2,
      data
    } = metasets[i];
    const {
      lo,
      hi
    } = binarySearch(metasets[i], axis, value, intersect);
    for (let j = lo; j <= hi; ++j) {
      const element = data[j];
      if (!element.skip) {
        handler(element, index2, j);
      }
    }
  }
}
function getDistanceMetricForAxis(axis) {
  const useX = axis.indexOf("x") !== -1;
  const useY = axis.indexOf("y") !== -1;
  return function(pt1, pt2) {
    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;
    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;
    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));
  };
}
function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {
  const items = [];
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return items;
  }
  const evaluationFunc = function(element, datasetIndex, index2) {
    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {
      return;
    }
    if (element.inRange(position.x, position.y, useFinalPosition)) {
      items.push({
        element,
        datasetIndex,
        index: index2
      });
    }
  };
  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);
  return items;
}
function getNearestRadialItems(chart, position, axis, useFinalPosition) {
  let items = [];
  function evaluationFunc(element, datasetIndex, index2) {
    const {
      startAngle,
      endAngle
    } = element.getProps(["startAngle", "endAngle"], useFinalPosition);
    const {
      angle
    } = getAngleFromPoint(element, {
      x: position.x,
      y: position.y
    });
    if (_angleBetween(angle, startAngle, endAngle)) {
      items.push({
        element,
        datasetIndex,
        index: index2
      });
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  let items = [];
  const distanceMetric = getDistanceMetricForAxis(axis);
  let minDistance = Number.POSITIVE_INFINITY;
  function evaluationFunc(element, datasetIndex, index2) {
    const inRange2 = element.inRange(position.x, position.y, useFinalPosition);
    if (intersect && !inRange2) {
      return;
    }
    const center = element.getCenterPoint(useFinalPosition);
    const pointInArea = !!includeInvisible || chart.isPointInArea(center);
    if (!pointInArea && !inRange2) {
      return;
    }
    const distance = distanceMetric(position, center);
    if (distance < minDistance) {
      items = [{
        element,
        datasetIndex,
        index: index2
      }];
      minDistance = distance;
    } else if (distance === minDistance) {
      items.push({
        element,
        datasetIndex,
        index: index2
      });
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return [];
  }
  return axis === "r" && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);
}
function getAxisItems(chart, position, axis, intersect, useFinalPosition) {
  const items = [];
  const rangeMethod = axis === "x" ? "inXRange" : "inYRange";
  let intersectsItem = false;
  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index2) => {
    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {
      items.push({
        element,
        datasetIndex,
        index: index2
      });
      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);
    }
  });
  if (intersect && !intersectsItem) {
    return [];
  }
  return items;
}
var Interaction = {
  evaluateInteractionItems,
  modes: {
    index(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      const axis = options.axis || "x";
      const includeInvisible = options.includeInvisible || false;
      const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      const elements2 = [];
      if (!items.length) {
        return [];
      }
      chart.getSortedVisibleDatasetMetas().forEach((meta) => {
        const index2 = items[0].index;
        const element = meta.data[index2];
        if (element && !element.skip) {
          elements2.push({
            element,
            datasetIndex: meta.index,
            index: index2
          });
        }
      });
      return elements2;
    },
    dataset(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      const axis = options.axis || "xy";
      const includeInvisible = options.includeInvisible || false;
      let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      if (items.length > 0) {
        const datasetIndex = items[0].datasetIndex;
        const data = chart.getDatasetMeta(datasetIndex).data;
        items = [];
        for (let i = 0; i < data.length; ++i) {
          items.push({
            element: data[i],
            datasetIndex,
            index: i
          });
        }
      }
      return items;
    },
    point(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      const axis = options.axis || "xy";
      const includeInvisible = options.includeInvisible || false;
      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);
    },
    nearest(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      const axis = options.axis || "xy";
      const includeInvisible = options.includeInvisible || false;
      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);
    },
    x(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      return getAxisItems(chart, position, "x", options.intersect, useFinalPosition);
    },
    y(chart, e, options, useFinalPosition) {
      const position = getRelativePosition(e, chart);
      return getAxisItems(chart, position, "y", options.intersect, useFinalPosition);
    }
  }
};
var STATIC_POSITIONS = ["left", "top", "right", "bottom"];
function filterByPosition(array, position) {
  return array.filter((v) => v.pos === position);
}
function filterDynamicPositionByAxis(array, axis) {
  return array.filter((v) => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);
}
function sortByWeight(array, reverse) {
  return array.sort((a, b) => {
    const v0 = reverse ? b : a;
    const v1 = reverse ? a : b;
    return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;
  });
}
function wrapBoxes(boxes) {
  const layoutBoxes = [];
  let i, ilen, box, pos, stack, stackWeight;
  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {
    box = boxes[i];
    ({
      position: pos,
      options: {
        stack,
        stackWeight = 1
      }
    } = box);
    layoutBoxes.push({
      index: i,
      box,
      pos,
      horizontal: box.isHorizontal(),
      weight: box.weight,
      stack: stack && pos + stack,
      stackWeight
    });
  }
  return layoutBoxes;
}
function buildStacks(layouts2) {
  const stacks = {};
  for (const wrap of layouts2) {
    const {
      stack,
      pos,
      stackWeight
    } = wrap;
    if (!stack || !STATIC_POSITIONS.includes(pos)) {
      continue;
    }
    const _stack = stacks[stack] || (stacks[stack] = {
      count: 0,
      placed: 0,
      weight: 0,
      size: 0
    });
    _stack.count++;
    _stack.weight += stackWeight;
  }
  return stacks;
}
function setLayoutDims(layouts2, params) {
  const stacks = buildStacks(layouts2);
  const {
    vBoxMaxWidth,
    hBoxMaxHeight
  } = params;
  let i, ilen, layout;
  for (i = 0, ilen = layouts2.length; i < ilen; ++i) {
    layout = layouts2[i];
    const {
      fullSize
    } = layout.box;
    const stack = stacks[layout.stack];
    const factor = stack && layout.stackWeight / stack.weight;
    if (layout.horizontal) {
      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;
      layout.height = hBoxMaxHeight;
    } else {
      layout.width = vBoxMaxWidth;
      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;
    }
  }
  return stacks;
}
function buildLayoutBoxes(boxes) {
  const layoutBoxes = wrapBoxes(boxes);
  const fullSize = sortByWeight(layoutBoxes.filter((wrap) => wrap.box.fullSize), true);
  const left = sortByWeight(filterByPosition(layoutBoxes, "left"), true);
  const right = sortByWeight(filterByPosition(layoutBoxes, "right"));
  const top = sortByWeight(filterByPosition(layoutBoxes, "top"), true);
  const bottom = sortByWeight(filterByPosition(layoutBoxes, "bottom"));
  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, "x");
  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, "y");
  return {
    fullSize,
    leftAndTop: left.concat(top),
    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),
    chartArea: filterByPosition(layoutBoxes, "chartArea"),
    vertical: left.concat(right).concat(centerVertical),
    horizontal: top.concat(bottom).concat(centerHorizontal)
  };
}
function getCombinedMax(maxPadding, chartArea, a, b) {
  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);
}
function updateMaxPadding(maxPadding, boxPadding) {
  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);
  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);
  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);
  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);
}
function updateDims(chartArea, params, layout, stacks) {
  const {
    pos,
    box
  } = layout;
  const maxPadding = chartArea.maxPadding;
  if (!isObject(pos)) {
    if (layout.size) {
      chartArea[pos] -= layout.size;
    }
    const stack = stacks[layout.stack] || {
      size: 0,
      count: 1
    };
    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);
    layout.size = stack.size / stack.count;
    chartArea[pos] += layout.size;
  }
  if (box.getPadding) {
    updateMaxPadding(maxPadding, box.getPadding());
  }
  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, "left", "right"));
  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, "top", "bottom"));
  const widthChanged = newWidth !== chartArea.w;
  const heightChanged = newHeight !== chartArea.h;
  chartArea.w = newWidth;
  chartArea.h = newHeight;
  return layout.horizontal ? {
    same: widthChanged,
    other: heightChanged
  } : {
    same: heightChanged,
    other: widthChanged
  };
}
function handleMaxPadding(chartArea) {
  const maxPadding = chartArea.maxPadding;
  function updatePos(pos) {
    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);
    chartArea[pos] += change;
    return change;
  }
  chartArea.y += updatePos("top");
  chartArea.x += updatePos("left");
  updatePos("right");
  updatePos("bottom");
}
function getMargins(horizontal, chartArea) {
  const maxPadding = chartArea.maxPadding;
  function marginForPositions(positions2) {
    const margin = {
      left: 0,
      top: 0,
      right: 0,
      bottom: 0
    };
    positions2.forEach((pos) => {
      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);
    });
    return margin;
  }
  return horizontal ? marginForPositions(["left", "right"]) : marginForPositions(["top", "bottom"]);
}
function fitBoxes(boxes, chartArea, params, stacks) {
  const refitBoxes = [];
  let i, ilen, layout, box, refit, changed;
  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {
    layout = boxes[i];
    box = layout.box;
    box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));
    const {
      same,
      other
    } = updateDims(chartArea, params, layout, stacks);
    refit |= same && refitBoxes.length;
    changed = changed || other;
    if (!box.fullSize) {
      refitBoxes.push(layout);
    }
  }
  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;
}
function setBoxDims(box, left, top, width, height) {
  box.top = top;
  box.left = left;
  box.right = left + width;
  box.bottom = top + height;
  box.width = width;
  box.height = height;
}
function placeBoxes(boxes, chartArea, params, stacks) {
  const userPadding = params.padding;
  let {
    x,
    y
  } = chartArea;
  for (const layout of boxes) {
    const box = layout.box;
    const stack = stacks[layout.stack] || {
      count: 1,
      placed: 0,
      weight: 1
    };
    const weight = layout.stackWeight / stack.weight || 1;
    if (layout.horizontal) {
      const width = chartArea.w * weight;
      const height = stack.size || box.height;
      if (defined(stack.start)) {
        y = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);
      } else {
        setBoxDims(box, chartArea.left + stack.placed, y, width, height);
      }
      stack.start = y;
      stack.placed += width;
      y = box.bottom;
    } else {
      const height = chartArea.h * weight;
      const width = stack.size || box.width;
      if (defined(stack.start)) {
        x = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);
      } else {
        setBoxDims(box, x, chartArea.top + stack.placed, width, height);
      }
      stack.start = x;
      stack.placed += height;
      x = box.right;
    }
  }
  chartArea.x = x;
  chartArea.y = y;
}
var layouts = {
  addBox(chart, item) {
    if (!chart.boxes) {
      chart.boxes = [];
    }
    item.fullSize = item.fullSize || false;
    item.position = item.position || "top";
    item.weight = item.weight || 0;
    item._layers = item._layers || function() {
      return [{
        z: 0,
        draw(chartArea) {
          item.draw(chartArea);
        }
      }];
    };
    chart.boxes.push(item);
  },
  removeBox(chart, layoutItem) {
    const index2 = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;
    if (index2 !== -1) {
      chart.boxes.splice(index2, 1);
    }
  },
  configure(chart, item, options) {
    item.fullSize = options.fullSize;
    item.position = options.position;
    item.weight = options.weight;
  },
  update(chart, width, height, minPadding) {
    if (!chart) {
      return;
    }
    const padding = toPadding(chart.options.layout.padding);
    const availableWidth = Math.max(width - padding.width, 0);
    const availableHeight = Math.max(height - padding.height, 0);
    const boxes = buildLayoutBoxes(chart.boxes);
    const verticalBoxes = boxes.vertical;
    const horizontalBoxes = boxes.horizontal;
    each(chart.boxes, (box) => {
      if (typeof box.beforeLayout === "function") {
        box.beforeLayout();
      }
    });
    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) => wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;
    const params = Object.freeze({
      outerWidth: width,
      outerHeight: height,
      padding,
      availableWidth,
      availableHeight,
      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,
      hBoxMaxHeight: availableHeight / 2
    });
    const maxPadding = Object.assign({}, padding);
    updateMaxPadding(maxPadding, toPadding(minPadding));
    const chartArea = Object.assign({
      maxPadding,
      w: availableWidth,
      h: availableHeight,
      x: padding.left,
      y: padding.top
    }, padding);
    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);
    fitBoxes(boxes.fullSize, chartArea, params, stacks);
    fitBoxes(verticalBoxes, chartArea, params, stacks);
    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {
      fitBoxes(verticalBoxes, chartArea, params, stacks);
    }
    handleMaxPadding(chartArea);
    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);
    chartArea.x += chartArea.w;
    chartArea.y += chartArea.h;
    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);
    chart.chartArea = {
      left: chartArea.left,
      top: chartArea.top,
      right: chartArea.left + chartArea.w,
      bottom: chartArea.top + chartArea.h,
      height: chartArea.h,
      width: chartArea.w
    };
    each(boxes.chartArea, (layout) => {
      const box = layout.box;
      Object.assign(box, chart.chartArea);
      box.update(chartArea.w, chartArea.h, {
        left: 0,
        top: 0,
        right: 0,
        bottom: 0
      });
    });
  }
};
var BasePlatform = class {
  acquireContext(canvas, aspectRatio) {
  }
  releaseContext(context) {
    return false;
  }
  addEventListener(chart, type, listener) {
  }
  removeEventListener(chart, type, listener) {
  }
  getDevicePixelRatio() {
    return 1;
  }
  getMaximumSize(element, width, height, aspectRatio) {
    width = Math.max(0, width || element.width);
    height = height || element.height;
    return {
      width,
      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)
    };
  }
  isAttached(canvas) {
    return true;
  }
  updateConfig(config) {
  }
};
var BasicPlatform = class extends BasePlatform {
  acquireContext(item) {
    return item && item.getContext && item.getContext("2d") || null;
  }
  updateConfig(config) {
    config.options.animation = false;
  }
};
var EXPANDO_KEY = "$chartjs";
var EVENT_TYPES = {
  touchstart: "mousedown",
  touchmove: "mousemove",
  touchend: "mouseup",
  pointerenter: "mouseenter",
  pointerdown: "mousedown",
  pointermove: "mousemove",
  pointerup: "mouseup",
  pointerleave: "mouseout",
  pointerout: "mouseout"
};
var isNullOrEmpty = (value) => value === null || value === "";
function initCanvas(canvas, aspectRatio) {
  const style2 = canvas.style;
  const renderHeight = canvas.getAttribute("height");
  const renderWidth = canvas.getAttribute("width");
  canvas[EXPANDO_KEY] = {
    initial: {
      height: renderHeight,
      width: renderWidth,
      style: {
        display: style2.display,
        height: style2.height,
        width: style2.width
      }
    }
  };
  style2.display = style2.display || "block";
  style2.boxSizing = style2.boxSizing || "border-box";
  if (isNullOrEmpty(renderWidth)) {
    const displayWidth = readUsedSize(canvas, "width");
    if (displayWidth !== void 0) {
      canvas.width = displayWidth;
    }
  }
  if (isNullOrEmpty(renderHeight)) {
    if (canvas.style.height === "") {
      canvas.height = canvas.width / (aspectRatio || 2);
    } else {
      const displayHeight = readUsedSize(canvas, "height");
      if (displayHeight !== void 0) {
        canvas.height = displayHeight;
      }
    }
  }
  return canvas;
}
var eventListenerOptions = supportsEventListenerOptions ? {
  passive: true
} : false;
function addListener(node, type, listener) {
  if (node) {
    node.addEventListener(type, listener, eventListenerOptions);
  }
}
function removeListener(chart, type, listener) {
  if (chart && chart.canvas) {
    chart.canvas.removeEventListener(type, listener, eventListenerOptions);
  }
}
function fromNativeEvent(event, chart) {
  const type = EVENT_TYPES[event.type] || event.type;
  const {
    x,
    y
  } = getRelativePosition(event, chart);
  return {
    type,
    chart,
    native: event,
    x: x !== void 0 ? x : null,
    y: y !== void 0 ? y : null
  };
}
function nodeListContains(nodeList, canvas) {
  for (const node of nodeList) {
    if (node === canvas || node.contains(canvas)) {
      return true;
    }
  }
}
function createAttachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver((entries) => {
    let trigger2 = false;
    for (const entry of entries) {
      trigger2 = trigger2 || nodeListContains(entry.addedNodes, canvas);
      trigger2 = trigger2 && !nodeListContains(entry.removedNodes, canvas);
    }
    if (trigger2) {
      listener();
    }
  });
  observer.observe(document, {
    childList: true,
    subtree: true
  });
  return observer;
}
function createDetachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver((entries) => {
    let trigger2 = false;
    for (const entry of entries) {
      trigger2 = trigger2 || nodeListContains(entry.removedNodes, canvas);
      trigger2 = trigger2 && !nodeListContains(entry.addedNodes, canvas);
    }
    if (trigger2) {
      listener();
    }
  });
  observer.observe(document, {
    childList: true,
    subtree: true
  });
  return observer;
}
var drpListeningCharts = /* @__PURE__ */ new Map();
var oldDevicePixelRatio = 0;
function onWindowResize() {
  const dpr = window.devicePixelRatio;
  if (dpr === oldDevicePixelRatio) {
    return;
  }
  oldDevicePixelRatio = dpr;
  drpListeningCharts.forEach((resize, chart) => {
    if (chart.currentDevicePixelRatio !== dpr) {
      resize();
    }
  });
}
function listenDevicePixelRatioChanges(chart, resize) {
  if (!drpListeningCharts.size) {
    window.addEventListener("resize", onWindowResize);
  }
  drpListeningCharts.set(chart, resize);
}
function unlistenDevicePixelRatioChanges(chart) {
  drpListeningCharts.delete(chart);
  if (!drpListeningCharts.size) {
    window.removeEventListener("resize", onWindowResize);
  }
}
function createResizeObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const container = canvas && _getParentNode(canvas);
  if (!container) {
    return;
  }
  const resize = throttled((width, height) => {
    const w = container.clientWidth;
    listener(width, height);
    if (w < container.clientWidth) {
      listener();
    }
  }, window);
  const observer = new ResizeObserver((entries) => {
    const entry = entries[0];
    const width = entry.contentRect.width;
    const height = entry.contentRect.height;
    if (width === 0 && height === 0) {
      return;
    }
    resize(width, height);
  });
  observer.observe(container);
  listenDevicePixelRatioChanges(chart, resize);
  return observer;
}
function releaseObserver(chart, type, observer) {
  if (observer) {
    observer.disconnect();
  }
  if (type === "resize") {
    unlistenDevicePixelRatioChanges(chart);
  }
}
function createProxyAndListen(chart, type, listener) {
  const canvas = chart.canvas;
  const proxy = throttled((event) => {
    if (chart.ctx !== null) {
      listener(fromNativeEvent(event, chart));
    }
  }, chart);
  addListener(canvas, type, proxy);
  return proxy;
}
var DomPlatform = class extends BasePlatform {
  acquireContext(canvas, aspectRatio) {
    const context = canvas && canvas.getContext && canvas.getContext("2d");
    if (context && context.canvas === canvas) {
      initCanvas(canvas, aspectRatio);
      return context;
    }
    return null;
  }
  releaseContext(context) {
    const canvas = context.canvas;
    if (!canvas[EXPANDO_KEY]) {
      return false;
    }
    const initial = canvas[EXPANDO_KEY].initial;
    ["height", "width"].forEach((prop) => {
      const value = initial[prop];
      if (isNullOrUndef(value)) {
        canvas.removeAttribute(prop);
      } else {
        canvas.setAttribute(prop, value);
      }
    });
    const style2 = initial.style || {};
    Object.keys(style2).forEach((key) => {
      canvas.style[key] = style2[key];
    });
    canvas.width = canvas.width;
    delete canvas[EXPANDO_KEY];
    return true;
  }
  addEventListener(chart, type, listener) {
    this.removeEventListener(chart, type);
    const proxies = chart.$proxies || (chart.$proxies = {});
    const handlers = {
      attach: createAttachObserver,
      detach: createDetachObserver,
      resize: createResizeObserver
    };
    const handler = handlers[type] || createProxyAndListen;
    proxies[type] = handler(chart, type, listener);
  }
  removeEventListener(chart, type) {
    const proxies = chart.$proxies || (chart.$proxies = {});
    const proxy = proxies[type];
    if (!proxy) {
      return;
    }
    const handlers = {
      attach: releaseObserver,
      detach: releaseObserver,
      resize: releaseObserver
    };
    const handler = handlers[type] || removeListener;
    handler(chart, type, proxy);
    proxies[type] = void 0;
  }
  getDevicePixelRatio() {
    return window.devicePixelRatio;
  }
  getMaximumSize(canvas, width, height, aspectRatio) {
    return getMaximumSize(canvas, width, height, aspectRatio);
  }
  isAttached(canvas) {
    const container = canvas && _getParentNode(canvas);
    return !!(container && container.isConnected);
  }
};
function _detectPlatform(canvas) {
  if (!_isDomSupported() || typeof OffscreenCanvas !== "undefined" && canvas instanceof OffscreenCanvas) {
    return BasicPlatform;
  }
  return DomPlatform;
}
var Element = class {
  static defaults = {};
  static defaultRoutes = void 0;
  x;
  y;
  active = false;
  options;
  $animations;
  tooltipPosition(useFinalPosition) {
    const {
      x,
      y
    } = this.getProps(["x", "y"], useFinalPosition);
    return {
      x,
      y
    };
  }
  hasValue() {
    return isNumber(this.x) && isNumber(this.y);
  }
  getProps(props, final) {
    const anims = this.$animations;
    if (!final || !anims) {
      return this;
    }
    const ret = {};
    props.forEach((prop) => {
      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];
    });
    return ret;
  }
};
function autoSkip(scale, ticks) {
  const tickOpts = scale.options.ticks;
  const determinedMaxTicks = determineMaxTicks(scale);
  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);
  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];
  const numMajorIndices = majorIndices.length;
  const first = majorIndices[0];
  const last = majorIndices[numMajorIndices - 1];
  const newTicks = [];
  if (numMajorIndices > ticksLimit) {
    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);
    return newTicks;
  }
  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);
  if (numMajorIndices > 0) {
    let i, ilen;
    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;
    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);
    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {
      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);
    }
    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);
    return newTicks;
  }
  skip(ticks, newTicks, spacing);
  return newTicks;
}
function determineMaxTicks(scale) {
  const offset = scale.options.offset;
  const tickLength = scale._tickSize();
  const maxScale = scale._length / tickLength + (offset ? 0 : 1);
  const maxChart = scale._maxLength / tickLength;
  return Math.floor(Math.min(maxScale, maxChart));
}
function calculateSpacing(majorIndices, ticks, ticksLimit) {
  const evenMajorSpacing = getEvenSpacing(majorIndices);
  const spacing = ticks.length / ticksLimit;
  if (!evenMajorSpacing) {
    return Math.max(spacing, 1);
  }
  const factors = _factorize(evenMajorSpacing);
  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {
    const factor = factors[i];
    if (factor > spacing) {
      return factor;
    }
  }
  return Math.max(spacing, 1);
}
function getMajorIndices(ticks) {
  const result = [];
  let i, ilen;
  for (i = 0, ilen = ticks.length; i < ilen; i++) {
    if (ticks[i].major) {
      result.push(i);
    }
  }
  return result;
}
function skipMajors(ticks, newTicks, majorIndices, spacing) {
  let count = 0;
  let next = majorIndices[0];
  let i;
  spacing = Math.ceil(spacing);
  for (i = 0; i < ticks.length; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = majorIndices[count * spacing];
    }
  }
}
function skip(ticks, newTicks, spacing, majorStart, majorEnd) {
  const start = valueOrDefault(majorStart, 0);
  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);
  let count = 0;
  let length, i, next;
  spacing = Math.ceil(spacing);
  if (majorEnd) {
    length = majorEnd - majorStart;
    spacing = length / Math.floor(length / spacing);
  }
  next = start;
  while (next < 0) {
    count++;
    next = Math.round(start + count * spacing);
  }
  for (i = Math.max(start, 0); i < end; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = Math.round(start + count * spacing);
    }
  }
}
function getEvenSpacing(arr) {
  const len = arr.length;
  let i, diff;
  if (len < 2) {
    return false;
  }
  for (diff = arr[0], i = 1; i < len; ++i) {
    if (arr[i] - arr[i - 1] !== diff) {
      return false;
    }
  }
  return diff;
}
var reverseAlign = (align) => align === "left" ? "right" : align === "right" ? "left" : align;
var offsetFromEdge = (scale, edge, offset) => edge === "top" || edge === "left" ? scale[edge] + offset : scale[edge] - offset;
var getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);
function sample(arr, numItems) {
  const result = [];
  const increment = arr.length / numItems;
  const len = arr.length;
  let i = 0;
  for (; i < len; i += increment) {
    result.push(arr[Math.floor(i)]);
  }
  return result;
}
function getPixelForGridLine(scale, index2, offsetGridLines) {
  const length = scale.ticks.length;
  const validIndex2 = Math.min(index2, length - 1);
  const start = scale._startPixel;
  const end = scale._endPixel;
  const epsilon = 1e-6;
  let lineValue = scale.getPixelForTick(validIndex2);
  let offset;
  if (offsetGridLines) {
    if (length === 1) {
      offset = Math.max(lineValue - start, end - lineValue);
    } else if (index2 === 0) {
      offset = (scale.getPixelForTick(1) - lineValue) / 2;
    } else {
      offset = (lineValue - scale.getPixelForTick(validIndex2 - 1)) / 2;
    }
    lineValue += validIndex2 < index2 ? offset : -offset;
    if (lineValue < start - epsilon || lineValue > end + epsilon) {
      return;
    }
  }
  return lineValue;
}
function garbageCollect(caches, length) {
  each(caches, (cache) => {
    const gc = cache.gc;
    const gcLen = gc.length / 2;
    let i;
    if (gcLen > length) {
      for (i = 0; i < gcLen; ++i) {
        delete cache.data[gc[i]];
      }
      gc.splice(0, gcLen);
    }
  });
}
function getTickMarkLength(options) {
  return options.drawTicks ? options.tickLength : 0;
}
function getTitleHeight(options, fallback) {
  if (!options.display) {
    return 0;
  }
  const font = toFont(options.font, fallback);
  const padding = toPadding(options.padding);
  const lines = isArray(options.text) ? options.text.length : 1;
  return lines * font.lineHeight + padding.height;
}
function createScaleContext(parent, scale) {
  return createContext(parent, {
    scale,
    type: "scale"
  });
}
function createTickContext(parent, index2, tick) {
  return createContext(parent, {
    tick,
    index: index2,
    type: "tick"
  });
}
function titleAlign(align, position, reverse) {
  let ret = _toLeftRightCenter(align);
  if (reverse && position !== "right" || !reverse && position === "right") {
    ret = reverseAlign(ret);
  }
  return ret;
}
function titleArgs(scale, offset, position, align) {
  const {
    top,
    left,
    bottom,
    right,
    chart
  } = scale;
  const {
    chartArea,
    scales: scales2
  } = chart;
  let rotation = 0;
  let maxWidth, titleX, titleY;
  const height = bottom - top;
  const width = right - left;
  if (scale.isHorizontal()) {
    titleX = _alignStartEnd(align, left, right);
    if (isObject(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleY = scales2[positionAxisID].getPixelForValue(value) + height - offset;
    } else if (position === "center") {
      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;
    } else {
      titleY = offsetFromEdge(scale, position, offset);
    }
    maxWidth = right - left;
  } else {
    if (isObject(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleX = scales2[positionAxisID].getPixelForValue(value) - width + offset;
    } else if (position === "center") {
      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;
    } else {
      titleX = offsetFromEdge(scale, position, offset);
    }
    titleY = _alignStartEnd(align, bottom, top);
    rotation = position === "left" ? -HALF_PI : HALF_PI;
  }
  return {
    titleX,
    titleY,
    maxWidth,
    rotation
  };
}
var Scale = class _Scale extends Element {
  constructor(cfg) {
    super();
    this.id = cfg.id;
    this.type = cfg.type;
    this.options = void 0;
    this.ctx = cfg.ctx;
    this.chart = cfg.chart;
    this.top = void 0;
    this.bottom = void 0;
    this.left = void 0;
    this.right = void 0;
    this.width = void 0;
    this.height = void 0;
    this._margins = {
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    };
    this.maxWidth = void 0;
    this.maxHeight = void 0;
    this.paddingTop = void 0;
    this.paddingBottom = void 0;
    this.paddingLeft = void 0;
    this.paddingRight = void 0;
    this.axis = void 0;
    this.labelRotation = void 0;
    this.min = void 0;
    this.max = void 0;
    this._range = void 0;
    this.ticks = [];
    this._gridLineItems = null;
    this._labelItems = null;
    this._labelSizes = null;
    this._length = 0;
    this._maxLength = 0;
    this._longestTextCache = {};
    this._startPixel = void 0;
    this._endPixel = void 0;
    this._reversePixels = false;
    this._userMax = void 0;
    this._userMin = void 0;
    this._suggestedMax = void 0;
    this._suggestedMin = void 0;
    this._ticksLength = 0;
    this._borderValue = 0;
    this._cache = {};
    this._dataLimitsCached = false;
    this.$context = void 0;
  }
  init(options) {
    this.options = options.setContext(this.getContext());
    this.axis = options.axis;
    this._userMin = this.parse(options.min);
    this._userMax = this.parse(options.max);
    this._suggestedMin = this.parse(options.suggestedMin);
    this._suggestedMax = this.parse(options.suggestedMax);
  }
  parse(raw, index2) {
    return raw;
  }
  getUserBounds() {
    let {
      _userMin,
      _userMax,
      _suggestedMin,
      _suggestedMax
    } = this;
    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);
    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);
    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);
    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);
    return {
      min: finiteOrDefault(_userMin, _suggestedMin),
      max: finiteOrDefault(_userMax, _suggestedMax),
      minDefined: isNumberFinite(_userMin),
      maxDefined: isNumberFinite(_userMax)
    };
  }
  getMinMax(canStack) {
    let {
      min,
      max,
      minDefined,
      maxDefined
    } = this.getUserBounds();
    let range;
    if (minDefined && maxDefined) {
      return {
        min,
        max
      };
    }
    const metas = this.getMatchingVisibleMetas();
    for (let i = 0, ilen = metas.length; i < ilen; ++i) {
      range = metas[i].controller.getMinMax(this, canStack);
      if (!minDefined) {
        min = Math.min(min, range.min);
      }
      if (!maxDefined) {
        max = Math.max(max, range.max);
      }
    }
    min = maxDefined && min > max ? max : min;
    max = minDefined && min > max ? min : max;
    return {
      min: finiteOrDefault(min, finiteOrDefault(max, min)),
      max: finiteOrDefault(max, finiteOrDefault(min, max))
    };
  }
  getPadding() {
    return {
      left: this.paddingLeft || 0,
      top: this.paddingTop || 0,
      right: this.paddingRight || 0,
      bottom: this.paddingBottom || 0
    };
  }
  getTicks() {
    return this.ticks;
  }
  getLabels() {
    const data = this.chart.data;
    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];
  }
  getLabelItems(chartArea = this.chart.chartArea) {
    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));
    return items;
  }
  beforeLayout() {
    this._cache = {};
    this._dataLimitsCached = false;
  }
  beforeUpdate() {
    callback(this.options.beforeUpdate, [this]);
  }
  update(maxWidth, maxHeight, margins) {
    const {
      beginAtZero,
      grace,
      ticks: tickOpts
    } = this.options;
    const sampleSize = tickOpts.sampleSize;
    this.beforeUpdate();
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins = Object.assign({
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    }, margins);
    this.ticks = null;
    this._labelSizes = null;
    this._gridLineItems = null;
    this._labelItems = null;
    this.beforeSetDimensions();
    this.setDimensions();
    this.afterSetDimensions();
    this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;
    if (!this._dataLimitsCached) {
      this.beforeDataLimits();
      this.determineDataLimits();
      this.afterDataLimits();
      this._range = _addGrace(this, grace, beginAtZero);
      this._dataLimitsCached = true;
    }
    this.beforeBuildTicks();
    this.ticks = this.buildTicks() || [];
    this.afterBuildTicks();
    const samplingEnabled = sampleSize < this.ticks.length;
    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);
    this.configure();
    this.beforeCalculateLabelRotation();
    this.calculateLabelRotation();
    this.afterCalculateLabelRotation();
    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === "auto")) {
      this.ticks = autoSkip(this, this.ticks);
      this._labelSizes = null;
      this.afterAutoSkip();
    }
    if (samplingEnabled) {
      this._convertTicksToLabels(this.ticks);
    }
    this.beforeFit();
    this.fit();
    this.afterFit();
    this.afterUpdate();
  }
  configure() {
    let reversePixels = this.options.reverse;
    let startPixel, endPixel;
    if (this.isHorizontal()) {
      startPixel = this.left;
      endPixel = this.right;
    } else {
      startPixel = this.top;
      endPixel = this.bottom;
      reversePixels = !reversePixels;
    }
    this._startPixel = startPixel;
    this._endPixel = endPixel;
    this._reversePixels = reversePixels;
    this._length = endPixel - startPixel;
    this._alignToPixels = this.options.alignToPixels;
  }
  afterUpdate() {
    callback(this.options.afterUpdate, [this]);
  }
  beforeSetDimensions() {
    callback(this.options.beforeSetDimensions, [this]);
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = 0;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = 0;
      this.bottom = this.height;
    }
    this.paddingLeft = 0;
    this.paddingTop = 0;
    this.paddingRight = 0;
    this.paddingBottom = 0;
  }
  afterSetDimensions() {
    callback(this.options.afterSetDimensions, [this]);
  }
  _callHooks(name) {
    this.chart.notifyPlugins(name, this.getContext());
    callback(this.options[name], [this]);
  }
  beforeDataLimits() {
    this._callHooks("beforeDataLimits");
  }
  determineDataLimits() {
  }
  afterDataLimits() {
    this._callHooks("afterDataLimits");
  }
  beforeBuildTicks() {
    this._callHooks("beforeBuildTicks");
  }
  buildTicks() {
    return [];
  }
  afterBuildTicks() {
    this._callHooks("afterBuildTicks");
  }
  beforeTickToLabelConversion() {
    callback(this.options.beforeTickToLabelConversion, [this]);
  }
  generateTickLabels(ticks) {
    const tickOpts = this.options.ticks;
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      tick = ticks[i];
      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);
    }
  }
  afterTickToLabelConversion() {
    callback(this.options.afterTickToLabelConversion, [this]);
  }
  beforeCalculateLabelRotation() {
    callback(this.options.beforeCalculateLabelRotation, [this]);
  }
  calculateLabelRotation() {
    const options = this.options;
    const tickOpts = options.ticks;
    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);
    const minRotation = tickOpts.minRotation || 0;
    const maxRotation = tickOpts.maxRotation;
    let labelRotation = minRotation;
    let tickWidth, maxHeight, maxLabelDiagonal;
    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {
      this.labelRotation = minRotation;
      return;
    }
    const labelSizes = this._getLabelSizes();
    const maxLabelWidth = labelSizes.widest.width;
    const maxLabelHeight = labelSizes.highest.height;
    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);
    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);
    if (maxLabelWidth + 6 > tickWidth) {
      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));
      maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);
      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);
      labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));
      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));
    }
    this.labelRotation = labelRotation;
  }
  afterCalculateLabelRotation() {
    callback(this.options.afterCalculateLabelRotation, [this]);
  }
  afterAutoSkip() {
  }
  beforeFit() {
    callback(this.options.beforeFit, [this]);
  }
  fit() {
    const minSize = {
      width: 0,
      height: 0
    };
    const {
      chart,
      options: {
        ticks: tickOpts,
        title: titleOpts,
        grid: gridOpts
      }
    } = this;
    const display = this._isVisible();
    const isHorizontal = this.isHorizontal();
    if (display) {
      const titleHeight = getTitleHeight(titleOpts, chart.options.font);
      if (isHorizontal) {
        minSize.width = this.maxWidth;
        minSize.height = getTickMarkLength(gridOpts) + titleHeight;
      } else {
        minSize.height = this.maxHeight;
        minSize.width = getTickMarkLength(gridOpts) + titleHeight;
      }
      if (tickOpts.display && this.ticks.length) {
        const {
          first,
          last,
          widest,
          highest
        } = this._getLabelSizes();
        const tickPadding = tickOpts.padding * 2;
        const angleRadians = toRadians(this.labelRotation);
        const cos = Math.cos(angleRadians);
        const sin = Math.sin(angleRadians);
        if (isHorizontal) {
          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;
          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);
        } else {
          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;
          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);
        }
        this._calculatePadding(first, last, sin, cos);
      }
    }
    this._handleMargins();
    if (isHorizontal) {
      this.width = this._length = chart.width - this._margins.left - this._margins.right;
      this.height = minSize.height;
    } else {
      this.width = minSize.width;
      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;
    }
  }
  _calculatePadding(first, last, sin, cos) {
    const {
      ticks: {
        align,
        padding
      },
      position
    } = this.options;
    const isRotated = this.labelRotation !== 0;
    const labelsBelowTicks = position !== "top" && this.axis === "x";
    if (this.isHorizontal()) {
      const offsetLeft = this.getPixelForTick(0) - this.left;
      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);
      let paddingLeft = 0;
      let paddingRight = 0;
      if (isRotated) {
        if (labelsBelowTicks) {
          paddingLeft = cos * first.width;
          paddingRight = sin * last.height;
        } else {
          paddingLeft = sin * first.height;
          paddingRight = cos * last.width;
        }
      } else if (align === "start") {
        paddingRight = last.width;
      } else if (align === "end") {
        paddingLeft = first.width;
      } else if (align !== "inner") {
        paddingLeft = first.width / 2;
        paddingRight = last.width / 2;
      }
      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);
      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);
    } else {
      let paddingTop = last.height / 2;
      let paddingBottom = first.height / 2;
      if (align === "start") {
        paddingTop = 0;
        paddingBottom = first.height;
      } else if (align === "end") {
        paddingTop = last.height;
        paddingBottom = 0;
      }
      this.paddingTop = paddingTop + padding;
      this.paddingBottom = paddingBottom + padding;
    }
  }
  _handleMargins() {
    if (this._margins) {
      this._margins.left = Math.max(this.paddingLeft, this._margins.left);
      this._margins.top = Math.max(this.paddingTop, this._margins.top);
      this._margins.right = Math.max(this.paddingRight, this._margins.right);
      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);
    }
  }
  afterFit() {
    callback(this.options.afterFit, [this]);
  }
  isHorizontal() {
    const {
      axis,
      position
    } = this.options;
    return position === "top" || position === "bottom" || axis === "x";
  }
  isFullSize() {
    return this.options.fullSize;
  }
  _convertTicksToLabels(ticks) {
    this.beforeTickToLabelConversion();
    this.generateTickLabels(ticks);
    let i, ilen;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      if (isNullOrUndef(ticks[i].label)) {
        ticks.splice(i, 1);
        ilen--;
        i--;
      }
    }
    this.afterTickToLabelConversion();
  }
  _getLabelSizes() {
    let labelSizes = this._labelSizes;
    if (!labelSizes) {
      const sampleSize = this.options.ticks.sampleSize;
      let ticks = this.ticks;
      if (sampleSize < ticks.length) {
        ticks = sample(ticks, sampleSize);
      }
      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);
    }
    return labelSizes;
  }
  _computeLabelSizes(ticks, length, maxTicksLimit) {
    const {
      ctx,
      _longestTextCache: caches
    } = this;
    const widths = [];
    const heights = [];
    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));
    let widestLabelSize = 0;
    let highestLabelSize = 0;
    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;
    for (i = 0; i < length; i += increment) {
      label = ticks[i].label;
      tickFont = this._resolveTickFontOptions(i);
      ctx.font = fontString = tickFont.string;
      cache = caches[fontString] = caches[fontString] || {
        data: {},
        gc: []
      };
      lineHeight = tickFont.lineHeight;
      width = height = 0;
      if (!isNullOrUndef(label) && !isArray(label)) {
        width = _measureText(ctx, cache.data, cache.gc, width, label);
        height = lineHeight;
      } else if (isArray(label)) {
        for (j = 0, jlen = label.length; j < jlen; ++j) {
          nestedLabel = label[j];
          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {
            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);
            height += lineHeight;
          }
        }
      }
      widths.push(width);
      heights.push(height);
      widestLabelSize = Math.max(width, widestLabelSize);
      highestLabelSize = Math.max(height, highestLabelSize);
    }
    garbageCollect(caches, length);
    const widest = widths.indexOf(widestLabelSize);
    const highest = heights.indexOf(highestLabelSize);
    const valueAt = (idx) => ({
      width: widths[idx] || 0,
      height: heights[idx] || 0
    });
    return {
      first: valueAt(0),
      last: valueAt(length - 1),
      widest: valueAt(widest),
      highest: valueAt(highest),
      widths,
      heights
    };
  }
  getLabelForValue(value) {
    return value;
  }
  getPixelForValue(value, index2) {
    return NaN;
  }
  getValueForPixel(pixel) {
  }
  getPixelForTick(index2) {
    const ticks = this.ticks;
    if (index2 < 0 || index2 > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index2].value);
  }
  getPixelForDecimal(decimal) {
    if (this._reversePixels) {
      decimal = 1 - decimal;
    }
    const pixel = this._startPixel + decimal * this._length;
    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);
  }
  getDecimalForPixel(pixel) {
    const decimal = (pixel - this._startPixel) / this._length;
    return this._reversePixels ? 1 - decimal : decimal;
  }
  getBasePixel() {
    return this.getPixelForValue(this.getBaseValue());
  }
  getBaseValue() {
    const {
      min,
      max
    } = this;
    return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;
  }
  getContext(index2) {
    const ticks = this.ticks || [];
    if (index2 >= 0 && index2 < ticks.length) {
      const tick = ticks[index2];
      return tick.$context || (tick.$context = createTickContext(this.getContext(), index2, tick));
    }
    return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));
  }
  _tickSize() {
    const optionTicks = this.options.ticks;
    const rot = toRadians(this.labelRotation);
    const cos = Math.abs(Math.cos(rot));
    const sin = Math.abs(Math.sin(rot));
    const labelSizes = this._getLabelSizes();
    const padding = optionTicks.autoSkipPadding || 0;
    const w = labelSizes ? labelSizes.widest.width + padding : 0;
    const h = labelSizes ? labelSizes.highest.height + padding : 0;
    return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;
  }
  _isVisible() {
    const display = this.options.display;
    if (display !== "auto") {
      return !!display;
    }
    return this.getMatchingVisibleMetas().length > 0;
  }
  _computeGridLineItems(chartArea) {
    const axis = this.axis;
    const chart = this.chart;
    const options = this.options;
    const {
      grid,
      position,
      border
    } = options;
    const offset = grid.offset;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const ticksLength = ticks.length + (offset ? 1 : 0);
    const tl = getTickMarkLength(grid);
    const items = [];
    const borderOpts = border.setContext(this.getContext());
    const axisWidth = borderOpts.display ? borderOpts.width : 0;
    const axisHalfWidth = axisWidth / 2;
    const alignBorderValue = function(pixel) {
      return _alignPixel(chart, pixel, axisWidth);
    };
    let borderValue, i, lineValue, alignedLineValue;
    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;
    if (position === "top") {
      borderValue = alignBorderValue(this.bottom);
      ty1 = this.bottom - tl;
      ty2 = borderValue - axisHalfWidth;
      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;
      y2 = chartArea.bottom;
    } else if (position === "bottom") {
      borderValue = alignBorderValue(this.top);
      y1 = chartArea.top;
      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;
      ty1 = borderValue + axisHalfWidth;
      ty2 = this.top + tl;
    } else if (position === "left") {
      borderValue = alignBorderValue(this.right);
      tx1 = this.right - tl;
      tx2 = borderValue - axisHalfWidth;
      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;
      x2 = chartArea.right;
    } else if (position === "right") {
      borderValue = alignBorderValue(this.left);
      x1 = chartArea.left;
      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;
      tx1 = borderValue + axisHalfWidth;
      tx2 = this.left + tl;
    } else if (axis === "x") {
      if (position === "center") {
        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);
      } else if (isObject(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      y1 = chartArea.top;
      y2 = chartArea.bottom;
      ty1 = borderValue + axisHalfWidth;
      ty2 = ty1 + tl;
    } else if (axis === "y") {
      if (position === "center") {
        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);
      } else if (isObject(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      tx1 = borderValue - axisHalfWidth;
      tx2 = tx1 - tl;
      x1 = chartArea.left;
      x2 = chartArea.right;
    }
    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);
    const step = Math.max(1, Math.ceil(ticksLength / limit));
    for (i = 0; i < ticksLength; i += step) {
      const context = this.getContext(i);
      const optsAtIndex = grid.setContext(context);
      const optsAtIndexBorder = border.setContext(context);
      const lineWidth = optsAtIndex.lineWidth;
      const lineColor = optsAtIndex.color;
      const borderDash = optsAtIndexBorder.dash || [];
      const borderDashOffset = optsAtIndexBorder.dashOffset;
      const tickWidth = optsAtIndex.tickWidth;
      const tickColor = optsAtIndex.tickColor;
      const tickBorderDash = optsAtIndex.tickBorderDash || [];
      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;
      lineValue = getPixelForGridLine(this, i, offset);
      if (lineValue === void 0) {
        continue;
      }
      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);
      if (isHorizontal) {
        tx1 = tx2 = x1 = x2 = alignedLineValue;
      } else {
        ty1 = ty2 = y1 = y2 = alignedLineValue;
      }
      items.push({
        tx1,
        ty1,
        tx2,
        ty2,
        x1,
        y1,
        x2,
        y2,
        width: lineWidth,
        color: lineColor,
        borderDash,
        borderDashOffset,
        tickWidth,
        tickColor,
        tickBorderDash,
        tickBorderDashOffset
      });
    }
    this._ticksLength = ticksLength;
    this._borderValue = borderValue;
    return items;
  }
  _computeLabelItems(chartArea) {
    const axis = this.axis;
    const options = this.options;
    const {
      position,
      ticks: optionTicks
    } = options;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const {
      align,
      crossAlign,
      padding,
      mirror
    } = optionTicks;
    const tl = getTickMarkLength(options.grid);
    const tickAndPadding = tl + padding;
    const hTickAndPadding = mirror ? -padding : tickAndPadding;
    const rotation = -toRadians(this.labelRotation);
    const items = [];
    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;
    let textBaseline = "middle";
    if (position === "top") {
      y = this.bottom - hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === "bottom") {
      y = this.top + hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === "left") {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (position === "right") {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (axis === "x") {
      if (position === "center") {
        y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;
      } else if (isObject(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;
      }
      textAlign = this._getXAxisLabelAlignment();
    } else if (axis === "y") {
      if (position === "center") {
        x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;
      } else if (isObject(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        x = this.chart.scales[positionAxisID].getPixelForValue(value);
      }
      textAlign = this._getYAxisLabelAlignment(tl).textAlign;
    }
    if (axis === "y") {
      if (align === "start") {
        textBaseline = "top";
      } else if (align === "end") {
        textBaseline = "bottom";
      }
    }
    const labelSizes = this._getLabelSizes();
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      label = tick.label;
      const optsAtIndex = optionTicks.setContext(this.getContext(i));
      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;
      font = this._resolveTickFontOptions(i);
      lineHeight = font.lineHeight;
      lineCount = isArray(label) ? label.length : 1;
      const halfCount = lineCount / 2;
      const color2 = optsAtIndex.color;
      const strokeColor = optsAtIndex.textStrokeColor;
      const strokeWidth = optsAtIndex.textStrokeWidth;
      let tickTextAlign = textAlign;
      if (isHorizontal) {
        x = pixel;
        if (textAlign === "inner") {
          if (i === ilen - 1) {
            tickTextAlign = !this.options.reverse ? "right" : "left";
          } else if (i === 0) {
            tickTextAlign = !this.options.reverse ? "left" : "right";
          } else {
            tickTextAlign = "center";
          }
        }
        if (position === "top") {
          if (crossAlign === "near" || rotation !== 0) {
            textOffset = -lineCount * lineHeight + lineHeight / 2;
          } else if (crossAlign === "center") {
            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;
          } else {
            textOffset = -labelSizes.highest.height + lineHeight / 2;
          }
        } else {
          if (crossAlign === "near" || rotation !== 0) {
            textOffset = lineHeight / 2;
          } else if (crossAlign === "center") {
            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;
          } else {
            textOffset = labelSizes.highest.height - lineCount * lineHeight;
          }
        }
        if (mirror) {
          textOffset *= -1;
        }
        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {
          x += lineHeight / 2 * Math.sin(rotation);
        }
      } else {
        y = pixel;
        textOffset = (1 - lineCount) * lineHeight / 2;
      }
      let backdrop;
      if (optsAtIndex.showLabelBackdrop) {
        const labelPadding = toPadding(optsAtIndex.backdropPadding);
        const height = labelSizes.heights[i];
        const width = labelSizes.widths[i];
        let top = textOffset - labelPadding.top;
        let left = 0 - labelPadding.left;
        switch (textBaseline) {
          case "middle":
            top -= height / 2;
            break;
          case "bottom":
            top -= height;
            break;
        }
        switch (textAlign) {
          case "center":
            left -= width / 2;
            break;
          case "right":
            left -= width;
            break;
          case "inner":
            if (i === ilen - 1) {
              left -= width;
            } else if (i > 0) {
              left -= width / 2;
            }
            break;
        }
        backdrop = {
          left,
          top,
          width: width + labelPadding.width,
          height: height + labelPadding.height,
          color: optsAtIndex.backdropColor
        };
      }
      items.push({
        label,
        font,
        textOffset,
        options: {
          rotation,
          color: color2,
          strokeColor,
          strokeWidth,
          textAlign: tickTextAlign,
          textBaseline,
          translation: [x, y],
          backdrop
        }
      });
    }
    return items;
  }
  _getXAxisLabelAlignment() {
    const {
      position,
      ticks
    } = this.options;
    const rotation = -toRadians(this.labelRotation);
    if (rotation) {
      return position === "top" ? "left" : "right";
    }
    let align = "center";
    if (ticks.align === "start") {
      align = "left";
    } else if (ticks.align === "end") {
      align = "right";
    } else if (ticks.align === "inner") {
      align = "inner";
    }
    return align;
  }
  _getYAxisLabelAlignment(tl) {
    const {
      position,
      ticks: {
        crossAlign,
        mirror,
        padding
      }
    } = this.options;
    const labelSizes = this._getLabelSizes();
    const tickAndPadding = tl + padding;
    const widest = labelSizes.widest.width;
    let textAlign;
    let x;
    if (position === "left") {
      if (mirror) {
        x = this.right + padding;
        if (crossAlign === "near") {
          textAlign = "left";
        } else if (crossAlign === "center") {
          textAlign = "center";
          x += widest / 2;
        } else {
          textAlign = "right";
          x += widest;
        }
      } else {
        x = this.right - tickAndPadding;
        if (crossAlign === "near") {
          textAlign = "right";
        } else if (crossAlign === "center") {
          textAlign = "center";
          x -= widest / 2;
        } else {
          textAlign = "left";
          x = this.left;
        }
      }
    } else if (position === "right") {
      if (mirror) {
        x = this.left + padding;
        if (crossAlign === "near") {
          textAlign = "right";
        } else if (crossAlign === "center") {
          textAlign = "center";
          x -= widest / 2;
        } else {
          textAlign = "left";
          x -= widest;
        }
      } else {
        x = this.left + tickAndPadding;
        if (crossAlign === "near") {
          textAlign = "left";
        } else if (crossAlign === "center") {
          textAlign = "center";
          x += widest / 2;
        } else {
          textAlign = "right";
          x = this.right;
        }
      }
    } else {
      textAlign = "right";
    }
    return {
      textAlign,
      x
    };
  }
  _computeLabelArea() {
    if (this.options.ticks.mirror) {
      return;
    }
    const chart = this.chart;
    const position = this.options.position;
    if (position === "left" || position === "right") {
      return {
        top: 0,
        left: this.left,
        bottom: chart.height,
        right: this.right
      };
    }
    if (position === "top" || position === "bottom") {
      return {
        top: this.top,
        left: 0,
        bottom: this.bottom,
        right: chart.width
      };
    }
  }
  drawBackground() {
    const {
      ctx,
      options: {
        backgroundColor
      },
      left,
      top,
      width,
      height
    } = this;
    if (backgroundColor) {
      ctx.save();
      ctx.fillStyle = backgroundColor;
      ctx.fillRect(left, top, width, height);
      ctx.restore();
    }
  }
  getLineWidthForValue(value) {
    const grid = this.options.grid;
    if (!this._isVisible() || !grid.display) {
      return 0;
    }
    const ticks = this.ticks;
    const index2 = ticks.findIndex((t) => t.value === value);
    if (index2 >= 0) {
      const opts = grid.setContext(this.getContext(index2));
      return opts.lineWidth;
    }
    return 0;
  }
  drawGrid(chartArea) {
    const grid = this.options.grid;
    const ctx = this.ctx;
    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));
    let i, ilen;
    const drawLine = (p1, p2, style2) => {
      if (!style2.width || !style2.color) {
        return;
      }
      ctx.save();
      ctx.lineWidth = style2.width;
      ctx.strokeStyle = style2.color;
      ctx.setLineDash(style2.borderDash || []);
      ctx.lineDashOffset = style2.borderDashOffset;
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
      ctx.restore();
    };
    if (grid.display) {
      for (i = 0, ilen = items.length; i < ilen; ++i) {
        const item = items[i];
        if (grid.drawOnChartArea) {
          drawLine({
            x: item.x1,
            y: item.y1
          }, {
            x: item.x2,
            y: item.y2
          }, item);
        }
        if (grid.drawTicks) {
          drawLine({
            x: item.tx1,
            y: item.ty1
          }, {
            x: item.tx2,
            y: item.ty2
          }, {
            color: item.tickColor,
            width: item.tickWidth,
            borderDash: item.tickBorderDash,
            borderDashOffset: item.tickBorderDashOffset
          });
        }
      }
    }
  }
  drawBorder() {
    const {
      chart,
      ctx,
      options: {
        border,
        grid
      }
    } = this;
    const borderOpts = border.setContext(this.getContext());
    const axisWidth = border.display ? borderOpts.width : 0;
    if (!axisWidth) {
      return;
    }
    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;
    const borderValue = this._borderValue;
    let x1, x2, y1, y2;
    if (this.isHorizontal()) {
      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;
      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;
      y1 = y2 = borderValue;
    } else {
      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;
      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;
      x1 = x2 = borderValue;
    }
    ctx.save();
    ctx.lineWidth = borderOpts.width;
    ctx.strokeStyle = borderOpts.color;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    ctx.restore();
  }
  drawLabels(chartArea) {
    const optionTicks = this.options.ticks;
    if (!optionTicks.display) {
      return;
    }
    const ctx = this.ctx;
    const area = this._computeLabelArea();
    if (area) {
      clipArea(ctx, area);
    }
    const items = this.getLabelItems(chartArea);
    for (const item of items) {
      const renderTextOptions = item.options;
      const tickFont = item.font;
      const label = item.label;
      const y = item.textOffset;
      renderText(ctx, label, 0, y, tickFont, renderTextOptions);
    }
    if (area) {
      unclipArea(ctx);
    }
  }
  drawTitle() {
    const {
      ctx,
      options: {
        position,
        title,
        reverse
      }
    } = this;
    if (!title.display) {
      return;
    }
    const font = toFont(title.font);
    const padding = toPadding(title.padding);
    const align = title.align;
    let offset = font.lineHeight / 2;
    if (position === "bottom" || position === "center" || isObject(position)) {
      offset += padding.bottom;
      if (isArray(title.text)) {
        offset += font.lineHeight * (title.text.length - 1);
      }
    } else {
      offset += padding.top;
    }
    const {
      titleX,
      titleY,
      maxWidth,
      rotation
    } = titleArgs(this, offset, position, align);
    renderText(ctx, title.text, 0, 0, font, {
      color: title.color,
      maxWidth,
      rotation,
      textAlign: titleAlign(align, position, reverse),
      textBaseline: "middle",
      translation: [titleX, titleY]
    });
  }
  draw(chartArea) {
    if (!this._isVisible()) {
      return;
    }
    this.drawBackground();
    this.drawGrid(chartArea);
    this.drawBorder();
    this.drawTitle();
    this.drawLabels(chartArea);
  }
  _layers() {
    const opts = this.options;
    const tz = opts.ticks && opts.ticks.z || 0;
    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);
    const bz = valueOrDefault(opts.border && opts.border.z, 0);
    if (!this._isVisible() || this.draw !== _Scale.prototype.draw) {
      return [{
        z: tz,
        draw: (chartArea) => {
          this.draw(chartArea);
        }
      }];
    }
    return [{
      z: gz,
      draw: (chartArea) => {
        this.drawBackground();
        this.drawGrid(chartArea);
        this.drawTitle();
      }
    }, {
      z: bz,
      draw: () => {
        this.drawBorder();
      }
    }, {
      z: tz,
      draw: (chartArea) => {
        this.drawLabels(chartArea);
      }
    }];
  }
  getMatchingVisibleMetas(type) {
    const metas = this.chart.getSortedVisibleDatasetMetas();
    const axisID = this.axis + "AxisID";
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      const meta = metas[i];
      if (meta[axisID] === this.id && (!type || meta.type === type)) {
        result.push(meta);
      }
    }
    return result;
  }
  _resolveTickFontOptions(index2) {
    const opts = this.options.ticks.setContext(this.getContext(index2));
    return toFont(opts.font);
  }
  _maxDigits() {
    const fontSize = this._resolveTickFontOptions(0).lineHeight;
    return (this.isHorizontal() ? this.width : this.height) / fontSize;
  }
};
var TypedRegistry = class {
  constructor(type, scope, override) {
    this.type = type;
    this.scope = scope;
    this.override = override;
    this.items = /* @__PURE__ */ Object.create(null);
  }
  isForType(type) {
    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);
  }
  register(item) {
    const proto = Object.getPrototypeOf(item);
    let parentScope;
    if (isIChartComponent(proto)) {
      parentScope = this.register(proto);
    }
    const items = this.items;
    const id = item.id;
    const scope = this.scope + "." + id;
    if (!id) {
      throw new Error("class does not have id: " + item);
    }
    if (id in items) {
      return scope;
    }
    items[id] = item;
    registerDefaults(item, scope, parentScope);
    if (this.override) {
      defaults2.override(item.id, item.overrides);
    }
    return scope;
  }
  get(id) {
    return this.items[id];
  }
  unregister(item) {
    const items = this.items;
    const id = item.id;
    const scope = this.scope;
    if (id in items) {
      delete items[id];
    }
    if (scope && id in defaults2[scope]) {
      delete defaults2[scope][id];
      if (this.override) {
        delete overrides[id];
      }
    }
  }
};
function registerDefaults(item, scope, parentScope) {
  const itemDefaults = merge(/* @__PURE__ */ Object.create(null), [parentScope ? defaults2.get(parentScope) : {}, defaults2.get(scope), item.defaults]);
  defaults2.set(scope, itemDefaults);
  if (item.defaultRoutes) {
    routeDefaults(scope, item.defaultRoutes);
  }
  if (item.descriptors) {
    defaults2.describe(scope, item.descriptors);
  }
}
function routeDefaults(scope, routes2) {
  Object.keys(routes2).forEach((property) => {
    const propertyParts = property.split(".");
    const sourceName = propertyParts.pop();
    const sourceScope = [scope].concat(propertyParts).join(".");
    const parts = routes2[property].split(".");
    const targetName = parts.pop();
    const targetScope = parts.join(".");
    defaults2.route(sourceScope, sourceName, targetScope, targetName);
  });
}
function isIChartComponent(proto) {
  return "id" in proto && "defaults" in proto;
}
var Registry = class {
  constructor() {
    this.controllers = new TypedRegistry(DatasetController, "datasets", true);
    this.elements = new TypedRegistry(Element, "elements");
    this.plugins = new TypedRegistry(Object, "plugins");
    this.scales = new TypedRegistry(Scale, "scales");
    this._typedRegistries = [this.controllers, this.scales, this.elements];
  }
  add(...args) {
    this._each("register", args);
  }
  remove(...args) {
    this._each("unregister", args);
  }
  addControllers(...args) {
    this._each("register", args, this.controllers);
  }
  addElements(...args) {
    this._each("register", args, this.elements);
  }
  addPlugins(...args) {
    this._each("register", args, this.plugins);
  }
  addScales(...args) {
    this._each("register", args, this.scales);
  }
  getController(id) {
    return this._get(id, this.controllers, "controller");
  }
  getElement(id) {
    return this._get(id, this.elements, "element");
  }
  getPlugin(id) {
    return this._get(id, this.plugins, "plugin");
  }
  getScale(id) {
    return this._get(id, this.scales, "scale");
  }
  removeControllers(...args) {
    this._each("unregister", args, this.controllers);
  }
  removeElements(...args) {
    this._each("unregister", args, this.elements);
  }
  removePlugins(...args) {
    this._each("unregister", args, this.plugins);
  }
  removeScales(...args) {
    this._each("unregister", args, this.scales);
  }
  _each(method, args, typedRegistry) {
    [...args].forEach((arg) => {
      const reg = typedRegistry || this._getRegistryForType(arg);
      if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {
        this._exec(method, reg, arg);
      } else {
        each(arg, (item) => {
          const itemReg = typedRegistry || this._getRegistryForType(item);
          this._exec(method, itemReg, item);
        });
      }
    });
  }
  _exec(method, registry2, component) {
    const camelMethod = _capitalize(method);
    callback(component["before" + camelMethod], [], component);
    registry2[method](component);
    callback(component["after" + camelMethod], [], component);
  }
  _getRegistryForType(type) {
    for (let i = 0; i < this._typedRegistries.length; i++) {
      const reg = this._typedRegistries[i];
      if (reg.isForType(type)) {
        return reg;
      }
    }
    return this.plugins;
  }
  _get(id, typedRegistry, type) {
    const item = typedRegistry.get(id);
    if (item === void 0) {
      throw new Error('"' + id + '" is not a registered ' + type + ".");
    }
    return item;
  }
};
var registry = /* @__PURE__ */ new Registry();
var PluginService = class {
  constructor() {
    this._init = [];
  }
  notify(chart, hook, args, filter) {
    if (hook === "beforeInit") {
      this._init = this._createDescriptors(chart, true);
      this._notify(this._init, chart, "install");
    }
    const descriptors2 = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);
    const result = this._notify(descriptors2, chart, hook, args);
    if (hook === "afterDestroy") {
      this._notify(descriptors2, chart, "stop");
      this._notify(this._init, chart, "uninstall");
    }
    return result;
  }
  _notify(descriptors2, chart, hook, args) {
    args = args || {};
    for (const descriptor of descriptors2) {
      const plugin = descriptor.plugin;
      const method = plugin[hook];
      const params = [chart, args, descriptor.options];
      if (callback(method, params, plugin) === false && args.cancelable) {
        return false;
      }
    }
    return true;
  }
  invalidate() {
    if (!isNullOrUndef(this._cache)) {
      this._oldCache = this._cache;
      this._cache = void 0;
    }
  }
  _descriptors(chart) {
    if (this._cache) {
      return this._cache;
    }
    const descriptors2 = this._cache = this._createDescriptors(chart);
    this._notifyStateChanges(chart);
    return descriptors2;
  }
  _createDescriptors(chart, all) {
    const config = chart && chart.config;
    const options = valueOrDefault(config.options && config.options.plugins, {});
    const plugins2 = allPlugins(config);
    return options === false && !all ? [] : createDescriptors(chart, plugins2, options, all);
  }
  _notifyStateChanges(chart) {
    const previousDescriptors = this._oldCache || [];
    const descriptors2 = this._cache;
    const diff = (a, b) => a.filter((x) => !b.some((y) => x.plugin.id === y.plugin.id));
    this._notify(diff(previousDescriptors, descriptors2), chart, "stop");
    this._notify(diff(descriptors2, previousDescriptors), chart, "start");
  }
};
function allPlugins(config) {
  const localIds = {};
  const plugins2 = [];
  const keys = Object.keys(registry.plugins.items);
  for (let i = 0; i < keys.length; i++) {
    plugins2.push(registry.getPlugin(keys[i]));
  }
  const local = config.plugins || [];
  for (let i = 0; i < local.length; i++) {
    const plugin = local[i];
    if (plugins2.indexOf(plugin) === -1) {
      plugins2.push(plugin);
      localIds[plugin.id] = true;
    }
  }
  return {
    plugins: plugins2,
    localIds
  };
}
function getOpts(options, all) {
  if (!all && options === false) {
    return null;
  }
  if (options === true) {
    return {};
  }
  return options;
}
function createDescriptors(chart, {
  plugins: plugins2,
  localIds
}, options, all) {
  const result = [];
  const context = chart.getContext();
  for (const plugin of plugins2) {
    const id = plugin.id;
    const opts = getOpts(options[id], all);
    if (opts === null) {
      continue;
    }
    result.push({
      plugin,
      options: pluginOpts(chart.config, {
        plugin,
        local: localIds[id]
      }, opts, context)
    });
  }
  return result;
}
function pluginOpts(config, {
  plugin,
  local
}, opts, context) {
  const keys = config.pluginScopeKeys(plugin);
  const scopes = config.getOptionScopes(opts, keys);
  if (local && plugin.defaults) {
    scopes.push(plugin.defaults);
  }
  return config.createResolver(scopes, context, [""], {
    scriptable: false,
    indexable: false,
    allKeys: true
  });
}
function getIndexAxis(type, options) {
  const datasetDefaults = defaults2.datasets[type] || {};
  const datasetOptions = (options.datasets || {})[type] || {};
  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || "x";
}
function getAxisFromDefaultScaleID(id, indexAxis) {
  let axis = id;
  if (id === "_index_") {
    axis = indexAxis;
  } else if (id === "_value_") {
    axis = indexAxis === "x" ? "y" : "x";
  }
  return axis;
}
function getDefaultScaleIDFromAxis(axis, indexAxis) {
  return axis === indexAxis ? "_index_" : "_value_";
}
function idMatchesAxis(id) {
  if (id === "x" || id === "y" || id === "r") {
    return id;
  }
}
function axisFromPosition(position) {
  if (position === "top" || position === "bottom") {
    return "x";
  }
  if (position === "left" || position === "right") {
    return "y";
  }
}
function determineAxis(id, ...scaleOptions) {
  if (idMatchesAxis(id)) {
    return id;
  }
  for (const opts of scaleOptions) {
    const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());
    if (axis) {
      return axis;
    }
  }
  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);
}
function getAxisFromDataset(id, axis, dataset) {
  if (dataset[axis + "AxisID"] === id) {
    return {
      axis
    };
  }
}
function retrieveAxisFromDatasets(id, config) {
  if (config.data && config.data.datasets) {
    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);
    if (boundDs.length) {
      return getAxisFromDataset(id, "x", boundDs[0]) || getAxisFromDataset(id, "y", boundDs[0]);
    }
  }
  return {};
}
function mergeScaleConfig(config, options) {
  const chartDefaults = overrides[config.type] || {
    scales: {}
  };
  const configScales = options.scales || {};
  const chartIndexAxis = getIndexAxis(config.type, options);
  const scales2 = /* @__PURE__ */ Object.create(null);
  Object.keys(configScales).forEach((id) => {
    const scaleConf = configScales[id];
    if (!isObject(scaleConf)) {
      return console.error(`Invalid scale configuration for scale: ${id}`);
    }
    if (scaleConf._proxy) {
      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);
    }
    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults2.scales[scaleConf.type]);
    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);
    const defaultScaleOptions = chartDefaults.scales || {};
    scales2[id] = mergeIf(/* @__PURE__ */ Object.create(null), [{
      axis
    }, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);
  });
  config.data.datasets.forEach((dataset) => {
    const type = dataset.type || config.type;
    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);
    const datasetDefaults = overrides[type] || {};
    const defaultScaleOptions = datasetDefaults.scales || {};
    Object.keys(defaultScaleOptions).forEach((defaultID) => {
      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);
      const id = dataset[axis + "AxisID"] || axis;
      scales2[id] = scales2[id] || /* @__PURE__ */ Object.create(null);
      mergeIf(scales2[id], [{
        axis
      }, configScales[id], defaultScaleOptions[defaultID]]);
    });
  });
  Object.keys(scales2).forEach((key) => {
    const scale = scales2[key];
    mergeIf(scale, [defaults2.scales[scale.type], defaults2.scale]);
  });
  return scales2;
}
function initOptions(config) {
  const options = config.options || (config.options = {});
  options.plugins = valueOrDefault(options.plugins, {});
  options.scales = mergeScaleConfig(config, options);
}
function initData(data) {
  data = data || {};
  data.datasets = data.datasets || [];
  data.labels = data.labels || [];
  return data;
}
function initConfig(config) {
  config = config || {};
  config.data = initData(config.data);
  initOptions(config);
  return config;
}
var keyCache = /* @__PURE__ */ new Map();
var keysCached = /* @__PURE__ */ new Set();
function cachedKeys(cacheKey, generate) {
  let keys = keyCache.get(cacheKey);
  if (!keys) {
    keys = generate();
    keyCache.set(cacheKey, keys);
    keysCached.add(keys);
  }
  return keys;
}
var addIfFound = (set2, obj, key) => {
  const opts = resolveObjectKey(obj, key);
  if (opts !== void 0) {
    set2.add(opts);
  }
};
var Config = class {
  constructor(config) {
    this._config = initConfig(config);
    this._scopeCache = /* @__PURE__ */ new Map();
    this._resolverCache = /* @__PURE__ */ new Map();
  }
  get platform() {
    return this._config.platform;
  }
  get type() {
    return this._config.type;
  }
  set type(type) {
    this._config.type = type;
  }
  get data() {
    return this._config.data;
  }
  set data(data) {
    this._config.data = initData(data);
  }
  get options() {
    return this._config.options;
  }
  set options(options) {
    this._config.options = options;
  }
  get plugins() {
    return this._config.plugins;
  }
  update() {
    const config = this._config;
    this.clearCache();
    initOptions(config);
  }
  clearCache() {
    this._scopeCache.clear();
    this._resolverCache.clear();
  }
  datasetScopeKeys(datasetType) {
    return cachedKeys(datasetType, () => [[`datasets.${datasetType}`, ""]]);
  }
  datasetAnimationScopeKeys(datasetType, transition2) {
    return cachedKeys(`${datasetType}.transition.${transition2}`, () => [[`datasets.${datasetType}.transitions.${transition2}`, `transitions.${transition2}`], [`datasets.${datasetType}`, ""]]);
  }
  datasetElementScopeKeys(datasetType, elementType) {
    return cachedKeys(`${datasetType}-${elementType}`, () => [[`datasets.${datasetType}.elements.${elementType}`, `datasets.${datasetType}`, `elements.${elementType}`, ""]]);
  }
  pluginScopeKeys(plugin) {
    const id = plugin.id;
    const type = this.type;
    return cachedKeys(`${type}-plugin-${id}`, () => [[`plugins.${id}`, ...plugin.additionalOptionScopes || []]]);
  }
  _cachedScopes(mainScope, resetCache) {
    const _scopeCache = this._scopeCache;
    let cache = _scopeCache.get(mainScope);
    if (!cache || resetCache) {
      cache = /* @__PURE__ */ new Map();
      _scopeCache.set(mainScope, cache);
    }
    return cache;
  }
  getOptionScopes(mainScope, keyLists, resetCache) {
    const {
      options,
      type
    } = this;
    const cache = this._cachedScopes(mainScope, resetCache);
    const cached = cache.get(keyLists);
    if (cached) {
      return cached;
    }
    const scopes = /* @__PURE__ */ new Set();
    keyLists.forEach((keys) => {
      if (mainScope) {
        scopes.add(mainScope);
        keys.forEach((key) => addIfFound(scopes, mainScope, key));
      }
      keys.forEach((key) => addIfFound(scopes, options, key));
      keys.forEach((key) => addIfFound(scopes, overrides[type] || {}, key));
      keys.forEach((key) => addIfFound(scopes, defaults2, key));
      keys.forEach((key) => addIfFound(scopes, descriptors, key));
    });
    const array = Array.from(scopes);
    if (array.length === 0) {
      array.push(/* @__PURE__ */ Object.create(null));
    }
    if (keysCached.has(keyLists)) {
      cache.set(keyLists, array);
    }
    return array;
  }
  chartOptionScopes() {
    const {
      options,
      type
    } = this;
    return [options, overrides[type] || {}, defaults2.datasets[type] || {}, {
      type
    }, defaults2, descriptors];
  }
  resolveNamedOptions(scopes, names2, context, prefixes = [""]) {
    const result = {
      $shared: true
    };
    const {
      resolver,
      subPrefixes
    } = getResolver(this._resolverCache, scopes, prefixes);
    let options = resolver;
    if (needContext(resolver, names2)) {
      result.$shared = false;
      context = isFunction(context) ? context() : context;
      const subResolver = this.createResolver(scopes, context, subPrefixes);
      options = _attachContext(resolver, context, subResolver);
    }
    for (const prop of names2) {
      result[prop] = options[prop];
    }
    return result;
  }
  createResolver(scopes, context, prefixes = [""], descriptorDefaults) {
    const {
      resolver
    } = getResolver(this._resolverCache, scopes, prefixes);
    return isObject(context) ? _attachContext(resolver, context, void 0, descriptorDefaults) : resolver;
  }
};
function getResolver(resolverCache, scopes, prefixes) {
  let cache = resolverCache.get(scopes);
  if (!cache) {
    cache = /* @__PURE__ */ new Map();
    resolverCache.set(scopes, cache);
  }
  const cacheKey = prefixes.join();
  let cached = cache.get(cacheKey);
  if (!cached) {
    const resolver = _createResolver(scopes, prefixes);
    cached = {
      resolver,
      subPrefixes: prefixes.filter((p) => !p.toLowerCase().includes("hover"))
    };
    cache.set(cacheKey, cached);
  }
  return cached;
}
var hasFunction = (value) => isObject(value) && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));
function needContext(proxy, names2) {
  const {
    isScriptable,
    isIndexable
  } = _descriptors(proxy);
  for (const prop of names2) {
    const scriptable = isScriptable(prop);
    const indexable = isIndexable(prop);
    const value = (indexable || scriptable) && proxy[prop];
    if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {
      return true;
    }
  }
  return false;
}
var version = "4.5.0";
var KNOWN_POSITIONS = ["top", "bottom", "left", "right", "chartArea"];
function positionIsHorizontal(position, axis) {
  return position === "top" || position === "bottom" || KNOWN_POSITIONS.indexOf(position) === -1 && axis === "x";
}
function compare2Level(l1, l2) {
  return function(a, b) {
    return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];
  };
}
function onAnimationsComplete(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  chart.notifyPlugins("afterRender");
  callback(animationOptions && animationOptions.onComplete, [context], chart);
}
function onAnimationProgress(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  callback(animationOptions && animationOptions.onProgress, [context], chart);
}
function getCanvas(item) {
  if (_isDomSupported() && typeof item === "string") {
    item = document.getElementById(item);
  } else if (item && item.length) {
    item = item[0];
  }
  if (item && item.canvas) {
    item = item.canvas;
  }
  return item;
}
var instances = {};
var getChart = (key) => {
  const canvas = getCanvas(key);
  return Object.values(instances).filter((c) => c.canvas === canvas).pop();
};
function moveNumericKeys(obj, start, move) {
  const keys = Object.keys(obj);
  for (const key of keys) {
    const intKey = +key;
    if (intKey >= start) {
      const value = obj[key];
      delete obj[key];
      if (move > 0 || intKey > start) {
        obj[intKey + move] = value;
      }
    }
  }
}
function determineLastEvent(e, lastEvent, inChartArea, isClick) {
  if (!inChartArea || e.type === "mouseout") {
    return null;
  }
  if (isClick) {
    return lastEvent;
  }
  return e;
}
var Chart = class {
  static defaults = defaults2;
  static instances = instances;
  static overrides = overrides;
  static registry = registry;
  static version = version;
  static getChart = getChart;
  static register(...items) {
    registry.add(...items);
    invalidatePlugins();
  }
  static unregister(...items) {
    registry.remove(...items);
    invalidatePlugins();
  }
  constructor(item, userConfig) {
    const config = this.config = new Config(userConfig);
    const initialCanvas = getCanvas(item);
    const existingChart = getChart(initialCanvas);
    if (existingChart) {
      throw new Error("Canvas is already in use. Chart with ID '" + existingChart.id + "' must be destroyed before the canvas with ID '" + existingChart.canvas.id + "' can be reused.");
    }
    const options = config.createResolver(config.chartOptionScopes(), this.getContext());
    this.platform = new (config.platform || _detectPlatform(initialCanvas))();
    this.platform.updateConfig(config);
    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);
    const canvas = context && context.canvas;
    const height = canvas && canvas.height;
    const width = canvas && canvas.width;
    this.id = uid();
    this.ctx = context;
    this.canvas = canvas;
    this.width = width;
    this.height = height;
    this._options = options;
    this._aspectRatio = this.aspectRatio;
    this._layers = [];
    this._metasets = [];
    this._stacks = void 0;
    this.boxes = [];
    this.currentDevicePixelRatio = void 0;
    this.chartArea = void 0;
    this._active = [];
    this._lastEvent = void 0;
    this._listeners = {};
    this._responsiveListeners = void 0;
    this._sortedMetasets = [];
    this.scales = {};
    this._plugins = new PluginService();
    this.$proxies = {};
    this._hiddenIndices = {};
    this.attached = false;
    this._animationsDisabled = void 0;
    this.$context = void 0;
    this._doResize = debounce2((mode) => this.update(mode), options.resizeDelay || 0);
    this._dataChanges = [];
    instances[this.id] = this;
    if (!context || !canvas) {
      console.error("Failed to create chart: can't acquire context from the given item");
      return;
    }
    animator.listen(this, "complete", onAnimationsComplete);
    animator.listen(this, "progress", onAnimationProgress);
    this._initialize();
    if (this.attached) {
      this.update();
    }
  }
  get aspectRatio() {
    const {
      options: {
        aspectRatio,
        maintainAspectRatio
      },
      width,
      height,
      _aspectRatio
    } = this;
    if (!isNullOrUndef(aspectRatio)) {
      return aspectRatio;
    }
    if (maintainAspectRatio && _aspectRatio) {
      return _aspectRatio;
    }
    return height ? width / height : null;
  }
  get data() {
    return this.config.data;
  }
  set data(data) {
    this.config.data = data;
  }
  get options() {
    return this._options;
  }
  set options(options) {
    this.config.options = options;
  }
  get registry() {
    return registry;
  }
  _initialize() {
    this.notifyPlugins("beforeInit");
    if (this.options.responsive) {
      this.resize();
    } else {
      retinaScale(this, this.options.devicePixelRatio);
    }
    this.bindEvents();
    this.notifyPlugins("afterInit");
    return this;
  }
  clear() {
    clearCanvas(this.canvas, this.ctx);
    return this;
  }
  stop() {
    animator.stop(this);
    return this;
  }
  resize(width, height) {
    if (!animator.running(this)) {
      this._resize(width, height);
    } else {
      this._resizeBeforeDraw = {
        width,
        height
      };
    }
  }
  _resize(width, height) {
    const options = this.options;
    const canvas = this.canvas;
    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;
    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);
    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();
    const mode = this.width ? "resize" : "attach";
    this.width = newSize.width;
    this.height = newSize.height;
    this._aspectRatio = this.aspectRatio;
    if (!retinaScale(this, newRatio, true)) {
      return;
    }
    this.notifyPlugins("resize", {
      size: newSize
    });
    callback(options.onResize, [this, newSize], this);
    if (this.attached) {
      if (this._doResize(mode)) {
        this.render();
      }
    }
  }
  ensureScalesHaveIDs() {
    const options = this.options;
    const scalesOptions = options.scales || {};
    each(scalesOptions, (axisOptions, axisID) => {
      axisOptions.id = axisID;
    });
  }
  buildOrUpdateScales() {
    const options = this.options;
    const scaleOpts = options.scales;
    const scales2 = this.scales;
    const updated = Object.keys(scales2).reduce((obj, id) => {
      obj[id] = false;
      return obj;
    }, {});
    let items = [];
    if (scaleOpts) {
      items = items.concat(Object.keys(scaleOpts).map((id) => {
        const scaleOptions = scaleOpts[id];
        const axis = determineAxis(id, scaleOptions);
        const isRadial = axis === "r";
        const isHorizontal = axis === "x";
        return {
          options: scaleOptions,
          dposition: isRadial ? "chartArea" : isHorizontal ? "bottom" : "left",
          dtype: isRadial ? "radialLinear" : isHorizontal ? "category" : "linear"
        };
      }));
    }
    each(items, (item) => {
      const scaleOptions = item.options;
      const id = scaleOptions.id;
      const axis = determineAxis(id, scaleOptions);
      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);
      if (scaleOptions.position === void 0 || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {
        scaleOptions.position = item.dposition;
      }
      updated[id] = true;
      let scale = null;
      if (id in scales2 && scales2[id].type === scaleType) {
        scale = scales2[id];
      } else {
        const scaleClass = registry.getScale(scaleType);
        scale = new scaleClass({
          id,
          type: scaleType,
          ctx: this.ctx,
          chart: this
        });
        scales2[scale.id] = scale;
      }
      scale.init(scaleOptions, options);
    });
    each(updated, (hasUpdated, id) => {
      if (!hasUpdated) {
        delete scales2[id];
      }
    });
    each(scales2, (scale) => {
      layouts.configure(this, scale, scale.options);
      layouts.addBox(this, scale);
    });
  }
  _updateMetasets() {
    const metasets = this._metasets;
    const numData = this.data.datasets.length;
    const numMeta = metasets.length;
    metasets.sort((a, b) => a.index - b.index);
    if (numMeta > numData) {
      for (let i = numData; i < numMeta; ++i) {
        this._destroyDatasetMeta(i);
      }
      metasets.splice(numData, numMeta - numData);
    }
    this._sortedMetasets = metasets.slice(0).sort(compare2Level("order", "index"));
  }
  _removeUnreferencedMetasets() {
    const {
      _metasets: metasets,
      data: {
        datasets
      }
    } = this;
    if (metasets.length > datasets.length) {
      delete this._stacks;
    }
    metasets.forEach((meta, index2) => {
      if (datasets.filter((x) => x === meta._dataset).length === 0) {
        this._destroyDatasetMeta(index2);
      }
    });
  }
  buildOrUpdateControllers() {
    const newControllers = [];
    const datasets = this.data.datasets;
    let i, ilen;
    this._removeUnreferencedMetasets();
    for (i = 0, ilen = datasets.length; i < ilen; i++) {
      const dataset = datasets[i];
      let meta = this.getDatasetMeta(i);
      const type = dataset.type || this.config.type;
      if (meta.type && meta.type !== type) {
        this._destroyDatasetMeta(i);
        meta = this.getDatasetMeta(i);
      }
      meta.type = type;
      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);
      meta.order = dataset.order || 0;
      meta.index = i;
      meta.label = "" + dataset.label;
      meta.visible = this.isDatasetVisible(i);
      if (meta.controller) {
        meta.controller.updateIndex(i);
        meta.controller.linkScales();
      } else {
        const ControllerClass = registry.getController(type);
        const {
          datasetElementType,
          dataElementType
        } = defaults2.datasets[type];
        Object.assign(ControllerClass, {
          dataElementType: registry.getElement(dataElementType),
          datasetElementType: datasetElementType && registry.getElement(datasetElementType)
        });
        meta.controller = new ControllerClass(this, i);
        newControllers.push(meta.controller);
      }
    }
    this._updateMetasets();
    return newControllers;
  }
  _resetElements() {
    each(this.data.datasets, (dataset, datasetIndex) => {
      this.getDatasetMeta(datasetIndex).controller.reset();
    }, this);
  }
  reset() {
    this._resetElements();
    this.notifyPlugins("reset");
  }
  update(mode) {
    const config = this.config;
    config.update();
    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());
    const animsDisabled = this._animationsDisabled = !options.animation;
    this._updateScales();
    this._checkEventBindings();
    this._updateHiddenIndices();
    this._plugins.invalidate();
    if (this.notifyPlugins("beforeUpdate", {
      mode,
      cancelable: true
    }) === false) {
      return;
    }
    const newControllers = this.buildOrUpdateControllers();
    this.notifyPlugins("beforeElementsUpdate");
    let minPadding = 0;
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {
      const {
        controller
      } = this.getDatasetMeta(i);
      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;
      controller.buildOrUpdateElements(reset);
      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);
    }
    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;
    this._updateLayout(minPadding);
    if (!animsDisabled) {
      each(newControllers, (controller) => {
        controller.reset();
      });
    }
    this._updateDatasets(mode);
    this.notifyPlugins("afterUpdate", {
      mode
    });
    this._layers.sort(compare2Level("z", "_idx"));
    const {
      _active,
      _lastEvent
    } = this;
    if (_lastEvent) {
      this._eventHandler(_lastEvent, true);
    } else if (_active.length) {
      this._updateHoverStyles(_active, _active, true);
    }
    this.render();
  }
  _updateScales() {
    each(this.scales, (scale) => {
      layouts.removeBox(this, scale);
    });
    this.ensureScalesHaveIDs();
    this.buildOrUpdateScales();
  }
  _checkEventBindings() {
    const options = this.options;
    const existingEvents = new Set(Object.keys(this._listeners));
    const newEvents = new Set(options.events);
    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {
      this.unbindEvents();
      this.bindEvents();
    }
  }
  _updateHiddenIndices() {
    const {
      _hiddenIndices
    } = this;
    const changes = this._getUniformDataChanges() || [];
    for (const {
      method,
      start,
      count
    } of changes) {
      const move = method === "_removeElements" ? -count : count;
      moveNumericKeys(_hiddenIndices, start, move);
    }
  }
  _getUniformDataChanges() {
    const _dataChanges = this._dataChanges;
    if (!_dataChanges || !_dataChanges.length) {
      return;
    }
    this._dataChanges = [];
    const datasetCount = this.data.datasets.length;
    const makeSet = (idx) => new Set(_dataChanges.filter((c) => c[0] === idx).map((c, i) => i + "," + c.splice(1).join(",")));
    const changeSet = makeSet(0);
    for (let i = 1; i < datasetCount; i++) {
      if (!setsEqual(changeSet, makeSet(i))) {
        return;
      }
    }
    return Array.from(changeSet).map((c) => c.split(",")).map((a) => ({
      method: a[1],
      start: +a[2],
      count: +a[3]
    }));
  }
  _updateLayout(minPadding) {
    if (this.notifyPlugins("beforeLayout", {
      cancelable: true
    }) === false) {
      return;
    }
    layouts.update(this, this.width, this.height, minPadding);
    const area = this.chartArea;
    const noArea = area.width <= 0 || area.height <= 0;
    this._layers = [];
    each(this.boxes, (box) => {
      if (noArea && box.position === "chartArea") {
        return;
      }
      if (box.configure) {
        box.configure();
      }
      this._layers.push(...box._layers());
    }, this);
    this._layers.forEach((item, index2) => {
      item._idx = index2;
    });
    this.notifyPlugins("afterLayout");
  }
  _updateDatasets(mode) {
    if (this.notifyPlugins("beforeDatasetsUpdate", {
      mode,
      cancelable: true
    }) === false) {
      return;
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this.getDatasetMeta(i).controller.configure();
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._updateDataset(i, isFunction(mode) ? mode({
        datasetIndex: i
      }) : mode);
    }
    this.notifyPlugins("afterDatasetsUpdate", {
      mode
    });
  }
  _updateDataset(index2, mode) {
    const meta = this.getDatasetMeta(index2);
    const args = {
      meta,
      index: index2,
      mode,
      cancelable: true
    };
    if (this.notifyPlugins("beforeDatasetUpdate", args) === false) {
      return;
    }
    meta.controller._update(mode);
    args.cancelable = false;
    this.notifyPlugins("afterDatasetUpdate", args);
  }
  render() {
    if (this.notifyPlugins("beforeRender", {
      cancelable: true
    }) === false) {
      return;
    }
    if (animator.has(this)) {
      if (this.attached && !animator.running(this)) {
        animator.start(this);
      }
    } else {
      this.draw();
      onAnimationsComplete({
        chart: this
      });
    }
  }
  draw() {
    let i;
    if (this._resizeBeforeDraw) {
      const {
        width,
        height
      } = this._resizeBeforeDraw;
      this._resizeBeforeDraw = null;
      this._resize(width, height);
    }
    this.clear();
    if (this.width <= 0 || this.height <= 0) {
      return;
    }
    if (this.notifyPlugins("beforeDraw", {
      cancelable: true
    }) === false) {
      return;
    }
    const layers = this._layers;
    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {
      layers[i].draw(this.chartArea);
    }
    this._drawDatasets();
    for (; i < layers.length; ++i) {
      layers[i].draw(this.chartArea);
    }
    this.notifyPlugins("afterDraw");
  }
  _getSortedDatasetMetas(filterVisible) {
    const metasets = this._sortedMetasets;
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metasets.length; i < ilen; ++i) {
      const meta = metasets[i];
      if (!filterVisible || meta.visible) {
        result.push(meta);
      }
    }
    return result;
  }
  getSortedVisibleDatasetMetas() {
    return this._getSortedDatasetMetas(true);
  }
  _drawDatasets() {
    if (this.notifyPlugins("beforeDatasetsDraw", {
      cancelable: true
    }) === false) {
      return;
    }
    const metasets = this.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      this._drawDataset(metasets[i]);
    }
    this.notifyPlugins("afterDatasetsDraw");
  }
  _drawDataset(meta) {
    const ctx = this.ctx;
    const args = {
      meta,
      index: meta.index,
      cancelable: true
    };
    const clip = getDatasetClipArea(this, meta);
    if (this.notifyPlugins("beforeDatasetDraw", args) === false) {
      return;
    }
    if (clip) {
      clipArea(ctx, clip);
    }
    meta.controller.draw();
    if (clip) {
      unclipArea(ctx);
    }
    args.cancelable = false;
    this.notifyPlugins("afterDatasetDraw", args);
  }
  isPointInArea(point) {
    return _isPointInArea(point, this.chartArea, this._minPadding);
  }
  getElementsAtEventForMode(e, mode, options, useFinalPosition) {
    const method = Interaction.modes[mode];
    if (typeof method === "function") {
      return method(this, e, options, useFinalPosition);
    }
    return [];
  }
  getDatasetMeta(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    const metasets = this._metasets;
    let meta = metasets.filter((x) => x && x._dataset === dataset).pop();
    if (!meta) {
      meta = {
        type: null,
        data: [],
        dataset: null,
        controller: null,
        hidden: null,
        xAxisID: null,
        yAxisID: null,
        order: dataset && dataset.order || 0,
        index: datasetIndex,
        _dataset: dataset,
        _parsed: [],
        _sorted: false
      };
      metasets.push(meta);
    }
    return meta;
  }
  getContext() {
    return this.$context || (this.$context = createContext(null, {
      chart: this,
      type: "chart"
    }));
  }
  getVisibleDatasetCount() {
    return this.getSortedVisibleDatasetMetas().length;
  }
  isDatasetVisible(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    if (!dataset) {
      return false;
    }
    const meta = this.getDatasetMeta(datasetIndex);
    return typeof meta.hidden === "boolean" ? !meta.hidden : !dataset.hidden;
  }
  setDatasetVisibility(datasetIndex, visible) {
    const meta = this.getDatasetMeta(datasetIndex);
    meta.hidden = !visible;
  }
  toggleDataVisibility(index2) {
    this._hiddenIndices[index2] = !this._hiddenIndices[index2];
  }
  getDataVisibility(index2) {
    return !this._hiddenIndices[index2];
  }
  _updateVisibility(datasetIndex, dataIndex, visible) {
    const mode = visible ? "show" : "hide";
    const meta = this.getDatasetMeta(datasetIndex);
    const anims = meta.controller._resolveAnimations(void 0, mode);
    if (defined(dataIndex)) {
      meta.data[dataIndex].hidden = !visible;
      this.update();
    } else {
      this.setDatasetVisibility(datasetIndex, visible);
      anims.update(meta, {
        visible
      });
      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : void 0);
    }
  }
  hide(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, false);
  }
  show(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, true);
  }
  _destroyDatasetMeta(datasetIndex) {
    const meta = this._metasets[datasetIndex];
    if (meta && meta.controller) {
      meta.controller._destroy();
    }
    delete this._metasets[datasetIndex];
  }
  _stop() {
    let i, ilen;
    this.stop();
    animator.remove(this);
    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._destroyDatasetMeta(i);
    }
  }
  destroy() {
    this.notifyPlugins("beforeDestroy");
    const {
      canvas,
      ctx
    } = this;
    this._stop();
    this.config.clearCache();
    if (canvas) {
      this.unbindEvents();
      clearCanvas(canvas, ctx);
      this.platform.releaseContext(ctx);
      this.canvas = null;
      this.ctx = null;
    }
    delete instances[this.id];
    this.notifyPlugins("afterDestroy");
  }
  toBase64Image(...args) {
    return this.canvas.toDataURL(...args);
  }
  bindEvents() {
    this.bindUserEvents();
    if (this.options.responsive) {
      this.bindResponsiveEvents();
    } else {
      this.attached = true;
    }
  }
  bindUserEvents() {
    const listeners = this._listeners;
    const platform = this.platform;
    const _add = (type, listener2) => {
      platform.addEventListener(this, type, listener2);
      listeners[type] = listener2;
    };
    const listener = (e, x, y) => {
      e.offsetX = x;
      e.offsetY = y;
      this._eventHandler(e);
    };
    each(this.options.events, (type) => _add(type, listener));
  }
  bindResponsiveEvents() {
    if (!this._responsiveListeners) {
      this._responsiveListeners = {};
    }
    const listeners = this._responsiveListeners;
    const platform = this.platform;
    const _add = (type, listener2) => {
      platform.addEventListener(this, type, listener2);
      listeners[type] = listener2;
    };
    const _remove = (type, listener2) => {
      if (listeners[type]) {
        platform.removeEventListener(this, type, listener2);
        delete listeners[type];
      }
    };
    const listener = (width, height) => {
      if (this.canvas) {
        this.resize(width, height);
      }
    };
    let detached;
    const attached = () => {
      _remove("attach", attached);
      this.attached = true;
      this.resize();
      _add("resize", listener);
      _add("detach", detached);
    };
    detached = () => {
      this.attached = false;
      _remove("resize", listener);
      this._stop();
      this._resize(0, 0);
      _add("attach", attached);
    };
    if (platform.isAttached(this.canvas)) {
      attached();
    } else {
      detached();
    }
  }
  unbindEvents() {
    each(this._listeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._listeners = {};
    each(this._responsiveListeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._responsiveListeners = void 0;
  }
  updateHoverStyle(items, mode, enabled) {
    const prefix = enabled ? "set" : "remove";
    let meta, item, i, ilen;
    if (mode === "dataset") {
      meta = this.getDatasetMeta(items[0].datasetIndex);
      meta.controller["_" + prefix + "DatasetHoverStyle"]();
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      item = items[i];
      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;
      if (controller) {
        controller[prefix + "HoverStyle"](item.element, item.datasetIndex, item.index);
      }
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements) {
    const lastActive = this._active || [];
    const active = activeElements.map(({
      datasetIndex,
      index: index2
    }) => {
      const meta = this.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error("No dataset found at index " + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index2],
        index: index2
      };
    });
    const changed = !_elementsEqual(active, lastActive);
    if (changed) {
      this._active = active;
      this._lastEvent = null;
      this._updateHoverStyles(active, lastActive);
    }
  }
  notifyPlugins(hook, args, filter) {
    return this._plugins.notify(this, hook, args, filter);
  }
  isPluginEnabled(pluginId) {
    return this._plugins._cache.filter((p) => p.plugin.id === pluginId).length === 1;
  }
  _updateHoverStyles(active, lastActive, replay) {
    const hoverOptions = this.options.hover;
    const diff = (a, b) => a.filter((x) => !b.some((y) => x.datasetIndex === y.datasetIndex && x.index === y.index));
    const deactivated = diff(lastActive, active);
    const activated = replay ? active : diff(active, lastActive);
    if (deactivated.length) {
      this.updateHoverStyle(deactivated, hoverOptions.mode, false);
    }
    if (activated.length && hoverOptions.mode) {
      this.updateHoverStyle(activated, hoverOptions.mode, true);
    }
  }
  _eventHandler(e, replay) {
    const args = {
      event: e,
      replay,
      cancelable: true,
      inChartArea: this.isPointInArea(e)
    };
    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);
    if (this.notifyPlugins("beforeEvent", args, eventFilter) === false) {
      return;
    }
    const changed = this._handleEvent(e, replay, args.inChartArea);
    args.cancelable = false;
    this.notifyPlugins("afterEvent", args, eventFilter);
    if (changed || args.changed) {
      this.render();
    }
    return this;
  }
  _handleEvent(e, replay, inChartArea) {
    const {
      _active: lastActive = [],
      options
    } = this;
    const useFinalPosition = replay;
    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);
    const isClick = _isClickEvent(e);
    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);
    if (inChartArea) {
      this._lastEvent = null;
      callback(options.onHover, [e, active, this], this);
      if (isClick) {
        callback(options.onClick, [e, active, this], this);
      }
    }
    const changed = !_elementsEqual(active, lastActive);
    if (changed || replay) {
      this._active = active;
      this._updateHoverStyles(active, lastActive, replay);
    }
    this._lastEvent = lastEvent;
    return changed;
  }
  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {
    if (e.type === "mouseout") {
      return [];
    }
    if (!inChartArea) {
      return lastActive;
    }
    const hoverOptions = this.options.hover;
    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);
  }
};
function invalidatePlugins() {
  return each(Chart.instances, (chart) => chart._plugins.invalidate());
}
function clipSelf(ctx, element, endAngle) {
  const {
    startAngle,
    x,
    y,
    outerRadius,
    innerRadius,
    options
  } = element;
  const {
    borderWidth,
    borderJoinStyle
  } = options;
  const outerAngleClip = Math.min(borderWidth / outerRadius, _normalizeAngle(startAngle - endAngle));
  ctx.beginPath();
  ctx.arc(x, y, outerRadius - borderWidth / 2, startAngle + outerAngleClip / 2, endAngle - outerAngleClip / 2);
  if (innerRadius > 0) {
    const innerAngleClip = Math.min(borderWidth / innerRadius, _normalizeAngle(startAngle - endAngle));
    ctx.arc(x, y, innerRadius + borderWidth / 2, endAngle - innerAngleClip / 2, startAngle + innerAngleClip / 2, true);
  } else {
    const clipWidth = Math.min(borderWidth / 2, outerRadius * _normalizeAngle(startAngle - endAngle));
    if (borderJoinStyle === "round") {
      ctx.arc(x, y, clipWidth, endAngle - PI / 2, startAngle + PI / 2, true);
    } else if (borderJoinStyle === "bevel") {
      const r = 2 * clipWidth * clipWidth;
      const endX = -r * Math.cos(endAngle + PI / 2) + x;
      const endY = -r * Math.sin(endAngle + PI / 2) + y;
      const startX = r * Math.cos(startAngle + PI / 2) + x;
      const startY = r * Math.sin(startAngle + PI / 2) + y;
      ctx.lineTo(endX, endY);
      ctx.lineTo(startX, startY);
    }
  }
  ctx.closePath();
  ctx.moveTo(0, 0);
  ctx.rect(0, 0, ctx.canvas.width, ctx.canvas.height);
  ctx.clip("evenodd");
}
function clipArc(ctx, element, endAngle) {
  const {
    startAngle,
    pixelMargin,
    x,
    y,
    outerRadius,
    innerRadius
  } = element;
  let angleMargin = pixelMargin / outerRadius;
  ctx.beginPath();
  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);
  if (innerRadius > pixelMargin) {
    angleMargin = pixelMargin / innerRadius;
    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);
  } else {
    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);
  }
  ctx.closePath();
  ctx.clip();
}
function toRadiusCorners(value) {
  return _readValueToProps(value, ["outerStart", "outerEnd", "innerStart", "innerEnd"]);
}
function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {
  const o = toRadiusCorners(arc.options.borderRadius);
  const halfThickness = (outerRadius - innerRadius) / 2;
  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);
  const computeOuterLimit = (val) => {
    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;
    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));
  };
  return {
    outerStart: computeOuterLimit(o.outerStart),
    outerEnd: computeOuterLimit(o.outerEnd),
    innerStart: _limitValue(o.innerStart, 0, innerLimit),
    innerEnd: _limitValue(o.innerEnd, 0, innerLimit)
  };
}
function rThetaToXY(r, theta, x, y) {
  return {
    x: x + r * Math.cos(theta),
    y: y + r * Math.sin(theta)
  };
}
function pathArc(ctx, element, offset, spacing, end, circular) {
  const {
    x,
    y,
    startAngle: start,
    pixelMargin,
    innerRadius: innerR
  } = element;
  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);
  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;
  let spacingOffset = 0;
  const alpha2 = end - start;
  if (spacing) {
    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;
    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;
    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;
    const adjustedAngle = avNogSpacingRadius !== 0 ? alpha2 * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha2;
    spacingOffset = (alpha2 - adjustedAngle) / 2;
  }
  const beta = Math.max(1e-3, alpha2 * outerRadius - offset / PI) / outerRadius;
  const angleOffset = (alpha2 - beta) / 2;
  const startAngle = start + angleOffset + spacingOffset;
  const endAngle = end - angleOffset - spacingOffset;
  const {
    outerStart,
    outerEnd,
    innerStart,
    innerEnd
  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);
  const outerStartAdjustedRadius = outerRadius - outerStart;
  const outerEndAdjustedRadius = outerRadius - outerEnd;
  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;
  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;
  const innerStartAdjustedRadius = innerRadius + innerStart;
  const innerEndAdjustedRadius = innerRadius + innerEnd;
  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;
  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;
  ctx.beginPath();
  if (circular) {
    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;
    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);
    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);
    if (outerEnd > 0) {
      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);
    }
    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);
    ctx.lineTo(p4.x, p4.y);
    if (innerEnd > 0) {
      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);
    }
    const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;
    ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);
    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);
    if (innerStart > 0) {
      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);
    }
    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);
    ctx.lineTo(p8.x, p8.y);
    if (outerStart > 0) {
      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);
    }
  } else {
    ctx.moveTo(x, y);
    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;
    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerStartX, outerStartY);
    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;
    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerEndX, outerEndY);
  }
  ctx.closePath();
}
function drawArc(ctx, element, offset, spacing, circular) {
  const {
    fullCircles,
    startAngle,
    circumference
  } = element;
  let endAngle = element.endAngle;
  if (fullCircles) {
    pathArc(ctx, element, offset, spacing, endAngle, circular);
    for (let i = 0; i < fullCircles; ++i) {
      ctx.fill();
    }
    if (!isNaN(circumference)) {
      endAngle = startAngle + (circumference % TAU || TAU);
    }
  }
  pathArc(ctx, element, offset, spacing, endAngle, circular);
  ctx.fill();
  return endAngle;
}
function drawBorder(ctx, element, offset, spacing, circular) {
  const {
    fullCircles,
    startAngle,
    circumference,
    options
  } = element;
  const {
    borderWidth,
    borderJoinStyle,
    borderDash,
    borderDashOffset,
    borderRadius
  } = options;
  const inner = options.borderAlign === "inner";
  if (!borderWidth) {
    return;
  }
  ctx.setLineDash(borderDash || []);
  ctx.lineDashOffset = borderDashOffset;
  if (inner) {
    ctx.lineWidth = borderWidth * 2;
    ctx.lineJoin = borderJoinStyle || "round";
  } else {
    ctx.lineWidth = borderWidth;
    ctx.lineJoin = borderJoinStyle || "bevel";
  }
  let endAngle = element.endAngle;
  if (fullCircles) {
    pathArc(ctx, element, offset, spacing, endAngle, circular);
    for (let i = 0; i < fullCircles; ++i) {
      ctx.stroke();
    }
    if (!isNaN(circumference)) {
      endAngle = startAngle + (circumference % TAU || TAU);
    }
  }
  if (inner) {
    clipArc(ctx, element, endAngle);
  }
  if (options.selfJoin && endAngle - startAngle >= PI && borderRadius === 0 && borderJoinStyle !== "miter") {
    clipSelf(ctx, element, endAngle);
  }
  if (!fullCircles) {
    pathArc(ctx, element, offset, spacing, endAngle, circular);
    ctx.stroke();
  }
}
var ArcElement = class extends Element {
  static id = "arc";
  static defaults = {
    borderAlign: "center",
    borderColor: "#fff",
    borderDash: [],
    borderDashOffset: 0,
    borderJoinStyle: void 0,
    borderRadius: 0,
    borderWidth: 2,
    offset: 0,
    spacing: 0,
    angle: void 0,
    circular: true,
    selfJoin: false
  };
  static defaultRoutes = {
    backgroundColor: "backgroundColor"
  };
  static descriptors = {
    _scriptable: true,
    _indexable: (name) => name !== "borderDash"
  };
  circumference;
  endAngle;
  fullCircles;
  innerRadius;
  outerRadius;
  pixelMargin;
  startAngle;
  constructor(cfg) {
    super();
    this.options = void 0;
    this.circumference = void 0;
    this.startAngle = void 0;
    this.endAngle = void 0;
    this.innerRadius = void 0;
    this.outerRadius = void 0;
    this.pixelMargin = 0;
    this.fullCircles = 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(chartX, chartY, useFinalPosition) {
    const point = this.getProps(["x", "y"], useFinalPosition);
    const {
      angle,
      distance
    } = getAngleFromPoint(point, {
      x: chartX,
      y: chartY
    });
    const {
      startAngle,
      endAngle,
      innerRadius,
      outerRadius,
      circumference
    } = this.getProps(["startAngle", "endAngle", "innerRadius", "outerRadius", "circumference"], useFinalPosition);
    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;
    const _circumference = valueOrDefault(circumference, endAngle - startAngle);
    const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;
    const betweenAngles = _circumference >= TAU || nonZeroBetween;
    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);
    return betweenAngles && withinRadius;
  }
  getCenterPoint(useFinalPosition) {
    const {
      x,
      y,
      startAngle,
      endAngle,
      innerRadius,
      outerRadius
    } = this.getProps(["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius"], useFinalPosition);
    const {
      offset,
      spacing
    } = this.options;
    const halfAngle = (startAngle + endAngle) / 2;
    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;
    return {
      x: x + Math.cos(halfAngle) * halfRadius,
      y: y + Math.sin(halfAngle) * halfRadius
    };
  }
  tooltipPosition(useFinalPosition) {
    return this.getCenterPoint(useFinalPosition);
  }
  draw(ctx) {
    const {
      options,
      circumference
    } = this;
    const offset = (options.offset || 0) / 4;
    const spacing = (options.spacing || 0) / 2;
    const circular = options.circular;
    this.pixelMargin = options.borderAlign === "inner" ? 0.33 : 0;
    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;
    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {
      return;
    }
    ctx.save();
    const halfAngle = (this.startAngle + this.endAngle) / 2;
    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);
    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));
    const radiusOffset = offset * fix;
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    drawArc(ctx, this, radiusOffset, spacing, circular);
    drawBorder(ctx, this, radiusOffset, spacing, circular);
    ctx.restore();
  }
};
function setStyle(ctx, options, style2 = options) {
  ctx.lineCap = valueOrDefault(style2.borderCapStyle, options.borderCapStyle);
  ctx.setLineDash(valueOrDefault(style2.borderDash, options.borderDash));
  ctx.lineDashOffset = valueOrDefault(style2.borderDashOffset, options.borderDashOffset);
  ctx.lineJoin = valueOrDefault(style2.borderJoinStyle, options.borderJoinStyle);
  ctx.lineWidth = valueOrDefault(style2.borderWidth, options.borderWidth);
  ctx.strokeStyle = valueOrDefault(style2.borderColor, options.borderColor);
}
function lineTo(ctx, previous, target) {
  ctx.lineTo(target.x, target.y);
}
function getLineMethod(options) {
  if (options.stepped) {
    return _steppedLineTo;
  }
  if (options.tension || options.cubicInterpolationMode === "monotone") {
    return _bezierCurveTo;
  }
  return lineTo;
}
function pathVars(points, segment, params = {}) {
  const count = points.length;
  const {
    start: paramsStart = 0,
    end: paramsEnd = count - 1
  } = params;
  const {
    start: segmentStart,
    end: segmentEnd
  } = segment;
  const start = Math.max(paramsStart, segmentStart);
  const end = Math.min(paramsEnd, segmentEnd);
  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;
  return {
    count,
    start,
    loop: segment.loop,
    ilen: end < start && !outside ? count + end - start : end - start
  };
}
function pathSegment(ctx, line, segment, params) {
  const {
    points,
    options
  } = line;
  const {
    count,
    start,
    loop,
    ilen
  } = pathVars(points, segment, params);
  const lineMethod = getLineMethod(options);
  let {
    move = true,
    reverse
  } = params || {};
  let i, point, prev;
  for (i = 0; i <= ilen; ++i) {
    point = points[(start + (reverse ? ilen - i : i)) % count];
    if (point.skip) {
      continue;
    } else if (move) {
      ctx.moveTo(point.x, point.y);
      move = false;
    } else {
      lineMethod(ctx, prev, point, reverse, options.stepped);
    }
    prev = point;
  }
  if (loop) {
    point = points[(start + (reverse ? ilen : 0)) % count];
    lineMethod(ctx, prev, point, reverse, options.stepped);
  }
  return !!loop;
}
function fastPathSegment(ctx, line, segment, params) {
  const points = line.points;
  const {
    count,
    start,
    ilen
  } = pathVars(points, segment, params);
  const {
    move = true,
    reverse
  } = params || {};
  let avgX = 0;
  let countX = 0;
  let i, point, prevX, minY, maxY, lastY;
  const pointIndex = (index2) => (start + (reverse ? ilen - index2 : index2)) % count;
  const drawX = () => {
    if (minY !== maxY) {
      ctx.lineTo(avgX, maxY);
      ctx.lineTo(avgX, minY);
      ctx.lineTo(avgX, lastY);
    }
  };
  if (move) {
    point = points[pointIndex(0)];
    ctx.moveTo(point.x, point.y);
  }
  for (i = 0; i <= ilen; ++i) {
    point = points[pointIndex(i)];
    if (point.skip) {
      continue;
    }
    const x = point.x;
    const y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
      } else if (y > maxY) {
        maxY = y;
      }
      avgX = (countX * avgX + x) / ++countX;
    } else {
      drawX();
      ctx.lineTo(x, y);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
    }
    lastY = y;
  }
  drawX();
}
function _getSegmentMethod(line) {
  const opts = line.options;
  const borderDash = opts.borderDash && opts.borderDash.length;
  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== "monotone" && !opts.stepped && !borderDash;
  return useFastPath ? fastPathSegment : pathSegment;
}
function _getInterpolationMethod(options) {
  if (options.stepped) {
    return _steppedInterpolation;
  }
  if (options.tension || options.cubicInterpolationMode === "monotone") {
    return _bezierInterpolation;
  }
  return _pointInLine;
}
function strokePathWithCache(ctx, line, start, count) {
  let path = line._path;
  if (!path) {
    path = line._path = new Path2D();
    if (line.path(path, start, count)) {
      path.closePath();
    }
  }
  setStyle(ctx, line.options);
  ctx.stroke(path);
}
function strokePathDirect(ctx, line, start, count) {
  const {
    segments,
    options
  } = line;
  const segmentMethod = _getSegmentMethod(line);
  for (const segment of segments) {
    setStyle(ctx, options, segment.style);
    ctx.beginPath();
    if (segmentMethod(ctx, line, segment, {
      start,
      end: start + count - 1
    })) {
      ctx.closePath();
    }
    ctx.stroke();
  }
}
var usePath2D = typeof Path2D === "function";
function draw(ctx, line, start, count) {
  if (usePath2D && !line.options.segment) {
    strokePathWithCache(ctx, line, start, count);
  } else {
    strokePathDirect(ctx, line, start, count);
  }
}
var LineElement = class extends Element {
  static id = "line";
  static defaults = {
    borderCapStyle: "butt",
    borderDash: [],
    borderDashOffset: 0,
    borderJoinStyle: "miter",
    borderWidth: 3,
    capBezierPoints: true,
    cubicInterpolationMode: "default",
    fill: false,
    spanGaps: false,
    stepped: false,
    tension: 0
  };
  static defaultRoutes = {
    backgroundColor: "backgroundColor",
    borderColor: "borderColor"
  };
  static descriptors = {
    _scriptable: true,
    _indexable: (name) => name !== "borderDash" && name !== "fill"
  };
  constructor(cfg) {
    super();
    this.animated = true;
    this.options = void 0;
    this._chart = void 0;
    this._loop = void 0;
    this._fullLoop = void 0;
    this._path = void 0;
    this._points = void 0;
    this._segments = void 0;
    this._decimated = false;
    this._pointsUpdated = false;
    this._datasetIndex = void 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  updateControlPoints(chartArea, indexAxis) {
    const options = this.options;
    if ((options.tension || options.cubicInterpolationMode === "monotone") && !options.stepped && !this._pointsUpdated) {
      const loop = options.spanGaps ? this._loop : this._fullLoop;
      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);
      this._pointsUpdated = true;
    }
  }
  set points(points) {
    this._points = points;
    delete this._segments;
    delete this._path;
    this._pointsUpdated = false;
  }
  get points() {
    return this._points;
  }
  get segments() {
    return this._segments || (this._segments = _computeSegments(this, this.options.segment));
  }
  first() {
    const segments = this.segments;
    const points = this.points;
    return segments.length && points[segments[0].start];
  }
  last() {
    const segments = this.segments;
    const points = this.points;
    const count = segments.length;
    return count && points[segments[count - 1].end];
  }
  interpolate(point, property) {
    const options = this.options;
    const value = point[property];
    const points = this.points;
    const segments = _boundSegments(this, {
      property,
      start: value,
      end: value
    });
    if (!segments.length) {
      return;
    }
    const result = [];
    const _interpolate = _getInterpolationMethod(options);
    let i, ilen;
    for (i = 0, ilen = segments.length; i < ilen; ++i) {
      const {
        start,
        end
      } = segments[i];
      const p1 = points[start];
      const p2 = points[end];
      if (p1 === p2) {
        result.push(p1);
        continue;
      }
      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));
      const interpolated = _interpolate(p1, p2, t, options.stepped);
      interpolated[property] = point[property];
      result.push(interpolated);
    }
    return result.length === 1 ? result[0] : result;
  }
  pathSegment(ctx, segment, params) {
    const segmentMethod = _getSegmentMethod(this);
    return segmentMethod(ctx, this, segment, params);
  }
  path(ctx, start, count) {
    const segments = this.segments;
    const segmentMethod = _getSegmentMethod(this);
    let loop = this._loop;
    start = start || 0;
    count = count || this.points.length - start;
    for (const segment of segments) {
      loop &= segmentMethod(ctx, this, segment, {
        start,
        end: start + count - 1
      });
    }
    return !!loop;
  }
  draw(ctx, chartArea, start, count) {
    const options = this.options || {};
    const points = this.points || [];
    if (points.length && options.borderWidth) {
      ctx.save();
      draw(ctx, this, start, count);
      ctx.restore();
    }
    if (this.animated) {
      this._pointsUpdated = false;
      this._path = void 0;
    }
  }
};
function inRange$1(el, pos, axis, useFinalPosition) {
  const options = el.options;
  const {
    [axis]: value
  } = el.getProps([axis], useFinalPosition);
  return Math.abs(pos - value) < options.radius + options.hitRadius;
}
var PointElement = class extends Element {
  static id = "point";
  parsed;
  skip;
  stop;
  /**
  * @type {any}
  */
  static defaults = {
    borderWidth: 1,
    hitRadius: 1,
    hoverBorderWidth: 1,
    hoverRadius: 4,
    pointStyle: "circle",
    radius: 3,
    rotation: 0
  };
  /**
  * @type {any}
  */
  static defaultRoutes = {
    backgroundColor: "backgroundColor",
    borderColor: "borderColor"
  };
  constructor(cfg) {
    super();
    this.options = void 0;
    this.parsed = void 0;
    this.skip = void 0;
    this.stop = void 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    const options = this.options;
    const {
      x,
      y
    } = this.getProps(["x", "y"], useFinalPosition);
    return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange$1(this, mouseX, "x", useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange$1(this, mouseY, "y", useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {
      x,
      y
    } = this.getProps(["x", "y"], useFinalPosition);
    return {
      x,
      y
    };
  }
  size(options) {
    options = options || this.options || {};
    let radius = options.radius || 0;
    radius = Math.max(radius, radius && options.hoverRadius || 0);
    const borderWidth = radius && options.borderWidth || 0;
    return (radius + borderWidth) * 2;
  }
  draw(ctx, area) {
    const options = this.options;
    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {
      return;
    }
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.fillStyle = options.backgroundColor;
    drawPoint(ctx, options, this.x, this.y);
  }
  getRange() {
    const options = this.options || {};
    return options.radius + options.hitRadius;
  }
};
function getBarBounds(bar, useFinalPosition) {
  const {
    x,
    y,
    base,
    width,
    height
  } = bar.getProps(["x", "y", "base", "width", "height"], useFinalPosition);
  let left, right, top, bottom, half;
  if (bar.horizontal) {
    half = height / 2;
    left = Math.min(x, base);
    right = Math.max(x, base);
    top = y - half;
    bottom = y + half;
  } else {
    half = width / 2;
    left = x - half;
    right = x + half;
    top = Math.min(y, base);
    bottom = Math.max(y, base);
  }
  return {
    left,
    top,
    right,
    bottom
  };
}
function skipOrLimit(skip2, value, min, max) {
  return skip2 ? 0 : _limitValue(value, min, max);
}
function parseBorderWidth(bar, maxW, maxH) {
  const value = bar.options.borderWidth;
  const skip2 = bar.borderSkipped;
  const o = toTRBL(value);
  return {
    t: skipOrLimit(skip2.top, o.top, 0, maxH),
    r: skipOrLimit(skip2.right, o.right, 0, maxW),
    b: skipOrLimit(skip2.bottom, o.bottom, 0, maxH),
    l: skipOrLimit(skip2.left, o.left, 0, maxW)
  };
}
function parseBorderRadius(bar, maxW, maxH) {
  const {
    enableBorderRadius
  } = bar.getProps(["enableBorderRadius"]);
  const value = bar.options.borderRadius;
  const o = toTRBLCorners(value);
  const maxR = Math.min(maxW, maxH);
  const skip2 = bar.borderSkipped;
  const enableBorder = enableBorderRadius || isObject(value);
  return {
    topLeft: skipOrLimit(!enableBorder || skip2.top || skip2.left, o.topLeft, 0, maxR),
    topRight: skipOrLimit(!enableBorder || skip2.top || skip2.right, o.topRight, 0, maxR),
    bottomLeft: skipOrLimit(!enableBorder || skip2.bottom || skip2.left, o.bottomLeft, 0, maxR),
    bottomRight: skipOrLimit(!enableBorder || skip2.bottom || skip2.right, o.bottomRight, 0, maxR)
  };
}
function boundingRects(bar) {
  const bounds = getBarBounds(bar);
  const width = bounds.right - bounds.left;
  const height = bounds.bottom - bounds.top;
  const border = parseBorderWidth(bar, width / 2, height / 2);
  const radius = parseBorderRadius(bar, width / 2, height / 2);
  return {
    outer: {
      x: bounds.left,
      y: bounds.top,
      w: width,
      h: height,
      radius
    },
    inner: {
      x: bounds.left + border.l,
      y: bounds.top + border.t,
      w: width - border.l - border.r,
      h: height - border.t - border.b,
      radius: {
        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),
        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),
        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),
        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))
      }
    }
  };
}
function inRange(bar, x, y, useFinalPosition) {
  const skipX = x === null;
  const skipY = y === null;
  const skipBoth = skipX && skipY;
  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);
  return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));
}
function hasRadius(radius) {
  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;
}
function addNormalRectPath(ctx, rect) {
  ctx.rect(rect.x, rect.y, rect.w, rect.h);
}
function inflateRect(rect, amount, refRect = {}) {
  const x = rect.x !== refRect.x ? -amount : 0;
  const y = rect.y !== refRect.y ? -amount : 0;
  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;
  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;
  return {
    x: rect.x + x,
    y: rect.y + y,
    w: rect.w + w,
    h: rect.h + h,
    radius: rect.radius
  };
}
var BarElement = class extends Element {
  static id = "bar";
  static defaults = {
    borderSkipped: "start",
    borderWidth: 0,
    borderRadius: 0,
    inflateAmount: "auto",
    pointStyle: void 0
  };
  static defaultRoutes = {
    backgroundColor: "backgroundColor",
    borderColor: "borderColor"
  };
  constructor(cfg) {
    super();
    this.options = void 0;
    this.horizontal = void 0;
    this.base = void 0;
    this.width = void 0;
    this.height = void 0;
    this.inflateAmount = void 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  draw(ctx) {
    const {
      inflateAmount,
      options: {
        borderColor,
        backgroundColor
      }
    } = this;
    const {
      inner,
      outer
    } = boundingRects(this);
    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;
    ctx.save();
    if (outer.w !== inner.w || outer.h !== inner.h) {
      ctx.beginPath();
      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));
      ctx.clip();
      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));
      ctx.fillStyle = borderColor;
      ctx.fill("evenodd");
    }
    ctx.beginPath();
    addRectPath(ctx, inflateRect(inner, inflateAmount));
    ctx.fillStyle = backgroundColor;
    ctx.fill();
    ctx.restore();
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    return inRange(this, mouseX, mouseY, useFinalPosition);
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange(this, mouseX, null, useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange(this, null, mouseY, useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {
      x,
      y,
      base,
      horizontal
    } = this.getProps(["x", "y", "base", "horizontal"], useFinalPosition);
    return {
      x: horizontal ? (x + base) / 2 : x,
      y: horizontal ? y : (y + base) / 2
    };
  }
  getRange(axis) {
    return axis === "x" ? this.width / 2 : this.height / 2;
  }
};
var elements = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  ArcElement,
  BarElement,
  LineElement,
  PointElement
});
var BORDER_COLORS = [
  "rgb(54, 162, 235)",
  "rgb(255, 99, 132)",
  "rgb(255, 159, 64)",
  "rgb(255, 205, 86)",
  "rgb(75, 192, 192)",
  "rgb(153, 102, 255)",
  "rgb(201, 203, 207)"
  // grey
];
var BACKGROUND_COLORS = /* @__PURE__ */ BORDER_COLORS.map((color2) => color2.replace("rgb(", "rgba(").replace(")", ", 0.5)"));
function getBorderColor(i) {
  return BORDER_COLORS[i % BORDER_COLORS.length];
}
function getBackgroundColor(i) {
  return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];
}
function colorizeDefaultDataset(dataset, i) {
  dataset.borderColor = getBorderColor(i);
  dataset.backgroundColor = getBackgroundColor(i);
  return ++i;
}
function colorizeDoughnutDataset(dataset, i) {
  dataset.backgroundColor = dataset.data.map(() => getBorderColor(i++));
  return i;
}
function colorizePolarAreaDataset(dataset, i) {
  dataset.backgroundColor = dataset.data.map(() => getBackgroundColor(i++));
  return i;
}
function getColorizer(chart) {
  let i = 0;
  return (dataset, datasetIndex) => {
    const controller = chart.getDatasetMeta(datasetIndex).controller;
    if (controller instanceof DoughnutController) {
      i = colorizeDoughnutDataset(dataset, i);
    } else if (controller instanceof PolarAreaController) {
      i = colorizePolarAreaDataset(dataset, i);
    } else if (controller) {
      i = colorizeDefaultDataset(dataset, i);
    }
  };
}
function containsColorsDefinitions(descriptors2) {
  let k;
  for (k in descriptors2) {
    if (descriptors2[k].borderColor || descriptors2[k].backgroundColor) {
      return true;
    }
  }
  return false;
}
function containsColorsDefinition(descriptor) {
  return descriptor && (descriptor.borderColor || descriptor.backgroundColor);
}
function containsDefaultColorsDefenitions() {
  return defaults2.borderColor !== "rgba(0,0,0,0.1)" || defaults2.backgroundColor !== "rgba(0,0,0,0.1)";
}
var plugin_colors = {
  id: "colors",
  defaults: {
    enabled: true,
    forceOverride: false
  },
  beforeLayout(chart, _args, options) {
    if (!options.enabled) {
      return;
    }
    const {
      data: {
        datasets
      },
      options: chartOptions
    } = chart.config;
    const {
      elements: elements2
    } = chartOptions;
    const containsColorDefenition = containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements2 && containsColorsDefinitions(elements2) || containsDefaultColorsDefenitions();
    if (!options.forceOverride && containsColorDefenition) {
      return;
    }
    const colorizer = getColorizer(chart);
    datasets.forEach(colorizer);
  }
};
function lttbDecimation(data, start, count, availableWidth, options) {
  const samples = options.samples || availableWidth;
  if (samples >= count) {
    return data.slice(start, start + count);
  }
  const decimated = [];
  const bucketWidth = (count - 2) / (samples - 2);
  let sampledIndex = 0;
  const endIndex = start + count - 1;
  let a = start;
  let i, maxAreaPoint, maxArea, area, nextA;
  decimated[sampledIndex++] = data[a];
  for (i = 0; i < samples - 2; i++) {
    let avgX = 0;
    let avgY = 0;
    let j;
    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;
    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;
    const avgRangeLength = avgRangeEnd - avgRangeStart;
    for (j = avgRangeStart; j < avgRangeEnd; j++) {
      avgX += data[j].x;
      avgY += data[j].y;
    }
    avgX /= avgRangeLength;
    avgY /= avgRangeLength;
    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;
    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;
    const {
      x: pointAx,
      y: pointAy
    } = data[a];
    maxArea = area = -1;
    for (j = rangeOffs; j < rangeTo; j++) {
      area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));
      if (area > maxArea) {
        maxArea = area;
        maxAreaPoint = data[j];
        nextA = j;
      }
    }
    decimated[sampledIndex++] = maxAreaPoint;
    a = nextA;
  }
  decimated[sampledIndex++] = data[endIndex];
  return decimated;
}
function minMaxDecimation(data, start, count, availableWidth) {
  let avgX = 0;
  let countX = 0;
  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;
  const decimated = [];
  const endIndex = start + count - 1;
  const xMin = data[start].x;
  const xMax = data[endIndex].x;
  const dx = xMax - xMin;
  for (i = start; i < start + count; ++i) {
    point = data[i];
    x = (point.x - xMin) / dx * availableWidth;
    y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
        minIndex = i;
      } else if (y > maxY) {
        maxY = y;
        maxIndex = i;
      }
      avgX = (countX * avgX + point.x) / ++countX;
    } else {
      const lastIndex = i - 1;
      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {
        const intermediateIndex1 = Math.min(minIndex, maxIndex);
        const intermediateIndex2 = Math.max(minIndex, maxIndex);
        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {
          decimated.push(__spreadProps(__spreadValues({}, data[intermediateIndex1]), {
            x: avgX
          }));
        }
        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {
          decimated.push(__spreadProps(__spreadValues({}, data[intermediateIndex2]), {
            x: avgX
          }));
        }
      }
      if (i > 0 && lastIndex !== startIndex) {
        decimated.push(data[lastIndex]);
      }
      decimated.push(point);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
      minIndex = maxIndex = startIndex = i;
    }
  }
  return decimated;
}
function cleanDecimatedDataset(dataset) {
  if (dataset._decimated) {
    const data = dataset._data;
    delete dataset._decimated;
    delete dataset._data;
    Object.defineProperty(dataset, "data", {
      configurable: true,
      enumerable: true,
      writable: true,
      value: data
    });
  }
}
function cleanDecimatedData(chart) {
  chart.data.datasets.forEach((dataset) => {
    cleanDecimatedDataset(dataset);
  });
}
function getStartAndCountOfVisiblePointsSimplified(meta, points) {
  const pointCount = points.length;
  let start = 0;
  let count;
  const {
    iScale
  } = meta;
  const {
    min,
    max,
    minDefined,
    maxDefined
  } = iScale.getUserBounds();
  if (minDefined) {
    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);
  }
  if (maxDefined) {
    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;
  } else {
    count = pointCount - start;
  }
  return {
    start,
    count
  };
}
var plugin_decimation = {
  id: "decimation",
  defaults: {
    algorithm: "min-max",
    enabled: false
  },
  beforeElementsUpdate: (chart, args, options) => {
    if (!options.enabled) {
      cleanDecimatedData(chart);
      return;
    }
    const availableWidth = chart.width;
    chart.data.datasets.forEach((dataset, datasetIndex) => {
      const {
        _data,
        indexAxis
      } = dataset;
      const meta = chart.getDatasetMeta(datasetIndex);
      const data = _data || dataset.data;
      if (resolve([indexAxis, chart.options.indexAxis]) === "y") {
        return;
      }
      if (!meta.controller.supportsDecimation) {
        return;
      }
      const xAxis = chart.scales[meta.xAxisID];
      if (xAxis.type !== "linear" && xAxis.type !== "time") {
        return;
      }
      if (chart.options.parsing) {
        return;
      }
      let {
        start,
        count
      } = getStartAndCountOfVisiblePointsSimplified(meta, data);
      const threshold = options.threshold || 4 * availableWidth;
      if (count <= threshold) {
        cleanDecimatedDataset(dataset);
        return;
      }
      if (isNullOrUndef(_data)) {
        dataset._data = data;
        delete dataset.data;
        Object.defineProperty(dataset, "data", {
          configurable: true,
          enumerable: true,
          get: function() {
            return this._decimated;
          },
          set: function(d) {
            this._data = d;
          }
        });
      }
      let decimated;
      switch (options.algorithm) {
        case "lttb":
          decimated = lttbDecimation(data, start, count, availableWidth, options);
          break;
        case "min-max":
          decimated = minMaxDecimation(data, start, count, availableWidth);
          break;
        default:
          throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);
      }
      dataset._decimated = decimated;
    });
  },
  destroy(chart) {
    cleanDecimatedData(chart);
  }
};
function _segments(line, target, property) {
  const segments = line.segments;
  const points = line.points;
  const tpoints = target.points;
  const parts = [];
  for (const segment of segments) {
    let {
      start,
      end
    } = segment;
    end = _findSegmentEnd(start, end, points);
    const bounds = _getBounds(property, points[start], points[end], segment.loop);
    if (!target.segments) {
      parts.push({
        source: segment,
        target: bounds,
        start: points[start],
        end: points[end]
      });
      continue;
    }
    const targetSegments = _boundSegments(target, bounds);
    for (const tgt of targetSegments) {
      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);
      const fillSources = _boundSegment(segment, points, subBounds);
      for (const fillSource of fillSources) {
        parts.push({
          source: fillSource,
          target: tgt,
          start: {
            [property]: _getEdge(bounds, subBounds, "start", Math.max)
          },
          end: {
            [property]: _getEdge(bounds, subBounds, "end", Math.min)
          }
        });
      }
    }
  }
  return parts;
}
function _getBounds(property, first, last, loop) {
  if (loop) {
    return;
  }
  let start = first[property];
  let end = last[property];
  if (property === "angle") {
    start = _normalizeAngle(start);
    end = _normalizeAngle(end);
  }
  return {
    property,
    start,
    end
  };
}
function _pointsFromSegments(boundary, line) {
  const {
    x = null,
    y = null
  } = boundary || {};
  const linePoints = line.points;
  const points = [];
  line.segments.forEach(({
    start,
    end
  }) => {
    end = _findSegmentEnd(start, end, linePoints);
    const first = linePoints[start];
    const last = linePoints[end];
    if (y !== null) {
      points.push({
        x: first.x,
        y
      });
      points.push({
        x: last.x,
        y
      });
    } else if (x !== null) {
      points.push({
        x,
        y: first.y
      });
      points.push({
        x,
        y: last.y
      });
    }
  });
  return points;
}
function _findSegmentEnd(start, end, points) {
  for (; end > start; end--) {
    const point = points[end];
    if (!isNaN(point.x) && !isNaN(point.y)) {
      break;
    }
  }
  return end;
}
function _getEdge(a, b, prop, fn) {
  if (a && b) {
    return fn(a[prop], b[prop]);
  }
  return a ? a[prop] : b ? b[prop] : 0;
}
function _createBoundaryLine(boundary, line) {
  let points = [];
  let _loop = false;
  if (isArray(boundary)) {
    _loop = true;
    points = boundary;
  } else {
    points = _pointsFromSegments(boundary, line);
  }
  return points.length ? new LineElement({
    points,
    options: {
      tension: 0
    },
    _loop,
    _fullLoop: _loop
  }) : null;
}
function _shouldApplyFill(source) {
  return source && source.fill !== false;
}
function _resolveTarget(sources, index2, propagate) {
  const source = sources[index2];
  let fill2 = source.fill;
  const visited = [index2];
  let target;
  if (!propagate) {
    return fill2;
  }
  while (fill2 !== false && visited.indexOf(fill2) === -1) {
    if (!isNumberFinite(fill2)) {
      return fill2;
    }
    target = sources[fill2];
    if (!target) {
      return false;
    }
    if (target.visible) {
      return fill2;
    }
    visited.push(fill2);
    fill2 = target.fill;
  }
  return false;
}
function _decodeFill(line, index2, count) {
  const fill2 = parseFillOption(line);
  if (isObject(fill2)) {
    return isNaN(fill2.value) ? false : fill2;
  }
  let target = parseFloat(fill2);
  if (isNumberFinite(target) && Math.floor(target) === target) {
    return decodeTargetIndex(fill2[0], index2, target, count);
  }
  return ["origin", "start", "end", "stack", "shape"].indexOf(fill2) >= 0 && fill2;
}
function decodeTargetIndex(firstCh, index2, target, count) {
  if (firstCh === "-" || firstCh === "+") {
    target = index2 + target;
  }
  if (target === index2 || target < 0 || target >= count) {
    return false;
  }
  return target;
}
function _getTargetPixel(fill2, scale) {
  let pixel = null;
  if (fill2 === "start") {
    pixel = scale.bottom;
  } else if (fill2 === "end") {
    pixel = scale.top;
  } else if (isObject(fill2)) {
    pixel = scale.getPixelForValue(fill2.value);
  } else if (scale.getBasePixel) {
    pixel = scale.getBasePixel();
  }
  return pixel;
}
function _getTargetValue(fill2, scale, startValue) {
  let value;
  if (fill2 === "start") {
    value = startValue;
  } else if (fill2 === "end") {
    value = scale.options.reverse ? scale.min : scale.max;
  } else if (isObject(fill2)) {
    value = fill2.value;
  } else {
    value = scale.getBaseValue();
  }
  return value;
}
function parseFillOption(line) {
  const options = line.options;
  const fillOption = options.fill;
  let fill2 = valueOrDefault(fillOption && fillOption.target, fillOption);
  if (fill2 === void 0) {
    fill2 = !!options.backgroundColor;
  }
  if (fill2 === false || fill2 === null) {
    return false;
  }
  if (fill2 === true) {
    return "origin";
  }
  return fill2;
}
function _buildStackLine(source) {
  const {
    scale,
    index: index2,
    line
  } = source;
  const points = [];
  const segments = line.segments;
  const sourcePoints = line.points;
  const linesBelow = getLinesBelow(scale, index2);
  linesBelow.push(_createBoundaryLine({
    x: null,
    y: scale.bottom
  }, line));
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    for (let j = segment.start; j <= segment.end; j++) {
      addPointsBelow(points, sourcePoints[j], linesBelow);
    }
  }
  return new LineElement({
    points,
    options: {}
  });
}
function getLinesBelow(scale, index2) {
  const below = [];
  const metas = scale.getMatchingVisibleMetas("line");
  for (let i = 0; i < metas.length; i++) {
    const meta = metas[i];
    if (meta.index === index2) {
      break;
    }
    if (!meta.hidden) {
      below.unshift(meta.dataset);
    }
  }
  return below;
}
function addPointsBelow(points, sourcePoint, linesBelow) {
  const postponed = [];
  for (let j = 0; j < linesBelow.length; j++) {
    const line = linesBelow[j];
    const {
      first,
      last,
      point
    } = findPoint(line, sourcePoint, "x");
    if (!point || first && last) {
      continue;
    }
    if (first) {
      postponed.unshift(point);
    } else {
      points.push(point);
      if (!last) {
        break;
      }
    }
  }
  points.push(...postponed);
}
function findPoint(line, sourcePoint, property) {
  const point = line.interpolate(sourcePoint, property);
  if (!point) {
    return {};
  }
  const pointValue = point[property];
  const segments = line.segments;
  const linePoints = line.points;
  let first = false;
  let last = false;
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    const firstValue = linePoints[segment.start][property];
    const lastValue = linePoints[segment.end][property];
    if (_isBetween(pointValue, firstValue, lastValue)) {
      first = pointValue === firstValue;
      last = pointValue === lastValue;
      break;
    }
  }
  return {
    first,
    last,
    point
  };
}
var simpleArc = class {
  constructor(opts) {
    this.x = opts.x;
    this.y = opts.y;
    this.radius = opts.radius;
  }
  pathSegment(ctx, bounds, opts) {
    const {
      x,
      y,
      radius
    } = this;
    bounds = bounds || {
      start: 0,
      end: TAU
    };
    ctx.arc(x, y, radius, bounds.end, bounds.start, true);
    return !opts.bounds;
  }
  interpolate(point) {
    const {
      x,
      y,
      radius
    } = this;
    const angle = point.angle;
    return {
      x: x + Math.cos(angle) * radius,
      y: y + Math.sin(angle) * radius,
      angle
    };
  }
};
function _getTarget(source) {
  const {
    chart,
    fill: fill2,
    line
  } = source;
  if (isNumberFinite(fill2)) {
    return getLineByIndex(chart, fill2);
  }
  if (fill2 === "stack") {
    return _buildStackLine(source);
  }
  if (fill2 === "shape") {
    return true;
  }
  const boundary = computeBoundary(source);
  if (boundary instanceof simpleArc) {
    return boundary;
  }
  return _createBoundaryLine(boundary, line);
}
function getLineByIndex(chart, index2) {
  const meta = chart.getDatasetMeta(index2);
  const visible = meta && chart.isDatasetVisible(index2);
  return visible ? meta.dataset : null;
}
function computeBoundary(source) {
  const scale = source.scale || {};
  if (scale.getPointPositionForValue) {
    return computeCircularBoundary(source);
  }
  return computeLinearBoundary(source);
}
function computeLinearBoundary(source) {
  const {
    scale = {},
    fill: fill2
  } = source;
  const pixel = _getTargetPixel(fill2, scale);
  if (isNumberFinite(pixel)) {
    const horizontal = scale.isHorizontal();
    return {
      x: horizontal ? pixel : null,
      y: horizontal ? null : pixel
    };
  }
  return null;
}
function computeCircularBoundary(source) {
  const {
    scale,
    fill: fill2
  } = source;
  const options = scale.options;
  const length = scale.getLabels().length;
  const start = options.reverse ? scale.max : scale.min;
  const value = _getTargetValue(fill2, scale, start);
  const target = [];
  if (options.grid.circular) {
    const center = scale.getPointPositionForValue(0, start);
    return new simpleArc({
      x: center.x,
      y: center.y,
      radius: scale.getDistanceFromCenterForValue(value)
    });
  }
  for (let i = 0; i < length; ++i) {
    target.push(scale.getPointPositionForValue(i, value));
  }
  return target;
}
function _drawfill(ctx, source, area) {
  const target = _getTarget(source);
  const {
    chart,
    index: index2,
    line,
    scale,
    axis
  } = source;
  const lineOpts = line.options;
  const fillOption = lineOpts.fill;
  const color2 = lineOpts.backgroundColor;
  const {
    above = color2,
    below = color2
  } = fillOption || {};
  const meta = chart.getDatasetMeta(index2);
  const clip = getDatasetClipArea(chart, meta);
  if (target && line.points.length) {
    clipArea(ctx, area);
    doFill(ctx, {
      line,
      target,
      above,
      below,
      area,
      scale,
      axis,
      clip
    });
    unclipArea(ctx);
  }
}
function doFill(ctx, cfg) {
  const {
    line,
    target,
    above,
    below,
    area,
    scale,
    clip
  } = cfg;
  const property = line._loop ? "angle" : cfg.axis;
  ctx.save();
  let fillColor = below;
  if (below !== above) {
    if (property === "x") {
      clipVertical(ctx, target, area.top);
      fill(ctx, {
        line,
        target,
        color: above,
        scale,
        property,
        clip
      });
      ctx.restore();
      ctx.save();
      clipVertical(ctx, target, area.bottom);
    } else if (property === "y") {
      clipHorizontal(ctx, target, area.left);
      fill(ctx, {
        line,
        target,
        color: below,
        scale,
        property,
        clip
      });
      ctx.restore();
      ctx.save();
      clipHorizontal(ctx, target, area.right);
      fillColor = above;
    }
  }
  fill(ctx, {
    line,
    target,
    color: fillColor,
    scale,
    property,
    clip
  });
  ctx.restore();
}
function clipVertical(ctx, target, clipY) {
  const {
    segments,
    points
  } = target;
  let first = true;
  let lineLoop = false;
  ctx.beginPath();
  for (const segment of segments) {
    const {
      start,
      end
    } = segment;
    const firstPoint = points[start];
    const lastPoint = points[_findSegmentEnd(start, end, points)];
    if (first) {
      ctx.moveTo(firstPoint.x, firstPoint.y);
      first = false;
    } else {
      ctx.lineTo(firstPoint.x, clipY);
      ctx.lineTo(firstPoint.x, firstPoint.y);
    }
    lineLoop = !!target.pathSegment(ctx, segment, {
      move: lineLoop
    });
    if (lineLoop) {
      ctx.closePath();
    } else {
      ctx.lineTo(lastPoint.x, clipY);
    }
  }
  ctx.lineTo(target.first().x, clipY);
  ctx.closePath();
  ctx.clip();
}
function clipHorizontal(ctx, target, clipX) {
  const {
    segments,
    points
  } = target;
  let first = true;
  let lineLoop = false;
  ctx.beginPath();
  for (const segment of segments) {
    const {
      start,
      end
    } = segment;
    const firstPoint = points[start];
    const lastPoint = points[_findSegmentEnd(start, end, points)];
    if (first) {
      ctx.moveTo(firstPoint.x, firstPoint.y);
      first = false;
    } else {
      ctx.lineTo(clipX, firstPoint.y);
      ctx.lineTo(firstPoint.x, firstPoint.y);
    }
    lineLoop = !!target.pathSegment(ctx, segment, {
      move: lineLoop
    });
    if (lineLoop) {
      ctx.closePath();
    } else {
      ctx.lineTo(clipX, lastPoint.y);
    }
  }
  ctx.lineTo(clipX, target.first().y);
  ctx.closePath();
  ctx.clip();
}
function fill(ctx, cfg) {
  const {
    line,
    target,
    property,
    color: color2,
    scale,
    clip
  } = cfg;
  const segments = _segments(line, target, property);
  for (const {
    source: src,
    target: tgt,
    start,
    end
  } of segments) {
    const {
      style: {
        backgroundColor = color2
      } = {}
    } = src;
    const notShape = target !== true;
    ctx.save();
    ctx.fillStyle = backgroundColor;
    clipBounds(ctx, scale, clip, notShape && _getBounds(property, start, end));
    ctx.beginPath();
    const lineLoop = !!line.pathSegment(ctx, src);
    let loop;
    if (notShape) {
      if (lineLoop) {
        ctx.closePath();
      } else {
        interpolatedLineTo(ctx, target, end, property);
      }
      const targetLoop = !!target.pathSegment(ctx, tgt, {
        move: lineLoop,
        reverse: true
      });
      loop = lineLoop && targetLoop;
      if (!loop) {
        interpolatedLineTo(ctx, target, start, property);
      }
    }
    ctx.closePath();
    ctx.fill(loop ? "evenodd" : "nonzero");
    ctx.restore();
  }
}
function clipBounds(ctx, scale, clip, bounds) {
  const chartArea = scale.chart.chartArea;
  const {
    property,
    start,
    end
  } = bounds || {};
  if (property === "x" || property === "y") {
    let left, top, right, bottom;
    if (property === "x") {
      left = start;
      top = chartArea.top;
      right = end;
      bottom = chartArea.bottom;
    } else {
      left = chartArea.left;
      top = start;
      right = chartArea.right;
      bottom = end;
    }
    ctx.beginPath();
    if (clip) {
      left = Math.max(left, clip.left);
      right = Math.min(right, clip.right);
      top = Math.max(top, clip.top);
      bottom = Math.min(bottom, clip.bottom);
    }
    ctx.rect(left, top, right - left, bottom - top);
    ctx.clip();
  }
}
function interpolatedLineTo(ctx, target, point, property) {
  const interpolatedPoint = target.interpolate(point, property);
  if (interpolatedPoint) {
    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);
  }
}
var index = {
  id: "filler",
  afterDatasetsUpdate(chart, _args, options) {
    const count = (chart.data.datasets || []).length;
    const sources = [];
    let meta, i, line, source;
    for (i = 0; i < count; ++i) {
      meta = chart.getDatasetMeta(i);
      line = meta.dataset;
      source = null;
      if (line && line.options && line instanceof LineElement) {
        source = {
          visible: chart.isDatasetVisible(i),
          index: i,
          fill: _decodeFill(line, i, count),
          chart,
          axis: meta.controller.options.indexAxis,
          scale: meta.vScale,
          line
        };
      }
      meta.$filler = source;
      sources.push(source);
    }
    for (i = 0; i < count; ++i) {
      source = sources[i];
      if (!source || source.fill === false) {
        continue;
      }
      source.fill = _resolveTarget(sources, i, options.propagate);
    }
  },
  beforeDraw(chart, _args, options) {
    const draw2 = options.drawTime === "beforeDraw";
    const metasets = chart.getSortedVisibleDatasetMetas();
    const area = chart.chartArea;
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (!source) {
        continue;
      }
      source.line.updateControlPoints(area, source.axis);
      if (draw2 && source.fill) {
        _drawfill(chart.ctx, source, area);
      }
    }
  },
  beforeDatasetsDraw(chart, _args, options) {
    if (options.drawTime !== "beforeDatasetsDraw") {
      return;
    }
    const metasets = chart.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (_shouldApplyFill(source)) {
        _drawfill(chart.ctx, source, chart.chartArea);
      }
    }
  },
  beforeDatasetDraw(chart, args, options) {
    const source = args.meta.$filler;
    if (!_shouldApplyFill(source) || options.drawTime !== "beforeDatasetDraw") {
      return;
    }
    _drawfill(chart.ctx, source, chart.chartArea);
  },
  defaults: {
    propagate: true,
    drawTime: "beforeDatasetDraw"
  }
};
var getBoxSize = (labelOpts, fontSize) => {
  let {
    boxHeight = fontSize,
    boxWidth = fontSize
  } = labelOpts;
  if (labelOpts.usePointStyle) {
    boxHeight = Math.min(boxHeight, fontSize);
    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);
  }
  return {
    boxWidth,
    boxHeight,
    itemHeight: Math.max(fontSize, boxHeight)
  };
};
var itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;
var Legend = class extends Element {
  constructor(config) {
    super();
    this._added = false;
    this.legendHitBoxes = [];
    this._hoveredItem = null;
    this.doughnutMode = false;
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this.legendItems = void 0;
    this.columnSizes = void 0;
    this.lineWidths = void 0;
    this.maxHeight = void 0;
    this.maxWidth = void 0;
    this.top = void 0;
    this.bottom = void 0;
    this.left = void 0;
    this.right = void 0;
    this.height = void 0;
    this.width = void 0;
    this._margins = void 0;
    this.position = void 0;
    this.weight = void 0;
    this.fullSize = void 0;
  }
  update(maxWidth, maxHeight, margins) {
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins;
    this.setDimensions();
    this.buildLabels();
    this.fit();
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = this._margins.left;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = this._margins.top;
      this.bottom = this.height;
    }
  }
  buildLabels() {
    const labelOpts = this.options.labels || {};
    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];
    if (labelOpts.filter) {
      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));
    }
    if (labelOpts.sort) {
      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));
    }
    if (this.options.reverse) {
      legendItems.reverse();
    }
    this.legendItems = legendItems;
  }
  fit() {
    const {
      options,
      ctx
    } = this;
    if (!options.display) {
      this.width = this.height = 0;
      return;
    }
    const labelOpts = options.labels;
    const labelFont = toFont(labelOpts.font);
    const fontSize = labelFont.size;
    const titleHeight = this._computeTitleHeight();
    const {
      boxWidth,
      itemHeight
    } = getBoxSize(labelOpts, fontSize);
    let width, height;
    ctx.font = labelFont.string;
    if (this.isHorizontal()) {
      width = this.maxWidth;
      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;
    } else {
      height = this.maxHeight;
      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;
    }
    this.width = Math.min(width, options.maxWidth || this.maxWidth);
    this.height = Math.min(height, options.maxHeight || this.maxHeight);
  }
  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {
    const {
      ctx,
      maxWidth,
      options: {
        labels: {
          padding
        }
      }
    } = this;
    const hitboxes = this.legendHitBoxes = [];
    const lineWidths = this.lineWidths = [0];
    const lineHeight = itemHeight + padding;
    let totalHeight = titleHeight;
    ctx.textAlign = "left";
    ctx.textBaseline = "middle";
    let row = -1;
    let top = -lineHeight;
    this.legendItems.forEach((legendItem, i) => {
      const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;
      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {
        totalHeight += lineHeight;
        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
        top += lineHeight;
        row++;
      }
      hitboxes[i] = {
        left: 0,
        top,
        row,
        width: itemWidth,
        height: itemHeight
      };
      lineWidths[lineWidths.length - 1] += itemWidth + padding;
    });
    return totalHeight;
  }
  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {
    const {
      ctx,
      maxHeight,
      options: {
        labels: {
          padding
        }
      }
    } = this;
    const hitboxes = this.legendHitBoxes = [];
    const columnSizes = this.columnSizes = [];
    const heightLimit = maxHeight - titleHeight;
    let totalWidth = padding;
    let currentColWidth = 0;
    let currentColHeight = 0;
    let left = 0;
    let col = 0;
    this.legendItems.forEach((legendItem, i) => {
      const {
        itemWidth,
        itemHeight
      } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);
      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {
        totalWidth += currentColWidth + padding;
        columnSizes.push({
          width: currentColWidth,
          height: currentColHeight
        });
        left += currentColWidth + padding;
        col++;
        currentColWidth = currentColHeight = 0;
      }
      hitboxes[i] = {
        left,
        top: currentColHeight,
        col,
        width: itemWidth,
        height: itemHeight
      };
      currentColWidth = Math.max(currentColWidth, itemWidth);
      currentColHeight += itemHeight + padding;
    });
    totalWidth += currentColWidth;
    columnSizes.push({
      width: currentColWidth,
      height: currentColHeight
    });
    return totalWidth;
  }
  adjustHitBoxes() {
    if (!this.options.display) {
      return;
    }
    const titleHeight = this._computeTitleHeight();
    const {
      legendHitBoxes: hitboxes,
      options: {
        align,
        labels: {
          padding
        },
        rtl
      }
    } = this;
    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);
    if (this.isHorizontal()) {
      let row = 0;
      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);
      for (const hitbox of hitboxes) {
        if (row !== hitbox.row) {
          row = hitbox.row;
          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);
        }
        hitbox.top += this.top + titleHeight + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);
        left += hitbox.width + padding;
      }
    } else {
      let col = 0;
      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
      for (const hitbox of hitboxes) {
        if (hitbox.col !== col) {
          col = hitbox.col;
          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
        }
        hitbox.top = top;
        hitbox.left += this.left + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);
        top += hitbox.height + padding;
      }
    }
  }
  isHorizontal() {
    return this.options.position === "top" || this.options.position === "bottom";
  }
  draw() {
    if (this.options.display) {
      const ctx = this.ctx;
      clipArea(ctx, this);
      this._draw();
      unclipArea(ctx);
    }
  }
  _draw() {
    const {
      options: opts,
      columnSizes,
      lineWidths,
      ctx
    } = this;
    const {
      align,
      labels: labelOpts
    } = opts;
    const defaultColor = defaults2.color;
    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);
    const labelFont = toFont(labelOpts.font);
    const {
      padding
    } = labelOpts;
    const fontSize = labelFont.size;
    const halfFontSize = fontSize / 2;
    let cursor;
    this.drawTitle();
    ctx.textAlign = rtlHelper.textAlign("left");
    ctx.textBaseline = "middle";
    ctx.lineWidth = 0.5;
    ctx.font = labelFont.string;
    const {
      boxWidth,
      boxHeight,
      itemHeight
    } = getBoxSize(labelOpts, fontSize);
    const drawLegendBox = function(x, y, legendItem) {
      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {
        return;
      }
      ctx.save();
      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);
      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);
      ctx.lineCap = valueOrDefault(legendItem.lineCap, "butt");
      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);
      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, "miter");
      ctx.lineWidth = lineWidth;
      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);
      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));
      if (labelOpts.usePointStyle) {
        const drawOptions = {
          radius: boxHeight * Math.SQRT2 / 2,
          pointStyle: legendItem.pointStyle,
          rotation: legendItem.rotation,
          borderWidth: lineWidth
        };
        const centerX = rtlHelper.xPlus(x, boxWidth / 2);
        const centerY = y + halfFontSize;
        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);
      } else {
        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);
        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);
        const borderRadius = toTRBLCorners(legendItem.borderRadius);
        ctx.beginPath();
        if (Object.values(borderRadius).some((v) => v !== 0)) {
          addRoundedRectPath(ctx, {
            x: xBoxLeft,
            y: yBoxTop,
            w: boxWidth,
            h: boxHeight,
            radius: borderRadius
          });
        } else {
          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);
        }
        ctx.fill();
        if (lineWidth !== 0) {
          ctx.stroke();
        }
      }
      ctx.restore();
    };
    const fillText = function(x, y, legendItem) {
      renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {
        strikethrough: legendItem.hidden,
        textAlign: rtlHelper.textAlign(legendItem.textAlign)
      });
    };
    const isHorizontal = this.isHorizontal();
    const titleHeight = this._computeTitleHeight();
    if (isHorizontal) {
      cursor = {
        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),
        y: this.top + padding + titleHeight,
        line: 0
      };
    } else {
      cursor = {
        x: this.left + padding,
        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),
        line: 0
      };
    }
    overrideTextDirection(this.ctx, opts.textDirection);
    const lineHeight = itemHeight + padding;
    this.legendItems.forEach((legendItem, i) => {
      ctx.strokeStyle = legendItem.fontColor;
      ctx.fillStyle = legendItem.fontColor;
      const textWidth = ctx.measureText(legendItem.text).width;
      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));
      const width = boxWidth + halfFontSize + textWidth;
      let x = cursor.x;
      let y = cursor.y;
      rtlHelper.setWidth(this.width);
      if (isHorizontal) {
        if (i > 0 && x + width + padding > this.right) {
          y = cursor.y += lineHeight;
          cursor.line++;
          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);
        }
      } else if (i > 0 && y + lineHeight > this.bottom) {
        x = cursor.x = x + columnSizes[cursor.line].width + padding;
        cursor.line++;
        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);
      }
      const realX = rtlHelper.x(x);
      drawLegendBox(realX, y, legendItem);
      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);
      fillText(rtlHelper.x(x), y, legendItem);
      if (isHorizontal) {
        cursor.x += width + padding;
      } else if (typeof legendItem.text !== "string") {
        const fontLineHeight = labelFont.lineHeight;
        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;
      } else {
        cursor.y += lineHeight;
      }
    });
    restoreTextDirection(this.ctx, opts.textDirection);
  }
  drawTitle() {
    const opts = this.options;
    const titleOpts = opts.title;
    const titleFont = toFont(titleOpts.font);
    const titlePadding = toPadding(titleOpts.padding);
    if (!titleOpts.display) {
      return;
    }
    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);
    const ctx = this.ctx;
    const position = titleOpts.position;
    const halfFontSize = titleFont.size / 2;
    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;
    let y;
    let left = this.left;
    let maxWidth = this.width;
    if (this.isHorizontal()) {
      maxWidth = Math.max(...this.lineWidths);
      y = this.top + topPaddingPlusHalfFontSize;
      left = _alignStartEnd(opts.align, left, this.right - maxWidth);
    } else {
      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);
      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());
    }
    const x = _alignStartEnd(position, left, left + maxWidth);
    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));
    ctx.textBaseline = "middle";
    ctx.strokeStyle = titleOpts.color;
    ctx.fillStyle = titleOpts.color;
    ctx.font = titleFont.string;
    renderText(ctx, titleOpts.text, x, y, titleFont);
  }
  _computeTitleHeight() {
    const titleOpts = this.options.title;
    const titleFont = toFont(titleOpts.font);
    const titlePadding = toPadding(titleOpts.padding);
    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;
  }
  _getLegendItemAt(x, y) {
    let i, hitBox, lh;
    if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {
      lh = this.legendHitBoxes;
      for (i = 0; i < lh.length; ++i) {
        hitBox = lh[i];
        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {
          return this.legendItems[i];
        }
      }
    }
    return null;
  }
  handleEvent(e) {
    const opts = this.options;
    if (!isListened(e.type, opts)) {
      return;
    }
    const hoveredItem = this._getLegendItemAt(e.x, e.y);
    if (e.type === "mousemove" || e.type === "mouseout") {
      const previous = this._hoveredItem;
      const sameItem = itemsEqual(previous, hoveredItem);
      if (previous && !sameItem) {
        callback(opts.onLeave, [e, previous, this], this);
      }
      this._hoveredItem = hoveredItem;
      if (hoveredItem && !sameItem) {
        callback(opts.onHover, [e, hoveredItem, this], this);
      }
    } else if (hoveredItem) {
      callback(opts.onClick, [e, hoveredItem, this], this);
    }
  }
};
function calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {
  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);
  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);
  return {
    itemWidth,
    itemHeight
  };
}
function calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {
  let legendItemText = legendItem.text;
  if (legendItemText && typeof legendItemText !== "string") {
    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);
  }
  return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;
}
function calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {
  let itemHeight = _itemHeight;
  if (typeof legendItem.text !== "string") {
    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);
  }
  return itemHeight;
}
function calculateLegendItemHeight(legendItem, fontLineHeight) {
  const labelHeight = legendItem.text ? legendItem.text.length : 0;
  return fontLineHeight * labelHeight;
}
function isListened(type, opts) {
  if ((type === "mousemove" || type === "mouseout") && (opts.onHover || opts.onLeave)) {
    return true;
  }
  if (opts.onClick && (type === "click" || type === "mouseup")) {
    return true;
  }
  return false;
}
var plugin_legend = {
  id: "legend",
  _element: Legend,
  start(chart, _args, options) {
    const legend = chart.legend = new Legend({
      ctx: chart.ctx,
      options,
      chart
    });
    layouts.configure(chart, legend, options);
    layouts.addBox(chart, legend);
  },
  stop(chart) {
    layouts.removeBox(chart, chart.legend);
    delete chart.legend;
  },
  beforeUpdate(chart, _args, options) {
    const legend = chart.legend;
    layouts.configure(chart, legend, options);
    legend.options = options;
  },
  afterUpdate(chart) {
    const legend = chart.legend;
    legend.buildLabels();
    legend.adjustHitBoxes();
  },
  afterEvent(chart, args) {
    if (!args.replay) {
      chart.legend.handleEvent(args.event);
    }
  },
  defaults: {
    display: true,
    position: "top",
    align: "center",
    fullSize: true,
    reverse: false,
    weight: 1e3,
    onClick(e, legendItem, legend) {
      const index2 = legendItem.datasetIndex;
      const ci = legend.chart;
      if (ci.isDatasetVisible(index2)) {
        ci.hide(index2);
        legendItem.hidden = true;
      } else {
        ci.show(index2);
        legendItem.hidden = false;
      }
    },
    onHover: null,
    onLeave: null,
    labels: {
      color: (ctx) => ctx.chart.options.color,
      boxWidth: 40,
      padding: 10,
      generateLabels(chart) {
        const datasets = chart.data.datasets;
        const {
          labels: {
            usePointStyle,
            pointStyle,
            textAlign,
            color: color2,
            useBorderRadius,
            borderRadius
          }
        } = chart.legend.options;
        return chart._getSortedDatasetMetas().map((meta) => {
          const style2 = meta.controller.getStyle(usePointStyle ? 0 : void 0);
          const borderWidth = toPadding(style2.borderWidth);
          return {
            text: datasets[meta.index].label,
            fillStyle: style2.backgroundColor,
            fontColor: color2,
            hidden: !meta.visible,
            lineCap: style2.borderCapStyle,
            lineDash: style2.borderDash,
            lineDashOffset: style2.borderDashOffset,
            lineJoin: style2.borderJoinStyle,
            lineWidth: (borderWidth.width + borderWidth.height) / 4,
            strokeStyle: style2.borderColor,
            pointStyle: pointStyle || style2.pointStyle,
            rotation: style2.rotation,
            textAlign: textAlign || style2.textAlign,
            borderRadius: useBorderRadius && (borderRadius || style2.borderRadius),
            datasetIndex: meta.index
          };
        }, this);
      }
    },
    title: {
      color: (ctx) => ctx.chart.options.color,
      display: false,
      position: "center",
      text: ""
    }
  },
  descriptors: {
    _scriptable: (name) => !name.startsWith("on"),
    labels: {
      _scriptable: (name) => !["generateLabels", "filter", "sort"].includes(name)
    }
  }
};
var Title = class extends Element {
  constructor(config) {
    super();
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this._padding = void 0;
    this.top = void 0;
    this.bottom = void 0;
    this.left = void 0;
    this.right = void 0;
    this.width = void 0;
    this.height = void 0;
    this.position = void 0;
    this.weight = void 0;
    this.fullSize = void 0;
  }
  update(maxWidth, maxHeight) {
    const opts = this.options;
    this.left = 0;
    this.top = 0;
    if (!opts.display) {
      this.width = this.height = this.right = this.bottom = 0;
      return;
    }
    this.width = this.right = maxWidth;
    this.height = this.bottom = maxHeight;
    const lineCount = isArray(opts.text) ? opts.text.length : 1;
    this._padding = toPadding(opts.padding);
    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;
    if (this.isHorizontal()) {
      this.height = textSize;
    } else {
      this.width = textSize;
    }
  }
  isHorizontal() {
    const pos = this.options.position;
    return pos === "top" || pos === "bottom";
  }
  _drawArgs(offset) {
    const {
      top,
      left,
      bottom,
      right,
      options
    } = this;
    const align = options.align;
    let rotation = 0;
    let maxWidth, titleX, titleY;
    if (this.isHorizontal()) {
      titleX = _alignStartEnd(align, left, right);
      titleY = top + offset;
      maxWidth = right - left;
    } else {
      if (options.position === "left") {
        titleX = left + offset;
        titleY = _alignStartEnd(align, bottom, top);
        rotation = PI * -0.5;
      } else {
        titleX = right - offset;
        titleY = _alignStartEnd(align, top, bottom);
        rotation = PI * 0.5;
      }
      maxWidth = bottom - top;
    }
    return {
      titleX,
      titleY,
      maxWidth,
      rotation
    };
  }
  draw() {
    const ctx = this.ctx;
    const opts = this.options;
    if (!opts.display) {
      return;
    }
    const fontOpts = toFont(opts.font);
    const lineHeight = fontOpts.lineHeight;
    const offset = lineHeight / 2 + this._padding.top;
    const {
      titleX,
      titleY,
      maxWidth,
      rotation
    } = this._drawArgs(offset);
    renderText(ctx, opts.text, 0, 0, fontOpts, {
      color: opts.color,
      maxWidth,
      rotation,
      textAlign: _toLeftRightCenter(opts.align),
      textBaseline: "middle",
      translation: [titleX, titleY]
    });
  }
};
function createTitle(chart, titleOpts) {
  const title = new Title({
    ctx: chart.ctx,
    options: titleOpts,
    chart
  });
  layouts.configure(chart, title, titleOpts);
  layouts.addBox(chart, title);
  chart.titleBlock = title;
}
var plugin_title = {
  id: "title",
  _element: Title,
  start(chart, _args, options) {
    createTitle(chart, options);
  },
  stop(chart) {
    const titleBlock = chart.titleBlock;
    layouts.removeBox(chart, titleBlock);
    delete chart.titleBlock;
  },
  beforeUpdate(chart, _args, options) {
    const title = chart.titleBlock;
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: "center",
    display: false,
    font: {
      weight: "bold"
    },
    fullSize: true,
    padding: 10,
    position: "top",
    text: "",
    weight: 2e3
  },
  defaultRoutes: {
    color: "color"
  },
  descriptors: {
    _scriptable: true,
    _indexable: false
  }
};
var map2 = /* @__PURE__ */ new WeakMap();
var plugin_subtitle = {
  id: "subtitle",
  start(chart, _args, options) {
    const title = new Title({
      ctx: chart.ctx,
      options,
      chart
    });
    layouts.configure(chart, title, options);
    layouts.addBox(chart, title);
    map2.set(chart, title);
  },
  stop(chart) {
    layouts.removeBox(chart, map2.get(chart));
    map2.delete(chart);
  },
  beforeUpdate(chart, _args, options) {
    const title = map2.get(chart);
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: "center",
    display: false,
    font: {
      weight: "normal"
    },
    fullSize: true,
    padding: 0,
    position: "top",
    text: "",
    weight: 1500
  },
  defaultRoutes: {
    color: "color"
  },
  descriptors: {
    _scriptable: true,
    _indexable: false
  }
};
var positioners = {
  average(items) {
    if (!items.length) {
      return false;
    }
    let i, len;
    let xSet = /* @__PURE__ */ new Set();
    let y = 0;
    let count = 0;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const pos = el.tooltipPosition();
        xSet.add(pos.x);
        y += pos.y;
        ++count;
      }
    }
    if (count === 0 || xSet.size === 0) {
      return false;
    }
    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;
    return {
      x: xAverage,
      y: y / count
    };
  },
  nearest(items, eventPosition) {
    if (!items.length) {
      return false;
    }
    let x = eventPosition.x;
    let y = eventPosition.y;
    let minDistance = Number.POSITIVE_INFINITY;
    let i, len, nearestElement;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const center = el.getCenterPoint();
        const d = distanceBetweenPoints(eventPosition, center);
        if (d < minDistance) {
          minDistance = d;
          nearestElement = el;
        }
      }
    }
    if (nearestElement) {
      const tp = nearestElement.tooltipPosition();
      x = tp.x;
      y = tp.y;
    }
    return {
      x,
      y
    };
  }
};
function pushOrConcat(base, toPush) {
  if (toPush) {
    if (isArray(toPush)) {
      Array.prototype.push.apply(base, toPush);
    } else {
      base.push(toPush);
    }
  }
  return base;
}
function splitNewlines(str) {
  if ((typeof str === "string" || str instanceof String) && str.indexOf("\n") > -1) {
    return str.split("\n");
  }
  return str;
}
function createTooltipItem(chart, item) {
  const {
    element,
    datasetIndex,
    index: index2
  } = item;
  const controller = chart.getDatasetMeta(datasetIndex).controller;
  const {
    label,
    value
  } = controller.getLabelAndValue(index2);
  return {
    chart,
    label,
    parsed: controller.getParsed(index2),
    raw: chart.data.datasets[datasetIndex].data[index2],
    formattedValue: value,
    dataset: controller.getDataset(),
    dataIndex: index2,
    datasetIndex,
    element
  };
}
function getTooltipSize(tooltip, options) {
  const ctx = tooltip.chart.ctx;
  const {
    body,
    footer,
    title
  } = tooltip;
  const {
    boxWidth,
    boxHeight
  } = options;
  const bodyFont = toFont(options.bodyFont);
  const titleFont = toFont(options.titleFont);
  const footerFont = toFont(options.footerFont);
  const titleLineCount = title.length;
  const footerLineCount = footer.length;
  const bodyLineItemCount = body.length;
  const padding = toPadding(options.padding);
  let height = padding.height;
  let width = 0;
  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);
  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;
  if (titleLineCount) {
    height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;
  }
  if (combinedBodyLength) {
    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;
    height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;
  }
  if (footerLineCount) {
    height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;
  }
  let widthPadding = 0;
  const maxLineWidth = function(line) {
    width = Math.max(width, ctx.measureText(line).width + widthPadding);
  };
  ctx.save();
  ctx.font = titleFont.string;
  each(tooltip.title, maxLineWidth);
  ctx.font = bodyFont.string;
  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);
  widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;
  each(body, (bodyItem) => {
    each(bodyItem.before, maxLineWidth);
    each(bodyItem.lines, maxLineWidth);
    each(bodyItem.after, maxLineWidth);
  });
  widthPadding = 0;
  ctx.font = footerFont.string;
  each(tooltip.footer, maxLineWidth);
  ctx.restore();
  width += padding.width;
  return {
    width,
    height
  };
}
function determineYAlign(chart, size) {
  const {
    y,
    height
  } = size;
  if (y < height / 2) {
    return "top";
  } else if (y > chart.height - height / 2) {
    return "bottom";
  }
  return "center";
}
function doesNotFitWithAlign(xAlign, chart, options, size) {
  const {
    x,
    width
  } = size;
  const caret = options.caretSize + options.caretPadding;
  if (xAlign === "left" && x + width + caret > chart.width) {
    return true;
  }
  if (xAlign === "right" && x - width - caret < 0) {
    return true;
  }
}
function determineXAlign(chart, options, size, yAlign) {
  const {
    x,
    width
  } = size;
  const {
    width: chartWidth,
    chartArea: {
      left,
      right
    }
  } = chart;
  let xAlign = "center";
  if (yAlign === "center") {
    xAlign = x <= (left + right) / 2 ? "left" : "right";
  } else if (x <= width / 2) {
    xAlign = "left";
  } else if (x >= chartWidth - width / 2) {
    xAlign = "right";
  }
  if (doesNotFitWithAlign(xAlign, chart, options, size)) {
    xAlign = "center";
  }
  return xAlign;
}
function determineAlignment(chart, options, size) {
  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);
  return {
    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),
    yAlign
  };
}
function alignX(size, xAlign) {
  let {
    x,
    width
  } = size;
  if (xAlign === "right") {
    x -= width;
  } else if (xAlign === "center") {
    x -= width / 2;
  }
  return x;
}
function alignY(size, yAlign, paddingAndSize) {
  let {
    y,
    height
  } = size;
  if (yAlign === "top") {
    y += paddingAndSize;
  } else if (yAlign === "bottom") {
    y -= height + paddingAndSize;
  } else {
    y -= height / 2;
  }
  return y;
}
function getBackgroundPoint(options, size, alignment, chart) {
  const {
    caretSize,
    caretPadding,
    cornerRadius
  } = options;
  const {
    xAlign,
    yAlign
  } = alignment;
  const paddingAndSize = caretSize + caretPadding;
  const {
    topLeft,
    topRight,
    bottomLeft,
    bottomRight
  } = toTRBLCorners(cornerRadius);
  let x = alignX(size, xAlign);
  const y = alignY(size, yAlign, paddingAndSize);
  if (yAlign === "center") {
    if (xAlign === "left") {
      x += paddingAndSize;
    } else if (xAlign === "right") {
      x -= paddingAndSize;
    }
  } else if (xAlign === "left") {
    x -= Math.max(topLeft, bottomLeft) + caretSize;
  } else if (xAlign === "right") {
    x += Math.max(topRight, bottomRight) + caretSize;
  }
  return {
    x: _limitValue(x, 0, chart.width - size.width),
    y: _limitValue(y, 0, chart.height - size.height)
  };
}
function getAlignedX(tooltip, align, options) {
  const padding = toPadding(options.padding);
  return align === "center" ? tooltip.x + tooltip.width / 2 : align === "right" ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;
}
function getBeforeAfterBodyLines(callback2) {
  return pushOrConcat([], splitNewlines(callback2));
}
function createTooltipContext(parent, tooltip, tooltipItems) {
  return createContext(parent, {
    tooltip,
    tooltipItems,
    type: "tooltip"
  });
}
function overrideCallbacks(callbacks, context) {
  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;
  return override ? callbacks.override(override) : callbacks;
}
var defaultCallbacks = {
  beforeTitle: noop,
  title(tooltipItems) {
    if (tooltipItems.length > 0) {
      const item = tooltipItems[0];
      const labels = item.chart.data.labels;
      const labelCount = labels ? labels.length : 0;
      if (this && this.options && this.options.mode === "dataset") {
        return item.dataset.label || "";
      } else if (item.label) {
        return item.label;
      } else if (labelCount > 0 && item.dataIndex < labelCount) {
        return labels[item.dataIndex];
      }
    }
    return "";
  },
  afterTitle: noop,
  beforeBody: noop,
  beforeLabel: noop,
  label(tooltipItem) {
    if (this && this.options && this.options.mode === "dataset") {
      return tooltipItem.label + ": " + tooltipItem.formattedValue || tooltipItem.formattedValue;
    }
    let label = tooltipItem.dataset.label || "";
    if (label) {
      label += ": ";
    }
    const value = tooltipItem.formattedValue;
    if (!isNullOrUndef(value)) {
      label += value;
    }
    return label;
  },
  labelColor(tooltipItem) {
    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
    const options = meta.controller.getStyle(tooltipItem.dataIndex);
    return {
      borderColor: options.borderColor,
      backgroundColor: options.backgroundColor,
      borderWidth: options.borderWidth,
      borderDash: options.borderDash,
      borderDashOffset: options.borderDashOffset,
      borderRadius: 0
    };
  },
  labelTextColor() {
    return this.options.bodyColor;
  },
  labelPointStyle(tooltipItem) {
    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
    const options = meta.controller.getStyle(tooltipItem.dataIndex);
    return {
      pointStyle: options.pointStyle,
      rotation: options.rotation
    };
  },
  afterLabel: noop,
  afterBody: noop,
  beforeFooter: noop,
  footer: noop,
  afterFooter: noop
};
function invokeCallbackWithFallback(callbacks, name, ctx, arg) {
  const result = callbacks[name].call(ctx, arg);
  if (typeof result === "undefined") {
    return defaultCallbacks[name].call(ctx, arg);
  }
  return result;
}
var Tooltip = class extends Element {
  static positioners = positioners;
  constructor(config) {
    super();
    this.opacity = 0;
    this._active = [];
    this._eventPosition = void 0;
    this._size = void 0;
    this._cachedAnimations = void 0;
    this._tooltipItems = [];
    this.$animations = void 0;
    this.$context = void 0;
    this.chart = config.chart;
    this.options = config.options;
    this.dataPoints = void 0;
    this.title = void 0;
    this.beforeBody = void 0;
    this.body = void 0;
    this.afterBody = void 0;
    this.footer = void 0;
    this.xAlign = void 0;
    this.yAlign = void 0;
    this.x = void 0;
    this.y = void 0;
    this.height = void 0;
    this.width = void 0;
    this.caretX = void 0;
    this.caretY = void 0;
    this.labelColors = void 0;
    this.labelPointStyles = void 0;
    this.labelTextColors = void 0;
  }
  initialize(options) {
    this.options = options;
    this._cachedAnimations = void 0;
    this.$context = void 0;
  }
  _resolveAnimations() {
    const cached = this._cachedAnimations;
    if (cached) {
      return cached;
    }
    const chart = this.chart;
    const options = this.options.setContext(this.getContext());
    const opts = options.enabled && chart.options.animation && options.animations;
    const animations = new Animations(this.chart, opts);
    if (opts._cacheable) {
      this._cachedAnimations = Object.freeze(animations);
    }
    return animations;
  }
  getContext() {
    return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));
  }
  getTitle(context, options) {
    const {
      callbacks
    } = options;
    const beforeTitle = invokeCallbackWithFallback(callbacks, "beforeTitle", this, context);
    const title = invokeCallbackWithFallback(callbacks, "title", this, context);
    const afterTitle = invokeCallbackWithFallback(callbacks, "afterTitle", this, context);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeTitle));
    lines = pushOrConcat(lines, splitNewlines(title));
    lines = pushOrConcat(lines, splitNewlines(afterTitle));
    return lines;
  }
  getBeforeBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, "beforeBody", this, tooltipItems));
  }
  getBody(tooltipItems, options) {
    const {
      callbacks
    } = options;
    const bodyItems = [];
    each(tooltipItems, (context) => {
      const bodyItem = {
        before: [],
        lines: [],
        after: []
      };
      const scoped = overrideCallbacks(callbacks, context);
      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, "beforeLabel", this, context)));
      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, "label", this, context));
      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, "afterLabel", this, context)));
      bodyItems.push(bodyItem);
    });
    return bodyItems;
  }
  getAfterBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, "afterBody", this, tooltipItems));
  }
  getFooter(tooltipItems, options) {
    const {
      callbacks
    } = options;
    const beforeFooter = invokeCallbackWithFallback(callbacks, "beforeFooter", this, tooltipItems);
    const footer = invokeCallbackWithFallback(callbacks, "footer", this, tooltipItems);
    const afterFooter = invokeCallbackWithFallback(callbacks, "afterFooter", this, tooltipItems);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeFooter));
    lines = pushOrConcat(lines, splitNewlines(footer));
    lines = pushOrConcat(lines, splitNewlines(afterFooter));
    return lines;
  }
  _createItems(options) {
    const active = this._active;
    const data = this.chart.data;
    const labelColors = [];
    const labelPointStyles = [];
    const labelTextColors = [];
    let tooltipItems = [];
    let i, len;
    for (i = 0, len = active.length; i < len; ++i) {
      tooltipItems.push(createTooltipItem(this.chart, active[i]));
    }
    if (options.filter) {
      tooltipItems = tooltipItems.filter((element, index2, array) => options.filter(element, index2, array, data));
    }
    if (options.itemSort) {
      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));
    }
    each(tooltipItems, (context) => {
      const scoped = overrideCallbacks(options.callbacks, context);
      labelColors.push(invokeCallbackWithFallback(scoped, "labelColor", this, context));
      labelPointStyles.push(invokeCallbackWithFallback(scoped, "labelPointStyle", this, context));
      labelTextColors.push(invokeCallbackWithFallback(scoped, "labelTextColor", this, context));
    });
    this.labelColors = labelColors;
    this.labelPointStyles = labelPointStyles;
    this.labelTextColors = labelTextColors;
    this.dataPoints = tooltipItems;
    return tooltipItems;
  }
  update(changed, replay) {
    const options = this.options.setContext(this.getContext());
    const active = this._active;
    let properties;
    let tooltipItems = [];
    if (!active.length) {
      if (this.opacity !== 0) {
        properties = {
          opacity: 0
        };
      }
    } else {
      const position = positioners[options.position].call(this, active, this._eventPosition);
      tooltipItems = this._createItems(options);
      this.title = this.getTitle(tooltipItems, options);
      this.beforeBody = this.getBeforeBody(tooltipItems, options);
      this.body = this.getBody(tooltipItems, options);
      this.afterBody = this.getAfterBody(tooltipItems, options);
      this.footer = this.getFooter(tooltipItems, options);
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, size);
      const alignment = determineAlignment(this.chart, options, positionAndSize);
      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);
      this.xAlign = alignment.xAlign;
      this.yAlign = alignment.yAlign;
      properties = {
        opacity: 1,
        x: backgroundPoint.x,
        y: backgroundPoint.y,
        width: size.width,
        height: size.height,
        caretX: position.x,
        caretY: position.y
      };
    }
    this._tooltipItems = tooltipItems;
    this.$context = void 0;
    if (properties) {
      this._resolveAnimations().update(this, properties);
    }
    if (changed && options.external) {
      options.external.call(this, {
        chart: this.chart,
        tooltip: this,
        replay
      });
    }
  }
  drawCaret(tooltipPoint, ctx, size, options) {
    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);
    ctx.lineTo(caretPosition.x1, caretPosition.y1);
    ctx.lineTo(caretPosition.x2, caretPosition.y2);
    ctx.lineTo(caretPosition.x3, caretPosition.y3);
  }
  getCaretPosition(tooltipPoint, size, options) {
    const {
      xAlign,
      yAlign
    } = this;
    const {
      caretSize,
      cornerRadius
    } = options;
    const {
      topLeft,
      topRight,
      bottomLeft,
      bottomRight
    } = toTRBLCorners(cornerRadius);
    const {
      x: ptX,
      y: ptY
    } = tooltipPoint;
    const {
      width,
      height
    } = size;
    let x1, x2, x3, y1, y2, y3;
    if (yAlign === "center") {
      y2 = ptY + height / 2;
      if (xAlign === "left") {
        x1 = ptX;
        x2 = x1 - caretSize;
        y1 = y2 + caretSize;
        y3 = y2 - caretSize;
      } else {
        x1 = ptX + width;
        x2 = x1 + caretSize;
        y1 = y2 - caretSize;
        y3 = y2 + caretSize;
      }
      x3 = x1;
    } else {
      if (xAlign === "left") {
        x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;
      } else if (xAlign === "right") {
        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;
      } else {
        x2 = this.caretX;
      }
      if (yAlign === "top") {
        y1 = ptY;
        y2 = y1 - caretSize;
        x1 = x2 - caretSize;
        x3 = x2 + caretSize;
      } else {
        y1 = ptY + height;
        y2 = y1 + caretSize;
        x1 = x2 + caretSize;
        x3 = x2 - caretSize;
      }
      y3 = y1;
    }
    return {
      x1,
      x2,
      x3,
      y1,
      y2,
      y3
    };
  }
  drawTitle(pt, ctx, options) {
    const title = this.title;
    const length = title.length;
    let titleFont, titleSpacing, i;
    if (length) {
      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.titleAlign, options);
      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);
      ctx.textBaseline = "middle";
      titleFont = toFont(options.titleFont);
      titleSpacing = options.titleSpacing;
      ctx.fillStyle = options.titleColor;
      ctx.font = titleFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);
        pt.y += titleFont.lineHeight + titleSpacing;
        if (i + 1 === length) {
          pt.y += options.titleMarginBottom - titleSpacing;
        }
      }
    }
  }
  _drawColorBox(ctx, pt, i, rtlHelper, options) {
    const labelColor = this.labelColors[i];
    const labelPointStyle = this.labelPointStyles[i];
    const {
      boxHeight,
      boxWidth
    } = options;
    const bodyFont = toFont(options.bodyFont);
    const colorX = getAlignedX(this, "left", options);
    const rtlColorX = rtlHelper.x(colorX);
    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;
    const colorY = pt.y + yOffSet;
    if (options.usePointStyle) {
      const drawOptions = {
        radius: Math.min(boxWidth, boxHeight) / 2,
        pointStyle: labelPointStyle.pointStyle,
        rotation: labelPointStyle.rotation,
        borderWidth: 1
      };
      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;
      const centerY = colorY + boxHeight / 2;
      ctx.strokeStyle = options.multiKeyBackground;
      ctx.fillStyle = options.multiKeyBackground;
      drawPoint(ctx, drawOptions, centerX, centerY);
      ctx.strokeStyle = labelColor.borderColor;
      ctx.fillStyle = labelColor.backgroundColor;
      drawPoint(ctx, drawOptions, centerX, centerY);
    } else {
      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;
      ctx.strokeStyle = labelColor.borderColor;
      ctx.setLineDash(labelColor.borderDash || []);
      ctx.lineDashOffset = labelColor.borderDashOffset || 0;
      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);
      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);
      const borderRadius = toTRBLCorners(labelColor.borderRadius);
      if (Object.values(borderRadius).some((v) => v !== 0)) {
        ctx.beginPath();
        ctx.fillStyle = options.multiKeyBackground;
        addRoundedRectPath(ctx, {
          x: outerX,
          y: colorY,
          w: boxWidth,
          h: boxHeight,
          radius: borderRadius
        });
        ctx.fill();
        ctx.stroke();
        ctx.fillStyle = labelColor.backgroundColor;
        ctx.beginPath();
        addRoundedRectPath(ctx, {
          x: innerX,
          y: colorY + 1,
          w: boxWidth - 2,
          h: boxHeight - 2,
          radius: borderRadius
        });
        ctx.fill();
      } else {
        ctx.fillStyle = options.multiKeyBackground;
        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);
        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);
        ctx.fillStyle = labelColor.backgroundColor;
        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);
      }
    }
    ctx.fillStyle = this.labelTextColors[i];
  }
  drawBody(pt, ctx, options) {
    const {
      body
    } = this;
    const {
      bodySpacing,
      bodyAlign,
      displayColors,
      boxHeight,
      boxWidth,
      boxPadding
    } = options;
    const bodyFont = toFont(options.bodyFont);
    let bodyLineHeight = bodyFont.lineHeight;
    let xLinePadding = 0;
    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);
    const fillLineOfText = function(line) {
      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);
      pt.y += bodyLineHeight + bodySpacing;
    };
    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);
    let bodyItem, textColor, lines, i, j, ilen, jlen;
    ctx.textAlign = bodyAlign;
    ctx.textBaseline = "middle";
    ctx.font = bodyFont.string;
    pt.x = getAlignedX(this, bodyAlignForCalculation, options);
    ctx.fillStyle = options.bodyColor;
    each(this.beforeBody, fillLineOfText);
    xLinePadding = displayColors && bodyAlignForCalculation !== "right" ? bodyAlign === "center" ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;
    for (i = 0, ilen = body.length; i < ilen; ++i) {
      bodyItem = body[i];
      textColor = this.labelTextColors[i];
      ctx.fillStyle = textColor;
      each(bodyItem.before, fillLineOfText);
      lines = bodyItem.lines;
      if (displayColors && lines.length) {
        this._drawColorBox(ctx, pt, i, rtlHelper, options);
        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);
      }
      for (j = 0, jlen = lines.length; j < jlen; ++j) {
        fillLineOfText(lines[j]);
        bodyLineHeight = bodyFont.lineHeight;
      }
      each(bodyItem.after, fillLineOfText);
    }
    xLinePadding = 0;
    bodyLineHeight = bodyFont.lineHeight;
    each(this.afterBody, fillLineOfText);
    pt.y -= bodySpacing;
  }
  drawFooter(pt, ctx, options) {
    const footer = this.footer;
    const length = footer.length;
    let footerFont, i;
    if (length) {
      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.footerAlign, options);
      pt.y += options.footerMarginTop;
      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);
      ctx.textBaseline = "middle";
      footerFont = toFont(options.footerFont);
      ctx.fillStyle = options.footerColor;
      ctx.font = footerFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);
        pt.y += footerFont.lineHeight + options.footerSpacing;
      }
    }
  }
  drawBackground(pt, ctx, tooltipSize, options) {
    const {
      xAlign,
      yAlign
    } = this;
    const {
      x,
      y
    } = pt;
    const {
      width,
      height
    } = tooltipSize;
    const {
      topLeft,
      topRight,
      bottomLeft,
      bottomRight
    } = toTRBLCorners(options.cornerRadius);
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.beginPath();
    ctx.moveTo(x + topLeft, y);
    if (yAlign === "top") {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width - topRight, y);
    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);
    if (yAlign === "center" && xAlign === "right") {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width, y + height - bottomRight);
    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);
    if (yAlign === "bottom") {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + bottomLeft, y + height);
    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);
    if (yAlign === "center" && xAlign === "left") {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x, y + topLeft);
    ctx.quadraticCurveTo(x, y, x + topLeft, y);
    ctx.closePath();
    ctx.fill();
    if (options.borderWidth > 0) {
      ctx.stroke();
    }
  }
  _updateAnimationTarget(options) {
    const chart = this.chart;
    const anims = this.$animations;
    const animX = anims && anims.x;
    const animY = anims && anims.y;
    if (animX || animY) {
      const position = positioners[options.position].call(this, this._active, this._eventPosition);
      if (!position) {
        return;
      }
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, this._size);
      const alignment = determineAlignment(chart, options, positionAndSize);
      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);
      if (animX._to !== point.x || animY._to !== point.y) {
        this.xAlign = alignment.xAlign;
        this.yAlign = alignment.yAlign;
        this.width = size.width;
        this.height = size.height;
        this.caretX = position.x;
        this.caretY = position.y;
        this._resolveAnimations().update(this, point);
      }
    }
  }
  _willRender() {
    return !!this.opacity;
  }
  draw(ctx) {
    const options = this.options.setContext(this.getContext());
    let opacity = this.opacity;
    if (!opacity) {
      return;
    }
    this._updateAnimationTarget(options);
    const tooltipSize = {
      width: this.width,
      height: this.height
    };
    const pt = {
      x: this.x,
      y: this.y
    };
    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;
    const padding = toPadding(options.padding);
    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;
    if (options.enabled && hasTooltipContent) {
      ctx.save();
      ctx.globalAlpha = opacity;
      this.drawBackground(pt, ctx, tooltipSize, options);
      overrideTextDirection(ctx, options.textDirection);
      pt.y += padding.top;
      this.drawTitle(pt, ctx, options);
      this.drawBody(pt, ctx, options);
      this.drawFooter(pt, ctx, options);
      restoreTextDirection(ctx, options.textDirection);
      ctx.restore();
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements, eventPosition) {
    const lastActive = this._active;
    const active = activeElements.map(({
      datasetIndex,
      index: index2
    }) => {
      const meta = this.chart.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error("Cannot find a dataset at index " + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index2],
        index: index2
      };
    });
    const changed = !_elementsEqual(lastActive, active);
    const positionChanged = this._positionChanged(active, eventPosition);
    if (changed || positionChanged) {
      this._active = active;
      this._eventPosition = eventPosition;
      this._ignoreReplayEvents = true;
      this.update(true);
    }
  }
  handleEvent(e, replay, inChartArea = true) {
    if (replay && this._ignoreReplayEvents) {
      return false;
    }
    this._ignoreReplayEvents = false;
    const options = this.options;
    const lastActive = this._active || [];
    const active = this._getActiveElements(e, lastActive, replay, inChartArea);
    const positionChanged = this._positionChanged(active, e);
    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;
    if (changed) {
      this._active = active;
      if (options.enabled || options.external) {
        this._eventPosition = {
          x: e.x,
          y: e.y
        };
        this.update(true, replay);
      }
    }
    return changed;
  }
  _getActiveElements(e, lastActive, replay, inChartArea) {
    const options = this.options;
    if (e.type === "mouseout") {
      return [];
    }
    if (!inChartArea) {
      return lastActive.filter((i) => this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== void 0);
    }
    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);
    if (options.reverse) {
      active.reverse();
    }
    return active;
  }
  _positionChanged(active, e) {
    const {
      caretX,
      caretY,
      options
    } = this;
    const position = positioners[options.position].call(this, active, e);
    return position !== false && (caretX !== position.x || caretY !== position.y);
  }
};
var plugin_tooltip = {
  id: "tooltip",
  _element: Tooltip,
  positioners,
  afterInit(chart, _args, options) {
    if (options) {
      chart.tooltip = new Tooltip({
        chart,
        options
      });
    }
  },
  beforeUpdate(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  reset(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  afterDraw(chart) {
    const tooltip = chart.tooltip;
    if (tooltip && tooltip._willRender()) {
      const args = {
        tooltip
      };
      if (chart.notifyPlugins("beforeTooltipDraw", __spreadProps(__spreadValues({}, args), {
        cancelable: true
      })) === false) {
        return;
      }
      tooltip.draw(chart.ctx);
      chart.notifyPlugins("afterTooltipDraw", args);
    }
  },
  afterEvent(chart, args) {
    if (chart.tooltip) {
      const useFinalPosition = args.replay;
      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {
        args.changed = true;
      }
    }
  },
  defaults: {
    enabled: true,
    external: null,
    position: "average",
    backgroundColor: "rgba(0,0,0,0.8)",
    titleColor: "#fff",
    titleFont: {
      weight: "bold"
    },
    titleSpacing: 2,
    titleMarginBottom: 6,
    titleAlign: "left",
    bodyColor: "#fff",
    bodySpacing: 2,
    bodyFont: {},
    bodyAlign: "left",
    footerColor: "#fff",
    footerSpacing: 2,
    footerMarginTop: 6,
    footerFont: {
      weight: "bold"
    },
    footerAlign: "left",
    padding: 6,
    caretPadding: 2,
    caretSize: 5,
    cornerRadius: 6,
    boxHeight: (ctx, opts) => opts.bodyFont.size,
    boxWidth: (ctx, opts) => opts.bodyFont.size,
    multiKeyBackground: "#fff",
    displayColors: true,
    boxPadding: 0,
    borderColor: "rgba(0,0,0,0)",
    borderWidth: 0,
    animation: {
      duration: 400,
      easing: "easeOutQuart"
    },
    animations: {
      numbers: {
        type: "number",
        properties: ["x", "y", "width", "height", "caretX", "caretY"]
      },
      opacity: {
        easing: "linear",
        duration: 200
      }
    },
    callbacks: defaultCallbacks
  },
  defaultRoutes: {
    bodyFont: "font",
    footerFont: "font",
    titleFont: "font"
  },
  descriptors: {
    _scriptable: (name) => name !== "filter" && name !== "itemSort" && name !== "external",
    _indexable: false,
    callbacks: {
      _scriptable: false,
      _indexable: false
    },
    animation: {
      _fallback: false
    },
    animations: {
      _fallback: "animation"
    }
  },
  additionalOptionScopes: ["interaction"]
};
var plugins = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  Colors: plugin_colors,
  Decimation: plugin_decimation,
  Filler: index,
  Legend: plugin_legend,
  SubTitle: plugin_subtitle,
  Title: plugin_title,
  Tooltip: plugin_tooltip
});
var addIfString = (labels, raw, index2, addedLabels) => {
  if (typeof raw === "string") {
    index2 = labels.push(raw) - 1;
    addedLabels.unshift({
      index: index2,
      label: raw
    });
  } else if (isNaN(raw)) {
    index2 = null;
  }
  return index2;
};
function findOrAddLabel(labels, raw, index2, addedLabels) {
  const first = labels.indexOf(raw);
  if (first === -1) {
    return addIfString(labels, raw, index2, addedLabels);
  }
  const last = labels.lastIndexOf(raw);
  return first !== last ? index2 : first;
}
var validIndex = (index2, max) => index2 === null ? null : _limitValue(Math.round(index2), 0, max);
function _getLabelForValue(value) {
  const labels = this.getLabels();
  if (value >= 0 && value < labels.length) {
    return labels[value];
  }
  return value;
}
var CategoryScale = class extends Scale {
  static id = "category";
  static defaults = {
    ticks: {
      callback: _getLabelForValue
    }
  };
  constructor(cfg) {
    super(cfg);
    this._startValue = void 0;
    this._valueRange = 0;
    this._addedLabels = [];
  }
  init(scaleOptions) {
    const added = this._addedLabels;
    if (added.length) {
      const labels = this.getLabels();
      for (const {
        index: index2,
        label
      } of added) {
        if (labels[index2] === label) {
          labels.splice(index2, 1);
        }
      }
      this._addedLabels = [];
    }
    super.init(scaleOptions);
  }
  parse(raw, index2) {
    if (isNullOrUndef(raw)) {
      return null;
    }
    const labels = this.getLabels();
    index2 = isFinite(index2) && labels[index2] === raw ? index2 : findOrAddLabel(labels, raw, valueOrDefault(index2, raw), this._addedLabels);
    return validIndex(index2, labels.length - 1);
  }
  determineDataLimits() {
    const {
      minDefined,
      maxDefined
    } = this.getUserBounds();
    let {
      min,
      max
    } = this.getMinMax(true);
    if (this.options.bounds === "ticks") {
      if (!minDefined) {
        min = 0;
      }
      if (!maxDefined) {
        max = this.getLabels().length - 1;
      }
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const min = this.min;
    const max = this.max;
    const offset = this.options.offset;
    const ticks = [];
    let labels = this.getLabels();
    labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);
    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);
    this._startValue = this.min - (offset ? 0.5 : 0);
    for (let value = min; value <= max; value++) {
      ticks.push({
        value
      });
    }
    return ticks;
  }
  getLabelForValue(value) {
    return _getLabelForValue.call(this, value);
  }
  configure() {
    super.configure();
    if (!this.isHorizontal()) {
      this._reversePixels = !this._reversePixels;
    }
  }
  getPixelForValue(value) {
    if (typeof value !== "number") {
      value = this.parse(value);
    }
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getPixelForTick(index2) {
    const ticks = this.ticks;
    if (index2 < 0 || index2 > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index2].value);
  }
  getValueForPixel(pixel) {
    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);
  }
  getBasePixel() {
    return this.bottom;
  }
};
function generateTicks$1(generationOptions, dataRange) {
  const ticks = [];
  const MIN_SPACING = 1e-14;
  const {
    bounds,
    step,
    min,
    max,
    precision,
    count,
    maxTicks,
    maxDigits,
    includeBounds
  } = generationOptions;
  const unit = step || 1;
  const maxSpaces = maxTicks - 1;
  const {
    min: rmin,
    max: rmax
  } = dataRange;
  const minDefined = !isNullOrUndef(min);
  const maxDefined = !isNullOrUndef(max);
  const countDefined = !isNullOrUndef(count);
  const minSpacing = (rmax - rmin) / (maxDigits + 1);
  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;
  let factor, niceMin, niceMax, numSpaces;
  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {
    return [{
      value: rmin
    }, {
      value: rmax
    }];
  }
  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);
  if (numSpaces > maxSpaces) {
    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;
  }
  if (!isNullOrUndef(precision)) {
    factor = Math.pow(10, precision);
    spacing = Math.ceil(spacing * factor) / factor;
  }
  if (bounds === "ticks") {
    niceMin = Math.floor(rmin / spacing) * spacing;
    niceMax = Math.ceil(rmax / spacing) * spacing;
  } else {
    niceMin = rmin;
    niceMax = rmax;
  }
  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1e3)) {
    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));
    spacing = (max - min) / numSpaces;
    niceMin = min;
    niceMax = max;
  } else if (countDefined) {
    niceMin = minDefined ? min : niceMin;
    niceMax = maxDefined ? max : niceMax;
    numSpaces = count - 1;
    spacing = (niceMax - niceMin) / numSpaces;
  } else {
    numSpaces = (niceMax - niceMin) / spacing;
    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1e3)) {
      numSpaces = Math.round(numSpaces);
    } else {
      numSpaces = Math.ceil(numSpaces);
    }
  }
  const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));
  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);
  niceMin = Math.round(niceMin * factor) / factor;
  niceMax = Math.round(niceMax * factor) / factor;
  let j = 0;
  if (minDefined) {
    if (includeBounds && niceMin !== min) {
      ticks.push({
        value: min
      });
      if (niceMin < min) {
        j++;
      }
      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {
        j++;
      }
    } else if (niceMin < min) {
      j++;
    }
  }
  for (; j < numSpaces; ++j) {
    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;
    if (maxDefined && tickValue > max) {
      break;
    }
    ticks.push({
      value: tickValue
    });
  }
  if (maxDefined && includeBounds && niceMax !== max) {
    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {
      ticks[ticks.length - 1].value = max;
    } else {
      ticks.push({
        value: max
      });
    }
  } else if (!maxDefined || niceMax === max) {
    ticks.push({
      value: niceMax
    });
  }
  return ticks;
}
function relativeLabelSize(value, minSpacing, {
  horizontal,
  minRotation
}) {
  const rad = toRadians(minRotation);
  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 1e-3;
  const length = 0.75 * minSpacing * ("" + value).length;
  return Math.min(minSpacing / ratio, length);
}
var LinearScaleBase = class extends Scale {
  constructor(cfg) {
    super(cfg);
    this.start = void 0;
    this.end = void 0;
    this._startValue = void 0;
    this._endValue = void 0;
    this._valueRange = 0;
  }
  parse(raw, index2) {
    if (isNullOrUndef(raw)) {
      return null;
    }
    if ((typeof raw === "number" || raw instanceof Number) && !isFinite(+raw)) {
      return null;
    }
    return +raw;
  }
  handleTickRangeOptions() {
    const {
      beginAtZero
    } = this.options;
    const {
      minDefined,
      maxDefined
    } = this.getUserBounds();
    let {
      min,
      max
    } = this;
    const setMin = (v) => min = minDefined ? min : v;
    const setMax = (v) => max = maxDefined ? max : v;
    if (beginAtZero) {
      const minSign = sign(min);
      const maxSign = sign(max);
      if (minSign < 0 && maxSign < 0) {
        setMax(0);
      } else if (minSign > 0 && maxSign > 0) {
        setMin(0);
      }
    }
    if (min === max) {
      let offset = max === 0 ? 1 : Math.abs(max * 0.05);
      setMax(max + offset);
      if (!beginAtZero) {
        setMin(min - offset);
      }
    }
    this.min = min;
    this.max = max;
  }
  getTickLimit() {
    const tickOpts = this.options.ticks;
    let {
      maxTicksLimit,
      stepSize
    } = tickOpts;
    let maxTicks;
    if (stepSize) {
      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;
      if (maxTicks > 1e3) {
        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);
        maxTicks = 1e3;
      }
    } else {
      maxTicks = this.computeTickLimit();
      maxTicksLimit = maxTicksLimit || 11;
    }
    if (maxTicksLimit) {
      maxTicks = Math.min(maxTicksLimit, maxTicks);
    }
    return maxTicks;
  }
  computeTickLimit() {
    return Number.POSITIVE_INFINITY;
  }
  buildTicks() {
    const opts = this.options;
    const tickOpts = opts.ticks;
    let maxTicks = this.getTickLimit();
    maxTicks = Math.max(2, maxTicks);
    const numericGeneratorOptions = {
      maxTicks,
      bounds: opts.bounds,
      min: opts.min,
      max: opts.max,
      precision: tickOpts.precision,
      step: tickOpts.stepSize,
      count: tickOpts.count,
      maxDigits: this._maxDigits(),
      horizontal: this.isHorizontal(),
      minRotation: tickOpts.minRotation || 0,
      includeBounds: tickOpts.includeBounds !== false
    };
    const dataRange = this._range || this;
    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);
    if (opts.bounds === "ticks") {
      _setMinAndMaxByKey(ticks, this, "value");
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  configure() {
    const ticks = this.ticks;
    let start = this.min;
    let end = this.max;
    super.configure();
    if (this.options.offset && ticks.length) {
      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;
      start -= offset;
      end += offset;
    }
    this._startValue = start;
    this._endValue = end;
    this._valueRange = end - start;
  }
  getLabelForValue(value) {
    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);
  }
};
var LinearScale = class extends LinearScaleBase {
  static id = "linear";
  static defaults = {
    ticks: {
      callback: Ticks.formatters.numeric
    }
  };
  determineDataLimits() {
    const {
      min,
      max
    } = this.getMinMax(true);
    this.min = isNumberFinite(min) ? min : 0;
    this.max = isNumberFinite(max) ? max : 1;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    const horizontal = this.isHorizontal();
    const length = horizontal ? this.width : this.height;
    const minRotation = toRadians(this.options.ticks.minRotation);
    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 1e-3;
    const tickFont = this._resolveTickFontOptions(0);
    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));
  }
  getPixelForValue(value) {
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;
  }
};
var log10Floor = (v) => Math.floor(log10(v));
var changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);
function isMajor(tickVal) {
  const remain = tickVal / Math.pow(10, log10Floor(tickVal));
  return remain === 1;
}
function steps(min, max, rangeExp) {
  const rangeStep = Math.pow(10, rangeExp);
  const start = Math.floor(min / rangeStep);
  const end = Math.ceil(max / rangeStep);
  return end - start;
}
function startExp(min, max) {
  const range = max - min;
  let rangeExp = log10Floor(range);
  while (steps(min, max, rangeExp) > 10) {
    rangeExp++;
  }
  while (steps(min, max, rangeExp) < 10) {
    rangeExp--;
  }
  return Math.min(rangeExp, log10Floor(min));
}
function generateTicks(generationOptions, {
  min,
  max
}) {
  min = finiteOrDefault(generationOptions.min, min);
  const ticks = [];
  const minExp = log10Floor(min);
  let exp = startExp(min, max);
  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;
  const stepSize = Math.pow(10, exp);
  const base = minExp > exp ? Math.pow(10, minExp) : 0;
  const start = Math.round((min - base) * precision) / precision;
  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;
  let significand = Math.floor((start - offset) / Math.pow(10, exp));
  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);
  while (value < max) {
    ticks.push({
      value,
      major: isMajor(value),
      significand
    });
    if (significand >= 10) {
      significand = significand < 15 ? 15 : 20;
    } else {
      significand++;
    }
    if (significand >= 20) {
      exp++;
      significand = 2;
      precision = exp >= 0 ? 1 : precision;
    }
    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;
  }
  const lastTick = finiteOrDefault(generationOptions.max, value);
  ticks.push({
    value: lastTick,
    major: isMajor(lastTick),
    significand
  });
  return ticks;
}
var LogarithmicScale = class extends Scale {
  static id = "logarithmic";
  static defaults = {
    ticks: {
      callback: Ticks.formatters.logarithmic,
      major: {
        enabled: true
      }
    }
  };
  constructor(cfg) {
    super(cfg);
    this.start = void 0;
    this.end = void 0;
    this._startValue = void 0;
    this._valueRange = 0;
  }
  parse(raw, index2) {
    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index2]);
    if (value === 0) {
      this._zero = true;
      return void 0;
    }
    return isNumberFinite(value) && value > 0 ? value : null;
  }
  determineDataLimits() {
    const {
      min,
      max
    } = this.getMinMax(true);
    this.min = isNumberFinite(min) ? Math.max(0, min) : null;
    this.max = isNumberFinite(max) ? Math.max(0, max) : null;
    if (this.options.beginAtZero) {
      this._zero = true;
    }
    if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {
      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);
    }
    this.handleTickRangeOptions();
  }
  handleTickRangeOptions() {
    const {
      minDefined,
      maxDefined
    } = this.getUserBounds();
    let min = this.min;
    let max = this.max;
    const setMin = (v) => min = minDefined ? min : v;
    const setMax = (v) => max = maxDefined ? max : v;
    if (min === max) {
      if (min <= 0) {
        setMin(1);
        setMax(10);
      } else {
        setMin(changeExponent(min, -1));
        setMax(changeExponent(max, 1));
      }
    }
    if (min <= 0) {
      setMin(changeExponent(max, -1));
    }
    if (max <= 0) {
      setMax(changeExponent(min, 1));
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const opts = this.options;
    const generationOptions = {
      min: this._userMin,
      max: this._userMax
    };
    const ticks = generateTicks(generationOptions, this);
    if (opts.bounds === "ticks") {
      _setMinAndMaxByKey(ticks, this, "value");
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  getLabelForValue(value) {
    return value === void 0 ? "0" : formatNumber(value, this.chart.options.locale, this.options.ticks.format);
  }
  configure() {
    const start = this.min;
    super.configure();
    this._startValue = log10(start);
    this._valueRange = log10(this.max) - log10(start);
  }
  getPixelForValue(value) {
    if (value === void 0 || value === 0) {
      value = this.min;
    }
    if (value === null || isNaN(value)) {
      return NaN;
    }
    return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    const decimal = this.getDecimalForPixel(pixel);
    return Math.pow(10, this._startValue + decimal * this._valueRange);
  }
};
function getTickBackdropHeight(opts) {
  const tickOpts = opts.ticks;
  if (tickOpts.display && opts.display) {
    const padding = toPadding(tickOpts.backdropPadding);
    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults2.font.size) + padding.height;
  }
  return 0;
}
function measureLabelSize(ctx, font, label) {
  label = isArray(label) ? label : [label];
  return {
    w: _longestText(ctx, font.string, label),
    h: label.length * font.lineHeight
  };
}
function determineLimits(angle, pos, size, min, max) {
  if (angle === min || angle === max) {
    return {
      start: pos - size / 2,
      end: pos + size / 2
    };
  } else if (angle < min || angle > max) {
    return {
      start: pos - size,
      end: pos
    };
  }
  return {
    start: pos,
    end: pos + size
  };
}
function fitWithPointLabels(scale) {
  const orig = {
    l: scale.left + scale._padding.left,
    r: scale.right - scale._padding.right,
    t: scale.top + scale._padding.top,
    b: scale.bottom - scale._padding.bottom
  };
  const limits = Object.assign({}, orig);
  const labelSizes = [];
  const padding = [];
  const valueCount = scale._pointLabels.length;
  const pointLabelOpts = scale.options.pointLabels;
  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;
  for (let i = 0; i < valueCount; i++) {
    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));
    padding[i] = opts.padding;
    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);
    const plFont = toFont(opts.font);
    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);
    labelSizes[i] = textSize;
    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);
    const angle = Math.round(toDegrees(angleRadians));
    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);
    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);
    updateLimits(limits, orig, angleRadians, hLimits, vLimits);
  }
  scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);
  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);
}
function updateLimits(limits, orig, angle, hLimits, vLimits) {
  const sin = Math.abs(Math.sin(angle));
  const cos = Math.abs(Math.cos(angle));
  let x = 0;
  let y = 0;
  if (hLimits.start < orig.l) {
    x = (orig.l - hLimits.start) / sin;
    limits.l = Math.min(limits.l, orig.l - x);
  } else if (hLimits.end > orig.r) {
    x = (hLimits.end - orig.r) / sin;
    limits.r = Math.max(limits.r, orig.r + x);
  }
  if (vLimits.start < orig.t) {
    y = (orig.t - vLimits.start) / cos;
    limits.t = Math.min(limits.t, orig.t - y);
  } else if (vLimits.end > orig.b) {
    y = (vLimits.end - orig.b) / cos;
    limits.b = Math.max(limits.b, orig.b + y);
  }
}
function createPointLabelItem(scale, index2, itemOpts) {
  const outerDistance = scale.drawingArea;
  const {
    extra,
    additionalAngle,
    padding,
    size
  } = itemOpts;
  const pointLabelPosition = scale.getPointPosition(index2, outerDistance + extra + padding, additionalAngle);
  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));
  const y = yForAngle(pointLabelPosition.y, size.h, angle);
  const textAlign = getTextAlignForAngle(angle);
  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);
  return {
    visible: true,
    x: pointLabelPosition.x,
    y,
    textAlign,
    left,
    top: y,
    right: left + size.w,
    bottom: y + size.h
  };
}
function isNotOverlapped(item, area) {
  if (!area) {
    return true;
  }
  const {
    left,
    top,
    right,
    bottom
  } = item;
  const apexesInArea = _isPointInArea({
    x: left,
    y: top
  }, area) || _isPointInArea({
    x: left,
    y: bottom
  }, area) || _isPointInArea({
    x: right,
    y: top
  }, area) || _isPointInArea({
    x: right,
    y: bottom
  }, area);
  return !apexesInArea;
}
function buildPointLabelItems(scale, labelSizes, padding) {
  const items = [];
  const valueCount = scale._pointLabels.length;
  const opts = scale.options;
  const {
    centerPointLabels,
    display
  } = opts.pointLabels;
  const itemOpts = {
    extra: getTickBackdropHeight(opts) / 2,
    additionalAngle: centerPointLabels ? PI / valueCount : 0
  };
  let area;
  for (let i = 0; i < valueCount; i++) {
    itemOpts.padding = padding[i];
    itemOpts.size = labelSizes[i];
    const item = createPointLabelItem(scale, i, itemOpts);
    items.push(item);
    if (display === "auto") {
      item.visible = isNotOverlapped(item, area);
      if (item.visible) {
        area = item;
      }
    }
  }
  return items;
}
function getTextAlignForAngle(angle) {
  if (angle === 0 || angle === 180) {
    return "center";
  } else if (angle < 180) {
    return "left";
  }
  return "right";
}
function leftForTextAlign(x, w, align) {
  if (align === "right") {
    x -= w;
  } else if (align === "center") {
    x -= w / 2;
  }
  return x;
}
function yForAngle(y, h, angle) {
  if (angle === 90 || angle === 270) {
    y -= h / 2;
  } else if (angle > 270 || angle < 90) {
    y -= h;
  }
  return y;
}
function drawPointLabelBox(ctx, opts, item) {
  const {
    left,
    top,
    right,
    bottom
  } = item;
  const {
    backdropColor
  } = opts;
  if (!isNullOrUndef(backdropColor)) {
    const borderRadius = toTRBLCorners(opts.borderRadius);
    const padding = toPadding(opts.backdropPadding);
    ctx.fillStyle = backdropColor;
    const backdropLeft = left - padding.left;
    const backdropTop = top - padding.top;
    const backdropWidth = right - left + padding.width;
    const backdropHeight = bottom - top + padding.height;
    if (Object.values(borderRadius).some((v) => v !== 0)) {
      ctx.beginPath();
      addRoundedRectPath(ctx, {
        x: backdropLeft,
        y: backdropTop,
        w: backdropWidth,
        h: backdropHeight,
        radius: borderRadius
      });
      ctx.fill();
    } else {
      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);
    }
  }
}
function drawPointLabels(scale, labelCount) {
  const {
    ctx,
    options: {
      pointLabels
    }
  } = scale;
  for (let i = labelCount - 1; i >= 0; i--) {
    const item = scale._pointLabelItems[i];
    if (!item.visible) {
      continue;
    }
    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));
    drawPointLabelBox(ctx, optsAtIndex, item);
    const plFont = toFont(optsAtIndex.font);
    const {
      x,
      y,
      textAlign
    } = item;
    renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {
      color: optsAtIndex.color,
      textAlign,
      textBaseline: "middle"
    });
  }
}
function pathRadiusLine(scale, radius, circular, labelCount) {
  const {
    ctx
  } = scale;
  if (circular) {
    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);
  } else {
    let pointPosition = scale.getPointPosition(0, radius);
    ctx.moveTo(pointPosition.x, pointPosition.y);
    for (let i = 1; i < labelCount; i++) {
      pointPosition = scale.getPointPosition(i, radius);
      ctx.lineTo(pointPosition.x, pointPosition.y);
    }
  }
}
function drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {
  const ctx = scale.ctx;
  const circular = gridLineOpts.circular;
  const {
    color: color2,
    lineWidth
  } = gridLineOpts;
  if (!circular && !labelCount || !color2 || !lineWidth || radius < 0) {
    return;
  }
  ctx.save();
  ctx.strokeStyle = color2;
  ctx.lineWidth = lineWidth;
  ctx.setLineDash(borderOpts.dash || []);
  ctx.lineDashOffset = borderOpts.dashOffset;
  ctx.beginPath();
  pathRadiusLine(scale, radius, circular, labelCount);
  ctx.closePath();
  ctx.stroke();
  ctx.restore();
}
function createPointLabelContext(parent, index2, label) {
  return createContext(parent, {
    label,
    index: index2,
    type: "pointLabel"
  });
}
var RadialLinearScale = class extends LinearScaleBase {
  static id = "radialLinear";
  static defaults = {
    display: true,
    animate: true,
    position: "chartArea",
    angleLines: {
      display: true,
      lineWidth: 1,
      borderDash: [],
      borderDashOffset: 0
    },
    grid: {
      circular: false
    },
    startAngle: 0,
    ticks: {
      showLabelBackdrop: true,
      callback: Ticks.formatters.numeric
    },
    pointLabels: {
      backdropColor: void 0,
      backdropPadding: 2,
      display: true,
      font: {
        size: 10
      },
      callback(label) {
        return label;
      },
      padding: 5,
      centerPointLabels: false
    }
  };
  static defaultRoutes = {
    "angleLines.color": "borderColor",
    "pointLabels.color": "color",
    "ticks.color": "color"
  };
  static descriptors = {
    angleLines: {
      _fallback: "grid"
    }
  };
  constructor(cfg) {
    super(cfg);
    this.xCenter = void 0;
    this.yCenter = void 0;
    this.drawingArea = void 0;
    this._pointLabels = [];
    this._pointLabelItems = [];
  }
  setDimensions() {
    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);
    const w = this.width = this.maxWidth - padding.width;
    const h = this.height = this.maxHeight - padding.height;
    this.xCenter = Math.floor(this.left + w / 2 + padding.left);
    this.yCenter = Math.floor(this.top + h / 2 + padding.top);
    this.drawingArea = Math.floor(Math.min(w, h) / 2);
  }
  determineDataLimits() {
    const {
      min,
      max
    } = this.getMinMax(false);
    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;
    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));
  }
  generateTickLabels(ticks) {
    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);
    this._pointLabels = this.getLabels().map((value, index2) => {
      const label = callback(this.options.pointLabels.callback, [value, index2], this);
      return label || label === 0 ? label : "";
    }).filter((v, i) => this.chart.getDataVisibility(i));
  }
  fit() {
    const opts = this.options;
    if (opts.display && opts.pointLabels.display) {
      fitWithPointLabels(this);
    } else {
      this.setCenterPoint(0, 0, 0, 0);
    }
  }
  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {
    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);
    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);
    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));
  }
  getIndexAngle(index2) {
    const angleMultiplier = TAU / (this._pointLabels.length || 1);
    const startAngle = this.options.startAngle || 0;
    return _normalizeAngle(index2 * angleMultiplier + toRadians(startAngle));
  }
  getDistanceFromCenterForValue(value) {
    if (isNullOrUndef(value)) {
      return NaN;
    }
    const scalingFactor = this.drawingArea / (this.max - this.min);
    if (this.options.reverse) {
      return (this.max - value) * scalingFactor;
    }
    return (value - this.min) * scalingFactor;
  }
  getValueForDistanceFromCenter(distance) {
    if (isNullOrUndef(distance)) {
      return NaN;
    }
    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));
    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;
  }
  getPointLabelContext(index2) {
    const pointLabels = this._pointLabels || [];
    if (index2 >= 0 && index2 < pointLabels.length) {
      const pointLabel = pointLabels[index2];
      return createPointLabelContext(this.getContext(), index2, pointLabel);
    }
  }
  getPointPosition(index2, distanceFromCenter, additionalAngle = 0) {
    const angle = this.getIndexAngle(index2) - HALF_PI + additionalAngle;
    return {
      x: Math.cos(angle) * distanceFromCenter + this.xCenter,
      y: Math.sin(angle) * distanceFromCenter + this.yCenter,
      angle
    };
  }
  getPointPositionForValue(index2, value) {
    return this.getPointPosition(index2, this.getDistanceFromCenterForValue(value));
  }
  getBasePosition(index2) {
    return this.getPointPositionForValue(index2 || 0, this.getBaseValue());
  }
  getPointLabelPosition(index2) {
    const {
      left,
      top,
      right,
      bottom
    } = this._pointLabelItems[index2];
    return {
      left,
      top,
      right,
      bottom
    };
  }
  drawBackground() {
    const {
      backgroundColor,
      grid: {
        circular
      }
    } = this.options;
    if (backgroundColor) {
      const ctx = this.ctx;
      ctx.save();
      ctx.beginPath();
      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);
      ctx.closePath();
      ctx.fillStyle = backgroundColor;
      ctx.fill();
      ctx.restore();
    }
  }
  drawGrid() {
    const ctx = this.ctx;
    const opts = this.options;
    const {
      angleLines,
      grid,
      border
    } = opts;
    const labelCount = this._pointLabels.length;
    let i, offset, position;
    if (opts.pointLabels.display) {
      drawPointLabels(this, labelCount);
    }
    if (grid.display) {
      this.ticks.forEach((tick, index2) => {
        if (index2 !== 0 || index2 === 0 && this.min < 0) {
          offset = this.getDistanceFromCenterForValue(tick.value);
          const context = this.getContext(index2);
          const optsAtIndex = grid.setContext(context);
          const optsAtIndexBorder = border.setContext(context);
          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);
        }
      });
    }
    if (angleLines.display) {
      ctx.save();
      for (i = labelCount - 1; i >= 0; i--) {
        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));
        const {
          color: color2,
          lineWidth
        } = optsAtIndex;
        if (!lineWidth || !color2) {
          continue;
        }
        ctx.lineWidth = lineWidth;
        ctx.strokeStyle = color2;
        ctx.setLineDash(optsAtIndex.borderDash);
        ctx.lineDashOffset = optsAtIndex.borderDashOffset;
        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);
        position = this.getPointPosition(i, offset);
        ctx.beginPath();
        ctx.moveTo(this.xCenter, this.yCenter);
        ctx.lineTo(position.x, position.y);
        ctx.stroke();
      }
      ctx.restore();
    }
  }
  drawBorder() {
  }
  drawLabels() {
    const ctx = this.ctx;
    const opts = this.options;
    const tickOpts = opts.ticks;
    if (!tickOpts.display) {
      return;
    }
    const startAngle = this.getIndexAngle(0);
    let offset, width;
    ctx.save();
    ctx.translate(this.xCenter, this.yCenter);
    ctx.rotate(startAngle);
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    this.ticks.forEach((tick, index2) => {
      if (index2 === 0 && this.min >= 0 && !opts.reverse) {
        return;
      }
      const optsAtIndex = tickOpts.setContext(this.getContext(index2));
      const tickFont = toFont(optsAtIndex.font);
      offset = this.getDistanceFromCenterForValue(this.ticks[index2].value);
      if (optsAtIndex.showLabelBackdrop) {
        ctx.font = tickFont.string;
        width = ctx.measureText(tick.label).width;
        ctx.fillStyle = optsAtIndex.backdropColor;
        const padding = toPadding(optsAtIndex.backdropPadding);
        ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);
      }
      renderText(ctx, tick.label, 0, -offset, tickFont, {
        color: optsAtIndex.color,
        strokeColor: optsAtIndex.textStrokeColor,
        strokeWidth: optsAtIndex.textStrokeWidth
      });
    });
    ctx.restore();
  }
  drawTitle() {
  }
};
var INTERVALS = {
  millisecond: {
    common: true,
    size: 1,
    steps: 1e3
  },
  second: {
    common: true,
    size: 1e3,
    steps: 60
  },
  minute: {
    common: true,
    size: 6e4,
    steps: 60
  },
  hour: {
    common: true,
    size: 36e5,
    steps: 24
  },
  day: {
    common: true,
    size: 864e5,
    steps: 30
  },
  week: {
    common: false,
    size: 6048e5,
    steps: 4
  },
  month: {
    common: true,
    size: 2628e6,
    steps: 12
  },
  quarter: {
    common: false,
    size: 7884e6,
    steps: 4
  },
  year: {
    common: true,
    size: 3154e7
  }
};
var UNITS = /* @__PURE__ */ Object.keys(INTERVALS);
function sorter(a, b) {
  return a - b;
}
function parse(scale, input) {
  if (isNullOrUndef(input)) {
    return null;
  }
  const adapter = scale._adapter;
  const {
    parser,
    round: round2,
    isoWeekday
  } = scale._parseOpts;
  let value = input;
  if (typeof parser === "function") {
    value = parser(value);
  }
  if (!isNumberFinite(value)) {
    value = typeof parser === "string" ? adapter.parse(value, parser) : adapter.parse(value);
  }
  if (value === null) {
    return null;
  }
  if (round2) {
    value = round2 === "week" && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, "isoWeek", isoWeekday) : adapter.startOf(value, round2);
  }
  return +value;
}
function determineUnitForAutoTicks(minUnit, min, max, capacity) {
  const ilen = UNITS.length;
  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {
    const interval = INTERVALS[UNITS[i]];
    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;
    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {
      return UNITS[i];
    }
  }
  return UNITS[ilen - 1];
}
function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {
  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {
    const unit = UNITS[i];
    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {
      return unit;
    }
  }
  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];
}
function determineMajorUnit(unit) {
  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {
    if (INTERVALS[UNITS[i]].common) {
      return UNITS[i];
    }
  }
}
function addTick(ticks, time, timestamps) {
  if (!timestamps) {
    ticks[time] = true;
  } else if (timestamps.length) {
    const {
      lo,
      hi
    } = _lookup(timestamps, time);
    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];
    ticks[timestamp] = true;
  }
}
function setMajorTicks(scale, ticks, map3, majorUnit) {
  const adapter = scale._adapter;
  const first = +adapter.startOf(ticks[0].value, majorUnit);
  const last = ticks[ticks.length - 1].value;
  let major, index2;
  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {
    index2 = map3[major];
    if (index2 >= 0) {
      ticks[index2].major = true;
    }
  }
  return ticks;
}
function ticksFromTimestamps(scale, values, majorUnit) {
  const ticks = [];
  const map3 = {};
  const ilen = values.length;
  let i, value;
  for (i = 0; i < ilen; ++i) {
    value = values[i];
    map3[value] = i;
    ticks.push({
      value,
      major: false
    });
  }
  return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map3, majorUnit);
}
var TimeScale = class extends Scale {
  static id = "time";
  static defaults = {
    bounds: "data",
    adapters: {},
    time: {
      parser: false,
      unit: false,
      round: false,
      isoWeekday: false,
      minUnit: "millisecond",
      displayFormats: {}
    },
    ticks: {
      source: "auto",
      callback: false,
      major: {
        enabled: false
      }
    }
  };
  constructor(props) {
    super(props);
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
    this._unit = "day";
    this._majorUnit = void 0;
    this._offsets = {};
    this._normalized = false;
    this._parseOpts = void 0;
  }
  init(scaleOpts, opts = {}) {
    const time = scaleOpts.time || (scaleOpts.time = {});
    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);
    adapter.init(opts);
    mergeIf(time.displayFormats, adapter.formats());
    this._parseOpts = {
      parser: time.parser,
      round: time.round,
      isoWeekday: time.isoWeekday
    };
    super.init(scaleOpts);
    this._normalized = opts.normalized;
  }
  parse(raw, index2) {
    if (raw === void 0) {
      return null;
    }
    return parse(this, raw);
  }
  beforeLayout() {
    super.beforeLayout();
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
  }
  determineDataLimits() {
    const options = this.options;
    const adapter = this._adapter;
    const unit = options.time.unit || "day";
    let {
      min,
      max,
      minDefined,
      maxDefined
    } = this.getUserBounds();
    function _applyBounds(bounds) {
      if (!minDefined && !isNaN(bounds.min)) {
        min = Math.min(min, bounds.min);
      }
      if (!maxDefined && !isNaN(bounds.max)) {
        max = Math.max(max, bounds.max);
      }
    }
    if (!minDefined || !maxDefined) {
      _applyBounds(this._getLabelBounds());
      if (options.bounds !== "ticks" || options.ticks.source !== "labels") {
        _applyBounds(this.getMinMax(false));
      }
    }
    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);
    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;
    this.min = Math.min(min, max - 1);
    this.max = Math.max(min + 1, max);
  }
  _getLabelBounds() {
    const arr = this.getLabelTimestamps();
    let min = Number.POSITIVE_INFINITY;
    let max = Number.NEGATIVE_INFINITY;
    if (arr.length) {
      min = arr[0];
      max = arr[arr.length - 1];
    }
    return {
      min,
      max
    };
  }
  buildTicks() {
    const options = this.options;
    const timeOpts = options.time;
    const tickOpts = options.ticks;
    const timestamps = tickOpts.source === "labels" ? this.getLabelTimestamps() : this._generate();
    if (options.bounds === "ticks" && timestamps.length) {
      this.min = this._userMin || timestamps[0];
      this.max = this._userMax || timestamps[timestamps.length - 1];
    }
    const min = this.min;
    const max = this.max;
    const ticks = _filterBetween(timestamps, min, max);
    this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));
    this._majorUnit = !tickOpts.major.enabled || this._unit === "year" ? void 0 : determineMajorUnit(this._unit);
    this.initOffsets(timestamps);
    if (options.reverse) {
      ticks.reverse();
    }
    return ticksFromTimestamps(this, ticks, this._majorUnit);
  }
  afterAutoSkip() {
    if (this.options.offsetAfterAutoskip) {
      this.initOffsets(this.ticks.map((tick) => +tick.value));
    }
  }
  initOffsets(timestamps = []) {
    let start = 0;
    let end = 0;
    let first, last;
    if (this.options.offset && timestamps.length) {
      first = this.getDecimalForValue(timestamps[0]);
      if (timestamps.length === 1) {
        start = 1 - first;
      } else {
        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;
      }
      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);
      if (timestamps.length === 1) {
        end = last;
      } else {
        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;
      }
    }
    const limit = timestamps.length < 3 ? 0.5 : 0.25;
    start = _limitValue(start, 0, limit);
    end = _limitValue(end, 0, limit);
    this._offsets = {
      start,
      end,
      factor: 1 / (start + 1 + end)
    };
  }
  _generate() {
    const adapter = this._adapter;
    const min = this.min;
    const max = this.max;
    const options = this.options;
    const timeOpts = options.time;
    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));
    const stepSize = valueOrDefault(options.ticks.stepSize, 1);
    const weekday = minor === "week" ? timeOpts.isoWeekday : false;
    const hasWeekday = isNumber(weekday) || weekday === true;
    const ticks = {};
    let first = min;
    let time, count;
    if (hasWeekday) {
      first = +adapter.startOf(first, "isoWeek", weekday);
    }
    first = +adapter.startOf(first, hasWeekday ? "day" : minor);
    if (adapter.diff(max, min, minor) > 1e5 * stepSize) {
      throw new Error(min + " and " + max + " are too far apart with stepSize of " + stepSize + " " + minor);
    }
    const timestamps = options.ticks.source === "data" && this.getDataTimestamps();
    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {
      addTick(ticks, time, timestamps);
    }
    if (time === max || options.bounds === "ticks" || count === 1) {
      addTick(ticks, time, timestamps);
    }
    return Object.keys(ticks).sort(sorter).map((x) => +x);
  }
  getLabelForValue(value) {
    const adapter = this._adapter;
    const timeOpts = this.options.time;
    if (timeOpts.tooltipFormat) {
      return adapter.format(value, timeOpts.tooltipFormat);
    }
    return adapter.format(value, timeOpts.displayFormats.datetime);
  }
  format(value, format) {
    const options = this.options;
    const formats2 = options.time.displayFormats;
    const unit = this._unit;
    const fmt = format || formats2[unit];
    return this._adapter.format(value, fmt);
  }
  _tickFormatFunction(time, index2, ticks, format) {
    const options = this.options;
    const formatter = options.ticks.callback;
    if (formatter) {
      return callback(formatter, [time, index2, ticks], this);
    }
    const formats2 = options.time.displayFormats;
    const unit = this._unit;
    const majorUnit = this._majorUnit;
    const minorFormat = unit && formats2[unit];
    const majorFormat = majorUnit && formats2[majorUnit];
    const tick = ticks[index2];
    const major = majorUnit && majorFormat && tick && tick.major;
    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));
  }
  generateTickLabels(ticks) {
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      tick.label = this._tickFormatFunction(tick.value, i, ticks);
    }
  }
  getDecimalForValue(value) {
    return value === null ? NaN : (value - this.min) / (this.max - this.min);
  }
  getPixelForValue(value) {
    const offsets = this._offsets;
    const pos = this.getDecimalForValue(value);
    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return this.min + pos * (this.max - this.min);
  }
  _getLabelSize(label) {
    const ticksOpts = this.options.ticks;
    const tickLabelWidth = this.ctx.measureText(label).width;
    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);
    const cosRotation = Math.cos(angle);
    const sinRotation = Math.sin(angle);
    const tickFontSize = this._resolveTickFontOptions(0).size;
    return {
      w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,
      h: tickLabelWidth * sinRotation + tickFontSize * cosRotation
    };
  }
  _getLabelCapacity(exampleTime) {
    const timeOpts = this.options.time;
    const displayFormats = timeOpts.displayFormats;
    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;
    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);
    const size = this._getLabelSize(exampleLabel);
    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;
    return capacity > 0 ? capacity : 1;
  }
  getDataTimestamps() {
    let timestamps = this._cache.data || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const metas = this.getMatchingVisibleMetas();
    if (this._normalized && metas.length) {
      return this._cache.data = metas[0].controller.getAllParsedValues(this);
    }
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));
    }
    return this._cache.data = this.normalize(timestamps);
  }
  getLabelTimestamps() {
    const timestamps = this._cache.labels || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const labels = this.getLabels();
    for (i = 0, ilen = labels.length; i < ilen; ++i) {
      timestamps.push(parse(this, labels[i]));
    }
    return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);
  }
  normalize(values) {
    return _arrayUnique(values.sort(sorter));
  }
};
function interpolate2(table, val, reverse) {
  let lo = 0;
  let hi = table.length - 1;
  let prevSource, nextSource, prevTarget, nextTarget;
  if (reverse) {
    if (val >= table[lo].pos && val <= table[hi].pos) {
      ({
        lo,
        hi
      } = _lookupByKey(table, "pos", val));
    }
    ({
      pos: prevSource,
      time: prevTarget
    } = table[lo]);
    ({
      pos: nextSource,
      time: nextTarget
    } = table[hi]);
  } else {
    if (val >= table[lo].time && val <= table[hi].time) {
      ({
        lo,
        hi
      } = _lookupByKey(table, "time", val));
    }
    ({
      time: prevSource,
      pos: prevTarget
    } = table[lo]);
    ({
      time: nextSource,
      pos: nextTarget
    } = table[hi]);
  }
  const span = nextSource - prevSource;
  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;
}
var TimeSeriesScale = class extends TimeScale {
  static id = "timeseries";
  static defaults = TimeScale.defaults;
  constructor(props) {
    super(props);
    this._table = [];
    this._minPos = void 0;
    this._tableRange = void 0;
  }
  initOffsets() {
    const timestamps = this._getTimestampsForTable();
    const table = this._table = this.buildLookupTable(timestamps);
    this._minPos = interpolate2(table, this.min);
    this._tableRange = interpolate2(table, this.max) - this._minPos;
    super.initOffsets(timestamps);
  }
  buildLookupTable(timestamps) {
    const {
      min,
      max
    } = this;
    const items = [];
    const table = [];
    let i, ilen, prev, curr, next;
    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {
      curr = timestamps[i];
      if (curr >= min && curr <= max) {
        items.push(curr);
      }
    }
    if (items.length < 2) {
      return [{
        time: min,
        pos: 0
      }, {
        time: max,
        pos: 1
      }];
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      next = items[i + 1];
      prev = items[i - 1];
      curr = items[i];
      if (Math.round((next + prev) / 2) !== curr) {
        table.push({
          time: curr,
          pos: i / (ilen - 1)
        });
      }
    }
    return table;
  }
  _generate() {
    const min = this.min;
    const max = this.max;
    let timestamps = super.getDataTimestamps();
    if (!timestamps.includes(min) || !timestamps.length) {
      timestamps.splice(0, 0, min);
    }
    if (!timestamps.includes(max) || timestamps.length === 1) {
      timestamps.push(max);
    }
    return timestamps.sort((a, b) => a - b);
  }
  _getTimestampsForTable() {
    let timestamps = this._cache.all || [];
    if (timestamps.length) {
      return timestamps;
    }
    const data = this.getDataTimestamps();
    const label = this.getLabelTimestamps();
    if (data.length && label.length) {
      timestamps = this.normalize(data.concat(label));
    } else {
      timestamps = data.length ? data : label;
    }
    timestamps = this._cache.all = timestamps;
    return timestamps;
  }
  getDecimalForValue(value) {
    return (interpolate2(this._table, value) - this._minPos) / this._tableRange;
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return interpolate2(this._table, decimal * this._tableRange + this._minPos, true);
  }
};
var scales = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  CategoryScale,
  LinearScale,
  LogarithmicScale,
  RadialLinearScale,
  TimeScale,
  TimeSeriesScale
});
var registerables = [controllers, elements, plugins, scales];

// src/app/assets/components/asset-view/asset-view.component.ts
var _c04 = ["dateInput"];
var _c13 = (a0) => ["/locations", a0];
var _c2 = (a0) => ["/assets/preview", a0];
var _c3 = () => ["all", "category", "location", "department", "manufacturer", "parent", "children", "siblings", "similar"];
function AssetViewComponent_div_26_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 28)(1, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_1_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.transferAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 30);
    \u0275\u0275element(3, "path", 31);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 32);
    \u0275\u0275text(5, "Transfer Asset");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.duplicateAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 30);
    \u0275\u0275element(8, "path", 33);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "span", 32);
    \u0275\u0275text(10, "Duplicate");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(11, "div", 34);
    \u0275\u0275elementStart(12, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_12_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.printAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(13, "svg", 30);
    \u0275\u0275element(14, "path", 35);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(15, "span", 32);
    \u0275\u0275text(16, "Print");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_17_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.exportAsset();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(18, "svg", 30);
    \u0275\u0275element(19, "path", 36);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(20, "span", 32);
    \u0275\u0275text(21, "Export");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(22, "button", 29);
    \u0275\u0275listener("click", function AssetViewComponent_div_26_Template_button_click_22_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      ctx_r1.sharePublicUrl();
      return \u0275\u0275resetView(ctx_r1.showActionsDropdown = false);
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(23, "svg", 30);
    \u0275\u0275element(24, "path", 37);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(25, "span", 32);
    \u0275\u0275text(26, "Share Public URL");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 38)(1, "div", 39)(2, "div", 40);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 41);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 44);
    \u0275\u0275text(7, "Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 45);
    \u0275\u0275text(9, "Please wait while we fetch the asset details...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_28_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 38)(1, "div", 39)(2, "div", 46);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 47);
    \u0275\u0275element(4, "path", 48);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 44);
    \u0275\u0275text(6, "Error Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 49);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 50);
    \u0275\u0275listener("click", function AssetViewComponent_div_28_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(10, " Back to Assets ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetViewComponent_div_29_span_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 175);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
  }
}
function AssetViewComponent_div_29_div_27_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 45);
    \u0275\u0275text(2, "Serial:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 62);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_27_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r5);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copySerialNumber());
    });
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 63);
    \u0275\u0275element(7, "path", 33);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.serial_number);
  }
}
function AssetViewComponent_div_29_div_36_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 183);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_button_4_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.previousImage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 18);
    \u0275\u0275element(2, "path", 184);
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_36_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 185);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r8);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.nextImage());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 18);
    \u0275\u0275element(2, "path", 10);
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_36_div_8_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 188);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_div_8_div_1_Template_div_click_0_listener() {
      const i_r10 = \u0275\u0275restoreView(_r9).index;
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.selectImage(i_r10));
    });
    \u0275\u0275elementStart(1, "img", 189);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_div_36_div_8_div_1_Template_img_error_1_listener($event) {
      \u0275\u0275restoreView(_r9);
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const image_r11 = ctx.$implicit;
    const i_r10 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(4);
    \u0275\u0275classProp("border-blue-500", i_r10 === ctx_r1.currentImageIndex)("border-gray-200", i_r10 !== ctx_r1.currentImageIndex);
    \u0275\u0275advance();
    \u0275\u0275property("src", image_r11.image_url, \u0275\u0275sanitizeUrl)("alt", "Asset image " + (i_r10 + 1));
  }
}
function AssetViewComponent_div_29_div_36_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 186);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_36_div_8_div_1_Template, 2, 6, "div", 187);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.asset.images);
  }
}
function AssetViewComponent_div_29_div_36_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "div", 176)(2, "div", 177)(3, "img", 178);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_36_Template_img_click_3_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.viewFullImage(ctx_r1.selectedImageUrl || ctx_r1.asset.images[0].image_url));
    })("error", function AssetViewComponent_div_29_div_36_Template_img_error_3_listener($event) {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetViewComponent_div_29_div_36_button_4_Template, 3, 0, "button", 179)(5, AssetViewComponent_div_29_div_36_button_5_Template, 3, 0, "button", 180);
    \u0275\u0275elementStart(6, "div", 181);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(8, AssetViewComponent_div_29_div_36_div_8_Template, 2, 1, "div", 182);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275property("src", ctx_r1.selectedImageUrl || ctx_r1.asset.images[0].image_url, \u0275\u0275sanitizeUrl)("alt", ctx_r1.asset.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate2(" ", ctx_r1.currentImageIndex + 1, " / ", ctx_r1.asset.images.length, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.images.length > 1);
  }
}
function AssetViewComponent_div_29_ng_template_37_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 190);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 191);
    \u0275\u0275element(2, "path", 70);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Images Available");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No images have been uploaded for this asset.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_58_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 193);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_58_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r12);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.descriptionExpanded = !ctx_r1.descriptionExpanded);
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.descriptionExpanded ? "Show Less" : "Show More", " ");
  }
}
function AssetViewComponent_div_29_img_64_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 194);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_img_64_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r13);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, ctx_r1.asset.category));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.category.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.asset.category.name);
  }
}
function AssetViewComponent_div_29__svg_svg_65_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 159);
    \u0275\u0275element(1, "path", 195);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_71_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 196);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
  }
}
function AssetViewComponent_div_29_span_72_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1, "Not specified");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_a_90_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "a", 197);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(2, _c13, ctx_r1.asset.location.id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.location.name, " ");
  }
}
function AssetViewComponent_div_29_span_91_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.name) || "No location assigned");
  }
}
function AssetViewComponent_div_29_div_115_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div")(1, "h4", 76);
    \u0275\u0275text(2, "Parent Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "a", 197);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275property("routerLink", \u0275\u0275pureFunction1(3, _c2, ctx_r1.asset.parent.id));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.asset.parent.name, " (", ctx_r1.asset.parent.asset_id, ") ");
  }
}
function AssetViewComponent_div_29_img_122_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 198);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.qrCodeDataUrl, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_img_123_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 198);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.qr_code_url, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_div_124_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 199);
    \u0275\u0275element(1, "div", 200);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_125_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 39);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 201);
    \u0275\u0275element(2, "path", 202);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 203);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id || ctx_r1.asset.id);
  }
}
function AssetViewComponent_div_29_div_126_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 204);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 205);
    \u0275\u0275element(2, "path", 48);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 206);
    \u0275\u0275text(4, "No Asset ID");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_128_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 207);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_128_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r14);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.downloadQRCode());
    });
    \u0275\u0275text(1, " Download ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_button_129_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 208);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_129_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r15);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyPublicUrl());
    });
    \u0275\u0275text(1, " Copy URL ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_img_138_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 209);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.asset.barcode_url, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_img_139_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "img", 209);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("src", ctx_r1.barcodeDataUrl, \u0275\u0275sanitizeUrl);
  }
}
function AssetViewComponent_div_29_div_140_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 210);
    \u0275\u0275element(1, "div", 200);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_141_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 211);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 212);
    \u0275\u0275element(2, "path", 74);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 203);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id);
  }
}
function AssetViewComponent_div_29_div_142_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 213);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 205);
    \u0275\u0275element(2, "path", 48);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "p", 206);
    \u0275\u0275text(4, "No Asset ID");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_button_144_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 207);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_144_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r16);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.downloadBarcode());
    });
    \u0275\u0275text(1, " Download ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_button_145_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 208);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_button_145_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r17);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275text(1, " Copy ID ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_p_149_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "p", 214);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id);
  }
}
function AssetViewComponent_div_29_div_161_span_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.description, " ");
  }
}
function AssetViewComponent_div_29_div_161_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 7)(1, "span", 196);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275template(3, AssetViewComponent_div_29_div_161_span_3_Template, 2, 1, "span", 174);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.asset.asset_status.color + "20")("color", ctx_r1.asset.asset_status.color);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.asset.asset_status.name, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status.description);
  }
}
function AssetViewComponent_div_29_span_162_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 90);
    \u0275\u0275text(1, "Not specified");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_173_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "h4", 113);
    \u0275\u0275text(2, "Serial Number");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 7)(4, "span", 216);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "button", 217);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_173_Template_button_click_6_listener() {
      \u0275\u0275restoreView(_r18);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.copySerialNumber());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(7, "svg", 14);
    \u0275\u0275element(8, "path", 33);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.serial_number);
  }
}
function AssetViewComponent_div_29_div_205_div_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 221)(1, "span", 143);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 222);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const spec_r19 = ctx.$implicit;
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", spec_r19.key, ":");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(spec_r19.value);
  }
}
function AssetViewComponent_div_29_div_205_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 218)(1, "h4", 168);
    \u0275\u0275text(2, "Additional Specifications");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 219);
    \u0275\u0275template(4, AssetViewComponent_div_29_div_205_div_4_Template, 5, 2, "div", 220);
    \u0275\u0275pipe(5, "keyvalue");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", \u0275\u0275pipeBind1(5, 1, ctx_r1.asset.specifications));
  }
}
function AssetViewComponent_div_29_div_225_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 223)(1, "div", 155)(2, "div", 137);
    \u0275\u0275text(3, "Average Health Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 224);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 139)(7, "div", 137);
    \u0275\u0275text(8, "Average Performance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 140);
    \u0275\u0275text(10);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(11, "div", 172)(12, "div", 137);
    \u0275\u0275text(13, "Total Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "div", 225);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.healthPerformanceChartData.chart_data.metrics.average_health_score, "%");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.healthPerformanceChartData.chart_data.metrics.average_performance_score, "%");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.healthPerformanceChartData.chart_data.metrics.total_maintenance_count);
  }
}
function AssetViewComponent_div_29_div_230_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 226)(1, "div", 39)(2, "div", 227);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 228);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading health & performance data...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_231_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 229)(1, "div", 39)(2, "div", 230);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_231_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r20);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadHealthPerformanceChart());
    });
    \u0275\u0275text(5, " Try Again ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.healthPerformanceChartError);
  }
}
function AssetViewComponent_div_29_div_232_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 231);
    \u0275\u0275element(1, "canvas", 232);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_233_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 233);
    \u0275\u0275text(1, " Green: Health Score | Blue: Performance Score | Orange: Maintenance Count ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_234_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 234)(1, "div", 142)(2, "div", 143);
    \u0275\u0275text(3, "Health Trend");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 235);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 142)(7, "div", 143);
    \u0275\u0275text(8, "Performance Trend");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 235);
    \u0275\u0275text(10);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngClass", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? "text-green-600" : "text-red-600");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? "+" : "", "", ctx_r1.healthPerformanceChartData.chart_data.metrics.health_trend, "% ");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngClass", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? "text-green-600" : "text-red-600");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? "+" : "", "", ctx_r1.healthPerformanceChartData.chart_data.metrics.performance_trend, "% ");
  }
}
function AssetViewComponent_div_29_div_269_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 226)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading chart data...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_270_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 229)(1, "div", 39)(2, "div", 230);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_270_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r21);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadDepreciationChart());
    });
    \u0275\u0275text(5, " Try Again ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.depreciationChartError);
  }
}
function AssetViewComponent_div_29_div_271_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 231);
    \u0275\u0275element(1, "canvas", 238);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_272_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 233);
    \u0275\u0275text(1, " Blue line: Asset Value | Red line: Accumulated Depreciation ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_296_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 239)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading activities...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_297_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 240)(1, "div", 230);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_297_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadActivityHistory());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.activityError);
  }
}
function AssetViewComponent_div_29_div_298_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 249);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r23 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.formatActivityBeforeAfter(activity_r23.before, activity_r23.after), " ");
  }
}
function AssetViewComponent_div_29_div_298_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 250)(1, "strong");
    \u0275\u0275text(2, "By:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r23 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.getUserDisplayName(activity_r23.user), " ");
  }
}
function AssetViewComponent_div_29_div_298_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 242)(1, "div", 243);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 14);
    \u0275\u0275element(3, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div", 244)(5, "div", 245)(6, "h4", 246);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 215);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "p", 137);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275template(12, AssetViewComponent_div_29_div_298_div_1_div_12_Template, 2, 1, "div", 247)(13, AssetViewComponent_div_29_div_298_div_1_div_13_Template, 4, 1, "div", 248);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r23 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r1.getActivityColor(activity_r23.action));
    \u0275\u0275advance(2);
    \u0275\u0275attribute("d", ctx_r1.getActivityIcon(activity_r23.action));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(activity_r23.action);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r23.time_ago);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r23.comment || "No comment");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.formatActivityBeforeAfter(activity_r23.before, activity_r23.after));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", activity_r23.user);
  }
}
function AssetViewComponent_div_29_div_298_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 240);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 251);
    \u0275\u0275element(2, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Recent Activity");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No activity has been recorded for this asset yet.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_298_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 112);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_298_div_1_Template, 14, 7, "div", 241)(2, AssetViewComponent_div_29_div_298_div_2_Template, 7, 0, "div", 145);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.activities);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activities.length === 0);
  }
}
function AssetViewComponent_div_29_div_315_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 253);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_315_button_1_Template_button_click_0_listener() {
      const filter_r25 = \u0275\u0275restoreView(_r24).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      ctx_r1.onRelatedFilterChange(filter_r25);
      return \u0275\u0275resetView(ctx_r1.showRelatedFilterDropdown = false);
    });
    \u0275\u0275elementStart(1, "span", 254);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const filter_r25 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("text-blue-600", ctx_r1.selectedRelatedFilter === filter_r25)("bg-blue-50", ctx_r1.selectedRelatedFilter === filter_r25);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.getRelatedFilterDisplayName(filter_r25));
  }
}
function AssetViewComponent_div_29_div_315_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 28);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_315_button_1_Template, 3, 5, "button", 252);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", \u0275\u0275pureFunction0(1, _c3));
  }
}
function AssetViewComponent_div_29_div_316_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 239)(1, "div", 39)(2, "div", 236);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 237);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 45);
    \u0275\u0275text(7, "Loading related assets...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_29_div_317_Template(rf, ctx) {
  if (rf & 1) {
    const _r26 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 240)(1, "div", 230);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_317_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r26);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadRelatedAssets());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.relatedAssetsError);
  }
}
function AssetViewComponent_div_29_div_318_div_1_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 267);
    \u0275\u0275listener("error", function AssetViewComponent_div_29_div_318_div_1_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r29);
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.onImageError($event));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const relatedAsset_r28 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", relatedAsset_r28.images[0].image_url, \u0275\u0275sanitizeUrl)("alt", relatedAsset_r28.name);
  }
}
function AssetViewComponent_div_29_div_318_div_1__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 268);
    \u0275\u0275element(1, "path", 269);
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_29_div_318_div_1_span_20_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const relatedAsset_r28 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" Health: ", relatedAsset_r28.health_score, "% ");
  }
}
function AssetViewComponent_div_29_div_318_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 257);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_318_div_1_Template_div_click_0_listener() {
      const relatedAsset_r28 = \u0275\u0275restoreView(_r27).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.navigateToRelatedAsset(relatedAsset_r28.id));
    });
    \u0275\u0275elementStart(1, "div", 258);
    \u0275\u0275template(2, AssetViewComponent_div_29_div_318_div_1_img_2_Template, 1, 2, "img", 259)(3, AssetViewComponent_div_29_div_318_div_1__svg_svg_3_Template, 2, 0, "svg", 260);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 261)(5, "div", 245)(6, "h4", 262);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 215);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "div", 263)(11, "span", 170);
    \u0275\u0275text(12);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "span", 264);
    \u0275\u0275text(14, "\u2022");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "span", 170);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(17, "div", 7)(18, "span", 265);
    \u0275\u0275text(19);
    \u0275\u0275elementEnd();
    \u0275\u0275template(20, AssetViewComponent_div_29_div_318_div_1_span_20_Template, 2, 1, "span", 174);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(21, "svg", 266);
    \u0275\u0275element(22, "path", 10);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const relatedAsset_r28 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", relatedAsset_r28.images && relatedAsset_r28.images.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !relatedAsset_r28.images || relatedAsset_r28.images.length === 0);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(relatedAsset_r28.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(relatedAsset_r28.asset_id);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate((relatedAsset_r28.category == null ? null : relatedAsset_r28.category.name) || "General");
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate((relatedAsset_r28.asset_type == null ? null : relatedAsset_r28.asset_type.name) || relatedAsset_r28.type);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngClass", ctx_r1.getRelatedAssetStatusColor(relatedAsset_r28.asset_status || relatedAsset_r28.status));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", (relatedAsset_r28.asset_status == null ? null : relatedAsset_r28.asset_status.name) || relatedAsset_r28.status, " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", relatedAsset_r28.health_score);
  }
}
function AssetViewComponent_div_29_div_318_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 240);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 251);
    \u0275\u0275element(2, "path", 269);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Related Assets");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No related assets found for this item.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_318_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 255);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_318_div_1_Template, 23, 9, "div", 256)(2, AssetViewComponent_div_29_div_318_div_2_Template, 7, 0, "div", 145);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.relatedAssets);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssets.length === 0);
  }
}
function AssetViewComponent_div_29_div_359_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 270)(1, "div", 271);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 272);
    \u0275\u0275element(3, "circle", 42)(4, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "p", 250);
    \u0275\u0275text(6, "Loading...");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_div_360_div_1_div_24_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 284);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const schedule_r31 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", schedule_r31.notes, " ");
  }
}
function AssetViewComponent_div_29_div_360_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r30 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 274)(1, "div", 275)(2, "h4", 276);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 277)(5, "span");
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 278);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_360_div_1_Template_button_click_7_listener() {
      const schedule_r31 = \u0275\u0275restoreView(_r30).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.editMaintenanceSchedule(schedule_r31));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 63);
    \u0275\u0275element(9, "path", 15);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "button", 279);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_360_div_1_Template_button_click_10_listener() {
      const schedule_r31 = \u0275\u0275restoreView(_r30).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.deleteMaintenanceSchedule(schedule_r31));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(11, "svg", 63);
    \u0275\u0275element(12, "path", 280);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(13, "div", 281)(14, "div")(15, "span", 192);
    \u0275\u0275text(16, "Next Due:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "span", 282);
    \u0275\u0275text(18);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div")(20, "span", 192);
    \u0275\u0275text(21, "Frequency:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "span", 282);
    \u0275\u0275text(23);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(24, AssetViewComponent_div_29_div_360_div_1_div_24_Template, 2, 1, "div", 283);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const schedule_r31 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(schedule_r31.schedule_type);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-" + ctx_r1.getScheduleStatusColor(schedule_r31.status) + "-100 text-" + ctx_r1.getScheduleStatusColor(schedule_r31.status) + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", schedule_r31.status, " ");
    \u0275\u0275advance(12);
    \u0275\u0275textInterpolate(ctx_r1.formatDate(schedule_r31.next_due));
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(schedule_r31.frequency || "Not specified");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", schedule_r31.notes);
  }
}
function AssetViewComponent_div_29_div_360_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 255);
    \u0275\u0275template(1, AssetViewComponent_div_29_div_360_div_1_Template, 25, 7, "div", 273);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.maintenanceSchedules);
  }
}
function AssetViewComponent_div_29_div_361_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 270);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 285);
    \u0275\u0275element(2, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 286);
    \u0275\u0275text(4, "No Maintenance Schedules");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 287);
    \u0275\u0275text(6, "Create maintenance schedules to track asset upkeep.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 288);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_div_361_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r32);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.addMaintenanceSchedule());
    });
    \u0275\u0275text(8, " Add First Schedule ");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_29_span_445_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 215);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "date");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" (Expires: ", \u0275\u0275pipeBind2(2, 1, ctx_r1.asset.warranty, "MMM d, y"), ") ");
  }
}
function AssetViewComponent_div_29_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 51)(1, "div", 52)(2, "div", 53)(3, "div", 5)(4, "div", 54);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 55);
    \u0275\u0275element(6, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "div")(8, "h1", 57);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "div", 5);
    \u0275\u0275template(11, AssetViewComponent_div_29_span_11_Template, 2, 5, "span", 58);
    \u0275\u0275elementStart(12, "span", 59);
    \u0275\u0275text(13);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "span", 59);
    \u0275\u0275text(15, "\u2022");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "span", 59);
    \u0275\u0275text(17);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(18, "div", 60)(19, "div", 61)(20, "span", 45);
    \u0275\u0275text(21, "Asset ID:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "button", 62);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_22_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275elementStart(23, "span");
    \u0275\u0275text(24);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(25, "svg", 63);
    \u0275\u0275element(26, "path", 33);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(27, AssetViewComponent_div_29_div_27_Template, 8, 1, "div", 64);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(28, "div", 65)(29, "div", 66)(30, "div", 67)(31, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(32, "svg", 69);
    \u0275\u0275element(33, "path", 70);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(34, "h2", 71);
    \u0275\u0275text(35, "Asset Images");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(36, AssetViewComponent_div_29_div_36_Template, 9, 7, "div", 72)(37, AssetViewComponent_div_29_ng_template_37_Template, 7, 0, "ng-template", null, 0, \u0275\u0275templateRefExtractor);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(39, "div", 67)(40, "div", 73);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(41, "svg", 69);
    \u0275\u0275element(42, "path", 74);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(43, "h2", 71);
    \u0275\u0275text(44, "Basic Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(45, "div", 65)(46, "div", 75)(47, "div")(48, "h4", 76);
    \u0275\u0275text(49, "Asset Name");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(50, "p", 71);
    \u0275\u0275text(51);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(52, "div")(53, "h4", 76);
    \u0275\u0275text(54, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(55, "div", 77)(56, "p", 78);
    \u0275\u0275text(57);
    \u0275\u0275elementEnd();
    \u0275\u0275template(58, AssetViewComponent_div_29_button_58_Template, 2, 1, "button", 79);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(59, "div")(60, "h4", 76);
    \u0275\u0275text(61, "Category");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(62, "div", 12)(63, "div", 80);
    \u0275\u0275template(64, AssetViewComponent_div_29_img_64_Template, 1, 2, "img", 81)(65, AssetViewComponent_div_29__svg_svg_65_Template, 2, 0, "svg", 82);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(66, "span", 11);
    \u0275\u0275text(67);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(68, "div")(69, "h4", 76);
    \u0275\u0275text(70, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(71, AssetViewComponent_div_29_div_71_Template, 3, 5, "div", 64)(72, AssetViewComponent_div_29_span_72_Template, 2, 0, "span", 83);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(73, "div", 75)(74, "div")(75, "h4", 76);
    \u0275\u0275text(76, "Asset ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(77, "div", 7)(78, "span", 84);
    \u0275\u0275text(79);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(80, "button", 85);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_80_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.copyAssetId());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(81, "svg", 14);
    \u0275\u0275element(82, "path", 33);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(83, "div")(84, "h4", 76);
    \u0275\u0275text(85, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(86, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(87, "svg", 86);
    \u0275\u0275element(88, "path", 87)(89, "path", 88);
    \u0275\u0275elementEnd();
    \u0275\u0275template(90, AssetViewComponent_div_29_a_90_Template, 2, 4, "a", 89)(91, AssetViewComponent_div_29_span_91_Template, 2, 1, "span", 83);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(92, "div")(93, "h4", 76);
    \u0275\u0275text(94, "Department");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(95, "span", 90);
    \u0275\u0275text(96);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(97, "div")(98, "h4", 76);
    \u0275\u0275text(99, "Created");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(100, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(101, "svg", 86);
    \u0275\u0275element(102, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(103, "span", 90);
    \u0275\u0275text(104);
    \u0275\u0275pipe(105, "date");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(106, "div")(107, "h4", 76);
    \u0275\u0275text(108, "Last Modified");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(109, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(110, "svg", 86);
    \u0275\u0275element(111, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(112, "span", 90);
    \u0275\u0275text(113);
    \u0275\u0275pipe(114, "date");
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(115, AssetViewComponent_div_29_div_115_Template, 5, 5, "div", 93);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(116, "div", 75)(117, "div")(118, "h4", 76);
    \u0275\u0275text(119, "QR Code");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(120, "div", 94)(121, "div", 95);
    \u0275\u0275template(122, AssetViewComponent_div_29_img_122_Template, 1, 1, "img", 96)(123, AssetViewComponent_div_29_img_123_Template, 1, 1, "img", 96)(124, AssetViewComponent_div_29_div_124_Template, 2, 0, "div", 97)(125, AssetViewComponent_div_29_div_125_Template, 5, 1, "div", 98)(126, AssetViewComponent_div_29_div_126_Template, 5, 0, "div", 99);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(127, "div", 100);
    \u0275\u0275template(128, AssetViewComponent_div_29_button_128_Template, 2, 0, "button", 101)(129, AssetViewComponent_div_29_button_129_Template, 2, 0, "button", 102);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(130, "div", 103)(131, "p");
    \u0275\u0275text(132, "Scan to access public page");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(133, "div")(134, "h4", 76);
    \u0275\u0275text(135, "Barcode");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(136, "div", 94)(137, "div", 104);
    \u0275\u0275template(138, AssetViewComponent_div_29_img_138_Template, 1, 1, "img", 105)(139, AssetViewComponent_div_29_img_139_Template, 1, 1, "img", 105)(140, AssetViewComponent_div_29_div_140_Template, 2, 0, "div", 106)(141, AssetViewComponent_div_29_div_141_Template, 5, 1, "div", 107)(142, AssetViewComponent_div_29_div_142_Template, 5, 0, "div", 108);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(143, "div", 100);
    \u0275\u0275template(144, AssetViewComponent_div_29_button_144_Template, 2, 0, "button", 101)(145, AssetViewComponent_div_29_button_145_Template, 2, 0, "button", 102);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(146, "div", 103)(147, "p");
    \u0275\u0275text(148, "Scan for asset identification");
    \u0275\u0275elementEnd();
    \u0275\u0275template(149, AssetViewComponent_div_29_p_149_Template, 2, 1, "p", 109);
    \u0275\u0275elementEnd()()()()()();
    \u0275\u0275elementStart(150, "div", 67)(151, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(152, "svg", 69);
    \u0275\u0275element(153, "path", 110);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(154, "h2", 71);
    \u0275\u0275text(155, "Technical Specifications");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(156, "div", 111)(157, "div", 112)(158, "div")(159, "h4", 113);
    \u0275\u0275text(160, "Asset Status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(161, AssetViewComponent_div_29_div_161_Template, 4, 6, "div", 64)(162, AssetViewComponent_div_29_span_162_Template, 2, 0, "span", 83);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(163, "div")(164, "h4", 113);
    \u0275\u0275text(165, "Manufacturer");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(166, "span", 90);
    \u0275\u0275text(167);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(168, "div")(169, "h4", 113);
    \u0275\u0275text(170, "Model");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(171, "span", 90);
    \u0275\u0275text(172);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(173, AssetViewComponent_div_29_div_173_Template, 9, 1, "div", 93);
    \u0275\u0275elementStart(174, "div")(175, "h4", 113);
    \u0275\u0275text(176, "Brand");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(177, "span", 90);
    \u0275\u0275text(178);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(179, "div")(180, "h4", 113);
    \u0275\u0275text(181, "Capacity");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(182, "span", 90);
    \u0275\u0275text(183);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(184, "div", 112)(185, "div")(186, "h4", 113);
    \u0275\u0275text(187, "Dimensions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(188, "span", 90);
    \u0275\u0275text(189);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(190, "div")(191, "h4", 113);
    \u0275\u0275text(192, "Weight");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(193, "span", 90);
    \u0275\u0275text(194);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(195, "div")(196, "h4", 113);
    \u0275\u0275text(197, "Power Requirements");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(198, "span", 90);
    \u0275\u0275text(199);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(200, "div")(201, "h4", 113);
    \u0275\u0275text(202, "Operating Conditions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(203, "span", 90);
    \u0275\u0275text(204);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(205, AssetViewComponent_div_29_div_205_Template, 6, 3, "div", 114);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(206, "div", 67)(207, "div", 115)(208, "div", 7)(209, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(210, "svg", 117);
    \u0275\u0275element(211, "path", 118);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(212, "h2", 71);
    \u0275\u0275text(213, "Health & Performance");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(214, "div", 7)(215, "button", 119);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_215_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.refreshHealthPerformanceChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(216, "svg", 14);
    \u0275\u0275element(217, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(218, "span");
    \u0275\u0275text(219, "Refresh");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(220, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_220_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.forceCreateHealthPerformanceChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(221, "svg", 14);
    \u0275\u0275element(222, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(223, "span");
    \u0275\u0275text(224, "Debug");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(225, AssetViewComponent_div_29_div_225_Template, 16, 3, "div", 123);
    \u0275\u0275elementStart(226, "div", 112)(227, "div", 39)(228, "h3", 124);
    \u0275\u0275text(229, "Health & Performance Timeline (Last 12 Months)");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(230, AssetViewComponent_div_29_div_230_Template, 8, 0, "div", 125)(231, AssetViewComponent_div_29_div_231_Template, 6, 1, "div", 126)(232, AssetViewComponent_div_29_div_232_Template, 2, 0, "div", 127)(233, AssetViewComponent_div_29_div_233_Template, 2, 0, "div", 128)(234, AssetViewComponent_div_29_div_234_Template, 11, 6, "div", 129);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(235, "div", 67)(236, "div", 130)(237, "div", 7)(238, "div", 131);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(239, "svg", 132);
    \u0275\u0275element(240, "path", 133);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(241, "h2", 71);
    \u0275\u0275text(242, "Asset Depreciation");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(243, "div", 7)(244, "button", 134);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_244_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.refreshDepreciationChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(245, "svg", 14);
    \u0275\u0275element(246, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(247, "span");
    \u0275\u0275text(248, "Refresh");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(249, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_249_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.forceCreateChart());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(250, "svg", 14);
    \u0275\u0275element(251, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(252, "span");
    \u0275\u0275text(253, "Debug");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(254, "div", 135)(255, "div", 136)(256, "div", 137);
    \u0275\u0275text(257, "Original Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(258, "div", 138);
    \u0275\u0275text(259);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(260, "div", 139)(261, "div", 137);
    \u0275\u0275text(262, "Current Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(263, "div", 140);
    \u0275\u0275text(264);
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(265, "div", 112)(266, "div", 39)(267, "h3", 124);
    \u0275\u0275text(268, "Depreciation Timeline (straight-line method)");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(269, AssetViewComponent_div_29_div_269_Template, 8, 0, "div", 125)(270, AssetViewComponent_div_29_div_270_Template, 6, 1, "div", 126)(271, AssetViewComponent_div_29_div_271_Template, 2, 0, "div", 127)(272, AssetViewComponent_div_29_div_272_Template, 2, 0, "div", 128);
    \u0275\u0275elementStart(273, "div", 141)(274, "div", 142)(275, "div", 143);
    \u0275\u0275text(276, "Annual Depreciation");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(277, "div", 71);
    \u0275\u0275text(278);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(279, "div", 142)(280, "div", 143);
    \u0275\u0275text(281, "Depreciation Rate");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(282, "div", 71);
    \u0275\u0275text(283);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(284, "div", 142)(285, "div", 143);
    \u0275\u0275text(286, "Years Remaining");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(287, "div", 71);
    \u0275\u0275text(288);
    \u0275\u0275elementEnd()()()()()();
    \u0275\u0275elementStart(289, "div", 75)(290, "div", 67)(291, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(292, "svg", 69);
    \u0275\u0275element(293, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(294, "h2", 71);
    \u0275\u0275text(295, "Recent Activity");
    \u0275\u0275elementEnd()();
    \u0275\u0275template(296, AssetViewComponent_div_29_div_296_Template, 8, 0, "div", 144)(297, AssetViewComponent_div_29_div_297_Template, 5, 1, "div", 145)(298, AssetViewComponent_div_29_div_298_Template, 3, 2, "div", 146);
    \u0275\u0275elementStart(299, "div", 147)(300, "button", 148);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_300_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showFullActivityHistory());
    });
    \u0275\u0275text(301, " View Full Activity History ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(302, "div", 67)(303, "div", 130)(304, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(305, "svg", 69);
    \u0275\u0275element(306, "path", 149);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(307, "h2", 71);
    \u0275\u0275text(308, "Related Assets");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(309, "div", 77)(310, "button", 150);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_310_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showRelatedFilterDropdown = !ctx_r1.showRelatedFilterDropdown);
    });
    \u0275\u0275elementStart(311, "span");
    \u0275\u0275text(312);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(313, "svg", 14);
    \u0275\u0275element(314, "path", 151);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(315, AssetViewComponent_div_29_div_315_Template, 2, 2, "div", 22);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(316, AssetViewComponent_div_29_div_316_Template, 8, 0, "div", 144)(317, AssetViewComponent_div_29_div_317_Template, 5, 1, "div", 145)(318, AssetViewComponent_div_29_div_318_Template, 3, 2, "div", 152);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(319, "div", 67)(320, "div", 130)(321, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(322, "svg", 69);
    \u0275\u0275element(323, "path", 91);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(324, "h2", 71);
    \u0275\u0275text(325, "Maintenance Schedule");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(326, "button", 121);
    \u0275\u0275listener("click", function AssetViewComponent_div_29_Template_button_click_326_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.addMaintenanceSchedule());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(327, "svg", 14);
    \u0275\u0275element(328, "path", 153);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(329, "span");
    \u0275\u0275text(330, "Add");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(331, "div", 154)(332, "div", 155)(333, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(334, "svg", 156);
    \u0275\u0275element(335, "path", 122);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(336, "div")(337, "div", 157);
    \u0275\u0275text(338, "Last Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(339, "div", 158);
    \u0275\u0275text(340);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(341, "div", 139)(342, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(343, "svg", 159);
    \u0275\u0275element(344, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(345, "div")(346, "div", 160);
    \u0275\u0275text(347, "Next Due");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(348, "div", 161);
    \u0275\u0275text(349);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(350, "div", 162)(351, "div", 7);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(352, "svg", 163);
    \u0275\u0275element(353, "path", 120);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(354, "div")(355, "div", 164);
    \u0275\u0275text(356, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(357, "div", 165);
    \u0275\u0275text(358);
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275template(359, AssetViewComponent_div_29_div_359_Template, 7, 0, "div", 166)(360, AssetViewComponent_div_29_div_360_Template, 2, 1, "div", 152)(361, AssetViewComponent_div_29_div_361_Template, 9, 0, "div", 166);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(362, "div", 67)(363, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(364, "svg", 69);
    \u0275\u0275element(365, "path", 167);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(366, "h2", 71);
    \u0275\u0275text(367, "Financial Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(368, "div", 112)(369, "div", 136)(370, "h4", 168);
    \u0275\u0275text(371, "Purchase Details");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(372, "div", 169)(373, "div")(374, "span", 170);
    \u0275\u0275text(375, "Purchase Price");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(376, "div", 71);
    \u0275\u0275text(377);
    \u0275\u0275pipe(378, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(379, "div")(380, "span", 170);
    \u0275\u0275text(381, "Purchase Date");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(382, "div", 171);
    \u0275\u0275text(383);
    \u0275\u0275pipe(384, "date");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(385, "div", 139)(386, "h4", 168);
    \u0275\u0275text(387, "Current Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(388, "div", 169)(389, "div")(390, "span", 170);
    \u0275\u0275text(391, "Book Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(392, "div", 71);
    \u0275\u0275text(393);
    \u0275\u0275pipe(394, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(395, "div")(396, "span", 170);
    \u0275\u0275text(397, "Market Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(398, "div", 171);
    \u0275\u0275text(399);
    \u0275\u0275pipe(400, "currency");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(401, "div", 172)(402, "h4", 168);
    \u0275\u0275text(403, "Depreciation");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(404, "div", 169)(405, "div")(406, "span", 170);
    \u0275\u0275text(407, "Method");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(408, "div", 171);
    \u0275\u0275text(409);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(410, "div")(411, "span", 170);
    \u0275\u0275text(412, "Useful Life");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(413, "div", 171);
    \u0275\u0275text(414);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(415, "div")(416, "span", 170);
    \u0275\u0275text(417, "Annual Rate");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(418, "div", 171);
    \u0275\u0275text(419);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(420, "div", 155)(421, "h4", 168);
    \u0275\u0275text(422, "Performance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(423, "div", 169)(424, "div")(425, "span", 170);
    \u0275\u0275text(426, "Total Cost of Ownership");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(427, "div", 71);
    \u0275\u0275text(428);
    \u0275\u0275pipe(429, "currency");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(430, "div")(431, "span", 170);
    \u0275\u0275text(432, "ROI");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(433, "div", 171);
    \u0275\u0275text(434);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(435, "div", 162)(436, "h4", 168);
    \u0275\u0275text(437, "Warranty & Insurance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(438, "div", 169)(439, "div")(440, "span", 170);
    \u0275\u0275text(441, "Warranty Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(442, "div", 173)(443, "span");
    \u0275\u0275text(444);
    \u0275\u0275elementEnd();
    \u0275\u0275template(445, AssetViewComponent_div_29_span_445_Template, 3, 4, "span", 174);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(446, "div")(447, "span", 170);
    \u0275\u0275text(448, "Insurance Value");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(449, "div", 171);
    \u0275\u0275text(450);
    \u0275\u0275elementEnd()()()()()()()()();
  }
  if (rf & 2) {
    const noImages_r33 = \u0275\u0275reference(38);
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(6);
    \u0275\u0275attribute("d", ctx_r1.getAssetTypeIcon());
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(ctx_r1.asset.name);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.getAssetTypeName(ctx_r1.asset.type));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate((ctx_r1.asset.category == null ? null : ctx_r1.asset.category.name) || "General");
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r1.asset.asset_id || ctx_r1.asset.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.asset.serial_number);
    \u0275\u0275advance(9);
    \u0275\u0275property("ngIf", ctx_r1.asset.images && ctx_r1.asset.images.length > 0)("ngIfElse", noImages_r33);
    \u0275\u0275advance(15);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.name) || "Unnamed Asset");
    \u0275\u0275advance(5);
    \u0275\u0275classProp("line-clamp-3", !ctx_r1.descriptionExpanded);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", (ctx_r1.asset == null ? null : ctx_r1.asset.description) || "No description available", " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", (ctx_r1.asset == null ? null : ctx_r1.asset.description) && ctx_r1.asset.description.length > 150);
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", (ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.icon) && !ctx_r1.asset.category.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.icon) || ctx_r1.asset.category.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.category == null ? null : ctx_r1.asset.category.name) || "Uncategorized");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.asset.asset_status);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.asset_id) || "N/A");
    \u0275\u0275advance(11);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.location == null ? null : ctx_r1.asset.location.id));
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate((ctx_r1.asset == null ? null : ctx_r1.asset.department == null ? null : ctx_r1.asset.department.name) || "Not assigned");
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(105, 100, ctx_r1.asset == null ? null : ctx_r1.asset.created_at, "MMM d, y"));
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(114, 103, ctx_r1.asset == null ? null : ctx_r1.asset.updated_at, "MMM d, y"));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.parent);
    \u0275\u0275advance(7);
    \u0275\u0275property("ngIf", ctx_r1.qrCodeDataUrl);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && (ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.qrCodeLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && !(ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url) && !ctx_r1.qrCodeLoading && (ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.qrCodeDataUrl && !(ctx_r1.asset == null ? null : ctx_r1.asset.qr_code_url) && !ctx_r1.qrCodeLoading && !(ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.id);
    \u0275\u0275advance(9);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && ctx_r1.barcodeDataUrl);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.barcodeLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && !ctx_r1.barcodeDataUrl && !ctx_r1.barcodeLoading && (ctx_r1.asset == null ? null : ctx_r1.asset.asset_id));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !(ctx_r1.asset == null ? null : ctx_r1.asset.barcode_url) && !ctx_r1.barcodeDataUrl && !ctx_r1.barcodeLoading && !(ctx_r1.asset == null ? null : ctx_r1.asset.asset_id));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngIf", ctx_r1.asset == null ? null : ctx_r1.asset.asset_id);
    \u0275\u0275advance(12);
    \u0275\u0275property("ngIf", ctx_r1.asset.asset_status);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.asset.asset_status);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.manufacturer || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.model || "Not specified");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.serial_number);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.brand || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.capacity || "Not specified");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.asset.dimensions || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.weight || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.power_requirements || "Not specified");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.operating_conditions || "Standard conditions");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.specifications);
    \u0275\u0275advance(20);
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartData == null ? null : ctx_r1.healthPerformanceChartData.chart_data == null ? null : ctx_r1.healthPerformanceChartData.chart_data.metrics);
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartError && !ctx_r1.healthPerformanceChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.healthPerformanceChartLoading && !ctx_r1.healthPerformanceChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.healthPerformanceChartLoading && !ctx_r1.healthPerformanceChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.healthPerformanceChartData == null ? null : ctx_r1.healthPerformanceChartData.chart_data == null ? null : ctx_r1.healthPerformanceChartData.chart_data.metrics);
    \u0275\u0275advance(25);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency((ctx_r1.asset == null ? null : ctx_r1.asset.purchase_price) || 0), "");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency(ctx_r1.calculateCurrentValue()), "");
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", ctx_r1.depreciationChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.depreciationChartError && !ctx_r1.depreciationChartLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.depreciationChartLoading && !ctx_r1.depreciationChartError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.depreciationChartLoading && !ctx_r1.depreciationChartError);
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate1("$", ctx_r1.formatCurrency(ctx_r1.calculateAnnualDepreciation()), "");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.calculateDepreciationRate(), "%");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.calculateRemainingYears());
    \u0275\u0275advance(8);
    \u0275\u0275property("ngIf", ctx_r1.activityLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityError && !ctx_r1.activityLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.activityLoading && !ctx_r1.activityError);
    \u0275\u0275advance(14);
    \u0275\u0275textInterpolate(ctx_r1.getRelatedFilterDisplayName(ctx_r1.selectedRelatedFilter));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.showRelatedFilterDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssetsLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.relatedAssetsError && !ctx_r1.relatedAssetsLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.relatedAssetsLoading && !ctx_r1.relatedAssetsError);
    \u0275\u0275advance(22);
    \u0275\u0275textInterpolate(ctx_r1.mockMaintenanceData.lastMaintenance || "Not recorded");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(ctx_r1.mockMaintenanceData.nextMaintenance || "Not scheduled");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate(ctx_r1.mockMaintenanceData.interval);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.maintenanceLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.maintenanceLoading && ctx_r1.maintenanceSchedules.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.maintenanceLoading && ctx_r1.maintenanceSchedules.length === 0);
    \u0275\u0275advance(16);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(378, 106, ctx_r1.mockFinancialData.purchaseCost, "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(384, 111, ctx_r1.asset.purchase_date, "MMM d, y"));
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(394, 114, ctx_r1.mockFinancialData.currentValue, "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind4(400, 119, ctx_r1.mockFinancialData.currentValue * 0.95, "USD", "symbol", "1.2-2"));
    \u0275\u0275advance(10);
    \u0275\u0275textInterpolate(ctx_r1.mockFinancialData.depreciationMethod);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.mockFinancialData.usefulLife, " years");
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", ctx_r1.calculateDepreciationRate(), "%");
    \u0275\u0275advance(9);
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind4(429, 124, ctx_r1.calculateTotalCostOfOwnership(), "USD", "symbol", "1.2-2"), " ");
    \u0275\u0275advance(5);
    \u0275\u0275classProp("text-green-600", ctx_r1.calculateROI() > 0)("text-red-600", ctx_r1.calculateROI() < 0);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.calculateROI(), "% ");
    \u0275\u0275advance(9);
    \u0275\u0275classMap(ctx_r1.getWarrantyStatusClass(ctx_r1.asset.warranty));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.getWarrantyStatus(ctx_r1.asset.warranty), " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.asset.warranty);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.asset.insurance_value || "Not specified");
  }
}
function AssetViewComponent_div_30_Template(rf, ctx) {
  if (rf & 1) {
    const _r34 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 289)(1, "div", 290)(2, "div", 130)(3, "h3", 71);
    \u0275\u0275text(4, "Add Maintenance Schedule");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_30_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 292);
    \u0275\u0275element(7, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(8, "form", 294);
    \u0275\u0275listener("ngSubmit", function AssetViewComponent_div_30_Template_form_ngSubmit_8_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.saveMaintenanceSchedule());
    });
    \u0275\u0275elementStart(9, "div", 112)(10, "div")(11, "label", 295);
    \u0275\u0275text(12, "Schedule Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "select", 296)(14, "option", 297);
    \u0275\u0275text(15, "Select type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "option", 298);
    \u0275\u0275text(17, "Preventive Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(18, "option", 299);
    \u0275\u0275text(19, "Inspection");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "option", 300);
    \u0275\u0275text(21, "Calibration");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "option", 301);
    \u0275\u0275text(23, "Cleaning");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(24, "div")(25, "label", 295);
    \u0275\u0275text(26, "Next Due Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(27, "input", 302, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "div")(30, "label", 295);
    \u0275\u0275text(31, "Last Done Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(32, "input", 303, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "div")(35, "label", 295);
    \u0275\u0275text(36, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "select", 304)(38, "option", 297);
    \u0275\u0275text(39, "Select frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "option", 305);
    \u0275\u0275text(41, "Weekly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(42, "option", 306);
    \u0275\u0275text(43, "Monthly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "option", 307);
    \u0275\u0275text(45, "Quarterly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(46, "option", 308);
    \u0275\u0275text(47, "Semi-Annual");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "option", 309);
    \u0275\u0275text(49, "Annual");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(50, "div")(51, "label", 295);
    \u0275\u0275text(52, "Notes");
    \u0275\u0275elementEnd();
    \u0275\u0275element(53, "textarea", 310);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(54, "div", 311)(55, "button", 312);
    \u0275\u0275listener("click", function AssetViewComponent_div_30_Template_button_click_55_listener() {
      \u0275\u0275restoreView(_r34);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275text(56, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(57, "button", 313);
    \u0275\u0275text(58, " Save Schedule ");
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("formGroup", ctx_r1.maintenanceForm);
    \u0275\u0275advance(49);
    \u0275\u0275property("disabled", ctx_r1.maintenanceForm.invalid);
  }
}
function AssetViewComponent_div_31_Template(rf, ctx) {
  if (rf & 1) {
    const _r35 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 289)(1, "div", 290)(2, "div", 130)(3, "h3", 71);
    \u0275\u0275text(4, "Edit Maintenance Schedule");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_31_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 292);
    \u0275\u0275element(7, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(8, "form", 294);
    \u0275\u0275listener("ngSubmit", function AssetViewComponent_div_31_Template_form_ngSubmit_8_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.saveMaintenanceSchedule());
    });
    \u0275\u0275elementStart(9, "div", 112)(10, "div")(11, "label", 295);
    \u0275\u0275text(12, "Schedule Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "select", 296)(14, "option", 297);
    \u0275\u0275text(15, "Select type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(16, "option", 298);
    \u0275\u0275text(17, "Preventive Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(18, "option", 299);
    \u0275\u0275text(19, "Inspection");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "option", 300);
    \u0275\u0275text(21, "Calibration");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "option", 301);
    \u0275\u0275text(23, "Cleaning");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(24, "div")(25, "label", 295);
    \u0275\u0275text(26, "Next Due Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(27, "input", 302, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "div")(30, "label", 295);
    \u0275\u0275text(31, "Last Done Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(32, "input", 303, 1);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "div")(35, "label", 295);
    \u0275\u0275text(36, "Frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(37, "select", 304)(38, "option", 297);
    \u0275\u0275text(39, "Select frequency");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "option", 305);
    \u0275\u0275text(41, "Weekly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(42, "option", 306);
    \u0275\u0275text(43, "Monthly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "option", 307);
    \u0275\u0275text(45, "Quarterly");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(46, "option", 308);
    \u0275\u0275text(47, "Semi-Annual");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "option", 309);
    \u0275\u0275text(49, "Annual");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(50, "div")(51, "label", 295);
    \u0275\u0275text(52, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(53, "select", 314)(54, "option", 315);
    \u0275\u0275text(55, "Scheduled");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(56, "option", 316);
    \u0275\u0275text(57, "In Progress");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(58, "option", 317);
    \u0275\u0275text(59, "Completed");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(60, "option", 318);
    \u0275\u0275text(61, "Overdue");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(62, "div")(63, "label", 295);
    \u0275\u0275text(64, "Notes");
    \u0275\u0275elementEnd();
    \u0275\u0275element(65, "textarea", 310);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(66, "div", 311)(67, "button", 312);
    \u0275\u0275listener("click", function AssetViewComponent_div_31_Template_button_click_67_listener() {
      \u0275\u0275restoreView(_r35);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeMaintenanceModals());
    });
    \u0275\u0275text(68, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(69, "button", 313);
    \u0275\u0275text(70, " Update Schedule ");
    \u0275\u0275elementEnd()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275property("formGroup", ctx_r1.maintenanceForm);
    \u0275\u0275advance(61);
    \u0275\u0275property("disabled", ctx_r1.maintenanceForm.invalid);
  }
}
function AssetViewComponent_div_32_div_53_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 347)(1, "div", 39)(2, "div", 348);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 349);
    \u0275\u0275element(4, "circle", 42)(5, "path", 43);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "p", 59);
    \u0275\u0275text(7, "Loading activity history...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetViewComponent_div_32_div_54_Template(rf, ctx) {
  if (rf & 1) {
    const _r37 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 350)(1, "div", 351);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 50);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_54_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r37);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.loadFullActivityHistory());
    });
    \u0275\u0275text(4, " Try Again ");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.activityHistoryError);
  }
}
function AssetViewComponent_div_32_div_55_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 361)(1, "div", 362);
    \u0275\u0275text(2, "Changes:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 192);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r38 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate1(" ", ctx_r1.formatActivityBeforeAfter(activity_r38.before, activity_r38.after), " ");
  }
}
function AssetViewComponent_div_32_div_55_div_1_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 363)(1, "strong");
    \u0275\u0275text(2, "By:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const activity_r38 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.getUserDisplayName(activity_r38.user), " ");
  }
}
function AssetViewComponent_div_32_div_55_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 354)(1, "div", 355);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 18);
    \u0275\u0275element(3, "path", 56);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "div", 244)(5, "div", 275)(6, "h4", 356);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "span", 357);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(10, "p", 358);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd();
    \u0275\u0275template(12, AssetViewComponent_div_32_div_55_div_1_div_12_Template, 5, 1, "div", 359)(13, AssetViewComponent_div_32_div_55_div_1_div_13_Template, 4, 1, "div", 360);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const activity_r38 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance();
    \u0275\u0275property("ngClass", ctx_r1.getActivityColor(activity_r38.action));
    \u0275\u0275advance(2);
    \u0275\u0275attribute("d", ctx_r1.getActivityIcon(activity_r38.action));
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(activity_r38.action);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r38.time_ago);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(activity_r38.comment || "No comment");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.formatActivityBeforeAfter(activity_r38.before, activity_r38.after));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", activity_r38.user);
  }
}
function AssetViewComponent_div_32_div_55_div_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 350);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 191);
    \u0275\u0275element(2, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "h3", 44);
    \u0275\u0275text(4, "No Activity Found");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "p", 192);
    \u0275\u0275text(6, "No activity matches your current filters.");
    \u0275\u0275elementEnd()();
  }
}
function AssetViewComponent_div_32_div_55_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 352);
    \u0275\u0275template(1, AssetViewComponent_div_32_div_55_div_1_Template, 14, 7, "div", 353)(2, AssetViewComponent_div_32_div_55_div_2_Template, 7, 0, "div", 342);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.fullActivityHistory);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.fullActivityHistory.length === 0);
  }
}
function AssetViewComponent_div_32_div_56_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r39 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 367);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_56_button_4_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r39);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryPageChange(ctx_r1.activityHistoryPagination.current_page - 1));
    });
    \u0275\u0275text(1, " Previous ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_32_div_56_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r40 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 367);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_div_56_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r40);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryPageChange(ctx_r1.activityHistoryPagination.current_page + 1));
    });
    \u0275\u0275text(1, " Next ");
    \u0275\u0275elementEnd();
  }
}
function AssetViewComponent_div_32_div_56_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 364)(1, "div", 143);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 365);
    \u0275\u0275template(4, AssetViewComponent_div_32_div_56_button_4_Template, 2, 0, "button", 366)(5, AssetViewComponent_div_32_div_56_button_5_Template, 2, 0, "button", 366);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate3(" Showing ", ctx_r1.activityHistoryPagination.from || 0, " to ", ctx_r1.activityHistoryPagination.to || 0, " of ", ctx_r1.activityHistoryPagination.total || 0, " activities ");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination.prev_page_url);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination.next_page_url);
  }
}
function AssetViewComponent_div_32_Template(rf, ctx) {
  if (rf & 1) {
    const _r36 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 319)(1, "div", 320)(2, "div", 321)(3, "div", 12);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(4, "svg", 322);
    \u0275\u0275element(5, "path", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 323);
    \u0275\u0275text(7, "Full Activity History");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(8, "button", 291);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_8_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeActivityHistoryModal());
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(9, "svg", 292);
    \u0275\u0275element(10, "path", 293);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(11, "div", 324)(12, "div", 325)(13, "div", 326)(14, "div", 244)(15, "input", 327);
    \u0275\u0275listener("input", function AssetViewComponent_div_32_Template_input_input_15_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistorySearch($event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "button", 328);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_16_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.clearActivityHistoryFilters());
    });
    \u0275\u0275text(17, " Clear Filters ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(18, "div", 329)(19, "div")(20, "label", 330);
    \u0275\u0275text(21, "Action Type");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "select", 331);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_select_change_22_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("action", $event.target.value));
    });
    \u0275\u0275elementStart(23, "option", 297);
    \u0275\u0275text(24, "All Actions");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "option", 332);
    \u0275\u0275text(26, "Created");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(27, "option", 333);
    \u0275\u0275text(28, "Updated");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "option", 334);
    \u0275\u0275text(30, "Deleted");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "option", 335);
    \u0275\u0275text(32, "Transferred");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(33, "option", 336);
    \u0275\u0275text(34, "Maintenance");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(35, "option", 337);
    \u0275\u0275text(36, "Imported");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(37, "div")(38, "label", 330);
    \u0275\u0275text(39, "Date From");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(40, "input", 338);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_input_change_40_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("date_from", $event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(41, "div")(42, "label", 330);
    \u0275\u0275text(43, "Date To");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(44, "input", 338);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_input_change_44_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistoryFilter("date_to", $event.target.value));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(45, "div")(46, "label", 330);
    \u0275\u0275text(47, "Sort By");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(48, "select", 331);
    \u0275\u0275listener("change", function AssetViewComponent_div_32_Template_select_change_48_listener($event) {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onActivityHistorySort("created_at", $event.target.value));
    });
    \u0275\u0275elementStart(49, "option", 339);
    \u0275\u0275text(50, "Newest First");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(51, "option", 340);
    \u0275\u0275text(52, "Oldest First");
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275template(53, AssetViewComponent_div_32_div_53_Template, 8, 0, "div", 341)(54, AssetViewComponent_div_32_div_54_Template, 5, 1, "div", 342)(55, AssetViewComponent_div_32_div_55_Template, 3, 2, "div", 343)(56, AssetViewComponent_div_32_div_56_Template, 6, 5, "div", 344);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(57, "div", 345)(58, "div", 143);
    \u0275\u0275text(59);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(60, "button", 346);
    \u0275\u0275listener("click", function AssetViewComponent_div_32_Template_button_click_60_listener() {
      \u0275\u0275restoreView(_r36);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.closeActivityHistoryModal());
    });
    \u0275\u0275text(61, " Close ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(53);
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryError && !ctx_r1.activityHistoryLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.activityHistoryLoading && !ctx_r1.activityHistoryError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.activityHistoryPagination && ctx_r1.fullActivityHistory.length > 0);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" Total Activities: ", (ctx_r1.activityHistoryPagination == null ? null : ctx_r1.activityHistoryPagination.total) || ctx_r1.fullActivityHistory.length, " ");
  }
}
Chart.register(...registerables);
var AssetViewComponent = class _AssetViewComponent {
  route;
  router;
  assetService;
  angularLocation;
  pdfExportService;
  fb;
  cdr;
  destroy$ = new Subject();
  dateInputs;
  asset = null;
  loading = true;
  error = "";
  // Image gallery state
  currentImageIndex = 0;
  selectedImageUrl = null;
  // UI state
  descriptionExpanded = false;
  showActionsDropdown = false;
  showTransferModal = false;
  showActivityHistoryModal = false;
  // Maintenance Schedule
  maintenanceSchedules = [];
  maintenanceLoading = false;
  showAddMaintenanceModal = false;
  showEditMaintenanceModal = false;
  selectedSchedule = null;
  maintenanceForm;
  // Flatpickr instances
  flatpickrInstances = [];
  // Health & Performance data (now calculated dynamically)
  healthMetrics = {
    lastUpdated: /* @__PURE__ */ new Date(),
    performanceTrend: [
      { month: "Jan", value: 82 },
      { month: "Feb", value: 84 },
      { month: "Mar", value: 88 },
      { month: "Apr", value: 85 }
    ]
  };
  mockFinancialData = {
    purchaseCost: 0,
    currentValue: 0,
    depreciationMethod: "Straight Line",
    usefulLife: 10,
    originalValue: 0
  };
  mockMaintenanceData = {
    status: "Current",
    lastMaintenance: null,
    nextMaintenance: null,
    interval: "Every 6 months"
  };
  // Activity history
  activities = [];
  fullActivityHistory = [];
  activityLoading = false;
  activityHistoryLoading = false;
  activityError = "";
  activityHistoryError = "";
  // Activity history pagination and filters
  activityHistoryParams = {
    page: 1,
    per_page: 15,
    sort_by: "created_at",
    sort_dir: "desc",
    search: "",
    action: "",
    user_id: "",
    date_from: "",
    date_to: ""
  };
  activityHistoryPagination = null;
  // QR Code state
  qrCodeDataUrl = null;
  qrCodeLoading = false;
  // Barcode state
  barcodeDataUrl = null;
  barcodeLoading = false;
  // Related assets state
  relatedAssets = [];
  relatedAssetsLoading = false;
  relatedAssetsError = "";
  selectedRelatedFilter = "all";
  showRelatedFilterDropdown = false;
  relatedAssetsParams = {
    type: "all",
    limit: 10
  };
  // Chart state
  depreciationChart = null;
  depreciationChartLoading = false;
  depreciationChartError = "";
  depreciationChartData = null;
  // Health & Performance Chart
  healthPerformanceChart = null;
  healthPerformanceChartLoading = false;
  healthPerformanceChartError = "";
  healthPerformanceChartData = null;
  constructor(route, router, assetService, angularLocation, pdfExportService, fb, cdr) {
    this.route = route;
    this.router = router;
    this.assetService = assetService;
    this.angularLocation = angularLocation;
    this.pdfExportService = pdfExportService;
    this.fb = fb;
    this.cdr = cdr;
    this.maintenanceForm = this.fb.group({
      schedule_type: ["", Validators.required],
      next_due: [""],
      last_done: [""],
      frequency: [""],
      notes: [""],
      status: ["Scheduled"]
    });
    this.activities = [];
    this.fullActivityHistory = [];
  }
  ngOnInit() {
    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {
      const assetId = params["id"];
      if (assetId) {
        this.loadAsset(assetId);
      }
    });
  }
  ngAfterViewInit() {
    this.initializeDatePickers();
    setTimeout(() => {
      if (this.asset && !this.depreciationChart) {
        this.createDepreciationChart();
      }
    }, 500);
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    if (this.depreciationChart) {
      this.depreciationChart.destroy();
    }
    if (this.healthPerformanceChart) {
      this.healthPerformanceChart.destroy();
    }
  }
  loadAsset(id) {
    this.loading = true;
    this.error = "";
    this.assetService.getAsset(id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.asset = response.data.asset || response.data;
          this.updateMockData();
          this.loadMaintenanceSchedules();
          this.loadActivityHistory();
          this.generateQRCode();
          if (!this.asset.barcode_url && this.asset.asset_id) {
            this.generateBarcode();
          }
          this.loadRelatedAssets();
          this.loadDepreciationChart();
          this.loadHealthPerformanceChart();
        } else {
          this.error = response.message || "Failed to load asset";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading the asset";
        this.loading = false;
      }
    });
  }
  loadMaintenanceSchedules() {
    if (!this.asset)
      return;
    this.maintenanceLoading = true;
    this.assetService.listMaintenanceSchedules(this.asset.id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.maintenanceSchedules = response.data || [];
        }
        this.maintenanceLoading = false;
      },
      error: (error) => {
        console.error("Error loading maintenance schedules:", error);
        this.maintenanceLoading = false;
      }
    });
  }
  updateMockData() {
    if (this.asset) {
      this.mockFinancialData = {
        purchaseCost: this.asset.purchase_price || 0,
        currentValue: this.asset.current_value || this.asset.purchase_price || 0,
        depreciationMethod: "Straight Line",
        usefulLife: this.asset.depreciation || 10,
        originalValue: this.asset.purchase_price || 0
      };
      this.healthMetrics.lastUpdated = /* @__PURE__ */ new Date();
      this.mockMaintenanceData = {
        status: this.asset.status || "Active",
        lastMaintenance: this.asset.last_maintenance_date || null,
        nextMaintenance: this.asset.next_maintenance_date || null,
        interval: this.asset.maintenance_interval || "Every 6 months"
      };
      if (this.asset.images && this.asset.images.length > 0) {
        this.selectedImageUrl = this.asset.images[0].image_url;
        this.currentImageIndex = 0;
      }
    }
  }
  goBack() {
    this.angularLocation.back();
  }
  editAsset() {
    if (this.asset) {
      this.router.navigate(["/assets", this.asset.id, "edit"]);
    }
  }
  exportAsset() {
    if (this.asset) {
      this.pdfExportService.exportSingleAssetToPdf(this.asset);
    }
  }
  printAsset() {
    const printWindow = window.open("", "_blank");
    if (!printWindow) {
      alert("Please allow popups to print this asset");
      return;
    }
    const printContent = this.generatePrintContent();
    printWindow.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Asset Details - ${this.asset?.name || "Asset"}</title>
          <style>
            @media print {
              body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
              .no-print { display: none !important; }
              .print-only { display: block !important; }
              .page-break { page-break-before: always; }
              .avoid-break { page-break-inside: avoid; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
              @page { margin: 1in; }
            }
            @media screen {
              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
              .no-print { display: none; }
              .print-only { display: block; }
              .page-break { border-top: 2px solid #333; margin-top: 30px; padding-top: 30px; }
              .avoid-break { }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f8f9fa; font-weight: bold; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .section { margin-bottom: 25px; }
              .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
              .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
              .info-item { margin-bottom: 15px; }
              .info-label { font-weight: bold; color: #666; font-size: 14px; }
              .info-value { font-size: 16px; margin-top: 5px; }
              .status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
              .qr-section { text-align: center; margin: 20px 0; }
              .qr-code { max-width: 200px; margin: 0 auto; }
              .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ddd; padding-top: 20px; }
            }
          </style>
        </head>
        <body>
          ${printContent}
        </body>
      </html>
    `);
    printWindow.document.close();
    printWindow.onload = () => {
      printWindow.print();
      printWindow.close();
    };
  }
  generatePrintContent() {
    if (!this.asset)
      return "<p>Asset not found</p>";
    const asset = this.asset;
    const currentDate = (/* @__PURE__ */ new Date()).toLocaleDateString();
    return `
      <div class="header">
        <h1>Asset Details Report</h1>
        <p>Generated on: ${currentDate}</p>
      </div>

      <div class="section">
        <div class="section-title">Asset Overview</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Asset Name</div>
            <div class="info-value">${asset.name || "N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset ID</div>
            <div class="info-value">${asset.asset_id || asset.id || "N/A"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Category</div>
            <div class="info-value">${asset.category?.name || "General"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Status</div>
            <div class="info-value">
              <span class="status-badge" style="background-color: ${asset.asset_status?.color || "#6B7280"}20; color: ${asset.asset_status?.color || "#6B7280"}">
                ${asset.asset_status?.name || "Not specified"}
              </span>
            </div>
          </div>
          <div class="info-item">
            <div class="info-label">Type</div>
            <div class="info-value">${this.getAssetTypeName(asset.type)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Location</div>
            <div class="info-value">${asset.location?.name || "No location assigned"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Description</div>
        <p>${asset.description || "No description available"}</p>
      </div>

      <div class="section">
        <div class="section-title">Technical Specifications</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Manufacturer</div>
            <div class="info-value">${asset.manufacturer || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Model</div>
            <div class="info-value">${asset.model || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Serial Number</div>
            <div class="info-value">${asset.serial_number || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Brand</div>
            <div class="info-value">${asset.brand || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Dimensions</div>
            <div class="info-value">${asset.dimensions || "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Weight</div>
            <div class="info-value">${asset.weight || "Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Financial Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Purchase Price</div>
            <div class="info-value">$${this.formatCurrency(asset.purchase_price || 0)}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Current Value</div>
            <div class="info-value">$${this.formatCurrency(this.calculateCurrentValue())}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Purchase Date</div>
            <div class="info-value">${asset.purchase_date ? new Date(asset.purchase_date).toLocaleDateString() : "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Warranty Status</div>
            <div class="info-value">${this.getWarrantyStatus(asset.warranty)}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Performance Metrics</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Health Score</div>
            <div class="info-value">${asset.health_score || 0}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Utilization Rate</div>
            <div class="info-value">${this.getUtilizationRate()}%</div>
          </div>
          <div class="info-item">
            <div class="info-label">Asset Age</div>
            <div class="info-value">${this.getAssetAge()}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Total Cost of Ownership</div>
            <div class="info-value">$${this.formatCurrency(this.calculateTotalCostOfOwnership())}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Timeline Information</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Created Date</div>
            <div class="info-value">${asset.created_at ? new Date(asset.created_at).toLocaleDateString() : "Not specified"}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Last Modified</div>
            <div class="info-value">${asset.updated_at ? new Date(asset.updated_at).toLocaleDateString() : "Not specified"}</div>
          </div>
        </div>
      </div>

      <div class="qr-section">
        <div class="section-title">Asset Identification</div>
        <div class="qr-code">
          ${this.qrCodeDataUrl ? `<img src="${this.qrCodeDataUrl}" alt="QR Code" style="max-width: 100%; height: auto;">` : "<p>QR Code not available</p>"}
        </div>
        <p><strong>Asset ID:</strong> ${asset.asset_id || asset.id || "N/A"}</p>
      </div>

      <div class="footer">
        <p>AssetGo - Asset Management System</p>
        <p>This report was generated automatically on ${currentDate}</p>
      </div>
    `;
  }
  getStatusColor(status) {
    const colors2 = {
      "Active": "green",
      "Maintenance": "orange",
      "Inactive": "gray",
      "Retired": "red"
    };
    return colors2[status] || "gray";
  }
  getAssetStatusColor(assetStatus) {
    if (!assetStatus || !assetStatus.color) {
      return "#6B7280";
    }
    return assetStatus.color;
  }
  getAssetStatusBackgroundColor(assetStatus) {
    if (!assetStatus || !assetStatus.color) {
      return "#F3F4F6";
    }
    return assetStatus.color + "20";
  }
  getAssetTypeIcon() {
    if (!this.asset?.type)
      return "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4";
    const icons = {
      "fixed": "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      "semi-fixed": "M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4a2 2 0 001-1.73z",
      "mobile": "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z",
      "fleet": "M3 13l2-5a2 2 0 012-2h10a2 2 0 012 2l2 5M5 13v6a2 2 0 002 2h10a2 2 0 002-2v-6M5 13h14"
    };
    return icons[this.asset.type] || icons["fixed"];
  }
  generateSmartDescription() {
    console.log("Generate smart description");
  }
  analyzeAssetImage() {
    console.log("Analyze asset image");
  }
  // Maintenance Schedule Methods
  addMaintenanceSchedule() {
    this.showAddMaintenanceModal = true;
    this.maintenanceForm.reset({
      schedule_type: "",
      next_due: "",
      last_done: "",
      frequency: "",
      notes: "",
      status: "Scheduled"
    });
    setTimeout(() => {
      this.initializeDatePickers();
    }, 100);
  }
  editMaintenanceSchedule(schedule) {
    this.selectedSchedule = schedule;
    this.showEditMaintenanceModal = true;
    this.maintenanceForm.patchValue({
      schedule_type: schedule.schedule_type,
      next_due: schedule.next_due,
      last_done: schedule.last_done,
      frequency: schedule.frequency,
      notes: schedule.notes,
      status: schedule.status
    });
    setTimeout(() => {
      this.initializeDatePickers();
    }, 100);
  }
  deleteMaintenanceSchedule(schedule) {
    if (confirm("Are you sure you want to delete this maintenance schedule?")) {
      this.assetService.deleteMaintenanceSchedule(this.asset.id, schedule.id).pipe(takeUntil(this.destroy$)).subscribe({
        next: (response) => {
          if (response.success) {
            this.loadMaintenanceSchedules();
          }
        },
        error: (error) => {
          console.error("Error deleting maintenance schedule:", error);
        }
      });
    }
  }
  saveMaintenanceSchedule() {
    if (this.maintenanceForm.valid && this.asset) {
      const formData = this.maintenanceForm.value;
      if (this.selectedSchedule) {
        this.assetService.updateMaintenanceSchedule(this.asset.id, this.selectedSchedule.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.loadMaintenanceSchedules();
              this.closeMaintenanceModals();
            }
          },
          error: (error) => {
            console.error("Error updating maintenance schedule:", error);
          }
        });
      } else {
        this.assetService.addMaintenanceSchedule(this.asset.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.loadMaintenanceSchedules();
              this.closeMaintenanceModals();
            }
          },
          error: (error) => {
            console.error("Error adding maintenance schedule:", error);
          }
        });
      }
    }
  }
  closeMaintenanceModals() {
    this.showAddMaintenanceModal = false;
    this.showEditMaintenanceModal = false;
    this.selectedSchedule = null;
    this.maintenanceForm.reset();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
  }
  initializeDatePickers() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        this.dateInputs.forEach((inputRef, index2) => {
          if (inputRef?.nativeElement) {
            const instance = esm_default(inputRef.nativeElement, {
              dateFormat: "Y-m-d",
              allowInput: true,
              clickOpens: true,
              onChange: (selectedDates, dateStr) => {
                const controlName = inputRef.nativeElement.getAttribute("formControlName");
                if (controlName && this.maintenanceForm.get(controlName)) {
                  this.maintenanceForm.get(controlName).setValue(dateStr);
                }
              }
            });
            this.flatpickrInstances.push(instance);
          }
        });
      }
    }, 50);
  }
  getScheduleStatusColor(status) {
    const colors2 = {
      "Scheduled": "blue",
      "Overdue": "red",
      "Completed": "green",
      "In Progress": "yellow"
    };
    return colors2[status] || "gray";
  }
  formatDate(date) {
    if (!date)
      return "Not set";
    return new Date(date).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  }
  // Helper methods for displaying asset data
  getAssetTypeName(typeId) {
    if (!typeId)
      return "Standard Asset";
    const typeMap = {
      "1": "Fixed Asset",
      "2": "Semi-Fixed Asset",
      "3": "Mobile Asset",
      "4": "Fleet Asset",
      "5": "IT Equipment"
    };
    return typeMap[typeId.toString()] || `Type ${typeId}`;
  }
  // Navigation methods
  navigateToPrevious() {
    console.log("Navigate to previous asset");
  }
  navigateToNext() {
    console.log("Navigate to next asset");
  }
  // Related assets methods
  loadRelatedAssets() {
    if (!this.asset?.id)
      return;
    this.relatedAssetsLoading = true;
    this.relatedAssetsError = "";
    this.assetService.getRelatedAssets(this.asset.id, this.relatedAssetsParams).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.relatedAssets = response.data.related_assets || [];
        } else {
          this.relatedAssetsError = response.message || "Failed to load related assets";
        }
        this.relatedAssetsLoading = false;
      },
      error: (error) => {
        this.relatedAssetsError = error.error?.message || "An error occurred while loading related assets";
        this.relatedAssetsLoading = false;
      }
    });
  }
  loadDepreciationChart() {
    if (!this.asset?.id)
      return;
    this.depreciationChartLoading = true;
    this.depreciationChartError = "";
    console.log("Loading depreciation chart for asset:", this.asset.id);
    this.assetService.getAssetDepreciationChart(this.asset.id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        console.log("Chart API Response:", response);
        if (response.success) {
          this.depreciationChartData = response.data;
          console.log("Chart data set:", this.depreciationChartData);
          this.createDepreciationChart();
        } else {
          this.depreciationChartError = response.message || "Failed to load depreciation chart data";
          console.log("API returned error, using mock data");
          this.createDepreciationChartWithMockData();
        }
        this.depreciationChartLoading = false;
      },
      error: (error) => {
        console.error("Chart API Error:", error);
        this.depreciationChartError = error.error?.message || "An error occurred while loading depreciation chart data";
        this.depreciationChartLoading = false;
        this.createDepreciationChartWithMockData();
      }
    });
  }
  createDepreciationChart() {
    console.log("Creating depreciation chart...");
    if (this.depreciationChart) {
      console.log("Destroying existing chart");
      this.depreciationChart.destroy();
    }
    setTimeout(() => {
      const ctx = document.getElementById("depreciationChart");
      console.log("Canvas element:", ctx);
      if (!ctx) {
        console.error("Depreciation chart canvas not found");
        return;
      }
      const chartData = this.processChartData(this.depreciationChartData) || this.generateMockDepreciationData();
      console.log("Chart data to use:", chartData);
      try {
        this.depreciationChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                label: "Asset Value",
                data: chartData.values,
                borderColor: "#3B82F6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: "Accumulated Depreciation",
                data: chartData.depreciation,
                borderColor: "#EF4444",
                backgroundColor: "rgba(239, 68, 68, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: "Asset Depreciation Over Time",
                font: {
                  size: 16,
                  weight: "bold"
                }
              },
              legend: {
                display: true,
                position: "top"
              },
              tooltip: {
                mode: "index",
                intersect: false,
                callbacks: {
                  label: (context) => {
                    const label = context.dataset.label || "";
                    const value = context.parsed.y;
                    return `${label}: $${value.toLocaleString()}`;
                  }
                }
              }
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Month"
                }
              },
              y: {
                title: {
                  display: true,
                  text: "Value ($)"
                },
                beginAtZero: true,
                ticks: {
                  callback: (value) => `$${Number(value).toLocaleString()}`
                }
              }
            },
            interaction: {
              mode: "nearest",
              axis: "x",
              intersect: false
            }
          }
        });
        console.log("Chart created successfully");
        this.cdr.detectChanges();
      } catch (error) {
        console.error("Error creating chart:", error);
      }
    }, 100);
  }
  processChartData(apiData) {
    if (!apiData || !apiData.chart_data || !apiData.chart_data.has_data) {
      return null;
    }
    const chartData = apiData.chart_data;
    const labels = chartData.depreciation_months.map((month) => `Month ${month}`);
    const values = chartData.depreciation_values.map((value) => parseFloat(value));
    const purchasePrice = parseFloat(apiData.asset.purchase_price);
    const depreciation = values.map((value) => purchasePrice - value);
    return {
      labels,
      values,
      depreciation
    };
  }
  createDepreciationChartWithMockData() {
    const mockData = this.generateMockDepreciationData();
    this.depreciationChartData = mockData;
    this.createDepreciationChart();
  }
  generateMockDepreciationData() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 1e4;
    const usefulLife = parseFloat(this.asset?.depreciation) || 10;
    const depreciationLife = this.asset?.depreciation_life || 10;
    const labels = [];
    const values = [];
    const depreciation = [];
    const totalPeriods = depreciationLife || usefulLife;
    for (let month = 1; month <= totalPeriods; month++) {
      labels.push(`Month ${month}`);
      const monthlyDepreciation = purchasePrice / totalPeriods;
      const totalDepreciation = monthlyDepreciation * (month - 1);
      const currentValue = Math.max(0, purchasePrice - totalDepreciation);
      values.push(currentValue);
      depreciation.push(totalDepreciation);
    }
    return {
      labels,
      values,
      depreciation
    };
  }
  onRelatedFilterChange(filterType) {
    this.selectedRelatedFilter = filterType;
    this.relatedAssetsParams["type"] = filterType;
    this.loadRelatedAssets();
  }
  getRelatedFilterDisplayName(filterType) {
    const filterMap = {
      "all": "All Related",
      "category": "Same Category",
      "location": "Same Location",
      "department": "Same Department",
      "manufacturer": "Same Manufacturer",
      "parent": "Same Parent",
      "children": "Child Assets",
      "siblings": "Sibling Assets",
      "similar": "Similar Assets"
    };
    return filterMap[filterType] || filterType;
  }
  getRelatedAssetStatusColor(status) {
    if (status?.color) {
      return `bg-${this.getColorFromHex(status.color)}-100 text-${this.getColorFromHex(status.color)}-700`;
    }
    const statusName = status?.name || status;
    const colors2 = {
      "Active": "bg-green-100 text-green-700",
      "Inactive": "bg-gray-100 text-gray-700",
      "Maintenance": "bg-orange-100 text-orange-700",
      "Retired": "bg-red-100 text-red-700"
    };
    return colors2[statusName] || "bg-gray-100 text-gray-700";
  }
  getColorFromHex(hex2) {
    const colorMap = {
      "#10B981": "green",
      "#EF4444": "red",
      "#F59E0B": "yellow",
      "#3B82F6": "blue",
      "#8B5CF6": "purple",
      "#F97316": "orange",
      "#6B7280": "gray"
    };
    return colorMap[hex2] || "gray";
  }
  navigateToRelatedAsset(assetId) {
    this.router.navigate(["/assets", assetId]);
  }
  // Activity timeline methods
  loadActivityHistory() {
    if (!this.asset?.id)
      return;
    this.activityLoading = true;
    this.activityError = "";
    const params = {
      page: 1,
      per_page: 5,
      sort_by: "created_at",
      sort_dir: "desc"
    };
    this.assetService.getActivityHistory(this.asset.id, params).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.activities = response.data.data || [];
        } else {
          this.activityError = response.message || "Failed to load activity history";
        }
        this.activityLoading = false;
      },
      error: (error) => {
        this.activityError = error.error?.message || "An error occurred while loading activity history";
        this.activityLoading = false;
      }
    });
  }
  // Performance tracking methods
  loadPerformanceMetrics() {
    console.log("Load performance metrics");
  }
  // Health & Performance Dashboard Methods
  refreshHealthMetrics() {
    this.loadPerformanceMetrics();
    console.log("Refreshing health metrics");
  }
  refreshDepreciationChart() {
    console.log("Refreshing depreciation chart...");
    this.loadDepreciationChart();
  }
  // Method to manually create chart (for debugging)
  forceCreateChart() {
    console.log("Force creating chart...");
    this.createDepreciationChart();
  }
  // Health & Performance Chart Methods
  loadHealthPerformanceChart() {
    if (!this.asset?.id) {
      console.log("No asset ID available for health performance chart");
      return;
    }
    this.healthPerformanceChartLoading = true;
    this.healthPerformanceChartError = "";
    console.log("Loading health performance chart for asset:", this.asset.id);
    this.assetService.getAssetHealthPerformanceChart(this.asset.id, { months: 12 }).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        console.log("Health performance chart API response:", response);
        this.healthPerformanceChartLoading = false;
        if (response.success && response.data) {
          this.healthPerformanceChartData = response.data;
          setTimeout(() => {
            this.createHealthPerformanceChart();
          }, 100);
        } else {
          this.healthPerformanceChartError = "Failed to load health performance data";
          console.error("Health performance chart API error:", response);
        }
      },
      error: (error) => {
        console.error("Health performance chart API error:", error);
        this.healthPerformanceChartLoading = false;
        this.healthPerformanceChartError = "Failed to load health performance data";
      }
    });
  }
  createHealthPerformanceChart() {
    console.log("Creating health performance chart...");
    console.log("Health performance chart data:", this.healthPerformanceChartData);
    if (this.healthPerformanceChart) {
      this.healthPerformanceChart.destroy();
      this.healthPerformanceChart = null;
    }
    const canvas = document.getElementById("healthPerformanceChart");
    console.log("Canvas element:", canvas);
    if (!canvas) {
      console.error("Health performance chart canvas not found");
      return;
    }
    setTimeout(() => {
      try {
        console.log("Processing health performance data...");
        const chartData = this.processHealthPerformanceData(this.healthPerformanceChartData);
        console.log("Processed chart data:", chartData);
        const config = {
          type: "line",
          data: {
            labels: chartData.labels,
            datasets: [
              {
                label: "Health Score",
                data: chartData.healthScores,
                borderColor: "#10B981",
                backgroundColor: "rgba(16, 185, 129, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#10B981",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6
              },
              {
                label: "Performance Score",
                data: chartData.performanceScores,
                borderColor: "#3B82F6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#3B82F6",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6
              },
              {
                label: "Maintenance Count",
                data: chartData.maintenanceCounts,
                borderColor: "#F59E0B",
                backgroundColor: "rgba(245, 158, 11, 0.1)",
                borderWidth: 2,
                fill: false,
                tension: 0.4,
                pointBackgroundColor: "#F59E0B",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6,
                yAxisID: "y1"
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
              mode: "index",
              intersect: false
            },
            plugins: {
              legend: {
                position: "top",
                labels: {
                  usePointStyle: true,
                  padding: 20,
                  font: {
                    size: 12
                  }
                }
              },
              tooltip: {
                backgroundColor: "rgba(0, 0, 0, 0.8)",
                titleColor: "#ffffff",
                bodyColor: "#ffffff",
                borderColor: "#374151",
                borderWidth: 1,
                cornerRadius: 8,
                displayColors: true,
                callbacks: {
                  label: function(context) {
                    const label = context.dataset.label || "";
                    const value = context.parsed.y;
                    if (label === "Maintenance Count") {
                      return `${label}: ${value} activities`;
                    }
                    return `${label}: ${value}%`;
                  }
                }
              }
            },
            scales: {
              x: {
                display: true,
                title: {
                  display: true,
                  text: "Month",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                grid: {
                  display: true,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              },
              y: {
                type: "linear",
                display: true,
                position: "left",
                title: {
                  display: true,
                  text: "Score (%)",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                min: 0,
                max: 100,
                grid: {
                  display: true,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              },
              y1: {
                type: "linear",
                display: true,
                position: "right",
                title: {
                  display: true,
                  text: "Maintenance Count",
                  font: {
                    size: 12,
                    weight: "bold"
                  }
                },
                min: 0,
                grid: {
                  drawOnChartArea: false,
                  color: "rgba(0, 0, 0, 0.1)"
                }
              }
            }
          }
        };
        this.healthPerformanceChart = new Chart(canvas, config);
        console.log("Health performance chart created successfully");
        this.cdr.detectChanges();
      } catch (error) {
        console.error("Error creating health performance chart:", error);
        setTimeout(() => {
          console.log("Retrying health performance chart creation...");
          this.createHealthPerformanceChart();
        }, 500);
      }
    }, 100);
  }
  processHealthPerformanceData(apiData) {
    if (!apiData?.chart_data) {
      console.log("No chart data available, using mock data");
      return this.generateMockHealthPerformanceData();
    }
    const chartData = apiData.chart_data;
    console.log("Processing health performance data:", chartData);
    const formattedLabels = (chartData.dates || []).map((dateStr) => {
      if (dateStr && dateStr.includes("-")) {
        const [year, month] = dateStr.split("-");
        const date = new Date(parseInt(year), parseInt(month) - 1);
        return date.toLocaleDateString("en-US", { month: "short", year: "2-digit" });
      }
      return dateStr;
    });
    return {
      labels: formattedLabels,
      healthScores: chartData.health_scores || [],
      performanceScores: chartData.performance_scores || [],
      maintenanceCounts: chartData.maintenance_counts || [],
      metrics: chartData.metrics || {}
    };
  }
  generateMockHealthPerformanceData() {
    const months = 12;
    const labels = [];
    const healthScores = [];
    const performanceScores = [];
    const maintenanceCounts = [];
    for (let i = 0; i < months; i++) {
      const date = /* @__PURE__ */ new Date();
      date.setMonth(date.getMonth() - (months - 1 - i));
      labels.push(date.toLocaleDateString("en-US", { month: "short", year: "2-digit" }));
      const baseHealth = 85;
      const decline = i * 2 + Math.random() * 5;
      healthScores.push(Math.max(60, Math.round(baseHealth - decline)));
      const basePerformance = 90;
      const variation = (Math.random() - 0.5) * 10;
      performanceScores.push(Math.max(75, Math.round(basePerformance + variation)));
      maintenanceCounts.push(Math.floor(Math.random() * 5) + 1);
    }
    return {
      labels,
      healthScores,
      performanceScores,
      maintenanceCounts,
      metrics: {
        average_health_score: Math.round(healthScores.reduce((a, b) => a + b, 0) / healthScores.length),
        average_performance_score: Math.round(performanceScores.reduce((a, b) => a + b, 0) / performanceScores.length),
        total_maintenance_count: maintenanceCounts.reduce((a, b) => a + b, 0),
        health_trend: healthScores[healthScores.length - 1] - healthScores[0],
        performance_trend: performanceScores[performanceScores.length - 1] - performanceScores[0]
      }
    };
  }
  refreshHealthPerformanceChart() {
    this.loadHealthPerformanceChart();
  }
  forceCreateHealthPerformanceChart() {
    console.log("Force creating health performance chart...");
    console.log("Current health performance chart data:", this.healthPerformanceChartData);
    if (!this.healthPerformanceChartData) {
      console.log("No data available, loading health performance chart...");
      this.loadHealthPerformanceChart();
      return;
    }
    this.createHealthPerformanceChart();
  }
  getHealthScoreColor(healthScore) {
    if (!healthScore)
      return "text-gray-400";
    if (healthScore >= 80)
      return "text-green-600";
    if (healthScore >= 60)
      return "text-yellow-600";
    if (healthScore >= 40)
      return "text-orange-600";
    return "text-red-600";
  }
  getHealthStatusColor(healthScore) {
    if (!healthScore)
      return "text-gray-600";
    if (healthScore >= 80)
      return "text-green-600";
    if (healthScore >= 60)
      return "text-yellow-600";
    if (healthScore >= 40)
      return "text-orange-600";
    return "text-red-600";
  }
  getHealthStatusText(healthScore) {
    if (!healthScore)
      return "Unknown";
    if (healthScore >= 80)
      return "Excellent";
    if (healthScore >= 60)
      return "Good";
    if (healthScore >= 40)
      return "Fair";
    return "Poor";
  }
  getAssetAge() {
    if (!this.asset?.purchase_date)
      return "Unknown";
    const purchaseDate = new Date(this.asset.purchase_date);
    const now = /* @__PURE__ */ new Date();
    const diffTime = Math.abs(now.getTime() - purchaseDate.getTime());
    const diffDays = Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
    if (diffDays < 365) {
      return `${Math.floor(diffDays / 30)} months`;
    } else {
      const years = Math.floor(diffDays / 365);
      return `${years} year${years > 1 ? "s" : ""}`;
    }
  }
  getUtilizationRate() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 95;
    if (healthScore >= 60)
      return 85;
    if (healthScore >= 40)
      return 70;
    return 50;
  }
  getUptimePercentage() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 99.5;
    if (healthScore >= 60)
      return 98;
    if (healthScore >= 40)
      return 95;
    return 90;
  }
  getMaintenanceFrequency() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Low";
    if (healthScore >= 60)
      return "Medium";
    if (healthScore >= 40)
      return "High";
    return "Very High";
  }
  getMaintenanceFrequencyPercentage() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return 20;
    if (healthScore >= 60)
      return 40;
    if (healthScore >= 40)
      return 60;
    return 80;
  }
  getCostEfficiency() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    const currentValue = this.calculateCurrentValue();
    if (purchasePrice === 0)
      return 85;
    const efficiency = currentValue / purchasePrice * 100;
    return Math.min(Math.max(efficiency, 0), 100);
  }
  formatCurrency(amount) {
    return amount.toLocaleString("en-US", {
      minimumFractionDigits: 0,
      maximumFractionDigits: 2
    });
  }
  calculateCurrentValue() {
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    const depreciation = this.calculateDepreciation();
    return Math.round(Math.max(purchasePrice - depreciation, 0) * 100) / 100;
  }
  getROIColor(roi) {
    if (roi >= 0)
      return "text-green-600";
    return "text-red-600";
  }
  getPerformanceTrend() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Improving";
    if (healthScore >= 60)
      return "Stable";
    if (healthScore >= 40)
      return "Declining";
    return "Critical";
  }
  getCostEfficiencyTrend() {
    const efficiency = this.getCostEfficiency();
    if (efficiency >= 80)
      return "Optimal";
    if (efficiency >= 60)
      return "Good";
    if (efficiency >= 40)
      return "Fair";
    return "Poor";
  }
  getMaintenanceTrend() {
    const healthScore = this.asset?.health_score || 0;
    if (healthScore >= 80)
      return "Low";
    if (healthScore >= 60)
      return "Stable";
    if (healthScore >= 40)
      return "Increasing";
    return "High";
  }
  getTrendColor(trend) {
    switch (trend.toLowerCase()) {
      case "improving":
      case "optimal":
      case "low":
        return "text-green-600";
      case "stable":
      case "good":
        return "text-blue-600";
      case "declining":
      case "fair":
      case "increasing":
        return "text-yellow-600";
      case "critical":
      case "poor":
      case "high":
        return "text-red-600";
      default:
        return "text-gray-600";
    }
  }
  getTrendIcon(trend) {
    switch (trend.toLowerCase()) {
      case "improving":
      case "optimal":
        return "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6";
      case "declining":
      case "critical":
        return "M13 17h8m0 0v-8m0 8l-8-8-4 4-6-6";
      case "stable":
      case "good":
      case "fair":
      case "low":
      case "increasing":
      case "high":
      default:
        return "M20 12H4";
    }
  }
  getFinancialAlerts() {
    const alerts = [];
    const healthScore = this.asset?.health_score || 0;
    const currentValue = this.calculateCurrentValue();
    const purchasePrice = parseFloat(this.asset?.purchase_price) || 0;
    if (healthScore < 40) {
      alerts.push({
        message: "Asset health is critical - consider replacement",
        class: "bg-red-50 text-red-700"
      });
    }
    if (currentValue < purchasePrice * 0.3) {
      alerts.push({
        message: "Asset value has depreciated significantly",
        class: "bg-orange-50 text-orange-700"
      });
    }
    if (this.asset?.warranty === "None" || !this.asset?.warranty) {
      alerts.push({
        message: "No warranty coverage - maintenance costs may increase",
        class: "bg-yellow-50 text-yellow-700"
      });
    }
    return alerts;
  }
  getPredictiveAlerts() {
    const alerts = [];
    const healthScore = this.asset?.health_score || 0;
    const age = this.getAssetAge();
    if (healthScore < 60) {
      alerts.push({
        title: "Maintenance Alert",
        message: "Schedule preventive maintenance within 30 days",
        class: "bg-orange-50 text-orange-700"
      });
    }
    if (healthScore < 40) {
      alerts.push({
        title: "Critical Alert",
        message: "Asset requires immediate attention",
        class: "bg-red-50 text-red-700"
      });
    }
    if (age.includes("year") && parseInt(age) > 5) {
      alerts.push({
        title: "Age Alert",
        message: "Asset is aging - consider replacement planning",
        class: "bg-blue-50 text-blue-700"
      });
    }
    return alerts;
  }
  // Document management methods
  uploadDocument() {
    console.log("Upload document");
  }
  downloadDocument(documentId) {
    console.log("Download document:", documentId);
  }
  // Comparison methods
  compareWithSimilar() {
    console.log("Compare with similar assets");
  }
  // Deep linking methods
  scrollToSection(sectionId) {
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({ behavior: "smooth" });
    }
  }
  // Export methods
  exportFinancialData() {
    console.log("Export financial data");
  }
  exportMaintenanceHistory() {
    console.log("Export maintenance history");
  }
  // Predictive maintenance methods
  generateMaintenanceRecommendations() {
    console.log("Generate maintenance recommendations");
  }
  // Cost tracking methods
  addMaintenanceCost() {
    console.log("Add maintenance cost");
  }
  viewCostHistory() {
    console.log("View cost history");
  }
  getWarrantyStatus(warrantyDate) {
    if (!warrantyDate)
      return "No warranty";
    const today = /* @__PURE__ */ new Date();
    const warranty = new Date(warrantyDate);
    if (warranty < today) {
      return "Expired";
    } else {
      const daysLeft = Math.ceil((warranty.getTime() - today.getTime()) / (1e3 * 60 * 60 * 24));
      if (daysLeft <= 30) {
        return `Expires in ${daysLeft} days`;
      } else {
        return "Active";
      }
    }
  }
  getWarrantyStatusClass(warrantyDate) {
    const status = this.getWarrantyStatus(warrantyDate);
    if (status === "Expired")
      return "text-red-600 font-medium";
    if (status.includes("Expires in"))
      return "text-orange-600 font-medium";
    if (status === "Active")
      return "text-green-600 font-medium";
    return "text-gray-500";
  }
  // Image gallery methods
  selectImage(index2) {
    if (this.asset.images && index2 >= 0 && index2 < this.asset.images.length) {
      this.currentImageIndex = index2;
      this.selectedImageUrl = this.asset.images[index2].image_url;
    }
  }
  previousImage() {
    if (this.asset.images && this.asset.images.length > 1) {
      const newIndex = this.currentImageIndex > 0 ? this.currentImageIndex - 1 : this.asset.images.length - 1;
      this.selectImage(newIndex);
    }
  }
  nextImage() {
    if (this.asset.images && this.asset.images.length > 1) {
      const newIndex = this.currentImageIndex < this.asset.images.length - 1 ? this.currentImageIndex + 1 : 0;
      this.selectImage(newIndex);
    }
  }
  // Copy to clipboard methods
  copyAssetId() {
    const assetId = this.asset?.asset_id || this.asset?.id;
    if (assetId) {
      navigator.clipboard.writeText(assetId.toString()).then(() => {
        console.log("Asset ID copied to clipboard");
      }).catch((err) => {
        console.error("Failed to copy asset ID:", err);
      });
    }
  }
  copySerialNumber() {
    if (this.asset?.serial_number) {
      navigator.clipboard.writeText(this.asset.serial_number).then(() => {
        console.log("Serial number copied to clipboard");
      }).catch((err) => {
        console.error("Failed to copy serial number:", err);
      });
    }
  }
  // Financial calculation methods
  calculateDepreciation() {
    if (!this.asset?.purchase_price)
      return 0;
    const currentValue = this.asset.current_value || this.asset.purchase_price;
    return Math.round((this.asset.purchase_price - currentValue) * 100) / 100;
  }
  calculateDepreciationRate() {
    const usefulLife = this.asset?.depreciation || 10;
    return Math.round(1 / usefulLife * 100);
  }
  // Asset Depreciation Chart Methods
  getMaxDepreciationValue() {
    return this.asset?.purchase_price || 1e4;
  }
  getDepreciationPath() {
    const maxValue = this.getMaxDepreciationValue();
    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : /* @__PURE__ */ new Date();
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const points = [];
    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    for (let i = 0; i <= 12; i++) {
      const days = totalDays * i / 12;
      const date = new Date(purchaseDate.getTime() + days * 24 * 60 * 60 * 1e3);
      const yearsElapsed = (date.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24 * 365.25);
      const annualDepreciation = maxValue / usefulLife;
      const totalDepreciation = Math.min(annualDepreciation * yearsElapsed, maxValue);
      const currentValue = Math.max(0, maxValue - totalDepreciation);
      const x = i / 12 * 100;
      const y = 100 - currentValue / maxValue * 100;
      points.push(`${x},${y}`);
    }
    return `M ${points.join(" L ")}`;
  }
  getCurrentPeriodX() {
    if (!this.asset?.purchase_date)
      return 0;
    const purchaseDate = new Date(this.asset.purchase_date);
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const totalDays = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    const elapsedDays = (currentDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24);
    return Math.min(100, Math.max(0, elapsedDays / totalDays * 100));
  }
  getCurrentPeriodY() {
    const currentValue = this.calculateCurrentValue();
    const maxValue = this.getMaxDepreciationValue();
    return 100 - currentValue / maxValue * 100;
  }
  getDepreciationDates() {
    const purchaseDate = this.asset?.purchase_date ? new Date(this.asset.purchase_date) : /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const endDate = new Date(purchaseDate.getTime() + usefulLife * 365.25 * 24 * 60 * 60 * 1e3);
    const dates = [];
    for (let i = 0; i <= 12; i++) {
      const days = (endDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24) * i / 12;
      dates.push(new Date(purchaseDate.getTime() + days * 24 * 60 * 60 * 1e3));
    }
    return dates;
  }
  calculateAnnualDepreciation() {
    const maxValue = this.getMaxDepreciationValue();
    const usefulLife = 10;
    return maxValue / usefulLife;
  }
  calculateRemainingYears() {
    if (!this.asset?.purchase_date)
      return 10;
    const purchaseDate = new Date(this.asset.purchase_date);
    const currentDate = /* @__PURE__ */ new Date();
    const usefulLife = 10;
    const yearsElapsed = (currentDate.getTime() - purchaseDate.getTime()) / (1e3 * 60 * 60 * 24 * 365.25);
    return Math.round(Math.max(0, usefulLife - yearsElapsed) * 100) / 100;
  }
  calculateTotalCostOfOwnership() {
    const purchasePrice = this.asset?.purchase_price || 0;
    const maintenanceCost = this.asset?.total_maintenance_cost || 0;
    const operatingCost = this.asset?.operating_cost || 0;
    return purchasePrice + maintenanceCost + operatingCost;
  }
  calculateROI() {
    const totalCost = this.calculateTotalCostOfOwnership();
    const currentValue = this.asset?.current_value || this.asset?.purchase_price || 0;
    if (totalCost === 0)
      return 0;
    return Math.round((currentValue - totalCost) / totalCost * 100);
  }
  // Quick action methods
  createWorkOrder() {
    console.log("Create work order for asset:", this.asset?.id);
  }
  transferAsset() {
    this.showTransferModal = true;
  }
  onTransferComplete(response) {
    console.log("Transfer completed:", response);
    if (this.asset?.id) {
      this.loadAsset(this.asset.id.toString());
    }
  }
  onTransferModalClose() {
    this.showTransferModal = false;
  }
  duplicateAsset() {
    if (this.asset) {
      this.router.navigate(["/assets/create"], {
        queryParams: {
          duplicate: true,
          sourceId: this.asset.id
        }
      });
    }
  }
  onImageError(event) {
    console.warn("Asset image failed to load:", event.target.src);
    event.target.onerror = null;
    event.target.src = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=";
  }
  onCategoryIconError(event, category) {
    if (category) {
      category.iconError = true;
    }
  }
  downloadQRCode() {
    if (this.qrCodeDataUrl) {
      const link = document.createElement("a");
      link.href = this.qrCodeDataUrl;
      link.download = `asset-${this.asset.id}-qr.png`;
      link.click();
    } else if (this.asset?.qr_code_url) {
      const link = document.createElement("a");
      link.href = this.asset.qr_code_url;
      link.download = `asset-${this.asset.id}-qr.png`;
      link.click();
    } else {
      this.generateQRCode();
    }
  }
  downloadBarcode() {
    if (this.asset?.barcode_url) {
      const link = document.createElement("a");
      link.href = this.asset.barcode_url;
      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;
      link.click();
    } else if (this.barcodeDataUrl) {
      const link = document.createElement("a");
      link.href = this.barcodeDataUrl;
      link.download = `asset-${this.asset.asset_id || this.asset.id}-barcode.png`;
      link.click();
    } else {
      this.generateBarcode();
    }
  }
  generateQRCode() {
    if (!this.asset)
      return;
    this.qrCodeLoading = true;
    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
    QRCode2.toDataURL(publicUrl, {
      width: 300,
      margin: 2,
      color: {
        dark: "#000000",
        light: "#FFFFFF"
      }
    }).then((dataUrl) => {
      this.qrCodeDataUrl = dataUrl;
      this.qrCodeLoading = false;
    }).catch((error) => {
      console.error("Error generating QR code:", error);
      this.qrCodeLoading = false;
    });
  }
  generateBarcode() {
    if (!this.asset?.asset_id)
      return;
    this.barcodeLoading = true;
    const assetId = this.asset.asset_id;
    const barcodeUrl = `https://quickchart.io/barcode?c=${encodeURIComponent(assetId)}&chs=300x100&chld=L%7C0&choe=UTF-8`;
    fetch(barcodeUrl).then((response) => response.blob()).then((blob) => {
      const reader = new FileReader();
      reader.onloadend = () => {
        this.barcodeDataUrl = reader.result;
        this.barcodeLoading = false;
      };
      reader.readAsDataURL(blob);
    }).catch((error) => {
      console.error("Error generating barcode:", error);
      this.barcodeLoading = false;
    });
  }
  copyQRCodeUrl() {
    if (this.asset?.qr_code_url) {
      navigator.clipboard.writeText(this.asset.qr_code_url).then(() => {
        console.log("QR code URL copied to clipboard");
      });
    }
  }
  copyPublicUrl() {
    const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
    navigator.clipboard.writeText(publicUrl).then(() => {
      console.log("Public URL copied to clipboard");
    });
  }
  get windowLocation() {
    return window.location.origin;
  }
  showFullActivityHistory() {
    this.loadFullActivityHistory();
    this.showActivityHistoryModal = true;
  }
  closeActivityHistoryModal() {
    this.showActivityHistoryModal = false;
    this.activityHistoryParams = {
      page: 1,
      per_page: 15,
      sort_by: "created_at",
      sort_dir: "desc",
      search: "",
      action: "",
      user_id: "",
      date_from: "",
      date_to: ""
    };
    this.activityHistoryPagination = null;
  }
  // Activity history pagination and filtering methods
  onActivityHistoryPageChange(page) {
    this.activityHistoryParams["page"] = page;
    this.loadFullActivityHistory();
  }
  onActivityHistorySearch(search) {
    this.activityHistoryParams["search"] = search;
    this.activityHistoryParams["page"] = 1;
    this.loadFullActivityHistory();
  }
  onActivityHistoryFilter(filterType, value) {
    this.activityHistoryParams[filterType] = value;
    this.activityHistoryParams["page"] = 1;
    this.loadFullActivityHistory();
  }
  onActivityHistorySort(sortBy, sortDir) {
    this.activityHistoryParams["sort_by"] = sortBy;
    this.activityHistoryParams["sort_dir"] = sortDir;
    this.loadFullActivityHistory();
  }
  clearActivityHistoryFilters() {
    this.activityHistoryParams = {
      page: 1,
      per_page: 15,
      sort_by: "created_at",
      sort_dir: "desc",
      search: "",
      action: "",
      user_id: "",
      date_from: "",
      date_to: ""
    };
    this.loadFullActivityHistory();
  }
  loadFullActivityHistory() {
    if (!this.asset?.id)
      return;
    this.activityHistoryLoading = true;
    this.activityHistoryError = "";
    this.assetService.getActivityHistory(this.asset.id, this.activityHistoryParams).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.fullActivityHistory = response.data.data || [];
          this.activityHistoryPagination = response.data;
        } else {
          this.activityHistoryError = response.message || "Failed to load full activity history";
        }
        this.activityHistoryLoading = false;
      },
      error: (error) => {
        this.activityHistoryError = error.error?.message || "An error occurred while loading full activity history";
        this.activityHistoryLoading = false;
      }
    });
  }
  viewFullImage(imageUrl) {
    window.open(imageUrl, "_blank");
  }
  // Helper methods for activity history data formatting
  formatActivityBeforeAfter(before, after) {
    if (!before && !after)
      return "";
    let changes = [];
    if (before && after) {
      const beforeKeys = Object.keys(before);
      const afterKeys = Object.keys(after);
      for (const key of afterKeys) {
        if (before[key] !== after[key]) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} \u2192 ${this.formatFieldValue(after[key])}`);
          }
        }
      }
    } else if (after) {
      const keyFields = ["name", "type", "status", "location_id", "department_id", "purchase_price"];
      for (const key of keyFields) {
        if (after[key] !== void 0 && after[key] !== null) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(after[key])}`);
          }
        }
      }
    } else if (before) {
      const keyFields = ["name", "type", "status"];
      for (const key of keyFields) {
        if (before[key] !== void 0 && before[key] !== null) {
          const fieldName = this.getFieldDisplayName(key);
          if (fieldName) {
            changes.push(`${fieldName}: ${this.formatFieldValue(before[key])} (deleted)`);
          }
        }
      }
    }
    return changes.length > 0 ? changes.join(", ") : "";
  }
  getFieldDisplayName(fieldKey) {
    const fieldMap = {
      "name": "Asset Name",
      "type": "Type",
      "model": "Model",
      "status": "Status",
      "description": "Description",
      "location_id": "Location",
      "department_id": "Department",
      "purchase_price": "Purchase Price",
      "purchase_date": "Purchase Date",
      "serial_number": "Serial Number",
      "asset_id": "Asset ID",
      "warranty": "Warranty",
      "insurance": "Insurance",
      "depreciation": "Depreciation",
      "health_score": "Health Score",
      "manufacturer": "Manufacturer",
      "category_id": "Category"
    };
    return fieldMap[fieldKey] || fieldKey.replace(/_/g, " ").replace(/\b\w/g, (l) => l.toUpperCase());
  }
  formatFieldValue(value) {
    if (value === null || value === void 0)
      return "N/A";
    if (typeof value === "boolean")
      return value ? "Yes" : "No";
    if (typeof value === "number") {
      if (value.toString().includes(".")) {
        return `$${value.toFixed(2)}`;
      }
      return value.toString();
    }
    if (typeof value === "string") {
      if (value.match(/^\d{4}-\d{2}-\d{2}/)) {
        return new Date(value).toLocaleDateString();
      }
      return value;
    }
    return JSON.stringify(value);
  }
  getUserDisplayName(user) {
    if (!user)
      return "System";
    if (user.name)
      return user.name;
    if (user.email)
      return user.email.split("@")[0];
    return "Unknown User";
  }
  getActivityIcon(action) {
    const iconMap = {
      "created": "M12 6v6m0 0v6m0-6h6m-6 0H6",
      "updated": "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
      "deleted": "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
      "transferred": "M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",
      "maintenance": "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",
      "imported": "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"
    };
    return iconMap[action] || "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";
  }
  getActivityColor(action) {
    const colorMap = {
      "created": "bg-green-100 text-green-600",
      "updated": "bg-blue-100 text-blue-600",
      "deleted": "bg-red-100 text-red-600",
      "transferred": "bg-purple-100 text-purple-600",
      "maintenance": "bg-orange-100 text-orange-600",
      "imported": "bg-indigo-100 text-indigo-600"
    };
    return colorMap[action] || "bg-gray-100 text-gray-600";
  }
  sharePublicUrl() {
    if (this.asset?.id) {
      const publicUrl = `${window.location.origin}/public/asset/${this.asset.id}`;
      navigator.clipboard.writeText(publicUrl).then(() => {
        console.log("Public URL copied to clipboard:", publicUrl);
        alert("Public URL copied to clipboard!");
      }).catch((err) => {
        console.error("Failed to copy URL:", err);
        alert("Failed to copy URL to clipboard");
      });
    }
  }
  static \u0275fac = function AssetViewComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetViewComponent)(\u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Location), \u0275\u0275directiveInject(PdfExportService), \u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(ChangeDetectorRef));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetViewComponent, selectors: [["app-asset-view"]], viewQuery: function AssetViewComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c04, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, decls: 34, vars: 10, consts: [["noImages", ""], ["dateInput", ""], [1, "min-h-screen", "bg-gray-50", "asset-view-container"], [1, "bg-white", "border-b", "border-gray-200", "px-6", "py-4", "print-hide"], [1, "flex", "items-center", "justify-between"], [1, "flex", "items-center", "space-x-4"], ["aria-label", "Breadcrumb", 1, "flex"], [1, "flex", "items-center", "space-x-2"], ["routerLink", "/assets/list", 1, "text-gray-500", "hover:text-gray-700", "transition-colors"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "mx-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 5l7 7-7 7"], [1, "text-gray-900", "font-medium"], [1, "flex", "items-center", "space-x-3"], [1, "flex", "items-center", "space-x-2", "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"], [1, "relative", 3, "click"], [1, "flex", "items-center", "justify-center", "w-10", "h-10", "text-gray-600", "hover:bg-gray-100", "rounded-lg", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["cx", "12", "cy", "5", "r", "2"], ["cx", "12", "cy", "12", "r", "2"], ["cx", "12", "cy", "19", "r", "2"], ["class", "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50", 4, "ngIf"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], ["class", "px-6 py-6", 4, "ngIf"], ["class", "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4", 4, "ngIf"], ["class", "fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4", 4, "ngIf"], [3, "closeModal", "transferComplete", "isOpen", "asset"], [1, "absolute", "right-0", "mt-2", "w-48", "bg-white", "rounded-lg", "shadow-lg", "border", "border-gray-200", "py-2", "z-50"], [1, "w-full", "flex", "items-center", "space-x-3", "px-4", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-500"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"], [1, "text-gray-700"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"], [1, "border-t", "border-gray-100", "my-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "px-6", "py-6"], [1, "bg-white", "rounded-lg", "p-6", "mb-6", "shadow-sm", "border", "border-gray-200"], [1, "flex", "items-start", "justify-between", "mb-4"], [1, "w-16", "h-16", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], ["class", "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium", 3, "background-color", "color", 4, "ngIf"], [1, "text-gray-500"], [1, "text-right"], [1, "flex", "items-center", "space-x-2", "mb-2"], [1, "flex", "items-center", "space-x-1", "px-2", "py-1", "text-sm", "font-mono", "bg-gray-100", "rounded", "hover:bg-gray-200", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "grid", "grid-cols-1", "lg:grid-cols-3", "gap-6"], [1, "lg:col-span-2", "space-y-6"], [1, "bg-white", "rounded-lg", "p-6", "shadow-sm", "border", "border-gray-200"], [1, "flex", "items-center", "space-x-2", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "text-lg", "font-semibold", "text-gray-900"], [4, "ngIf", "ngIfElse"], [1, "flex", "items-center", "space-x-2", "mb-6"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "space-y-6"], [1, "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "relative"], [1, "text-gray-600", "leading-relaxed"], ["class", "text-blue-600 hover:text-blue-700 text-sm font-medium mt-2", 3, "click", 4, "ngIf"], [1, "w-8", "h-8", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], [1, "text-gray-900", "font-mono", "text-lg"], ["title", "Copy Asset ID", 1, "p-1", "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], ["class", "text-blue-600 hover:underline cursor-pointer", 3, "routerLink", 4, "ngIf"], [1, "text-gray-900"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"], [4, "ngIf"], [1, "bg-gray-50", "rounded-lg", "p-4", "flex", "flex-col", "items-center"], [1, "w-32", "h-32", "bg-white", "rounded-lg", "p-2", "shadow-sm", "border", "border-gray-200", "flex", "items-center", "justify-center"], ["alt", "QR Code", "class", "w-full h-full object-contain", 3, "src", 4, "ngIf"], ["class", "flex items-center justify-center", 4, "ngIf"], ["class", "text-center", 4, "ngIf"], ["class", "text-center text-gray-400", 4, "ngIf"], [1, "mt-3", "flex", "space-x-2"], ["class", "text-sm text-blue-600 hover:text-blue-700 font-medium", 3, "click", 4, "ngIf"], ["class", "text-sm text-green-600 hover:text-green-700 font-medium", 3, "click", 4, "ngIf"], [1, "mt-2", "text-xs", "text-gray-500", "text-center"], [1, "w-full", "bg-white", "rounded-lg", "p-2", "shadow-sm", "border", "border-gray-200", "flex", "items-center", "justify-center"], ["alt", "Barcode", "class", "w-full h-20 object-contain", 3, "src", 4, "ngIf"], ["class", "flex items-center justify-center py-4", 4, "ngIf"], ["class", "text-center py-4", 4, "ngIf"], ["class", "text-center text-gray-400 py-4", 4, "ngIf"], ["class", "mt-1 font-mono", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], [1, "space-y-4"], [1, "text-sm", "font-medium", "text-gray-700", "mb-1"], ["class", "mt-6 pt-6 border-t border-gray-200", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "mb-6"], [1, "w-8", "h-8", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-green-600", "hover:bg-green-50", "rounded-lg", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-blue-600", "hover:bg-blue-50", "rounded-lg", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], ["class", "grid grid-cols-1 md:grid-cols-3 gap-4 mb-6", 4, "ngIf"], [1, "text-sm", "font-medium", "text-gray-700"], ["class", "flex items-center justify-center h-64 bg-gray-50 rounded-lg", 4, "ngIf"], ["class", "flex items-center justify-center h-64 bg-red-50 rounded-lg", 4, "ngIf"], ["class", "relative h-64 bg-white border border-gray-200 rounded-lg p-4", 4, "ngIf"], ["class", "text-center text-xs text-gray-500", 4, "ngIf"], ["class", "grid grid-cols-1 md:grid-cols-2 gap-4 mt-4", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "w-8", "h-8", "bg-orange-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-orange-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"], [1, "flex", "items-center", "space-x-2", "px-3", "py-2", "text-orange-600", "hover:bg-orange-50", "rounded-lg", "transition-colors", 3, "click"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4", "mb-6"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "text-sm", "text-gray-600", "mb-1"], [1, "text-2xl", "font-bold", "text-gray-900"], [1, "bg-blue-50", "rounded-lg", "p-4"], [1, "text-2xl", "font-bold", "text-blue-600"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-4", "mt-4"], [1, "text-center", "p-3", "bg-gray-50", "rounded-lg"], [1, "text-sm", "text-gray-600"], ["class", "flex items-center justify-center py-8", 4, "ngIf"], ["class", "text-center py-8", 4, "ngIf"], ["class", "space-y-4", 4, "ngIf"], [1, "text-center", "mt-6"], [1, "text-blue-600", "hover:text-blue-700", "text-sm", "font-medium", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"], [1, "flex", "items-center", "space-x-2", "px-3", "py-1", "text-sm", "text-gray-600", "hover:text-gray-800", "border", "border-gray-300", "rounded-lg", "hover:bg-gray-50", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "space-y-3", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "grid", "grid-cols-1", "gap-4", "mb-6"], [1, "bg-green-50", "rounded-lg", "p-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], [1, "text-sm", "text-green-600"], [1, "font-semibold", "text-green-800"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], [1, "text-sm", "text-blue-600"], [1, "font-semibold", "text-blue-800"], [1, "bg-purple-50", "rounded-lg", "p-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], [1, "text-sm", "text-purple-600"], [1, "font-semibold", "text-purple-800"], ["class", "text-center py-6", 4, "ngIf"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "space-y-2"], [1, "text-xs", "text-gray-600"], [1, "text-sm", "text-gray-900"], [1, "bg-orange-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "space-x-2", "mt-1"], ["class", "text-xs text-gray-500", 4, "ngIf"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-sm", "font-medium"], [1, "mb-4"], [1, "relative", "bg-gray-100", "rounded-lg", "overflow-hidden", 2, "height", "400px"], [1, "w-full", "h-full", "object-contain", "bg-white", "cursor-pointer", 3, "click", "error", "src", "alt"], ["class", "absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all", 3, "click", 4, "ngIf"], ["class", "absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all", 3, "click", 4, "ngIf"], [1, "absolute", "bottom-4", "right-4", "bg-black", "bg-opacity-50", "text-white", "px-3", "py-1", "rounded-full", "text-sm"], ["class", "grid grid-cols-6 gap-2", 4, "ngIf"], [1, "absolute", "left-2", "top-1/2", "transform", "-translate-y-1/2", "w-10", "h-10", "bg-black", "bg-opacity-50", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-70", "transition-all", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "w-10", "h-10", "bg-black", "bg-opacity-50", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-70", "transition-all", 3, "click"], [1, "grid", "grid-cols-6", "gap-2"], ["class", "relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all", 3, "border-blue-500", "border-gray-200", "click", 4, "ngFor", "ngForOf"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "cursor-pointer", "border-2", "transition-all", 3, "click"], [1, "w-full", "h-full", "object-cover", 3, "error", "src", "alt"], [1, "text-center", "py-12", "bg-gray-50", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-gray-400", "mx-auto", "mb-4"], [1, "text-gray-600"], [1, "text-blue-600", "hover:text-blue-700", "text-sm", "font-medium", "mt-2", 3, "click"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "inline-flex", "items-center", "px-2", "py-1", "rounded-full", "text-sm", "font-medium"], [1, "text-blue-600", "hover:underline", "cursor-pointer", 3, "routerLink"], ["alt", "QR Code", 1, "w-full", "h-full", "object-contain", 3, "src"], [1, "flex", "items-center", "justify-center"], [1, "animate-spin", "rounded-full", "h-8", "w-8", "border-b-2", "border-blue-600"], ["fill", "currentColor", "viewBox", "0 0 24 24", 1, "w-24", "h-24", "text-gray-400"], ["d", "M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"], [1, "text-xs", "text-gray-500", "mt-2", "font-mono"], [1, "text-center", "text-gray-400"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-12", "h-12", "mx-auto"], [1, "text-xs", "mt-2"], [1, "text-sm", "text-blue-600", "hover:text-blue-700", "font-medium", 3, "click"], [1, "text-sm", "text-green-600", "hover:text-green-700", "font-medium", 3, "click"], ["alt", "Barcode", 1, "w-full", "h-20", "object-contain", 3, "src"], [1, "flex", "items-center", "justify-center", "py-4"], [1, "text-center", "py-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "text-gray-400", "mx-auto"], [1, "text-center", "text-gray-400", "py-4"], [1, "mt-1", "font-mono"], [1, "text-xs", "text-gray-500"], [1, "text-gray-900", "font-mono"], [1, "p-1", "text-gray-400", "hover:text-gray-600", "transition-colors", 3, "click"], [1, "mt-6", "pt-6", "border-t", "border-gray-200"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4"], ["class", "flex justify-between", 4, "ngFor", "ngForOf"], [1, "flex", "justify-between"], [1, "text-sm", "text-gray-900", "font-medium"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-4", "mb-6"], [1, "text-2xl", "font-bold", "text-green-600"], [1, "text-2xl", "font-bold", "text-orange-600"], [1, "flex", "items-center", "justify-center", "h-64", "bg-gray-50", "rounded-lg"], [1, "inline-flex", "items-center", "justify-center", "w-8", "h-8", "bg-green-100", "rounded-full", "mb-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-4", "h-4", "text-green-600"], [1, "flex", "items-center", "justify-center", "h-64", "bg-red-50", "rounded-lg"], [1, "text-red-600", "text-sm", "mb-2"], [1, "relative", "h-64", "bg-white", "border", "border-gray-200", "rounded-lg", "p-4"], ["id", "healthPerformanceChart", "width", "400", "height", "200"], [1, "text-center", "text-xs", "text-gray-500"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-4", "mt-4"], [1, "text-lg", "font-semibold", 3, "ngClass"], [1, "inline-flex", "items-center", "justify-center", "w-8", "h-8", "bg-blue-100", "rounded-full", "mb-2"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-4", "h-4", "text-blue-600"], ["id", "depreciationChart", "width", "400", "height", "200"], [1, "flex", "items-center", "justify-center", "py-8"], [1, "text-center", "py-8"], ["class", "flex items-start space-x-3", 4, "ngFor", "ngForOf"], [1, "flex", "items-start", "space-x-3"], [1, "w-8", "h-8", "rounded-full", "flex", "items-center", "justify-center", "flex-shrink-0", 3, "ngClass"], [1, "flex-1"], [1, "flex", "items-center", "justify-between", "mb-1"], [1, "font-medium", "text-gray-900", "capitalize"], ["class", "text-xs text-gray-500 bg-gray-50 p-2 rounded border", 4, "ngIf"], ["class", "text-xs text-gray-500 mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "bg-gray-50", "p-2", "rounded", "border"], [1, "text-xs", "text-gray-500", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-12", "h-12", "text-gray-400", "mx-auto", "mb-4"], ["class", "w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors", 3, "text-blue-600", "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-full", "flex", "items-center", "px-4", "py-2", "text-left", "hover:bg-gray-50", "transition-colors", 3, "click"], [1, "text-sm"], [1, "space-y-3"], ["class", "flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer", 3, "click", 4, "ngFor", "ngForOf"], [1, "flex", "items-center", "space-x-3", "p-3", "bg-gray-50", "rounded-lg", "hover:bg-gray-100", "transition-colors", "cursor-pointer", 3, "click"], [1, "w-12", "h-12", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center", "flex-shrink-0"], ["class", "w-full h-full object-cover rounded-lg", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-6 h-6 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "flex-1", "min-w-0"], [1, "font-medium", "text-gray-900", "truncate"], [1, "flex", "items-center", "space-x-2", "mb-1"], [1, "text-gray-400"], [1, "text-xs", "px-2", "py-1", "rounded-full", "font-medium", 3, "ngClass"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-gray-400", "flex-shrink-0"], [1, "w-full", "h-full", "object-cover", "rounded-lg", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], [1, "text-center", "py-6"], [1, "inline-flex", "items-center", "justify-center", "w-6", "h-6", "bg-blue-100", "rounded-full"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-3", "h-3", "text-blue-600"], ["class", "border border-gray-200 rounded-lg p-3", 4, "ngFor", "ngForOf"], [1, "border", "border-gray-200", "rounded-lg", "p-3"], [1, "flex", "items-center", "justify-between", "mb-2"], [1, "font-medium", "text-gray-900", "text-sm"], [1, "flex", "items-center", "space-x-1"], [1, "p-1", "text-gray-400", "hover:text-blue-600", "transition-colors", 3, "click"], [1, "p-1", "text-gray-400", "hover:text-red-600", "transition-colors", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"], [1, "space-y-1", "text-xs"], [1, "ml-1", "text-gray-900"], ["class", "mt-2 text-xs text-gray-600", 4, "ngIf"], [1, "mt-2", "text-xs", "text-gray-600"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-gray-400", "mx-auto", "mb-2"], [1, "text-sm", "font-medium", "text-gray-900", "mb-1"], [1, "text-xs", "text-gray-600", "mb-3"], [1, "px-3", "py-1", "bg-blue-600", "text-white", "rounded", "text-xs", "hover:bg-blue-700", "transition-colors", 3, "click"], [1, "fixed", "inset-0", "bg-black", "bg-opacity-50", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-lg", "max-w-md", "w-full", "p-6"], [1, "p-2", "hover:bg-gray-100", "rounded-lg", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [3, "ngSubmit", "formGroup"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], ["formControlName", "schedule_type", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", ""], ["value", "Preventive"], ["value", "Inspection"], ["value", "Calibration"], ["value", "Cleaning"], ["type", "text", "formControlName", "next_due", "placeholder", "Select date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["type", "text", "formControlName", "last_done", "placeholder", "Select date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["formControlName", "frequency", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", "Weekly"], ["value", "Monthly"], ["value", "Quarterly"], ["value", "Semi-Annual"], ["value", "Annual"], ["formControlName", "notes", "rows", "3", "placeholder", "Additional notes...", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], [1, "flex", "items-center", "justify-end", "space-x-3", "mt-6"], ["type", "button", 1, "px-4", "py-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], ["type", "submit", 1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "disabled:opacity-50", "transition-colors", 3, "disabled"], ["formControlName", "status", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500"], ["value", "Scheduled"], ["value", "In Progress"], ["value", "Completed"], ["value", "Overdue"], [1, "fixed", "inset-0", "bg-[#00000085]", "flex", "items-center", "justify-center", "z-50", "p-4"], [1, "bg-white", "rounded-lg", "max-w-4xl", "w-full", "max-h-[90vh]", "flex", "flex-col"], [1, "flex", "items-center", "justify-between", "p-6", "border-b", "border-gray-200"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-gray-600"], [1, "text-xl", "font-semibold", "text-gray-900"], [1, "flex-1", "overflow-auto", "p-6"], [1, "mb-6", "space-y-4"], [1, "flex", "space-x-4"], ["type", "text", "placeholder", "Search activities...", 1, "w-full", "px-4", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "input"], [1, "px-4", "py-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], [1, "grid", "grid-cols-1", "md:grid-cols-4", "gap-4"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-1"], [1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "change"], ["value", "created"], ["value", "updated"], ["value", "deleted"], ["value", "transferred"], ["value", "maintenance"], ["value", "imported"], ["type", "date", 1, "w-full", "px-3", "py-2", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", 3, "change"], ["value", "desc"], ["value", "asc"], ["class", "flex items-center justify-center py-12", 4, "ngIf"], ["class", "text-center py-12", 4, "ngIf"], ["class", "space-y-4 max-h-[60vh] overflow-y-auto", 4, "ngIf"], ["class", "mt-6 flex items-center justify-between", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "p-6", "border-t", "border-gray-200", "bg-gray-50"], [1, "px-4", "py-2", "bg-gray-600", "text-white", "rounded-lg", "hover:bg-gray-700", "transition-colors", 3, "click"], [1, "flex", "items-center", "justify-center", "py-12"], [1, "inline-flex", "items-center", "justify-center", "w-12", "h-12", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-6", "h-6", "text-blue-600"], [1, "text-center", "py-12"], [1, "text-red-600", "mb-4"], [1, "space-y-4", "max-h-[60vh]", "overflow-y-auto"], ["class", "flex items-start space-x-4 p-4 bg-gray-50 rounded-lg", 4, "ngFor", "ngForOf"], [1, "flex", "items-start", "space-x-4", "p-4", "bg-gray-50", "rounded-lg"], [1, "w-10", "h-10", "rounded-full", "flex", "items-center", "justify-center", "flex-shrink-0", 3, "ngClass"], [1, "font-semibold", "text-gray-900", "capitalize"], [1, "text-xs", "text-gray-500", "bg-white", "px-2", "py-1", "rounded-full"], [1, "text-sm", "text-gray-600", "mb-2"], ["class", "text-xs text-gray-500 bg-white p-3 rounded border", 4, "ngIf"], ["class", "text-xs text-gray-500 mt-2", 4, "ngIf"], [1, "text-xs", "text-gray-500", "bg-white", "p-3", "rounded", "border"], [1, "font-medium", "mb-1"], [1, "text-xs", "text-gray-500", "mt-2"], [1, "mt-6", "flex", "items-center", "justify-between"], [1, "flex", "space-x-2"], ["class", "px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors", 3, "click", 4, "ngIf"], [1, "px-3", "py-1", "text-sm", "border", "border-gray-300", "rounded", "hover:bg-gray-50", "transition-colors", 3, "click"]], template: function AssetViewComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "nav", 6)(5, "ol", 7)(6, "li")(7, "a", 8);
      \u0275\u0275text(8, "Assets");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(9, "li");
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(10, "svg", 9);
      \u0275\u0275element(11, "path", 10);
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(12, "li", 11);
      \u0275\u0275text(13);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275elementStart(14, "div", 12)(15, "button", 13);
      \u0275\u0275listener("click", function AssetViewComponent_Template_button_click_15_listener() {
        return ctx.editAsset();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(16, "svg", 14);
      \u0275\u0275element(17, "path", 15);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(18, "span");
      \u0275\u0275text(19, "Edit Asset");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(20, "div", 16);
      \u0275\u0275listener("click", function AssetViewComponent_Template_div_click_20_listener($event) {
        return $event.stopPropagation();
      });
      \u0275\u0275elementStart(21, "button", 17);
      \u0275\u0275listener("click", function AssetViewComponent_Template_button_click_21_listener() {
        return ctx.showActionsDropdown = !ctx.showActionsDropdown;
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(22, "svg", 18);
      \u0275\u0275element(23, "circle", 19)(24, "circle", 20)(25, "circle", 21);
      \u0275\u0275elementEnd()();
      \u0275\u0275template(26, AssetViewComponent_div_26_Template, 27, 0, "div", 22);
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(27, AssetViewComponent_div_27_Template, 10, 0, "div", 23)(28, AssetViewComponent_div_28_Template, 11, 1, "div", 23)(29, AssetViewComponent_div_29_Template, 451, 129, "div", 24)(30, AssetViewComponent_div_30_Template, 59, 2, "div", 25)(31, AssetViewComponent_div_31_Template, 71, 2, "div", 25)(32, AssetViewComponent_div_32_Template, 62, 5, "div", 26);
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(33, "app-transfer-asset-modal", 27);
      \u0275\u0275listener("closeModal", function AssetViewComponent_Template_app_transfer_asset_modal_closeModal_33_listener() {
        return ctx.onTransferModalClose();
      })("transferComplete", function AssetViewComponent_Template_app_transfer_asset_modal_transferComplete_33_listener($event) {
        return ctx.onTransferComplete($event);
      });
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(13);
      \u0275\u0275textInterpolate((ctx.asset == null ? null : ctx.asset.name) || "Asset Details");
      \u0275\u0275advance(13);
      \u0275\u0275property("ngIf", ctx.showActionsDropdown);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.asset && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showAddMaintenanceModal);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showEditMaintenanceModal);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.showActivityHistoryModal);
      \u0275\u0275advance();
      \u0275\u0275property("isOpen", ctx.showTransferModal)("asset", ctx.asset);
    }
  }, dependencies: [CommonModule, NgClass, NgForOf, NgIf, CurrencyPipe, DatePipe, KeyValuePipe, RouterModule, RouterLink, ReactiveFormsModule, \u0275NgNoValidate, NgSelectOption, \u0275NgSelectMultipleOption, DefaultValueAccessor, SelectControlValueAccessor, NgControlStatus, NgControlStatusGroup, FormGroupDirective, FormControlName, TransferAssetModalComponent], styles: ["\n\n.asset-header[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f8fafc 0%,\n      #f1f5f9 100%);\n}\n.asset-image-container[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #dbeafe 0%,\n      #bfdbfe 100%);\n  border-radius: 0.5rem;\n  min-height: 16rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.info-card[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.info-card[_ngcontent-%COMP%]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.health-score-bar[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      90deg,\n      #10b981 0%,\n      #059669 100%);\n  transition: width 0.3s ease-in-out;\n}\n.chart-placeholder[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 0.5rem;\n}\n.chart-placeholder[_ngcontent-%COMP%]:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.ai-button[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.ai-button[_ngcontent-%COMP%]:hover {\n  transform: scale(1.02);\n}\n.ai-button[_ngcontent-%COMP%]:active {\n  transform: scale(0.98);\n}\n.action-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.action-button[_ngcontent-%COMP%]:hover {\n  background-color: #f3f4f6;\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n}\n.status-badge[_ngcontent-%COMP%] {\n  font-weight: 600;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 9999px;\n}\n.section-icon[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.section-icon[_ngcontent-%COMP%]:hover {\n  transform: scale(1.1);\n}\n.empty-state[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 1rem;\n}\n.empty-state[_ngcontent-%COMP%]:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.loading-spinner[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\n}\n@keyframes _ngcontent-%COMP%_spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .grid-cols-2[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n  .lg\\:col-span-2[_ngcontent-%COMP%] {\n    grid-column: span 1;\n  }\n  .asset-header[_ngcontent-%COMP%] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  .action-buttons[_ngcontent-%COMP%] {\n    width: 100%;\n    justify-content: space-between;\n  }\n}\n@media print {\n  .bg-white.border-b[_ngcontent-%COMP%], \n   .flex.items-center.justify-between[_ngcontent-%COMP%], \n   .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%]:has(button), \n   button[_ngcontent-%COMP%], \n   .relative[_ngcontent-%COMP%], \n   .dropdown[_ngcontent-%COMP%], \n   .modal[_ngcontent-%COMP%], \n   .fixed[_ngcontent-%COMP%], \n   nav[_ngcontent-%COMP%], \n   .breadcrumb[_ngcontent-%COMP%], \n   .actions-dropdown[_ngcontent-%COMP%], \n   .quick-actions[_ngcontent-%COMP%], \n   .print-hide[_ngcontent-%COMP%] {\n    display: none !important;\n  }\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200[_ngcontent-%COMP%] {\n    border: 1px solid #ddd !important;\n    box-shadow: none !important;\n    margin-bottom: 20px !important;\n    page-break-inside: avoid;\n  }\n  .grid.grid-cols-1.lg\\\\[_ngcontent-%COMP%]:grid-cols-3 {\n    display: block !important;\n  }\n  .lg\\\\[_ngcontent-%COMP%]:col-span-2 {\n    width: 100% !important;\n  }\n  body[_ngcontent-%COMP%] {\n    margin: 0 !important;\n    padding: 20px !important;\n    background: white !important;\n  }\n  *[_ngcontent-%COMP%] {\n    color: black !important;\n    background: white !important;\n  }\n  .asset-image-container[_ngcontent-%COMP%] {\n    border: 1px solid #000 !important;\n    background: white !important;\n    max-width: 100% !important;\n  }\n  .qr-section[_ngcontent-%COMP%], \n   .barcode-section[_ngcontent-%COMP%] {\n    text-align: center !important;\n    page-break-inside: avoid;\n  }\n  table[_ngcontent-%COMP%] {\n    width: 100% !important;\n    border-collapse: collapse !important;\n  }\n  th[_ngcontent-%COMP%], \n   td[_ngcontent-%COMP%] {\n    border: 1px solid #ddd !important;\n    padding: 8px !important;\n  }\n  h1[_ngcontent-%COMP%], \n   h2[_ngcontent-%COMP%], \n   h3[_ngcontent-%COMP%], \n   h4[_ngcontent-%COMP%], \n   h5[_ngcontent-%COMP%], \n   h6[_ngcontent-%COMP%] {\n    color: black !important;\n    page-break-after: avoid;\n  }\n  .status-badge[_ngcontent-%COMP%] {\n    border: 1px solid #000 !important;\n    background: white !important;\n    color: black !important;\n  }\n}\nbutton[_ngcontent-%COMP%]:focus, \na[_ngcontent-%COMP%]:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n*[_ngcontent-%COMP%] {\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.asset-view[_ngcontent-%COMP%] {\n  scrollbar-width: thin;\n  scrollbar-color: #cbd5e1 #f1f5f9;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 6px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n.asset-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n.value-display[_ngcontent-%COMP%] {\n  font-variant-numeric: tabular-nums;\n}\n.section-header[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #f3f4f6;\n  padding-bottom: 0.75rem;\n  margin-bottom: 1rem;\n}\n.info-grid[_ngcontent-%COMP%] {\n  display: grid;\n  gap: 1.5rem;\n}\n@media (min-width: 768px) {\n  .info-grid[_ngcontent-%COMP%] {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n.ai-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #faf5ff 0%,\n      #f3e8ff 100%);\n  border: 1px solid #e9d5ff;\n}\n.financial-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #f0fdf4 0%,\n      #dcfce7 100%);\n  border: 1px solid #bbf7d0;\n}\n.technical-section[_ngcontent-%COMP%] {\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n  border: 1px solid #bfdbfe;\n}\n/*# sourceMappingURL=asset-view.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetViewComponent, [{
    type: Component,
    args: [{ selector: "app-asset-view", standalone: true, imports: [CommonModule, RouterModule, ReactiveFormsModule, TransferAssetModalComponent], template: `<!-- Asset View Page -->\r
<div class="min-h-screen bg-gray-50 asset-view-container">\r
  <!-- Header -->\r
  <div class="bg-white border-b border-gray-200 px-6 py-4 print-hide">\r
    <div class="flex items-center justify-between">\r
      <!-- Back Button and Breadcrumb -->\r
      <div class="flex items-center space-x-4">\r
        <!-- Breadcrumb -->\r
        <nav class="flex" aria-label="Breadcrumb">\r
          <ol class="flex items-center space-x-2">\r
            <li>\r
              <a routerLink="/assets/list" class="text-gray-500 hover:text-gray-700 transition-colors">Assets</a>\r
            </li>\r
            <li>\r
              <svg class="w-4 h-4 text-gray-400 mx-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
              </svg>\r
            </li>\r
            <li class="text-gray-900 font-medium">{{asset?.name || 'Asset Details'}}</li>\r
          </ol>\r
        </nav>\r
      </div>\r
\r
      <!-- Quick Actions -->\r
      <div class="flex items-center space-x-3">\r
        <button\r
          (click)="editAsset()"\r
          class="flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
          </svg>\r
          <span>Edit Asset</span>\r
        </button>\r
\r
        <!-- 3-Dot Menu -->\r
        <div class="relative" (click)="$event.stopPropagation()">\r
          <button\r
            (click)="showActionsDropdown = !showActionsDropdown"\r
            class="flex items-center justify-center w-10 h-10 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">\r
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <circle cx="12" cy="5" r="2" />\r
              <circle cx="12" cy="12" r="2" />\r
              <circle cx="12" cy="19" r="2" />\r
            </svg>\r
          </button>\r
\r
          <!-- Dropdown Menu -->\r
          <div *ngIf="showActionsDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">\r
            <button\r
              (click)="transferAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>\r
              </svg>\r
              <span class="text-gray-700">Transfer Asset</span>\r
            </button>\r
\r
            <button\r
              (click)="duplicateAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
              <span class="text-gray-700">Duplicate</span>\r
            </button>\r
\r
            <div class="border-t border-gray-100 my-2"></div>\r
\r
            <button\r
              (click)="printAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>\r
              </svg>\r
              <span class="text-gray-700">Print</span>\r
            </button>\r
\r
            <button\r
              (click)="exportAsset(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>\r
              </svg>\r
              <span class="text-gray-700">Export</span>\r
            </button>\r
\r
            <button\r
              (click)="sharePublicUrl(); showActionsDropdown = false"\r
              class="w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors">\r
              <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>\r
              </svg>\r
              <span class="text-gray-700">Share Public URL</span>\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Loading State -->\r
  <div *ngIf="loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
        <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Asset</h3>\r
      <p class="text-sm text-gray-500">Please wait while we fetch the asset details...</p>\r
    </div>\r
  </div>\r
\r
  <!-- Error State -->\r
  <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
    <div class="text-center">\r
      <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
        </svg>\r
      </div>\r
      <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Asset</h3>\r
      <p class="text-sm text-gray-500 mb-4">{{error}}</p>\r
      <button\r
        (click)="goBack()"\r
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
        Back to Assets\r
      </button>\r
    </div>\r
  </div>\r
\r
  <!-- Main Content -->\r
  <div *ngIf="asset && !loading" class="px-6 py-6">\r
    <!-- Asset Header -->\r
    <div class="bg-white rounded-lg p-6 mb-6 shadow-sm border border-gray-200">\r
      <div class="flex items-start justify-between mb-4">\r
        <div class="flex items-center space-x-4">\r
          <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center">\r
            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getAssetTypeIcon()"></path>\r
            </svg>\r
          </div>\r
          <div>\r
            <h1 class="text-3xl font-bold text-gray-900 mb-2">{{asset.name}}</h1>\r
            <div class="flex items-center space-x-4">\r
              <span\r
                *ngIf="asset.asset_status"\r
                [style.background-color]="asset.asset_status.color + '20'"\r
                [style.color]="asset.asset_status.color"\r
                class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium">\r
                {{asset.asset_status.name}}\r
              </span>\r
              <span class="text-gray-500">{{getAssetTypeName(asset.type)}}</span>\r
              <span class="text-gray-500">\u2022</span>\r
              <span class="text-gray-500">{{asset.category?.name || 'General'}}</span>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset ID with Copy -->\r
        <div class="text-right">\r
          <div class="flex items-center space-x-2 mb-2">\r
            <span class="text-sm text-gray-500">Asset ID:</span>\r
            <button\r
              (click)="copyAssetId()"\r
              class="flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors">\r
              <span>{{asset.asset_id || asset.id}}</span>\r
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
            </button>\r
          </div>\r
          <div *ngIf="asset.serial_number" class="flex items-center space-x-2">\r
            <span class="text-sm text-gray-500">Serial:</span>\r
            <button\r
              (click)="copySerialNumber()"\r
              class="flex items-center space-x-1 px-2 py-1 text-sm font-mono bg-gray-100 rounded hover:bg-gray-200 transition-colors">\r
              <span>{{asset.serial_number}}</span>\r
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
              </svg>\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
    </div>\r
\r
    <!-- Main Content Grid -->\r
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">\r
      <!-- Left Column -->\r
      <div class="lg:col-span-2 space-y-6">\r
        <!-- Image Gallery -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Asset Images</h2>\r
          </div>\r
\r
          <div *ngIf="asset.images && asset.images.length > 0; else noImages">\r
            <!-- Main Image Display -->\r
            <div class="mb-4">\r
              <div class="relative bg-gray-100 rounded-lg overflow-hidden" style="height: 400px;">\r
                <img\r
                  [src]="selectedImageUrl || asset.images[0].image_url"\r
                  [alt]="asset.name"\r
                  class="w-full h-full object-contain bg-white cursor-pointer"\r
                  (click)="viewFullImage(selectedImageUrl || asset.images[0].image_url)"\r
                  (error)="onImageError($event)">\r
\r
                <!-- Navigation Arrows -->\r
                <button\r
                  *ngIf="asset.images.length > 1"\r
                  (click)="previousImage()"\r
                  class="absolute left-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all">\r
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
                  </svg>\r
                </button>\r
\r
                <button\r
                  *ngIf="asset.images.length > 1"\r
                  (click)="nextImage()"\r
                  class="absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all">\r
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
                  </svg>\r
                </button>\r
\r
                <!-- Image Counter -->\r
                <div class="absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm">\r
                  {{currentImageIndex + 1}} / {{asset.images.length}}\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Thumbnail Gallery -->\r
            <div *ngIf="asset.images.length > 1" class="grid grid-cols-6 gap-2">\r
              <div\r
                *ngFor="let image of asset.images; let i = index"\r
                (click)="selectImage(i)"\r
                class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all"\r
                [class.border-blue-500]="i === currentImageIndex"\r
                [class.border-gray-200]="i !== currentImageIndex">\r
                <img\r
                  [src]="image.image_url"\r
                  [alt]="'Asset image ' + (i + 1)"\r
                  class="w-full h-full object-cover"\r
                  (error)="onImageError($event)">\r
              </div>\r
            </div>\r
          </div>\r
\r
          <ng-template #noImages>\r
            <div class="text-center py-12 bg-gray-50 rounded-lg">\r
              <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Images Available</h3>\r
              <p class="text-gray-600">No images have been uploaded for this asset.</p>\r
            </div>\r
          </ng-template>\r
        </div>\r
\r
        <!-- Basic Information -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-6">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Basic Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">\r
            <!-- Left Column -->\r
            <div class="space-y-6">\r
              <!-- Asset Name -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Asset Name</h4>\r
                <p class="text-lg font-semibold text-gray-900">{{asset?.name || 'Unnamed Asset'}}</p>\r
              </div>\r
\r
              <!-- Description -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Description</h4>\r
                <div class="relative">\r
                  <p class="text-gray-600 leading-relaxed" [class.line-clamp-3]="!descriptionExpanded">\r
                    {{asset?.description || 'No description available'}}\r
                  </p>\r
                  <button\r
                    *ngIf="asset?.description && asset.description.length > 150"\r
                    (click)="descriptionExpanded = !descriptionExpanded"\r
                    class="text-blue-600 hover:text-blue-700 text-sm font-medium mt-2">\r
                    {{descriptionExpanded ? 'Show Less' : 'Show More'}}\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <!-- Category with Icon -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Category</h4>\r
                <div class="flex items-center space-x-3">\r
                  <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">\r
                    <img\r
                      *ngIf="asset?.category?.icon && !asset.category.iconError"\r
                      [src]="asset.category.icon"\r
                      [alt]="asset.category.name"\r
                      class="w-5 h-5"\r
                      (error)="onCategoryIconError($event, asset.category)">\r
                    <svg\r
                      *ngIf="!asset?.category?.icon || asset.category.iconError"\r
                      class="w-5 h-5 text-blue-600"\r
                      fill="none"\r
                      stroke="currentColor"\r
                      viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                    </svg>\r
                  </div>\r
                  <span class="text-gray-900 font-medium">{{asset?.category?.name || 'Uncategorized'}}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Current Status with Badge -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Status</h4>\r
                <div *ngIf="asset.asset_status" class="flex items-center space-x-2">\r
                  <span\r
                    [style.background-color]="asset.asset_status.color + '20'"\r
                    [style.color]="asset.asset_status.color"\r
                    class="inline-flex items-center px-2 py-1 rounded-full text-sm font-medium">\r
                    {{asset.asset_status.name}}\r
                  </span>\r
                </div>\r
                <span *ngIf="!asset.asset_status" class="text-gray-900">Not specified</span>\r
              </div>\r
            </div>\r
\r
            <!-- Middle Column -->\r
            <div class="space-y-6">\r
              <!-- Asset ID/Barcode -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Asset ID</h4>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-gray-900 font-mono text-lg">{{asset?.asset_id || 'N/A'}}</span>\r
                  <button\r
                    (click)="copyAssetId()"\r
                    class="p-1 text-gray-400 hover:text-gray-600 transition-colors"\r
                    title="Copy Asset ID">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <!-- Location with Link -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Location</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                  </svg>\r
                  <a\r
                    *ngIf="asset?.location?.id"\r
                    [routerLink]="['/locations', asset.location.id]"\r
                    class="text-blue-600 hover:underline cursor-pointer">\r
                    {{asset.location.name}}\r
                  </a>\r
                  <span *ngIf="!asset?.location?.id" class="text-gray-900">{{asset?.location?.name || 'No location assigned'}}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Department -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Department</h4>\r
                <span class="text-gray-900">{{asset?.department?.name || 'Not assigned'}}</span>\r
              </div>\r
\r
              <!-- Creation Date -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Created</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
                  </svg>\r
                  <span class="text-gray-900">{{asset?.created_at | date:'MMM d, y'}}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Last Modified Date -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Last Modified</h4>\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                  </svg>\r
                  <span class="text-gray-900">{{asset?.updated_at | date:'MMM d, y'}}</span>\r
                </div>\r
              </div>\r
\r
              <!-- Parent Asset -->\r
              <div *ngIf="asset?.parent">\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Parent Asset</h4>\r
                <a [routerLink]="['/assets/preview', asset.parent.id]" class="text-blue-600 hover:underline cursor-pointer">\r
                  {{asset.parent.name}} ({{asset.parent.asset_id}})\r
                </a>\r
              </div>\r
            </div>\r
\r
            <!-- Right Column - QR Code and Barcode -->\r
            <div class="space-y-6">\r
              <!-- QR Code Display -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">QR Code</h4>\r
                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">\r
                  <div class="w-32 h-32 bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center">\r
                    <!-- Generated QR Code -->\r
                    <img *ngIf="qrCodeDataUrl" [src]="qrCodeDataUrl" alt="QR Code" class="w-full h-full object-contain">\r
                    \r
                    <!-- Server QR Code (fallback) -->\r
                    <img *ngIf="!qrCodeDataUrl && asset?.qr_code_url" [src]="asset.qr_code_url" alt="QR Code" class="w-full h-full object-contain">\r
                    \r
                    <!-- Loading state -->\r
                    <div *ngIf="qrCodeLoading" class="flex items-center justify-center">\r
                      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\r
                    </div>\r
                    \r
                    <!-- Default placeholder -->\r
                    <div *ngIf="!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && asset?.id" class="text-center">\r
                      <svg class="w-24 h-24 text-gray-400" fill="currentColor" viewBox="0 0 24 24">\r
                        <path d="M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 11h6v6H3v-6zm2 2v2h2v-2H5zm8 2h6v6h-6v-6zm2 2v2h2v-2h-2z"/>\r
                      </svg>\r
                      <p class="text-xs text-gray-500 mt-2 font-mono">{{asset.asset_id || asset.id}}</p>\r
                    </div>\r
                    \r
                    <!-- Error state -->\r
                    <div *ngIf="!qrCodeDataUrl && !asset?.qr_code_url && !qrCodeLoading && !asset?.id" class="text-center text-gray-400">\r
                      <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                      </svg>\r
                      <p class="text-xs mt-2">No Asset ID</p>\r
                    </div>\r
                  </div>\r
                  \r
                  <!-- QR Code Actions -->\r
                  <div class="mt-3 flex space-x-2">\r
                    <button\r
                      *ngIf="asset?.id"\r
                      (click)="downloadQRCode()"\r
                      class="text-sm text-blue-600 hover:text-blue-700 font-medium">\r
                      Download\r
                    </button>\r
                    <button\r
                      *ngIf="asset?.id"\r
                      (click)="copyPublicUrl()"\r
                      class="text-sm text-green-600 hover:text-green-700 font-medium">\r
                      Copy URL\r
                    </button>\r
                  </div>\r
                  \r
                  <!-- QR Code Information -->\r
                  <div class="mt-2 text-xs text-gray-500 text-center">\r
                    <p>Scan to access public page</p>\r
                  </div>\r
                </div>\r
              </div>\r
\r
              <!-- Barcode Display -->\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-2">Barcode</h4>\r
                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">\r
                  <div class="w-full bg-white rounded-lg p-2 shadow-sm border border-gray-200 flex items-center justify-center">\r
                    <!-- Server Barcode -->\r
                    <img *ngIf="asset?.barcode_url" [src]="asset.barcode_url" alt="Barcode" class="w-full h-20 object-contain">\r
                    \r
                    <!-- Generated Barcode (fallback) -->\r
                    <img *ngIf="!asset?.barcode_url && barcodeDataUrl" [src]="barcodeDataUrl" alt="Barcode" class="w-full h-20 object-contain">\r
                    \r
                    <!-- Loading state -->\r
                    <div *ngIf="barcodeLoading" class="flex items-center justify-center py-4">\r
                      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\r
                    </div>\r
                    \r
                    <!-- Default placeholder -->\r
                    <div *ngIf="!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && asset?.asset_id" class="text-center py-4">\r
                      <svg class="w-16 h-16 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
                      </svg>\r
                      <p class="text-xs text-gray-500 mt-2 font-mono">{{asset.asset_id}}</p>\r
                    </div>\r
                    \r
                    <!-- Error state -->\r
                    <div *ngIf="!asset?.barcode_url && !barcodeDataUrl && !barcodeLoading && !asset?.asset_id" class="text-center text-gray-400 py-4">\r
                      <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                      </svg>\r
                      <p class="text-xs mt-2">No Asset ID</p>\r
                    </div>\r
                  </div>\r
                  \r
                  <!-- Barcode Actions -->\r
                  <div class="mt-3 flex space-x-2">\r
                    <button\r
                      *ngIf="asset?.asset_id"\r
                      (click)="downloadBarcode()"\r
                      class="text-sm text-blue-600 hover:text-blue-700 font-medium">\r
                      Download\r
                    </button>\r
                    <button\r
                      *ngIf="asset?.asset_id"\r
                      (click)="copyAssetId()"\r
                      class="text-sm text-green-600 hover:text-green-700 font-medium">\r
                      Copy ID\r
                    </button>\r
                  </div>\r
                  \r
                  <!-- Barcode Information -->\r
                  <div class="mt-2 text-xs text-gray-500 text-center">\r
                    <p>Scan for asset identification</p>\r
                    <p *ngIf="asset?.asset_id" class="mt-1 font-mono">{{asset.asset_id}}</p>\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Technical Specifications -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Technical Specifications</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div class="space-y-4">\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Asset Status</h4>\r
                <div *ngIf="asset.asset_status" class="flex items-center space-x-2">\r
                  <span\r
                    [style.background-color]="asset.asset_status.color + '20'"\r
                    [style.color]="asset.asset_status.color"\r
                    class="inline-flex items-center px-2 py-1 rounded-full text-sm font-medium">\r
                    {{asset.asset_status.name}}\r
                  </span>\r
                  <span *ngIf="asset.asset_status.description" class="text-xs text-gray-500">\r
                    {{asset.asset_status.description}}\r
                  </span>\r
                </div>\r
                <span *ngIf="!asset.asset_status" class="text-gray-900">Not specified</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Manufacturer</h4>\r
                <span class="text-gray-900">{{asset.manufacturer || 'Not specified'}}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Model</h4>\r
                <span class="text-gray-900">{{asset.model || 'Not specified'}}</span>\r
              </div>\r
\r
              <div *ngIf="asset.serial_number">\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Serial Number</h4>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-gray-900 font-mono">{{asset.serial_number}}</span>\r
                  <button\r
                    (click)="copySerialNumber()"\r
                    class="p-1 text-gray-400 hover:text-gray-600 transition-colors">\r
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Brand</h4>\r
                <span class="text-gray-900">{{asset.brand || 'Not specified'}}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Capacity</h4>\r
                <span class="text-gray-900">{{asset.capacity || 'Not specified'}}</span>\r
              </div>\r
            </div>\r
\r
            <div class="space-y-4">\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Dimensions</h4>\r
                <span class="text-gray-900">{{asset.dimensions || 'Not specified'}}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Weight</h4>\r
                <span class="text-gray-900">{{asset.weight || 'Not specified'}}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Power Requirements</h4>\r
                <span class="text-gray-900">{{asset.power_requirements || 'Not specified'}}</span>\r
              </div>\r
\r
              <div>\r
                <h4 class="text-sm font-medium text-gray-700 mb-1">Operating Conditions</h4>\r
                <span class="text-gray-900">{{asset.operating_conditions || 'Standard conditions'}}</span>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Additional Specifications -->\r
          <div *ngIf="asset.specifications" class="mt-6 pt-6 border-t border-gray-200">\r
            <h4 class="text-sm font-medium text-gray-700 mb-3">Additional Specifications</h4>\r
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\r
              <div *ngFor="let spec of asset.specifications | keyvalue" class="flex justify-between">\r
                <span class="text-sm text-gray-600">{{spec.key}}:</span>\r
                <span class="text-sm text-gray-900 font-medium">{{spec.value}}</span>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Health & Performance Chart -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-6">\r
            <div class="flex items-center space-x-2">\r
              <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>\r
                </svg>\r
              </div>\r
              <h2 class="text-lg font-semibold text-gray-900">Health & Performance</h2>\r
            </div>\r
            <div class="flex items-center space-x-2">\r
              <button\r
                (click)="refreshHealthPerformanceChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span>Refresh</span>\r
              </button>\r
              <button\r
                (click)="forceCreateHealthPerformanceChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <span>Debug</span>\r
              </button>\r
            </div>\r
          </div>\r
\r
          <!-- Summary Metrics -->\r
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6" *ngIf="healthPerformanceChartData?.chart_data?.metrics">\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Average Health Score</div>\r
              <div class="text-2xl font-bold text-green-600">{{healthPerformanceChartData.chart_data.metrics.average_health_score}}%</div>\r
            </div>\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Average Performance</div>\r
              <div class="text-2xl font-bold text-blue-600">{{healthPerformanceChartData.chart_data.metrics.average_performance_score}}%</div>\r
            </div>\r
            <div class="bg-orange-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Total Maintenance</div>\r
              <div class="text-2xl font-bold text-orange-600">{{healthPerformanceChartData.chart_data.metrics.total_maintenance_count}}</div>\r
            </div>\r
          </div>\r
\r
          <!-- Health & Performance Chart -->\r
          <div class="space-y-4">\r
            <div class="text-center">\r
              <h3 class="text-sm font-medium text-gray-700">Health & Performance Timeline (Last 12 Months)</h3>\r
            </div>\r
            \r
            <!-- Loading State -->\r
            <div *ngIf="healthPerformanceChartLoading" class="flex items-center justify-center h-64 bg-gray-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="inline-flex items-center justify-center w-8 h-8 bg-green-100 rounded-full mb-2">\r
                  <svg class="animate-spin w-4 h-4 text-green-600" fill="none" viewBox="0 0 24 24">\r
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                  </svg>\r
                </div>\r
                <p class="text-sm text-gray-500">Loading health & performance data...</p>\r
              </div>\r
            </div>\r
\r
            <!-- Error State -->\r
            <div *ngIf="healthPerformanceChartError && !healthPerformanceChartLoading" class="flex items-center justify-center h-64 bg-red-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="text-red-600 text-sm mb-2">{{healthPerformanceChartError}}</div>\r
                <button\r
                  (click)="loadHealthPerformanceChart()"\r
                  class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
                  Try Again\r
                </button>\r
              </div>\r
            </div>\r
\r
            <!-- Chart Canvas -->\r
            <div *ngIf="!healthPerformanceChartLoading && !healthPerformanceChartError" class="relative h-64 bg-white border border-gray-200 rounded-lg p-4">\r
              <canvas id="healthPerformanceChart" width="400" height="200"></canvas>\r
            </div>\r
\r
            <!-- Chart Legend -->\r
            <div *ngIf="!healthPerformanceChartLoading && !healthPerformanceChartError" class="text-center text-xs text-gray-500">\r
              Green: Health Score | Blue: Performance Score | Orange: Maintenance Count\r
            </div>\r
\r
            <!-- Trend Indicators -->\r
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4" *ngIf="healthPerformanceChartData?.chart_data?.metrics">\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Health Trend</div>\r
                <div class="text-lg font-semibold" [ngClass]="healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? 'text-green-600' : 'text-red-600'">\r
                  {{healthPerformanceChartData.chart_data.metrics.health_trend >= 0 ? '+' : ''}}{{healthPerformanceChartData.chart_data.metrics.health_trend}}%\r
                </div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Performance Trend</div>\r
                <div class="text-lg font-semibold" [ngClass]="healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? 'text-green-600' : 'text-red-600'">\r
                  {{healthPerformanceChartData.chart_data.metrics.performance_trend >= 0 ? '+' : ''}}{{healthPerformanceChartData.chart_data.metrics.performance_trend}}%\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Depreciation Chart -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">\r
                <svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path>\r
                </svg>\r
              </div>\r
              <h2 class="text-lg font-semibold text-gray-900">Asset Depreciation</h2>\r
            </div>\r
            <div class="flex items-center space-x-2">\r
              <button\r
                (click)="refreshDepreciationChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <span>Refresh</span>\r
              </button>\r
              <button\r
                (click)="forceCreateChart()"\r
                class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <span>Debug</span>\r
              </button>\r
            </div>\r
          </div>\r
\r
          <!-- Summary Values -->\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Original Value</div>\r
              <div class="text-2xl font-bold text-gray-900">\${{formatCurrency(asset?.purchase_price || 0)}}</div>\r
            </div>\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="text-sm text-gray-600 mb-1">Current Value</div>\r
              <div class="text-2xl font-bold text-blue-600">\${{formatCurrency(calculateCurrentValue())}}</div>\r
            </div>\r
          </div>\r
\r
          <!-- Depreciation Chart -->\r
          <div class="space-y-4">\r
            <div class="text-center">\r
              <h3 class="text-sm font-medium text-gray-700">Depreciation Timeline (straight-line method)</h3>\r
            </div>\r
            \r
            <!-- Loading State -->\r
            <div *ngIf="depreciationChartLoading" class="flex items-center justify-center h-64 bg-gray-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                  <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                  </svg>\r
                </div>\r
                <p class="text-sm text-gray-500">Loading chart data...</p>\r
              </div>\r
            </div>\r
\r
            <!-- Error State -->\r
            <div *ngIf="depreciationChartError && !depreciationChartLoading" class="flex items-center justify-center h-64 bg-red-50 rounded-lg">\r
              <div class="text-center">\r
                <div class="text-red-600 text-sm mb-2">{{depreciationChartError}}</div>\r
                <button\r
                  (click)="loadDepreciationChart()"\r
                  class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
                  Try Again\r
                </button>\r
              </div>\r
            </div>\r
\r
            <!-- Chart Canvas -->\r
            <div *ngIf="!depreciationChartLoading && !depreciationChartError" class="relative h-64 bg-white border border-gray-200 rounded-lg p-4">\r
              <canvas id="depreciationChart" width="400" height="200"></canvas>\r
            </div>\r
\r
            <!-- Chart Legend -->\r
            <div *ngIf="!depreciationChartLoading && !depreciationChartError" class="text-center text-xs text-gray-500">\r
              Blue line: Asset Value | Red line: Accumulated Depreciation\r
            </div>\r
\r
            <!-- Depreciation Details -->\r
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Annual Depreciation</div>\r
                <div class="text-lg font-semibold text-gray-900">\${{formatCurrency(calculateAnnualDepreciation())}}</div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Depreciation Rate</div>\r
                <div class="text-lg font-semibold text-gray-900">{{calculateDepreciationRate()}}%</div>\r
              </div>\r
              <div class="text-center p-3 bg-gray-50 rounded-lg">\r
                <div class="text-sm text-gray-600">Years Remaining</div>\r
                <div class="text-lg font-semibold text-gray-900">{{calculateRemainingYears()}}</div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
      </div>\r
\r
\r
\r
      <!-- Right Column -->\r
      <div class="space-y-6">\r
\r
        <!-- Activity Timeline -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Recent Activity</h2>\r
          </div>\r
\r
          <!-- Loading State -->\r
          <div *ngIf="activityLoading" class="flex items-center justify-center py-8">\r
            <div class="text-center">\r
              <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                </svg>\r
              </div>\r
              <p class="text-sm text-gray-500">Loading activities...</p>\r
            </div>\r
          </div>\r
\r
          <!-- Error State -->\r
          <div *ngIf="activityError && !activityLoading" class="text-center py-8">\r
            <div class="text-red-600 text-sm mb-2">{{activityError}}</div>\r
            <button\r
              (click)="loadActivityHistory()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              Try Again\r
            </button>\r
          </div>\r
\r
          <!-- Activities List -->\r
          <div *ngIf="!activityLoading && !activityError" class="space-y-4">\r
            <div *ngFor="let activity of activities" class="flex items-start space-x-3">\r
              <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0" [ngClass]="getActivityColor(activity.action)">\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getActivityIcon(activity.action)"></path>\r
                </svg>\r
              </div>\r
              <div class="flex-1">\r
                <div class="flex items-center justify-between mb-1">\r
                  <h4 class="font-medium text-gray-900 capitalize">{{activity.action}}</h4>\r
                  <span class="text-xs text-gray-500">{{activity.time_ago}}</span>\r
                </div>\r
                <p class="text-sm text-gray-600 mb-1">{{activity.comment || 'No comment'}}</p>\r
                <div *ngIf="formatActivityBeforeAfter(activity.before, activity.after)" class="text-xs text-gray-500 bg-gray-50 p-2 rounded border">\r
                  {{formatActivityBeforeAfter(activity.before, activity.after)}}\r
                </div>\r
                <div *ngIf="activity.user" class="text-xs text-gray-500 mt-1">\r
                  <strong>By:</strong> {{getUserDisplayName(activity.user)}}\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- No Activities -->\r
            <div *ngIf="activities.length === 0" class="text-center py-8">\r
              <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Recent Activity</h3>\r
              <p class="text-gray-600">No activity has been recorded for this asset yet.</p>\r
            </div>\r
          </div>\r
\r
          <div class="text-center mt-6">\r
            <button\r
              (click)="showFullActivityHistory()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              View Full Activity History\r
            </button>\r
          </div>\r
        </div>\r
\r
        <!-- Related Assets -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>\r
              </svg>\r
              <h2 class="text-lg font-semibold text-gray-900">Related Assets</h2>\r
            </div>\r
            \r
            <!-- Filter Dropdown -->\r
            <div class="relative">\r
              <button\r
                (click)="showRelatedFilterDropdown = !showRelatedFilterDropdown"\r
                class="flex items-center space-x-2 px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">\r
                <span>{{getRelatedFilterDisplayName(selectedRelatedFilter)}}</span>\r
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                </svg>\r
              </button>\r
              \r
              <!-- Filter Options -->\r
              <div *ngIf="showRelatedFilterDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">\r
                <button\r
                  *ngFor="let filter of ['all', 'category', 'location', 'department', 'manufacturer', 'parent', 'children', 'siblings', 'similar']"\r
                  (click)="onRelatedFilterChange(filter); showRelatedFilterDropdown = false"\r
                  class="w-full flex items-center px-4 py-2 text-left hover:bg-gray-50 transition-colors"\r
                  [class.text-blue-600]="selectedRelatedFilter === filter"\r
                  [class.bg-blue-50]="selectedRelatedFilter === filter">\r
                  <span class="text-sm">{{getRelatedFilterDisplayName(filter)}}</span>\r
                </button>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Loading State -->\r
          <div *ngIf="relatedAssetsLoading" class="flex items-center justify-center py-8">\r
            <div class="text-center">\r
              <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2">\r
                <svg class="animate-spin w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
                </svg>\r
              </div>\r
              <p class="text-sm text-gray-500">Loading related assets...</p>\r
            </div>\r
          </div>\r
\r
          <!-- Error State -->\r
          <div *ngIf="relatedAssetsError && !relatedAssetsLoading" class="text-center py-8">\r
            <div class="text-red-600 text-sm mb-2">{{relatedAssetsError}}</div>\r
            <button\r
              (click)="loadRelatedAssets()"\r
              class="text-blue-600 hover:text-blue-700 text-sm font-medium">\r
              Try Again\r
            </button>\r
          </div>\r
\r
          <!-- Related Assets List -->\r
          <div *ngIf="!relatedAssetsLoading && !relatedAssetsError" class="space-y-3">\r
            <div *ngFor="let relatedAsset of relatedAssets" class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer"\r
                 (click)="navigateToRelatedAsset(relatedAsset.id)">\r
              <!-- Asset Image or Icon -->\r
              <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">\r
                <img *ngIf="relatedAsset.images && relatedAsset.images.length > 0" \r
                     [src]="relatedAsset.images[0].image_url" \r
                     [alt]="relatedAsset.name"\r
                     class="w-full h-full object-cover rounded-lg"\r
                     (error)="onImageError($event)">\r
                <svg *ngIf="!relatedAsset.images || relatedAsset.images.length === 0" \r
                     class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                </svg>\r
              </div>\r
              \r
              <!-- Asset Details -->\r
              <div class="flex-1 min-w-0">\r
                <div class="flex items-center justify-between mb-1">\r
                  <h4 class="font-medium text-gray-900 truncate">{{relatedAsset.name}}</h4>\r
                  <span class="text-xs text-gray-500">{{relatedAsset.asset_id}}</span>\r
                </div>\r
                <div class="flex items-center space-x-2 mb-1">\r
                  <span class="text-xs text-gray-600">{{relatedAsset.category?.name || 'General'}}</span>\r
                  <span class="text-gray-400">\u2022</span>\r
                  <span class="text-xs text-gray-600">{{relatedAsset.asset_type?.name || relatedAsset.type}}</span>\r
                </div>\r
                <div class="flex items-center space-x-2">\r
                  <span class="text-xs px-2 py-1 rounded-full font-medium" \r
                        [ngClass]="getRelatedAssetStatusColor(relatedAsset.asset_status || relatedAsset.status)">\r
                    {{relatedAsset.asset_status?.name || relatedAsset.status}}\r
                  </span>\r
                  <span *ngIf="relatedAsset.health_score" class="text-xs text-gray-500">\r
                    Health: {{relatedAsset.health_score}}%\r
                  </span>\r
                </div>\r
              </div>\r
              \r
              <!-- Arrow Icon -->\r
              <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>\r
              </svg>\r
            </div>\r
\r
            <!-- No Related Assets -->\r
            <div *ngIf="relatedAssets.length === 0" class="text-center py-8">\r
              <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
              </svg>\r
              <h3 class="text-lg font-medium text-gray-900 mb-2">No Related Assets</h3>\r
              <p class="text-gray-600">No related assets found for this item.</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Maintenance Schedule -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center justify-between mb-4">\r
            <div class="flex items-center space-x-2">\r
              <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
              <h2 class="text-lg font-semibold text-gray-900">Maintenance Schedule</h2>\r
            </div>\r
            <button\r
              (click)="addMaintenanceSchedule()"\r
              class="flex items-center space-x-2 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">\r
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
              </svg>\r
              <span>Add</span>\r
            </button>\r
          </div>\r
\r
          <!-- Maintenance Overview -->\r
          <div class="grid grid-cols-1 gap-4 mb-6">\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-green-600">Last Maintenance</div>\r
                  <div class="font-semibold text-green-800">{{mockMaintenanceData.lastMaintenance || 'Not recorded'}}</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-blue-600">Next Due</div>\r
                  <div class="font-semibold text-blue-800">{{mockMaintenanceData.nextMaintenance || 'Not scheduled'}}</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <div class="bg-purple-50 rounded-lg p-4">\r
              <div class="flex items-center space-x-2">\r
                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\r
                </svg>\r
                <div>\r
                  <div class="text-sm text-purple-600">Frequency</div>\r
                  <div class="font-semibold text-purple-800">{{mockMaintenanceData.interval}}</div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Maintenance Schedules List -->\r
          <div *ngIf="maintenanceLoading" class="text-center py-6">\r
            <div class="inline-flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full">\r
              <svg class="animate-spin w-3 h-3 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
            </div>\r
            <p class="text-xs text-gray-500 mt-1">Loading...</p>\r
          </div>\r
\r
          <div *ngIf="!maintenanceLoading && maintenanceSchedules.length > 0" class="space-y-3">\r
            <div *ngFor="let schedule of maintenanceSchedules" class="border border-gray-200 rounded-lg p-3">\r
              <div class="flex items-center justify-between mb-2">\r
                <h4 class="font-medium text-gray-900 text-sm">{{schedule.schedule_type}}</h4>\r
                <div class="flex items-center space-x-1">\r
                  <span [class]="'inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-' + getScheduleStatusColor(schedule.status) + '-100 text-' + getScheduleStatusColor(schedule.status) + '-800'">\r
                    {{schedule.status}}\r
                  </span>\r
                  <button\r
                    (click)="editMaintenanceSchedule(schedule)"\r
                    class="p-1 text-gray-400 hover:text-blue-600 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>\r
                    </svg>\r
                  </button>\r
                  <button\r
                    (click)="deleteMaintenanceSchedule(schedule)"\r
                    class="p-1 text-gray-400 hover:text-red-600 transition-colors">\r
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\r
                    </svg>\r
                  </button>\r
                </div>\r
              </div>\r
              <div class="space-y-1 text-xs">\r
                <div>\r
                  <span class="text-gray-600">Next Due:</span>\r
                  <span class="ml-1 text-gray-900">{{formatDate(schedule.next_due)}}</span>\r
                </div>\r
                <div>\r
                  <span class="text-gray-600">Frequency:</span>\r
                  <span class="ml-1 text-gray-900">{{schedule.frequency || 'Not specified'}}</span>\r
                </div>\r
              </div>\r
              <div *ngIf="schedule.notes" class="mt-2 text-xs text-gray-600">\r
                {{schedule.notes}}\r
              </div>\r
            </div>\r
          </div>\r
\r
          <div *ngIf="!maintenanceLoading && maintenanceSchedules.length === 0" class="text-center py-6">\r
            <svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
            </svg>\r
            <h3 class="text-sm font-medium text-gray-900 mb-1">No Maintenance Schedules</h3>\r
            <p class="text-xs text-gray-600 mb-3">Create maintenance schedules to track asset upkeep.</p>\r
            <button\r
              (click)="addMaintenanceSchedule()"\r
              class="px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors">\r
              Add First Schedule\r
            </button>\r
          </div>\r
        </div>\r
\r
        <!-- Financial Information -->\r
        <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">\r
          <div class="flex items-center space-x-2 mb-4">\r
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
            </svg>\r
            <h2 class="text-lg font-semibold text-gray-900">Financial Information</h2>\r
          </div>\r
\r
          <div class="space-y-4">\r
            <!-- Purchase Information -->\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Purchase Details</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Purchase Price</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{mockFinancialData.purchaseCost | currency:'USD':'symbol':'1.2-2'}}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Purchase Date</span>\r
                  <div class="text-sm text-gray-900">{{asset.purchase_date | date:'MMM d, y'}}</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Current Value -->\r
            <div class="bg-blue-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Current Value</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Book Value</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{mockFinancialData.currentValue | currency:'USD':'symbol':'1.2-2'}}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Market Value</span>\r
                  <div class="text-sm text-gray-900">{{mockFinancialData.currentValue * 0.95 | currency:'USD':'symbol':'1.2-2'}}</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Depreciation -->\r
            <div class="bg-orange-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Depreciation</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Method</span>\r
                  <div class="text-sm text-gray-900">{{mockFinancialData.depreciationMethod}}</div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Useful Life</span>\r
                  <div class="text-sm text-gray-900">{{mockFinancialData.usefulLife}} years</div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Annual Rate</span>\r
                  <div class="text-sm text-gray-900">{{calculateDepreciationRate()}}%</div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Performance Metrics -->\r
            <div class="bg-green-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Performance</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Total Cost of Ownership</span>\r
                  <div class="text-lg font-semibold text-gray-900">\r
                    {{calculateTotalCostOfOwnership() | currency:'USD':'symbol':'1.2-2'}}\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">ROI</span>\r
                  <div class="text-sm text-gray-900" [class.text-green-600]="calculateROI() > 0" [class.text-red-600]="calculateROI() < 0">\r
                    {{calculateROI()}}%\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
\r
            <!-- Warranty Information -->\r
            <div class="bg-purple-50 rounded-lg p-4">\r
              <h4 class="text-sm font-medium text-gray-700 mb-3">Warranty & Insurance</h4>\r
              <div class="space-y-2">\r
                <div>\r
                  <span class="text-xs text-gray-600">Warranty Status</span>\r
                  <div class="flex items-center space-x-2 mt-1">\r
                    <span [class]="getWarrantyStatusClass(asset.warranty)">\r
                      {{getWarrantyStatus(asset.warranty)}}\r
                    </span>\r
                    <span *ngIf="asset.warranty" class="text-xs text-gray-500">\r
                      (Expires: {{asset.warranty | date:'MMM d, y'}})\r
                    </span>\r
                  </div>\r
                </div>\r
                <div>\r
                  <span class="text-xs text-gray-600">Insurance Value</span>\r
                  <div class="text-sm text-gray-900">{{asset.insurance_value || 'Not specified'}}</div>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Maintenance Schedule Modals -->\r
  <!-- Add Maintenance Modal -->\r
  <div *ngIf="showAddMaintenanceModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-md w-full p-6">\r
      <div class="flex items-center justify-between mb-4">\r
        <h3 class="text-lg font-semibold text-gray-900">Add Maintenance Schedule</h3>\r
        <button\r
          (click)="closeMaintenanceModals()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <form [formGroup]="maintenanceForm" (ngSubmit)="saveMaintenanceSchedule()">\r
        <div class="space-y-4">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Schedule Type</label>\r
            <select formControlName="schedule_type" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select type</option>\r
              <option value="Preventive">Preventive Maintenance</option>\r
              <option value="Inspection">Inspection</option>\r
              <option value="Calibration">Calibration</option>\r
              <option value="Cleaning">Cleaning</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Next Due Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="next_due"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Done Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="last_done"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Frequency</label>\r
            <select formControlName="frequency" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select frequency</option>\r
              <option value="Weekly">Weekly</option>\r
              <option value="Monthly">Monthly</option>\r
              <option value="Quarterly">Quarterly</option>\r
              <option value="Semi-Annual">Semi-Annual</option>\r
              <option value="Annual">Annual</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Notes</label>\r
            <textarea\r
              formControlName="notes"\r
              rows="3"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Additional notes..."></textarea>\r
          </div>\r
        </div>\r
\r
        <div class="flex items-center justify-end space-x-3 mt-6">\r
          <button\r
            type="button"\r
            (click)="closeMaintenanceModals()"\r
            class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            [disabled]="maintenanceForm.invalid"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">\r
            Save Schedule\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
\r
  <!-- Edit Maintenance Modal -->\r
  <div *ngIf="showEditMaintenanceModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-md w-full p-6">\r
      <div class="flex items-center justify-between mb-4">\r
        <h3 class="text-lg font-semibold text-gray-900">Edit Maintenance Schedule</h3>\r
        <button\r
          (click)="closeMaintenanceModals()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <form [formGroup]="maintenanceForm" (ngSubmit)="saveMaintenanceSchedule()">\r
        <div class="space-y-4">\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Schedule Type</label>\r
            <select formControlName="schedule_type" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select type</option>\r
              <option value="Preventive">Preventive Maintenance</option>\r
              <option value="Inspection">Inspection</option>\r
              <option value="Calibration">Calibration</option>\r
              <option value="Cleaning">Cleaning</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Next Due Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="next_due"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Done Date</label>\r
            <input\r
              #dateInput\r
              type="text"\r
              formControlName="last_done"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Select date">\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Frequency</label>\r
            <select formControlName="frequency" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="">Select frequency</option>\r
              <option value="Weekly">Weekly</option>\r
              <option value="Monthly">Monthly</option>\r
              <option value="Quarterly">Quarterly</option>\r
              <option value="Semi-Annual">Semi-Annual</option>\r
              <option value="Annual">Annual</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
            <select formControlName="status" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">\r
              <option value="Scheduled">Scheduled</option>\r
              <option value="In Progress">In Progress</option>\r
              <option value="Completed">Completed</option>\r
              <option value="Overdue">Overdue</option>\r
            </select>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Notes</label>\r
            <textarea\r
              formControlName="notes"\r
              rows="3"\r
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
              placeholder="Additional notes..."></textarea>\r
          </div>\r
        </div>\r
\r
        <div class="flex items-center justify-end space-x-3 mt-6">\r
          <button\r
            type="button"\r
            (click)="closeMaintenanceModals()"\r
            class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">\r
            Cancel\r
          </button>\r
          <button\r
            type="submit"\r
            [disabled]="maintenanceForm.invalid"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">\r
            Update Schedule\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
\r
  <!-- Full Activity History Modal -->\r
  <div *ngIf="showActivityHistoryModal" class="fixed inset-0 bg-[#00000085] flex items-center justify-center z-50 p-4">\r
    <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col">\r
      <!-- Modal Header -->\r
      <div class="flex items-center justify-between p-6 border-b border-gray-200">\r
        <div class="flex items-center space-x-3">\r
          <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <h3 class="text-xl font-semibold text-gray-900">Full Activity History</h3>\r
        </div>\r
        <button\r
          (click)="closeActivityHistoryModal()"\r
          class="p-2 hover:bg-gray-100 rounded-lg transition-colors">\r
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
          </svg>\r
        </button>\r
      </div>\r
\r
      <!-- Modal Content with Scroll -->\r
      <div class="flex-1 overflow-auto p-6">\r
        <!-- Search and Filters -->\r
        <div class="mb-6 space-y-4">\r
          <!-- Search Bar -->\r
          <div class="flex space-x-4">\r
            <div class="flex-1">\r
              <input\r
                type="text"\r
                placeholder="Search activities..."\r
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (input)="onActivityHistorySearch($any($event.target).value)">\r
            </div>\r
            <button\r
              (click)="clearActivityHistoryFilters()"\r
              class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">\r
              Clear Filters\r
            </button>\r
          </div>\r
\r
          <!-- Filter Options -->\r
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Action Type</label>\r
              <select\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('action', $any($event.target).value)">\r
                <option value="">All Actions</option>\r
                <option value="created">Created</option>\r
                <option value="updated">Updated</option>\r
                <option value="deleted">Deleted</option>\r
                <option value="transferred">Transferred</option>\r
                <option value="maintenance">Maintenance</option>\r
                <option value="imported">Imported</option>\r
              </select>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Date From</label>\r
              <input\r
                type="date"\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('date_from', $any($event.target).value)">\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Date To</label>\r
              <input\r
                type="date"\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistoryFilter('date_to', $any($event.target).value)">\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-1">Sort By</label>\r
              <select\r
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"\r
                (change)="onActivityHistorySort('created_at', $any($event.target).value)">\r
                <option value="desc">Newest First</option>\r
                <option value="asc">Oldest First</option>\r
              </select>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Loading State -->\r
        <div *ngIf="activityHistoryLoading" class="flex items-center justify-center py-12">\r
          <div class="text-center">\r
            <div class="inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mb-4">\r
              <svg class="animate-spin w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
            </div>\r
            <p class="text-gray-500">Loading activity history...</p>\r
          </div>\r
        </div>\r
\r
        <!-- Error State -->\r
        <div *ngIf="activityHistoryError && !activityHistoryLoading" class="text-center py-12">\r
          <div class="text-red-600 mb-4">{{activityHistoryError}}</div>\r
          <button\r
            (click)="loadFullActivityHistory()"\r
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
            Try Again\r
          </button>\r
        </div>\r
\r
        <!-- Activities List -->\r
        <div *ngIf="!activityHistoryLoading && !activityHistoryError" class="space-y-4 max-h-[60vh] overflow-y-auto">\r
          <div *ngFor="let activity of fullActivityHistory" class="flex items-start space-x-4 p-4 bg-gray-50 rounded-lg">\r
            <div class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0" [ngClass]="getActivityColor(activity.action)">\r
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getActivityIcon(activity.action)"></path>\r
              </svg>\r
            </div>\r
            <div class="flex-1">\r
              <div class="flex items-center justify-between mb-2">\r
                <h4 class="font-semibold text-gray-900 capitalize">{{activity.action}}</h4>\r
                <span class="text-xs text-gray-500 bg-white px-2 py-1 rounded-full">{{activity.time_ago}}</span>\r
              </div>\r
              <p class="text-sm text-gray-600 mb-2">{{activity.comment || 'No comment'}}</p>\r
              <div *ngIf="formatActivityBeforeAfter(activity.before, activity.after)" class="text-xs text-gray-500 bg-white p-3 rounded border">\r
                <div class="font-medium mb-1">Changes:</div>\r
                <div class="text-gray-600">\r
                  {{formatActivityBeforeAfter(activity.before, activity.after)}}\r
                </div>\r
              </div>\r
              <div *ngIf="activity.user" class="text-xs text-gray-500 mt-2">\r
                <strong>By:</strong> {{getUserDisplayName(activity.user)}}\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- No Activities -->\r
          <div *ngIf="fullActivityHistory.length === 0" class="text-center py-12">\r
            <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
            <h3 class="text-lg font-medium text-gray-900 mb-2">No Activity Found</h3>\r
            <p class="text-gray-600">No activity matches your current filters.</p>\r
          </div>\r
        </div>\r
\r
        <!-- Pagination -->\r
        <div *ngIf="activityHistoryPagination && fullActivityHistory.length > 0" class="mt-6 flex items-center justify-between">\r
          <div class="text-sm text-gray-600">\r
            Showing {{activityHistoryPagination.from || 0}} to {{activityHistoryPagination.to || 0}} of {{activityHistoryPagination.total || 0}} activities\r
          </div>\r
          <div class="flex space-x-2">\r
            <button\r
              *ngIf="activityHistoryPagination.prev_page_url"\r
              (click)="onActivityHistoryPageChange(activityHistoryPagination.current_page - 1)"\r
              class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors">\r
              Previous\r
            </button>\r
            <button\r
              *ngIf="activityHistoryPagination.next_page_url"\r
              (click)="onActivityHistoryPageChange(activityHistoryPagination.current_page + 1)"\r
              class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 transition-colors">\r
              Next\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Modal Footer -->\r
      <div class="flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50">\r
        <div class="text-sm text-gray-600">\r
          Total Activities: {{activityHistoryPagination?.total || fullActivityHistory.length}}\r
        </div>\r
        <button\r
          (click)="closeActivityHistoryModal()"\r
          class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">\r
          Close\r
        </button>\r
      </div>\r
    </div>\r
  </div>\r
\r
  <!-- Transfer Asset Modal -->\r
  <app-transfer-asset-modal\r
    [isOpen]="showTransferModal"\r
    [asset]="asset"\r
    (closeModal)="onTransferModalClose()"\r
    (transferComplete)="onTransferComplete($event)"\r
  ></app-transfer-asset-modal>\r
</div>\r
`, styles: ["/* src/app/assets/components/asset-view/asset-view.component.scss */\n.asset-header {\n  background:\n    linear-gradient(\n      135deg,\n      #f8fafc 0%,\n      #f1f5f9 100%);\n}\n.asset-image-container {\n  background:\n    linear-gradient(\n      135deg,\n      #dbeafe 0%,\n      #bfdbfe 100%);\n  border-radius: 0.5rem;\n  min-height: 16rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.info-card {\n  transition: all 0.2s ease-in-out;\n}\n.info-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.health-score-bar {\n  background:\n    linear-gradient(\n      90deg,\n      #10b981 0%,\n      #059669 100%);\n  transition: width 0.3s ease-in-out;\n}\n.chart-placeholder {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 0.5rem;\n}\n.chart-placeholder:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.ai-button {\n  transition: all 0.15s ease-in-out;\n}\n.ai-button:hover {\n  transform: scale(1.02);\n}\n.ai-button:active {\n  transform: scale(0.98);\n}\n.action-button {\n  transition: all 0.2s ease-in-out;\n}\n.action-button:hover {\n  background-color: #f3f4f6;\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n  margin: -0.5rem -1rem;\n}\n.status-badge {\n  font-weight: 600;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 9999px;\n}\n.section-icon {\n  transition: all 0.2s ease-in-out;\n}\n.section-icon:hover {\n  transform: scale(1.1);\n}\n.empty-state {\n  background:\n    linear-gradient(\n      135deg,\n      #f9fafb 0%,\n      #f3f4f6 100%);\n  border: 2px dashed #d1d5db;\n  border-radius: 1rem;\n}\n.empty-state:hover {\n  border-color: #3b82f6;\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n}\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@media (max-width: 768px) {\n  .grid-cols-2 {\n    grid-template-columns: 1fr;\n  }\n  .lg\\:col-span-2 {\n    grid-column: span 1;\n  }\n  .asset-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n  .action-buttons {\n    width: 100%;\n    justify-content: space-between;\n  }\n}\n@media print {\n  .bg-white.border-b,\n  .flex.items-center.justify-between,\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200:has(button),\n  button,\n  .relative,\n  .dropdown,\n  .modal,\n  .fixed,\n  nav,\n  .breadcrumb,\n  .actions-dropdown,\n  .quick-actions,\n  .print-hide {\n    display: none !important;\n  }\n  .bg-white.rounded-lg.p-6.shadow-sm.border.border-gray-200 {\n    border: 1px solid #ddd !important;\n    box-shadow: none !important;\n    margin-bottom: 20px !important;\n    page-break-inside: avoid;\n  }\n  .grid.grid-cols-1.lg\\\\:grid-cols-3 {\n    display: block !important;\n  }\n  .lg\\\\:col-span-2 {\n    width: 100% !important;\n  }\n  body {\n    margin: 0 !important;\n    padding: 20px !important;\n    background: white !important;\n  }\n  * {\n    color: black !important;\n    background: white !important;\n  }\n  .asset-image-container {\n    border: 1px solid #000 !important;\n    background: white !important;\n    max-width: 100% !important;\n  }\n  .qr-section,\n  .barcode-section {\n    text-align: center !important;\n    page-break-inside: avoid;\n  }\n  table {\n    width: 100% !important;\n    border-collapse: collapse !important;\n  }\n  th,\n  td {\n    border: 1px solid #ddd !important;\n    padding: 8px !important;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: black !important;\n    page-break-after: avoid;\n  }\n  .status-badge {\n    border: 1px solid #000 !important;\n    background: white !important;\n    color: black !important;\n  }\n}\nbutton:focus,\na:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n* {\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.asset-view {\n  scrollbar-width: thin;\n  scrollbar-color: #cbd5e1 #f1f5f9;\n}\n.asset-view::-webkit-scrollbar {\n  width: 6px;\n}\n.asset-view::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n.asset-view::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n.asset-view::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n.value-display {\n  font-variant-numeric: tabular-nums;\n}\n.section-header {\n  border-bottom: 1px solid #f3f4f6;\n  padding-bottom: 0.75rem;\n  margin-bottom: 1rem;\n}\n.info-grid {\n  display: grid;\n  gap: 1.5rem;\n}\n@media (min-width: 768px) {\n  .info-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n.ai-section {\n  background:\n    linear-gradient(\n      135deg,\n      #faf5ff 0%,\n      #f3e8ff 100%);\n  border: 1px solid #e9d5ff;\n}\n.financial-section {\n  background:\n    linear-gradient(\n      135deg,\n      #f0fdf4 0%,\n      #dcfce7 100%);\n  border: 1px solid #bbf7d0;\n}\n.technical-section {\n  background:\n    linear-gradient(\n      135deg,\n      #eff6ff 0%,\n      #dbeafe 100%);\n  border: 1px solid #bfdbfe;\n}\n/*# sourceMappingURL=asset-view.component.css.map */\n"] }]
  }], () => [{ type: ActivatedRoute }, { type: Router }, { type: AssetService }, { type: Location }, { type: PdfExportService }, { type: FormBuilder }, { type: ChangeDetectorRef }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetViewComponent, { className: "AssetViewComponent", filePath: "src/app/assets/components/asset-view/asset-view.component.ts", lineNumber: 25 });
})();

// src/app/assets/components/asset-edit/asset-edit.component.ts
var _c05 = ["fileInput"];
var _c14 = ["dateInput"];
var _c22 = () => ({ standalone: true });
function AssetEditComponent_div_13_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 14)(1, "div", 15)(2, "div", 16);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 17);
    \u0275\u0275element(4, "circle", 18)(5, "path", 19);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "h3", 20);
    \u0275\u0275text(7, "Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "p", 21);
    \u0275\u0275text(9, "Please wait while we fetch the asset details...");
    \u0275\u0275elementEnd()()();
  }
}
function AssetEditComponent_div_14_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 14)(1, "div", 15)(2, "div", 22);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 23);
    \u0275\u0275element(4, "path", 24);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h3", 20);
    \u0275\u0275text(6, "Error Loading Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 25);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "button", 26);
    \u0275\u0275listener("click", function AssetEditComponent_div_14_Template_button_click_9_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(10, " Back to Assets ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.error);
  }
}
function AssetEditComponent_div_15_div_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 117);
    \u0275\u0275element(2, "path", 24);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.nameError, " ");
  }
}
function AssetEditComponent_div_15_span_34_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 94);
    \u0275\u0275text(1, "Select parent asset");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_span_35_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 118);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate2(" ", ctx_r1.getSelectedParent().name, " (", ctx_r1.getSelectedParent().asset_id, ") ");
  }
}
function AssetEditComponent_div_15_div_38_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_38_button_6_Template_button_click_0_listener() {
      let tmp_7_0;
      const parent_r6 = \u0275\u0275restoreView(_r5).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      (tmp_7_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_7_0.setValue(parent_r6.id);
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div", 124);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 125);
    \u0275\u0275element(4, "path", 66);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 126);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 127);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    let tmp_6_0;
    const parent_r6 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ((tmp_6_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_6_0.value) === parent_r6.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(parent_r6.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(parent_r6.asset_id);
  }
}
function AssetEditComponent_div_15_div_38_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select parent asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_38_Template_button_click_4_listener() {
      let tmp_5_0;
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext(2);
      (tmp_5_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_5_0.setValue(null);
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = false);
    });
    \u0275\u0275text(5, " -- None -- ");
    \u0275\u0275elementEnd();
    \u0275\u0275template(6, AssetEditComponent_div_15_div_38_button_6_Template, 10, 4, "button", 123);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    let tmp_4_0;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275classProp("bg-blue-50", !((tmp_4_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_4_0.value));
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.possibleParents);
  }
}
function AssetEditComponent_div_15_span_88_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 94);
    \u0275\u0275text(1, "Select asset type");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_89_img_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 131);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_89_img_2_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, ctx_r1.selectedAssetType));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275property("src", ctx_r1.selectedAssetType.icon, \u0275\u0275sanitizeUrl)("alt", ctx_r1.selectedAssetType.name || ctx_r1.selectedAssetType.label);
  }
}
function AssetEditComponent_div_15_div_89__svg_svg_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 132);
    \u0275\u0275element(1, "path", 133);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275styleProp("color", ctx_r1.selectedAssetType.color);
  }
}
function AssetEditComponent_div_15_div_89_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 40)(1, "div", 128);
    \u0275\u0275template(2, AssetEditComponent_div_15_div_89_img_2_Template, 1, 2, "img", 129)(3, AssetEditComponent_div_15_div_89__svg_svg_3_Template, 2, 2, "svg", 130);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "span", 118);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedAssetType.color + "20");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType.icon && !ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType.icon || ctx_r1.selectedAssetType.iconError);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedAssetType.label);
  }
}
function AssetEditComponent_div_15_div_92_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 138);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_92_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r10);
      const type_r9 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onAssetTypeIconError($event, type_r9));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const type_r9 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", type_r9.icon, \u0275\u0275sanitizeUrl)("alt", type_r9.name || type_r9.label);
  }
}
function AssetEditComponent_div_15_div_92_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 31);
    \u0275\u0275element(1, "path", 133);
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_92_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_92_button_4_Template_button_click_0_listener() {
      const type_r9 = \u0275\u0275restoreView(_r8).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectAssetType(type_r9));
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div", 135);
    \u0275\u0275template(3, AssetEditComponent_div_15_div_92_button_4_img_3_Template, 1, 2, "img", 136)(4, AssetEditComponent_div_15_div_92_button_4__svg_svg_4_Template, 2, 0, "svg", 137);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 126);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div", 21);
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const type_r9 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r9.id)("text-blue-700", (ctx_r1.selectedAssetType == null ? null : ctx_r1.selectedAssetType.id) === type_r9.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", type_r9.icon && !type_r9.iconError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !type_r9.icon || type_r9.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(type_r9.label || type_r9.name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(type_r9.description);
  }
}
function AssetEditComponent_div_15_div_92_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select asset type");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_92_button_4_Template, 10, 8, "button", 134);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.assetTypes);
  }
}
function AssetEditComponent_div_15_div_93_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 117);
    \u0275\u0275element(2, "path", 24);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.assetTypeError, " ");
  }
}
function AssetEditComponent_div_15_span_102_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 94);
    \u0275\u0275text(1, "Select category");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_span_103_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 118);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(ctx_r1.selectedCategory.name);
  }
}
function AssetEditComponent_div_15_div_106_button_4_img_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "img", 138);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_106_button_4_img_3_Template_img_error_0_listener($event) {
      \u0275\u0275restoreView(_r13);
      const cat_r12 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onCategoryIconError($event, cat_r12));
    });
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r12 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("src", cat_r12.icon, \u0275\u0275sanitizeUrl)("alt", cat_r12.name);
  }
}
function AssetEditComponent_div_15_div_106_button_4__svg_svg_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 125);
    \u0275\u0275element(1, "path", 66);
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_106_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 21);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const cat_r12 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(cat_r12.description);
  }
}
function AssetEditComponent_div_15_div_106_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_106_button_4_Template_button_click_0_listener() {
      const cat_r12 = \u0275\u0275restoreView(_r11).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectCategory(cat_r12));
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div", 124);
    \u0275\u0275template(3, AssetEditComponent_div_15_div_106_button_4_img_3_Template, 1, 2, "img", 136)(4, AssetEditComponent_div_15_div_106_button_4__svg_svg_4_Template, 2, 0, "svg", 139);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div")(6, "div", 126);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetEditComponent_div_15_div_106_button_4_div_8_Template, 2, 1, "div", 96);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const cat_r12 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r12.id)("text-blue-700", (ctx_r1.selectedCategory == null ? null : ctx_r1.selectedCategory.id) === cat_r12.id);
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", cat_r12.icon);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !cat_r12.icon || cat_r12.iconError);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(cat_r12.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", cat_r12.description);
  }
}
function AssetEditComponent_div_15_div_106_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select category");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_106_button_4_Template, 9, 8, "button", 134);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.categories);
  }
}
function AssetEditComponent_div_15_div_107_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 117);
    \u0275\u0275element(2, "path", 24);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.categoryError, " ");
  }
}
function AssetEditComponent_div_15_div_134_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 116);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 117);
    \u0275\u0275element(2, "path", 24);
    \u0275\u0275elementEnd();
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.serialNumberError, " ");
  }
}
function AssetEditComponent_div_15_span_203_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 94);
    \u0275\u0275text(1, "Select location");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_204_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 40)(1, "div", 140);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 141);
    \u0275\u0275element(3, "path", 90)(4, "path", 91);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "span", 118);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(ctx_r1.selectedLocation.name);
  }
}
function AssetEditComponent_div_15_div_207_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 21);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const loc_r15 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(loc_r15.type.name);
  }
}
function AssetEditComponent_div_15_div_207_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_207_button_4_Template_button_click_0_listener() {
      const loc_r15 = \u0275\u0275restoreView(_r14).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectLocation(loc_r15));
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div", 142);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 89);
    \u0275\u0275element(4, "path", 90)(5, "path", 91);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(6, "div")(7, "div", 126);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetEditComponent_div_15_div_207_button_4_div_9_Template, 2, 1, "div", 96);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const loc_r15 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r15.id)("text-blue-700", (ctx_r1.selectedLocation == null ? null : ctx_r1.selectedLocation.id) === loc_r15.id);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(loc_r15.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", loc_r15.type);
  }
}
function AssetEditComponent_div_15_div_207_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select location");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_207_button_4_Template, 10, 6, "button", 134);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.locations);
  }
}
function AssetEditComponent_div_15_span_214_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 94);
    \u0275\u0275text(1, "Select department");
    \u0275\u0275elementEnd();
  }
}
function AssetEditComponent_div_15_div_215_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 40)(1, "div", 143);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 144);
    \u0275\u0275element(3, "path", 145);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 118);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.selectedDepartment.name);
  }
}
function AssetEditComponent_div_15_div_218_button_4_div_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 21);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r17 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(dept_r17.description);
  }
}
function AssetEditComponent_div_15_div_218_button_4_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 148);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const dept_r17 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("Code: ", dept_r17.code, "");
  }
}
function AssetEditComponent_div_15_div_218_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_218_button_4_Template_button_click_0_listener() {
      const dept_r17 = \u0275\u0275restoreView(_r16).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectDepartment(dept_r17));
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div", 146);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 65);
    \u0275\u0275element(4, "path", 145);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "div")(6, "div", 126);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275template(8, AssetEditComponent_div_15_div_218_button_4_div_8_Template, 2, 1, "div", 96)(9, AssetEditComponent_div_15_div_218_button_4_div_9_Template, 2, 1, "div", 147);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const dept_r17 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r17.id)("text-blue-700", (ctx_r1.selectedDepartment == null ? null : ctx_r1.selectedDepartment.id) === dept_r17.id);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(dept_r17.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r17.description);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", dept_r17.code);
  }
}
function AssetEditComponent_div_15_div_218_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select department");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_218_button_4_Template, 10, 7, "button", 134);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.departments);
  }
}
function AssetEditComponent_div_15_div_227_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 40);
    \u0275\u0275element(1, "div", 149);
    \u0275\u0275elementStart(2, "span", 118);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", ctx_r1.selectedStatus.hexColor || "#6B7280");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(ctx_r1.selectedStatus.label);
  }
}
function AssetEditComponent_div_15_div_230_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_230_button_4_Template_button_click_0_listener() {
      const status_r19 = \u0275\u0275restoreView(_r18).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.selectStatus(status_r19));
    });
    \u0275\u0275elementStart(1, "div", 40)(2, "div");
    \u0275\u0275element(3, "div", 149);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div")(5, "div", 126);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div", 21);
    \u0275\u0275text(8);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const status_r19 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r19.value)("text-blue-700", (ctx_r1.selectedStatus == null ? null : ctx_r1.selectedStatus.value) === status_r19.value);
    \u0275\u0275advance(2);
    \u0275\u0275classMap("w-6 h-6 bg-" + status_r19.color + "-100 rounded-lg flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275styleProp("background-color", status_r19.hexColor || "#6B7280");
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(status_r19.label);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(status_r19.description);
  }
}
function AssetEditComponent_div_15_div_230_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 150)(1, "div", 120)(2, "div", 121);
    \u0275\u0275text(3, "Select status");
    \u0275\u0275elementEnd();
    \u0275\u0275template(4, AssetEditComponent_div_15_div_230_button_4_Template, 9, 10, "button", 134);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.statusOptions);
  }
}
function AssetEditComponent_div_15_div_236_span_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "span");
    \u0275\u0275text(1);
    \u0275\u0275elementStart(2, "button", 154);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_236_span_2_Template_button_click_2_listener() {
      const tag_r21 = \u0275\u0275restoreView(_r20).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeTag(tag_r21));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 155);
    \u0275\u0275element(4, "path", 156);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const tag_r21 = ctx.$implicit;
    \u0275\u0275classMap("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-" + tag_r21.color + "-100 text-" + tag_r21.color + "-800");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", tag_r21.name, " ");
  }
}
function AssetEditComponent_div_15_div_236_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 151)(1, "div", 152);
    \u0275\u0275template(2, AssetEditComponent_div_15_div_236_span_2_Template, 5, 3, "span", 153);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngForOf", ctx_r1.selectedTags);
  }
}
function AssetEditComponent_div_15_span_243_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 21);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length, " selected ");
  }
}
function AssetEditComponent_div_15_div_246_button_9_div_7_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 161);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 132);
    \u0275\u0275element(2, "path", 162);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_246_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 122);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_246_button_9_Template_button_click_0_listener() {
      const tag_r24 = \u0275\u0275restoreView(_r23).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.toggleTag(tag_r24));
    });
    \u0275\u0275elementStart(1, "div", 46)(2, "div", 40)(3, "div");
    \u0275\u0275element(4, "div");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "span", 126);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(7, AssetEditComponent_div_15_div_246_button_9_div_7_Template, 3, 0, "div", 160);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const tag_r24 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275classProp("bg-blue-50", ctx_r1.isTagSelected(tag_r24));
    \u0275\u0275advance(3);
    \u0275\u0275classMap("w-6 h-6 bg-" + tag_r24.color + "-100 rounded-full flex items-center justify-center");
    \u0275\u0275advance();
    \u0275\u0275classMap("w-3 h-3 rounded-full bg-" + tag_r24.color + "-500");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(tag_r24.name);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isTagSelected(tag_r24));
  }
}
function AssetEditComponent_div_15_div_246_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 119)(1, "div", 120)(2, "div", 157)(3, "div", 79)(4, "input", 158);
    \u0275\u0275twoWayListener("ngModelChange", function AssetEditComponent_div_15_div_246_Template_input_ngModelChange_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      \u0275\u0275twoWayBindingSet(ctx_r1.newTagInput, $event) || (ctx_r1.newTagInput = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("keydown", function AssetEditComponent_div_15_div_246_Template_input_keydown_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.onTagInputKeydown($event));
    })("click", function AssetEditComponent_div_15_div_246_Template_input_click_4_listener($event) {
      \u0275\u0275restoreView(_r22);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div", 159);
    \u0275\u0275text(6, " Press Enter ");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(7, "div", 121);
    \u0275\u0275text(8, "Select tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, AssetEditComponent_div_15_div_246_button_9_Template, 8, 8, "button", 123);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.newTagInput);
    \u0275\u0275property("ngModelOptions", \u0275\u0275pureFunction0(3, _c22));
    \u0275\u0275advance(5);
    \u0275\u0275property("ngForOf", ctx_r1.availableTags);
  }
}
function AssetEditComponent_div_15_div_270_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r26 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 172)(1, "div", 173)(2, "img", 174);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_270_div_7_Template_img_error_2_listener($event) {
      const i_r27 = \u0275\u0275restoreView(_r26).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, i_r27));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 175)(4, "div", 176)(5, "button", 177);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_div_7_Template_button_click_5_listener() {
      const existingImage_r28 = \u0275\u0275restoreView(_r26).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.viewFullImage(existingImage_r28.image_url));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(6, "svg", 132);
    \u0275\u0275element(7, "path", 178)(8, "path", 179);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(9, "button", 180);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_div_7_Template_button_click_9_listener() {
      const i_r27 = \u0275\u0275restoreView(_r26).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeExistingImage(i_r27));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(10, "svg", 132);
    \u0275\u0275element(11, "path", 156);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(12, "div", 181);
    \u0275\u0275text(13, " Existing ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(14, "div", 182)(15, "p", 183);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "p", 127);
    \u0275\u0275text(18, "Existing Image");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const existingImage_r28 = ctx.$implicit;
    const i_r27 = ctx.index;
    \u0275\u0275advance(2);
    \u0275\u0275property("src", existingImage_r28.image_url, \u0275\u0275sanitizeUrl)("alt", "Existing Asset Image " + (i_r27 + 1));
    \u0275\u0275advance(14);
    \u0275\u0275textInterpolate(existingImage_r28.image_path.split("/").pop());
  }
}
function AssetEditComponent_div_15_div_270_div_8_button_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r31 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_div_8_button_5_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r31);
      const i_r30 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.moveImageUp(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 132);
    \u0275\u0275element(2, "path", 188);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_270_div_8_button_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 177);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_div_8_button_6_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r32);
      const i_r30 = \u0275\u0275nextContext().index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.moveImageDown(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 132);
    \u0275\u0275element(2, "path", 50);
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_div_270_div_8_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 172)(1, "div", 173)(2, "img", 184);
    \u0275\u0275listener("error", function AssetEditComponent_div_15_div_270_div_8_Template_img_error_2_listener($event) {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageError($event, ctx_r1.existingImages.length + i_r30));
    })("load", function AssetEditComponent_div_15_div_270_div_8_Template_img_load_2_listener($event) {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.onImageLoad($event, ctx_r1.existingImages.length + i_r30));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 185)(4, "div", 176);
    \u0275\u0275template(5, AssetEditComponent_div_15_div_270_div_8_button_5_Template, 3, 0, "button", 186)(6, AssetEditComponent_div_15_div_270_div_8_button_6_Template, 3, 0, "button", 186);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(7, "button", 180);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_div_8_Template_button_click_7_listener() {
      const i_r30 = \u0275\u0275restoreView(_r29).index;
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.removeImage(i_r30));
    });
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(8, "svg", 132);
    \u0275\u0275element(9, "path", 156);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(10, "div", 187);
    \u0275\u0275text(11, " New ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(12, "div", 182)(13, "p", 183);
    \u0275\u0275text(14);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "p", 127);
    \u0275\u0275text(16);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    let tmp_12_0;
    const previewUrl_r33 = ctx.$implicit;
    const i_r30 = ctx.index;
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(2);
    \u0275\u0275property("src", previewUrl_r33, \u0275\u0275sanitizeUrl)("alt", "Asset Image " + (i_r30 + 1));
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", i_r30 > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", i_r30 < ctx_r1.imagePreviewUrls.length - 1);
    \u0275\u0275advance(8);
    \u0275\u0275textInterpolate(ctx_r1.images[i_r30] == null ? null : ctx_r1.images[i_r30].name);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", (((tmp_12_0 = ctx_r1.images[i_r30] == null ? null : ctx_r1.images[i_r30].size) !== null && tmp_12_0 !== void 0 ? tmp_12_0 : 0) / 1024 / 1024).toFixed(1), " MB");
  }
}
function AssetEditComponent_div_15_div_270_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 163)(1, "div", 164)(2, "h4", 165);
    \u0275\u0275text(3);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "button", 166);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_div_270_Template_button_click_4_listener() {
      \u0275\u0275restoreView(_r25);
      const ctx_r1 = \u0275\u0275nextContext(2);
      ctx_r1.removeAllImages();
      return \u0275\u0275resetView(ctx_r1.removeAllExistingImages());
    });
    \u0275\u0275text(5, " Remove All ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "div", 167);
    \u0275\u0275template(7, AssetEditComponent_div_15_div_270_div_7_Template, 19, 3, "div", 168)(8, AssetEditComponent_div_15_div_270_div_8_Template, 17, 6, "div", 168);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 169)(10, "div", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(11, "svg", 170);
    \u0275\u0275element(12, "path", 98);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(13, "p", 171)(14, "strong");
    \u0275\u0275text(15, "Gallery Tips:");
    \u0275\u0275elementEnd();
    \u0275\u0275text(16, " Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads. ");
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1("Asset Images (", ctx_r1.existingImages.length + ctx_r1.imagePreviewUrls.length, ")");
    \u0275\u0275advance(4);
    \u0275\u0275property("ngForOf", ctx_r1.existingImages);
    \u0275\u0275advance();
    \u0275\u0275property("ngForOf", ctx_r1.imagePreviewUrls);
  }
}
function AssetEditComponent_div_15_div_271_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 189)(1, "div", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 190);
    \u0275\u0275element(3, "path", 24);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 191);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitError);
  }
}
function AssetEditComponent_div_15_div_272_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 192)(1, "div", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 70);
    \u0275\u0275element(3, "path", 162);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 193);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r1.submitSuccess);
  }
}
function AssetEditComponent_div_15_span_277_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 194);
    \u0275\u0275element(2, "path", 162);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(3, "span");
    \u0275\u0275text(4, "Update Asset");
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_span_278_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 95);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(1, "svg", 195);
    \u0275\u0275element(2, "circle", 18)(3, "path", 19);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span");
    \u0275\u0275text(5, "Updating Asset...");
    \u0275\u0275elementEnd()();
  }
}
function AssetEditComponent_div_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "form", 27);
    \u0275\u0275listener("ngSubmit", function AssetEditComponent_div_15_Template_form_ngSubmit_1_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onSubmit());
    });
    \u0275\u0275elementStart(2, "div", 28)(3, "div", 29)(4, "div", 30);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(5, "svg", 31);
    \u0275\u0275element(6, "path", 32);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "h2", 33);
    \u0275\u0275text(8, "Basic Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "div", 34)(10, "div")(11, "label", 35);
    \u0275\u0275text(12, " Asset Name ");
    \u0275\u0275elementStart(13, "span", 36);
    \u0275\u0275text(14, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(15, "input", 37);
    \u0275\u0275template(16, AssetEditComponent_div_15_div_16_Template, 4, 1, "div", 38);
    \u0275\u0275elementStart(17, "div", 39);
    \u0275\u0275text(18, "Maximum 100 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div")(20, "label", 35);
    \u0275\u0275text(21, "Asset ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "div", 40);
    \u0275\u0275element(23, "input", 41);
    \u0275\u0275elementStart(24, "span", 42);
    \u0275\u0275text(25, " auto-generated ");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(26, "p", 39);
    \u0275\u0275text(27, "Unique identifier automatically assigned");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(28, "div", 43)(29, "label", 35);
    \u0275\u0275text(30, "Parent Asset");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(31, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_31_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(32, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_32_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.showParentDropdown = !ctx_r1.showParentDropdown);
    });
    \u0275\u0275elementStart(33, "div", 46);
    \u0275\u0275template(34, AssetEditComponent_div_15_span_34_Template, 2, 0, "span", 47)(35, AssetEditComponent_div_15_span_35_Template, 2, 2, "span", 48);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(36, "svg", 49);
    \u0275\u0275element(37, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(38, AssetEditComponent_div_15_div_38_Template, 7, 3, "div", 51);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(39, "div", 39);
    \u0275\u0275text(40, "Optional: Select a parent asset if this asset is a child of another.");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(41, "div", 43)(42, "label", 35);
    \u0275\u0275text(43, "Description");
    \u0275\u0275elementEnd();
    \u0275\u0275element(44, "textarea", 52);
    \u0275\u0275elementStart(45, "div", 39);
    \u0275\u0275text(46, "Maximum 500 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(47, "div")(48, "label", 53);
    \u0275\u0275text(49, "Health Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(50, "div", 54)(51, "div", 55)(52, "span", 56);
    \u0275\u0275text(53, "Current Score");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(54, "span", 57);
    \u0275\u0275text(55);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(56, "div", 58);
    \u0275\u0275element(57, "div", 59)(58, "div", 60)(59, "input", 61)(60, "div", 62);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(61, "div", 63)(62, "span");
    \u0275\u0275text(63, "Poor (0%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(64, "span");
    \u0275\u0275text(65, "Fair (25%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(66, "span");
    \u0275\u0275text(67, "Good (50%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(68, "span");
    \u0275\u0275text(69, "Very Good (75%)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(70, "span");
    \u0275\u0275text(71, "Excellent (100%)");
    \u0275\u0275elementEnd()()()()();
    \u0275\u0275elementStart(72, "div", 28)(73, "div", 29)(74, "div", 64);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(75, "svg", 65);
    \u0275\u0275element(76, "path", 66);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(77, "h2", 33);
    \u0275\u0275text(78, "Asset Classification");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(79, "div", 67)(80, "div")(81, "label", 35);
    \u0275\u0275text(82, " Asset Type ");
    \u0275\u0275elementStart(83, "span", 36);
    \u0275\u0275text(84, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(85, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_85_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(86, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_86_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleAssetTypeDropdown());
    });
    \u0275\u0275elementStart(87, "div", 46);
    \u0275\u0275template(88, AssetEditComponent_div_15_span_88_Template, 2, 0, "span", 47)(89, AssetEditComponent_div_15_div_89_Template, 6, 5, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(90, "svg", 49);
    \u0275\u0275element(91, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(92, AssetEditComponent_div_15_div_92_Template, 5, 1, "div", 51);
    \u0275\u0275elementEnd();
    \u0275\u0275template(93, AssetEditComponent_div_15_div_93_Template, 4, 1, "div", 38);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(94, "div")(95, "label", 35);
    \u0275\u0275text(96, " Category ");
    \u0275\u0275elementStart(97, "span", 36);
    \u0275\u0275text(98, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(99, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_99_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(100, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_100_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleCategoryDropdown());
    });
    \u0275\u0275elementStart(101, "div", 46);
    \u0275\u0275template(102, AssetEditComponent_div_15_span_102_Template, 2, 0, "span", 47)(103, AssetEditComponent_div_15_span_103_Template, 2, 1, "span", 48);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(104, "svg", 49);
    \u0275\u0275element(105, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(106, AssetEditComponent_div_15_div_106_Template, 5, 1, "div", 51);
    \u0275\u0275elementEnd();
    \u0275\u0275template(107, AssetEditComponent_div_15_div_107_Template, 4, 1, "div", 38);
    \u0275\u0275elementEnd()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(108, "div", 28)(109, "div", 29)(110, "div", 69);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(111, "svg", 70);
    \u0275\u0275element(112, "path", 71);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(113, "h2", 33);
    \u0275\u0275text(114, "Technical Details");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(115, "div", 72)(116, "div")(117, "label", 35);
    \u0275\u0275text(118, "Manufacturer");
    \u0275\u0275elementEnd();
    \u0275\u0275element(119, "input", 73);
    \u0275\u0275elementStart(120, "div", 39);
    \u0275\u0275text(121, "Maximum 100 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(122, "div")(123, "label", 35);
    \u0275\u0275text(124, "Model");
    \u0275\u0275elementEnd();
    \u0275\u0275element(125, "input", 74);
    \u0275\u0275elementStart(126, "div", 39);
    \u0275\u0275text(127, "Maximum 100 characters");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(128, "div")(129, "label", 35);
    \u0275\u0275text(130, " Serial Number ");
    \u0275\u0275elementStart(131, "span", 36);
    \u0275\u0275text(132, "*");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(133, "input", 75);
    \u0275\u0275template(134, AssetEditComponent_div_15_div_134_Template, 4, 1, "div", 38);
    \u0275\u0275elementStart(135, "div", 39);
    \u0275\u0275text(136, "Required, max 100 chars, must be unique within your company");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(137, "div", 28)(138, "div", 29)(139, "div", 76);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(140, "svg", 77);
    \u0275\u0275element(141, "path", 78);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(142, "h2", 33);
    \u0275\u0275text(143, "Financial Information");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(144, "div", 34)(145, "div")(146, "label", 35);
    \u0275\u0275text(147, "Purchase Value (USD)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(148, "div", 79)(149, "div", 80)(150, "span", 81);
    \u0275\u0275text(151, "$ ");
    \u0275\u0275elementEnd()();
    \u0275\u0275element(152, "input", 82);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(153, "div", 39);
    \u0275\u0275text(154, "Must be a non-negative number");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(155, "div")(156, "label", 35);
    \u0275\u0275text(157, "Purchase Date");
    \u0275\u0275elementEnd();
    \u0275\u0275element(158, "input", 83, 0);
    \u0275\u0275elementStart(160, "div", 39);
    \u0275\u0275text(161, "Cannot be in the future");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(162, "div", 34)(163, "div")(164, "label", 35);
    \u0275\u0275text(165, "Depreciation Rate (%)");
    \u0275\u0275elementEnd();
    \u0275\u0275element(166, "input", 84);
    \u0275\u0275elementStart(167, "div", 39);
    \u0275\u0275text(168, "Annual depreciation rate (0-100%)");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(169, "div")(170, "label", 35);
    \u0275\u0275text(171, "Depreciation Life (Years)");
    \u0275\u0275elementEnd();
    \u0275\u0275element(172, "input", 85);
    \u0275\u0275elementStart(173, "div", 39);
    \u0275\u0275text(174, "Useful life for depreciation calculation (1-100 years)");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(175, "div", 34)(176, "div")(177, "label", 35);
    \u0275\u0275text(178, "Warranty Information");
    \u0275\u0275elementEnd();
    \u0275\u0275element(179, "input", 86);
    \u0275\u0275elementStart(180, "div", 39);
    \u0275\u0275text(181, "Warranty details (max 255 characters)");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(182, "div")(183, "label", 35);
    \u0275\u0275text(184, "Insurance Information");
    \u0275\u0275elementEnd();
    \u0275\u0275element(185, "input", 87);
    \u0275\u0275elementStart(186, "div", 39);
    \u0275\u0275text(187, "Insurance details (max 255 characters)");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(188, "div", 28)(189, "div", 29)(190, "div", 88);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(191, "svg", 89);
    \u0275\u0275element(192, "path", 90)(193, "path", 91);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(194, "h2", 33);
    \u0275\u0275text(195, "Location & Assignment");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(196, "div", 67)(197, "div")(198, "label", 35);
    \u0275\u0275text(199, "Location");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(200, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_200_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(201, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_201_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleLocationDropdown());
    });
    \u0275\u0275elementStart(202, "div", 46);
    \u0275\u0275template(203, AssetEditComponent_div_15_span_203_Template, 2, 0, "span", 47)(204, AssetEditComponent_div_15_div_204_Template, 7, 1, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(205, "svg", 49);
    \u0275\u0275element(206, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(207, AssetEditComponent_div_15_div_207_Template, 5, 1, "div", 51);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(208, "div")(209, "label", 35);
    \u0275\u0275text(210, "Department ID");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(211, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_211_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(212, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_212_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleDepartmentDropdown());
    });
    \u0275\u0275elementStart(213, "div", 46);
    \u0275\u0275template(214, AssetEditComponent_div_15_span_214_Template, 2, 0, "span", 47)(215, AssetEditComponent_div_15_div_215_Template, 6, 1, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(216, "svg", 49);
    \u0275\u0275element(217, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(218, AssetEditComponent_div_15_div_218_Template, 5, 1, "div", 51);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(219, "div", 39);
    \u0275\u0275text(220, "Optional department assignment");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(221, "div")(222, "label", 35);
    \u0275\u0275text(223, "Status");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(224, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_224_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(225, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_225_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleStatusDropdown());
    });
    \u0275\u0275elementStart(226, "div", 46);
    \u0275\u0275template(227, AssetEditComponent_div_15_div_227_Template, 4, 3, "div", 68);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(228, "svg", 49);
    \u0275\u0275element(229, "path", 50);
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(230, AssetEditComponent_div_15_div_230_Template, 5, 1, "div", 92);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(231, "div", 39);
    \u0275\u0275text(232, "Current operational status of the asset");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(233, "div")(234, "label", 35);
    \u0275\u0275text(235, "Tags");
    \u0275\u0275elementEnd();
    \u0275\u0275template(236, AssetEditComponent_div_15_div_236_Template, 3, 1, "div", 93);
    \u0275\u0275elementStart(237, "div", 44);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_237_listener($event) {
      \u0275\u0275restoreView(_r3);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(238, "button", 45);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_238_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleTagsDropdown());
    });
    \u0275\u0275elementStart(239, "div", 46)(240, "span", 94);
    \u0275\u0275text(241);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(242, "div", 95);
    \u0275\u0275template(243, AssetEditComponent_div_15_span_243_Template, 2, 1, "span", 96);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(244, "svg", 49);
    \u0275\u0275element(245, "path", 50);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275template(246, AssetEditComponent_div_15_div_246_Template, 10, 4, "div", 51);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(247, "div", 39);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(248, "svg", 97);
    \u0275\u0275element(249, "path", 98);
    \u0275\u0275elementEnd();
    \u0275\u0275text(250, " Select existing tags or type to create new ones. Press Enter to add custom tags. ");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(251, "div", 28)(252, "div", 29)(253, "div", 99);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(254, "svg", 100);
    \u0275\u0275element(255, "path", 101);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(256, "h2", 33);
    \u0275\u0275text(257, "Asset Image");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(258, "div")(259, "label", 35);
    \u0275\u0275text(260, "Upload Image");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(261, "div", 102);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_div_click_261_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.triggerFileInput());
    })("dragover", function AssetEditComponent_div_15_Template_div_dragover_261_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDragOver($event));
    })("dragleave", function AssetEditComponent_div_15_Template_div_dragleave_261_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDragLeave($event));
    })("drop", function AssetEditComponent_div_15_Template_div_drop_261_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onDrop($event));
    });
    \u0275\u0275elementStart(262, "div", 103)(263, "div", 104);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(264, "svg", 105);
    \u0275\u0275element(265, "path", 106);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(266, "p", 107);
    \u0275\u0275text(267);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(268, "input", 108, 1);
    \u0275\u0275listener("change", function AssetEditComponent_div_15_Template_input_change_268_listener($event) {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.onFileChange($event));
    });
    \u0275\u0275elementEnd()()();
    \u0275\u0275template(270, AssetEditComponent_div_15_div_270_Template, 17, 3, "div", 109);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(271, AssetEditComponent_div_15_div_271_Template, 6, 1, "div", 110)(272, AssetEditComponent_div_15_div_272_Template, 6, 1, "div", 111);
    \u0275\u0275elementStart(273, "div", 112)(274, "button", 113);
    \u0275\u0275listener("click", function AssetEditComponent_div_15_Template_button_click_274_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.goBack());
    });
    \u0275\u0275text(275, " Cancel ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(276, "button", 114);
    \u0275\u0275template(277, AssetEditComponent_div_15_span_277_Template, 5, 0, "span", 115)(278, AssetEditComponent_div_15_span_278_Template, 6, 0, "span", 115);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    let tmp_8_0;
    let tmp_9_0;
    let tmp_12_0;
    let tmp_13_0;
    let tmp_14_0;
    let tmp_15_0;
    let tmp_16_0;
    let tmp_17_0;
    let tmp_18_0;
    let tmp_19_0;
    let tmp_20_0;
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance();
    \u0275\u0275property("formGroup", ctx_r1.assetForm);
    \u0275\u0275advance(14);
    \u0275\u0275classProp("border-red-300", ctx_r1.nameError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.nameError);
    \u0275\u0275advance(7);
    \u0275\u0275property("value", (ctx_r1.asset == null ? null : ctx_r1.asset.asset_id) || (ctx_r1.asset == null ? null : ctx_r1.asset.id));
    \u0275\u0275advance(9);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showParentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !((tmp_8_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_8_0.value));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ((tmp_9_0 = ctx_r1.assetForm.get("parent_id")) == null ? null : tmp_9_0.value) && ctx_r1.getSelectedParent());
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showParentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showParentDropdown);
    \u0275\u0275advance(16);
    \u0275\u0275classProp("text-red-600", (((tmp_12_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_12_0.value) || 85) < 50)("text-green-600", (((tmp_13_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_13_0.value) || 85) >= 50);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1("", ((tmp_14_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_14_0.value) || 85, "%");
    \u0275\u0275advance(3);
    \u0275\u0275styleProp("width", ((tmp_15_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_15_0.value) || 85, "%");
    \u0275\u0275classProp("bg-red-500", (((tmp_16_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_16_0.value) || 85) < 50)("bg-green-500", (((tmp_17_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_17_0.value) || 85) >= 50);
    \u0275\u0275advance(2);
    \u0275\u0275styleProp("left", ((tmp_18_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_18_0.value) || 85, "%");
    \u0275\u0275classProp("bg-red-500", (((tmp_19_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_19_0.value) || 85) < 50)("bg-green-500", (((tmp_20_0 = ctx_r1.assetForm.get("health_score")) == null ? null : tmp_20_0.value) || 85) >= 50);
    \u0275\u0275advance(26);
    \u0275\u0275classProp("border-red-300", ctx_r1.assetTypeError)("border-blue-500", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedAssetType);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedAssetType);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showAssetTypeDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.assetTypeError);
    \u0275\u0275advance(7);
    \u0275\u0275classProp("border-red-300", ctx_r1.categoryError)("border-blue-500", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedCategory);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedCategory);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showCategoryDropdown);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.categoryError);
    \u0275\u0275advance(26);
    \u0275\u0275classProp("border-red-300", ctx_r1.serialNumberError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.serialNumberError);
    \u0275\u0275advance(67);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedLocation);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedLocation);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showLocationDropdown);
    \u0275\u0275advance(5);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", !ctx_r1.selectedDepartment);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.selectedDepartment);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showDepartmentDropdown);
    \u0275\u0275advance(7);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.selectedStatus);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showStatusDropdown);
    \u0275\u0275advance(6);
    \u0275\u0275property("ngIf", ctx_r1.selectedTags.length > 0);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("border-blue-500", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate1(" ", ctx_r1.selectedTags.length === 0 ? "Select tags" : "Add more tags", " ");
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.selectedTags.length > 0);
    \u0275\u0275advance();
    \u0275\u0275classProp("rotate-180", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(2);
    \u0275\u0275property("ngIf", ctx_r1.showTagsDropdown);
    \u0275\u0275advance(15);
    \u0275\u0275classProp("border-gray-300", !ctx_r1.isDragOver)("border-blue-500", ctx_r1.isDragOver)("bg-blue-50", ctx_r1.isDragOver)("hover:border-blue-400", !ctx_r1.isDragOver);
    \u0275\u0275advance(3);
    \u0275\u0275classProp("text-gray-400", !ctx_r1.isDragOver)("text-blue-500", ctx_r1.isDragOver);
    \u0275\u0275advance(2);
    \u0275\u0275classProp("text-gray-500", !ctx_r1.isDragOver)("text-blue-600", ctx_r1.isDragOver);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r1.isDragOver ? "Release to upload images" : "PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here", " ");
    \u0275\u0275advance(3);
    \u0275\u0275property("ngIf", ctx_r1.existingImages.length > 0 || ctx_r1.imagePreviewUrls.length > 0);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.submitError);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.submitSuccess);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.saving);
    \u0275\u0275advance(2);
    \u0275\u0275property("disabled", ctx_r1.saving || !ctx_r1.isFormValid());
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.saving);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.saving);
  }
}
var AssetEditComponent = class _AssetEditComponent {
  fb;
  route;
  router;
  assetService;
  angularLocation;
  destroy$ = new Subject();
  dateInputs;
  fileInput;
  // Flatpickr instances
  flatpickrInstances = [];
  // Asset data
  asset = null;
  assetForm;
  // Loading states
  loading = true;
  saving = false;
  error = "";
  successMessage = "";
  // Dropdown data
  categories = [];
  locations = [];
  departments = [];
  availableTags = [];
  statusOptionsFromAPI = [];
  // Dropdown state
  showAssetTypeDropdown = false;
  showCategoryDropdown = false;
  showLocationDropdown = false;
  showStatusDropdown = false;
  showTagsDropdown = false;
  showDepartmentDropdown = false;
  showParentDropdown = false;
  selectedAssetType = null;
  selectedCategory = null;
  selectedLocation = null;
  selectedStatus = null;
  selectedDepartment = null;
  selectedTags = [];
  newTagInput = "";
  // Asset types
  assetTypes = [];
  assetTypesFromAPI = [];
  // Status options
  statusOptions = [
    { value: 1, label: "Active", color: "green", description: "Asset is operational and in use", sort_order: 1 },
    { value: 2, label: "Maintenance", color: "orange", description: "Asset is under maintenance or repair", sort_order: 2 },
    { value: 3, label: "Inactive", color: "gray", description: "Asset is not currently in use", sort_order: 3 },
    { value: 4, label: "Retired", color: "red", description: "Asset is retired and no longer in service", sort_order: 4 }
  ];
  // Image handling
  previewImage = null;
  selectedFile = null;
  images = [];
  imagePreviewUrls = [];
  existingImages = [];
  removedImageIds = [];
  isDragOver = false;
  // Validation errors
  nameError = "";
  assetTypeError = "";
  categoryError = "";
  serialNumberError = "";
  submitError = "";
  submitSuccess = "";
  possibleParents = [];
  constructor(fb, route, router, assetService, angularLocation) {
    this.fb = fb;
    this.route = route;
    this.router = router;
    this.assetService = assetService;
    this.angularLocation = angularLocation;
    this.assetForm = this.fb.group({
      name: ["", [Validators.required, Validators.minLength(2)]],
      description: [""],
      serial_number: ["", [Validators.required, Validators.minLength(3)]],
      model: [""],
      manufacturer: [""],
      purchase_date: [""],
      purchase_price: [null],
      depreciation: [null],
      depreciation_life: [null],
      location_id: [null],
      department_id: [null],
      parent_id: [null],
      warranty: [""],
      insurance: [""],
      health_score: [85, [Validators.min(0), Validators.max(100)]],
      status: [null],
      type: [null, Validators.required],
      category_id: [null, Validators.required],
      tags: [[]]
    });
  }
  ngOnInit() {
    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {
      const assetId = params["id"];
      if (assetId) {
        this.loadAsset(assetId);
        this.assetService.getPossibleParents(assetId).subscribe((res) => {
          if (res.success && res.data?.possible_parents) {
            this.possibleParents = res.data.possible_parents;
          }
        });
      }
    });
    this.loadAssetTypes();
    this.loadCategories();
    this.loadLocations();
    this.loadDepartments();
    this.loadAvailableTags();
    this.loadAssetStatuses();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.initializeFlatpickr();
    }, 100);
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
  }
  initializeFlatpickr() {
    this.flatpickrInstances.forEach((instance) => {
      if (instance) {
        instance.destroy();
      }
    });
    this.flatpickrInstances = [];
    setTimeout(() => {
      if (this.dateInputs) {
        this.dateInputs.forEach((inputRef, index2) => {
          if (inputRef?.nativeElement) {
            const inputElement = inputRef.nativeElement;
            const fieldName = inputElement.getAttribute("formControlName");
            console.log("Processing date input:", fieldName);
            if (fieldName === "purchase_date") {
              console.log("Initializing Flatpickr for purchase_date");
              let config = {
                dateFormat: "d M, Y",
                allowInput: true,
                clickOpens: true,
                maxDate: "today",
                defaultDate: null,
                onChange: (selectedDates, dateStr) => {
                  console.log("Date selected:", dateStr);
                  this.assetForm.get("purchase_date")?.setValue(dateStr);
                }
              };
              const purchaseDate = this.assetForm.get("purchase_date")?.value;
              if (purchaseDate) {
                config.defaultDate = this.convertDisplayDateToDate(purchaseDate);
              }
              const instance = esm_default(inputElement, config);
              this.flatpickrInstances.push(instance);
              console.log("Flatpickr initialized successfully for purchase_date");
            }
          }
        });
      }
    }, 50);
  }
  loadAsset(id) {
    this.loading = true;
    this.error = "";
    this.assetService.getAsset(id).pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success) {
          this.asset = response.data.asset || response.data;
          this.populateForm();
        } else {
          this.error = response.message || "Failed to load asset";
        }
        this.loading = false;
      },
      error: (error) => {
        this.error = error.error?.message || "An error occurred while loading the asset";
        this.loading = false;
      }
    });
  }
  populateForm() {
    if (this.asset) {
      const purchaseDate = this.asset.purchase_date ? this.convertBackendDateToDisplay(this.asset.purchase_date) : "";
      const warrantyDate = this.asset.warranty ? this.convertBackendDateToDisplay(this.asset.warranty) : "";
      this.assetForm.patchValue({
        name: this.asset.name || "",
        description: this.asset.description || "",
        serial_number: this.asset.serial_number || "",
        model: this.asset.model || "",
        manufacturer: this.asset.manufacturer || "",
        purchase_date: purchaseDate,
        purchase_price: this.asset.purchase_price || null,
        depreciation: this.asset.depreciation || null,
        depreciation_life: this.asset.depreciation_life || null,
        location_id: this.asset.location_id || null,
        department_id: this.asset.department_id || null,
        warranty: warrantyDate,
        insurance: this.asset.insurance || "",
        health_score: this.asset.health_score || 85,
        status: this.asset.status || null,
        // Keep as is - could be ID or string, will be handled below
        type: this.asset.type || "",
        category_id: this.asset.category_id || null,
        tags: this.asset.tags || [],
        parent_id: this.asset.parent_id || null
      });
      if (this.asset.images && Array.isArray(this.asset.images)) {
        this.existingImages = this.asset.images;
      }
      setTimeout(() => {
        this.selectedAssetType = this.assetTypes.find((type) => type.id == this.asset.type) || null;
        this.selectedCategory = this.categories.find((cat) => cat.id === this.asset.category_id) || null;
        this.selectedLocation = this.locations.find((loc) => loc.id === this.asset.location_id) || null;
        this.selectedDepartment = this.departments.find((dept) => dept.id === this.asset.department_id) || null;
        this.selectedStatus = this.statusOptions.find((status) => status.value === this.asset.status || status.label === this.asset.status || status.id === this.asset.status) || null;
        if (this.selectedStatus) {
          this.assetForm.patchValue({ status: this.selectedStatus.value });
        }
        if (this.asset.tags && Array.isArray(this.asset.tags)) {
          this.selectedTags = this.asset.tags.map((tag) => {
            return this.availableTags.find((t) => t.id === tag.id) || tag;
          });
        }
        this.assetForm.markAllAsTouched();
        this.assetForm.updateValueAndValidity();
        setTimeout(() => {
          this.initializeFlatpickr();
        }, 100);
      }, 100);
    }
  }
  loadAssetTypes() {
    this.assetService.getAssetTypes().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.assetTypesFromAPI = response.data;
          this.assetTypes = this.assetTypesFromAPI.map((type) => ({
            id: type.id,
            name: type.name,
            label: type.name,
            value: type.name,
            icon: type.icon,
            color: this.getColorForType(type.name),
            description: `${type.name} asset type`,
            iconError: false
          }));
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading asset types:", error);
      }
    });
  }
  loadCategories() {
    this.assetService.getAssetCategories().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data?.categories) {
          this.categories = response.data.categories;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading categories:", error);
      }
    });
  }
  loadLocations() {
    this.assetService.getLocations().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.locations = response.data.locations || response.data;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading locations:", error);
      }
    });
  }
  loadDepartments() {
    this.assetService.getDepartments().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.departments = response.data;
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading departments:", error);
      }
    });
  }
  loadAvailableTags() {
    this.availableTags = [
      { id: 1, name: "Critical", color: "red" },
      { id: 2, name: "High Priority", color: "orange" },
      { id: 3, name: "Equipment", color: "blue" },
      { id: 4, name: "IT Hardware", color: "purple" },
      { id: 5, name: "Furniture", color: "green" },
      { id: 6, name: "Vehicle", color: "yellow" },
      { id: 7, name: "Safety Equipment", color: "red" },
      { id: 8, name: "Office Supplies", color: "gray" }
    ];
  }
  loadAssetStatuses() {
    this.assetService.getAssetStatuses().pipe(takeUntil(this.destroy$)).subscribe({
      next: (response) => {
        if (response.success && response.data) {
          this.statusOptionsFromAPI = response.data;
          this.statusOptions = this.statusOptionsFromAPI.map((status) => ({
            id: status.id,
            value: status.id,
            // Use numerical ID instead of string name
            label: status.name,
            color: this.hexToTailwindColor(status.color),
            description: status.description || `Asset is ${status.name.toLowerCase()}`,
            hexColor: status.color,
            sort_order: status.sort_order
          }));
          this.statusOptions.sort((a, b) => a.sort_order - b.sort_order);
          if (this.asset) {
            this.populateForm();
          }
        }
      },
      error: (error) => {
        console.error("Error loading asset statuses:", error);
      }
    });
  }
  hexToTailwindColor(hexColor) {
    const colorMap = {
      "#10B981": "green",
      "#F59E0B": "orange",
      "#9CA3AF": "gray",
      "#EF4444": "red",
      "#6B7280": "gray",
      "#22C55E": "green",
      "#3B82F6": "blue",
      "#8B5CF6": "purple",
      "#F97316": "orange"
    };
    return colorMap[hexColor.toUpperCase()] || "gray";
  }
  // Helper method to assign colors to asset types
  getColorForType(typeName) {
    const colorMap = {
      "Fixed Asset": "#2563eb",
      "Semi-Fixed Asset": "#22c55e",
      "Mobile Asset": "#f59e42",
      "Fleet Asset": "#a855f7",
      "IT Equipment": "#3b82f6",
      "Furniture": "#10b981",
      "Vehicle": "#f59e0b",
      "Machinery": "#ef4444",
      "Electronics": "#8b5cf6",
      "Tools": "#f97316"
    };
    return colorMap[typeName] || "#6b7280";
  }
  onAssetTypeIconError(event, assetType) {
    console.warn("Asset type icon failed to load:", assetType.name, assetType.icon);
    assetType.iconError = true;
    event.target.style.display = "none";
  }
  // Dropdown methods
  toggleAssetTypeDropdown() {
    this.showAssetTypeDropdown = !this.showAssetTypeDropdown;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleCategoryDropdown() {
    this.showCategoryDropdown = !this.showCategoryDropdown;
    this.showAssetTypeDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleLocationDropdown() {
    this.showLocationDropdown = !this.showLocationDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleStatusDropdown() {
    this.showStatusDropdown = !this.showStatusDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleTagsDropdown() {
    this.showTagsDropdown = !this.showTagsDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showDepartmentDropdown = false;
  }
  toggleDepartmentDropdown() {
    this.showDepartmentDropdown = !this.showDepartmentDropdown;
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
  }
  selectAssetType(type) {
    this.selectedAssetType = type;
    this.assetForm.patchValue({ type: type.id });
    this.showAssetTypeDropdown = false;
    this.clearErrors();
  }
  selectCategory(category) {
    this.selectedCategory = category;
    this.assetForm.patchValue({ category_id: category.id });
    this.showCategoryDropdown = false;
    this.clearErrors();
  }
  selectLocation(location) {
    this.selectedLocation = location;
    this.assetForm.patchValue({ location_id: location.id });
    this.showLocationDropdown = false;
  }
  selectStatus(status) {
    this.selectedStatus = status;
    this.assetForm.patchValue({ status: status.value });
    this.showStatusDropdown = false;
  }
  selectDepartment(department) {
    this.selectedDepartment = department;
    this.assetForm.patchValue({ department_id: department.id });
    this.showDepartmentDropdown = false;
  }
  // Tag methods
  toggleTag(tag) {
    const index2 = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index2 > -1) {
      this.selectedTags.splice(index2, 1);
    } else {
      this.selectedTags.push(tag);
    }
  }
  isTagSelected(tag) {
    return this.selectedTags.some((t) => t.id === tag.id);
  }
  onTagInputKeydown(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      this.createNewTag();
    }
  }
  createNewTag() {
    const tagName = this.newTagInput.trim();
    if (tagName && !this.selectedTags.some((t) => t.name.toLowerCase() === tagName.toLowerCase())) {
      const colors2 = ["red", "blue", "green", "yellow", "purple", "pink", "indigo", "gray"];
      const randomColor = colors2[Math.floor(Math.random() * colors2.length)];
      const newTag = {
        id: Date.now(),
        name: tagName,
        color: randomColor,
        isNew: true
      };
      this.selectedTags.push(newTag);
      this.newTagInput = "";
    }
  }
  removeTag(tag) {
    const index2 = this.selectedTags.findIndex((t) => t.id === tag.id);
    if (index2 > -1) {
      this.selectedTags.splice(index2, 1);
    }
  }
  // File handling
  onFileChange(event) {
    if (event.target.files && event.target.files.length) {
      const newFiles = Array.from(event.target.files);
      this.processFiles(newFiles);
      event.target.value = "";
    }
  }
  onDragOver(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = true;
  }
  onDragLeave(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
  }
  onDrop(event) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOver = false;
    const files = event.dataTransfer?.files;
    if (files && files.length > 0) {
      const fileArray = Array.from(files).filter((file) => file.type.startsWith("image/"));
      if (fileArray.length > 0) {
        this.processFiles(fileArray);
      }
    }
  }
  processFiles(files) {
    const maxImages = 10;
    const allowedTypes = ["image/jpeg", "image/png", "image/gif", "image/webp"];
    const newImages = [];
    for (const file of files) {
      if (!allowedTypes.includes(file.type)) {
        console.warn("Invalid file type:", file.name);
        continue;
      }
      if (file.size > 10 * 1024 * 1024) {
        console.warn("File too large:", file.name);
        continue;
      }
      const isDuplicate = this.images.some((existing) => existing.name === file.name && existing.size === file.size);
      if (isDuplicate) {
        console.warn("Duplicate file skipped:", file.name);
        continue;
      }
      if (this.images.length + newImages.length >= maxImages) {
        console.warn("Max image count exceeded:", file.name);
        break;
      }
      newImages.push(file);
      const reader = new FileReader();
      reader.onload = (e) => {
        if (e.target?.result) {
          this.imagePreviewUrls.push(e.target.result);
        }
      };
      reader.onerror = (error) => {
        console.error("Preview failed for:", file.name, error);
      };
      reader.readAsDataURL(file);
    }
    this.images = [...this.images, ...newImages];
  }
  removeImage(index2) {
    this.images.splice(index2, 1);
    this.imagePreviewUrls.splice(index2, 1);
  }
  removeAllImages() {
    this.images = [];
    this.imagePreviewUrls = [];
  }
  removeExistingImage(index2) {
    const removedImage = this.existingImages[index2];
    if (removedImage && removedImage.id) {
      this.removedImageIds.push(removedImage.id);
    }
    this.existingImages.splice(index2, 1);
  }
  removeAllExistingImages() {
    this.existingImages.forEach((img) => {
      if (img && img.id) {
        this.removedImageIds.push(img.id);
      }
    });
    this.existingImages = [];
  }
  moveImage(fromIndex, toIndex) {
    if (toIndex >= 0 && toIndex < this.images.length) {
      const file = this.images.splice(fromIndex, 1)[0];
      this.images.splice(toIndex, 0, file);
      const previewUrl = this.imagePreviewUrls.splice(fromIndex, 1)[0];
      this.imagePreviewUrls.splice(toIndex, 0, previewUrl);
    }
  }
  moveImageUp(index2) {
    if (index2 > 0) {
      this.moveImage(index2, index2 - 1);
    }
  }
  moveImageDown(index2) {
    if (index2 < this.images.length - 1) {
      this.moveImage(index2, index2 + 1);
    }
  }
  triggerFileInput() {
    this.fileInput.nativeElement.click();
  }
  onImageError(event, index2) {
    console.warn("Image failed to load at index:", index2);
    event.target.onerror = null;
    event.target.src = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMiA5VjEzTTEyIDE3SDE2TTE2IDlIMTJNMTIgOUw4IDEzTDEyIDE3IiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=";
  }
  onImageLoad(event, index2) {
    console.log("Image loaded successfully at index:", index2);
  }
  viewFullImage(imageUrl) {
    window.open(imageUrl, "_blank");
  }
  // Convert images to base64
  convertImagesToBase64() {
    return Promise.all(this.images.map((file) => {
      return new Promise((resolve2, reject) => {
        const reader = new FileReader();
        reader.onload = () => {
          if (reader.result) {
            resolve2(reader.result);
          } else {
            reject(new Error("Failed to read file"));
          }
        };
        reader.onerror = () => reject(reader.error);
        reader.readAsDataURL(file);
      });
    }));
  }
  onCategoryIconError(event, category) {
    console.warn("Category icon failed to load:", category.name, category.icon);
    category.iconError = true;
    event.target.style.display = "none";
  }
  // Validation methods
  validateForm() {
    let isValid = true;
    this.clearErrors();
    if (!this.assetForm.get("name")?.value || this.assetForm.get("name")?.value.trim().length === 0) {
      this.nameError = "Asset name is required";
      isValid = false;
    } else if (this.assetForm.get("name")?.value.trim().length > 100) {
      this.nameError = "Asset name cannot exceed 100 characters";
      isValid = false;
    }
    if (!this.selectedAssetType) {
      this.assetTypeError = "Asset type is required";
      isValid = false;
    }
    if (!this.selectedCategory) {
      this.categoryError = "Category is required";
      isValid = false;
    }
    const serialNumber = this.assetForm.get("serial_number")?.value;
    if (serialNumber && serialNumber.trim().length === 0) {
      this.serialNumberError = "Serial number cannot be empty if provided";
      isValid = false;
    } else if (serialNumber && serialNumber.length > 255) {
      this.serialNumberError = "Serial number cannot exceed 255 characters";
      isValid = false;
    }
    return isValid;
  }
  clearErrors() {
    this.nameError = "";
    this.assetTypeError = "";
    this.categoryError = "";
    this.serialNumberError = "";
    this.submitError = "";
    this.submitSuccess = "";
  }
  // Form submission
  onSubmit() {
    if (!this.validateForm() || this.saving || !this.asset) {
      return;
    }
    if (this.assetForm.valid && !this.saving && this.asset) {
      this.saving = true;
      this.error = "";
      this.successMessage = "";
      this.submitError = "";
      this.submitSuccess = "";
      this.convertImagesToBase64().then((base64Images) => {
        const formData = this.assetForm.value;
        formData.tags = this.selectedTags.map((tag) => tag.name);
        if (formData.purchase_date) {
          formData.purchase_date = this.convertDateToBackendFormat(formData.purchase_date);
        }
        if (formData.warranty) {
          formData.warranty = this.convertDateToBackendFormat(formData.warranty);
        }
        formData.images = base64Images;
        formData.existing_images = this.existingImages.map((img) => img.id || img.image_url);
        if (this.removedImageIds.length > 0) {
          formData.remove_image_ids = this.removedImageIds;
        }
        this.assetService.updateAsset(this.asset.id, formData).pipe(takeUntil(this.destroy$)).subscribe({
          next: (response) => {
            if (response.success) {
              this.submitSuccess = "Asset updated successfully!";
              setTimeout(() => {
                this.router.navigate(["/assets/preview", this.asset.id]);
              }, 2e3);
            } else {
              this.submitError = response.message || "Failed to update asset";
            }
            this.saving = false;
          },
          error: (error) => {
            this.submitError = error.error?.message || "An error occurred while updating the asset";
            this.saving = false;
          }
        });
      }).catch((error) => {
        this.saving = false;
        this.submitError = "Failed to process images. Please try again.";
        console.error("Image conversion error:", error);
      });
    }
  }
  goBack() {
    this.angularLocation.back();
  }
  // Close dropdowns when clicking outside
  onDocumentClick(event) {
    this.showAssetTypeDropdown = false;
    this.showCategoryDropdown = false;
    this.showLocationDropdown = false;
    this.showStatusDropdown = false;
    this.showTagsDropdown = false;
    this.showDepartmentDropdown = false;
  }
  isFormValid() {
    return this.assetForm.valid && this.selectedAssetType !== null && this.selectedCategory !== null && !this.nameError && !this.assetTypeError && !this.categoryError && !this.serialNumberError;
  }
  getSelectedParent() {
    return this.possibleParents.find((p) => p.id === this.assetForm.get("parent_id")?.value);
  }
  // Helper method to convert date from display format to backend format
  convertDateToBackendFormat(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, "0");
      const day = String(date.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert backend date format to display format
  convertBackendDateToDisplay(dateStr) {
    if (!dateStr)
      return "";
    try {
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        return dateStr;
      }
      const options = {
        day: "2-digit",
        month: "short",
        year: "numeric"
      };
      return date.toLocaleDateString("en-GB", options).replace(/,/g, ",");
    } catch (error) {
      console.error("Date conversion error:", error);
      return dateStr;
    }
  }
  // Helper method to convert display date string to Date object for flatpickr
  convertDisplayDateToDate(dateStr) {
    if (!dateStr)
      return null;
    try {
      const date = new Date(dateStr);
      return isNaN(date.getTime()) ? null : date;
    } catch (error) {
      console.error("Date conversion error:", error);
      return null;
    }
  }
  static \u0275fac = function AssetEditComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetEditComponent)(\u0275\u0275directiveInject(FormBuilder), \u0275\u0275directiveInject(ActivatedRoute), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Location));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _AssetEditComponent, selectors: [["app-asset-edit"]], viewQuery: function AssetEditComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(_c05, 5);
      \u0275\u0275viewQuery(_c14, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.fileInput = _t.first);
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.dateInputs = _t);
    }
  }, hostBindings: function AssetEditComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275listener("click", function AssetEditComponent_click_HostBindingHandler($event) {
        return ctx.onDocumentClick($event);
      }, false, \u0275\u0275resolveDocument);
    }
  }, decls: 16, vars: 3, consts: [["dateInput", ""], ["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "p-6"], [1, "asset-edit-page"], [1, "mb-8"], [1, "flex", "items-center", "space-x-4", "mb-4"], ["type", "button", 1, "flex", "items-center", "space-x-2", "text-gray-600", "hover:text-gray-800", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 19l-7-7 7-7"], [1, "font-medium"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600"], ["class", "flex items-center justify-center py-20", 4, "ngIf"], [4, "ngIf"], [1, "flex", "items-center", "justify-center", "py-20"], [1, "text-center"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-blue-100", "rounded-full", "mb-4"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "w-8", "h-8", "text-blue-600"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-sm", "text-gray-500"], [1, "inline-flex", "items-center", "justify-center", "w-16", "h-16", "bg-red-100", "rounded-full", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-red-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"], [1, "text-sm", "text-gray-500", "mb-4"], [1, "px-4", "py-2", "bg-blue-600", "text-white", "rounded-lg", "hover:bg-blue-700", "transition-colors", 3, "click"], [3, "ngSubmit", "formGroup"], [1, "section-card"], [1, "flex", "items-center", "space-x-3", "mb-6"], [1, "w-10", "h-10", "bg-blue-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"], [1, "section-title"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6", "mb-6"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-2"], [1, "text-red-500"], ["type", "text", "placeholder", "e.g., Main Server Room AC Unit", "formControlName", "name", 1, "input"], ["class", "text-red-600 text-sm mt-1", 4, "ngIf"], [1, "text-xs", "text-gray-500", "mt-1"], [1, "flex", "items-center", "space-x-3"], ["type", "text", "readonly", "", 1, "input", "flex-1", 3, "value"], [1, "inline-flex", "items-center", "px-3", "py-1", "rounded-full", "text-xs", "font-medium", "bg-blue-100", "text-blue-800"], [1, "mb-6"], [1, "relative", 3, "click"], ["type", "button", 1, "w-full", "px-4", "py-3", "text-left", "border", "border-gray-300", "rounded-lg", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", "bg-white", "transition-all", 3, "click"], [1, "flex", "items-center", "justify-between"], ["class", "text-gray-400", 4, "ngIf"], ["class", "text-gray-900", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-400", "transition-transform"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 9l-7 7-7-7"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto", 4, "ngIf"], ["rows", "3", "placeholder", "Brief description of the asset and its purpose...", "formControlName", "description", "maxlength", "500", 1, "input", "resize-none"], [1, "block", "text-sm", "font-medium", "text-gray-700", "mb-3"], [1, "bg-gray-50", "rounded-lg", "p-4"], [1, "flex", "items-center", "justify-between", "mb-3"], [1, "text-sm", "text-gray-600"], [1, "text-2xl", "font-bold"], [1, "relative", "w-full", "h-6", "mb-3"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-2", "bg-gray-200", "rounded-lg"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "h-2", "rounded-lg", "transition-all", "duration-300"], ["type", "range", "min", "0", "max", "100", "formControlName", "health_score", 1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-full", "h-6", "bg-transparent", "appearance-none", "cursor-pointer", "slider-input"], [1, "absolute", "top-1/2", "transform", "-translate-y-1/2", "w-4", "h-4", "rounded-full", "border-2", "border-white", "shadow-md", "pointer-events-none", "transition-all", "duration-300", 2, "margin-left", "-8px"], [1, "flex", "justify-between", "text-xs", "text-gray-500", "mt-2"], [1, "w-10", "h-10", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"], [1, "grid", "grid-cols-1", "md:grid-cols-2", "gap-6"], ["class", "flex items-center space-x-3", 4, "ngIf"], [1, "w-10", "h-10", "bg-green-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"], [1, "grid", "grid-cols-1", "md:grid-cols-3", "gap-6"], ["type", "text", "placeholder", "e.g., Dell, HP, Toyota", "formControlName", "manufacturer", "maxlength", "100", 1, "input"], ["type", "text", "placeholder", "e.g., PowerEdge R730", "formControlName", "model", "maxlength", "100", 1, "input"], ["type", "text", "placeholder", "e.g., SN123456789", "formControlName", "serial_number", "required", "", "maxlength", "100", 1, "input"], [1, "w-10", "h-10", "bg-yellow-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-yellow-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"], [1, "relative"], [1, "absolute", "inset-y-0", "left-0", "pl-3", "flex", "items-center", "pointer-events-none"], [1, "text-gray-500", "sm:text-sm"], ["type", "number", "placeholder", "5,000.00", "formControlName", "purchase_price", "step", "0.01", "min", "0", 1, "input", 2, "padding-left", "24px"], ["type", "text", "formControlName", "purchase_date", "placeholder", "Select purchase date", "readonly", "", 1, "input"], ["type", "number", "formControlName", "depreciation", "placeholder", "e.g., 20", "min", "0", "max", "100", "step", "0.01", 1, "input"], ["type", "number", "formControlName", "depreciation_life", "placeholder", "e.g., 5", "min", "1", "max", "100", 1, "input"], ["type", "text", "formControlName", "warranty", "placeholder", "e.g., 2 years manufacturer warranty", "maxlength", "255", 1, "input"], ["type", "text", "formControlName", "insurance", "placeholder", "e.g., Policy #12345, expires 2025-12-31", "maxlength", "255", 1, "input"], [1, "w-10", "h-10", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-indigo-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 11a3 3 0 11-6 0 3 3 0 016 0z"], ["class", "absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg", 4, "ngIf"], ["class", "mb-3", 4, "ngIf"], [1, "text-gray-400"], [1, "flex", "items-center", "space-x-2"], ["class", "text-sm text-gray-500", 4, "ngIf"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3", "inline", "mr-1"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "w-10", "h-10", "bg-pink-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-pink-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"], [1, "mt-1", "flex", "justify-center", "px-6", "pt-8", "pb-8", "border-2", "border-dashed", "rounded-lg", "transition-all", "duration-200", 3, "click", "dragover", "dragleave", "drop"], [1, "space-y-1", "text-center"], [1, "w-16", "h-16", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center", "mx-auto", "mb-4"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "transition-colors"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 6v6m0 0v6m0-6h6m-6 0H6"], [1, "text-sm", "transition-colors"], ["id", "file-upload", "name", "file-upload", "type", "file", "accept", "image/*", "multiple", "", 1, "sr-only", 3, "change"], ["class", "mt-6", 4, "ngIf"], ["class", "mb-6 p-4 bg-red-50 border border-red-200 rounded-lg", 4, "ngIf"], ["class", "mb-6 p-4 bg-green-50 border border-green-200 rounded-lg", 4, "ngIf"], [1, "flex", "items-center", "justify-between", "pt-6", "border-t", "border-gray-200"], ["type", "button", 1, "px-6", "py-3", "border", "border-gray-300", "rounded-lg", "text-gray-700", "font-medium", "hover:bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", 3, "click", "disabled"], ["type", "submit", 1, "px-8", "py-3", "bg-blue-600", "text-white", "font-medium", "rounded-lg", "hover:bg-blue-700", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:ring-offset-2", "transition-all", "disabled:opacity-50", "disabled:cursor-not-allowed", "shadow-sm", 3, "disabled"], ["class", "flex items-center space-x-2", 4, "ngIf"], [1, "text-red-600", "text-sm", "mt-1"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "inline", "mr-1"], [1, "text-gray-900"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg", "max-h-60", "overflow-auto"], [1, "py-1"], [1, "px-3", "py-2", "text-xs", "font-medium", "text-gray-500", "uppercase", "tracking-wider", "bg-gray-50"], ["type", "button", 1, "w-full", "px-3", "py-3", "text-left", "hover:bg-blue-50", "focus:bg-blue-50", "focus:outline-none", "transition-colors", 3, "click"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "bg-gray-100", "rounded-lg", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-gray-600"], [1, "font-medium", "text-gray-900"], [1, "text-xs", "text-gray-500"], [1, "w-6", "h-6", "rounded", "flex", "items-center", "justify-center"], ["class", "w-4 h-4", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-4 h-4", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 3, "color", 4, "ngIf"], [1, "w-4", "h-4", 3, "error", "src", "alt"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"], ["type", "button", "class", "w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors", 3, "bg-blue-50", "text-blue-700", "click", 4, "ngFor", "ngForOf"], [1, "w-8", "h-8", "rounded-lg", "flex", "items-center", "justify-center", "bg-blue-100"], ["class", "w-5 h-5", 3, "src", "alt", "error", 4, "ngIf"], ["class", "w-5 h-5 text-blue-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-5", "h-5", 3, "error", "src", "alt"], ["class", "w-5 h-5 text-gray-600", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "w-6", "h-6", "bg-indigo-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-indigo-600"], [1, "w-8", "h-8", "bg-indigo-100", "rounded-lg", "flex", "items-center", "justify-center"], [1, "w-6", "h-6", "bg-purple-100", "rounded", "flex", "items-center", "justify-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-purple-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"], [1, "w-8", "h-8", "bg-purple-100", "rounded-lg", "flex", "items-center", "justify-center"], ["class", "text-xs text-gray-400", 4, "ngIf"], [1, "text-xs", "text-gray-400"], [1, "w-3", "h-3", "rounded-full"], [1, "absolute", "z-50", "w-full", "mt-1", "bg-white", "border", "border-gray-200", "rounded-lg", "shadow-lg"], [1, "mb-3"], [1, "flex", "flex-wrap", "gap-2"], [3, "class", 4, "ngFor", "ngForOf"], ["type", "button", 1, "ml-2", "inline-flex", "items-center", "justify-center", "w-4", "h-4", "rounded-full", "hover:bg-black", "hover:bg-opacity-20", "transition-colors", 3, "click"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-3", "h-3"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M6 18L18 6M6 6l12 12"], [1, "px-3", "py-2", "border-b", "border-gray-100"], ["type", "text", "placeholder", "Type to create new tag...", 1, "w-full", "px-3", "py-2", "text-sm", "border", "border-gray-300", "rounded-md", "focus:outline-none", "focus:ring-2", "focus:ring-blue-500", "focus:border-transparent", 3, "ngModelChange", "keydown", "click", "ngModel", "ngModelOptions"], [1, "absolute", "right-2", "top-1/2", "transform", "-translate-y-1/2", "text-xs", "text-gray-400"], ["class", "text-blue-600", 4, "ngIf"], [1, "text-blue-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "mt-6"], [1, "flex", "items-center", "justify-between", "mb-4"], [1, "text-sm", "font-medium", "text-gray-700"], ["type", "button", 1, "text-red-600", "hover:text-red-700", "text-sm", "font-medium", "transition-colors", 3, "click"], [1, "grid", "grid-cols-2", "md:grid-cols-3", "lg:grid-cols-4", "gap-4"], ["class", "relative group", 4, "ngFor", "ngForOf"], [1, "mt-4", "p-3", "bg-blue-50", "border", "border-blue-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "text-blue-600"], [1, "text-blue-800", "text-sm"], [1, "relative", "group"], [1, "relative", "aspect-square", "bg-gray-100", "rounded-lg", "overflow-hidden", "border", "border-gray-200", "hover:border-blue-300", "transition-colors"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-0", "group-hover:opacity-50", "transition-all", "duration-200", "flex", "items-center", "justify-center"], [1, "opacity-0", "group-hover:opacity-100", "transition-opacity", "duration-200", "flex", "items-center", "space-x-2"], ["type", "button", 1, "w-8", "h-8", "bg-white", "bg-opacity-90", "text-gray-700", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-opacity-100", "transition-all", "shadow-sm", 3, "click"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"], ["type", "button", 1, "absolute", "top-2", "right-2", "w-6", "h-6", "bg-red-500", "text-white", "rounded-full", "flex", "items-center", "justify-center", "hover:bg-red-600", "transition-colors", "shadow-sm", 3, "click"], [1, "absolute", "top-2", "left-2", "px-2", "py-1", "bg-green-600", "text-white", "rounded", "text-xs", "font-medium"], [1, "mt-2", "text-center"], [1, "text-xs", "text-gray-600", "truncate"], ["loading", "lazy", 1, "w-full", "h-full", "object-cover", "bg-white", 3, "error", "load", "src", "alt"], [1, "absolute", "inset-0", "bg-black", "opacity-50", "group-hover:bg-opacity-20", "transition-all", "duration-200", "flex", "items-center", "justify-center"], ["type", "button", "class", "w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm", 3, "click", 4, "ngIf"], [1, "absolute", "top-2", "left-2", "px-2", "py-1", "bg-blue-600", "text-white", "rounded", "text-xs", "font-medium"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 15l7-7 7 7"], [1, "mb-6", "p-4", "bg-red-50", "border", "border-red-200", "rounded-lg"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-600"], [1, "text-red-800", "font-medium"], [1, "mb-6", "p-4", "bg-green-50", "border", "border-green-200", "rounded-lg"], [1, "text-green-800", "font-medium"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5"], ["xmlns", "http://www.w3.org/2000/svg", "fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "h-5", "w-5"]], template: function AssetEditComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "button", 6);
      \u0275\u0275listener("click", function AssetEditComponent_Template_button_click_4_listener() {
        return ctx.goBack();
      });
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(5, "svg", 7);
      \u0275\u0275element(6, "path", 8);
      \u0275\u0275elementEnd();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(7, "span", 9);
      \u0275\u0275text(8, "Back to Assets");
      \u0275\u0275elementEnd()()();
      \u0275\u0275elementStart(9, "h1", 10);
      \u0275\u0275text(10, "Edit Asset");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(11, "p", 11);
      \u0275\u0275text(12, " Update asset information and specifications ");
      \u0275\u0275elementEnd()();
      \u0275\u0275template(13, AssetEditComponent_div_13_Template, 10, 0, "div", 12)(14, AssetEditComponent_div_14_Template, 11, 1, "div", 12)(15, AssetEditComponent_div_15_Template, 279, 104, "div", 13);
      \u0275\u0275elementEnd()();
    }
    if (rf & 2) {
      \u0275\u0275advance(13);
      \u0275\u0275property("ngIf", ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.error && !ctx.loading);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.loading && !ctx.error);
    }
  }, dependencies: [CommonModule, NgForOf, NgIf, ReactiveFormsModule, \u0275NgNoValidate, DefaultValueAccessor, NumberValueAccessor, RangeValueAccessor, NgControlStatus, NgControlStatusGroup, RequiredValidator, MaxLengthValidator, MinValidator, MaxValidator, FormGroupDirective, FormControlName, FormsModule, NgModel, RouterModule], styles: ["\n\n.asset-edit-page[_ngcontent-%COMP%] {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card[_ngcontent-%COMP%] {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card[_ngcontent-%COMP%]:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title[_ngcontent-%COMP%] {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input[_ngcontent-%COMP%] {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input[_ngcontent-%COMP%]::placeholder {\n  color: #9ca3af;\n}\n.input[_ngcontent-%COMP%]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300[_ngcontent-%COMP%] {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page[_ngcontent-%COMP%] {\n    padding: 1rem;\n  }\n  .section-card[_ngcontent-%COMP%] {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2[_ngcontent-%COMP%], \n   .grid-cols-3[_ngcontent-%COMP%] {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\n  animation: _ngcontent-%COMP%_slideDown 0.2s ease-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover {\n  background-color: #eff6ff;\n}\n@keyframes _ngcontent-%COMP%_slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n.transition-transform[_ngcontent-%COMP%] {\n  transition: transform 0.2s ease-in-out;\n}\n[_nghost-%COMP%]     .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n[_nghost-%COMP%]     .flatpickr-day {\n  border-radius: 0.375rem;\n}\n[_nghost-%COMP%]     .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n[_nghost-%COMP%]     .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n[_nghost-%COMP%]     .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n[_nghost-%COMP%]     .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n[_nghost-%COMP%]     .flatpickr-input {\n  cursor: pointer;\n}\n[_nghost-%COMP%]     .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input[_ngcontent-%COMP%]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input[_ngcontent-%COMP%]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-edit.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetEditComponent, [{
    type: Component,
    args: [{ selector: "app-asset-edit", standalone: true, imports: [CommonModule, ReactiveFormsModule, FormsModule, RouterModule], template: `<div class="min-h-screen bg-gray-50 p-6">\r
  <div class="asset-edit-page">\r
    <!-- Header -->\r
    <div class="mb-8">\r
      <div class="flex items-center space-x-4 mb-4">\r
        <button\r
          type="button"\r
          (click)="goBack()"\r
          class="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors">\r
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r
          </svg>\r
          <span class="font-medium">Back to Assets</span>\r
        </button>\r
      </div>\r
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Edit Asset</h1>\r
      <p class="text-gray-600">\r
        Update asset information and specifications\r
      </p>\r
    </div>\r
\r
    <!-- Loading State -->\r
    <div *ngIf="loading" class="flex items-center justify-center py-20">\r
      <div class="text-center">\r
        <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">\r
          <svg class="animate-spin w-8 h-8 text-blue-600" fill="none" viewBox="0 0 24 24">\r
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
          </svg>\r
        </div>\r
        <h3 class="text-lg font-medium text-gray-900 mb-2">Loading Asset</h3>\r
        <p class="text-sm text-gray-500">Please wait while we fetch the asset details...</p>\r
      </div>\r
    </div>\r
\r
    <!-- Error State -->\r
    <div *ngIf="error && !loading" class="flex items-center justify-center py-20">\r
      <div class="text-center">\r
        <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">\r
          <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
          </svg>\r
        </div>\r
        <h3 class="text-lg font-medium text-gray-900 mb-2">Error Loading Asset</h3>\r
        <p class="text-sm text-gray-500 mb-4">{{error}}</p>\r
        <button\r
          (click)="goBack()"\r
          class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\r
          Back to Assets\r
        </button>\r
      </div>\r
    </div>\r
\r
    <!-- Form Content -->\r
    <div *ngIf="!loading && !error">\r
      <form [formGroup]="assetForm" (ngSubmit)="onSubmit()" >\r
        <!-- Basic Information -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Basic Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Asset Name <span class="text-red-500">*</span>\r
              </label>\r
              <input\r
                type="text"\r
                class="input"\r
                [class.border-red-300]="nameError"\r
                placeholder="e.g., Main Server Room AC Unit"\r
                formControlName="name" />\r
              <div *ngIf="nameError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ nameError }}\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Asset ID</label>\r
              <div class="flex items-center space-x-3">\r
                <input type="text" class="input flex-1" [value]="asset?.asset_id || asset?.id" readonly />\r
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">\r
                  auto-generated\r
                </span>\r
              </div>\r
              <p class="text-xs text-gray-500 mt-1">Unique identifier automatically assigned</p>\r
            </div>\r
          </div>\r
\r
          <div class="mb-6">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Parent Asset</label>\r
            <!-- Custom Parent Asset Dropdown -->\r
            <div class="relative" (click)="$event.stopPropagation()">\r
              <button\r
                type="button"\r
                (click)="showParentDropdown = !showParentDropdown"\r
                class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                [class.border-blue-500]="showParentDropdown">\r
                <div class="flex items-center justify-between">\r
                  <span *ngIf="!assetForm.get('parent_id')?.value" class="text-gray-400">Select parent asset</span>\r
                  <span *ngIf="assetForm.get('parent_id')?.value && getSelectedParent()" class="text-gray-900">\r
                    {{ getSelectedParent().name }} ({{ getSelectedParent().asset_id }})\r
                  </span>\r
                  <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showParentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                  </svg>\r
                </div>\r
              </button>\r
              <!-- Dropdown Menu -->\r
              <div *ngIf="showParentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                <div class="py-1">\r
                  <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select parent asset</div>\r
                  <button\r
                    type="button"\r
                    (click)="assetForm.get('parent_id')?.setValue(null); showParentDropdown = false"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="!assetForm.get('parent_id')?.value">\r
                    -- None --\r
                  </button>\r
                  <button\r
                    *ngFor="let parent of possibleParents"\r
                    type="button"\r
                    (click)="assetForm.get('parent_id')?.setValue(parent.id); showParentDropdown = false"\r
                    class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                    [class.bg-blue-50]="assetForm.get('parent_id')?.value === parent.id">\r
                    <div class="flex items-center space-x-3">\r
                      <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                        </svg>\r
                      </div>\r
                      <div>\r
                        <div class="font-medium text-gray-900">{{parent.name}}</div>\r
                        <div class="text-xs text-gray-500">{{parent.asset_id}}</div>\r
                      </div>\r
                    </div>\r
                  </button>\r
                </div>\r
              </div>\r
            </div>\r
            <div class="text-xs text-gray-500 mt-1">Optional: Select a parent asset if this asset is a child of another.</div>\r
          </div>\r
\r
          <div class="mb-6">\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>\r
            <textarea\r
              class="input resize-none"\r
              rows="3"\r
              placeholder="Brief description of the asset and its purpose..."\r
              formControlName="description"\r
              maxlength="500"></textarea>\r
            <div class="text-xs text-gray-500 mt-1">Maximum 500 characters</div>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-3">Health Score</label>\r
            <div class="bg-gray-50 rounded-lg p-4">\r
              <div class="flex items-center justify-between mb-3">\r
                <span class="text-sm text-gray-600">Current Score</span>\r
                <span class="text-2xl font-bold" [class.text-red-600]="(assetForm.get('health_score')?.value || 85) < 50" [class.text-green-600]="(assetForm.get('health_score')?.value || 85) >= 50">{{ assetForm.get('health_score')?.value || 85 }}%</span>\r
              </div>\r
              <!-- Custom Health Score Bar with Working Slider -->\r
              <div class="relative w-full h-6 mb-3">\r
                <!-- Background Track -->\r
                <div class="absolute top-1/2 transform -translate-y-1/2 w-full h-2 bg-gray-200 rounded-lg"></div>\r
\r
                <!-- Progress Bar -->\r
                <div\r
                  class="absolute top-1/2 transform -translate-y-1/2 h-2 rounded-lg transition-all duration-300"\r
                  [class.bg-red-500]="(assetForm.get('health_score')?.value || 85) < 50"\r
                  [class.bg-green-500]="(assetForm.get('health_score')?.value || 85) >= 50"\r
                  [style.width.%]="assetForm.get('health_score')?.value || 85"></div>\r
\r
                <!-- Interactive Range Input -->\r
                <input\r
                  type="range"\r
                  min="0"\r
                  max="100"\r
                  formControlName="health_score"\r
                  class="absolute top-1/2 transform -translate-y-1/2 w-full h-6 bg-transparent appearance-none cursor-pointer slider-input" />\r
\r
                <!-- Custom Thumb -->\r
                <div\r
                  class="absolute top-1/2 transform -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md pointer-events-none transition-all duration-300"\r
                  [class.bg-red-500]="(assetForm.get('health_score')?.value || 85) < 50"\r
                  [class.bg-green-500]="(assetForm.get('health_score')?.value || 85) >= 50"\r
                  [style.left.%]="assetForm.get('health_score')?.value || 85"\r
                  style="margin-left: -8px;"></div>\r
              </div>\r
\r
              <div class="flex justify-between text-xs text-gray-500 mt-2">\r
                <span>Poor (0%)</span>\r
                <span>Fair (25%)</span>\r
                <span>Good (50%)</span>\r
                <span>Very Good (75%)</span>\r
                <span>Excellent (100%)</span>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Classification -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Asset Classification</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Asset Type <span class="text-red-500">*</span>\r
              </label>\r
              <!-- Custom Asset Type Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleAssetTypeDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-red-300]="assetTypeError"\r
                  [class.border-blue-500]="showAssetTypeDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedAssetType" class="text-gray-400">Select asset type</span>\r
                    <div *ngIf="selectedAssetType" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 rounded flex items-center justify-center" [style.background-color]="selectedAssetType.color + '20'">\r
                        <img\r
                          *ngIf="selectedAssetType.icon && !selectedAssetType.iconError"\r
                          [src]="selectedAssetType.icon"\r
                          [alt]="selectedAssetType.name || selectedAssetType.label"\r
                          class="w-4 h-4"\r
                          (error)="onAssetTypeIconError($event, selectedAssetType)">\r
                        <svg\r
                          *ngIf="!selectedAssetType.icon || selectedAssetType.iconError"\r
                          class="w-4 h-4"\r
                          [style.color]="selectedAssetType.color"\r
                          fill="none"\r
                          stroke="currentColor"\r
                          viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedAssetType.label}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showAssetTypeDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showAssetTypeDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select asset type</div>\r
                    <button\r
                      *ngFor="let type of assetTypes"\r
                      type="button"\r
                      (click)="selectAssetType(type)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedAssetType?.id === type.id"\r
                      [class.text-blue-700]="selectedAssetType?.id === type.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100">\r
                          <img\r
                            *ngIf="type.icon && !type.iconError"\r
                            [src]="type.icon"\r
                            [alt]="type.name || type.label"\r
                            class="w-5 h-5"\r
                            (error)="onAssetTypeIconError($event, type)">\r
                          <svg\r
                            *ngIf="!type.icon || type.iconError"\r
                            class="w-5 h-5 text-blue-600"\r
                            fill="none"\r
                            stroke="currentColor"\r
                            viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{type.label || type.name}}</div>\r
                          <div class="text-sm text-gray-500">{{type.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div *ngIf="assetTypeError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ assetTypeError }}\r
              </div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Category <span class="text-red-500">*</span>\r
              </label>\r
              <!-- Custom Category Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleCategoryDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-red-300]="categoryError"\r
                  [class.border-blue-500]="showCategoryDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedCategory" class="text-gray-400">Select category</span>\r
                    <span *ngIf="selectedCategory" class="text-gray-900">{{selectedCategory.name}}</span>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showCategoryDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showCategoryDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select category</div>\r
                    <button\r
                      *ngFor="let cat of categories"\r
                      type="button"\r
                      (click)="selectCategory(cat)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedCategory?.id === cat.id"\r
                      [class.text-blue-700]="selectedCategory?.id === cat.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">\r
                          <img\r
                            *ngIf="cat.icon"\r
                            [src]="cat.icon"\r
                            [alt]="cat.name"\r
                            class="w-5 h-5"\r
                            (error)="onCategoryIconError($event, cat)">\r
                          <svg\r
                            *ngIf="!cat.icon || cat.iconError"\r
                            class="w-5 h-5 text-gray-600"\r
                            fill="none"\r
                            stroke="currentColor"\r
                            viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{cat.name}}</div>\r
                          <div *ngIf="cat.description" class="text-sm text-gray-500">{{cat.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div *ngIf="categoryError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ categoryError }}\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Technical Details -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Technical Details</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Manufacturer</label>\r
              <input\r
                type="text"\r
                class="input"\r
                placeholder="e.g., Dell, HP, Toyota"\r
                formControlName="manufacturer"\r
                maxlength="100" />\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Model</label>\r
              <input\r
                type="text"\r
                class="input"\r
                placeholder="e.g., PowerEdge R730"\r
                formControlName="model"\r
                maxlength="100" />\r
              <div class="text-xs text-gray-500 mt-1">Maximum 100 characters</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">\r
                Serial Number <span class="text-red-500">*</span>\r
              </label>\r
              <input\r
                type="text"\r
                class="input"\r
                [class.border-red-300]="serialNumberError"\r
                placeholder="e.g., SN123456789"\r
                formControlName="serial_number"\r
                required\r
                maxlength="100" />\r
              <div *ngIf="serialNumberError" class="text-red-600 text-sm mt-1">\r
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
                </svg>\r
                {{ serialNumberError }}\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Required, max 100 chars, must be unique within your company</div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Financial Information -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Financial Information</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Value (USD)</label>\r
              <div class="relative">\r
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\r
                  <span class="text-gray-500 sm:text-sm">$ </span>\r
                </div>\r
                <input\r
                  type="number"\r
                  class="input"\r
                  style="padding-left: 24px;"\r
                  placeholder="5,000.00"\r
                  formControlName="purchase_price"\r
                  step="0.01"\r
                  min="0" />\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Must be a non-negative number</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Purchase Date</label>\r
              <input\r
                #dateInput\r
                type="text"\r
                class="input"\r
                formControlName="purchase_date"\r
                placeholder="Select purchase date"\r
                readonly />\r
              <div class="text-xs text-gray-500 mt-1">Cannot be in the future</div>\r
            </div>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Rate (%)</label>\r
              <input\r
                type="number"\r
                class="input"\r
                formControlName="depreciation"\r
                placeholder="e.g., 20"\r
                min="0"\r
                max="100"\r
                step="0.01" />\r
              <div class="text-xs text-gray-500 mt-1">Annual depreciation rate (0-100%)</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Depreciation Life (Years)</label>\r
              <input\r
                type="number"\r
                class="input"\r
                formControlName="depreciation_life"\r
                placeholder="e.g., 5"\r
                min="1"\r
                max="100" />\r
              <div class="text-xs text-gray-500 mt-1">Useful life for depreciation calculation (1-100 years)</div>\r
            </div>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Warranty Information</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="warranty"\r
                placeholder="e.g., 2 years manufacturer warranty"\r
                maxlength="255" />\r
              <div class="text-xs text-gray-500 mt-1">Warranty details (max 255 characters)</div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Insurance Information</label>\r
              <input\r
                type="text"\r
                class="input"\r
                formControlName="insurance"\r
                placeholder="e.g., Policy #12345, expires 2025-12-31"\r
                maxlength="255" />\r
              <div class="text-xs text-gray-500 mt-1">Insurance details (max 255 characters)</div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Location & Assignment -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Location & Assignment</h2>\r
          </div>\r
\r
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>\r
              <!-- Custom Location Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleLocationDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showLocationDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedLocation" class="text-gray-400">Select location</span>\r
                    <div *ngIf="selectedLocation" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 bg-indigo-100 rounded flex items-center justify-center">\r
                        <svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedLocation.name}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showLocationDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showLocationDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select location</div>\r
                    <button\r
                      *ngFor="let loc of locations"\r
                      type="button"\r
                      (click)="selectLocation(loc)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedLocation?.id === loc.id"\r
                      [class.text-blue-700]="selectedLocation?.id === loc.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">\r
                          <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{loc.name}}</div>\r
                          <div *ngIf="loc.type" class="text-sm text-gray-500">{{loc.type.name}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
            </div>\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Department ID</label>\r
              <!-- Custom Department Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleDepartmentDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showDepartmentDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span *ngIf="!selectedDepartment" class="text-gray-400">Select department</span>\r
                    <div *ngIf="selectedDepartment" class="flex items-center space-x-3">\r
                      <div class="w-6 h-6 bg-purple-100 rounded flex items-center justify-center">\r
                        <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                        </svg>\r
                      </div>\r
                      <span class="text-gray-900">{{selectedDepartment.name}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showDepartmentDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showDepartmentDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select department</div>\r
                    <button\r
                      *ngFor="let dept of departments"\r
                      type="button"\r
                      (click)="selectDepartment(dept)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedDepartment?.id === dept.id"\r
                      [class.text-blue-700]="selectedDepartment?.id === dept.id">\r
                      <div class="flex items-center space-x-3">\r
                        <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">\r
                          <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>\r
                          </svg>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{dept.name}}</div>\r
                          <div *ngIf="dept.description" class="text-sm text-gray-500">{{dept.description}}</div>\r
                          <div *ngIf="dept.code" class="text-xs text-gray-400">Code: {{dept.code}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Optional department assignment</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>\r
              <!-- Custom Status Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleStatusDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showStatusDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <div *ngIf="selectedStatus" class="flex items-center space-x-3">\r
                      <div class="w-3 h-3 rounded-full" [style.background-color]="selectedStatus.hexColor || '#6B7280'"></div>\r
                      <span class="text-gray-900">{{selectedStatus.label}}</span>\r
                    </div>\r
                    <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showStatusDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                    </svg>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showStatusDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg">\r
                  <div class="py-1">\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select status</div>\r
                    <button\r
                      *ngFor="let status of statusOptions"\r
                      type="button"\r
                      (click)="selectStatus(status)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="selectedStatus?.value === status.value"\r
                      [class.text-blue-700]="selectedStatus?.value === status.value">\r
                      <div class="flex items-center space-x-3">\r
                        <div [class]="'w-6 h-6 bg-' + status.color + '-100 rounded-lg flex items-center justify-center'">\r
                          <div class="w-3 h-3 rounded-full" [style.background-color]="status.hexColor || '#6B7280'"></div>\r
                        </div>\r
                        <div>\r
                          <div class="font-medium text-gray-900">{{status.label}}</div>\r
                          <div class="text-sm text-gray-500">{{status.description}}</div>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">Current operational status of the asset</div>\r
            </div>\r
\r
            <div>\r
              <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>\r
              <!-- Selected Tags Display -->\r
              <div *ngIf="selectedTags.length > 0" class="mb-3">\r
                <div class="flex flex-wrap gap-2">\r
                  <span *ngFor="let tag of selectedTags"\r
                        [class]="'inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-' + tag.color + '-100 text-' + tag.color + '-800'">\r
                    {{tag.name}}\r
                    <button\r
                      type="button"\r
                      (click)="removeTag(tag)"\r
                      class="ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors">\r
                      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
                  </span>\r
                </div>\r
              </div>\r
\r
              <!-- Tags Dropdown -->\r
              <div class="relative" (click)="$event.stopPropagation()">\r
                <button\r
                  type="button"\r
                  (click)="toggleTagsDropdown()"\r
                  class="w-full px-4 py-3 text-left border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white transition-all"\r
                  [class.border-blue-500]="showTagsDropdown">\r
                  <div class="flex items-center justify-between">\r
                    <span class="text-gray-400">\r
                      {{selectedTags.length === 0 ? 'Select tags' : 'Add more tags'}}\r
                    </span>\r
                    <div class="flex items-center space-x-2">\r
                      <span *ngIf="selectedTags.length > 0" class="text-sm text-gray-500">\r
                        {{selectedTags.length}} selected\r
                      </span>\r
                      <svg class="w-5 h-5 text-gray-400 transition-transform" [class.rotate-180]="showTagsDropdown" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                      </svg>\r
                    </div>\r
                  </div>\r
                </button>\r
\r
                <!-- Dropdown Menu -->\r
                <div *ngIf="showTagsDropdown" class="absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto">\r
                  <div class="py-1">\r
                    <!-- Add New Tag Input -->\r
                    <div class="px-3 py-2 border-b border-gray-100">\r
                      <div class="relative">\r
                        <input\r
                          type="text"\r
                          [(ngModel)]="newTagInput"\r
                          [ngModelOptions]="{standalone: true}"\r
                          (keydown)="onTagInputKeydown($event)"\r
                          placeholder="Type to create new tag..."\r
                          class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"\r
                          (click)="$event.stopPropagation()">\r
                        <div class="absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-400">\r
                          Press Enter\r
                        </div>\r
                      </div>\r
                    </div>\r
\r
                    <div class="px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50">Select tags</div>\r
                    <button\r
                      *ngFor="let tag of availableTags"\r
                      type="button"\r
                      (click)="toggleTag(tag)"\r
                      class="w-full px-3 py-3 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none transition-colors"\r
                      [class.bg-blue-50]="isTagSelected(tag)">\r
                      <div class="flex items-center justify-between">\r
                        <div class="flex items-center space-x-3">\r
                          <div [class]="'w-6 h-6 bg-' + tag.color + '-100 rounded-full flex items-center justify-center'">\r
                            <div [class]="'w-3 h-3 rounded-full bg-' + tag.color + '-500'"></div>\r
                          </div>\r
                          <span class="font-medium text-gray-900">{{tag.name}}</span>\r
                        </div>\r
                        <div *ngIf="isTagSelected(tag)" class="text-blue-600">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                          </svg>\r
                        </div>\r
                      </div>\r
                    </button>\r
                  </div>\r
                </div>\r
              </div>\r
              <div class="text-xs text-gray-500 mt-1">\r
                <svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                </svg>\r
                Select existing tags or type to create new ones. Press Enter to add custom tags.\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Asset Image -->\r
        <div class="section-card">\r
          <div class="flex items-center space-x-3 mb-6">\r
            <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center">\r
              <svg class="w-5 h-5 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>\r
              </svg>\r
            </div>\r
            <h2 class="section-title">Asset Image</h2>\r
          </div>\r
\r
          <div>\r
            <label class="block text-sm font-medium text-gray-700 mb-2">Upload Image</label>\r
            <div\r
              (click)="triggerFileInput()"\r
              class="mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed rounded-lg transition-all duration-200"\r
              [class.border-gray-300]="!isDragOver"\r
              [class.border-blue-500]="isDragOver"\r
              [class.bg-blue-50]="isDragOver"\r
              [class.hover:border-blue-400]="!isDragOver"\r
              (dragover)="onDragOver($event)"\r
              (dragleave)="onDragLeave($event)"\r
              (drop)="onDrop($event)">\r
              <div class="space-y-1 text-center">\r
                <!-- Upload Icon -->\r
                <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4">\r
                  <svg class="w-8 h-8 transition-colors"\r
                       [class.text-gray-400]="!isDragOver"\r
                       [class.text-blue-500]="isDragOver"\r
                       fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\r
                  </svg>\r
                </div>\r
\r
                <p class="text-sm transition-colors"\r
                   [class.text-gray-500]="!isDragOver"\r
                   [class.text-blue-600]="isDragOver">\r
                  {{isDragOver ? 'Release to upload images' : 'PNG, JPG, GIF up to 10MB - click to browse or drag and drop files here'}}\r
                </p>\r
\r
                <!-- Hidden file input for drag and drop -->\r
                <input #fileInput id="file-upload" name="file-upload" type="file" class="sr-only" (change)="onFileChange($event)" accept="image/*" multiple>\r
              </div>\r
            </div>\r
\r
            <!-- Image Gallery -->\r
            <div *ngIf="existingImages.length > 0 || imagePreviewUrls.length > 0" class="mt-6">\r
              <div class="flex items-center justify-between mb-4">\r
                <h4 class="text-sm font-medium text-gray-700">Asset Images ({{existingImages.length + imagePreviewUrls.length}})</h4>\r
                <button\r
                  type="button"\r
                  (click)="removeAllImages(); removeAllExistingImages()"\r
                  class="text-red-600 hover:text-red-700 text-sm font-medium transition-colors">\r
                  Remove All\r
                </button>\r
              </div>\r
\r
              <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">\r
                <!-- Existing Images -->\r
                <div *ngFor="let existingImage of existingImages; let i = index" class="relative group">\r
                  <!-- Image Preview -->\r
                  <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                    <img\r
                      [src]="existingImage.image_url"\r
                      [alt]="'Existing Asset Image ' + (i + 1)"\r
                      class="w-full h-full object-cover bg-white"\r
                      (error)="onImageError($event, i)"\r
                      loading="lazy" />\r
\r
                    <!-- Image Overlay -->\r
                    <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-50 transition-all duration-200 flex items-center justify-center">\r
                      <!-- Action Buttons -->\r
                      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                        <!-- View Full Size -->\r
                        <button\r
                          type="button"\r
                          (click)="viewFullImage(existingImage.image_url)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>\r
                          </svg>\r
                        </button>\r
                      </div>\r
                    </div>\r
\r
                    <!-- Remove Button -->\r
                    <button\r
                      type="button"\r
                      (click)="removeExistingImage(i)"\r
                      class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
\r
                    <!-- Existing Image Badge -->\r
                    <div class="absolute top-2 left-2 px-2 py-1 bg-green-600 text-white rounded text-xs font-medium">\r
                      Existing\r
                    </div>\r
                  </div>\r
\r
                  <!-- Image Info -->\r
                  <div class="mt-2 text-center">\r
                    <p class="text-xs text-gray-600 truncate">{{existingImage.image_path.split('/').pop()}}</p>\r
                    <p class="text-xs text-gray-500">Existing Image</p>\r
                  </div>\r
                </div>\r
\r
                <!-- New Images -->\r
                <div *ngFor="let previewUrl of imagePreviewUrls; let i = index" class="relative group">\r
                  <!-- Image Preview -->\r
                  <div class="relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-colors">\r
                    <img\r
                      [src]="previewUrl"\r
                      [alt]="'Asset Image ' + (i + 1)"\r
                      class="w-full h-full object-cover bg-white"\r
                      (error)="onImageError($event, existingImages.length + i)"\r
                      (load)="onImageLoad($event, existingImages.length + i)"\r
                      loading="lazy" />\r
\r
                    <!-- Image Overlay -->\r
                    <div class="absolute inset-0 bg-black opacity-50 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center">\r
                      <!-- Action Buttons -->\r
                      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center space-x-2">\r
                        <!-- Move Up -->\r
                        <button\r
                          *ngIf="i > 0"\r
                          type="button"\r
                          (click)="moveImageUp(i)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>\r
                          </svg>\r
                        </button>\r
\r
                        <!-- Move Down -->\r
                        <button\r
                          *ngIf="i < imagePreviewUrls.length - 1"\r
                          type="button"\r
                          (click)="moveImageDown(i)"\r
                          class="w-8 h-8 bg-white bg-opacity-90 text-gray-700 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-sm">\r
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>\r
                          </svg>\r
                        </button>\r
                      </div>\r
                    </div>\r
\r
                    <!-- Remove Button -->\r
                    <button\r
                      type="button"\r
                      (click)="removeImage(i)"\r
                      class="absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-sm">\r
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r
                      </svg>\r
                    </button>\r
\r
                    <!-- Image Number Badge -->\r
                    <div class="absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white rounded text-xs font-medium">\r
                      New\r
                    </div>\r
                  </div>\r
\r
                  <!-- Image Info -->\r
                  <div class="mt-2 text-center">\r
                    <p class="text-xs text-gray-600 truncate">{{images[i]?.name}}</p>\r
                    <p class="text-xs text-gray-500">{{ ((images[i]?.size ?? 0) / 1024 / 1024).toFixed(1) }} MB</p>\r
                  </div>\r
                </div>\r
              </div>\r
\r
              <!-- Gallery Instructions -->\r
              <div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">\r
                <div class="flex items-center space-x-2">\r
                  <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
                  </svg>\r
                  <p class="text-blue-800 text-sm">\r
                    <strong>Gallery Tips:</strong> Existing images are preserved. New images can be reordered. Green badges indicate existing images, blue badges indicate new uploads.\r
                  </p>\r
                </div>\r
              </div>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- Global Error Message -->\r
        <div *ngIf="submitError" class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">\r
          <div class="flex items-center space-x-2">\r
            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>\r
            </svg>\r
            <p class="text-red-800 font-medium">{{ submitError }}</p>\r
          </div>\r
        </div>\r
\r
        <!-- Success Message -->\r
        <div *ngIf="submitSuccess" class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">\r
          <div class="flex items-center space-x-2">\r
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
            </svg>\r
            <p class="text-green-800 font-medium">{{ submitSuccess }}</p>\r
          </div>\r
        </div>\r
\r
        <!-- Actions -->\r
        <div class="flex items-center justify-between pt-6 border-t border-gray-200">\r
          <button\r
            type="button"\r
            (click)="goBack()"\r
            [disabled]="saving"\r
            class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed">\r
            Cancel\r
          </button>\r
\r
          <button\r
            type="submit"\r
            [disabled]="saving || !isFormValid()"\r
            class="px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm">\r
            <span *ngIf="!saving" class="flex items-center space-x-2">\r
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
              </svg>\r
              <span>Update Asset</span>\r
            </span>\r
            <span *ngIf="saving" class="flex items-center space-x-2">\r
              <svg xmlns="http://www.w3.org/2000/svg" class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">\r
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
              </svg>\r
              <span>Updating Asset...</span>\r
            </span>\r
          </button>\r
        </div>\r
      </form>\r
    </div>\r
  </div>\r
</div>`, styles: ["/* src/app/assets/components/asset-edit/asset-edit.component.scss */\n.asset-edit-page {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n.section-card {\n  background: #fff;\n  border-radius: 1.5rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n  transition: all 0.2s ease-in-out;\n}\n.section-card:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n.section-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0;\n  color: #1f2937;\n}\n.input {\n  width: 100%;\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem 0.875rem;\n  font-size: 1rem;\n  background: #ffffff;\n  transition: all 0.2s ease-in-out;\n}\n.input::placeholder {\n  color: #9ca3af;\n}\n.input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  background: #ffffff;\n}\n.input.border-red-300 {\n  border-color: #fca5a5;\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\n}\n@media (max-width: 768px) {\n  .asset-create-page {\n    padding: 1rem;\n  }\n  .section-card {\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n  }\n  .grid-cols-2,\n  .grid-cols-3 {\n    grid-template-columns: 1fr;\n  }\n}\n.custom-dropdown .dropdown-button {\n  transition: all 0.2s ease-in-out;\n}\n.custom-dropdown .dropdown-button:hover {\n  border-color: #9ca3af;\n}\n.custom-dropdown .dropdown-button:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.custom-dropdown .dropdown-menu {\n  animation: slideDown 0.2s ease-out;\n}\n.custom-dropdown .dropdown-item {\n  transition: all 0.15s ease-in-out;\n}\n.custom-dropdown .dropdown-item:hover {\n  background-color: #eff6ff;\n}\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.rotate-180 {\n  transform: rotate(180deg);\n}\n.transition-transform {\n  transition: transform 0.2s ease-in-out;\n}\n:host ::ng-deep .flatpickr-calendar {\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  border: 1px solid #e5e7eb;\n  font-family: inherit;\n}\n:host ::ng-deep .flatpickr-day {\n  border-radius: 0.375rem;\n}\n:host ::ng-deep .flatpickr-day:hover {\n  background-color: #eff6ff;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.selected {\n  background-color: #3b82f6;\n  border-color: #3b82f6;\n}\n:host ::ng-deep .flatpickr-day.today {\n  border-color: #3b82f6;\n  color: #3b82f6;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-months {\n  background-color: #f8fafc;\n  border-radius: 0.5rem 0.5rem 0 0;\n}\n:host ::ng-deep .flatpickr-current-month {\n  color: #1f2937;\n  font-weight: 600;\n}\n:host ::ng-deep .flatpickr-weekday {\n  color: #6b7280;\n  font-weight: 500;\n}\n:host ::ng-deep .flatpickr-input {\n  cursor: pointer;\n}\n:host ::ng-deep .flatpickr-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.slider-input {\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  outline: none;\n  z-index: 20;\n}\n.slider-input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  position: relative;\n  z-index: 30;\n}\n.slider-input::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: transparent;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-shadow: none;\n}\n.slider-input:focus {\n  outline: none;\n}\n/*# sourceMappingURL=asset-edit.component.css.map */\n"] }]
  }], () => [{ type: FormBuilder }, { type: ActivatedRoute }, { type: Router }, { type: AssetService }, { type: Location }], { dateInputs: [{
    type: ViewChildren,
    args: ["dateInput"]
  }], fileInput: [{
    type: ViewChild,
    args: ["fileInput", { static: false }]
  }], onDocumentClick: [{
    type: HostListener,
    args: ["document:click", ["$event"]]
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(AssetEditComponent, { className: "AssetEditComponent", filePath: "src/app/assets/components/asset-edit/asset-edit.component.ts", lineNumber: 18 });
})();

// src/app/assets/components/smart-import/smart-import.component.ts
function SmartImportComponent_div_26_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 20)(1, "div", 12);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 21);
    \u0275\u0275element(3, "path", 22);
    \u0275\u0275elementEnd();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "span", 23);
    \u0275\u0275text(5);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate(ctx_r0.errorMessage);
  }
}
function SmartImportComponent_div_27_div_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "p", 35);
    \u0275\u0275text(2, "Choose Excel File");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "p", 36);
    \u0275\u0275text(4, "or drag and drop your file here");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "button", 37);
    \u0275\u0275listener("click", function SmartImportComponent_div_27_div_5_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r2);
      const fileInput_r3 = \u0275\u0275reference(8);
      return \u0275\u0275resetView(fileInput_r3.click());
    });
    \u0275\u0275text(6, " Browse Files ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "input", 38, 0);
    \u0275\u0275listener("change", function SmartImportComponent_div_27_div_5_Template_input_change_7_listener($event) {
      \u0275\u0275restoreView(_r2);
      const ctx_r0 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r0.parseFile($event));
    });
    \u0275\u0275elementEnd()();
  }
}
function SmartImportComponent_div_27_div_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 32)(1, "div", 39);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(2, "svg", 40);
    \u0275\u0275element(3, "path", 41);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(4, "p", 42);
    \u0275\u0275text(5, "File Uploaded Successfully!");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "p", 43);
    \u0275\u0275text(7);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(7);
    \u0275\u0275textInterpolate(ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.name);
  }
}
function SmartImportComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div")(1, "div", 24)(2, "div", 25);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 26);
    \u0275\u0275element(4, "path", 27);
    \u0275\u0275elementEnd();
    \u0275\u0275template(5, SmartImportComponent_div_27_div_5_Template, 9, 0, "div", 19)(6, SmartImportComponent_div_27_div_6_Template, 8, 1, "div", 28);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(7, "div", 29)(8, "h3", 30);
    \u0275\u0275text(9, "File Requirements:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "ul", 31)(11, "li");
    \u0275\u0275text(12, "\u2022 Excel files only (.xlsx, .xls)");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(13, "li");
    \u0275\u0275text(14, "\u2022 First row should contain column headers");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "li");
    \u0275\u0275text(16, "\u2022 Maximum file size: 10MB");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(17, "li");
    \u0275\u0275text(18, "\u2022 Required columns: Asset Name, Location, Category");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(19, "div", 32)(20, "p", 33);
    \u0275\u0275text(21, " Need a template? Download our sample Excel file: ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(22, "a", 34);
    \u0275\u0275text(23, " Download Excel Template ");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275property("ngIf", !ctx_r0.uploaded);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.uploaded);
  }
}
function SmartImportComponent_div_28_div_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 51)(1, "span", 52);
    \u0275\u0275text(2, "Modified:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "span", 54);
    \u0275\u0275text(4);
    \u0275\u0275pipe(5, "date");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(4);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(5, 1, ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.lastModified, "medium"));
  }
}
function SmartImportComponent_div_28_div_22_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 61)(1, "h4", 62);
    \u0275\u0275text(2, "File Analysis:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "div", 63)(4, "div");
    \u0275\u0275text(5);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(6, "div");
    \u0275\u0275text(7);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "div");
    \u0275\u0275text(9);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("Total rows: ", ctx_r0.importResults.file_stats.total_rows_processed, "");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("Valid assets: ", ctx_r0.importResults.file_stats.valid_assets_found, "");
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("Skipped rows: ", ctx_r0.importResults.file_stats.skipped_rows, "");
  }
}
function SmartImportComponent_div_28__svg_svg_27_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(0, "svg", 64);
    \u0275\u0275element(1, "circle", 65)(2, "path", 66);
    \u0275\u0275elementEnd();
  }
}
function SmartImportComponent_div_28_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div")(1, "div", 32)(2, "div", 44);
    \u0275\u0275namespaceSVG();
    \u0275\u0275elementStart(3, "svg", 45);
    \u0275\u0275element(4, "path", 46);
    \u0275\u0275elementEnd()();
    \u0275\u0275namespaceHTML();
    \u0275\u0275elementStart(5, "h2", 47);
    \u0275\u0275text(6, "Ready to Import");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "p", 48);
    \u0275\u0275text(8, "Your file has been validated and is ready for import.");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(9, "div", 49)(10, "div", 50)(11, "div", 51)(12, "span", 52);
    \u0275\u0275text(13, "File:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(14, "span", 53);
    \u0275\u0275text(15);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(16, "div", 51)(17, "span", 52);
    \u0275\u0275text(18, "Size:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(19, "span", 54);
    \u0275\u0275text(20);
    \u0275\u0275elementEnd()();
    \u0275\u0275template(21, SmartImportComponent_div_28_div_21_Template, 6, 4, "div", 55);
    \u0275\u0275elementEnd();
    \u0275\u0275template(22, SmartImportComponent_div_28_div_22_Template, 10, 3, "div", 56);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(23, "div", 57)(24, "button", 58);
    \u0275\u0275listener("click", function SmartImportComponent_div_28_Template_button_click_24_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.resetImport());
    });
    \u0275\u0275text(25, " Choose Different File ");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(26, "button", 59);
    \u0275\u0275listener("click", function SmartImportComponent_div_28_Template_button_click_26_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r0 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r0.startBulkImport());
    });
    \u0275\u0275template(27, SmartImportComponent_div_28__svg_svg_27_Template, 3, 0, "svg", 60);
    \u0275\u0275text(28);
    \u0275\u0275elementEnd()()()();
  }
  if (rf & 2) {
    const ctx_r0 = \u0275\u0275nextContext();
    \u0275\u0275advance(15);
    \u0275\u0275textInterpolate(ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.name);
    \u0275\u0275advance(5);
    \u0275\u0275textInterpolate1("", (ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.size) ? (ctx_r0.uploadedFile.size / 1024 / 1024).toFixed(2) : "0", " MB");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.uploadedFile == null ? null : ctx_r0.uploadedFile.lastModified);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.importResults == null ? null : ctx_r0.importResults.file_stats);
    \u0275\u0275advance(4);
    \u0275\u0275property("disabled", ctx_r0.importLoading);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r0.importLoading);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ctx_r0.importLoading ? "Starting Import..." : "Start Import", " ");
  }
}
var SmartImportComponent = class _SmartImportComponent {
  assetService;
  router;
  importProgressService;
  importComplete = new EventEmitter();
  destroy$ = new Subject();
  // Step management
  currentStep = 1;
  totalSteps = 2;
  // Simplified to: 1. Upload, 2. Progress
  // File upload state
  uploadedFile = null;
  uploaded = false;
  // Import state
  importLoading = false;
  isImportComplete = false;
  importedCount = 0;
  // Import results
  importResults = null;
  showResults = false;
  // Error state
  errorMessage = "";
  showError = false;
  // These properties are now managed by ImportProgressService
  constructor(assetService, router, importProgressService) {
    this.assetService = assetService;
    this.router = router;
    this.importProgressService = importProgressService;
  }
  ngOnDestroy() {
    this.destroy$.next();
    this.destroy$.complete();
  }
  /**
   * Handle file upload
   */
  parseFile(event) {
    const file = event.target.files[0];
    this.clearError();
    if (!file) {
      this.errorMessage = "No file selected";
      this.showError = true;
      return;
    }
    const fileExtension = file.name.split(".").pop()?.toLowerCase();
    if (!fileExtension || !["xlsx", "xls"].includes(fileExtension)) {
      this.errorMessage = "Please upload a valid Excel file (.xlsx, .xls).";
      this.showError = true;
      return;
    }
    this.uploadedFile = file;
    this.uploaded = true;
    this.currentStep = 2;
  }
  /**
   * Clear error state
   */
  clearError() {
    this.errorMessage = "";
    this.showError = false;
  }
  /**
   * Start the bulk import process
   */
  startBulkImport() {
    if (!this.uploadedFile) {
      this.errorMessage = "No file selected for import";
      this.showError = true;
      return;
    }
    this.importLoading = true;
    this.clearError();
    this.assetService.importBulkExcel(this.uploadedFile).subscribe({
      next: (response) => {
        this.importLoading = false;
        if (response && response.success && response.data?.job_id) {
          this.importProgressService.startImport(response.data.job_id, response.data);
        } else {
          this.errorMessage = response.message || "Invalid response from server";
          this.showError = true;
        }
      },
      error: (error) => {
        this.importLoading = false;
        this.errorMessage = error.error?.message || "Error starting import process";
        this.showError = true;
      }
    });
  }
  /**
   * Reset the import process
   */
  resetImport() {
    this.currentStep = 1;
    this.uploadedFile = null;
    this.uploaded = false;
    this.importLoading = false;
    this.clearError();
  }
  /**
   * Close all dropdowns when clicking outside (compatibility method)
   */
  closeAllDropdowns() {
  }
  static \u0275fac = function SmartImportComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _SmartImportComponent)(\u0275\u0275directiveInject(AssetService), \u0275\u0275directiveInject(Router), \u0275\u0275directiveInject(ImportProgressService));
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _SmartImportComponent, selectors: [["app-smart-import"]], outputs: { importComplete: "importComplete" }, decls: 29, vars: 17, consts: [["fileInput", ""], [1, "min-h-screen", "bg-gray-50", "py-8"], [1, "max-w-4xl", "mx-auto", "px-4", "sm:px-6", "lg:px-8"], [1, "bg-white", "rounded-xl", "shadow-sm", "border", "border-gray-200", "p-8", "mb-8"], [1, "flex", "justify-between", "items-start", "mb-6"], [1, "text-3xl", "font-bold", "text-gray-900", "mb-2"], [1, "text-gray-600", "text-base"], ["routerLink", "/assets/list", 1, "bg-gray-100", "hover:bg-gray-200", "text-gray-700", "font-semibold", "px-4", "py-2", "rounded-lg", "transition-colors", "flex", "items-center"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-4", "h-4", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M10 19l-7-7m0 0l7-7m-7 7h18"], [1, "flex", "items-center", "justify-center", "mb-8"], [1, "flex", "items-center", "space-x-4"], [1, "flex", "items-center"], [1, "w-8", "h-8", "bg-blue-600", "text-white", "rounded-full", "flex", "items-center", "justify-center", "text-sm", "font-semibold"], [1, "ml-2", "text-sm", "font-medium", "text-gray-900"], [1, "w-16", "h-1", "bg-gray-300", "rounded"], [1, "w-8", "h-8", "rounded-full", "flex", "items-center", "justify-center", "text-sm", "font-semibold"], [1, "ml-2", "text-sm", "font-medium"], ["class", "bg-red-50 border border-red-200 rounded-lg p-4 mb-6", 4, "ngIf"], [4, "ngIf"], [1, "bg-red-50", "border", "border-red-200", "rounded-lg", "p-4", "mb-6"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-5", "h-5", "text-red-500", "mr-2"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-red-700", "text-sm", "font-medium"], [1, "border-2", "border-dashed", "border-gray-300", "rounded-xl", "p-12", "text-center", "hover:border-gray-400", "transition-colors"], [1, "max-w-md", "mx-auto"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-16", "h-16", "mx-auto", "text-gray-400", "mb-4"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"], ["class", "text-center", 4, "ngIf"], [1, "mt-8", "bg-blue-50", "border", "border-blue-200", "rounded-lg", "p-4"], [1, "text-sm", "font-medium", "text-blue-900", "mb-2"], [1, "text-sm", "text-blue-700", "space-y-1"], [1, "text-center"], [1, "text-gray-600", "text-sm", "mb-4"], ["href", "/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx", "download", "", 1, "text-blue-600", "hover:text-blue-700", "font-medium", "text-sm", "underline"], [1, "text-lg", "font-medium", "text-gray-900", "mb-2"], [1, "text-gray-500", "mb-4"], ["type", "button", 1, "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "px-6", "py-3", "rounded-lg", "transition-colors", 3, "click"], ["type", "file", "accept", ".xlsx,.xls", 1, "hidden", 3, "change"], [1, "w-12", "h-12", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-3"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-6", "h-6", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M5 13l4 4L19 7"], [1, "text-lg", "font-medium", "text-gray-900", "mb-1"], [1, "text-gray-600", "text-sm"], [1, "w-16", "h-16", "bg-green-100", "rounded-full", "flex", "items-center", "justify-center", "mx-auto", "mb-6"], ["fill", "none", "stroke", "currentColor", "viewBox", "0 0 24 24", 1, "w-8", "h-8", "text-green-600"], ["stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"], [1, "text-2xl", "font-bold", "text-gray-900", "mb-4"], [1, "text-gray-600", "mb-6"], [1, "bg-gray-50", "rounded-lg", "p-6", "mb-6", "max-w-md", "mx-auto"], [1, "text-left", "space-y-3"], [1, "flex", "justify-between"], [1, "text-gray-600"], [1, "font-medium", "text-gray-900", "truncate", "ml-4"], [1, "font-medium", "text-gray-900"], ["class", "flex justify-between", 4, "ngIf"], ["class", "bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4", 4, "ngIf"], [1, "flex", "justify-center", "space-x-4"], [1, "px-6", "py-3", "bg-gray-100", "hover:bg-gray-200", "text-gray-700", "font-semibold", "rounded-lg", "transition-colors", 3, "click"], [1, "px-8", "py-3", "bg-blue-600", "hover:bg-blue-700", "text-white", "font-semibold", "rounded-lg", "transition-colors", "disabled:opacity-50", "disabled:cursor-not-allowed", "flex", "items-center", 3, "click", "disabled"], ["class", "animate-spin -ml-1 mr-3 h-4 w-4 text-blue", "fill", "none", "viewBox", "0 0 24 24", 4, "ngIf"], [1, "bg-blue-50", "border", "border-blue-200", "rounded-lg", "p-4", "mt-4"], [1, "font-medium", "text-blue-900", "mb-2"], [1, "text-sm", "text-blue-800", "space-y-1"], ["fill", "none", "viewBox", "0 0 24 24", 1, "animate-spin", "-ml-1", "mr-3", "h-4", "w-4", "text-blue"], ["cx", "12", "cy", "12", "r", "10", "stroke", "currentColor", "stroke-width", "4", 1, "opacity-25"], ["fill", "currentColor", "d", "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z", 1, "opacity-75"]], template: function SmartImportComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div")(5, "h1", 5);
      \u0275\u0275text(6, "Smart Asset Import");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(7, "p", 6);
      \u0275\u0275text(8, "Import multiple assets efficiently with our guided wizard");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(9, "button", 7);
      \u0275\u0275namespaceSVG();
      \u0275\u0275elementStart(10, "svg", 8);
      \u0275\u0275element(11, "path", 9);
      \u0275\u0275elementEnd();
      \u0275\u0275text(12, " Back to Assets ");
      \u0275\u0275elementEnd()();
      \u0275\u0275namespaceHTML();
      \u0275\u0275elementStart(13, "div", 10)(14, "div", 11)(15, "div", 12)(16, "div", 13);
      \u0275\u0275text(17, "1");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(18, "span", 14);
      \u0275\u0275text(19, "Upload File");
      \u0275\u0275elementEnd()();
      \u0275\u0275element(20, "div", 15);
      \u0275\u0275elementStart(21, "div", 12)(22, "div", 16);
      \u0275\u0275text(23, "2");
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(24, "span", 17);
      \u0275\u0275text(25, "Start Import");
      \u0275\u0275elementEnd()()()();
      \u0275\u0275template(26, SmartImportComponent_div_26_Template, 6, 1, "div", 18)(27, SmartImportComponent_div_27_Template, 24, 2, "div", 19)(28, SmartImportComponent_div_28_Template, 29, 7, "div", 19);
      \u0275\u0275elementEnd()()();
    }
    if (rf & 2) {
      \u0275\u0275advance(20);
      \u0275\u0275classProp("bg-blue-600", ctx.currentStep >= 2);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("bg-blue-600", ctx.currentStep >= 2)("text-white", ctx.currentStep >= 2)("bg-gray-300", ctx.currentStep < 2)("text-gray-600", ctx.currentStep < 2);
      \u0275\u0275advance(2);
      \u0275\u0275classProp("text-gray-900", ctx.currentStep >= 2)("text-gray-500", ctx.currentStep < 2);
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.showError);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.currentStep === 1);
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.currentStep === 2);
    }
  }, dependencies: [CommonModule, NgIf, DatePipe, FormsModule], styles: ["\n\n/*# sourceMappingURL=smart-import.component.css.map */"] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SmartImportComponent, [{
    type: Component,
    args: [{ selector: "app-smart-import", standalone: true, imports: [CommonModule, FormsModule], template: `<!-- Smart Import Component -->\r
<div class="min-h-screen bg-gray-50 py-8">\r
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\r
\r
    <!-- Header -->\r
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8">\r
      <div class="flex justify-between items-start mb-6">\r
        <div>\r
          <h1 class="text-3xl font-bold text-gray-900 mb-2">Smart Asset Import</h1>\r
          <p class="text-gray-600 text-base">Import multiple assets efficiently with our guided wizard</p>\r
        </div>\r
              <button\r
         routerLink="/assets/list"\r
          class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-lg transition-colors flex items-center">\r
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>\r
          </svg>\r
          Back to Assets\r
        </button>\r
      </div>\r
\r
      <!-- Step Indicator -->\r
      <div class="flex items-center justify-center mb-8">\r
        <div class="flex items-center space-x-4">\r
          <!-- Step 1 -->\r
          <div class="flex items-center">\r
            <div class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold">1</div>\r
            <span class="ml-2 text-sm font-medium text-gray-900">Upload File</span>\r
          </div>\r
\r
          <!-- Connector -->\r
          <div class="w-16 h-1 bg-gray-300 rounded" [class.bg-blue-600]="currentStep >= 2"></div>\r
\r
          <!-- Step 2 -->\r
          <div class="flex items-center">\r
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold"\r
                 [class.bg-blue-600]="currentStep >= 2"\r
                 [class.text-white]="currentStep >= 2"\r
                 [class.bg-gray-300]="currentStep < 2"\r
                 [class.text-gray-600]="currentStep < 2">2</div>\r
            <span class="ml-2 text-sm font-medium"\r
                  [class.text-gray-900]="currentStep >= 2"\r
                  [class.text-gray-500]="currentStep < 2">Start Import</span>\r
          </div>\r
        </div>\r
      </div>\r
\r
      <!-- Error Display -->\r
      <div *ngIf="showError" class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">\r
        <div class="flex items-center">\r
          <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
          </svg>\r
          <span class="text-red-700 text-sm font-medium">{{ errorMessage }}</span>\r
        </div>\r
      </div>\r
\r
      <!-- Step 1: Upload File -->\r
      <div *ngIf="currentStep === 1">\r
        <!-- Upload Area -->\r
        <div class="border-2 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-gray-400 transition-colors">\r
          <div class="max-w-md mx-auto">\r
            <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>\r
            </svg>\r
\r
            <div *ngIf="!uploaded">\r
              <p class="text-lg font-medium text-gray-900 mb-2">Choose Excel File</p>\r
              <p class="text-gray-500 mb-4">or drag and drop your file here</p>\r
             <button\r
                type="button"\r
                (click)="fileInput.click()"\r
                class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors">\r
                Browse Files\r
              </button>\r
             <input\r
                #fileInput\r
               type="file"\r
               accept=".xlsx,.xls"\r
               class="hidden"\r
                (change)="parseFile($event)">\r
            </div>\r
\r
            <div *ngIf="uploaded" class="text-center">\r
              <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">\r
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>\r
                </svg>\r
              </div>\r
              <p class="text-lg font-medium text-gray-900 mb-1">File Uploaded Successfully!</p>\r
              <p class="text-gray-600 text-sm">{{ uploadedFile?.name }}</p>\r
            </div>\r
          </div>\r
        </div>\r
\r
        <!-- File Requirements -->\r
        <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4">\r
          <h3 class="text-sm font-medium text-blue-900 mb-2">File Requirements:</h3>\r
          <ul class="text-sm text-blue-700 space-y-1">\r
            <li>\u2022 Excel files only (.xlsx, .xls)</li>\r
            <li>\u2022 First row should contain column headers</li>\r
            <li>\u2022 Maximum file size: 10MB</li>\r
            <li>\u2022 Required columns: Asset Name, Location, Category</li>\r
          </ul>\r
        </div>\r
\r
        <!-- Template Download -->\r
        <div class="text-center">\r
          <p class="text-gray-600 text-sm mb-4">\r
            Need a template? Download our sample Excel file:\r
          </p>\r
           <a href="/assets/templates/enhanced-asset-import-template-2025-07-29 (1).xlsx"\r
              download\r
              class="text-blue-600 hover:text-blue-700 font-medium text-sm underline">\r
              Download Excel Template\r
            </a>\r
        </div>\r
      </div>\r
\r
      <!-- Step 2: Start Import -->\r
      <div *ngIf="currentStep === 2">\r
        <div class="text-center">\r
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">\r
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r
            </svg>\r
          </div>\r
\r
          <h2 class="text-2xl font-bold text-gray-900 mb-4">Ready to Import</h2>\r
          <p class="text-gray-600 mb-6">Your file has been validated and is ready for import.</p>\r
\r
          <!-- File Summary -->\r
          <div class="bg-gray-50 rounded-lg p-6 mb-6 max-w-md mx-auto">\r
            <div class="text-left space-y-3">\r
              <div class="flex justify-between">\r
                <span class="text-gray-600">File:</span>\r
                <span class="font-medium text-gray-900 truncate ml-4">{{ uploadedFile?.name }}</span>\r
              </div>\r
              <div class="flex justify-between">\r
                <span class="text-gray-600">Size:</span>\r
                <span class="font-medium text-gray-900">{{ uploadedFile?.size ? (uploadedFile!.size / 1024 / 1024).toFixed(2) : '0' }} MB</span>\r
              </div>\r
              <!-- File Info will be populated after upload -->\r
              <div *ngIf="uploadedFile?.lastModified" class="flex justify-between">\r
                <span class="text-gray-600">Modified:</span>\r
                <span class="font-medium text-gray-900">{{ uploadedFile?.lastModified | date:'medium' }}</span>\r
              </div>\r
            </div>\r
\r
            <!-- Processing Info (if available from previous upload) -->\r
            <div *ngIf="importResults?.file_stats" class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4">\r
              <h4 class="font-medium text-blue-900 mb-2">File Analysis:</h4>\r
              <div class="text-sm text-blue-800 space-y-1">\r
                <div>Total rows: {{ importResults.file_stats.total_rows_processed }}</div>\r
                <div>Valid assets: {{ importResults.file_stats.valid_assets_found }}</div>\r
                <div>Skipped rows: {{ importResults.file_stats.skipped_rows }}</div>\r
              </div>\r
            </div>\r
          </div>\r
\r
          <!-- Import Actions -->\r
          <div class="flex justify-center space-x-4">\r
           <button\r
              (click)="resetImport()"\r
              class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors">\r
              Choose Different File\r
            </button>\r
           <button\r
              (click)="startBulkImport()"\r
              [disabled]="importLoading"\r
              class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center">\r
             <svg *ngIf="importLoading"  class="animate-spin -ml-1 mr-3 h-4 w-4 text-blue" fill="none" viewBox="0 0 24 24">\r
               <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\r
               <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\r
             </svg>\r
              {{ importLoading ? 'Starting Import...' : 'Start Import' }}\r
            </button>\r
          </div>\r
        </div>\r
      </div>\r
\r
    </div>\r
  </div>\r
\r
  <!-- Progress box is now handled globally by ImportProgressPopupComponent -->\r
</div>\r
`, styles: ["/* src/app/assets/components/smart-import/smart-import.component.scss */\n/*# sourceMappingURL=smart-import.component.css.map */\n"] }]
  }], () => [{ type: AssetService }, { type: Router }, { type: ImportProgressService }], { importComplete: [{
    type: Output
  }] });
})();
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(SmartImportComponent, { className: "SmartImportComponent", filePath: "src/app/assets/components/smart-import/smart-import.component.ts", lineNumber: 16 });
})();

// src/app/assets/assets-routing.module.ts
var routes = [
  { path: "list", component: AssetListComponent },
  { path: "create", component: AssetCreateComponent },
  { path: "import", component: SmartImportComponent },
  { path: "preview/:id", component: AssetViewComponent },
  { path: ":id/edit", component: AssetEditComponent }
];
var AssetsRoutingModule = class _AssetsRoutingModule {
  static \u0275fac = function AssetsRoutingModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetsRoutingModule)();
  };
  static \u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({ type: _AssetsRoutingModule });
  static \u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({ imports: [RouterModule.forChild(routes), RouterModule] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetsRoutingModule, [{
    type: NgModule,
    args: [{
      imports: [RouterModule.forChild(routes)],
      exports: [RouterModule]
    }]
  }], null, null);
})();

// src/app/assets/assets.module.ts
var AssetsModule = class _AssetsModule {
  static \u0275fac = function AssetsModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _AssetsModule)();
  };
  static \u0275mod = /* @__PURE__ */ \u0275\u0275defineNgModule({ type: _AssetsModule });
  static \u0275inj = /* @__PURE__ */ \u0275\u0275defineInjector({ imports: [CommonModule, AssetsRoutingModule, AssetListComponent, AssetViewComponent, AssetEditComponent, TransferAssetModalComponent, SmartImportComponent, PublicAssetViewComponent] });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(AssetsModule, [{
    type: NgModule,
    args: [{
      imports: [CommonModule, AssetsRoutingModule, AssetListComponent, AssetViewComponent, AssetEditComponent, TransferAssetModalComponent, SmartImportComponent, PublicAssetViewComponent]
    }]
  }], null, null);
})();
export {
  AssetsModule
};
/*! Bundled license information:

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.4
   * https://github.com/kurkle/color#readme
   * (c) 2024 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.dataset.js:
chart.js/dist/chart.js:
  (*!
   * Chart.js v4.5.0
   * https://www.chartjs.org
   * (c) 2025 Chart.js Contributors
   * Released under the MIT License
   *)
*/
//# sourceMappingURL=chunk-AWJDXIDV.js.map
