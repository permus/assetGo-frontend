import{a as Ae,b as je}from"./chunk-Y4ZNNGEE.js";import{a as Ve}from"./chunk-6YBI7A7O.js";import{a as ee,b as Ge}from"./chunk-BCIT7VP5.js";import"./chunk-ESLCOQ3P.js";import{b as ye,c as D,d as S,e as F,f as Te,h as z,i as Se,j as ke,l as Ee,o as Oe,p as Pe,q as Ie,r as Le,t as De,w as Fe,x as O,y as X}from"./chunk-YIJGY67A.js";import{i as $}from"./chunk-YJD3EYBM.js";import{a as Ce}from"./chunk-MPFP4EBB.js";import{D as Me,k as H,l as L,r as we,v as y}from"./chunk-AM36OUCP.js";import{Cb as g,Db as c,Ka as Y,La as a,O as pe,Qa as I,Qb as l,Rb as x,Sb as _,Tb as J,V as ue,Vb as A,W as q,Wb as j,Xb as G,Za as k,_ as ge,_a as U,cb as f,dc as xe,fa as Z,fc as ve,ga as v,ha as w,ia as u,ib as fe,ja as b,jb as p,kb as be,lb as h,pb as E,qa as T,r as ce,rb as K,sb as Q,tb as t,ub as o,vb as m,wb as _e,xb as he,zb as M}from"./chunk-22ONQWC6.js";import{a as V,b as W}from"./chunk-EQDQRRRY.js";var te=class r{teamMember=null;cancelled=new T;confirmed=new T;deleteReason="";onClose(){this.cancelled.emit()}onConfirmDelete(){this.teamMember&&this.confirmed.emit({teamId:this.teamMember.id,reason:this.deleteReason.trim()})}onBackdropClick(i){i.target===i.currentTarget&&this.onClose()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-team-delete-confirmation-modal"]],inputs:{teamMember:"teamMember"},outputs:{cancelled:"cancelled",confirmed:"confirmed"},decls:40,vars:3,consts:[[1,"fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50",3,"click"],[1,"relative","mx-auto","p-6","w-[500px]","rounded-lg","bg-white"],[1,"mt-3"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mb-6"],["for","deleteReason",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","deleteReason","rows","4","placeholder","Enter reason for removing this team member...",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-red-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-gray-500"],[1,"text-center","mb-6"],[1,"mx-auto","flex","items-center","justify-center","h-16","w-16","rounded-full","bg-red-100","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-red-600"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-4"],[1,"bg-red-50","border","border-red-200","rounded-md","p-4","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-sm","font-medium","text-red-800"],[1,"flex","justify-end","space-x-3"],[1,"inline-flex","justify-center","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","transition-colors",3,"click"],[1,"inline-flex","justify-center","px-4","py-2","text-sm","font-medium","text-white","bg-red-600","border","border-transparent","rounded-md","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","transition-colors",3,"click"]],template:function(e,n){e&1&&(t(0,"div",0),g("click",function(d){return n.onBackdropClick(d)}),t(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u(),t(5,"svg",5),m(6,"path",6),o(),b(),t(7,"h3",7),l(8,"Remove Team Member"),o()(),t(9,"button",8),g("click",function(){return n.onClose()}),u(),t(10,"svg",9),m(11,"path",10),o()()(),b(),t(12,"div",11)(13,"label",12),l(14," Deletion Reason (Optional) "),o(),t(15,"textarea",13),G("ngModelChange",function(d){return j(n.deleteReason,d)||(n.deleteReason=d),d}),o(),t(16,"p",14),l(17,"This will be recorded in the audit trail."),o()(),t(18,"div",15)(19,"div",16),u(),t(20,"svg",17),m(21,"path",6),o()(),b(),t(22,"h3",18),l(23," Are you sure you want to remove "),t(24,"strong"),l(25),o(),l(26,"? "),o(),t(27,"p",19),l(28," This action cannot be undone. The team member will be permanently removed from the system. "),o(),t(29,"div",20)(30,"div",4),u(),t(31,"svg",21),m(32,"path",22),o(),b(),t(33,"span",23),l(34," Warning: This action will permanently remove the team member and all associated data. "),o()()()(),t(35,"div",24)(36,"button",25),g("click",function(){return n.onClose()}),l(37," Cancel "),o(),t(38,"button",26),g("click",function(){return n.onConfirmDelete()}),l(39," Remove Member "),o()()()()()),e&2&&(a(15),A("ngModel",n.deleteReason),a(10),J('"',n.teamMember==null?null:n.teamMember.first_name," ",n.teamMember==null?null:n.teamMember.last_name,'"'))},dependencies:[y,O,D,F,z],styles:[".modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})};var ie=class r{constructor(i){this.http=i}cache$;apiUrl=`${Ce.apiUrl}/locations-hierarchy`;getTree(){return this.cache$||(this.cache$=this.http.get(this.apiUrl).pipe(ce(i=>i.data.hierarchy),pe(1))),this.cache$}clearCache(){this.cache$=void 0}static \u0275fac=function(e){return new(e||r)(ge(Me))};static \u0275prov=ue({token:r,factory:r.\u0275fac,providedIn:"root"})};function ze(r,i){if(r&1&&(t(0,"div",32)(1,"div",33),u(),t(2,"svg",34),m(3,"path",35),o(),b(),t(4,"p",36),l(5),o()()()),r&2){let e=c();a(5),x(e.error)}}function Be(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError("first_name")," ")}}function We(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError("last_name")," ")}}function $e(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError("email")," ")}}function qe(r,i){if(r&1&&(t(0,"option",38),l(1),o()),r&2){let e=i.$implicit;p("value",e.id),a(),_(" ",e.name," ")}}function Ze(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError("role_id")," ")}}function Ye(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.rolesError," ")}}function Ue(r,i){r&1&&(t(0,"div",50),l(1,"Loading locations..."),o())}function Ke(r,i){if(r&1&&(t(0,"div",51),l(1),o()),r&2){let e=c(2);a(),x(e.treeError)}}function Qe(r,i){if(r&1&&(t(0,"div"),m(1,"ng-select",52),o()),r&2){let e=c(2);a(),p("items",e.flatLocationOptions)("multiple",!0)("closeOnSelect",!1)("searchable",!0)}}function Je(r,i){if(r&1){let e=M();t(0,"div",39)(1,"div",40)(2,"div",41),l(3,"Location Scope"),o(),t(4,"button",42),g("click",function(){v(e);let s=c();return w(s.clearSelection())}),l(5,"Clear selection (Full access)"),o()(),t(6,"div",43),m(7,"input",44),t(8,"label",45),l(9,"Include descendants (recommended)"),o()(),f(10,Ue,2,0,"div",46)(11,Ke,2,1,"div",47)(12,Qe,2,4,"div",48),t(13,"p",49),l(14,"No selection means full access to all locations."),o()()}if(r&2){let e=c();a(10),p("ngIf",e.loadingTree),a(),p("ngIf",e.treeError),a(),p("ngIf",!e.loadingTree&&!e.treeError)}}function Xe(r,i){if(r&1&&(t(0,"p",37),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError("hourly_rate")," ")}}function et(r,i){r&1&&(u(),t(0,"svg",53),m(1,"circle",54)(2,"path",55),o())}var oe=class r{constructor(i,e,n,s){this.fb=i;this.teamService=e;this.roleService=n;this.locationTreeService=s;this.teamMemberForm=this.fb.group({first_name:["",[S.required,S.minLength(2),S.maxLength(100)]],last_name:["",[S.required,S.minLength(2),S.maxLength(100)]],email:["",[S.required,S.email]],role_id:["",[S.required]],hourly_rate:[null,[S.min(0)]],location_ids:[[]],expand_descendants:[!0]}),this.loadAvailableRoles()}teamMember=null;isEditMode=!1;teamMemberSaved=new T;cancelled=new T;teamMemberForm;loading=!1;error="";availableRoles=[];loadingRoles=!1;rolesError="";locationTree=[];loadingTree=!1;treeError="";expandDescendants=!0;flatLocationOptions=[];ngOnInit(){this.teamMember&&this.isEditMode&&this.teamService.getTeamMember(this.teamMember.id).subscribe({next:i=>{this.teamMember=i.data,this.loadTeamMember()},error:()=>{this.loadTeamMember()}}),this.teamMemberForm.get("role_id")?.valueChanges.subscribe(i=>{let e=this.availableRoles.find(n=>n.id===Number(i));if(e&&e.has_location_access){if(this.ensureTreeLoaded(),this.isEditMode&&this.teamMember&&Array.isArray(this.teamMember.locations)){let n=this.teamMember.locations.map(s=>s.id);n.length>0&&this.teamMember.has_full_location_access===!1&&this.teamMemberForm.patchValue({location_ids:n})}}else this.teamMemberForm.patchValue({location_ids:[]})})}ngOnChanges(i){i.teamMember&&i.teamMember.currentValue&&this.isEditMode&&(this.availableRoles.length>0?this.loadTeamMember():setTimeout(()=>{this.availableRoles.length>0&&this.loadTeamMember()},100))}updateFormWithTeamMember(){this.teamMember&&this.isEditMode&&this.availableRoles.length>0&&this.loadTeamMember()}loadAvailableRoles(){this.loadingRoles=!0,this.rolesError="",this.roleService.getRoles().subscribe({next:i=>{this.availableRoles=i.data||[],this.loadingRoles=!1,console.log("Available roles loaded:",this.availableRoles),this.isEditMode&&this.teamMember&&this.loadTeamMember()},error:i=>{console.error("Error loading available roles:",i),this.teamService.getAvailableRoles().subscribe({next:e=>{this.availableRoles=e.data||[],this.loadingRoles=!1,console.log("Available roles loaded (fallback):",this.availableRoles),this.isEditMode&&this.teamMember&&this.loadTeamMember()},error:e=>{console.error("Fallback also failed:",e),this.rolesError="Failed to load roles. Please try again.",this.loadingRoles=!1}})}})}loadTeamMember(){if(this.teamMember){console.log("Loading team member data:",this.teamMember);let i=this.teamMember.role_id||this.teamMember.role?.id||(Array.isArray(this.teamMember.roles)?this.teamMember.roles[0]?.id:void 0),e=this.teamMember.hourly_rate;console.log("Role ID:",i,"Type:",typeof i),console.log("Hourly Rate:",e,"Type:",typeof e);let n=i?Number(i):"";this.teamMemberForm.patchValue({first_name:this.teamMember.first_name,last_name:this.teamMember.last_name,email:this.teamMember.email,role_id:n,hourly_rate:e!=null?Number(e):null,expand_descendants:!0});let s=this.availableRoles.find(d=>d.id===Number(n));if(s&&s.has_location_access){this.ensureTreeLoaded();let d=Array.isArray(this.teamMember.locations)?this.teamMember.locations.map(C=>C.id):[];d.length>0&&this.teamMember.has_full_location_access===!1?this.teamMemberForm.patchValue({location_ids:d}):this.teamMemberForm.patchValue({location_ids:[]})}console.log("Form values after patch:",this.teamMemberForm.value),console.log("Available roles:",this.availableRoles)}}onBackdropClick(i){i.target===i.currentTarget&&this.onCancel()}onSubmit(){if(this.teamMemberForm.invalid){this.markFormGroupTouched();return}this.loading=!0,this.error="";let i=V({},this.teamMemberForm.value);i.location_ids=i.location_ids&&i.location_ids.length>0?i.location_ids:null,(i.expand_descendants===void 0||i.expand_descendants===null)&&(i.expand_descendants=!0),this.isEditMode&&this.teamMember?this.teamService.updateTeamMember(this.teamMember.id,i).subscribe({next:e=>{this.loading=!1,this.teamMemberSaved.emit(e.data)},error:e=>{this.loading=!1,this.error=e.error?.message||"Failed to update team member. Please try again."}}):this.teamService.createTeamMember(i).subscribe({next:e=>{this.loading=!1,this.teamMemberSaved.emit(e.data)},error:e=>{this.loading=!1,this.error=e.error?.message||"Failed to create team member. Please try again."}})}onCancel(){this.cancelled.emit()}getFieldError(i){let e=this.teamMemberForm.get(i);if(e?.invalid&&(e?.dirty||e?.touched)){if(e?.errors?.required)return`${this.getFieldLabel(i)} is required.`;if(e?.errors?.email)return"Please enter a valid email address.";if(e?.errors?.minlength)return`${this.getFieldLabel(i)} must be at least ${e.errors.minlength.requiredLength} characters.`;if(e?.errors?.maxlength)return`${this.getFieldLabel(i)} must not exceed ${e.errors.maxlength.requiredLength} characters.`;if(e?.errors?.min)return`${this.getFieldLabel(i)} must be at least ${e.errors.min.min}.`}return""}getFieldLabel(i){return{first_name:"First name",last_name:"Last name",email:"Email",role_id:"Team role",hourly_rate:"Hourly rate"}[i]||i}markFormGroupTouched(){Object.keys(this.teamMemberForm.controls).forEach(i=>{this.teamMemberForm.get(i)?.markAsTouched()})}get selectedRole(){let i=this.teamMemberForm.get("role_id")?.value;return this.availableRoles.find(e=>e.id===Number(i))}get showLocationScope(){return!!this.selectedRole?.has_location_access}ensureTreeLoaded(){this.locationTree.length>0||this.loadingTree||(this.loadingTree=!0,this.treeError="",this.locationTreeService.getTree().subscribe({next:i=>{this.locationTree=i,this.flatLocationOptions=this.flatten(i),this.loadingTree=!1},error:i=>{this.treeError="Failed to load locations tree.",this.loadingTree=!1}}))}isChecked(i){return(this.teamMemberForm.get("location_ids")?.value||[]).includes(i)}toggleNode(i,e){let n=this.teamMemberForm.get("location_ids"),s=[...n?.value||[]],d=this.collectIds(i);e?d.forEach(C=>{s.includes(C)||s.push(C)}):d.forEach(C=>{let P=s.indexOf(C);P>=0&&s.splice(P,1)}),n?.setValue(s)}clearSelection(){this.teamMemberForm.patchValue({location_ids:[]})}collectIds(i){let e=[i.id];return i.children&&i.children.length&&i.children.forEach(n=>e.push(...this.collectIds(n))),e}flatten(i,e=0,n=[]){for(let s of i)n.push({id:s.id,label:`${"\u2014 ".repeat(e)}${s.name}`}),s.children?.length&&this.flatten(s.children,e+1,n);return n}static \u0275fac=function(e){return new(e||r)(I(Fe),I(ee),I(Ve),I(ie))};static \u0275cmp=k({type:r,selectors:[["app-team-form-modal"]],inputs:{teamMember:"teamMember",isEditMode:"isEditMode"},outputs:{teamMemberSaved:"teamMemberSaved",cancelled:"cancelled"},features:[Z],decls:50,vars:24,consts:[[1,"modal-overlay","fixed","inset-0","bg-[#00000085]","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-xl","shadow-2xl","w-full","max-w-md","mx-4","transform","transition-all"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","py-4"],[3,"ngSubmit","formGroup"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[1,"mb-4"],["for","first_name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","first_name","type","text","formControlName","first_name","placeholder","Enter first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","last_name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","last_name","type","text","formControlName","last_name","placeholder","Enter last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter email address",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors"],["for","role_id",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","role_id","formControlName","role_id",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mb-4 border rounded-lg p-3 bg-gray-50",4,"ngIf"],[1,"mb-6"],["for","hourly_rate",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","hourly_rate","type","number","formControlName","hourly_rate","placeholder","Enter hourly rate","min","0","step","0.01",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors"],[1,"mt-1","text-xs","text-gray-500"],[1,"flex","justify-end","space-x-3","pt-4","border-t","border-gray-200"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-colors",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin -ml-1 mr-2 h-4 w-4 text-white inline","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-2","text-sm","text-red-700"],[1,"mt-1","text-sm","text-red-600"],[3,"value"],[1,"mb-4","border","rounded-lg","p-3","bg-gray-50"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-800"],["type","button",1,"text-sm","text-blue-600","hover:underline",3,"click"],[1,"flex","items-center","mb-3"],["type","checkbox","id","expand_descendants","formControlName","expand_descendants",1,"mr-2"],["for","expand_descendants",1,"text-sm","text-gray-700"],["class","text-sm text-gray-500",4,"ngIf"],["class","text-sm text-red-600",4,"ngIf"],[4,"ngIf"],[1,"mt-2","text-xs","text-gray-500"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-red-600"],["bindLabel","label","bindValue","id","placeholder","Select locations (empty = full access)","formControlName","location_ids",3,"items","multiple","closeOnSelect","searchable"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white","inline"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,n){if(e&1&&(t(0,"div",0),g("click",function(d){return n.onBackdropClick(d)}),t(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),l(5),o(),t(6,"button",5),g("click",function(){return n.onCancel()}),u(),t(7,"svg",6),m(8,"path",7),o()()()(),b(),t(9,"div",8)(10,"form",9),g("ngSubmit",function(){return n.onSubmit()}),f(11,ze,6,1,"div",10),t(12,"div",11)(13,"label",12),l(14," First Name * "),o(),m(15,"input",13),f(16,Be,2,1,"p",14),o(),t(17,"div",11)(18,"label",15),l(19," Last Name * "),o(),m(20,"input",16),f(21,We,2,1,"p",14),o(),t(22,"div",11)(23,"label",17),l(24," Email * "),o(),m(25,"input",18),f(26,$e,2,1,"p",14),o(),t(27,"div",11)(28,"label",19),l(29," Team Role * "),o(),t(30,"select",20)(31,"option",21),l(32,"Select a role"),o(),f(33,qe,2,2,"option",22),o(),f(34,Ze,2,1,"p",14)(35,Ye,2,1,"p",14),o(),f(36,Je,15,3,"div",23),t(37,"div",24)(38,"label",25),l(39," Hourly Rate (Optional) "),o(),m(40,"input",26),f(41,Xe,2,1,"p",14),t(42,"p",27),l(43," Optional hourly rate for this team member "),o()(),t(44,"div",28)(45,"button",29),g("click",function(){return n.onCancel()}),l(46," Cancel "),o(),t(47,"button",30),f(48,et,3,0,"svg",31),l(49),o()()()()()()),e&2){let s,d,C,P,N;a(5),_(" ",n.isEditMode?"Edit Team Member":"Invite New Team Member"," "),a(5),p("formGroup",n.teamMemberForm),a(),p("ngIf",n.error),a(4),h("border-red-300",((s=n.teamMemberForm.get("first_name"))==null?null:s.invalid)&&(((s=n.teamMemberForm.get("first_name"))==null?null:s.dirty)||((s=n.teamMemberForm.get("first_name"))==null?null:s.touched))),a(),p("ngIf",n.getFieldError("first_name")),a(4),h("border-red-300",((d=n.teamMemberForm.get("last_name"))==null?null:d.invalid)&&(((d=n.teamMemberForm.get("last_name"))==null?null:d.dirty)||((d=n.teamMemberForm.get("last_name"))==null?null:d.touched))),a(),p("ngIf",n.getFieldError("last_name")),a(4),h("border-red-300",((C=n.teamMemberForm.get("email"))==null?null:C.invalid)&&(((C=n.teamMemberForm.get("email"))==null?null:C.dirty)||((C=n.teamMemberForm.get("email"))==null?null:C.touched))),a(),p("ngIf",n.getFieldError("email")),a(4),h("border-red-300",((P=n.teamMemberForm.get("role_id"))==null?null:P.invalid)&&(((P=n.teamMemberForm.get("role_id"))==null?null:P.dirty)||((P=n.teamMemberForm.get("role_id"))==null?null:P.touched))),a(3),p("ngForOf",n.availableRoles),a(),p("ngIf",n.getFieldError("role_id")),a(),p("ngIf",n.rolesError),a(),p("ngIf",n.showLocationScope),a(4),h("border-red-300",((N=n.teamMemberForm.get("hourly_rate"))==null?null:N.invalid)&&(((N=n.teamMemberForm.get("hourly_rate"))==null?null:N.dirty)||((N=n.teamMemberForm.get("hourly_rate"))==null?null:N.touched))),a(),p("ngIf",n.getFieldError("hourly_rate")),a(6),p("disabled",n.teamMemberForm.invalid||n.loading),a(),p("ngIf",n.loading),a(),_(" ",n.isEditMode?"Update Team Member":"Send Invitation"," ")}},dependencies:[y,H,L,X,Se,Ie,Le,D,ke,ye,Pe,F,Te,De,Ee,Oe,O,je,Ae],styles:[".modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-enter[_ngcontent-%COMP%]{opacity:0;transform:scale(.9)}.modal-enter-active[_ngcontent-%COMP%]{opacity:1;transform:scale(1);transition:opacity .2s ease-out,transform .2s ease-out}.modal-exit[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.modal-exit-active[_ngcontent-%COMP%]{opacity:0;transform:scale(.9);transition:opacity .2s ease-in,transform .2s ease-in}.backdrop-enter[_ngcontent-%COMP%]{opacity:0}.backdrop-enter-active[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s ease-out}.backdrop-exit[_ngcontent-%COMP%]{opacity:1}.backdrop-exit-active[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease-in}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}button[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);transition:transform .1s ease-in-out}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})};function tt(r,i){r&1&&(t(0,"span",15),l(1,"*"),o())}function nt(r,i){if(r&1&&(t(0,"label",13),l(1),f(2,tt,2,0,"span",14),o()),r&2){let e=c();a(),_("",e.label," "),a(),p("ngIf",e.required)}}function it(r,i){if(r&1&&(t(0,"span",16),l(1),o()),r&2){let e=c();a(),x(e.placeholder)}}function ot(r,i){r&1&&(t(0,"div",20),u(),t(1,"svg",21),m(2,"path",22),o()())}function rt(r,i){if(r&1&&(t(0,"div",17),f(1,ot,3,0,"div",18),t(2,"span",19),l(3),o()()),r&2){let e=c();a(),p("ngIf",e.selectedOption.icon),a(2),x(e.selectedOption.name)}}function at(r,i){if(r&1){let e=M();t(0,"button",23),g("click",function(s){return v(e),c().clearSelection(),w(s.stopPropagation())}),u(),t(1,"svg",24),m(2,"path",25),o()()}}function lt(r,i){if(r&1){let e=M();t(0,"div",32)(1,"input",33),g("input",function(s){v(e);let d=c(2);return w(d.onSearchInput(s))})("click",function(s){return v(e),w(s.stopPropagation())}),o()()}if(r&2){let e=c(2);a(),p("value",e.searchTerm)}}function st(r,i){if(r&1&&(t(0,"div",34),l(1),o()),r&2){let e=c(2);a(),_(' No options found for "',e.searchTerm,'" ')}}function dt(r,i){r&1&&(t(0,"div",20),u(),t(1,"svg",21),m(2,"path",22),o()())}function mt(r,i){if(r&1&&(t(0,"div",40),l(1),o()),r&2){let e=c().$implicit,n=c(2);a(),x(n.getOptionDescription(e))}}function ct(r,i){if(r&1){let e=M();t(0,"button",35),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.selectOption(s))}),t(1,"div",36),f(2,dt,3,0,"div",18),t(3,"div",37)(4,"div",38),l(5),o(),f(6,mt,2,1,"div",39),o()()()}if(r&2){let e=i.$implicit,n=c(2);h("selected",(n.selectedOption==null?null:n.selectedOption.id)===e.id)("disabled",e.disabled),a(2),p("ngIf",e.icon),a(3),x(e.name),a(),p("ngIf",e.description)}}function pt(r,i){if(r&1&&(t(0,"div",26)(1,"div",27)(2,"span"),l(3),o(),t(4,"span",28),l(5),o()(),f(6,lt,2,1,"div",29)(7,st,2,1,"div",30)(8,ct,7,7,"button",31),o()),r&2){let e=c();be("max-height",e.maxHeight),a(3),x(e.placeholder),a(2),J("",e.filteredOptions.length," option",e.filteredOptions.length!==1?"s":"",""),a(),p("ngIf",e.searchable),a(),p("ngIf",e.searchable&&e.filteredOptions.length===0&&e.searchTerm.trim()!==""),a(),p("ngForOf",e.filteredOptions)}}function ut(r,i){if(r&1&&(t(0,"div",41),l(1),o()),r&2){let e=c();a(),_(" ",e.getFieldError()," ")}}var re=class r{options=[];selectedOption=null;placeholder="Select option";label="";required=!1;disabled=!1;error=!1;errorMessage="";searchable=!1;maxHeight="300px";selectionChange=new T;showDropdown=!1;searchTerm="";filteredOptions=[];ngOnInit(){this.filteredOptions=[...this.options]}ngOnChanges(){this.filteredOptions=[...this.options]}toggleDropdown(){this.disabled||(this.showDropdown=!this.showDropdown,this.showDropdown&&(this.searchTerm="",this.filteredOptions=[...this.options]))}selectOption(i){i.disabled||(this.selectedOption=i,this.showDropdown=!1,this.selectionChange.emit(i))}onSearchInput(i){let e=i.target;this.searchTerm=e.value,this.searchTerm.trim()===""?this.filteredOptions=[...this.options]:this.filteredOptions=this.options.filter(n=>n.name.toLowerCase().includes(this.searchTerm.toLowerCase())||n.description&&n.description.toLowerCase().includes(this.searchTerm.toLowerCase()))}clearSelection(){this.selectedOption=null,this.selectionChange.emit(null)}closeOnOutsideClick(){this.showDropdown=!1}getOptionDescription(i){return i.description||""}hasFieldError(){return this.error&&this.errorMessage!==""}getFieldError(){return this.errorMessage}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-global-dropdown"]],hostBindings:function(e,n){e&1&&g("click",function(){return n.closeOnOutsideClick()},!1,Y)},inputs:{options:"options",selectedOption:"selectedOption",placeholder:"placeholder",label:"label",required:"required",disabled:"disabled",error:"error",errorMessage:"errorMessage",searchable:"searchable",maxHeight:"maxHeight"},outputs:{selectionChange:"selectionChange"},features:[Z],decls:13,vars:15,consts:[[1,"dropdown-wrapper"],["class","dropdown-label",4,"ngIf"],[1,"relative","generic-dropdown",3,"click"],["type","button",1,"dropdown-button",3,"click","disabled"],[1,"dropdown-content"],["class","placeholder",4,"ngIf"],["class","selected-item",4,"ngIf"],[1,"dropdown-actions"],["type","button","class","clear-btn","title","Clear selection",3,"click",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"dropdown-arrow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",3,"max-height",4,"ngIf"],["class","field-error",4,"ngIf"],[1,"dropdown-label"],["class","required",4,"ngIf"],[1,"required"],[1,"placeholder"],[1,"selected-item"],["class","item-icon",4,"ngIf"],[1,"selected-text"],[1,"item-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["type","button","title","Clear selection",1,"clear-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"clear-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"options-count"],["class","search-container",4,"ngIf"],["class","no-results",4,"ngIf"],["type","button","class","dropdown-item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"search-container"],["type","text","placeholder","Search options...",1,"search-input",3,"input","click","value"],[1,"no-results"],["type","button",1,"dropdown-item",3,"click"],[1,"item-content"],[1,"item-details"],[1,"item-name"],["class","item-description",4,"ngIf"],[1,"item-description"],[1,"field-error"]],template:function(e,n){e&1&&(t(0,"div",0),f(1,nt,3,2,"label",1),t(2,"div",2),g("click",function(d){return d.stopPropagation()}),t(3,"button",3),g("click",function(){return n.toggleDropdown()}),t(4,"div",4),f(5,it,2,1,"span",5)(6,rt,4,2,"div",6),t(7,"div",7),f(8,at,3,0,"button",8),u(),t(9,"svg",9),m(10,"path",10),o()()()(),f(11,pt,9,8,"div",11),o(),f(12,ut,2,1,"div",12),o()),e&2&&(h("error",n.hasFieldError()),a(),p("ngIf",n.label),a(2),h("error",n.hasFieldError())("active",n.showDropdown),p("disabled",n.disabled),a(2),p("ngIf",!n.selectedOption),a(),p("ngIf",n.selectedOption),a(2),p("ngIf",n.selectedOption&&!n.disabled),a(),h("rotated",n.showDropdown),a(2),p("ngIf",n.showDropdown),a(),p("ngIf",n.hasFieldError()))},dependencies:[y,H,L],styles:[".dropdown-wrapper.error[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{border-color:#dc2626}.dropdown-wrapper.error[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.dropdown-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151;font-size:14px}.required[_ngcontent-%COMP%]{color:#dc2626;margin-left:4px}.generic-dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.dropdown-button[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left;font-size:14px;min-height:48px;display:flex;align-items:center;justify-content:space-between}.dropdown-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#9ca3af}.dropdown-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;color:#9ca3af;cursor:not-allowed;border-color:#e5e7eb}.dropdown-button.error[_ngcontent-%COMP%]{border-color:#dc2626}.dropdown-button.error[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;flex-shrink:0}.icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280}.selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500;flex:1}.dropdown-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0}.clear-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;border-radius:4px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.clear-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280}.dropdown-arrow[_ngcontent-%COMP%]{width:20px;height:20px;color:#6b7280;transition:transform .2s;flex-shrink:0}.dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:2px solid #d1d5db;border-top:none;border-radius:0 0 8px 8px;box-shadow:0 10px 15px -3px #0000001a;z-index:10;max-height:300px;overflow-y:auto}.dropdown-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:#f9fafb;border-bottom:1px solid #e5e7eb;font-weight:500;color:#374151;font-size:14px;display:flex;justify-content:space-between;align-items:center}.options-count[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:400}.search-container[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #e5e7eb}.search-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;transition:border-color .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.no-results[_ngcontent-%COMP%]{padding:16px;text-align:center;color:#6b7280;font-style:italic;font-size:14px}.dropdown-item[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:none;background:none;text-align:left;cursor:pointer;transition:background-color .2s;border-bottom:1px solid #f3f4f6}.dropdown-item[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#f3f4f6}.dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.dropdown-item.disabled[_ngcontent-%COMP%]{color:#9ca3af;cursor:not-allowed;background-color:#f9fafb}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.item-details[_ngcontent-%COMP%]{flex:1}.item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:2px}.item-description[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;line-height:1.4}.field-error[_ngcontent-%COMP%]{margin-top:8px;color:#dc2626;font-size:12px;font-weight:500}"]})};function gt(r,i){if(r&1&&(t(0,"div",14),l(1),o()),r&2){let e=c();a(),_(" ",e.errorMessage," ")}}function ft(r,i){r&1&&(t(0,"span"),l(1,"Assigning..."),o())}function bt(r,i){r&1&&(t(0,"span"),l(1,"Assign Work Order"),o())}var ae=class r{constructor(i){this.workOrderService=i}teamMemberName="";teamMemberId=0;closed=new T;submitted=new T;workOrders=[];selectedWorkOrderId=null;selectedWorkOrder=null;dueDate="";notes="";loading=!1;errorMessage="";ngOnInit(){this.fetchWorkOrders()}fetchWorkOrders(){this.loading=!0,this.workOrderService.getWorkOrders({page:1,per_page:1e3}).subscribe({next:i=>{this.workOrders=(i.data||[]).map(e=>({id:e.id,name:e.title,description:e.description||`Status: ${e.status_id}`,icon:"work-order"})),this.loading=!1},error:i=>{console.error("Error fetching work orders:",i),this.errorMessage="Failed to load work orders",this.loading=!1}})}submit(){if(!this.selectedWorkOrderId){this.errorMessage="Please select a work order";return}this.errorMessage="",this.workOrderService.assignWorkOrder(this.selectedWorkOrderId,{user_id:this.teamMemberId,due_date:this.dueDate||void 0,notes:this.notes||void 0}).subscribe({next:i=>{this.submitted.emit({work_order_id:this.selectedWorkOrderId,due_date:this.dueDate||void 0,notes:this.notes||void 0})},error:i=>{console.error("Error assigning work order:",i),i.error&&i.error.message?this.errorMessage=i.error.message:this.errorMessage="Failed to assign work order. Please try again."}})}selectWorkOrder(i){this.selectedWorkOrder=i,this.selectedWorkOrderId=i.id,this.errorMessage=""}onInputChange(){this.errorMessage=""}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||r)(I(Ge))};static \u0275cmp=k({type:r,selectors:[["app-assign-work-order-modal"]],inputs:{teamMemberName:"teamMemberName",teamMemberId:"teamMemberId"},outputs:{closed:"closed",submitted:"submitted"},decls:26,vars:12,consts:[[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"subtitle"],["class","error-message",4,"ngIf"],[1,"form-group"],["label","Available Work Orders","placeholder","Select a work order",3,"selectionChange","required","options","selectedOption","searchable","disabled"],["type","datetime-local",1,"input",3,"ngModelChange","input","ngModel"],["rows","5","placeholder","Add any specific instructions or notes for this assignment...",1,"textarea",3,"ngModelChange","input","ngModel"],[1,"modal-actions"],[1,"btn","secondary",3,"click"],[1,"btn","primary",3,"click","disabled"],[4,"ngIf"],[1,"error-message"]],template:function(e,n){e&1&&(t(0,"div",0),g("click",function(){return n.close()}),t(1,"div",1),g("click",function(d){return d.stopPropagation()}),t(2,"div",2)(3,"h3"),l(4),o(),t(5,"button",3),g("click",function(){return n.close()}),l(6,"\xD7"),o()(),t(7,"p",4),l(8,"Select a work order to assign to this team member"),o(),f(9,gt,2,1,"div",5),t(10,"div",6)(11,"app-global-dropdown",7),g("selectionChange",function(d){return n.selectWorkOrder(d)}),o()(),t(12,"div",6)(13,"label"),l(14,"Due Date (Optional)"),o(),t(15,"input",8),G("ngModelChange",function(d){return j(n.dueDate,d)||(n.dueDate=d),d}),g("input",function(){return n.onInputChange()}),o()(),t(16,"div",6)(17,"label"),l(18,"Assignment Notes (Optional)"),o(),t(19,"textarea",9),G("ngModelChange",function(d){return j(n.notes,d)||(n.notes=d),d}),g("input",function(){return n.onInputChange()}),o()(),t(20,"div",10)(21,"button",11),g("click",function(){return n.close()}),l(22,"Cancel"),o(),t(23,"button",12),g("click",function(){return n.submit()}),f(24,ft,2,0,"span",13)(25,bt,2,0,"span",13),o()()()()),e&2&&(a(4),_("Assign Work Order to ",n.teamMemberName,""),a(5),p("ngIf",n.errorMessage),a(2),p("required",!0)("options",n.workOrders)("selectedOption",n.selectedWorkOrder)("searchable",!0)("disabled",n.loading),a(4),A("ngModel",n.dueDate),a(4),A("ngModel",n.notes),a(4),p("disabled",!n.selectedWorkOrderId||n.loading),a(),p("ngIf",n.loading),a(),p("ngIf",!n.loading))},dependencies:[y,L,O,D,F,z,re],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:90%;max-width:500px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#111827}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#374151}.subtitle[_ngcontent-%COMP%]{margin:0 24px 20px;color:#6b7280;font-size:14px}.form-group[_ngcontent-%COMP%]{margin:0 24px 20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151;font-size:14px}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #d1d5db;border-radius:8px;font-size:14px;transition:border-color .2s;box-sizing:border-box}.input[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-message[_ngcontent-%COMP%]{margin:0 24px 20px;padding:12px 16px;background-color:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#dc2626;font-size:14px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px 24px;border-top:1px solid #e5e7eb}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s;border:none}.btn.secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn.secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.btn.primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn.primary[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;cursor:not-allowed}.required[_ngcontent-%COMP%]{color:#dc2626;margin-left:4px}.generic-dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.dropdown-button[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left;font-size:14px;min-height:48px;display:flex;align-items:center;justify-content:space-between}.dropdown-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#9ca3af}.dropdown-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.dropdown-button[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;color:#9ca3af;cursor:not-allowed;border-color:#e5e7eb}.dropdown-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.selected-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;flex-shrink:0}.icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280}.selected-text[_ngcontent-%COMP%]{color:#111827;font-weight:500;flex:1}.dropdown-arrow[_ngcontent-%COMP%]{width:20px;height:20px;color:#6b7280;transition:transform .2s;flex-shrink:0}.dropdown-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:2px solid #d1d5db;border-top:none;border-radius:0 0 8px 8px;box-shadow:0 10px 15px -3px #0000001a;z-index:10;max-height:300px;overflow-y:auto}.dropdown-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:#f9fafb;border-bottom:1px solid #e5e7eb;font-weight:500;color:#374151;font-size:14px}.dropdown-item[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:none;background:none;text-align:left;cursor:pointer;transition:background-color .2s;border-bottom:1px solid #f3f4f6}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.dropdown-item.selected[_ngcontent-%COMP%]{background-color:#eff6ff;color:#1d4ed8}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.item-details[_ngcontent-%COMP%]{flex:1}.item-name[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:2px}.item-description[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;line-height:1.4}"]})};var me=(r,i)=>i.value;function _t(r,i){if(r&1&&(t(0,"div",8)(1,"div",110),u(),t(2,"svg",111),m(3,"path",112),o(),b(),t(4,"span",113),l(5),o()()()),r&2){let e=c();a(5),x(e.successMessage)}}function ht(r,i){if(r&1&&(t(0,"p",18),l(1),o()),r&2){let e=c();a(),_("",(e.statistics==null?null:e.statistics.total_team_members)||0," Active")}}function xt(r,i){r&1&&(u(),t(0,"svg",118),m(1,"path",119),o())}function vt(r,i){if(r&1){let e=M();t(0,"div",116),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.selectSort(s))}),t(1,"span"),l(2),o(),f(3,xt,2,0,"svg",117),o()}if(r&2){let e=i.$implicit,n=c(2);h("bg-blue-100",(n.selectedSort==null?null:n.selectedSort.value)===e.value),a(2),x(e.label),a(),p("ngIf",(n.selectedSort==null?null:n.selectedSort.value)===e.value)}}function wt(r,i){if(r&1&&(t(0,"div",47)(1,"div",114),f(2,vt,4,4,"div",115),o()()),r&2){let e=c();a(2),p("ngForOf",e.sortOptions)}}function Mt(r,i){r&1&&(u(),t(0,"svg",118),m(1,"path",119),o())}function Ct(r,i){if(r&1){let e=M();t(0,"div",116),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.selectRole(s))}),t(1,"span"),l(2),o(),f(3,Mt,2,0,"svg",117),o()}if(r&2){let e=i.$implicit,n=c(2);h("bg-blue-100",(n.selectedRole==null?null:n.selectedRole.value)===e.value),a(2),x(e.label),a(),p("ngIf",(n.selectedRole==null?null:n.selectedRole.value)===e.value)}}function yt(r,i){if(r&1&&(t(0,"div",47)(1,"div",114),K(2,Ct,4,4,"div",120,me),o()()),r&2){let e=c();a(2),Q(e.roleOptions)}}function Tt(r,i){r&1&&(u(),t(0,"svg",118),m(1,"path",119),o())}function St(r,i){if(r&1){let e=M();t(0,"div",116),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.selectStatus(s))}),t(1,"span"),l(2),o(),f(3,Tt,2,0,"svg",117),o()}if(r&2){let e=i.$implicit,n=c(2);h("bg-blue-100",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value),a(2),x(e.label),a(),p("ngIf",(n.selectedStatus==null?null:n.selectedStatus.value)===e.value)}}function kt(r,i){if(r&1&&(t(0,"div",47)(1,"div",114),K(2,St,4,4,"div",120,me),o()()),r&2){let e=c();a(2),Q(e.statusOptions)}}function Et(r,i){r&1&&(u(),t(0,"svg",118),m(1,"path",119),o())}function Ot(r,i){if(r&1){let e=M();t(0,"div",116),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.selectType(s))}),t(1,"span"),l(2),o(),f(3,Et,2,0,"svg",117),o()}if(r&2){let e=i.$implicit,n=c(2);h("bg-blue-100",(n.selectedType==null?null:n.selectedType.value)===e.value),a(2),x(e.label),a(),p("ngIf",(n.selectedType==null?null:n.selectedType.value)===e.value)}}function Pt(r,i){if(r&1&&(t(0,"div",47)(1,"div",114),K(2,Ot,4,4,"div",120,me),o()()),r&2){let e=c();a(2),Q(e.typeOptions)}}function It(r,i){if(r&1&&(t(0,"div",48)(1,"div",121),u(),t(2,"svg",122),m(3,"path",123),o(),b(),t(4,"p",124),l(5),o()()()),r&2){let e=c();a(5),x(e.error)}}function Lt(r,i){if(r&1){let e=M();t(0,"div",162)(1,"div",114)(2,"button",163),g("click",function(){v(e);let s=c().$implicit,d=c(2);return w(d.editTeamMember(s))}),u(),t(3,"svg",164),m(4,"path",165),o(),b(),t(5,"span"),l(6,"Edit Member"),o()(),t(7,"button",166),u(),t(8,"svg",167),m(9,"path",168),o(),l(10," Inactive "),o(),b(),t(11,"button",169),g("click",function(){v(e);let s=c().$implicit,d=c(2);return w(d.deleteTeamMember(s))}),u(),t(12,"svg",170),m(13,"path",171),o(),b(),t(14,"span"),l(15,"Remove Member"),o()()()()}}function Dt(r,i){if(r&1&&(t(0,"div",172),u(),t(1,"svg",150),m(2,"path",173),o(),b(),t(3,"span"),l(4),o()()),r&2){let e=c().$implicit;a(4),x(e.role.name)}}function Ft(r,i){if(r&1&&(t(0,"div",174),u(),t(1,"svg",150),m(2,"path",175),o(),b(),t(3,"span"),l(4),o()()),r&2){let e=c().$implicit;a(4),_("$",e.hourly_rate,"/hour")}}function Vt(r,i){r&1&&(t(0,"span",176),l(1,"Full access"),o())}function At(r,i){if(r&1&&(t(0,"span",179),l(1),o()),r&2){let e=i.$implicit;a(),_(" ",e.name," ")}}function jt(r,i){if(r&1&&(_e(0),t(1,"div",177),f(2,At,2,1,"span",178),o(),he()),r&2){let e=c().$implicit;a(2),p("ngForOf",e.locations)}}function Gt(r,i){if(r&1){let e=M();t(0,"div",127)(1,"div",128)(2,"div",11)(3,"div",110)(4,"div",129),u(),t(5,"svg",130),m(6,"path",131),o()(),b(),t(7,"div")(8,"span",132),l(9),o(),t(10,"div",133),l(11),o()()(),t(12,"div",134)(13,"button",135),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.openAssign(s))}),u(),t(14,"svg",136),m(15,"path",137)(16,"path",138),o(),b(),t(17,"span"),l(18,"Assign"),o()(),t(19,"button",139),g("click",function(){let s=v(e).$implicit,d=c(2);return w(d.toggleTeamMemberMenu(s.id))}),u(),t(20,"svg",140),m(21,"path",141),o()(),f(22,Lt,16,0,"div",142),o()()(),b(),t(23,"div",143)(24,"h3",144),l(25),o(),t(26,"p",145),l(27),o(),f(28,Dt,5,1,"div",146)(29,Ft,5,1,"div",147),t(30,"div",148)(31,"div",149),u(),t(32,"svg",150),m(33,"path",151),o(),b(),t(34,"span"),l(35),xe(36,"date"),o()(),t(37,"div",152),f(38,Vt,2,0,"span",153)(39,jt,3,1,"ng-container",154),o()(),m(40,"hr",155),t(41,"div",156)(42,"div",157)(43,"div",158),l(44),o(),t(45,"div",159),l(46,"Assigned"),o()(),t(47,"div",157)(48,"div",160),l(49,"1"),o(),t(50,"div",159),l(51,"Active"),o()(),t(52,"div",157)(53,"div",161),l(54,"2"),o(),t(55,"div",159),l(56,"Completed"),o()()()()()}if(r&2){let e=i.$implicit,n=c(2);a(9),_(" ",n.getTeamMemberFullName(e)," "),a(2),x(e.roles[0].name),a(11),p("ngIf",e.showMenu),a(3),x(n.getTeamMemberFullName(e)),a(2),x(e.email),a(),p("ngIf",e.role),a(),p("ngIf",e.hourly_rate!==void 0&&e.hourly_rate!==null),a(6),_("Created ",ve(36,11,e.created_at,"MMM d, y"),""),a(3),p("ngIf",e.has_full_location_access),a(),p("ngIf",!e.has_full_location_access&&(e.locations==null?null:e.locations.length)),a(5),_("",e.assigned_work_orders_count||0," ")}}function Rt(r,i){if(r&1&&(t(0,"div",50)(1,"div",125),f(2,Gt,57,14,"div",126),o()()),r&2){let e=c();a(2),p("ngForOf",e.filteredTeamMembers)}}function Nt(r,i){if(r&1){let e=M();t(0,"div",50)(1,"div",180),u(),t(2,"svg",181),m(3,"path",182),o(),b(),t(4,"h3",183),l(5,"No team members found"),o(),t(6,"p",184),l(7),o(),t(8,"div",185)(9,"button",186),g("click",function(){v(e);let s=c();return w(s.createTeamMember())}),u(),t(10,"svg",6),m(11,"path",7),o(),l(12," Invite Team Member "),o()()()()}if(r&2){let e=c();a(7),_(" ",e.searchTerm?"Try adjusting your search terms.":"Get started by inviting your first team member."," ")}}function Ht(r,i){r&1&&(t(0,"div",50)(1,"div",187),m(2,"div",188),o()())}function zt(r,i){if(r&1){let e=M();t(0,"app-team-delete-confirmation-modal",189),g("confirmed",function(s){v(e);let d=c();return w(d.confirmDeleteTeamMember(s))})("cancelled",function(){v(e);let s=c();return w(s.closeDeleteModal())}),o()}if(r&2){let e=c();p("teamMember",e.teamMemberToDelete)}}function Bt(r,i){if(r&1){let e=M();t(0,"app-team-form-modal",190),g("teamMemberSaved",function(s){v(e);let d=c();return w(d.onTeamMemberSaved(s))})("cancelled",function(){v(e);let s=c();return w(s.closeFormModal())}),o()}if(r&2){let e=c();p("teamMember",e.teamMemberToEdit)("isEditMode",e.isEditMode)}}function Wt(r,i){if(r&1){let e=M();t(0,"app-assign-work-order-modal",191),g("closed",function(){v(e);let s=c();return w(s.closeAssign())})("submitted",function(s){v(e);let d=c();return w(d.onAssignmentSubmitted(s))}),o()}if(r&2){let e=c();p("teamMemberName",e.teamMemberToAssign?e.getTeamMemberFullName(e.teamMemberToAssign):"")("teamMemberId",e.teamMemberToAssign?e.teamMemberToAssign.id:0)}}var B=class r{constructor(i){this.teamService=i}teamMembers=[];filteredTeamMembers=[];loading=!1;error="";successMessage="";statistics=null;searchTerm="";selectedSort=null;selectedRole={label:"All Roles",value:""};selectedType={label:"All Types",value:""};selectedStatus={label:"All Status",value:""};selectedSortDir="asc";showSortDropdown=!1;showRoleDropdown=!1;showTypeDropdown=!1;showStatusDropdown=!1;showDeleteModal=!1;teamMemberToDelete=null;showFormModal=!1;teamMemberToEdit=null;isEditMode=!1;showAssignModal=!1;teamMemberToAssign=null;sortOptions=[{label:"Name",value:"name"},{label:"Created Date",value:"created_at"},{label:"Email",value:"email"},{label:"Role",value:"role"}];roleOptions=[{label:"All Roles",value:""},{label:"Admin",value:"admin"},{label:"User",value:"user"},{label:"Technician",value:"technician"}];typeOptions=[{label:"All Types",value:""},{label:"Admin",value:"admin"},{label:"User",value:"user"},{label:"Technician",value:"technician"}];statusOptions=[{label:"All Status",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}];onDocumentClick(i){let e=i.target,n=e.closest("button"),s=e.closest(".dropdown-menu");n||s||(this.teamMembers=this.teamMembers.map(d=>W(V({},d),{showMenu:!1})),this.filteredTeamMembers=this.filteredTeamMembers.map(d=>W(V({},d),{showMenu:!1})))}ngOnInit(){this.loadTeamMembers(),this.loadStatistics()}loadTeamMembers(){this.loading=!0,this.error="",this.teamService.getTeamMembers().subscribe({next:i=>{this.teamMembers=i.data,this.filteredTeamMembers=[...this.teamMembers],this.loading=!1},error:i=>{this.error="Failed to load team members",this.loading=!1,console.error("Error loading team members:",i)}})}loadStatistics(){this.teamService.getTeamMemberStatistics().subscribe({next:i=>{this.statistics=i.data},error:i=>{console.error("Error loading team member statistics:",i)}})}refreshStats(){this.loadStatistics()}createTeamMember(){this.teamMemberToEdit=null,this.isEditMode=!1,this.showFormModal=!0}editTeamMember(i){this.teamMemberToEdit=i,this.isEditMode=!0,this.showFormModal=!0}openAssign(i){this.teamMemberToAssign=i,this.showAssignModal=!0}closeAssign(){this.showAssignModal=!1,this.teamMemberToAssign=null}onAssignmentSubmitted(i){this.successMessage=`Work order successfully assigned to ${this.teamMemberToAssign?.first_name} ${this.teamMemberToAssign?.last_name}`,setTimeout(()=>{this.successMessage=""},3e3),this.loadTeamMembers(),this.closeAssign()}viewTeamMember(i){console.log("View team member:",i)}deleteTeamMember(i){this.teamMemberToDelete=i,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.teamMemberToDelete=null}confirmDeleteTeamMember(i){this.teamMemberToDelete&&this.teamService.deleteTeamMember(this.teamMemberToDelete.id).subscribe({next:e=>{this.teamMembers=this.teamMembers.filter(n=>n.id!==this.teamMemberToDelete.id),this.filteredTeamMembers=this.filteredTeamMembers.filter(n=>n.id!==this.teamMemberToDelete.id),this.closeDeleteModal()},error:e=>{this.error="Failed to delete team member",console.error("Error deleting team member:",e)}})}closeFormModal(){this.showFormModal=!1,this.teamMemberToEdit=null,this.isEditMode=!1}onTeamMemberSaved(i){if(this.isEditMode){let e=this.teamMembers.findIndex(n=>n.id===i.id);e!==-1&&(this.teamMembers[e]=i,this.filteredTeamMembers=this.filteredTeamMembers.map(n=>n.id===i.id?i:n))}else this.teamMembers.unshift(i),this.filteredTeamMembers.unshift(i);this.closeFormModal()}onSearchChange(){this.filterTeamMembers()}filterTeamMembers(){this.searchTerm.trim()?this.filteredTeamMembers=this.teamMembers.filter(i=>`${i.first_name} ${i.last_name}`.toLowerCase().includes(this.searchTerm.toLowerCase())||i.email.toLowerCase().includes(this.searchTerm.toLowerCase())||i.role?.name&&i.role.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredTeamMembers=[...this.teamMembers],this.sortTeamMembers()}toggleSortDropdown(){this.showSortDropdown=!this.showSortDropdown}toggleRoleDropdown(){this.showRoleDropdown=!this.showRoleDropdown}toggleTypeDropdown(){this.showTypeDropdown=!this.showTypeDropdown}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown}selectSort(i){this.selectedSort=i,this.showSortDropdown=!1,this.sortTeamMembers()}selectRole(i){this.selectedRole=i,this.showRoleDropdown=!1,this.filterTeamMembers()}selectType(i){this.selectedType=i,this.showTypeDropdown=!1,this.filterTeamMembers()}selectStatus(i){this.selectedStatus=i,this.showStatusDropdown=!1,this.filterTeamMembers()}toggleSortDir(){this.selectedSortDir=this.selectedSortDir==="asc"?"desc":"asc",this.sortTeamMembers()}sortTeamMembers(){this.selectedSort&&this.filteredTeamMembers.sort((i,e)=>{let n,s;switch(this.selectedSort.value){case"name":n=`${i.first_name} ${i.last_name}`.toLowerCase(),s=`${e.first_name} ${e.last_name}`.toLowerCase();break;case"email":n=i.email.toLowerCase(),s=e.email.toLowerCase();break;case"created_at":n=new Date(i.created_at).getTime(),s=new Date(e.created_at).getTime();break;case"role":n=(i.role?.name||"").toLowerCase(),s=(e.role?.name||"").toLowerCase();break;default:n=`${i.first_name} ${i.last_name}`.toLowerCase(),s=`${e.first_name} ${e.last_name}`.toLowerCase()}return n<s?this.selectedSortDir==="asc"?-1:1:n>s?this.selectedSortDir==="asc"?1:-1:0})}getTeamMemberFullName(i){return`${i.first_name} ${i.last_name}`}getTeamMemberInitials(i){return`${i.first_name.charAt(0)}${i.last_name.charAt(0)}`.toUpperCase()}toggleTeamMemberMenu(i){this.teamMembers=this.teamMembers.map(e=>W(V({},e),{showMenu:e.id===i?!e.showMenu:!1})),this.filteredTeamMembers=this.filteredTeamMembers.map(e=>W(V({},e),{showMenu:e.id===i?!e.showMenu:!1}))}static \u0275fac=function(e){return new(e||r)(I(ee))};static \u0275cmp=k({type:r,selectors:[["app-team-list"]],hostBindings:function(e,n){e&1&&g("click",function(d){return n.onDocumentClick(d)},!1,Y)},decls:214,vars:39,consts:[[1,"team-list-page","min-h-screen","bg-gray-50","p-6"],[1,"mb-6","flex","flex-col","md:flex-row","md:items-center","md:justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","text-base"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"mb-6","bg-green-50","border","border-green-200","rounded-lg","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","mb-6"],[1,"bg-blue-50","rounded-xl","border","border-blue-100","p-6","shadow-sm"],[1,"flex","items-center","justify-between"],[1,"text-base","font-medium","text-gray-700"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],[1,""],[1,"text-2xl","font-bold","text-gray-900","my-2"],[1,"text-sm","font-medium","text-gray-600"],[1,"bg-green-50","rounded-xl","border","border-green-100","p-6","shadow-sm"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"],["stroke-linecap","round","stroke-linejoin","round","d","M4.867 19.125h.008v.008h-.008v-.008Z"],[1,"bg-orange-50","rounded-xl","border","border-orange-100","p-6","shadow-sm"],[1,"w-12","h-12","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"bg-red-50","rounded-xl","border","border-red-100","p-6","shadow-sm"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","mb-6"],[1,"flex-1","flex","flex-col","space-y-3","md:space-y-0","md:flex-row","md:items-center","md:space-x-3"],[1,"relative","w-full","md:w-80"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search team members by name or email...",1,"w-full","pl-10","pr-4","py-2","border-2","border-blue-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","placeholder-gray-400",3,"ngModelChange","input","ngModel"],[1,"relative",3,"click"],["type","button",1,"w-full","px-4","py-2","text-left","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white","transition-all","min-w-[180px]",3,"click"],[1,"text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",4,"ngIf"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"grid","grid-cols-1","xl:grid-cols-3","gap-6"],[1,"xl:col-span-2"],[1,"xl:col-span-1"],[1,"rounded-lg","border","bg-white","border-gray-200","shadow-sm","h-fit"],[1,"flex","flex-col","space-y-1.5","p-6"],[1,"text-2xl","font-semibold","flex","items-center","gap-2","text-black-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"],[1,"text-gray-500"],[1,"flex","gap-2","bg-gray-100","hover:bg-gray-200","text-gray-700","font-semibold","px-5","py-2","rounded-lg","shadow-sm","transition-colors","flex","items-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"p-6","pt-0"],[1,"relative","overflow-auto","h-[400px]"],[1,"h-full","w-full","rounded-[inherit]"],[1,"space-y-6"],[1,"space-y-4"],[1,"text-sm","font-medium","flex","items-center","gap-2","text-black-600"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"],[1,"grid","grid-cols-2","gap-3","pb-6","border-b","border-gray-200"],[1,"p-3","bg-gray-100","rounded-lg"],[1,"flex","items-center","gap-2","mb-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-green-500"],[1,"text-xs","text-gray-800","font-medium"],[1,"text-lg","font-bold","text-green-500"],[1,"relative","w-full","overflow-hidden","rounded-full","h-1","mt-1","bg-gray-200"],[1,"h-full","w-full","flex-1","transition-all"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-blue-500"],[1,"text-lg","font-bold","text-blue-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-yellow-500"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"],[1,"text-lg","font-bold","text-yellow-500"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"space-y-3","pb-6","border-b","border-gray-200"],[1,"text-sm","font-medium","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"size-4"],["cx","12","cy","12","r","10"],["cx","12","cy","12","r","6"],["cx","12","cy","12","r","2"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","rounded-lg","hover:bg-gray-50","transition-colors"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","justify-center","w-6","h-6","rounded-full","bg-blue-500","text-xs","font-bold","text-white"],[1,"text-sm","font-medium"],[1,"text-xs","text-muted-foreground"],[1,"text-right"],[1,"inline-flex","items-center","rounded-full","border","px-2.5","py-0.5","font-semibold","transition-colors","focus:outline-none","focus:ring-2","focus:ring-ring","focus:ring-offset-2","text-white","text-xs","bg-blue-100"],[1,"space-y-3"],["stroke-linecap","round","stroke-linejoin","round","d","m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"],[1,"grid","grid-cols-1","gap-2"],[1,"cursor-pointer","bg-gray-100","rounded-lg","p-2","hover:bg-blue-100","group","transition-colors","inline-flex","items-center","gap-2","whitespace-nowrap","text-sm","font-medium","hover:text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","mr-2","group-hover:text-blue-600"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"size-4","mr-2","group-hover:text-blue-600"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chart-column","h-3","w-3","mr-2"],["d","M3 3v16a2 2 0 0 0 2 2h16"],["d","M18 17V9"],["d","M13 17V5"],["d","M8 17v-3"],[3,"teamMember","confirmed","cancelled",4,"ngIf"],[3,"teamMember","isEditMode","teamMemberSaved","cancelled",4,"ngIf"],[3,"teamMemberName","teamMemberId","closed","submitted",4,"ngIf"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-800","font-medium"],[1,"py-1"],["class","px-3 py-2 text-sm text-gray-900 hover:bg-blue-50 cursor-pointer transition-colors flex items-center justify-between",3,"bg-blue-100","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","text-sm","text-gray-900","hover:bg-blue-50","cursor-pointer","transition-colors","flex","items-center","justify-between",3,"click"],["class","w-4 h-4 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"px-3","py-2","text-sm","text-gray-900","hover:bg-blue-50","cursor-pointer","transition-colors","flex","items-center","justify-between",3,"bg-blue-100"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-2","text-sm","text-red-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-md","transition-shadow","overflow-hidden"],[1,"px-6","py-4","relative"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-sm","font-medium","text-blue-400","block","mb-2"],[1,"px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","inline"],[1,"relative","flex","items-center","gap-2"],["title","Assign",1,"flex","items-center","gap-1","text-sm","px-3","py-1.5","rounded-md","bg-gray-100","hover:bg-gray-200","text-gray-700","border","border-gray-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-gray-400","hover:text-gray-600","p-1.5","rounded-full","hover:bg-gray-100","transition-colors","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],["class","absolute right-0 top-1/2 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-20",4,"ngIf"],[1,"px-6","py-4"],[1,"text-xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["class","flex items-center text-sm text-gray-500 mb-3",4,"ngIf"],["class","flex items-center text-sm text-gray-500 mb-2",4,"ngIf"],[1,"grid","grid-cols-2"],[1,"flex","items-center","text-sm","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xs","mb-2"],["class","inline-flex items-center px-2 py-0.5 rounded bg-green-100 text-green-700 border border-green-200",4,"ngIf"],[4,"ngIf"],[1,"my-3","border-gray-200"],[1,"grid","grid-cols-3"],[1,"text-center"],[1,"text-lg","font-semibold","text-blue-600"],[1,"text-xs","text-gray-500"],[1,"text-lg","font-semibold","text-yellow-600"],[1,"text-lg","font-semibold","text-green-600"],[1,"absolute","right-0","top-1/2","mt-1","w-40","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-20"],[1,"flex","items-center","w-full","px-3","py-2.5","text-sm","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2.5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"flex","items-center","w-full","px-3","py-2.5","text-sm","text-gray-700","hover:bg-gray-50","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","text-gray-400","mr-2.5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"flex","items-center","w-full","px-3","py-2.5","text-sm","text-red-600","hover:bg-red-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2.5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","text-sm","text-gray-500","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"flex","items-center","text-sm","text-gray-500","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","bg-green-100","text-green-700","border","border-green-200"],[1,"flex","flex-wrap","gap-1"],["class","inline-flex items-center px-2 py-0.5 rounded bg-gray-100 text-gray-700 border border-gray-200",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","bg-gray-100","text-gray-700","border","border-gray-200"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"flex","justify-center","items-center","py-12","h-100"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[3,"confirmed","cancelled","teamMember"],[3,"teamMemberSaved","cancelled","teamMember","isEditMode"],[3,"closed","submitted","teamMemberName","teamMemberId"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),l(4,"Team Management"),o(),t(5,"p",3),l(6,"Manage team members, assign work orders, and track team performance"),o()(),t(7,"div",4)(8,"button",5),g("click",function(){return n.createTeamMember()}),u(),t(9,"svg",6),m(10,"path",7),o(),l(11," Invite Team Member "),o()()(),f(12,_t,6,1,"div",8),b(),t(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),l(17,"Total Members"),o(),t(18,"div",13),u(),t(19,"svg",14),m(20,"path",15),o()()(),b(),t(21,"div",16)(22,"p",17),l(23),o(),f(24,ht,2,1,"p",18),o()(),t(25,"div",19)(26,"div",11)(27,"div",12),l(28,"Assigned Task"),o(),t(29,"div",20),u(),t(30,"svg",21),m(31,"path",22)(32,"path",23),o()()(),b(),t(33,"div",16)(34,"p",17),l(35),o(),t(36,"p",18),l(37,"Work orders pending"),o()()(),t(38,"div",24)(39,"div",11)(40,"div",12),l(41,"Active Task"),o(),t(42,"div",25),u(),t(43,"svg",26),m(44,"path",27),o()()(),b(),t(45,"div",16)(46,"p",17),l(47),o(),t(48,"p",18),l(49,"Currently in progress"),o()()(),t(50,"div",28)(51,"div",11)(52,"div",12),l(53,"Completion Rate"),o(),t(54,"div",29),u(),t(55,"svg",30),m(56,"path",31),o()()(),b(),t(57,"div",16)(58,"p",17),l(59),o(),t(60,"p",18),l(61,"Tasks completed"),o()()()(),t(62,"div",32)(63,"div",33)(64,"div",34),u(),t(65,"svg",35),m(66,"path",36),o(),b(),t(67,"input",37),G("ngModelChange",function(d){return j(n.searchTerm,d)||(n.searchTerm=d),d}),g("input",function(){return n.onSearchChange()}),o()(),t(68,"div",38),g("click",function(d){return d.stopPropagation()}),t(69,"button",39),g("click",function(){return n.toggleSortDropdown()}),t(70,"div",11)(71,"span",40),l(72),o(),u(),t(73,"svg",41),m(74,"path",42),o()()(),f(75,wt,3,1,"div",43),o(),b(),t(76,"button",44),g("click",function(){return n.toggleSortDir()}),u(),t(77,"svg",45),m(78,"path",46),o()(),b(),t(79,"div",38),g("click",function(d){return d.stopPropagation()}),t(80,"button",39),g("click",function(){return n.toggleRoleDropdown()}),t(81,"div",11)(82,"span",40),l(83),o(),u(),t(84,"svg",41),m(85,"path",42),o()()(),f(86,yt,4,0,"div",47),o(),b(),t(87,"div",38),g("click",function(d){return d.stopPropagation()}),t(88,"button",39),g("click",function(){return n.toggleStatusDropdown()}),t(89,"div",11)(90,"span",40),l(91),o(),u(),t(92,"svg",41),m(93,"path",42),o()()(),f(94,kt,4,0,"div",47),o(),b(),t(95,"div",38),g("click",function(d){return d.stopPropagation()}),t(96,"button",39),g("click",function(){return n.toggleTypeDropdown()}),t(97,"div",11)(98,"span",40),l(99),o(),u(),t(100,"svg",41),m(101,"path",42),o()()(),f(102,Pt,4,0,"div",47),o()()(),f(103,It,6,1,"div",48),b(),t(104,"div",49),f(105,Rt,3,1,"div",50)(106,Nt,13,1,"div",50)(107,Ht,3,0,"div",50),t(108,"div",51)(109,"div",52)(110,"div",53)(111,"div",11)(112,"div")(113,"h2",54),u(),t(114,"svg",55),m(115,"path",56),o(),l(116," Team Analytics "),o(),b(),t(117,"p",57),l(118,"Performance metrics and team insights"),o()(),t(119,"button",58),g("click",function(){return n.refreshStats()}),u(),t(120,"svg",59),m(121,"path",60),o(),l(122," Refresh "),o()()(),b(),t(123,"div",61)(124,"div",62)(125,"div",63)(126,"div",64)(127,"div",65)(128,"h4",66),u(),t(129,"svg",59),m(130,"path",67),o(),l(131," Key Performance Indicators "),o(),b(),t(132,"div",68)(133,"div",69)(134,"div",70),u(),t(135,"svg",71),m(136,"path",67),o(),b(),t(137,"span",72),l(138,"Productivity"),o()(),t(139,"div",73),l(140,"0%"),o(),t(141,"div",74),m(142,"div",75),o()(),t(143,"div",69)(144,"div",70),u(),t(145,"svg",76),m(146,"path",27),o(),b(),t(147,"span",72),l(148,"On-Time Rate"),o()(),t(149,"div",77),l(150,"0%"),o(),t(151,"div",74),m(152,"div",75),o()(),t(153,"div",69)(154,"div",70),u(),t(155,"svg",78),m(156,"path",79),o(),b(),t(157,"span",72),l(158,"Avg. Completion"),o()(),t(159,"div",80),l(160,"0.0d"),o()(),t(161,"div",69)(162,"div",70),u(),t(163,"svg",71),m(164,"path",81),o(),b(),t(165,"span",72),l(166,"Labor Cost"),o()(),t(167,"div",73),l(168,"$0"),o()()(),t(169,"div",82)(170,"h4",83),u(),t(171,"svg",84),m(172,"circle",85)(173,"circle",86)(174,"circle",87),o(),l(175," Top Performers "),o(),b(),t(176,"div",88)(177,"div",89)(178,"div",90)(179,"div",91),l(180," 1 "),o(),t(181,"div"),m(182,"p",92),t(183,"p",93),l(184,"0 completed"),o()()(),t(185,"div",94)(186,"div",95),l(187," 0% "),o()()()()(),t(188,"div",96)(189,"h4",83),u(),t(190,"svg",59),m(191,"path",97),o(),l(192," Quick Actions "),o(),b(),t(193,"div",98)(194,"button",99),u(),t(195,"svg",100),m(196,"path",15),o(),l(197," View Team Schedule "),o(),b(),t(198,"button",99),u(),t(199,"svg",101),m(200,"circle",85)(201,"circle",86)(202,"circle",87),o(),l(203," Set Performance Goals "),o(),b(),t(204,"button",99),u(),t(205,"svg",102),m(206,"path",103)(207,"path",104)(208,"path",105)(209,"path",106),o(),l(210," Generate Report "),o()()()()()()()()()()(),f(211,zt,1,1,"app-team-delete-confirmation-modal",107)(212,Bt,1,2,"app-team-form-modal",108)(213,Wt,1,2,"app-assign-work-order-modal",109),o()),e&2&&(a(12),E(n.successMessage?12:-1),a(11),x((n.statistics==null?null:n.statistics.total_team_members)||0),a(),E((n.statistics==null?null:n.statistics.total_team_members)!==0?24:-1),a(11),x((n.statistics==null?null:n.statistics.total_team_members)||0),a(12),x((n.statistics==null?null:n.statistics.total_team_members)||0),a(12),x((n.statistics==null?null:n.statistics.total_team_members)||0),a(8),A("ngModel",n.searchTerm),a(2),h("border-blue-500",n.showSortDropdown),a(3),_(" ",n.selectedSort?"Sort by: "+n.selectedSort.label:"Sort by"," "),a(),h("rotate-180",n.showSortDropdown),a(2),p("ngIf",n.showSortDropdown),a(3),fe("d",n.selectedSortDir==="asc"?"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4":"M17 8V4m0 0l4 4m-4-4l-4 4M7 16v4m0 0l-4-4m4 4l4-4"),a(2),h("border-blue-500",n.showRoleDropdown),a(3),_(" ",n.selectedRole?n.selectedRole.label:"All Roles"," "),a(),h("rotate-180",n.showRoleDropdown),a(2),E(n.showRoleDropdown?86:-1),a(2),h("border-blue-500",n.showStatusDropdown),a(3),_(" ",n.selectedStatus?n.selectedStatus.label:"All Status"," "),a(),h("rotate-180",n.showStatusDropdown),a(2),E(n.showStatusDropdown?94:-1),a(2),h("border-blue-500",n.showTypeDropdown),a(3),_(" ",n.selectedType?n.selectedType.label:"All Types"," "),a(),h("rotate-180",n.showTypeDropdown),a(2),E(n.showTypeDropdown?102:-1),a(),E(n.error&&!n.loading?103:-1),a(2),E(n.loading?-1:105),a(),E(!n.loading&&n.filteredTeamMembers.length===0?106:-1),a(),E(n.loading?107:-1),a(104),p("ngIf",n.showDeleteModal),a(),p("ngIf",n.showFormModal),a(),p("ngIf",n.showAssignModal))},dependencies:[y,H,L,we,O,D,F,z,te,oe,ae],styles:[".team-list-page[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #101e3614;overflow:hidden;background:#fff;border:1px solid #bfdbfe;display:flex;flex-direction:column;transition:box-shadow .2s}.team-list-page[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;border-color:#e5e7eb}.team-list-page[_ngcontent-%COMP%]   .team-card-header[_ngcontent-%COMP%]{background:#e0edff;height:8rem;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;border-top-left-radius:1rem;border-top-right-radius:1rem;overflow:hidden}.team-list-page[_ngcontent-%COMP%]   .dropdown-enter[_ngcontent-%COMP%]{opacity:0;transform:translateY(-10px)}.team-list-page[_ngcontent-%COMP%]   .dropdown-enter-active[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:opacity .2s,transform .2s}.team-list-page[_ngcontent-%COMP%]   .dropdown-exit[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.team-list-page[_ngcontent-%COMP%]   .dropdown-exit-active[_ngcontent-%COMP%]{opacity:0;transform:translateY(-10px);transition:opacity .2s,transform .2s}.team-list-page[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #101e361f}.team-list-page[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.team-list-page[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.team-list-page[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.team-list-page[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.team-list-page[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.team-list-page[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.team-list-page[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.team-list-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.team-list-page[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.team-list-page[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var $t=[{path:"",component:B}],le=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=U({type:r});static \u0275inj=q({imports:[$.forChild($t),$]})};var Re=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=U({type:r});static \u0275inj=q({imports:[y,X,O,$,le,B]})};export{Re as TeamsModule};
