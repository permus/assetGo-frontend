import{a as k}from"./chunk-2HN7MGS7.js";import{a as A}from"./chunk-E7W5FHY5.js";import{A as Z,C as J,c as B,d as g,e as z,f as D,j as H,o as O,r as U,x as W}from"./chunk-BV4EONZX.js";import"./chunk-47ABMRM7.js";import{c as j}from"./chunk-SSTOZ5OJ.js";import"./chunk-J7FUFURU.js";import{j as N,l as G}from"./chunk-CDW6MD7D.js";import{Gb as t,Hb as e,Ib as c,Mb as P,Pb as h,Qb as u,Ua as V,Xa as o,ab as E,bc as n,cc as _,dc as L,ia as x,ja as v,jb as q,ka as p,la as b,ob as f,oc as R,wb as l,xb as T,yb as w}from"./chunk-ZHYBNXXX.js";import"./chunk-EQDQRRRY.js";var Q=(i,a,r)=>({"text-red-600":i,"text-yellow-600":a,"text-green-600":r}),X=(i,a,r)=>({"bg-red-500":i,"bg-yellow-500":a,"bg-green-500":r});function Y(i,a){if(i&1){let r=P();t(0,"div",14)(1,"div",2)(2,"div",3)(3,"div",15),p(),t(4,"svg",16),c(5,"path",17),e()()(),b(),t(6,"h2",18),n(7,"Registration Successful!"),e(),t(8,"p",19),n(9," User registered successfully. Please login now. "),e(),t(10,"div",20)(11,"p",21),n(12," Redirecting to login page in "),t(13,"span",22),n(14),e(),n(15," seconds "),e()(),t(16,"button",23),h("click",function(){x(r);let d=u();return v(d.toggleMode())}),n(17," Go to login now "),e()()()}if(i&2){let r=u();o(14),_(r.countdown)}}function $(i,a){if(i&1&&(t(0,"div",54)(1,"p",55),n(2),e()()),i&2){let r=u(2);o(2),_(r.errorMessage)}}function ee(i,a){i&1&&(p(),t(0,"svg",56),c(1,"path",57)(2,"path",58),e())}function te(i,a){i&1&&(p(),t(0,"svg",56),c(1,"path",59),e())}function re(i,a){if(i&1&&(t(0,"div",60)(1,"div",61)(2,"span",62),n(3,"Password Strength:"),e(),t(4,"span",63),n(5),e()(),t(6,"div",64),c(7,"div",65),e()()),i&2){let r=u(2);o(4),l("ngClass",R(5,Q,r.passwordStrength.level==="weak",r.passwordStrength.level==="medium",r.passwordStrength.level==="strong"||r.passwordStrength.level==="very-strong")),o(),L(" ",r.passwordStrength.level," "),o(2),T("width",r.passwordStrength.percentage,"%"),l("ngClass",R(9,X,r.passwordStrength.level==="weak",r.passwordStrength.level==="medium",r.passwordStrength.level==="strong"||r.passwordStrength.level==="very-strong"))}}function ne(i,a){if(i&1&&(t(0,"div",66)(1,"p",67),n(2,"Password must contain:"),e(),t(3,"ul",68)(4,"li",69)(5,"span",70),n(6),e(),n(7," At least 8 characters "),e(),t(8,"li",69)(9,"span",70),n(10),e(),n(11," One uppercase letter (A-Z) "),e(),t(12,"li",69)(13,"span",70),n(14),e(),n(15," One lowercase letter (a-z) "),e(),t(16,"li",69)(17,"span",70),n(18),e(),n(19," One number (0-9) "),e()()()),i&2){let r=u(2);o(4),l("ngClass",r.getPasswordRequirements().minLength?"text-green-600":"text-gray-500"),o(2),_(r.getPasswordRequirements().minLength?"\u2713":"\u25CB"),o(2),l("ngClass",r.getPasswordRequirements().hasUpperCase?"text-green-600":"text-gray-500"),o(2),_(r.getPasswordRequirements().hasUpperCase?"\u2713":"\u25CB"),o(2),l("ngClass",r.getPasswordRequirements().hasLowerCase?"text-green-600":"text-gray-500"),o(2),_(r.getPasswordRequirements().hasLowerCase?"\u2713":"\u25CB"),o(2),l("ngClass",r.getPasswordRequirements().hasNumber?"text-green-600":"text-gray-500"),o(2),_(r.getPasswordRequirements().hasNumber?"\u2713":"\u25CB")}}function ie(i,a){i&1&&(p(),t(0,"svg",56),c(1,"path",57)(2,"path",58),e())}function oe(i,a){i&1&&(p(),t(0,"svg",56),c(1,"path",59),e())}function se(i,a){i&1&&(t(0,"div",71),n(1," Passwords do not match "),e())}function ae(i,a){i&1&&(t(0,"span"),n(1,"Sign Up"),e())}function le(i,a){i&1&&(t(0,"span",72),p(),t(1,"svg",73),c(2,"circle",74)(3,"path",75),e(),n(4," Creating Account... "),e())}function de(i,a){if(i&1){let r=P();t(0,"div",14)(1,"div",24)(2,"h2",25),n(3,"Welcome"),e(),t(4,"p",6),n(5,"Sign in to your account or create a new one"),e()(),t(6,"div",26)(7,"button",27),h("click",function(){x(r);let d=u();return v(d.toggleMode())}),n(8," Sign In "),e(),t(9,"button",28),n(10," Sign Up "),e()(),f(11,$,3,1,"div",29),t(12,"form",30),h("ngSubmit",function(){x(r);let d=u();return v(d.onSubmit())}),t(13,"div",31)(14,"div",32)(15,"div")(16,"label",33),n(17,"First Name"),e(),c(18,"input",34),e(),t(19,"div")(20,"label",35),n(21,"Last Name"),e(),c(22,"input",36),e()(),t(23,"div")(24,"label",37),n(25,"Company Name"),e(),c(26,"input",38),e(),t(27,"div")(28,"label",39),n(29,"Email"),e(),c(30,"input",40),e(),t(31,"div")(32,"label",41),n(33,"Password"),e(),t(34,"div",42)(35,"input",43),h("focus",function(){x(r);let d=u();return v(d.showPasswordRequirements=!0)}),e(),t(36,"button",44),h("click",function(){x(r);let d=u();return v(d.togglePasswordVisibility())}),f(37,ee,3,0,"svg",45)(38,te,2,0,"svg",45),e()(),f(39,re,8,13,"div",46)(40,ne,20,8,"div",47),e(),t(41,"div")(42,"label",48),n(43,"Confirm Password"),e(),t(44,"div",42),c(45,"input",49),t(46,"button",44),h("click",function(){x(r);let d=u();return v(d.toggleConfirmPasswordVisibility())}),f(47,ie,3,0,"svg",45)(48,oe,2,0,"svg",45),e()(),f(49,se,2,0,"div",50),e(),t(50,"button",51),f(51,ae,2,0,"span",52)(52,le,5,0,"span",53),e()()()()}if(i&2){let r,m,d,y,S,I,M,C,F,s=u();o(11),l("ngIf",s.errorMessage),o(),l("formGroup",s.registerForm),o(6),w("border-red-300",((r=s.registerForm.get("first_name"))==null?null:r.invalid)&&((r=s.registerForm.get("first_name"))==null?null:r.touched)),o(4),w("border-red-300",((m=s.registerForm.get("last_name"))==null?null:m.invalid)&&((m=s.registerForm.get("last_name"))==null?null:m.touched)),o(4),w("border-red-300",((d=s.registerForm.get("company_name"))==null?null:d.invalid)&&((d=s.registerForm.get("company_name"))==null?null:d.touched)),o(4),w("border-red-300",((y=s.registerForm.get("email"))==null?null:y.invalid)&&((y=s.registerForm.get("email"))==null?null:y.touched)),o(5),w("border-red-300",((S=s.registerForm.get("password"))==null?null:S.invalid)&&((S=s.registerForm.get("password"))==null?null:S.touched)),l("type",s.showPassword?"text":"password"),o(2),l("ngIf",!s.showPassword),o(),l("ngIf",s.showPassword),o(),l("ngIf",s.passwordStrength&&((I=s.registerForm.get("password"))==null?null:I.value)),o(),l("ngIf",s.showPasswordRequirements&&((M=s.registerForm.get("password"))==null?null:M.value)),o(5),w("border-red-300",((C=s.registerForm.get("password_confirmation"))==null?null:C.invalid)&&((C=s.registerForm.get("password_confirmation"))==null?null:C.touched)),l("type",s.showConfirmPassword?"text":"password"),o(2),l("ngIf",!s.showConfirmPassword),o(),l("ngIf",s.showConfirmPassword),o(),l("ngIf",(s.registerForm.errors==null?null:s.registerForm.errors.passwordMismatch)&&((F=s.registerForm.get("password_confirmation"))==null?null:F.touched)),o(),l("disabled",s.registerForm.invalid||s.isLoading),o(),l("ngIf",!s.isLoading),o(),l("ngIf",s.isLoading)}}var K=class i{constructor(a,r,m){this.fb=a;this.router=r;this.authService=m;this.registerForm=this.fb.group({first_name:["",[g.required]],last_name:["",[g.required]],company_name:["",[g.required]],email:["",[g.required,g.email]],password:["",[g.required,g.minLength(8),k.strong()]],password_confirmation:["",[g.required]]},{validators:this.passwordMatchValidator}),this.registerForm.get("password")?.valueChanges.subscribe(d=>{this.passwordStrength=k.calculateStrength(d||"")})}registerForm;isLoading=!1;errorMessage="";showSuccessMessage=!1;countdown=60;countdownInterval;passwordStrength=null;showPasswordRequirements=!1;showPassword=!1;showConfirmPassword=!1;passwordMatchValidator(a){let r=a.get("password"),m=a.get("password_confirmation");return r&&m&&r.value===m.value?null:{passwordMismatch:!0}}toggleMode(){this.router.navigate(["/login"])}onSubmit(){this.registerForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.showSuccessMessage=!1,this.authService.register(this.registerForm.value).subscribe({next:a=>{a.success?(this.showSuccessMessage=!0,this.startCountdown()):this.errorMessage=a.message||"Registration failed",this.isLoading=!1},error:a=>{this.errorMessage=a.error?.message||a.error?.error||"An error occurred during registration",this.isLoading=!1}}))}startCountdown(){this.countdown=60,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownInterval),this.router.navigate(["/login"]))},1e3)}getPasswordRequirements(){let a=this.registerForm.get("password")?.value||"";return k.meetsRequirements(a)}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}static \u0275fac=function(r){return new(r||i)(E(Z),E(j),E(A))};static \u0275cmp=q({type:i,selectors:[["app-register"]],decls:26,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],["class","bg-white rounded-2xl shadow-lg p-8 max-w-md mx-auto",4,"ngIf"],[1,"flex","justify-center","space-x-12","text-sm","text-gray-500","mt-8"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"text-blue-800","text-sm"],[1,"font-bold"],[1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","mb-8","bg-gray-100","rounded-lg","p-1"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","text-gray-600","hover:text-gray-800","transition-all","cursor-pointer",3,"click"],["type","button",1,"flex-1","py-2","px-4","text-center","font-medium","rounded-md","bg-blue-600","text-white","transition-all","cursor-pointer"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],["for","first_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","first_name","type","text","formControlName","first_name","placeholder","First name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","last_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","last_name","type","text","formControlName","last_name","placeholder","Last name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","company_name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","company_name","type","text","formControlName","company_name","placeholder","Enter your company name","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email","placeholder","Enter your email","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],["id","password","formControlName","password","placeholder","Create a password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"focus","type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-400","hover:text-gray-600",3,"click"],["class","h-5 w-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-3 p-3 bg-gray-50 rounded-lg",4,"ngIf"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","password_confirmation","formControlName","password_confirmation","placeholder","Confirm your password","required","",1,"w-full","px-3","py-2","pr-10","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400",3,"type"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","mt-6",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","font-medium","text-gray-600"],[1,"text-xs","font-semibold","capitalize",3,"ngClass"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-3","p-3","bg-gray-50","rounded-lg"],[1,"text-xs","font-medium","text-gray-700","mb-2"],[1,"space-y-1"],[1,"text-xs","flex","items-center",3,"ngClass"],[1,"mr-2"],[1,"text-red-500","text-xs","mt-1"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(r,m){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c(5,"img",5),e()(),t(6,"p",6),n(7,"Enterprise Asset Management System"),e()(),f(8,Y,18,1,"div",7)(9,de,53,26,"div",7),t(10,"div",8)(11,"div",9),p(),t(12,"svg",10),c(13,"path",11),e(),b(),t(14,"span"),n(15,"Secure"),e()(),t(16,"div",9),p(),t(17,"svg",10),c(18,"path",12),e(),b(),t(19,"span"),n(20,"Enterprise"),e()(),t(21,"div",9),p(),t(22,"svg",10),c(23,"path",13),e(),b(),t(24,"span"),n(25,"Multi-tenant"),e()()()()()),r&2&&(o(5),l("src","images/logo.png",V),o(3),l("ngIf",m.showSuccessMessage),o(),l("ngIf",!m.showSuccessMessage))},dependencies:[G,N,J,H,B,z,D,W,O,U],encapsulation:2})};export{K as RegisterComponent};
