import{a as F}from"./chunk-2MFR7IWU.js";import{A as L,C as A,c as _,d as g,e as P,f as C,j as E,o as I,r as k,x as M}from"./chunk-E3TUIQ6F.js";import"./chunk-47ABMRM7.js";import{c as S}from"./chunk-6DC6CTDU.js";import"./chunk-GSMNBVZZ.js";import{l as h}from"./chunk-SXJTW2OO.js";import{Gb as e,Hb as t,Ib as p,Pb as c,Qb as x,Ua as b,Xa as n,ab as d,bc as s,cc as y,jb as v,ka as f,ob as u,wb as l,yb as w}from"./chunk-XGV57TRJ.js";import"./chunk-EQDQRRRY.js";function D(i,r){if(i&1&&(e(0,"div",19)(1,"p",20),s(2),t()()),i&2){let a=x();n(2),y(a.errorMessage)}}function G(i,r){i&1&&(e(0,"span"),s(1,"Send Reset Link"),t())}function j(i,r){i&1&&(e(0,"span",21),f(),e(1,"svg",22),p(2,"circle",23)(3,"path",24),t(),s(4," Sending... "),t())}var N=class i{constructor(r,a,o){this.fb=r;this.router=a;this.authService=o;this.forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]})}forgotPasswordForm;isLoading=!1;errorMessage="";onSubmit(){this.forgotPasswordForm.valid&&!this.isLoading&&(this.isLoading=!0,this.errorMessage="",this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:r=>{r.success?this.router.navigate(["/reset-password"]):this.errorMessage=r.message||"Failed to send reset link",this.isLoading=!1},error:r=>{this.errorMessage=r.error?.message||r.error?.error||"An error occurred",this.isLoading=!1}}))}ngOnDestroy(){}goBack(){this.router.navigate(["/login"])}static \u0275fac=function(a){return new(a||i)(d(L),d(S),d(F))};static \u0275cmp=v({type:i,selectors:[["app-forgot-password"]],decls:27,vars:8,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"flex","justify-center","mb-6"],[1,"flex","items-center","space-x-3"],["alt","AssetGo Logo",1,"h-20","w-auto",3,"src"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],["class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","email","type","email","formControlName","email","placeholder","Enter your email address","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","placeholder-gray-400"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-all","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"text-blue-600","hover:text-blue-500","text-sm","font-medium","cursor-pointer",3,"click"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-600","text-sm"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(a,o){if(a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),p(5,"img",5),t()(),e(6,"p",6),s(7,"Enterprise Asset Management System"),t()(),e(8,"div",7)(9,"div",8)(10,"h2",9),s(11,"Forgot Password?"),t(),e(12,"p",6),s(13,"Enter your email address and we'll send you a link to reset your password"),t()(),u(14,D,3,1,"div",10),e(15,"form",11),c("ngSubmit",function(){return o.onSubmit()}),e(16,"div",12)(17,"div")(18,"label",13),s(19,"Email Address"),t(),p(20,"input",14),t(),e(21,"button",15),u(22,G,2,0,"span",16)(23,j,5,0,"span",17),t(),e(24,"div",2)(25,"button",18),c("click",function(){return o.goBack()}),s(26," \u2190 Back to Sign In "),t()()()()()()()),a&2){let m;n(5),l("src","images/logo.png",b),n(9),l("ngIf",o.errorMessage),n(),l("formGroup",o.forgotPasswordForm),n(5),w("border-red-300",((m=o.forgotPasswordForm.get("email"))==null?null:m.invalid)&&((m=o.forgotPasswordForm.get("email"))==null?null:m.touched)),n(),l("disabled",o.forgotPasswordForm.invalid||o.isLoading),n(),l("ngIf",!o.isLoading),n(),l("ngIf",o.isLoading)}},dependencies:[h,A,E,_,P,C,M,I,k],encapsulation:2})};export{N as ForgotPasswordComponent};
