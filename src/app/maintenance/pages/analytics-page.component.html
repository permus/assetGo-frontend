<div class="min-h-screen bg-gray-50 text-gray-900 p-6">
  <div class="flex items-center justify-between mb-4">
    <h1 class="text-xl font-semibold">Preventive Maintenance Analytics</h1>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 metrics-grid">
    <div class="metric-card info">
      <div class="metric-header">
        <div class="title">Total Maintenance</div>
        <div class="badge">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-blue-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.867 19.125h.008v.008h-.008v-.008Z" />
          </svg>
        </div>
      </div>
      <div class="value">{{ stats.totalMaintenance }}</div>
      <div class="hint">0 upcoming</div>
    </div>
    <div class="metric-card success">
      <div class="metric-header">
        <div class="title">Preventive Ratio</div>
        <div class="badge">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-green-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" />
          </svg>
        </div>
      </div>
      <div class="value text-green-600">{{ formatPercentage(stats.preventiveRatio) }}</div>
      <div class="hint">Target: 80%</div>
    </div>
    <div class="metric-card warning">
      <div class="metric-header">
        <div class="title">Avg Cost</div>
        <div class="badge">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-orange-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </div>
      </div>
      <div class="value">{{ formatCurrency(stats.avgCost) }}</div>
      <div class="hint">Per maintenance activity</div>
    </div>
    <div class="metric-card danger">
      <div class="metric-header">
        <div class="title">Avg Duration</div>
        <div class="badge">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-red-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </div>
      </div>
      <div class="value">{{ formatDuration(stats.avgDuration) }}</div>
      <div class="hint">Per maintenance activity</div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="panel">
      <div class="panel-title">Maintenance Trend</div>
      <div class="grid grid-cols-12 gap-1 text-xs text-gray-400">
        <div class="col-span-12 flex items-end h-48 space-x-2">
          <ng-container *ngFor="let v of trendData; let i = index">
            <div class="bar" [style.height.%]="(v || 0) * 12" [attr.title]="trendLabels[i] + ': ' + v"></div>
          </ng-container>
        </div>
        <div class="col-span-12 flex justify-between mt-2">
          <span *ngFor="let l of trendLabels">{{ l }}</span>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Maintenance Types</div>
      <div *ngIf="typeBreakdown.length === 0" class="flex items-center justify-center h-48 text-gray-400 text-sm">
        No maintenance types data available
      </div>
      <div *ngIf="typeBreakdown.length > 0" class="flex items-end h-48 space-x-3">
        <div *ngFor="let t of typeBreakdown" class="w-12">
          <div class="bar bg-purple-500" [style.height.%]="t.normalizedValue || 0" [attr.title]="t.name + ': ' + t.value"></div>
          <div class="text-xs text-center mt-1">{{ t.name }}</div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel mt-4">
    <div class="panel-title">Maintenance Costs</div>
    <div class="grid grid-cols-12 gap-1 text-xs text-gray-400">
      <div class="col-span-12 flex items-end h-48 space-x-2">
        <ng-container *ngFor="let v of monthlyCostsData; let i = index">
          <div class="bar bg-emerald-500" [style.height.%]="(v || 0)" [attr.title]="monthlyCostsLabels[i] + ': ' + formatCurrency(monthlyCostsActual[i] || 0)"></div>
        </ng-container>
      </div>
      <div class="col-span-12 flex justify-between mt-2">
        <span *ngFor="let l of monthlyCostsLabels">{{ l }}</span>
      </div>
    </div>
  </div>

  <div class="panel mt-4">
    <div class="panel-title !mb-0">Key Insights</div>
    <p class="text-sm text-gray-500 mb-3">Automated analysis of your maintenance performance</p>
    <ul class="list-none text-sm  text-lg">
      <li class="flex items-center gap-2 text-md text-yellow-400 mb-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" />
        </svg>
        Consider increasing preventive maintenance to reduce corrective work.</li>
      <li class=" flex items-center gap-2 text-md text-gray-500">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M4.867 19.125h.008v.008h-.008v-.008Z" />
        </svg>

        No maintenance history found. Start by completing some maintenance activities.</li>
    </ul>
  </div>
</div>


