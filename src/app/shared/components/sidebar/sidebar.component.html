<aside class="bg-white border-gray-200 h-screen fixed top-0 z-40 transition-all duration-300 ease-in-out overflow-y-auto"
       [class.w-64]="sidebarOpen" [class.w-16]="!sidebarOpen"
       [class.left-0]="!isRtl()" [class.right-0]="isRtl()"
       [class.border-r]="!isRtl()" [class.border-l]="isRtl()">
  <!-- Logo -->
  <div [ngClass]="!sidebarOpen ? 'px-2 py-6' : 'flex items-center space-x-2 p-6'">
    <img [src]="'images/logo-short.png'" alt="AssetGo Logo"
         [class.h-10]="sidebarOpen"
         [class.w-auto]="sidebarOpen"
         [class.size-10]="!sidebarOpen"
         [class.object-contain]="!sidebarOpen">
    <h3 class="text-2xl text-gray-900" [ngClass]="!sidebarOpen ? 'hidden' : ''">
      <span class="font-bold">Asset</span>Go
    </h3>
  </div>

  <nav class="p-4" [class.p-4]="sidebarOpen" [class.p-2]="!sidebarOpen">
    <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4"
         [ngClass]="!sidebarOpen ? 'hidden' : ''">Navigation
    </div>

    <ul [ngClass]="!sidebarOpen ? 'space-y-2' : 'space-y-3'">
      <li *ngFor="let module of visibleModuleList()">
        <a [routerLink]="getModuleRoute(module)" 
           routerLinkActive="bg-blue-50 text-blue-700"
           class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 cursor-pointer hover:bg-gray-100"
           [class.!block]="!sidebarOpen">
          <ng-container [ngSwitch]="getModuleIcon(module)">
            <!-- Chart Column (Dashboard) -->
            <svg *ngSwitchCase="'chart-column'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M3 3v16a2 2 0 0 0 2 2h16"></path>
              <path d="M18 17V9"></path>
              <path d="M13 17V5"></path>
              <path d="M8 17v-3"></path>
            </svg>
            <!-- Package (Assets) -->
            <svg *ngSwitchCase="'package'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path>
              <path d="M12 22V12"></path>
              <path d="m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"></path>
              <path d="m7.5 4.27 9 5.15"></path>
            </svg>
            <!-- Map Pin (Locations) -->
            <svg *ngSwitchCase="'map-pin'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <!-- User (Roles) -->
            <svg *ngSwitchCase="'user'" class="w-5 h-5" [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 [class]="getModuleIconColor(module)">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <!-- Clipboard (Work Orders) -->
            <svg *ngSwitchCase="'clipboard'" class="w-5 h-5" [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 [class]="getModuleIconColor(module)">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
            </svg>
            <!-- Users (Teams) -->
            <svg *ngSwitchCase="'users'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <!-- Calendar (Maintenance) -->
            <svg *ngSwitchCase="'calendar'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M8 2v4"></path>
              <path d="M16 2v4"></path>
              <rect width="18" height="18" x="3" y="4" rx="2"></rect>
              <path d="M3 10h18"></path>
            </svg>
            <!-- Warehouse (Inventory) -->
            <svg *ngSwitchCase="'warehouse'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z"></path>
              <path d="M6 18h12"></path>
              <path d="M6 14h12"></path>
              <rect width="12" height="12" x="6" y="10"></rect>
            </svg>
            <!-- Bot (AI Features) -->
            <svg *ngSwitchCase="'bot'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M12 8V4H8"></path>
              <rect width="16" height="12" x="4" y="8" rx="2"></rect>
              <path d="M2 14h2"></path>
              <path d="M20 14h2"></path>
              <path d="M15 13v2"></path>
              <path d="M9 13v2"></path>
            </svg>
            <!-- File Text (Reports) -->
            <svg *ngSwitchCase="'file-text'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
              <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
              <path d="M10 9H8"></path>
              <path d="M16 13H8"></path>
              <path d="M16 17H8"></path>
            </svg>
            <!-- Settings -->
            <svg *ngSwitchCase="'settings'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <!-- Clock (SLA) -->
            <svg *ngSwitchCase="'clock'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <!-- Radio (Sensors) -->
            <svg *ngSwitchCase="'radio'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"></path>
              <path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"></path>
              <circle cx="12" cy="12" r="2"></circle>
              <path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"></path>
              <path d="M19.1 4.9c3.9 3.9 3.9 10.3 0 14.2"></path>
            </svg>
            <!-- Globe (eServices) -->
            <svg *ngSwitchCase="'globe'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="2" y1="12" x2="22" y2="12"></line>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
            <!-- Door Open (Tenant Portal) -->
            <svg *ngSwitchCase="'door-open'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M13 4h3a2 2 0 0 1 2 2v14"></path>
              <path d="M2 20h3"></path>
              <path d="M13 20h9"></path>
              <path d="M10 12v.01"></path>
              <path d="M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V6a2 2 0 0 1 2-2h4.036a2 2 0 0 1 1.582.782l1.221 1.645a2 2 0 0 0 1.582.782H13Z"></path>
            </svg>
            <!-- Tool (Maintenance Requests) -->
            <svg *ngSwitchCase="'tool'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
            </svg>
            <!-- Calendar Check (Amenity Bookings) -->
            <svg *ngSwitchCase="'calendar-check'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M8 2v4"></path>
              <path d="M16 2v4"></path>
              <rect width="18" height="18" x="3" y="4" rx="2"></rect>
              <path d="M3 10h18"></path>
              <path d="m9 16 2 2 4-4"></path>
            </svg>
            <!-- Arrow Right Left (Move In/Out Requests) -->
            <svg *ngSwitchCase="'arrow-right-left'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="m16 3 4 4-4 4"></path>
              <path d="M20 7H4"></path>
              <path d="m8 21-4-4 4-4"></path>
              <path d="M4 17h16"></path>
            </svg>
            <!-- Hammer (Fitout Requests) -->
            <svg *ngSwitchCase="'hammer'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"></path>
              <path d="M17.64 15 22 10.64"></path>
              <path d="m14.91 2.5 3.59 3.59"></path>
              <path d="m18.5 5.09-3.59-3.59"></path>
              <path d="m21.5 8.09-3.59-3.59"></path>
            </svg>
            <!-- Briefcase (Inhouse Services) -->
            <svg *ngSwitchCase="'briefcase'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <rect width="20" height="14" x="2" y="7" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
            <!-- Package Check (Parcel Management) -->
            <svg *ngSwitchCase="'package-check'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
              <line x1="12" y1="22.08" x2="12" y2="12"></line>
              <path d="m9 13 2 2 4-4"></path>
            </svg>
            <!-- User Check (Visitor Management) -->
            <svg *ngSwitchCase="'user-check'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <polyline points="16 11 18 13 22 9"></polyline>
            </svg>
            <!-- Building 2 (Business Directory) -->
            <svg *ngSwitchCase="'building-2'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"></path>
              <path d="M6 12h12"></path>
              <path d="M6 6h12"></path>
              <path d="M6 18h12"></path>
              <path d="M10 2v20"></path>
              <path d="M14 2v20"></path>
            </svg>
            <!-- Message Square (Tenant Communication) -->
            <svg *ngSwitchCase="'message-square'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            <!-- Default icon -->
            <svg *ngSwitchDefault xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 [class]="'h-5 w-5 ' + getModuleIconColor(module)"
                 [class.mr-3]="!isRtl()" [class.ml-3]="isRtl()">
              <circle cx="12" cy="12" r="10"></circle>
            </svg>
          </ng-container>
          <span [ngClass]="!sidebarOpen ? 'hidden' : ''">{{ module.display_name }}</span>
        </a>
      </li>
    </ul>
  </nav>
</aside>

