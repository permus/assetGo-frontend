<!-- Pagination Component -->
<div class="flex flex-col rounded-xl sm:flex-row sm:items-center sm:justify-between bg-white px-6 py-4 border-t border-gray-200">

  <!-- Left: Per Page Selector -->
  <div *ngIf="showPerPageSelector" class="flex items-center space-x-2 mb-4 sm:mb-0">
    <label for="per-page" class="text-sm text-gray-700">Show:</label>
    <select
      id="per-page"
      [value]="pagination.per_page"
      (change)="onPerPageChange($event)"
      class="px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
      <option *ngFor="let option of perPageOptions" [value]="option">
        {{ option }}
      </option>
    </select>
    <span class="text-sm text-gray-700">per page</span>
  </div>

  <!-- Center: Pagination Controls -->
  <div *ngIf="pagination.last_page > 1" class="flex items-center justify-center mb-4 sm:mb-0">
    <nav class="flex items-center space-x-1" aria-label="Pagination">

      <!-- Previous Button -->
      <button
        (click)="previousPage()"
        [disabled]="pagination.current_page === 1"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               disabled:opacity-50 disabled:cursor-not-allowed
               enabled:hover:bg-gray-50 enabled:text-gray-700
               bg-white border border-gray-300 text-gray-500">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>

      <!-- First Page (if not in visible range) -->
      <button
        *ngIf="visiblePages.length > 0 && visiblePages[0] > 1"
        (click)="goToPage(1)"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700">
        1
      </button>

      <!-- Start Ellipsis -->
      <span *ngIf="showStartEllipsis" class="flex items-center justify-center w-10 h-10 text-gray-400">
        ...
      </span>

      <!-- Page Numbers -->
      <button
        *ngFor="let page of visiblePages"
        (click)="goToPage(page)"
        [class]="pagination.current_page === page ?
                  'bg-blue-600 text-white border-blue-600 shadow-sm' :
                  'bg-white text-gray-500 border-gray-300 hover:bg-gray-50 hover:text-gray-700'"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg border transition-colors">
        {{ page }}
      </button>

      <!-- End Ellipsis -->
      <span *ngIf="showEndEllipsis" class="flex items-center justify-center w-10 h-10 text-gray-400">
        ...
      </span>

      <!-- Last Page (if not in visible range) -->
      <button
        *ngIf="visiblePages.length > 0 && visiblePages[visiblePages.length - 1] < pagination.last_page"
        (click)="goToPage(pagination.last_page)"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               bg-white text-gray-500 border border-gray-300 hover:bg-gray-50 hover:text-gray-700">
        {{ pagination.last_page }}
      </button>

      <!-- Next Button -->
      <button
        (click)="nextPage()"
        [disabled]="pagination.current_page === pagination.last_page"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg transition-colors
               disabled:opacity-50 disabled:cursor-not-allowed
               enabled:hover:bg-gray-50 enabled:text-gray-700
               bg-white border border-gray-300 text-gray-500">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>

    </nav>
  </div>

  <!-- Right: Pagination Info and Jump to Page -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">

    <!-- Pagination Info -->
    <div class="text-sm text-gray-700 text-center sm:text-left mb-2 sm:mb-0">
      Showing {{ pagination.from }} - {{ pagination.to }} of {{ pagination.total }} entries
    </div>

    <!-- Jump to Page (only show if there are many pages) -->
    <div *ngIf="showJumpToPage && pagination.last_page > 10" class="flex items-center space-x-2">
      <label for="jump-page" class="text-sm text-gray-700">Go to:</label>
      <input
        id="jump-page"
        type="number"
        [(ngModel)]="jumpToPage"
        [min]="1"
        [max]="pagination.last_page"
        (keyup.enter)="onJumpToPage()"
        class="w-16 px-2 py-1 border border-gray-300 rounded text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        [placeholder]="pagination.current_page.toString()">
      <button
        (click)="onJumpToPage()"
        [disabled]="!jumpToPage || jumpToPage < 1 || jumpToPage > pagination.last_page"
        class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
        Go
      </button>
    </div>

  </div>

</div>
