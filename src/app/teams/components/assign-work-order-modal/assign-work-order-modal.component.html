<div class="modal-overlay" (click)="close()">
  <div class="modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Assign Work Order to {{ teamMemberName }}</h3>
      <button class="close-btn" (click)="close()">Ã—</button>
    </div>
    
    <p class="subtitle">Select a work order to assign to this team member</p>
    
    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    
    <div class="form-group">
      <app-global-dropdown
        label="Available Work Orders"
        [required]="true"
        [options]="workOrders"
        [selectedOption]="selectedWorkOrder"
        placeholder="Select a work order"
        [searchable]="true"
        [disabled]="loading"
        (selectionChange)="selectWorkOrder($event)">
      </app-global-dropdown>
    </div>
    
    <div class="form-group">
      <label>Due Date (Optional)</label>
      <input class="input" type="datetime-local" [(ngModel)]="dueDate" (input)="onInputChange()" />
    </div>
    
    <div class="form-group">
      <label>Assignment Notes (Optional)</label>
      <textarea class="textarea" rows="5" [(ngModel)]="notes" (input)="onInputChange()" placeholder="Add any specific instructions or notes for this assignment..."></textarea>
    </div>
    
    <div class="modal-actions">
      <button class="btn secondary" (click)="close()">Cancel</button>
      <button class="btn primary" [disabled]="!selectedWorkOrderId || loading" (click)="submit()">
        <span *ngIf="loading">Assigning...</span>
        <span *ngIf="!loading">Assign Work Order</span>
      </button>
    </div>
  </div>
</div>


