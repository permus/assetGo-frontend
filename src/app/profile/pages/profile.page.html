<div class="profile-page">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-left">
        <h1 class="page-title">Profile Settings</h1>
        <p class="page-subtitle">Manage your account information and password</p>
      </div>
      
      <!-- User Avatar -->
      <div class="header-right">
        <div class="user-avatar">
          <div class="avatar-circle">
            {{ getUserInitials() }}
          </div>
          <div class="avatar-info">
            <div class="user-name">{{ userProfile?.first_name }} {{ userProfile?.last_name }}</div>
            <div class="user-email">{{ userProfile?.email }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Success/Error Messages -->
  <div *ngIf="successMessage" class="alert alert-success">
    <svg class="alert-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    {{ successMessage }}
  </div>

  <div *ngIf="error" class="alert alert-error">
    <svg class="alert-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    {{ error }}
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Loading profile information...</p>
  </div>

  <!-- Main Content -->
  <div *ngIf="!loading && userProfile" class="profile-content">
    <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'profile'"
        (click)="setActiveTab('profile')">
        <svg class="tab-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        Personal Information
      </button>
      
      <button 
        class="tab-button" 
        [class.active]="activeTab === 'password'"
        (click)="setActiveTab('password')">
        <svg class="tab-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"></path>
        </svg>
        Change Password
      </button>
    </div>

    <!-- Tab Content -->
    <div class="tab-content">
      <!-- Personal Information Tab -->
      <div *ngIf="activeTab === 'profile'" class="tab-panel">
        <div class="panel-header">
          <h2 class="panel-title">Personal Information</h2>
          <p class="panel-subtitle">Update your personal details and contact information</p>
        </div>
        
        <app-profile-form 
          [userProfile]="userProfile"
          (profileUpdated)="onProfileUpdated($event)">
        </app-profile-form>
      </div>

      <!-- Change Password Tab -->
      <div *ngIf="activeTab === 'password'" class="tab-panel">
        <div class="panel-header">
          <h2 class="panel-title">Change Password</h2>
          <p class="panel-subtitle">Update your password to keep your account secure</p>
        </div>
        
        <app-password-change-form 
          (passwordChanged)="onPasswordChanged()">
        </app-password-change-form>
      </div>

    </div>
  </div>
</div>
