<div class="password-form-card">
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="password-form">
    <!-- Error Message -->
    <div *ngIf="error" class="form-error">
      <svg class="error-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      {{ error }}
    </div>

    <div class="form-grid">
      <!-- Current Password -->
      <div class="form-group">
        <label for="current_password" class="form-label">
          Current Password <span class="required">*</span>
        </label>
        <input
          id="current_password"
          type="password"
          formControlName="current_password"
          class="form-input"
          [class.error]="hasFieldError('current_password')"
          placeholder="Enter your current password">
        <div *ngIf="hasFieldError('current_password')" class="field-error">
          {{ getFieldError('current_password') }}
        </div>
      </div>

      <!-- New Password -->
      <div class="form-group">
        <label for="password" class="form-label">
          New Password <span class="required">*</span>
        </label>
        <input
          id="password"
          type="password"
          formControlName="password"
          class="form-input"
          [class.error]="hasFieldError('password')"
          placeholder="Enter your new password">
        <div *ngIf="hasFieldError('password')" class="field-error">
          {{ getFieldError('password') }}
        </div>
        <div class="form-help">
          Password must be at least 8 characters long
        </div>
      </div>

      <!-- Confirm New Password -->
      <div class="form-group">
        <label for="password_confirmation" class="form-label">
          Confirm New Password <span class="required">*</span>
        </label>
        <input
          id="password_confirmation"
          type="password"
          formControlName="password_confirmation"
          class="form-input"
          [class.error]="hasFieldError('password_confirmation')"
          placeholder="Confirm your new password">
        <div *ngIf="hasFieldError('password_confirmation')" class="field-error">
          {{ getFieldError('password_confirmation') }}
        </div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="loading || passwordForm.invalid">
        <span *ngIf="loading" class="loading-spinner"></span>
        {{ loading ? 'Changing...' : 'Change Password' }}
      </button>
    </div>
  </form>
</div>
